<?php /* <ViaThinkSoftSignature>
h3fZlbbqqRmvlv8S5/RyFMppnFm1JhcD14zWHkUUNjEP+zDUm+96QgYb6gQcXfXHZ
t9OXFHvYVfEk3HY9SiaeirNiSzrjjWCoVuoKI1dZ+Y06KsGB47vRAZId0JtgSIFJ2
gYZoB1qqwlxojveBVNsoQTD/fx86u96j3gSM4MGMBLAUw+5h7VCGgDusWuRT/5xnZ
nEf7fNwLOLfvX5TP2VFOt0CUD4lYY+va3DDPvlHM88++UIWllq1wY3QIhGXi4QnuN
glnlMbB3x8gm6bWpLvXHBJ27VTuOC4TC8HXA8j6bM3gqwnGs6VtepcFbnZhiufE0E
9sCHuxeQ0csZry7L12rSKqBZ7VFo80arZC/6AiXtDoC0fVnbp3Rfy5Djczm6bgq3d
jPEDAaiLPNL+2JlIsGZv34herPm/NEjfF3ESVZkREuI0tK6zVpOOodunmptN+BFrx
2N3z7Ykia0qffxI78etv8nds5orAvqivG/cwOQpJQKMrBO6vPm5QVTgesolVg7HWA
leztL4Lmc/SD3GLqpaq48Pk3CkP5sxLVta0ZBo7cu1pW4/XzpCiiPzrLUAYVH8PpK
X2MXvhgI6JZC3edmTl5PEGMLmDAwKgrcVYVng+1jYRQye0iZ+SOkH6Dg1tO3yH5Qr
Vl6lfxaHPh4Nx/SHkoIy34sazqh9NLqgCte5qJTYdCySUsX6GnX2YU2uK6eKgXndj
g1TWRMLf4lyGOyB/0K7QpsDxxpkFMB3oZtdmIp43Yem92TlKXfQytVEOSP6KHcpjq
kq2FYl+UN91K0OloKigEEAmj7ttN/pQx1rKe4kmz9rlCNjKyFWZCqF3LMiPXTPXzu
e8Ceyf5HMxfooBvrYsmKae8QrW98FaEAp7KcfsxujHjJSZxvZdUQ/KY2DpDEpk00X
5HO4euMnK7rCPVp1C+1HP85Jm4y+rq/ZTlYjm20jg30tcBnXFYl618AwCkG22/IaV
RJZfT3Vmyd+IrQluShYbpDOTaOOZKwi9OsuGlrG4B6JvOvkdgImD7Rmm2KbtRqDhm
vp/ANoCnD7DobFz5bdmOpUGHFShSBw1ImeEdI0codqJuaIwmHlj6AnVqCvPYglVsA
jH2szwrmy3d32o/TOlItF002C2S7Hlt9bOLgt8zaq+qGwu8GiXlGqEMgdnQGPklg7
mDXJScyobAcXawwQPiAzX9uDND6IHUrn7nROJ1a88MC2z7BkrkoP4LfSLyOWklSv9
cdDOPEBMtkVggFgLqbtLd2RdhHUsVVaaX82uzladtCZVFAR5naqs3TXrxhUo8CLrj
cyjgWgU9jCHJ3xTrm7Q/KZyMQ0SPrxaGXeGGaDW7IRpzrRN49qosojJk7L3O5L9Sa
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 978') {
	err('This update can only be applied to OIDplus version 2.0.0.978!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppZiAoIWRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykpIGRpZSgpOwoKY2xhc3MgT0lEcGx1c09pZEFzbjFJZCB7Cglwcml2YXRlICRuYW1lID0gJyc7Cglwcml2YXRlICRzdGFuZGFyZGl6'));
	@fwrite($fp, base64_decode('ZWQgPSBmYWxzZTsKCXByaXZhdGUgJHdlbGxfa25vd24gPSBmYWxzZTsKCWZ1bmN0aW9uIF9fY29uc3RydWN0KCRuYW1lLCAkc3RhbmRhcmRpemVkLCAkd2VsbF9rbm93bikgewoJCSR0aGlzLT5uYW1lID0gJG5hbWU7CgkJJHRoaXMtPnN0YW5kYXJkaXplZCA9ICRz'));
	@fwrite($fp, base64_decode('dGFuZGFyZGl6ZWQ7CgkJJHRoaXMtPndlbGxfa25vd24gPSAkd2VsbF9rbm93bjsKCX0KCWZ1bmN0aW9uIGdldE5hbWUoKSB7CgkJcmV0dXJuICR0aGlzLT5uYW1lOwoJfQoJZnVuY3Rpb24gaXNTdGFuZGFyZGl6ZWQoKSB7CgkJcmV0dXJuICR0aGlzLT5zdGFuZGFy'));
	@fwrite($fp, base64_decode('ZGl6ZWQ7Cgl9CglmdW5jdGlvbiBpc1dlbGxLbm93bigpIHsKCQlyZXR1cm4gJHRoaXMtPndlbGxfa25vd247Cgl9CglmdW5jdGlvbiBfX3RvU3RyaW5nKCkgewoJCXJldHVybiAkdGhpcy0+bmFtZTsKCX0KfQo='));
	@fclose($fp);
}
if (is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php') && (sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php') != 'b98bb7c905244c9593558d96b8981ce71fd503ed')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php');
	$tmp = pathinfo('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php')) {
	warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php');
} else if (sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php') != 'b98bb7c905244c9593558d96b8981ce71fd503ed') {
	warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php', 0644)) {
	warn('Could not change file permissions of plugins/viathinksoft/objectTypes/oid/OIDplusOidAsn1Id.class.php');
}

// File added: plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php
function writefile_2() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppZiAoIWRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykpIGRpZSgpOwoKY2xhc3MgT0lEcGx1c09pZElyaSB7Cglwcml2YXRlICRuYW1lID0gJyc7Cglwcml2YXRlICRsb25nYXJjID0gZmFs'));
	@fwrite($fp, base64_decode('c2U7Cglwcml2YXRlICR3ZWxsX2tub3duID0gZmFsc2U7CglmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbmFtZSwgJGxvbmdhcmMsICR3ZWxsX2tub3duKSB7CgkJJHRoaXMtPm5hbWUgPSAkbmFtZTsKCQkkdGhpcy0+bG9uZ2FyYyA9ICRsb25nYXJjOwoJCSR0aGlzLT53'));
	@fwrite($fp, base64_decode('ZWxsX2tub3duID0gJHdlbGxfa25vd247Cgl9CglmdW5jdGlvbiBnZXROYW1lKCkgewoJCXJldHVybiAkdGhpcy0+bmFtZTsKCX0KCWZ1bmN0aW9uIGlzTG9uZ2FyYygpIHsKCQlyZXR1cm4gJHRoaXMtPmxvbmdhcmM7Cgl9CglmdW5jdGlvbiBpc1dlbGxLbm93bigp'));
	@fwrite($fp, base64_decode('IHsKCQlyZXR1cm4gJHRoaXMtPndlbGxfa25vd247Cgl9CglmdW5jdGlvbiBfX3RvU3RyaW5nKCkgewoJCXJldHVybiAkdGhpcy0+bmFtZTsKCX0KfQo='));
	@fclose($fp);
}
if (is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php') && (sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php') != '05d493d6cb6fca6b6712b77a7eb2693527d88367')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php');
	$tmp = pathinfo('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_2();
if (!is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php')) {
	warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php');
} else if (sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php') != '05d493d6cb6fca6b6712b77a7eb2693527d88367') {
	warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php', 0644)) {
	warn('Could not change file permissions of plugins/viathinksoft/objectTypes/oid/OIDplusOidIri.class.php');
}

// Files different: includes/classes/OIDplusObject.class.php
function writefile_3() {
	@$fp = fopen('includes/classes/OIDplusObject.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppZiAoIWRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykpIGRpZSgpOwoKYWJzdHJhY3QgY2xhc3MgT0lEcGx1c09iamVjdCBleHRlbmRzIE9JRHBsdXNCYXNlQ2xhc3MgewoJY29uc3QgVVVJ'));
	@fwrite($fp, base64_decode('RF9OQU1FQkFTRURfTlNfT2lkUGx1c01pc2MgPSAnYWQxNjU0ZTYtN2UxNS0xMWU0LTllZjYtNzhlM2I1ZmM3ZjIyJzsKCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHBhcnNlKCRub2RlX2lkKSB7IC8vIHBsZWFzZSBvdmVyd3JpdGUgdGhpcyBmdW5jdGlvbiEKCQlm'));
	@fwrite($fp, base64_decode('b3JlYWNoIChPSURwbHVzOjpnZXRFbmFibGVkT2JqZWN0VHlwZXMoKSBhcyAkb3QpIHsKCQkJdHJ5IHsKCQkJCSRnb29kID0gZmFsc2U7CgkJCQlpZiAoZ2V0X3BhcmVudF9jbGFzcygkb3QpID09ICdPSURwbHVzT2JqZWN0JykgewoJCQkJCSRyZWZsZWN0b3IgPSBu'));
	@fwrite($fp, base64_decode('ZXcgXFJlZmxlY3Rpb25NZXRob2QoJG90LCAncGFyc2UnKTsKCQkJCQkkaXNJbXBsZW1lbnRlZCA9ICgkcmVmbGVjdG9yLT5nZXREZWNsYXJpbmdDbGFzcygpLT5nZXROYW1lKCkgPT09ICRvdCk7CgkJCQkJaWYgKCRpc0ltcGxlbWVudGVkKSB7IC8vIGF2b2lkIGVu'));
	@fwrite($fp, base64_decode('ZGxlc3MgbG9vcCBpZiBwYXJzZSBpcyBub3Qgb3ZlcnJpZGVuCgkJCQkJCSRnb29kID0gdHJ1ZTsKCQkJCQl9CgkJCQl9CgkJCQkvLyBXZSBuZWVkIHRvIGRvIHRoZSB3b3JrYXJvdW5kIHdpdGggIiRnb29kIiwgb3RoZXJ3aXNlIFBIUHN0YW4gc2hvd3MKCQkJCS8v'));
	@fwrite($fp, base64_decode('ICJDYWxsIHRvIGFuIHVuZGVmaW5lZCBzdGF0aWMgbWV0aG9kIG9iamVjdDo6cGFyc2UoKSIKCQkJCWlmICgkZ29vZCAmJiAkb2JqID0gJG90OjpwYXJzZSgkbm9kZV9pZCkpIHJldHVybiAkb2JqOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHt9CgkJfQoJCXJl'));
	@fwrite($fp, base64_decode('dHVybiBudWxsOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiAvKk9JRHBsdXNBbHRJZFtdKi8gZ2V0QWx0SWRzKCkgewoJCWlmICgkdGhpcy0+aXNSb290KCkpIHJldHVybiBhcnJheSgpOwoKCQkkaWRzID0gYXJyYXkoKTsKCQlpZiAoJHRoaXMtPm5zKCkgIT0gJ29pZCcp'));
	@fwrite($fp, base64_decode('IHsKCQkJLy8gQ3JlYXRlcyBhbiBPSURwbHVzLUhhc2gtT0lECgkJCSRzaWQgPSBPSURwbHVzOjpnZXRTeXN0ZW1JZCh0cnVlKTsKCQkJaWYgKCFlbXB0eSgkc2lkKSkgewoJCQkJJG5zX29pZCA9ICR0aGlzLT5nZXRQbHVnaW4oKS0+Z2V0TWFuaWZlc3QoKS0+Z2V0'));
	@fwrite($fp, base64_decode('T2lkKCk7CgkJCQlpZiAoc3RyX3N0YXJ0c193aXRoKCRuc19vaWQsICcxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi4nKSkgewoJCQkJCS8vIE9mZmljaWFsIFZpYVRoaW5rU29mdCBvYmplY3QgdHlwZSBwbHVnaW5zCgkJCQkJLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRp'));
	@fwrite($fp, base64_decode('YmlsaXR5IHdpdGggZXhpc3RpbmcgSURzLAoJCQkJCS8vIHNldCB0aGUgaGFzaF9wYXlsb2FkIGFzICc8bmFtZXNwYWNlPjo8aWQ+JwoJCQkJCSRoYXNoX3BheWxvYWQgPSAkdGhpcy0+bm9kZUlkKHRydWUpOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyBUaGlyZC1wYXJ0'));
	@fwrite($fp, base64_decode('eSBvYmplY3QgdHlwZSBwbHVnaW5zCgkJCQkJLy8gU2V0IHRoZSBoYXNoX3BheWxvYWQgYXMgJzxwbHVnaW4gb2lkPjo8aWQ+JwoJCQkJCSRoYXNoX3BheWxvYWQgPSAkbnNfb2lkLic6Jy4kdGhpcy0+bm9kZUlkKGZhbHNlKTsKCQkJCX0KCQkJCSRvaWQgPSAkc2lk'));
	@fwrite($fp, base64_decode('IC4gJy4nIC4gc21hbGxoYXNoKCRoYXNoX3BheWxvYWQpOwoJCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnb2lkJywgJG9pZCwgX0woJ09JRHBsdXMgSW5mb3JtYXRpb24gT2JqZWN0IElEJykpOwoJCQl9CgoJCQkvLyBNYWtlIGEgbmFtZWJhc2VkIFVVSUQs'));
	@fwrite($fp, base64_decode('IGJ1dC4uLgoJCQkvLyAuLi4gZXhjbHVkZSBHVUlELCBiZWNhdXNlIGEgR1VJRCBpcyBhbHJlYWR5IGEgR1VJRAoJCQkvLyAuLi4gZXhjbHVkZSBPSUQsIGJlY2F1c2UgYW4gT0lEIGFscmVhZHkgaGFzIGEgcmVjb3JkIFVVSURfTkFNRUJBU0VEX05TX09JRCBzZXQg'));
	@fwrite($fp, base64_decode('IGJ5IGNsYXNzIE9JRHBsdXNPaWQKCQkJaWYgKCR0aGlzLT5ucygpICE9ICdndWlkJykgewoJCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnZ3VpZCcsIGdlbl91dWlkX21kNV9uYW1lYmFzZWQoc2VsZjo6VVVJRF9OQU1FQkFTRURfTlNfT2lkUGx1c01pc2Ms'));
	@fwrite($fp, base64_decode('ICR0aGlzLT5ub2RlSWQoKSksIF9MKCdOYW1lIGJhc2VkIHZlcnNpb24gMyAvIE1ENSBVVUlEIHdpdGggbmFtZXNwYWNlICUxJywnVVVJRF9OQU1FQkFTRURfTlNfT2lkUGx1c01pc2MnKSk7CgkJCQkkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdndWlkJywgZ2Vu'));
	@fwrite($fp, base64_decode('X3V1aWRfc2hhMV9uYW1lYmFzZWQoc2VsZjo6VVVJRF9OQU1FQkFTRURfTlNfT2lkUGx1c01pc2MsICR0aGlzLT5ub2RlSWQoKSksIF9MKCdOYW1lIGJhc2VkIHZlcnNpb24gNSAvIFNIQTEgVVVJRCB3aXRoIG5hbWVzcGFjZSAlMScsJ1VVSURfTkFNRUJBU0VEX05T'));
	@fwrite($fp, base64_decode('X09pZFBsdXNNaXNjJykpOwoJCQl9CgkJfQoJCXJldHVybiAkaWRzOwoJfQoKCXB1YmxpYyBhYnN0cmFjdCBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRpdGxlKCk7CgoJcHVibGljIGFic3RyYWN0IHN0YXRpYyBmdW5jdGlvbiBvYmplY3RUeXBlVGl0bGVTaG9y'));
	@fwrite($fp, base64_decode('dCgpOwoKCXB1YmxpYyBmdW5jdGlvbiBnZXRQbHVnaW4oKS8qOiA/T0lEcGx1c09iamVjdFR5cGVQbHVnaW4gKi8gewoJCSRyZXMgPSBudWxsOwoJCSRwbHVnaW5zID0gT0lEcGx1czo6Z2V0T2JqZWN0VHlwZVBsdWdpbnMoKTsKCQlmb3JlYWNoICgkcGx1Z2lucyBh'));
	@fwrite($fp, base64_decode('cyAkcGx1Z2luKSB7CgkJCWlmIChnZXRfY2xhc3MoJHRoaXMpID09ICRwbHVnaW46OmdldE9iamVjdFR5cGVDbGFzc05hbWUoJHRoaXMpKSB7CgkJCQlyZXR1cm4gJHBsdWdpbjsKCQkJfQoJCX0KCQlyZXR1cm4gJHJlczsKCX0KCglwdWJsaWMgYWJzdHJhY3Qgc3Rh'));
	@fwrite($fp, base64_decode('dGljIGZ1bmN0aW9uIG5zKCk7CgoJcHVibGljIGFic3RyYWN0IHN0YXRpYyBmdW5jdGlvbiByb290KCk7CgoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGlzUm9vdCgpOwoKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiBub2RlSWQoJHdpdGhfbnM9dHJ1ZSk7CgoJ'));
	@fwrite($fp, base64_decode('cHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGFkZFN0cmluZygkc3RyKTsKCglwdWJsaWMgYWJzdHJhY3QgZnVuY3Rpb24gY3J1ZFNob3dJZChPSURwbHVzT2JqZWN0ICRwYXJlbnQpOwoKCXB1YmxpYyBmdW5jdGlvbiBjcnVkSW5zZXJ0UHJlZml4KCkgewoJCXJldHVy'));
	@fwrite($fp, base64_decode('biAnJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY3J1ZEluc2VydFN1ZmZpeCgpIHsKCQlyZXR1cm4gJyc7Cgl9CgoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGpzVHJlZU5vZGVOYW1lKE9JRHBsdXNPYmplY3QgJHBhcmVudCA9IG51bGwpOwoKCXB1YmxpYyBhYnN0'));
	@fwrite($fp, base64_decode('cmFjdCBmdW5jdGlvbiBkZWZhdWx0VGl0bGUoKTsKCglwdWJsaWMgYWJzdHJhY3QgZnVuY3Rpb24gaXNMZWFmTm9kZSgpOwoKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiBnZXRDb250ZW50UGFnZSgmJHRpdGxlLCAmJGNvbnRlbnQsICYkaWNvbik7CgoJcHVibGlj'));
	@fwrite($fp, base64_decode('IHN0YXRpYyBmdW5jdGlvbiBnZXRSYVJvb3RzKCRyYV9lbWFpbD1udWxsKSB7CgkJaWYgKCRyYV9lbWFpbCBpbnN0YW5jZW9mIE9JRHBsdXNSQSkgJHJhX2VtYWlsID0gJHJhX2VtYWlsLT5yYUVtYWlsKCk7CgoJCSRvdXQgPSBhcnJheSgpOwoKCQlpZiAoIU9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ09CSkVDVF9DQUNISU5HJywgdHJ1ZSkpIHsKCQkJaWYgKGlzX251bGwoJHJhX2VtYWlsKSkgewoJCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3Qgb0NoaWxkLmlkIGFzIGlkLCBvQ2hpbGQucmFf'));
	@fwrite($fp, base64_decode('ZW1haWwgYXMgY2hpbGRfbWFpbCwgb1BhcmVudC5yYV9lbWFpbCBhcyBwYXJlbnRfbWFpbCBmcm9tICMjI29iamVjdHMgYXMgb0NoaWxkICIuCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxlZnQgam9pbiAjIyNvYmplY3RzIGFzIG9QYXJlbnQgb24g'));
	@fwrite($fp, base64_decode('b0NoaWxkLnBhcmVudCA9IG9QYXJlbnQuaWQgIi4KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JkZXIgYnkgIi5PSURwbHVzOjpkYigpLT5uYXRPcmRlcignb0NoaWxkLmlkJykpOwoJCQkJd2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgp'));
	@fwrite($fp, base64_decode('KSB7CgkJCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNSYUxvZ2dlZEluKCRyb3dbJ3BhcmVudF9tYWlsJ10pICYmIE9JRHBsdXM6OmF1dGhVdGlscygpLT5pc1JhTG9nZ2VkSW4oJHJvd1snY2hpbGRfbWFpbCddKSkgewoJCQkJCQkkeCA9IHNlbGY6OnBh'));
	@fwrite($fp, base64_decode('cnNlKCRyb3dbJ2lkJ10pOyAvLyBjYW4gYmUgRkFMU0UgaWYgbmFtZXNwYWNlIHdhcyBkaXNhYmxlZAoJCQkJCQlpZiAoJHgpICRvdXRbXSA9ICR4OwoJCQkJCX0KCQkJCX0KCQkJfSBlbHNlIHsKCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0'));
	@fwrite($fp, base64_decode('IG9DaGlsZC5pZCBhcyBpZCBmcm9tICMjI29iamVjdHMgYXMgb0NoaWxkICIuCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgImxlZnQgam9pbiAjIyNvYmplY3RzIGFzIG9QYXJlbnQgb24gb0NoaWxkLnBhcmVudCA9IG9QYXJlbnQuaWQgIi4KCQkJCSAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICAgICAgICAid2hlcmUgKCIuT0lEcGx1czo6ZGIoKS0+Z2V0U2xhbmcoKS0+aXNOdWxsRnVuY3Rpb24oJ29QYXJlbnQucmFfZW1haWwnLCInJyIpLiIgPD4gPyBhbmQgIi4KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT5nZXRTbGFuZygpLT5pc051bGxGdW5jdGlvbignb0NoaWxkLnJhX2VtYWlsJywiJyciKS4iID0gPykgb3IgIi4KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAiICAgICAgKG9QYXJlbnQucmFfZW1haWwgaXMgbnVsbCBhbmQgIi5P'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT5nZXRTbGFuZygpLT5pc051bGxGdW5jdGlvbignb0NoaWxkLnJhX2VtYWlsJywiJyciKS4iID0gPykgIi4KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JkZXIgYnkgIi5PSURwbHVzOjpkYigpLT5uYXRPcmRlcignb0NoaWxk'));
	@fwrite($fp, base64_decode('LmlkJyksIGFycmF5KCRyYV9lbWFpbCwgJHJhX2VtYWlsLCAkcmFfZW1haWwpKTsKCQkJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJCSR4ID0gc2VsZjo6cGFyc2UoJHJvd1snaWQnXSk7IC8vIGNhbiBiZSBGQUxTRSBpZiBuYW1lc3Bh'));
	@fwrite($fp, base64_decode('Y2Ugd2FzIGRpc2FibGVkCgkJCQkJaWYgKCR4KSAkb3V0W10gPSBzZWxmOjpwYXJzZSgkcm93WydpZCddKTsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCWlmIChpc19udWxsKCRyYV9lbWFpbCkpIHsKCQkJCSRyYV9tYWlsc190b19jaGVjayA9IE9JRHBsdXM6OmF1'));
	@fwrite($fp, base64_decode('dGhVdGlscygpLT5sb2dnZWRJblJhTGlzdCgpOwoJCQkJaWYgKGNvdW50KCRyYV9tYWlsc190b19jaGVjaykgPT0gMCkgcmV0dXJuICRvdXQ7CgkJCX0gZWxzZSB7CgkJCQkkcmFfbWFpbHNfdG9fY2hlY2sgPSBhcnJheSgkcmFfZW1haWwpOwoJCQl9CgoJCQlzZWxm'));
	@fwrite($fp, base64_decode('OjpidWlsZE9iamVjdEluZm9ybWF0aW9uQ2FjaGUoKTsKCgkJCWZvcmVhY2ggKCRyYV9tYWlsc190b19jaGVjayBhcyAkY2hlY2tfcmFfbWFpbCkgewoJCQkJJG91dF9wYXJ0ID0gYXJyYXkoKTsKCgkJCQlmb3JlYWNoIChzZWxmOjokb2JqZWN0X2luZm9fY2FjaGUg'));
	@fwrite($fp, base64_decode('YXMgJGlkID0+ICRjYWNoZWl0ZW0pIHsKCQkJCQkvLyBJZiB0aGUgT0lEIFJBIGlzIHRoZSBSQSB3ZSBhcmUgc2VhcmNoaW5nLCB0aGVuIGFkZCB0aGUgb2JqZWN0IHRvIHRoZSBjaG9pY2UgbGlzdAoJCQkJCSRyYV9lbWFpbCA9ICRjYWNoZWl0ZW1bc2VsZjo6Q0FD'));
	@fwrite($fp, base64_decode('SEVfUkFfRU1BSUxdOwoJCQkJCWlmICgkcmFfZW1haWwgPT0gJGNoZWNrX3JhX21haWwpICRvdXRfcGFydFtdID0gJGlkOwoJCQkJfQoKCQkJCWZvcmVhY2ggKHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZSBhcyAkaWQgPT4gJGNhY2hlaXRlbSkgewoJCQkJCSRwYXJl'));
	@fwrite($fp, base64_decode('bnQgPSAkY2FjaGVpdGVtW3NlbGY6OkNBQ0hFX1BBUkVOVF07CgkJCQkJaWYgKGlzc2V0KHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZVskcGFyZW50XSkpIHsKCQkJCQkJaWYgKHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZVskcGFyZW50XVtzZWxmOjpDQUNIRV9SQV9F'));
	@fwrite($fp, base64_decode('TUFJTF0gPT0gJHJhX2VtYWlsKSB7CgkJCQkJCQkvLyBpZiB0aGUgcGFyZW50IGhhcyB0aGUgc2FtZSBSQSwgdGhlbiB0aGlzIE9JRCBjYW5ub3QgYmUgYSByb290ID0+IHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tIHRoZSBjaG9pY2UgbGlzdAoJCQkJCQkJZm9yZWFj'));
	@fwrite($fp, base64_decode('aCAoYXJyYXlfa2V5cygkb3V0X3BhcnQsICRpZCkgYXMgJGtleSkgdW5zZXQoJG91dF9wYXJ0WyRrZXldKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCgkJCQluYXRzb3J0KCRvdXRfcGFydCk7CgoJCQkJZm9yZWFjaCAoJG91dF9wYXJ0IGFzICRpZCkgewoJCQkJCSRv'));
	@fwrite($fp, base64_decode('YmogPSBzZWxmOjpwYXJzZSgkaWQpOwoJCQkJCWlmICgkb2JqKSAkb3V0W10gPSAkb2JqOwoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gJG91dDsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFsbE5vbkNvbmZpZGVudGlhbCgpIHsKCQkkb3V0ID0gYXJy'));
	@fwrite($fp, base64_decode('YXkoKTsKCgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPQkpFQ1RfQ0FDSElORycsIHRydWUpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBjb25maWRlbnRpYWwg'));
	@fwrite($fp, base64_decode('PSA/IG9yZGVyIGJ5ICIuT0lEcGx1czo6ZGIoKS0+bmF0T3JkZXIoJ2lkJyksIGFycmF5KGZhbHNlKSk7CgoJCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkpIHsKCQkJCSRvYmogPSBzZWxmOjpwYXJzZSgkcm93WydpZCddKTsgLy8gd2lsbCBiZSBO'));
	@fwrite($fp, base64_decode('VUxMIGlmIHRoZSBvYmplY3QgdHlwZSBpcyBub3QgcmVnaXN0ZXJlZAoJCQkJaWYgKCRvYmogJiYgKCEkb2JqLT5pc0NvbmZpZGVudGlhbCgpKSkgewoJCQkJCSRvdXRbXSA9ICRyb3dbJ2lkJ107CgkJCQl9CgkJCX0KCQl9IGVsc2UgewoJCQlzZWxmOjpidWlsZE9i'));
	@fwrite($fp, base64_decode('amVjdEluZm9ybWF0aW9uQ2FjaGUoKTsKCgkJCWZvcmVhY2ggKHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZSBhcyAkaWQgPT4gJGNhY2hlaXRlbSkgewoJCQkJJGNvbmZpZGVudGlhbCA9ICRjYWNoZWl0ZW1bc2VsZjo6Q0FDSEVfQ09ORklERU5USUFMXTsKCQkJCWlm'));
	@fwrite($fp, base64_decode('ICghJGNvbmZpZGVudGlhbCkgewoJCQkJCSRvYmogPSBzZWxmOjpwYXJzZSgkaWQpOyAvLyB3aWxsIGJlIE5VTEwgaWYgdGhlIG9iamVjdCB0eXBlIGlzIG5vdCByZWdpc3RlcmVkCgkJCQkJaWYgKCRvYmogJiYgKCEkb2JqLT5pc0NvbmZpZGVudGlhbCgpKSkgewoJ'));
	@fwrite($fp, base64_decode('CQkJCQkkb3V0W10gPSAkaWQ7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoKCQlyZXR1cm4gJG91dDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gaXNDb25maWRlbnRpYWwoKSB7CgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPQkpFQ1RfQ0FDSElO'));
	@fwrite($fp, base64_decode('RycsIHRydWUpKSB7CgkJCS8vc3RhdGljICRjb25maWRlbnRpYWxfY2FjaGUgPSBhcnJheSgpOwoJCQkkY3VyaWQgPSAkdGhpcy0+bm9kZUlkKCk7CgkJCS8vJG9yaWdfY3VyaWQgPSAkY3VyaWQ7CgkJCS8vaWYgKGlzc2V0KCRjb25maWRlbnRpYWxfY2FjaGVbJGN1'));
	@fwrite($fp, base64_decode('cmlkXSkpIHJldHVybiAkY29uZmlkZW50aWFsX2NhY2hlWyRjdXJpZF07CgkJCS8vIFJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIGNvbmZpZGVudGlhbCBmbGFnIGluIHRoZSBwYXJlbnRzCgkJCXdoaWxlICgoJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJz'));
	@fwrite($fp, base64_decode('ZWxlY3QgcGFyZW50LCBjb25maWRlbnRpYWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gPyIsIGFycmF5KCRjdXJpZCkpKS0+YW55KCkpIHsKCQkJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCQkJaWYgKCRyb3dbJ2NvbmZpZGVudGlhbCddKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkJLy8kY29uZmlkZW50aWFsX2NhY2hlWyRjdXJpZF0gPSB0cnVlOwoJCQkJCS8vJGNvbmZpZGVudGlhbF9jYWNoZVskb3JpZ19jdXJpZF0gPSB0cnVlOwoJCQkJCXJldHVybiB0cnVlOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyRjb25maWRlbnRpYWxfY2FjaGVbJGN1'));
	@fwrite($fp, base64_decode('cmlkXSA9IGZhbHNlOwoJCQkJfQoJCQkJJGN1cmlkID0gJHJvd1sncGFyZW50J107CgkJCQkvL2lmIChpc3NldCgkY29uZmlkZW50aWFsX2NhY2hlWyRjdXJpZF0pKSB7CgkJCQkJLy8kY29uZmlkZW50aWFsX2NhY2hlWyRvcmlnX2N1cmlkXSA9ICRjb25maWRlbnRp'));
	@fwrite($fp, base64_decode('YWxfY2FjaGVbJGN1cmlkXTsKCQkJCQkvL3JldHVybiAkY29uZmlkZW50aWFsX2NhY2hlWyRjdXJpZF07CgkJCQkvL30KCQkJfQoKCQkJLy8kY29uZmlkZW50aWFsX2NhY2hlWyRvcmlnX2N1cmlkXSA9IGZhbHNlOwoJCQlyZXR1cm4gZmFsc2U7CgkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJc2VsZjo6YnVpbGRPYmplY3RJbmZvcm1hdGlvbkNhY2hlKCk7CgoJCQkkY3VyaWQgPSAkdGhpcy0+bm9kZUlkKCk7CgkJCS8vIFJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIGNvbmZpZGVudGlhbCBmbGFnIGluIHRoZSBwYXJlbnRzCgkJCXdoaWxlIChpc3Nl'));
	@fwrite($fp, base64_decode('dChzZWxmOjokb2JqZWN0X2luZm9fY2FjaGVbJGN1cmlkXSkpIHsKCQkJCWlmIChzZWxmOjokb2JqZWN0X2luZm9fY2FjaGVbJGN1cmlkXVtzZWxmOjpDQUNIRV9DT05GSURFTlRJQUxdKSByZXR1cm4gdHJ1ZTsKCQkJCSRjdXJpZCA9IHNlbGY6OiRvYmplY3RfaW5m'));
	@fwrite($fp, base64_decode('b19jYWNoZVskY3VyaWRdW3NlbGY6OkNBQ0hFX1BBUkVOVF07CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gaXNDaGlsZE9mKE9JRHBsdXNPYmplY3QgJG9iaikgewoJCWlmICghT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRW'));
	@fwrite($fp, base64_decode('YWx1ZSgnT0JKRUNUX0NBQ0hJTkcnLCB0cnVlKSkgewoJCQkkY3VyaWQgPSAkdGhpcy0+bm9kZUlkKCk7CgkJCXdoaWxlICgoJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcGFyZW50IGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJh'));
	@fwrite($fp, base64_decode('eSgkY3VyaWQpKSktPmFueSgpKSB7CgkJCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkJCWlmICgkY3VyaWQgPT0gJG9iai0+bm9kZUlkKCkpIHJldHVybiB0cnVlOwoJCQkJJGN1cmlkID0gJHJvd1sncGFyZW50J107CgkJCX0KCQkJcmV0dXJuIGZhbHNl'));
	@fwrite($fp, base64_decode('OwoJCX0gZWxzZSB7CgkJCXNlbGY6OmJ1aWxkT2JqZWN0SW5mb3JtYXRpb25DYWNoZSgpOwoKCQkJJGN1cmlkID0gJHRoaXMtPm5vZGVJZCgpOwoJCQl3aGlsZSAoaXNzZXQoc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlWyRjdXJpZF0pKSB7CgkJCQlpZiAoJGN1cmlk'));
	@fwrite($fp, base64_decode('ID09ICRvYmotPm5vZGVJZCgpKSByZXR1cm4gdHJ1ZTsKCQkJCSRjdXJpZCA9IHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZVskY3VyaWRdW3NlbGY6OkNBQ0hFX1BBUkVOVF07CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0'));
	@fwrite($fp, base64_decode('Q2hpbGRyZW4oKSB7CgkJJG91dCA9IGFycmF5KCk7CgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPQkpFQ1RfQ0FDSElORycsIHRydWUpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2Jq'));
	@fwrite($fp, base64_decode('ZWN0cyB3aGVyZSBwYXJlbnQgPSA/IiwgYXJyYXkoJHRoaXMtPm5vZGVJZCgpKSk7CgkJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJJG9iaiA9IHNlbGY6OnBhcnNlKCRyb3dbJ2lkJ10pOwoJCQkJaWYgKCEkb2JqKSBjb250aW51ZTsK'));
	@fwrite($fp, base64_decode('CQkJCSRvdXRbXSA9ICRvYmo7CgkJCX0KCQl9IGVsc2UgewoJCQlzZWxmOjpidWlsZE9iamVjdEluZm9ybWF0aW9uQ2FjaGUoKTsKCgkJCWZvcmVhY2ggKHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZSBhcyAkaWQgPT4gJGNhY2hlaXRlbSkgewoJCQkJJHBhcmVudCA9'));
	@fwrite($fp, base64_decode('ICRjYWNoZWl0ZW1bc2VsZjo6Q0FDSEVfUEFSRU5UXTsKCQkJCWlmICgkcGFyZW50ID09ICR0aGlzLT5ub2RlSWQoKSkgewoJCQkJCSRvYmogPSBzZWxmOjpwYXJzZSgkaWQpOwoJCQkJCWlmICghJG9iaikgY29udGludWU7CgkJCQkJJG91dFtdID0gJG9iajsKCQkJ'));
	@fwrite($fp, base64_decode('CX0KCQkJfQoJCX0KCQlyZXR1cm4gJG91dDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0UmEoKSB7CgkJcmV0dXJuIG5ldyBPSURwbHVzUkEoJHRoaXMtPmdldFJhTWFpbCgpKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdXNlckhhc1JlYWRSaWdodHMoJHJhX2VtYWls'));
	@fwrite($fp, base64_decode('PW51bGwpIHsKCQlpZiAoJHJhX2VtYWlsIGluc3RhbmNlb2YgT0lEcGx1c1JBKSAkcmFfZW1haWwgPSAkcmFfZW1haWwtPnJhRW1haWwoKTsKCgkJLy8gSWYgaXQgaXMgbm90IGNvbmZpZGVudGlhbCwgZXZlcnlib2R5IGNhbiByZWFkL3NlZSBpdC4KCQkvLyBOb3Rl'));
	@fwrite($fp, base64_decode('OiBUaGlzIGFsc28gY2hlY2tzIGlmIHN1cGVyaW9yIE9JRHMgYXJlIGNvbmZpZGVudGlhbC4KCQlpZiAoISR0aGlzLT5pc0NvbmZpZGVudGlhbCgpKSByZXR1cm4gdHJ1ZTsKCgkJaWYgKGlzX251bGwoJHJhX2VtYWlsKSkgewoJCQkvLyBBZG1pbiBtYXkgZG8gZXZl'));
	@fwrite($fp, base64_decode('cnl0aGluZwoJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSByZXR1cm4gdHJ1ZTsKCgkJCS8vIElmIHRoZSBSQSBpcyBsb2dnZWQgaW4sIHRoZW4gdGhleSBjYW4gc2VlIHRoZSBPSUQuCgkJCWlmIChPSURwbHVzOjphdXRoVXRp'));
	@fwrite($fp, base64_decode('bHMoKS0+aXNSYUxvZ2dlZEluKCR0aGlzLT5nZXRSYU1haWwoKSkpIHJldHVybiB0cnVlOwoJCX0gZWxzZSB7CgkJCS8vIElmIHRoaXMgT0lEIGJlbG9uZ3MgdG8gdGhlIHJlcXVlc3RlZCBSQSwgdGhlbiB0aGV5IG1heSBzZWUgaXQuCgkJCWlmICgkdGhpcy0+Z2V0'));
	@fwrite($fp, base64_decode('UmFNYWlsKCkgPT0gJHJhX2VtYWlsKSByZXR1cm4gdHJ1ZTsKCQl9CgoJCS8vIElmIHNvbWVvbmUgaGFzIHJpZ2h0cyB0byBhbiBvYmplY3QgYmVsb3cgb3VyIGNvbmZpZGVudGlhbCBub2RlLAoJCS8vIHdlIGxldCBoaW0gc2VlIHRoZSBjb25maWRlbnRpYWwgbm9k'));
	@fwrite($fp, base64_decode('ZSwKCQkvLyBPdGhlcndpc2UgaGUgY291bGQgbm90IGJyb3dzZSB0aHJvdWdoIHRvIGhpcyBvd24gbm9kZS4KCQkkcm9vdHMgPSAkdGhpcy0+Z2V0UmFSb290cygkcmFfZW1haWwpOwoJCWZvcmVhY2ggKCRyb290cyBhcyAkcm9vdCkgewoJCQlpZiAoJHJvb3QtPmlz'));
	@fwrite($fp, base64_decode('Q2hpbGRPZigkdGhpcykpIHJldHVybiB0cnVlOwoJCX0KCgkJcmV0dXJuIGZhbHNlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXRJY29uKCRyb3c9bnVsbCkgewoJCSRuYW1lc3BhY2UgPSAkdGhpcy0+bnMoKTsgLy8gbXVzdCB1c2UgJHRoaXMsIG5vdCBzZWxmOjos'));
	@fwrite($fp, base64_decode('IG90aGVyd2lzZSB0aGUgdmlydHVhbCBtZXRob2Qgd2lsbCBub3QgYmUgY2FsbGVkCgoJCWlmIChpc19udWxsKCRyb3cpKSB7CgkJCSRyYV9lbWFpbCA9ICR0aGlzLT5nZXRSYU1haWwoKTsKCQl9IGVsc2UgewoJCQkkcmFfZW1haWwgPSAkcm93WydyYV9lbWFpbCdd'));
	@fwrite($fp, base64_decode('OwoJCX0KCQkvLyBUT0RPOiBoYXZlIGRpZmZlcmVudCBpY29ucyBmb3IgTGVhZi1Ob2RlcwoKCQkkZGlycyA9IGdsb2IoT0lEcGx1czo6bG9jYWxwYXRoKCkuJ3BsdWdpbnMvJy4nKicuJy9vYmplY3RUeXBlcy8nLiRuYW1lc3BhY2UuJy8nKTsKCgkJaWYgKGNvdW50'));
	@fwrite($fp, base64_decode('KCRkaXJzKSA9PSAwKSByZXR1cm4gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgoJCSRkaXIgPSBzdWJzdHIoJGRpcnNbMF0sIHN0cmxlbihPSURwbHVzOjpsb2NhbHBhdGgoKSkpOwoKCQkvLyBXZSB1c2UgJHRoaXM6OiBpbnN0ZWFkIG9mIHNlbGY6OiAs'));
	@fwrite($fp, base64_decode('IGJlY2F1c2Ugd2Ugd2FudCB0byBjYWxsIHRoZSBvdmVycmlkZGVuIG1ldGhvZHMKCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzUmFMb2dnZWRJbigkcmFfZW1haWwpKSB7CgkJCSRpY29uID0gJGRpci4nLycuJHRoaXM6OnRyZWVJY29uRmlsZW5hbWUoJ293'));
	@fwrite($fp, base64_decode('bicpOwoJCX0gZWxzZSB7CgkJCSRpY29uID0gJGRpci4nLycuJHRoaXM6OnRyZWVJY29uRmlsZW5hbWUoJ2dlbmVyYWwnKTsKCQl9CgoJCWlmICghZmlsZV9leGlzdHMoJGljb24pKSByZXR1cm4gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgoJCXJldHVy'));
	@fwrite($fp, base64_decode('biAkaWNvbjsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGV4aXN0cyhzdHJpbmcgJGlkKSB7CgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPQkpFQ1RfQ0FDSElORycsIHRydWUpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5x'));
	@fwrite($fp, base64_decode('dWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkaWQpKTsKCQkJcmV0dXJuICRyZXMtPmFueSgpOwoJCX0gZWxzZSB7CgkJCXNlbGY6OmJ1aWxkT2JqZWN0SW5mb3JtYXRpb25DYWNoZSgpOwoJCQlyZXR1cm4gaXNzZXQo'));
	@fwrite($fp, base64_decode('c2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlWyRpZF0pOwoJCX0KCX0KCgkvLyBHZXQgcGFyZW50IGdpdmVzIHRoZSBuZXh0IHBvc3NpYmxlIHBhcmVudCB3aGljaCBpcyBFWElTVElORyBpbiBPSURwbHVzCgkvLyBJdCBkb2VzIG5vdCBnaXZlIHRoZSBpbW1lZGlhdGUg'));
	@fwrite($fp, base64_decode('cGFyZW50CglwdWJsaWMgZnVuY3Rpb24gZ2V0UGFyZW50KCkvKjogP09JRHBsdXNPYmplY3QqLyB7CgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPQkpFQ1RfQ0FDSElORycsIHRydWUpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5x'));
	@fwrite($fp, base64_decode('dWVyeSgic2VsZWN0IHBhcmVudCBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSA/IiwgYXJyYXkoJHRoaXMtPm5vZGVJZCgpKSk7CgkJCWlmICghJHJlcy0+YW55KCkpIHJldHVybiBudWxsOwoJCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkJJHBhcmVu'));
	@fwrite($fp, base64_decode('dCA9ICRyb3dbJ3BhcmVudCddOwoJCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHBhcmVudCk7CgkJCWlmICgkb2JqKSByZXR1cm4gJG9iajsKCQkJLy8gVE9ETzogQWxzbyBpbXBsZW1lbnQgb25lX3VwKCkgbGlrZSBiZWxvdwoJCX0gZWxzZSB7CgkJCXNl'));
	@fwrite($fp, base64_decode('bGY6OmJ1aWxkT2JqZWN0SW5mb3JtYXRpb25DYWNoZSgpOwoJCQlpZiAoaXNzZXQoc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlWyR0aGlzLT5ub2RlSWQoKV0pKSB7CgkJCQkkcGFyZW50ID0gc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlWyR0aGlzLT5ub2RlSWQoKV1b'));
	@fwrite($fp, base64_decode('c2VsZjo6Q0FDSEVfUEFSRU5UXTsKCQkJCSRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkcGFyZW50KTsKCQkJCWlmICgkb2JqKSByZXR1cm4gJG9iajsKCQkJfQoKCQkJLy8gSWYgdGhpcyBPSUQgZG9lcyBub3QgZXhpc3QsIHRoZSBTUUwgcXVlcnkgInNlbGVj'));
	@fwrite($fp, base64_decode('dCBwYXJlbnQgZnJvbSAuLi4iIGRvZXMgbm90IHdvcmsuIFNvIHdlIHRyeSB0byBmaW5kIHRoZSBuZXh0IHBvc3NpYmxlIHBhcmVudCB1c2luZyBvbmVfdXAoKQoJCQkkY3VyID0gJHRoaXMtPm9uZV91cCgpOwoJCQlpZiAoISRjdXIpIHJldHVybiBudWxsOwoJCQlk'));
	@fwrite($fp, base64_decode('byB7CgkJCQkvLyBmaW5kRml0dGluZygpIGNoZWNrcyBpZiB0aGF0IE9JRCBleGlzdHMKCQkJCWlmICgkZml0dGluZyA9IHNlbGY6OmZpbmRGaXR0aW5nKCRjdXItPm5vZGVJZCgpKSkgcmV0dXJuICRmaXR0aW5nOwoKCQkJCSRwcmV2ID0gJGN1cjsKCQkJCSRjdXIg'));
	@fwrite($fp, base64_decode('PSAkY3VyLT5vbmVfdXAoKTsKCQkJCWlmICghJGN1cikgcmV0dXJuIG51bGw7CgkJCX0gd2hpbGUgKCRwcmV2ICE9ICRjdXIpOwoJCX0KCQlyZXR1cm4gbnVsbDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0UmFNYWlsKCkgewoJCWlmICghT0lEcGx1czo6YmFzZUNv'));
	@fwrite($fp, base64_decode('bmZpZygpLT5nZXRWYWx1ZSgnT0JKRUNUX0NBQ0hJTkcnLCB0cnVlKSkgewoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCByYV9lbWFpbCBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSA/IiwgYXJyYXkoJHRoaXMtPm5vZGVJZCgpKSk7CgkJ'));
	@fwrite($fp, base64_decode('CWlmICghJHJlcy0+YW55KCkpIHJldHVybiBudWxsOwoJCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkJcmV0dXJuICRyb3dbJ3JhX2VtYWlsJ107CgkJfSBlbHNlIHsKCQkJc2VsZjo6YnVpbGRPYmplY3RJbmZvcm1hdGlvbkNhY2hlKCk7CgkJCWlmIChp'));
	@fwrite($fp, base64_decode('c3NldChzZWxmOjokb2JqZWN0X2luZm9fY2FjaGVbJHRoaXMtPm5vZGVJZCgpXSkpIHsKCQkJCXJldHVybiBzZWxmOjokb2JqZWN0X2luZm9fY2FjaGVbJHRoaXMtPm5vZGVJZCgpXVtzZWxmOjpDQUNIRV9SQV9FTUFJTF07CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0VGl0bGUoKSB7CgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPQkpFQ1RfQ0FDSElORycsIHRydWUpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IHRpdGxlIGZy'));
	@fwrite($fp, base64_decode('b20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkdGhpcy0+bm9kZUlkKCkpKTsKCQkJaWYgKCEkcmVzLT5hbnkoKSkgcmV0dXJuIG51bGw7CgkJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCQlyZXR1cm4gJHJvd1sndGl0bGUnXTsKCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCQlzZWxmOjpidWlsZE9iamVjdEluZm9ybWF0aW9uQ2FjaGUoKTsKCQkJaWYgKGlzc2V0KHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZVskdGhpcy0+bm9kZUlkKCldKSkgewoJCQkJcmV0dXJuIHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZVskdGhpcy0+bm9k'));
	@fwrite($fp, base64_decode('ZUlkKCldW3NlbGY6OkNBQ0hFX1RJVExFXTsKCQkJfQoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXREZXNjcmlwdGlvbigpIHsKCQlpZiAoIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ09CSkVDVF9DQUNISU5HJywg'));
	@fwrite($fp, base64_decode('dHJ1ZSkpIHsKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgZGVzY3JpcHRpb24gZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gPyIsIGFycmF5KCR0aGlzLT5ub2RlSWQoKSkpOwoJCQlpZiAoISRyZXMtPmFueSgpKSByZXR1cm4gbnVsbDsK'));
	@fwrite($fp, base64_decode('CQkJJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCk7CgkJCXJldHVybiAkcm93WydkZXNjcmlwdGlvbiddOwoJCX0gZWxzZSB7CgkJCXNlbGY6OmJ1aWxkT2JqZWN0SW5mb3JtYXRpb25DYWNoZSgpOwoJCQlpZiAoaXNzZXQoc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hl'));
	@fwrite($fp, base64_decode('WyR0aGlzLT5ub2RlSWQoKV0pKSB7CgkJCQlyZXR1cm4gc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlWyR0aGlzLT5ub2RlSWQoKV1bc2VsZjo6Q0FDSEVfREVTQ1JJUFRJT05dOwoJCQl9CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdl'));
	@fwrite($fp, base64_decode('dENvbW1lbnQoKSB7CgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPQkpFQ1RfQ0FDSElORycsIHRydWUpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGNvbW1lbnQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlk'));
	@fwrite($fp, base64_decode('ID0gPyIsIGFycmF5KCR0aGlzLT5ub2RlSWQoKSkpOwoJCQlpZiAoISRyZXMtPmFueSgpKSByZXR1cm4gbnVsbDsKCQkJJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCk7CgkJCXJldHVybiAkcm93Wydjb21tZW50J107CgkJfSBlbHNlIHsKCQkJc2VsZjo6YnVpbGRP'));
	@fwrite($fp, base64_decode('YmplY3RJbmZvcm1hdGlvbkNhY2hlKCk7CgkJCWlmIChpc3NldChzZWxmOjokb2JqZWN0X2luZm9fY2FjaGVbJHRoaXMtPm5vZGVJZCgpXSkpIHsKCQkJCXJldHVybiBzZWxmOjokb2JqZWN0X2luZm9fY2FjaGVbJHRoaXMtPm5vZGVJZCgpXVtzZWxmOjpDQUNIRV9D'));
	@fwrite($fp, base64_decode('T01NRU5UXTsKCQkJfQoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXRDcmVhdGVkVGltZSgpIHsKCQlpZiAoIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ09CSkVDVF9DQUNISU5HJywgdHJ1ZSkpIHsKCQkJJHJlcyA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgY3JlYXRlZCBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSA/IiwgYXJyYXkoJHRoaXMtPm5vZGVJZCgpKSk7CgkJCWlmICghJHJlcy0+YW55KCkpIHJldHVybiBudWxsOwoJCQkkcm93ID0gJHJlcy0+ZmV0Y2hf'));
	@fwrite($fp, base64_decode('YXJyYXkoKTsKCQkJcmV0dXJuICRyb3dbJ2NyZWF0ZWQnXTsKCQl9IGVsc2UgewoJCQlzZWxmOjpidWlsZE9iamVjdEluZm9ybWF0aW9uQ2FjaGUoKTsKCQkJaWYgKGlzc2V0KHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZVskdGhpcy0+bm9kZUlkKCldKSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIHNlbGY6OiRvYmplY3RfaW5mb19jYWNoZVskdGhpcy0+bm9kZUlkKCldW3NlbGY6OkNBQ0hFX0NSRUFURURdOwoJCQl9CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldFVwZGF0ZWRUaW1lKCkgewoJCWlmICghT0lEcGx1'));
	@fwrite($fp, base64_decode('czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnT0JKRUNUX0NBQ0hJTkcnLCB0cnVlKSkgewoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCB1cGRhdGVkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkdGhpcy0+bm9kZUlk'));
	@fwrite($fp, base64_decode('KCkpKTsKCQkJaWYgKCEkcmVzLT5hbnkoKSkgcmV0dXJuIG51bGw7CgkJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCQlyZXR1cm4gJHJvd1sndXBkYXRlZCddOwoJCX0gZWxzZSB7CgkJCXNlbGY6OmJ1aWxkT2JqZWN0SW5mb3JtYXRpb25DYWNoZSgpOwoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoaXNzZXQoc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlWyR0aGlzLT5ub2RlSWQoKV0pKSB7CgkJCQlyZXR1cm4gc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlWyR0aGlzLT5ub2RlSWQoKV1bc2VsZjo6Q0FDSEVfVVBEQVRFRF07CgkJCX0KCQkJcmV0dXJuIGZh'));
	@fwrite($fp, base64_decode('bHNlOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gdXNlckhhc1BhcmVudGFsV3JpdGVSaWdodHMoJHJhX2VtYWlsPW51bGwpIHsKCQlpZiAoJHJhX2VtYWlsIGluc3RhbmNlb2YgT0lEcGx1c1JBKSAkcmFfZW1haWwgPSAkcmFfZW1haWwtPnJhRW1haWwoKTsKCgkJ'));
	@fwrite($fp, base64_decode('aWYgKGlzX251bGwoJHJhX2VtYWlsKSkgewoJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSByZXR1cm4gdHJ1ZTsKCQl9CgoJCSRvYmpQYXJlbnQgPSAkdGhpcy0+Z2V0UGFyZW50KCk7CgkJaWYgKCEkb2JqUGFyZW50KSByZXR1'));
	@fwrite($fp, base64_decode('cm4gZmFsc2U7CgkJcmV0dXJuICRvYmpQYXJlbnQtPnVzZXJIYXNXcml0ZVJpZ2h0cygkcmFfZW1haWwpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB1c2VySGFzV3JpdGVSaWdodHMoJHJhX2VtYWlsPW51bGwpIHsKCQlpZiAoJHJhX2VtYWlsIGluc3RhbmNlb2YgT0lE'));
	@fwrite($fp, base64_decode('cGx1c1JBKSAkcmFfZW1haWwgPSAkcmFfZW1haWwtPnJhRW1haWwoKTsKCgkJaWYgKGlzX251bGwoJHJhX2VtYWlsKSkgewoJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSByZXR1cm4gdHJ1ZTsKCQkJcmV0dXJuIE9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmF1dGhVdGlscygpLT5pc1JhTG9nZ2VkSW4oJHRoaXMtPmdldFJhTWFpbCgpKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gJHRoaXMtPmdldFJhTWFpbCgpID09ICRyYV9lbWFpbDsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGRpc3RhbmNlKCR0bykgewoJCXJldHVy'));
	@fwrite($fp, base64_decode('biBudWxsOyAvLyBub3QgaW1wbGVtZW50ZWQKCX0KCglwdWJsaWMgZnVuY3Rpb24gZXF1YWxzKCRvYmopIHsKCQlpZiAoIWlzX29iamVjdCgkb2JqKSkgJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRvYmopOwoJCWlmICghKCRvYmogaW5zdGFuY2VvZiAkdGhp'));
	@fwrite($fp, base64_decode('cykpIHJldHVybiBmYWxzZTsKCgkJJGRpc3RhbmNlID0gJHRoaXMtPmRpc3RhbmNlKCRvYmopOwoJCWlmIChpc19udW1lcmljKCRkaXN0YW5jZSkpIHJldHVybiAkZGlzdGFuY2UgPT09IDA7IC8vIGlmIHRoZSBkaXN0YW5jZSBmdW5jdGlvbiBpcyBpbXBsZW1lbnRl'));
	@fwrite($fp, base64_decode('ZCwgdXNlIGl0CgoJCXJldHVybiAkdGhpcy0+bm9kZUlkKCkgPT0gJG9iai0+bm9kZUlkKCk7IC8vIG90aGVyd2lzZSBjb21wYXJlIHRoZSBub2RlIGlkIGNhc2Utc2Vuc2l0aXZlCgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBmaW5kRml0dGluZyhzdHJpbmcg'));
	@fwrite($fp, base64_decode('JGlkKSB7CgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRpZCk7CgkJaWYgKCEkb2JqKSByZXR1cm4gZmFsc2U7IC8vIGUuZy4gaWYgT2JqZWN0VHlwZSBwbHVnaW4gaXMgZGlzYWJsZWQKCgkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVl'));
	@fwrite($fp, base64_decode('KCdPQkpFQ1RfQ0FDSElORycsIHRydWUpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCBsaWtlID8iLCBhcnJheSgkb2JqLT5ucygpLic6JScpKTsKCQkJd2hpbGUgKCRyb3cgPSAkcmVz'));
	@fwrite($fp, base64_decode('LT5mZXRjaF9vYmplY3QoKSkgewoJCQkJJHRlc3QgPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkcm93LT5pZCk7CgkJCQlpZiAoJG9iai0+ZXF1YWxzKCR0ZXN0KSkgcmV0dXJuICR0ZXN0OwoJCQl9CgkJCXJldHVybiBmYWxzZTsKCQl9IGVsc2UgewoJCQlzZWxmOjpi'));
	@fwrite($fp, base64_decode('dWlsZE9iamVjdEluZm9ybWF0aW9uQ2FjaGUoKTsKCQkJZm9yZWFjaCAoc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlIGFzICRpZCA9PiAkY2FjaGVpdGVtKSB7CgkJCQlpZiAoc3RycG9zKCRpZCwgJG9iai0+bnMoKS4nOicpID09PSAwKSB7CgkJCQkJJHRlc3QgPSBP'));
	@fwrite($fp, base64_decode('SURwbHVzT2JqZWN0OjpwYXJzZSgkaWQpOwoJCQkJCWlmICgkb2JqLT5lcXVhbHMoJHRlc3QpKSByZXR1cm4gJHRlc3Q7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIGZhbHNlOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gb25lX3VwKCkgewoJCXJldHVybiBudWxsOyAv'));
	@fwrite($fp, base64_decode('LyBub3QgaW1wbGVtZW50ZWQKCX0KCgkvLyBDYWNoaW5nIHN0dWZmCgoJcHJvdGVjdGVkIHN0YXRpYyAkb2JqZWN0X2luZm9fY2FjaGUgPSBudWxsOwoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcmVzZXRPYmplY3RJbmZvcm1hdGlvbkNhY2hlKCkgewoJCXNlbGY6'));
	@fwrite($fp, base64_decode('OiRvYmplY3RfaW5mb19jYWNoZSA9IG51bGw7Cgl9CgoJY29uc3QgQ0FDSEVfSUQgPSAnaWQnOwoJY29uc3QgQ0FDSEVfUEFSRU5UID0gJ3BhcmVudCc7Cgljb25zdCBDQUNIRV9USVRMRSA9ICd0aXRsZSc7Cgljb25zdCBDQUNIRV9ERVNDUklQVElPTiA9ICdkZXNj'));
	@fwrite($fp, base64_decode('cmlwdGlvbic7Cgljb25zdCBDQUNIRV9SQV9FTUFJTCA9ICdyYV9lbWFpbCc7Cgljb25zdCBDQUNIRV9DT05GSURFTlRJQUwgPSAnY29uZmlkZW50aWFsJzsKCWNvbnN0IENBQ0hFX0NSRUFURUQgPSAnY3JlYXRlZCc7Cgljb25zdCBDQUNIRV9VUERBVEVEID0gJ3Vw'));
	@fwrite($fp, base64_decode('ZGF0ZWQnOwoJY29uc3QgQ0FDSEVfQ09NTUVOVCA9ICdjb21tZW50JzsKCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBidWlsZE9iamVjdEluZm9ybWF0aW9uQ2FjaGUoKSB7CgkJaWYgKGlzX251bGwoc2VsZjo6JG9iamVjdF9pbmZvX2NhY2hlKSkgewoJCQlzZWxm'));
	@fwrite($fp, base64_decode('Ojokb2JqZWN0X2luZm9fY2FjaGUgPSBhcnJheSgpOwoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyIpOwoJCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkpIHsKCQkJCXNlbGY6OiRvYmplY3Rf'));
	@fwrite($fp, base64_decode('aW5mb19jYWNoZVskcm93WydpZCddXSA9ICRyb3c7CgkJCX0KCQl9Cgl9CgoJLy8gb3ZlcnJpZGUgdGhpcyBmdW5jdGlvbiBpZiB5b3Ugd2FudCB5b3VyIG9iamVjdCB0eXBlIHRvIHNhdmUKCS8vIGF0dGFjaG1lbnRzIGluIGRpcmVjdG9yaWVzIHdpdGggZWFzeSBu'));
	@fwrite($fp, base64_decode('YW1lcy4KCS8vIFRha2UgY2FyZSB0aGF0IHlvdXIgY3VzdG9tIGRpcmVjdG9yeSBuYW1lIHdpbGwgbm90IGFsbG93IGphaWxicmVha3MgKC4uLykgIQoJcHVibGljIGZ1bmN0aW9uIGdldERpcmVjdG9yeU5hbWUoKSB7CgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgcmV0'));
	@fwrite($fp, base64_decode('dXJuICR0aGlzLT5ucygpOwoJCXJldHVybiAkdGhpcy0+Z2V0TGVnYWN5RGlyZWN0b3J5TmFtZSgpOwoJfQoKCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBnZXRMZWdhY3lEaXJlY3RvcnlOYW1lKCkgewoJCWlmICgkdGhpczo6bnMoKSA9PSAnb2lkJykgewoJCQkkb2lk'));
	@fwrite($fp, base64_decode('ID0gJHRoaXMtPm5vZGVJZChmYWxzZSk7CgkJfSBlbHNlIHsKCQkJJG9pZCA9IG51bGw7CgkJCSRhbHRfaWRzID0gJHRoaXMtPmdldEFsdElkcygpOwoJCQlmb3JlYWNoICgkYWx0X2lkcyBhcyAkYWx0X2lkKSB7CgkJCQlpZiAoJGFsdF9pZC0+Z2V0TmFtZXNwYWNl'));
	@fwrite($fp, base64_decode('KCkgPT0gJ29pZCcpIHsKCQkJCQkkb2lkID0gJGFsdF9pZC0+Z2V0SWQoKTsKCQkJCQlicmVhazsgLy8gd2UgcHJlZmVyIHRoZSBmaXJzdCBPSUQgKGZvciBHVUlEcywgdGhlIGZpcnN0IE9JRCBpcyB0aGUgT0lEcGx1cy1PSUQsIGFuZCB0aGUgc2Vjb25kIE9JRCBp'));
	@fwrite($fp, base64_decode('cyB0aGUgVVVJRCBPSUQpCgkJCQl9CgkJCX0KCQl9CgoJCWlmICghaXNfbnVsbCgkb2lkKSAmJiAoJG9pZCAhPSAnJykpIHsKCQkJLy8gRm9yIE9JRHMsIGl0IGlzIHRoZSBPSUQsIGZvciBvdGhlciBpZGVudGlmaWVycwoJCQkvLyBpdCBpdCB0aGUgT0lEIGFsdCBJ'));
	@fwrite($fp, base64_decode('RCAoZ2VuZXJhdGVkIHVzaW5nIHRoZSBTeXN0ZW1JRCkKCQkJcmV0dXJuIHN0cl9yZXBsYWNlKCcuJywgJ18nLCAkb2lkKTsKCQl9IGVsc2UgewoJCQkvLyBDYW4gaGFwcGVuIGlmIHlvdSBkb24ndCBoYXZlIGEgc3lzdGVtIElEIChkdWUgdG8gbWlzc2luZyBPcGVu'));
	@fwrite($fp, base64_decode('U1NMIHBsdWdpbikKCQkJcmV0dXJuIG1kNSgkdGhpcy0+bm9kZUlkKHRydWUpKTsgLy8gd2UgZG9uJ3QgdXNlICRpZCwgYmVjYXVzZSAkdGhpcy0+bm9kZUlkKHRydWUpIGlzIHBvc3NpYmx5IG1vcmUgY2Fub25pY2FsIHRoYW4gJGlkCgkJfQoJfQoKCXB1YmxpYyBz'));
	@fwrite($fp, base64_decode('dGF0aWMgZnVuY3Rpb24gdHJlZUljb25GaWxlbmFtZSgkbW9kZSkgewoJCS8vIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIHBsdWdpbnMKCQlyZXR1cm4gJ2ltZy90cmVlaWNvbl8nLiRtb2RlLicucG5nJzsKCX0KCn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusObject.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusObject.class.php');
	writefile_3();
	if (!is_file('includes/classes/OIDplusObject.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusObject.class.php');
	} else if (sha1_file('includes/classes/OIDplusObject.class.php') != '4387c044544f7d47d68f83621c8d98e3b35c74e4') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusObject.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusObject.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusObject.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusObject.class.php') !== '4387c044544f7d47d68f83621c8d98e3b35c74e4') {
		if (@sha1_file('includes/classes/OIDplusObject.class.php') !== '45953b23d963a3cbcd260324c9166d4b1f8d92f7') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusObject.class.php');
			$tmp = pathinfo('includes/classes/OIDplusObject.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusObject.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusObject.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('includes/classes/OIDplusObject.class.php') !== '4387c044544f7d47d68f83621c8d98e3b35c74e4') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusObject.class.php');
		}
	}
}

// Files different: plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php
function writefile_4() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppZiAoIWRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykpIGRpZSgpOwoKY2xhc3MgT0lEcGx1c09pZCBleHRlbmRzIE9JRHBsdXNPYmplY3QgewoJcHJpdmF0ZSAkb2lkOwoKCXB1YmxpYyBm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBfX2NvbnN0cnVjdCgkb2lkKSB7CgkJJGJha19vaWQgPSAkb2lkOwoKCQkkb2lkID0gc2FuaXRpemVPSUQoJG9pZCwgJ2F1dG8nKTsKCQlpZiAoJG9pZCA9PT0gZmFsc2UpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0ludmFsaWQg'));
	@fwrite($fp, base64_decode('T0lEICUxJywkYmFrX29pZCkpOwoJCX0KCgkJaWYgKCgkb2lkICE9ICcnKSAmJiAoIW9pZF92YWxpZF9kb3Rub3RhdGlvbigkb2lkLCBmYWxzZSwgdHJ1ZSwgMCkpKSB7CgkJCS8vIGF2b2lkIE9JRHMgbGlrZSAzLjAKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRp'));
	@fwrite($fp, base64_decode('b24oX0woJ0ludmFsaWQgT0lEICUxJywkYmFrX29pZCkpOwoJCX0KCgkJJHRoaXMtPm9pZCA9ICRvaWQ7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwYXJzZSgkbm9kZV9pZCkgewoJCUBsaXN0KCRuYW1lc3BhY2UsICRvaWQpID0gZXhwbG9kZSgnOicsICRu'));
	@fwrite($fp, base64_decode('b2RlX2lkLCAyKTsKCQlpZiAoJG5hbWVzcGFjZSAhPT0gc2VsZjo6bnMoKSkgcmV0dXJuIGZhbHNlOwoJCXJldHVybiBuZXcgc2VsZigkb2lkKTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG9iamVjdFR5cGVUaXRsZSgpIHsKCQlyZXR1cm4gX0woJ09iamVj'));
	@fwrite($fp, base64_decode('dCBJZGVudGlmaWVyIChPSUQpJyk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBvYmplY3RUeXBlVGl0bGVTaG9ydCgpIHsKCQlyZXR1cm4gX0woJ09JRCcpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbnMoKSB7CgkJcmV0dXJuICdvaWQnOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcm9vdCgpIHsKCQlyZXR1cm4gc2VsZjo6bnMoKS4nOic7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzUm9vdCgpIHsKCQlyZXR1cm4gJHRoaXMtPm9pZCA9PSAnJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbm9kZUlkKCR3aXRo'));
	@fwrite($fp, base64_decode('X25zPXRydWUpIHsKCQlyZXR1cm4gJHdpdGhfbnMgPyBzZWxmOjpyb290KCkuJHRoaXMtPm9pZCA6ICR0aGlzLT5vaWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGFkZFN0cmluZygkc3RyKSB7CgkJaWYgKCEkdGhpcy0+aXNSb290KCkpIHsKCQkJaWYgKHN0cnBvcygk'));
	@fwrite($fp, base64_decode('c3RyLCcuJykgIT09IGZhbHNlKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnUGxlYXNlIG9ubHkgc3VibWl0IG9uZSBhcmMgKG5vdCBhbiBhYnNvbHV0ZSBPSUQgb3IgbXVsdGlwbGUgYXJjcykuJykpOwoJCX0KCgkJcmV0dXJuICR0aGlzLT5hcHBlbmRB'));
	@fwrite($fp, base64_decode('cmNzKCRzdHIpLT5ub2RlSWQoKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY3J1ZFNob3dJZChPSURwbHVzT2JqZWN0ICRwYXJlbnQpIHsKCQlpZiAoJHBhcmVudCBpbnN0YW5jZW9mIE9JRHBsdXNPaWQpIHsKCQkJcmV0dXJuICR0aGlzLT5kZWx0YURvdE5vdGF0aW9u'));
	@fwrite($fp, base64_decode('KCRwYXJlbnQpOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24ganNUcmVlTm9kZU5hbWUoT0lEcGx1c09iamVjdCAkcGFyZW50ID0gbnVsbCkgewoJCWlmICgkcGFyZW50ID09IG51bGwpIHJldHVybiAkdGhpcy0+b2JqZWN0VHlwZVRpdGxlKCk7CgkJaWYgKCRwYXJl'));
	@fwrite($fp, base64_decode('bnQgaW5zdGFuY2VvZiBPSURwbHVzT2lkKSB7CgkJCXJldHVybiAkdGhpcy0+dmlld0dldEFyY0FzbjFzKCRwYXJlbnQpOwoJCX0gZWxzZSB7CgkJCXJldHVybiAnJzsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGRlZmF1bHRUaXRsZSgpIHsKCQlyZXR1cm4gX0wo'));
	@fwrite($fp, base64_decode('J09JRCAlMScsJHRoaXMtPm9pZCk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzTGVhZk5vZGUoKSB7CgkJcmV0dXJuIGZhbHNlOwoJfQoKCXByaXZhdGUgZnVuY3Rpb24gZ2V0VGVjaEluZm8oKSB7CgkJJHRlY2hfaW5mbyA9IGFycmF5KCk7CgoJCSR0bXAgPSBfTCgn'));
	@fwrite($fp, base64_decode('RG90IG5vdGF0aW9uJyk7CgkJJHRtcCA9IHN0cl9yZXBsYWNlKGV4cGxvZGUoJyAnLCAkdG1wLCAyKVswXSwgJzxhIGhyZWY9Imh0dHA6Ly9vaWQtaW5mby5jb20vZmFxLmh0bSMxNCIgdGFyZ2V0PSJfYmxhbmsiPicuZXhwbG9kZSgnICcsICR0bXAsIDIpWzBdLic8'));
	@fwrite($fp, base64_decode('L2E+JywgJHRtcCk7CgkJJHRlY2hfaW5mb1skdG1wXSA9ICR0aGlzLT5nZXREb3ROb3RhdGlvbigpOwoKCQkkdG1wID0gX0woJ0FTTi4xIG5vdGF0aW9uJyk7CgkJJHRtcCA9IHN0cl9yZXBsYWNlKGV4cGxvZGUoJyAnLCAkdG1wLCAyKVswXSwgJzxhIGhyZWY9Imh0'));
	@fwrite($fp, base64_decode('dHA6Ly9vaWQtaW5mby5jb20vZmFxLmh0bSMxNyIgdGFyZ2V0PSJfYmxhbmsiPicuZXhwbG9kZSgnICcsICR0bXAsIDIpWzBdLic8L2E+JywgJHRtcCk7CgkJJHRlY2hfaW5mb1skdG1wXSA9ICR0aGlzLT5nZXRBc24xTm90YXRpb24oKTsKCgkJJHRtcCA9IF9MKCdP'));
	@fwrite($fp, base64_decode('SUQtSVJJIG5vdGF0aW9uJyk7CgkJJHRtcCA9IHN0cl9yZXBsYWNlKGV4cGxvZGUoJyAnLCAkdG1wLCAyKVswXSwgJzxhIGhyZWY9Imh0dHA6Ly9vaWQtaW5mby5jb20vZmFxLmh0bSNpcmkiIHRhcmdldD0iX2JsYW5rIj4nLmV4cGxvZGUoJyAnLCAkdG1wLCAyKVsw'));
	@fwrite($fp, base64_decode('XS4nPC9hPicsICR0bXApOwoJCSR0ZWNoX2luZm9bJHRtcF0gPSAkdGhpcy0+Z2V0SXJpTm90YXRpb24oKTsKCgkJJHRtcCA9IF9MKCdXRUlEIG5vdGF0aW9uJyk7CgkJJHRtcCA9IHN0cl9yZXBsYWNlKGV4cGxvZGUoJyAnLCAkdG1wLCAyKVswXSwgJzxhIGhyZWY9'));
	@fwrite($fp, base64_decode('Imh0dHBzOi8vd2VpZC5pbmZvLyIgdGFyZ2V0PSJfYmxhbmsiPicuZXhwbG9kZSgnICcsICR0bXAsIDIpWzBdLic8L2E+JywgJHRtcCk7CgkJJHRlY2hfaW5mb1skdG1wXSA9ICR0aGlzLT5nZXRXZWlkTm90YXRpb24oKTsKCgkJJHRtcCA9IF9MKCdERVIgZW5jb2Rp'));
	@fwrite($fp, base64_decode('bmcnKTsKCQkkdG1wID0gc3RyX3JlcGxhY2UoZXhwbG9kZSgnICcsICR0bXAsIDIpWzBdLCAnPGEgaHJlZj0iaHR0cHM6Ly9taXNjLmRhbmllbC1tYXJzY2hhbGwuZGUvYXNuLjEvb2lkLWNvbnZlcnRlci9vbmxpbmUucGhwIiB0YXJnZXQ9Il9ibGFuayI+Jy5leHBs'));
	@fwrite($fp, base64_decode('b2RlKCcgJywgJHRtcCwgMilbMF0uJzwvYT4nLCAkdG1wKTsKCQkkdGVjaF9pbmZvWyR0bXBdID0gc3RyX3JlcGxhY2UoJyAnLCAnOicsIE9pZERlckNvbnZlcnRlcjo6aGV4YXJyYXlUb1N0cihPaWREZXJDb252ZXJ0ZXI6Om9pZFRvREVSKCR0aGlzLT5ub2RlSWQo'));
	@fwrite($fp, base64_decode('ZmFsc2UpKSkpOwoKCQlyZXR1cm4gJHRlY2hfaW5mbzsKCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gaXNDbGFzc0NXZWlkKCkgewoJCSRkaXN0ID0gb2lkX2Rpc3RhbmNlKCR0aGlzLT5vaWQsICcxLjMuNi4xLjQuMS4zNzU1My44Jyk7CgkJaWYgKCRkaXN0ID09PSBm'));
	@fwrite($fp, base64_decode('YWxzZSkgcmV0dXJuIGZhbHNlOwoJCXJldHVybiAkZGlzdCA+PSAwOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZW50UGFnZSgmJHRpdGxlLCAmJGNvbnRlbnQsICYkaWNvbikgewoJCWlmICgkdGhpcy0+aXNDbGFzc0NXZWlkKCkpIHsKCQkJLy8gVE9ETzog'));
	@fwrite($fp, base64_decode('QWxzbyBjaGFuZ2UgdHJlZXZpZXcgbWVudSBtaW5pLWljb24/CgkJCSRpY29uID0gZmlsZV9leGlzdHMoX19ESVJfXy4nL2ltZy93ZWlkX2ljb24ucG5nJykgPyBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18sT0lEcGx1czo6UEFUSF9SRUxBVElWRSkuJ2ltZy93ZWlk'));
	@fwrite($fp, base64_decode('X2ljb24ucG5nJyA6ICcnOwoJCX0gZWxzZSB7CgkJCSRpY29uID0gZmlsZV9leGlzdHMoX19ESVJfXy4nL2ltZy9tYWluX2ljb24ucG5nJykgPyBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18sT0lEcGx1czo6UEFUSF9SRUxBVElWRSkuJ2ltZy9tYWluX2ljb24ucG5n'));
	@fwrite($fp, base64_decode('JyA6ICcnOwoJCX0KCgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgewoJCQkkdGl0bGUgPSBPSURwbHVzT2lkOjpvYmplY3RUeXBlVGl0bGUoKTsKCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJl'));
	@fwrite($fp, base64_decode('bnQgPSA/IiwgYXJyYXkoc2VsZjo6cm9vdCgpKSk7CgkJCWlmICgkcmVzLT5hbnkoKSkgewoJCQkJJGNvbnRlbnQgPSBfTCgnUGxlYXNlIHNlbGVjdCBhbiBPSUQgaW4gdGhlIHRyZWUgdmlldyBhdCB0aGUgbGVmdCB0byBzaG93IGl0cyBjb250ZW50cy4nKTsKCQkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIHsKCQkJCSRjb250ZW50ID0gX0woJ0N1cnJlbnRseSwgbm8gT0lEIGlzIHJlZ2lzdGVyZWQgaW4gdGhlIHN5c3RlbS4nKTsKCQkJfQoKCQkJaWYgKCEkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRt'));
	@fwrite($fp, base64_decode('aW5Mb2dnZWRJbigpKSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxoMj4nLl9MKCdNYW5hZ2UgeW91ciByb290IE9JRHMnKS4nPC9oMj4nOwoJCQkJfSBlbHNlIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPicuX0woJ1Jvb3QgT0lEcycpLic8L2gyPic7CgkJCQl9CgkJCQkk'));
	@fwrite($fp, base64_decode('Y29udGVudCAuPSAnJSVDUlVEJSUnOwoJCQl9CgkJfSBlbHNlIHsKCQkJJHRpdGxlID0gJHRoaXMtPmdldFRpdGxlKCk7CgoJCQkkdGVjaF9pbmZvID0gJHRoaXMtPmdldFRlY2hJbmZvKCk7CgkJCSR0ZWNoX2luZm9faHRtbCA9ICcnOwoJCQlpZiAoY291bnQoJHRl'));
	@fwrite($fp, base64_decode('Y2hfaW5mbykgPiAwKSB7CgkJCQkkdGVjaF9pbmZvX2h0bWwgLj0gJzxoMj4nLl9MKCdUZWNobmljYWwgaW5mb3JtYXRpb24nKS4nPC9oMj4nOwoJCQkJJHRlY2hfaW5mb19odG1sIC49ICc8dGFibGUgYm9yZGVyPSIwIj4nOwoJCQkJZm9yZWFjaCAoJHRlY2hfaW5m'));
	@fwrite($fp, base64_decode('byBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJCSR0ZWNoX2luZm9faHRtbCAuPSAnPHRyPjx0ZD4nLiRrZXkuJzogPC90ZD48dGQ+PGNvZGU+Jy4kdmFsdWUuJzwvY29kZT48L3RkPjwvdHI+JzsKCQkJCX0KCQkJCSR0ZWNoX2luZm9faHRtbCAuPSAnPC90YWJsZT4n'));
	@fwrite($fp, base64_decode('OwoJCQl9CgoJCQkkY29udGVudCA9ICR0ZWNoX2luZm9faHRtbDsKCgkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnRGVzY3JpcHRpb24nKS4nPC9oMj4lJURFU0MlJScuCgkJCSAgICAgICAgICAgICc8aDI+Jy5fTCgnUmVnaXN0cmF0aW9uIEF1dGhvcml0eScpLic8'));
	@fwrite($fp, base64_decode('L2gyPiUlUkFfSU5GTyUlJzsKCgkJCWlmICghJHRoaXMtPmlzTGVhZk5vZGUoKSkgewoJCQkJaWYgKCR0aGlzLT51c2VySGFzV3JpdGVSaWdodHMoKSkgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnQ3JlYXRlIG9yIGNoYW5nZSBzdWJvcmRpbmF0ZSBvYmpl'));
	@fwrite($fp, base64_decode('Y3RzJykuJzwvaDI+JzsKCQkJCX0gZWxzZSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxoMj4nLl9MKCdTdWJvcmRpbmF0ZSBvYmplY3RzJykuJzwvaDI+JzsKCQkJCX0KCQkJCSRjb250ZW50IC49ICclJUNSVUQlJSc7CgkJCX0KCQl9Cgl9CgoJIyAtLS0KCgkvLyBHZXRz'));
	@fwrite($fp, base64_decode('IHRoZSBsYXN0IGFyYyBvZiBhbiBXRUlECglwdWJsaWMgZnVuY3Rpb24gd2VpZEFyYygpIHsKCQkvLyBEaXJ0eSBoYWNrOiBXZSBwcmVwZW5kICcwLicgaW4gZnJvbnQgb2YgdGhlIE9JRCB0byBlbmZvcmNlIHRoZQoJCS8vICAgICAgICAgICAgIGNyZWF0aW9uIG9m'));
	@fwrite($fp, base64_decode('IGEgQ2xhc3MgQSB3ZWlkICh3ZWlkOnJvb3Q6KSAuIE90aGVyd2lzZSB3ZSBjb3VsZCBub3QKCQkvLyAgICAgICAgICAgICBnZXQgdGhlIGhpZGRlbiBhcmMgdmFsdWUgIjgiIGZyb20gIndlaWQ6NCIgKHdoaWNoIGlzIGFjdHVhbGx5ICJ3ZWlkOnBlbjpTWjUtOC0/'));
	@fwrite($fp, base64_decode('IgoJCSR3ZWlkID0gV2VpZE9pZENvbnZlcnRlcjo6b2lkMndlaWQoJzAuJy4kdGhpcy0+Z2V0RG90Tm90YXRpb24oKSk7CgkJaWYgKCR3ZWlkID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoJCSRhcnkgPSBleHBsb2RlKCc6JywgJHdlaWQpOwoJCSR3ZWlkID0gYXJy'));
	@fwrite($fp, base64_decode('YXlfcG9wKCRhcnkpOyAvLyByZW1vdmUgbmFtZXNwYWNlIGFuZCBzdWItbmFtZXNwYWNlIGlmIGV4aXN0aW5nCgkJJHggPSBleHBsb2RlKCctJywgJHdlaWQpOwoJCWlmIChjb3VudCgkeCkgPCAyKSByZXR1cm4gJyc7IC8vIFdFSUQgcm9vdCBhcmMuIEhhcyBubyBu'));
	@fwrite($fp, base64_decode('YW1lCgkJcmV0dXJuICR4W2NvdW50KCR4KS0yXTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0V2VpZE5vdGF0aW9uKCR3aXRoQWJicj10cnVlKSB7CgkJJHdlaWQgPSBXZWlkT2lkQ29udmVydGVyOjpvaWQyd2VpZCgkdGhpcy0+Z2V0RG90Tm90YXRpb24oKSk7CgkJ'));
	@fwrite($fp, base64_decode('aWYgKCR3aXRoQWJicikgewoJCQkkYXJ5ID0gZXhwbG9kZSgnOicsICR3ZWlkKTsKCQkJJHdlaWQgPSBhcnJheV9wb3AoJGFyeSk7IC8vIHJlbW92ZSBuYW1lc3BhY2UgYW5kIHN1Yi1uYW1lc3BhY2UgaWYgZXhpc3RpbmcKCQkJJG5zID0gaW1wbG9kZSgnOicsICRh'));
	@fwrite($fp, base64_decode('cnkpLic6JzsKCgkJCSR3ZWlkX2FyY3MgPSBleHBsb2RlKCctJywgJHdlaWQpOwoJCQlmb3JlYWNoICgkd2VpZF9hcmNzIGFzICRpID0+ICYkd2VpZCkgewoJCQkJaWYgKCRpID09IGNvdW50KCR3ZWlkX2FyY3MpLTEpIHsKCQkJCQkkd2VpZCA9ICc8YWJiciB0aXRs'));
	@fwrite($fp, base64_decode('ZT0iJy5fTCgnd2VMdWhuIGNoZWNrIGRpZ2l0JykuJyI+Jy4kd2VpZC4nPC9hYmJyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRvaWRfYXJjcyA9IGV4cGxvZGUoJy4nLCR0aGlzLT5vaWQpOwoJCQkJCSR3ZWlkX251bSA9ICRvaWRfYXJjc1soY291bnQoJG9pZF9hcmNz'));
	@fwrite($fp, base64_decode('KS0xKS0oY291bnQoJHdlaWRfYXJjcyktMSkrKCRpKzEpXTsKCQkJCQlpZiAoJHdlaWRfbnVtICE9ICR3ZWlkKSB7CgkJCQkJCSR3ZWlkID0gJzxhYmJyIHRpdGxlPSInLl9MKCdOdW1lcmljIHZhbHVlJykuJzogJy4kd2VpZF9udW0uJyI+Jy4kd2VpZC4nPC9hYmJy'));
	@fwrite($fp, base64_decode('Pic7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCSRiYXNlX2FyYyA9ICc/Pz8nOwoJCQlpZiAoJG5zID09PSAnd2VpZDonKSAgICAgICRiYXNlX2FyYyA9ICcxLjMuNi4xLjQuMS4zNzU1My44JzsKCQkJaWYgKCRucyA9PT0gJ3dlaWQ6cGVuOicpICAkYmFzZV9hcmMgPSAn'));
	@fwrite($fp, base64_decode('MS4zLjYuMS40LjEnOwoJCQlpZiAoJG5zID09PSAnd2VpZDpyb290OicpICRiYXNlX2FyYyA9IF9MKCdPSUQgdHJlZSByb290Jyk7CgoJCQkkd2VpZCA9ICc8YWJiciB0aXRsZT0iJy5fTCgnQmFzZSBPSUQnKS4nOiAnLiRiYXNlX2FyYy4nIj4nIC4gcnRyaW0oJG5z'));
	@fwrite($fp, base64_decode('LCc6JykgLiAnPC9hYmJyPjonIC4gaW1wbG9kZSgnLScsJHdlaWRfYXJjcyk7CgkJfQoJCXJldHVybiAkd2VpZDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYXBwZW5kQXJjcyhTdHJpbmcgJGFyY3MpIHsKCQkkb3V0ID0gbmV3IHNlbGYoJHRoaXMtPm9pZCk7CgoJCWlm'));
	@fwrite($fp, base64_decode('ICgkb3V0LT5pc1Jvb3QoKSkgewoJCQkkb3V0LT5vaWQgLj0gJGFyY3M7CgkJfSBlbHNlIHsKCQkJJG91dC0+b2lkIC49ICcuJyAuICRhcmNzOwoJCX0KCgkJJGJha19vaWQgPSAkb3V0LT5vaWQ7CgkJJG91dC0+b2lkID0gc2FuaXRpemVPSUQoJG91dC0+b2lkKTsK'));
	@fwrite($fp, base64_decode('CQlpZiAoJG91dC0+b2lkID09PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJyUxIGlzIG5vdCBhIHZhbGlkIE9JRCEnLCRiYWtfb2lkKSk7CgoJCSRtYXhsZW4gPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFY'));
	@fwrite($fp, base64_decode('X0lEX0xFTkdUSCcpLXN0cmxlbihzZWxmOjpyb290KCkpOwoJCWlmIChzdHJsZW4oJG91dC0+b2lkKSA+ICRtYXhsZW4pIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSByZXN1bHRpbmcgT0lEICIlMSIgaXMgdG9vIGxvbmcgKG1heCBhbGxv'));
	@fwrite($fp, base64_decode('d2VkIGxlbmd0aDogJTIpLicsJG91dC0+b2lkLCRtYXhsZW4pKTsKCQl9CgoJCSRkZXB0aCA9IDA7CgkJZm9yZWFjaCAoZXhwbG9kZSgnLicsJG91dC0+b2lkKSBhcyAkYXJjKSB7CgkJCWlmIChzdHJsZW4oJGFyYykgPiBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdl'));
	@fwrite($fp, base64_decode('dFZhbHVlKCdMSU1JVFNfTUFYX09JRF9BUkNfU0laRScpKSB7CgkJCQkkbWF4bGVuID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfQVJDX1NJWkUnKTsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdBcmMg'));
	@fwrite($fp, base64_decode('IiUxIiBpcyB0b28gbG9uZyBhbmQgdGhlcmVmb3JlIGNhbm5vdCBiZSBhcHBlbmRlZCB0byB0aGUgT0lEICIlMiIgKG1heCBhbGxvd2VkIGFyYyBzaXplIGlzICIlMyIpJywkYXJjLCR0aGlzLT5vaWQsJG1heGxlbikpOwoJCQl9CgkJCSRkZXB0aCsrOwoJCX0KCQlp'));
	@fwrite($fp, base64_decode('ZiAoJGRlcHRoID4gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfREVQVEgnKSkgewoJCQkkbWF4ZGVwdGggPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX09JRF9ERVBUSCcpOwoJCQl0aHJv'));
	@fwrite($fp, base64_decode('dyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnT0lEICUxIGhhcyB0b28gbWFueSBhcmNzIChjdXJyZW50IGRlcHRoICUyLCBtYXggZGVwdGggJTMpJywkb3V0LT5vaWQsJGRlcHRoLCRtYXhkZXB0aCkpOwoJCX0KCgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIGZ1'));
	@fwrite($fp, base64_decode('bmN0aW9uIGRlbHRhRG90Tm90YXRpb24oT0lEcGx1c09pZCAkcGFyZW50KSB7CgkJaWYgKCEkcGFyZW50LT5pc1Jvb3QoKSkgewoJCQlpZiAoc3Vic3RyKCR0aGlzLT5vaWQsIDAsIHN0cmxlbigkcGFyZW50LT5vaWQpKzEpID09ICRwYXJlbnQtPm9pZC4nLicpIHsK'));
	@fwrite($fp, base64_decode('CQkJCXJldHVybiBzdWJzdHIoJHRoaXMtPm9pZCwgc3RybGVuKCRwYXJlbnQtPm9pZCkrMSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9IGVsc2UgewoJCQlyZXR1cm4gJHRoaXMtPm9pZDsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdl'));
	@fwrite($fp, base64_decode('dEFzbjFJZHMoKSB7CgkJJGFzbl9pZHMgPSBhcnJheSgpOwoJCSRyZXNfYXNuID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjYXNuMWlkIHdoZXJlIG9pZCA9ID8gb3JkZXIgYnkgbGZkIiwgYXJyYXkoIm9pZDoiLiR0aGlzLT5vaWQpKTsK'));
	@fwrite($fp, base64_decode('CQl3aGlsZSAoJHJvd19hc24gPSAkcmVzX2Fzbi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkkbmFtZSA9ICRyb3dfYXNuWyduYW1lJ107CgkJCSRzdGFuZGFyZGl6ZWQgPSAkcm93X2Fzblsnc3RhbmRhcmRpemVkJ107CgkJCSR3ZWxsX2tub3duID0gJHJvd19hc25bJ3dl'));
	@fwrite($fp, base64_decode('bGxfa25vd24nXTsKCQkJJGFzbl9pZHNbXSA9IG5ldyBPSURwbHVzT2lkQXNuMUlkKCRuYW1lLCAkc3RhbmRhcmRpemVkLCAkd2VsbF9rbm93bik7CgkJfQoJCXJldHVybiAkYXNuX2lkczsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0SXJpcygpIHsKCQkkaXJpX2lk'));
	@fwrite($fp, base64_decode('cyA9IGFycmF5KCk7CgkJJHJlc19pcmkgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNpcmkgd2hlcmUgb2lkID0gPyBvcmRlciBieSBsZmQiLCBhcnJheSgib2lkOiIuJHRoaXMtPm9pZCkpOwoJCXdoaWxlICgkcm93X2lyaSA9ICRyZXNf'));
	@fwrite($fp, base64_decode('aXJpLT5mZXRjaF9hcnJheSgpKSB7CgkJCSRuYW1lID0gJHJvd19pcmlbJ25hbWUnXTsKCQkJJGxvbmdhcmMgPSAkcm93X2lyaVsnbG9uZ2FyYyddOwoJCQkkd2VsbF9rbm93biA9ICRyb3dfaXJpWyd3ZWxsX2tub3duJ107CgkJCSRpcmlfaWRzW10gPSBuZXcgT0lE'));
	@fwrite($fp, base64_decode('cGx1c09pZElyaSgkbmFtZSwgJGxvbmdhcmMsICR3ZWxsX2tub3duKTsKCQl9CgkJcmV0dXJuICRpcmlfaWRzOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB2aWV3R2V0QXJjQXNuMXMoT0lEcGx1c09pZCAkcGFyZW50PW51bGwsICRzZXBhcmF0b3IgPSAnIHwgJykgewoJ'));
	@fwrite($fp, base64_decode('CSRhc25faWRzID0gYXJyYXkoKTsKCgkJaWYgKGlzX251bGwoJHBhcmVudCkpICRwYXJlbnQgPSBPSURwbHVzT2lkOjpwYXJzZShzZWxmOjpyb290KCkpOwoKCQkkcGFydCA9ICR0aGlzLT5kZWx0YURvdE5vdGF0aW9uKCRwYXJlbnQpOwoKCQlpZiAoc3RycG9zKCRw'));
	@fwrite($fp, base64_decode('YXJ0LCAnLicpID09PSBmYWxzZSkgewoJCQkkYXNuX2lkX29ianMgPSAkdGhpcy0+Z2V0QXNuMUlkcygpOwoJCQlmb3JlYWNoICgkYXNuX2lkX29ianMgYXMgJGFzbl9pZF9vYmopIHsKCQkJCSRhc25faWRzW10gPSAkYXNuX2lkX29iai0+Z2V0TmFtZSgpLicoJy4k'));
	@fwrite($fp, base64_decode('cGFydC4nKSc7CgkJCX0KCQl9CgoJCWlmIChjb3VudCgkYXNuX2lkcykgPT0gMCkgJGFzbl9pZHMgPSBhcnJheSgkcGFydCk7CgkJcmV0dXJuIGltcGxvZGUoJHNlcGFyYXRvciwgJGFzbl9pZHMpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXRBc24xTm90YXRpb24o'));
	@fwrite($fp, base64_decode('JHdpdGhBYmJyPXRydWUpIHsKCQkkYXNuMV9ub3RhdGlvbiA9ICcnOwoJCSRhcmNzID0gZXhwbG9kZSgnLicsICR0aGlzLT5vaWQpOwoKCQlmb3JlYWNoICgkYXJjcyBhcyAkYXJjKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG5hbWUs'));
	@fwrite($fp, base64_decode('IHN0YW5kYXJkaXplZCBmcm9tICMjI2FzbjFpZCB3aGVyZSBvaWQgPSA/IG9yZGVyIGJ5IGxmZCIsIGFycmF5KHNlbGY6OnJvb3QoKS5pbXBsb2RlKCcuJywkYXJjcykpKTsKCgkJCSRuYW1lcyA9IGFycmF5KCk7CgkJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hf'));
	@fwrite($fp, base64_decode('YXJyYXkoKSkgewoJCQkJJG5hbWVzW10gPSAkcm93WyduYW1lJ10uIigiLmVuZCgkYXJjcykuIikiOwoJCQkJaWYgKCRyb3dbJ3N0YW5kYXJkaXplZCddKSB7CgkJCQkJJG5hbWVzW10gPSAkcm93WyduYW1lJ107CgkJCQl9CgkJCX0KCgkJCSRudW1lcmljID0gYXJy'));
	@fwrite($fp, base64_decode('YXlfcG9wKCRhcmNzKTsKCQkJaWYgKGNvdW50KCRuYW1lcykgPiAxKSB7CgkJCQkkZmlyc3RfbmFtZSA9IGFycmF5X3NoaWZ0KCRuYW1lcyk7CgkJCQkkYWJiciA9IF9MKCdPdGhlciBpZGVudGlmaWVycycpLic6JiMxMDsgICAgICAnLmltcGxvZGUoJyYjMTA7ICAg'));
	@fwrite($fp, base64_decode('ICAgJywkbmFtZXMpOwoJCQkJaWYgKCR3aXRoQWJicikgewoJCQkJCSRhc24xX25vdGF0aW9uID0gJzxhYmJyIHRpdGxlPSInLiRhYmJyLiciPicuJGZpcnN0X25hbWUuJzwvYWJicj4gJy4kYXNuMV9ub3RhdGlvbjsKCQkJCX0gZWxzZSB7CgkJCQkJJGFzbjFfbm90'));
	@fwrite($fp, base64_decode('YXRpb24gPSAkZmlyc3RfbmFtZS4nICcuJGFzbjFfbm90YXRpb247CgkJCQl9CgkJCX0gZWxzZSBpZiAoY291bnQoJG5hbWVzKSA9PSAxKSB7CgkJCQkkYXNuMV9ub3RhdGlvbiA9IGFycmF5X3NoaWZ0KCRuYW1lcykuJyAnLiRhc24xX25vdGF0aW9uOwoJCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCQkJJGFzbjFfbm90YXRpb24gPSAkbnVtZXJpYy4nICcuJGFzbjFfbm90YXRpb247CgkJCX0KCQl9CgoJCXJldHVybiAieyAiLnRyaW0oJGFzbjFfbm90YXRpb24pLiIgfSI7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldElyaU5vdGF0aW9uKCR3aXRoQWJi'));
	@fwrite($fp, base64_decode('cj10cnVlKSB7CgkJJGlyaV9ub3RhdGlvbiA9ICcnOwoJCSRhcmNzID0gZXhwbG9kZSgnLicsICR0aGlzLT5vaWQpOwoKCQlmb3JlYWNoICgkYXJjcyBhcyAkYXJjKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG5hbWUsIGxvbmdhcmMg'));
	@fwrite($fp, base64_decode('ZnJvbSAjIyNpcmkgd2hlcmUgb2lkID0gPyBvcmRlciBieSBsZmQiLCBhcnJheShzZWxmOjpyb290KCkuaW1wbG9kZSgnLicsJGFyY3MpKSk7CgoJCQkkaXNfbG9uZ2FyYyA9IGZhbHNlOwoJCQkkbmFtZXMgPSBhcnJheSgpOwoJCQl3aGlsZSAoJHJvdyA9ICRyZXMt'));
	@fwrite($fp, base64_decode('PmZldGNoX2FycmF5KCkpIHsKCQkJCSRpc19sb25nYXJjID0gJHJvd1snbG9uZ2FyYyddOwoJCQkJJG5hbWVzW10gPSAkcm93WyduYW1lJ107CgoJCQkJaWYgKCRpc19sb25nYXJjKSB7CgkJCQkJJG5hbWVzW10gPSAnSm9pbnQtSVNPLUlUVS1ULycuJHJvd1snbmFt'));
	@fwrite($fp, base64_decode('ZSddOyAvLyBMb25nIGFyY3MgY2FuIG9ubHkgYmUgaW5zaWRlIHJvb3QgT0lEIDIKCQkJCX0KCQkJfQoKCQkJJG5hbWVzW10gPSBhcnJheV9wb3AoJGFyY3MpOwoJCQlpZiAoY291bnQoJG5hbWVzKSA+IDIpIHsKCQkJCSRmaXJzdF9uYW1lID0gYXJyYXlfc2hpZnQo'));
	@fwrite($fp, base64_decode('JG5hbWVzKTsKCQkJCSRudW1lcmljID0gYXJyYXlfcG9wKCRuYW1lcyk7CgkJCQkkYWJiciA9IF9MKCdPdGhlciBpZGVudGlmaWVycycpLic6JiMxMDsgICAgICAnLmltcGxvZGUoJyYjMTA7ICAgICAgJywkbmFtZXMpLicmIzEwOycuX0woJ051bWVyaWMgdmFsdWUn'));
	@fwrite($fp, base64_decode('KS4nOiAnLiRudW1lcmljOwoJCQkJJGlyaV9ub3RhdGlvbiA9ICR3aXRoQWJiciA/ICc8YWJiciB0aXRsZT0iJy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+LycuJGlyaV9ub3RhdGlvbiA6ICRmaXJzdF9uYW1lLicvJy4kaXJpX25vdGF0aW9uOwoJCQl9'));
	@fwrite($fp, base64_decode('IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPiAxKSB7CgkJCQkkZmlyc3RfbmFtZSA9IGFycmF5X3NoaWZ0KCRuYW1lcyk7CgkJCQkkYWJiciA9IF9MKCdOdW1lcmljIHZhbHVlJykuJzogJy5hcnJheV9zaGlmdCgkbmFtZXMpOwoJCQkJJGlyaV9ub3RhdGlvbiA9ICR3'));
	@fwrite($fp, base64_decode('aXRoQWJiciA/ICc8YWJiciB0aXRsZT0iJy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+LycuJGlyaV9ub3RhdGlvbiA6ICRmaXJzdF9uYW1lLicvJy4kaXJpX25vdGF0aW9uOwoJCQl9IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPT0gMSkgewoJCQkJJGly'));
	@fwrite($fp, base64_decode('aV9ub3RhdGlvbiA9IGFycmF5X3NoaWZ0KCRuYW1lcykgLiAnLycgLiAkaXJpX25vdGF0aW9uOwoJCQl9CgoJCQlpZiAoJGlzX2xvbmdhcmMpIGJyZWFrOyAvLyB3ZSBkb24ndCB3cml0ZSAvSVRVLVQvIGF0IHRoZSBiZWdpbm5pbmcsIHdoZW4gL0lUVS1UL3h5eiBp'));
	@fwrite($fp, base64_decode('cyBhIGxvbmcgYXJjCgkJfQoJCSRpcmlfbm90YXRpb24gPSAnLycgLiBzdWJzdHIoJGlyaV9ub3RhdGlvbiwgMCwgc3RybGVuKCRpcmlfbm90YXRpb24pLTEpOwoKCQlyZXR1cm4gJGlyaV9ub3RhdGlvbjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0RG90Tm90YXRp'));
	@fwrite($fp, base64_decode('b24oKSB7CgkJcmV0dXJuICR0aGlzLT5vaWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzV2VsbEtub3duKCkgewoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG9pZCBmcm9tICMjI2FzbjFpZCB3aGVyZSBvaWQgPSA/IGFuZCB3ZWxsX2tub3du'));
	@fwrite($fp, base64_decode('ID0gPyIsIGFycmF5KCJvaWQ6Ii4kdGhpcy0+b2lkLHRydWUpKTsKCQlpZiAoJHJlcy0+YW55KCkpIHJldHVybiB0cnVlOwoKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBvaWQgZnJvbSAjIyNpcmkgd2hlcmUgb2lkID0gPyBhbmQgd2VsbF9r'));
	@fwrite($fp, base64_decode('bm93biA9ID8iLCBhcnJheSgib2lkOiIuJHRoaXMtPm9pZCx0cnVlKSk7CgkJaWYgKCRyZXMtPmFueSgpKSByZXR1cm4gdHJ1ZTsKCgkJcmV0dXJuIGZhbHNlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiByZXBsYWNlQXNuMUlkcygkZGVtYW5kZWRBU04xcz1hcnJheSgp'));
	@fwrite($fp, base64_decode('LCAkc2ltdWxhdGU9ZmFsc2UpIHsKCQlpZiAoJHRoaXMtPmlzV2VsbEtub3duKCkpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ09JRCAiJTEiIGlzIGEgIndlbGwta25vd24iIE9JRC4gSXRzIGlkZW50aWZpZXJzIGNhbm5vdCBiZSBjaGFuZ2Vk'));
	@fwrite($fp, base64_decode('LicsJHRoaXMtPm9pZCkpOwoJCX0KCgkJLy8gRmlyc3QgZG8gYSBmZXcgY2hlY2tzCgkJZm9yZWFjaCAoJGRlbWFuZGVkQVNOMXMgYXMgJiRhc24xKSB7CgkJCSRhc24xID0gdHJpbSgkYXNuMSk7CgoJCQlpZiAoc3RybGVuKCRhc24xKSA+IE9JRHBsdXM6OmJhc2VD'));
	@fwrite($fp, base64_decode('b25maWcoKS0+Z2V0VmFsdWUoJ0xJTUlUU19NQVhfT0lEX0FTTjFfSURfTEVOJykpIHsKCQkJCSRtYXhsZW4gPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX09JRF9BU04xX0lEX0xFTicpOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24oX0woJ0FTTi4xIGFscGhhbnVtZXJpYyBpZGVudGlmaWVyICIlMSIgaXMgdG9vIGxvbmcgKG1heCBhbGxvd2VkIGxlbmd0aCAlMiknLCRhc24xLCRtYXhsZW4pKTsKCQkJfQoKCQkJLy8gVmFsaWRhdGUgaWRlbnRpZmllcgoJCQlpZiAoIW9pZF9pZF9p'));
	@fwrite($fp, base64_decode('c192YWxpZCgkYXNuMSkpIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCciJTEiIGlzIG5vdCBhIHZhbGlkIEFTTi4xIGlkZW50aWZpZXIhJywkYXNuMSkpOwoKCQkJLy8gQ2hlY2sgaWYgdGhlIChyZWFsKSBwYXJlbnQgaGFzIGFueSBjb25mbGljdAoJCQkv'));
	@fwrite($fp, base64_decode('LyBVbmxpa2UgSVJJIGlkZW50aWZpZXJzLCBBU04uMSBpZGVudGlmaWVycyBtYXkgYmUgdXNlZCBtdWx0aXBsZSB0aW1lcyAobm90IHJlY29tbWVuZGVkKSwgZXhjZXB0IGlmIG9uZSBvZiB0aGVtIGlzIHN0YW5kYXJkaXplZAoJCQkkcmVzID0gT0lEcGx1czo6ZGIo'));
	@fwrite($fp, base64_decode('KS0+cXVlcnkoInNlbGVjdCBvaWQgZnJvbSAjIyNhc24xaWQgd2hlcmUgbmFtZSA9ID8gYW5kIHN0YW5kYXJkaXplZCA9ID8iLCBhcnJheSgkYXNuMSx0cnVlKSk7CgkJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJJGNoZWNrX29pZCA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNPaWQ6OnBhcnNlKCRyb3dbJ29pZCddKS0+b2lkOwoJCQkJaWYgKChvaWRfdXAoJGNoZWNrX29pZCkgPT09IG9pZF91cCgkdGhpcy0+b2lkKSkgJiYgLy8gc2FtZSBwYXJlbnQKCQkJCSAgICgkY2hlY2tfb2lkICE9PSAkdGhpcy0+b2lkKSkgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBPSUQKCQkJCXsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnQVNOLjEgaWRlbnRpZmllciAiJTEiIGlzIGEgc3RhbmRhcmRpemVkIGlkZW50aWZpZXIgYmVsb25naW5nIHRvIE9JRCAlMicsJGFzbjEs'));
	@fwrite($fp, base64_decode('JGNoZWNrX29pZCkpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBOb3cgZG8gdGhlIHJlYWwgcmVwbGFjZW1lbnQKCQlpZiAoISRzaW11bGF0ZSkgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjYXNuMWlkIHdoZXJlIG9pZCA9ID8iLCBhcnJh'));
	@fwrite($fp, base64_decode('eSgib2lkOiIuJHRoaXMtPm9pZCkpOwoJCQlmb3JlYWNoICgkZGVtYW5kZWRBU04xcyBhcyAmJGFzbjEpIHsKCQkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNhc24xaWQgKG9pZCwgbmFtZSkgdmFsdWVzICg/LCA/KSIsIGFycmF5KCJvaWQ6'));
	@fwrite($fp, base64_decode('Ii4kdGhpcy0+b2lkLCAkYXNuMSkpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiByZXBsYWNlSXJpcygkZGVtYW5kZWRJcmlzPWFycmF5KCksICRzaW11bGF0ZT1mYWxzZSkgewoJCWlmICgkdGhpcy0+aXNXZWxsS25vd24oKSkgewoJCQl0aHJvdyBuZXcg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0V4Y2VwdGlvbihfTCgnT0lEICIlMSIgaXMgYSAid2VsbC1rbm93biIgT0lELiBJdHMgaWRlbnRpZmllcnMgY2Fubm90IGJlIGNoYW5nZWQuJywkdGhpcy0+b2lkKSk7CgkJfQoKCQkvLyBGaXJzdCBkbyBhIGZldyBjaGVja3MKCQlmb3JlYWNoICgkZGVt'));
	@fwrite($fp, base64_decode('YW5kZWRJcmlzIGFzICYkaXJpKSB7CgkJCSRpcmkgPSB0cmltKCRpcmkpOwoKCQkJaWYgKHN0cmxlbigkaXJpKSA+IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0xJTUlUU19NQVhfT0lEX1VOSUNPREVfTEFCRUxfTEVOJykpIHsKCQkJCSRtYXhsZW4g'));
	@fwrite($fp, base64_decode('PSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX09JRF9VTklDT0RFX0xBQkVMX0xFTicpOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1VuaWNvZGUgbGFiZWwgIiUxIiBpcyB0b28gbG9uZyAobWF4IGFsbG93ZWQg'));
	@fwrite($fp, base64_decode('bGVuZ3RoICUyKScsJGlyaSwkbWF4bGVuKSk7CgkJCX0KCgkJCS8vIFZhbGlkYXRlIGlkZW50aWZpZXIKCQkJaWYgKCFpcmlfYXJjX3ZhbGlkKCRpcmksIGZhbHNlKSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJyIlMSIgaXMgbm90IGEgdmFsaWQgSVJJ'));
	@fwrite($fp, base64_decode('IScsJGlyaSkpOwoKCQkJLy8gQ2hlY2sgaWYgdGhlIChyZWFsKSBwYXJlbnQgaGFzIGFueSBjb25mbGljdAoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBvaWQgZnJvbSAjIyNpcmkgd2hlcmUgbmFtZSA9ID8iLCBhcnJheSgkaXJpKSk7CgkJ'));
	@fwrite($fp, base64_decode('CXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJJGNoZWNrX29pZCA9IE9JRHBsdXNPaWQ6OnBhcnNlKCRyb3dbJ29pZCddKS0+b2lkOwoJCQkJaWYgKChvaWRfdXAoJGNoZWNrX29pZCkgPT09IG9pZF91cCgkdGhpcy0+b2lkKSkgJiYgLy8g'));
	@fwrite($fp, base64_decode('c2FtZSBwYXJlbnQKCQkJCSAgICgkY2hlY2tfb2lkICE9PSAkdGhpcy0+b2lkKSkgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBPSUQKCQkJCXsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSVJJICIlMSIgaXMgYWxyZWFkeSB1c2Vk'));
	@fwrite($fp, base64_decode('IGJ5IGFub3RoZXIgT0lEICglMiknLCRpcmksJGNoZWNrX29pZCkpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBOb3cgZG8gdGhlIHJlYWwgcmVwbGFjZW1lbnQKCQlpZiAoISRzaW11bGF0ZSkgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMj'));
	@fwrite($fp, base64_decode('aXJpIHdoZXJlIG9pZCA9ID8iLCBhcnJheSgib2lkOiIuJHRoaXMtPm9pZCkpOwoJCQlmb3JlYWNoICgkZGVtYW5kZWRJcmlzIGFzICYkaXJpKSB7CgkJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjaXJpIChvaWQsIG5hbWUpIHZhbHVlcyAo'));
	@fwrite($fp, base64_decode('PywgPykiLCBhcnJheSgib2lkOiIuJHRoaXMtPm9pZCwgJGlyaSkpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBvbmVfdXAoKSB7CgkJcmV0dXJuIHNlbGY6OnBhcnNlKHNlbGY6Om5zKCkuJzonLm9pZF91cCgkdGhpcy0+b2lkKSk7Cgl9CgoJcHVibGlj'));
	@fwrite($fp, base64_decode('IGZ1bmN0aW9uIGRpc3RhbmNlKCR0bykgewoJCWlmICghaXNfb2JqZWN0KCR0bykpICR0byA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCR0byk7CgkJaWYgKCEoJHRvIGluc3RhbmNlb2YgJHRoaXMpKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuIG9pZF9kaXN0YW5jZSgk'));
	@fwrite($fp, base64_decode('dG8tPm9pZCwgJHRoaXMtPm9pZCk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldEFsdElkcygpIHsKCQlpZiAoJHRoaXMtPmlzUm9vdCgpKSByZXR1cm4gYXJyYXkoKTsKCQkkaWRzID0gcGFyZW50OjpnZXRBbHRJZHMoKTsKCgkJaWYgKCR1dWlkID0gb2lkX3RvX3V1'));
	@fwrite($fp, base64_decode('aWQoJHRoaXMtPm9pZCkpIHsKCQkJLy8gVVVJRC1PSURzIGFyZSByZXByZXNlbnRhdGlvbiBvZiBhbiBVVUlECgkJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2d1aWQnLCAkdXVpZCwgX0woJ0dVSUQgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBPSUQnKSk7CgkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIHsKCQkJLy8gQWxsIG90aGVyIE9JRHMgY2FuIGJlIGZvcm1lZCBpbnRvIGFuIFVVSUQgYnkgbWFraW5nIHRoZW0gYSBuYW1lYmFzZWQgT0lECgkJCS8vIFlvdSBjb3VsZCB0aGVvcmV0aWNhbGx5IGFsc28gZG8gdGhpcyB0byBhbiBVVUlELU9JRCwgYnV0'));
	@fwrite($fp, base64_decode('IHdlIGV4Y2x1ZGUgdGhpcyBjYXNlIHRvIGF2b2lkIHRoYXQgdXNlcnMgYXJlIGNvbmZ1c2VkCgkJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2d1aWQnLCBnZW5fdXVpZF9tZDVfbmFtZWJhc2VkKFVVSURfTkFNRUJBU0VEX05TX09JRCwgJHRoaXMtPm9pZCks'));
	@fwrite($fp, base64_decode('IF9MKCdOYW1lIGJhc2VkIHZlcnNpb24gMyAvIE1ENSBVVUlEIHdpdGggbmFtZXNwYWNlICUxJywnVVVJRF9OQU1FQkFTRURfTlNfT0lEJykpOwoJCQkkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdndWlkJywgZ2VuX3V1aWRfc2hhMV9uYW1lYmFzZWQoVVVJRF9O'));
	@fwrite($fp, base64_decode('QU1FQkFTRURfTlNfT0lELCAkdGhpcy0+b2lkKSwgX0woJ05hbWUgYmFzZWQgdmVyc2lvbiA1IC8gU0hBMSBVVUlEIHdpdGggbmFtZXNwYWNlICUxJywnVVVJRF9OQU1FQkFTRURfTlNfT0lEJykpOwoJCX0KCgkJLy8gKFZUUyBGMCkgSUFOQSBQRU4gdG8gQUlEIE1h'));
	@fwrite($fp, base64_decode('cHBpbmcgKFBJWCBhbGxvd2VkKQoJCSRvaWRfcGFydHMgPSBleHBsb2RlKCcuJywkdGhpcy0+bm9kZUlkKGZhbHNlKSk7CgkJaWYgKChjb3VudCgkb2lkX3BhcnRzKSA9PSA3KSAmJiAoJG9pZF9wYXJ0c1swXSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzFdID09ICcz'));
	@fwrite($fp, base64_decode('JykgJiYgKCRvaWRfcGFydHNbMl0gPT0gJzYnKSAmJiAoJG9pZF9wYXJ0c1szXSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzRdID09ICc0JykgJiYgKCRvaWRfcGFydHNbNV0gPT0gJzEnKSkgewoJCQkkcGVuID0gJG9pZF9wYXJ0c1s2XTsKCQkJJGFpZCA9ICdEMjc2'));
	@fwrite($fp, base64_decode('MDAwMTg2RjAnLiRwZW47CgkJCWlmIChzdHJsZW4oJGFpZCklMiA9PSAxKSAkYWlkIC49ICdGJzsKCQkJJGFpZF9pc19vayA9IGFpZF9jYW5vbml6ZSgkYWlkKTsKCQkJaWYgKCRhaWRfaXNfb2spICRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2FpZCcsICRhaWQs'));
	@fwrite($fp, base64_decode('IF9MKCdBcHBsaWNhdGlvbiBJZGVudGlmaWVyIChJU08vSUVDIDc4MTYpJyksICcgKCcuX0woJ09wdGlvbmFsIFBJWCBhbGxvd2VkLCB3aXRoICJGRiIgcHJlZml4JykuJyknKTsKCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnaWFuYS1wZW4nLCAkcGVuLCBf'));
	@fwrite($fp, base64_decode('TCgnSUFOQSBQcml2YXRlIEVudGVycHJpc2UgTnVtYmVyIChQRU4pJykpOwoJCX0KCgkJLy8gKFZUUyBGMSkgRnJlZU9JRCB0byBBSUQgTWFwcGluZyAoUElYIGFsbG93ZWQpCgkJJG9pZF9wYXJ0cyA9IGV4cGxvZGUoJy4nLCR0aGlzLT5ub2RlSWQoZmFsc2UpKTsK'));
	@fwrite($fp, base64_decode('CQlpZiAoKGNvdW50KCRvaWRfcGFydHMpID09IDkpICYmICgkb2lkX3BhcnRzWzBdID09ICcxJykgJiYgKCRvaWRfcGFydHNbMV0gPT0gJzMnKSAmJiAoJG9pZF9wYXJ0c1syXSA9PSAnNicpICYmICgkb2lkX3BhcnRzWzNdID09ICcxJykgJiYgKCRvaWRfcGFydHNb'));
	@fwrite($fp, base64_decode('NF0gPT0gJzQnKSAmJiAoJG9pZF9wYXJ0c1s1XSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzZdID09ICczNzQ3NicpICYmICgkb2lkX3BhcnRzWzddID09ICc5MDAwJykpIHsKCQkJJG51bWJlciA9ICRvaWRfcGFydHNbOF07CgkJCSRhaWQgPSAnRDI3NjAwMDE4NkYx'));
	@fwrite($fp, base64_decode('Jy4kbnVtYmVyOwoJCQlpZiAoc3RybGVuKCRhaWQpJTIgPT0gMSkgJGFpZCAuPSAnRic7CgkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZCk7CgkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkLCBfTCgn'));
	@fwrite($fp, base64_decode('QXBwbGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdPcHRpb25hbCBQSVggYWxsb3dlZCwgd2l0aCAiRkYiIHByZWZpeCcpLicpJyk7CgkJfQoKCQkvLyAoVlRTIEY2KSBNYXBwaW5nIE9JRC10by1BSUQgaWYgcG9zc2libGUKCQl0'));
	@fwrite($fp, base64_decode('cnkgewoJCQkkdGVzdF9kZXIgPSBPaWREZXJDb252ZXJ0ZXI6OmhleGFycmF5VG9TdHIoT2lkRGVyQ29udmVydGVyOjpvaWRUb0RFUigkdGhpcy0+bm9kZUlkKGZhbHNlKSkpOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkkdGVzdF9kZXIgPSAnMDAnOyAv'));
	@fwrite($fp, base64_decode('LyBlcnJvciwgc2hvdWxkIG5vdCBoYXBwZW4KCQl9CgkJaWYgKHN1YnN0cigkdGVzdF9kZXIsMCwzKSA9PSAnMDYgJykgeyAvLyAwNiA9IEFTTi4xIHR5cGUgb2YgQWJzb2x1dGUgSUQKCQkJJG9pZF9wYXJ0cyA9IGV4cGxvZGUoJy4nLCR0aGlzLT5ub2RlSWQoZmFs'));
	@fwrite($fp, base64_decode('c2UpKTsKCQkJaWYgKCgkb2lkX3BhcnRzWzBdID09ICcyJykgJiYgKCRvaWRfcGFydHNbMV0gPT0gJzk5OScpKSB7CgkJCQkvLyBOb3RlIHRoYXQgIlZpYVRoaW5rU29mdCBFMCIgQUlEIGFyZSBub3QgdW5pcXVlIQoJCQkJLy8gT0lEcGx1cyB3aWxsIHVzZSB0aGUg'));
	@fwrite($fp, base64_decode('cmVsYXRpdmUgREVSIG9mIHRoZSAyLjk5OS54eCBPSUQgYXMgUElYCgkJCQkkYWlkX2NhbmRpZGF0ZSA9ICdEMiA3NiAwMCAwMSA4NiBFMCAnIC4gc3Vic3RyKCR0ZXN0X2Rlciwgc3RybGVuKCcwNiB4eCA4OCAzNyAnKSk7IC8vIFJlbW92ZSBBU04uMSAwNj1UeXBl'));
	@fwrite($fp, base64_decode('LCB4eD1MZW5ndGggYW5kIHRoZSAyLjk5OSBhcmNzICI4OCAzNyIKCQkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZF9jYW5kaWRhdGUpOwoJCQkJaWYgKCEkYWlkX2lzX29rKSB7CgkJCQkJLy8gSWYgREVSIGVuY29kaW5nIGlzIG5vdCBwb3NzaWJsZSAo'));
	@fwrite($fp, base64_decode('dG9vIGxvbmcpLCB0aGVuIHdlIHdpbGwgdXNlIGEgMzIgYml0IHNtYWxsIGhhc2guCgkJCQkJJHNtYWxsX2hhc2ggPSBzdHJfcGFkKGRlY2hleChzbWFsbGhhc2goJHRoaXMtPm5vZGVJZChmYWxzZSkpKSw4LCcwJyxTVFJfUEFEX0xFRlQpOwoJCQkJCSRhaWRfY2Fu'));
	@fwrite($fp, base64_decode('ZGlkYXRlID0gJ0QyIDc2IDAwIDAxIDg2IEUwICcgLiBzdHJ0b3VwcGVyKGltcGxvZGUoJyAnLHN0cl9zcGxpdCgkc21hbGxfaGFzaCwyKSkpOwoJCQkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZF9jYW5kaWRhdGUpOwoJCQkJfQoJCQkJaWYgKCRhaWRf'));
	@fwrite($fp, base64_decode('aXNfb2spICRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2FpZCcsICRhaWRfY2FuZGlkYXRlLCBfTCgnQXBwbGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpKTsKCQkJfSBlbHNlIGlmICgoJG9pZF9wYXJ0c1swXSA9PSAnMCcpICYmICgkb2lkX3Bh'));
	@fwrite($fp, base64_decode('cnRzWzFdID09ICc0JykgJiYgKCRvaWRfcGFydHNbMl0gPT0gJzAnKSAmJiAoJG9pZF9wYXJ0c1szXSA9PSAnMTI3JykgJiYgKCRvaWRfcGFydHNbNF0gPT0gJzAnKSAmJiAoJG9pZF9wYXJ0c1s1XSA9PSAnNycpKSB7CgkJCQkvLyBJbGxlZ2FsIHVzYWdlIG9mIEU4'));
	@fwrite($fp, base64_decode('IGJ5IEdlcm1hbiBCU0ksIHBsdXMgdXNpbmcgRTgrTGVuK09JRCBpbnN0ZWFkIG9mIEU4K09JRCBsaWtlIElTTyBkb2VzCgkJCQkvLyBQSVggcHJvYmFibHkgbm90IHVzZWQKCQkJCSRhaWRfY2FuZGlkYXRlID0gJ0U4ICcuc3Vic3RyKCR0ZXN0X2Rlciwgc3RybGVu'));
	@fwrite($fp, base64_decode('KCcwNiAnKSk7IC8vIFJlbW92ZSBBU04uMSAwNj1UeXBlCgkJCQkkYWlkX2lzX29rID0gYWlkX2Nhbm9uaXplKCRhaWRfY2FuZGlkYXRlKTsKCQkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkX2NhbmRpZGF0ZSwg'));
	@fwrite($fp, base64_decode('X0woJ0FwcGxpY2F0aW9uIElkZW50aWZpZXIgKElTTy9JRUMgNzgxNiknKSk7CgkJCX0gZWxzZSBpZiAoKCRvaWRfcGFydHNbMF0gPT0gJzEnKSAmJiAoJG9pZF9wYXJ0c1sxXSA9PSAnMCcpKSB7CgkJCQkvLyBJU08gU3RhbmRhcmQgQUlEIChPSUQgMS4wLnh4KQoJ'));
	@fwrite($fp, base64_decode('CQkJLy8gT3B0aW9uYWwgUElYIGFsbG93ZWQKCQkJCSRhaWRfY2FuZGlkYXRlID0gJ0U4ICcuc3Vic3RyKCR0ZXN0X2Rlciwgc3RybGVuKCcwNiB4eCAnKSk7IC8vIFJlbW92ZSBBU04uMSAwNj1UeXBlIGFuZCB4eD1MZW5ndGgKCQkJCSRhaWRfaXNfb2sgPSBhaWRf'));
	@fwrite($fp, base64_decode('Y2Fub25pemUoJGFpZF9jYW5kaWRhdGUpOwoJCQkJaWYgKCRhaWRfaXNfb2spICRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2FpZCcsICRhaWRfY2FuZGlkYXRlLCBfTCgnQXBwbGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdP'));
	@fwrite($fp, base64_decode('cHRpb25hbCBQSVggYWxsb3dlZCwgd2l0aG91dCBwcmVmaXgnKS4nKScpOwoJCQl9IGVsc2UgewoJCQkJLy8gQWxsIG90aGVyIE9JRHMgY2FuIGJlIG1hcHBlZCB1c2luZyB0aGUgIlZpYVRoaW5rU29mdCBGNiIgc2NoZW1lLCBidXQgb25seSBpZiB0aGUgREVSIGVu'));
	@fwrite($fp, base64_decode('Y29kaW5nIGlzIG5vdCB0b28gbG9uZwoJCQkJLy8gTm8gUElYIGFsbG93ZWQKCQkJCSRhaWRfY2FuZGlkYXRlID0gJ0QyIDc2IDAwIDAxIDg2IEY2ICcuc3Vic3RyKCR0ZXN0X2Rlciwgc3RybGVuKCcwNiB4eCAnKSk7IC8vIFJlbW92ZSBBU04uMSAwNj1UeXBlIGFu'));
	@fwrite($fp, base64_decode('ZCB4eD1MZW5ndGgKCQkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZF9jYW5kaWRhdGUpOwoJCQkJaWYgKCRhaWRfaXNfb2spICRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2FpZCcsICRhaWRfY2FuZGlkYXRlLCBfTCgnQXBwbGljYXRpb24gSWRlbnRp'));
	@fwrite($fp, base64_decode('ZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdObyBQSVggYWxsb3dlZCcpLicpJyk7CgkJCX0KCQl9CgoJCXJldHVybiAkaWRzOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXREaXJlY3RvcnlOYW1lKCkgewoJCWlmICgkdGhpcy0+aXNSb290KCkpIHJldHVy'));
	@fwrite($fp, base64_decode('biAkdGhpcy0+bnMoKTsKCQkkb2lkID0gJHRoaXMtPm5vZGVJZChmYWxzZSk7CgkJcmV0dXJuICR0aGlzLT5ucygpLidfJy5zdHJfcmVwbGFjZSgnLicsICdfJywgJG9pZCk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiB0cmVlSWNvbkZpbGVuYW1lKCRtb2Rl'));
	@fwrite($fp, base64_decode('KSB7CgkJcmV0dXJuICdpbWcvJy4kbW9kZS4nX2ljb24xNi5wbmcnOwoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	writefile_4();
	if (!is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') != '4a9a5684b97bafc29eb8d851ea7e03605402cec9') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') !== '4a9a5684b97bafc29eb8d851ea7e03605402cec9') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') !== 'b6208d2044ad105c8dd85a07579573207b2faac9') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') !== '4a9a5684b97bafc29eb8d851ea7e03605402cec9') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 979\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 979') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

