<?php /* <ViaThinkSoftSignature>
lwX5sRBPDARDxyQ1+7BxmygGCANDNdpoSE53ACOQ0UKXdY2XfvC5FSFlc7Q8QAzwQ
oMSqv/J+NQ3dhi2C7U/3n1xU4OsSnW/sos0ss+J4eMGm1lefycGNaGf44te/pogqd
OtKOO51g4h4Faq36JuA2V9T1sF0K7vI/nKhEplF9uyy7kaFJ8Z49d8N5+66T1DNxn
6Pk2gBAOurHz6P+1lVZE7wxGg1C8pVIlm78OGDs74lAF+Pqfw+FsCjP8RDhyHRUXj
lPTJVlHDSs7+LfH39sDPvpMh/AKZOGdoxBdh/ssCHZNzSgDZWVxvlmqy1WNvMOCby
eaMtvG/2gMCPRVTob4gU11GNH8ui7PWBmbGBDUpWFLA/RZUCDL/ZkHI5tEmNgpSpq
sW68B1ksAMRKe5k0LJEj62l4sXVCEa8c076rl1H6cRBglRP7f9oG+ueVmE6a+buqc
ON3Z3iWK80EEEf2qkC71eUV4feBKcemvh19cD2figfxTCIkOAeLRnhzi/kn/NMEyQ
DWV5QXO3Nb+y83mGTfYzs4WEtRxgF/hv57qjef93gJ+3ISBQtl4V6snKVLeTZ3dSA
VODRluFSIvFztIu526zGe3lrjFXHWRqkJ8oKOqi8C1r2VewqITC+GWNnGbovIJVDH
IQaYORgZLW92MvNOfSU/l6+5VSB87jV5dlHotZq8G5OoTAxVB13BimntZOPyO5dof
8zNEuToturmwLB5xBllcRcUVEyTKiUbEghMo5jPG4iquES/Y7T5wNNDm9MmL/k5PV
4yy58NX9q7IXd66keNUT6LJZrwxWaSlSH4aIqF/0V1WJzK/P12XoJjbYNspx+wX/z
fj49ACsna7uA8QG4pToOytqUxTpVA0+RkW1zCFzeOH0fzk68BvSiocpNPPvmhwDi0
gqmL+hcEAkgjiIK6rHFObM6ouFad7a8wx7iKmJroV410D3gK+jJ3Ia7bKlxfLeY1N
w1QQM0Xef8A97TbSfQIE4oWf3I9g5z0xuOAODJL7c4028wFnozPDUOaOp0D2YGEQJ
F1NYJ1d6WuGH0+1QxVIGyxVIogERglwn8fCp9j/UP16pG3es1yZTKH2NBnlPPpkHi
0/66cAFgPd+YCJEgkbH1yebVBc2d+gprTh+6aYLZa9IEEP0yGEBqPH5gjl0uGhhDa
CpgzWVSnOAI8b1vfndHhQJ38h5uR70vgUAUTqYPT8MuA0zCV95i2Dj4RHiKAcUB9q
JvFe0keh0WX+1EluAsIAQdWjYmvqjkPpE+JI2fcOdAS9EHr3lQolVqFvKDhJ3NpyO
P88TZlWkMAFJ5Vo72G3deg4MPxHXgH0kwUhvIcgWf/q1omnBPgm1eU6FKpjFNJTu8
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 213') {
	err('This update can only be applied to OIDplus version 2.0.0.213!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: TODO
function writefile_1() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('CklNUE9SVEFOVAotIFRlc3QgYWxsIG5ldyBwcmVwYXJlZCBzdGF0ZW1lbnRzCi0gQ29va2llIGxhdzoKCURvd25sb2FkIENvb2tpZUNvbnNlbnQgY29kZSBpbnRvIF8zcCBmb2xkZXIsIGRvIG5vdCBob3RsaW5rIGl0Cgl3ZSBuZWVkIHRvIGxvZyBhbGwgY29uc2Vu'));
	@fwrite($fp, base64_decode('dHMKCWRvIHdlIG5lZWQgYW4gZXhwbGljaXQgY29uc2VudCBhdCB0aGUgbG9naW4gZm9ybT8KCWRvIHdlIG5lZWQgYSBjb25zZW50IGZvciB0aGUgY29va2llIFNTTF9DSEVDSz8KLSBkc2d2byBkYXRlbnNjaHV0emVya2zkcnVuZywgYWdicyBldGMuCi0gVmVyaWZ5'));
	@fwrite($fp, base64_decode('IHRoYXQgbG9nZ2VyIHdvcmtzIGNvcnJlY3RseSwgY2hlY2sgaWYgYWxsIGxvZ21hc2tzIGFyZSBjb3JyZWN0Ci0gcmVtb3ZlIGJhY2t0aWNrIG9wZXJhdG9ycyBkdWUgdG8gc3FsIGNvbXBhdGliaWxpdHkKLSB0aGUgaW5hY3Rpdml0eSB0aW1lciBpcyBtdWNoIHRv'));
	@fwrite($fp, base64_decode('byBmYXN0IQotIERvZXMgdGhlIGFkbWluIGZlYXR1cmUgIjYwMF9sb2ciIGFsc28gc2hvdyBhbGwgbG9nIGV2ZW50cyBmcm9tIGFsbCBPYmplY3RzIGFuZCBhbGwgUkFzPwotIGF0IGEgbG90IG9mIGZvcm1zLCBpZiB5b3UgcHJlc3MgImVudGVyIiwgdGhlICJmb3Jt'));
	@fwrite($fp, base64_decode('IiB3aWxsIG5vdCBiZSBzdWJtaXR0ZWQgKGUuZy4gImNyZWF0ZSByYSIgcGx1Z2luKSwgY2Fubm90IHJlcHJvZHVjZT8KLSB3ZWJ3aG9pczogYmVzaWRlIFRYVC9YTUwvSlNPTiBtb3JlIG91dHB1dCBtb2RpPyAgQ1NWLCBTL01JTUUgIChhbmQgYWRkIHRoZSBTL01J'));
	@fwrite($fp, base64_decode('TUUga2V5cHVycG9zZSB0byB0aGUgWC41MDkgY2VydGlmaWNhdGVzKQoKUkZDCi0gcHJvb2YgcmVhZAotIHNob3VsZCB0aGUgd2hvbGUgV0hPSVMgb3V0cHV0IGJlIGNhc2UgaW5zZW5zaXRpdmU/Ci0gc2hvdWxkICJkaXN0YW5jZSIgYmUgbWFuZGF0b3J5PwotIHRy'));
	@fwrite($fp, base64_decode('eSB0byB1c2UgTVVTVCwgTVVTVCBOT1QsIFNIQUxMIGV0Yy4gYWNjb3JkaW5nIHRvIFJGQyAyMTE5Ci0gZmVsZGVyIGRpZSBuaWNodCBvcHRpb25hbCBzaW5kID0+IG1hbmRhdG9yeSBrZW5uemVpY2huZW4KCk9PQkUvU0VUVVAKLSBUaGVyZSBzaG91bGQgYmUgYSAi'));
	@fwrite($fp, base64_decode('dGVzdCBkYXRhYmFzZSBjb25uZWN0aW9uIiBidXR0b24KClNNQUxMIFRISU5HUwotIG9mZmVyIHNpZ25hdHVyZSBjaGVja2VyIHRvb2wgdG8gdmVyaWZ5IFdIT0lTIHJlc3BvbnNlcwotIHdlYiBzdm4gdXBkYXRlcjogImJsYWNrIGxpc3QiIChkbyBub3Qgb3Zlcndy'));
	@fwrite($fp, base64_decode('aXRlIHNwZWNpZmljIGZpbGVzIGxpa2UgZmF2aWNvbi5pY28pCi0gbWluaW11bS1hdWZrbGFwcHN0dWZlbiBmdWVyIGFsbGUgb2JqZWt0ZSB1bmQgcGx1Z2lucyBlaW5zdGVsbGJhciBtYWNoZW4sIHNvZGFzcyB6LmIuIGFsbGUgT0lEcyBpbW1lciBiaXMgenVyIHN0'));
	@fwrite($fp, base64_decode('dWZlIDIgYXVmZ2VrbGFwcHQgc2luZCwgd2VubiBtYW4gT0lEcGx1cyBmcmlzY2ggw7ZmZm5ldAotIG1ha2UgdXNlIG9mIGF1dG9sb2FkaW5nIG9mIFBIUCBjbGFzc2VzCi0gUmV2aXZlIHRoZSBpZGVhIG9mICJpbmZvcm1hdGlvbiBvYmplY3RzIiA9IE9JRHMgdGhh'));
	@fwrite($fp, base64_decode('dCBjb250YWluIGNvbnRlbnQKLSBUaGluZ3MgbGlrZSAiY29uZmlnKCktPm1pblJhUGFzc3dvcmRMZW5ndGgiIHNob3VsZCBub3QgYmUgaGFyZGNvZGVkIGZ1bmN0aW9ucywgYnV0IHJhdGhlciBxdWVyaWVkIHdpdGggbm9ybWFsIGdldFZhbHVlKCkgZXRjLgotIEFQ'));
	@fwrite($fp, base64_decode('SSA6IE1ha2UgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhIFJBIGV4aXN0cywgYW5kIHVzZSBpdCBldmVyeXdoZXJlIHdoZXJlIG5lZWRlZAotIFNob3VsZCB3ZSBzZWxmLWhvc3QgcG9seWZpbGwgZHVlIHRvIEdEUFIgc3R1ZmY/Ci0gT2JqZWN0IHR5cGUgcGx1'));
	@fwrite($fp, base64_decode('Z2lucyA6IG5hbWUgYWxsIGZpbGVzICJwbHVnaW4uaW5jLnBocCIgYW5kIGFsc28gdGFrZSBjYXJlIHRoYXQgInRyZWVpY29uLnBuZyIgYW5kICJpY29uX2JpZy5wbmciIGV4aXN0IGV2ZXJ5d2hlcmUgKGJlY29tZSBzdGFuZGFyZCkKLSB3aGVuIGFqYXgucGhwIGdl'));
	@fwrite($fp, base64_decode('bmVyYXRlcyBhIFBIUCBlcnJvciwgdGhlIGNsaWVudCBnaXZlcyBhICJzeW50YXggZXJyb3IiIG1lc3NhZ2UuLi4gaXQgd291bGQgYmUgYmV0dGVyIGlmIHRoZSBjbGllbnQgc2hvd3MgdGhlIGZ1bGwgcGhwIGVycm9yPyBvciBzb21ldGhpbmcgbW9yZSB1c2VyLWZy'));
	@fwrite($fp, base64_decode('aWVuZGx5PwotIGZyZWVvaWQ6IGdtYWlsIGFwcCBkb2VzIG5vdCBoeXBlcmxpbmsgdGhlIGFjdGl2YXRpb24gVVJMLiB3aHk/Ci0gaG93IHRvIGF2b2lkIGludml0ZSBzcGFtbWluZz8KLSB3aGVuIGEgUEhQIGVycm9yIGhhcHBlbnMsIHRoZSBBSkFYIHNjcmlwdCBv'));
	@fwrite($fp, base64_decode('dXRwdXRzICJFcnJvcjogU3ludGF4RXJyb3I6IFVuZXhwZWN0ZWQgdG9rZW4gPCBpbiBKU09OIGF0IHBvc2l0aW9uIDAiIC4uLiBiZXR0ZXIgc2hvdyB0aGUgdXNlciB0aGUgYWN0dWFsIG1lc3NhZ2UKLSAicGx1Z2luLmluYy5waHAiID0+IHJlbmFtZSB0byAqLmNs'));
	@fwrite($fp, base64_decode('YXNzLnBocCA/IE9yIHZpY2UgdmVyc2EgZm9yIG9iamVjdCB0eXBlcz8KLSB3aGVuIGxvZ2luIGV4cGlyZWQsIHJlbW92ZSBlbnRyaWVzIGluIHRoZSB0cmVldmlldwotIGNhbiB3ZSBwdXQgZXZlbiBtb3JlIGNvZGUgKGUuZy4gb2JqZWN0IENSVUQpIGludG8gdGhl'));
	@fwrite($fp, base64_decode('IHBsdWdpbiBkaXJlY3Rvcnk/Ci0gZGlzYWJsZSBzcGVjaWZpYyBmdW5jdGlvbnMgKGUuZy4gaW52aXRlLCBsb2dpbiwgcmFpbmZvLCBmb3Jnb3QgcGFzc3dvcmQpIGlmIHRoZSBwbHVnaW5zIGFyZSBub3QgaW5zdGFsbGVkIChjaGVjayBpZiBjbGFzcyB0eXBlIGlz'));
	@fwrite($fp, base64_decode('IHJlZ2lzdGVyZWQpCi0gbWFrZSB1c2FnZSBvZiBGb3JlaWduIEtleXMKLSA8YWJicj4gaW4gPGNvZGU+IHdpcmQgZG9wcGVsdCB1bnRlcnN0cmljaGVuCi0gd2VubiBtYW4gZWluZSB3ZWxsLWtub3duIE9JRCBhbmxlZ2VuIG32Y2h0ZSwgZGFubiBrb21tdCBmZWhs'));
	@fwrite($fp, base64_decode('ZXIgd2VnZW4gcmVwbGFjZUFzbjEvcmVwbGFjZUlyaSwgYWJlciBkaWUgT0lEIGlzdCBlcnN0ZWxsdC4gRGllIEFQSSBpc3QgYWJlciBuaWNodCByZWxvYWRlZC4gTWFuIHNpZWh0IGFsc28gbmljaHQsIGRhc3MgZGllIE9JRCBlcnN0ZWxsdCB3dXJkZSwgdW5kIGVp'));
	@fwrite($fp, base64_decode('biBlcm5ldXRlciBrbGljayBhdWYgSW5zZXJ0IGb8aHJ0IHp1bSBQcmltYXJ5LUtleSBmZWhsZXIKLSBwcm9ibGVtOiB3ZW5uIGVpbmUgUkEgZWluZ2VsYWRlbiB3ZXJkZW4gbfZjaHRlLCBtdXNzIG1hbiAidXBkYXRlIiBkcvxja2VuIHVuZCBkaWUgT0lEIHdpcmQg'));
	@fwrite($fp, base64_decode('YWxzIHVwZGF0ZWQgbWFya2llcnQKLSBiZWkgbWVocmVyZW4gaWRlbnRpZmllcm4ga2FubiBtYW4gbmljaHQgYmVzdGltbWVuLCB3ZWxjaGVyIGlkZW50aWZpZXIgZGVyIGJldm9yenVndGUgc2VpbiBzb2xsISEKLSBzaG93IHdob2lzIGxpbmtzIG9ubHkgaWYgZm9s'));
	@fwrite($fp, base64_decode('ZGVyICJ3aG9pcy8iIGV4aXN0cwotIGRpc2FibGUgYXV0b2NvbXBsZXRlIG9uIHNvbWUgZm9ybXMKLSBncmFwaGljYWwgaW1wb3J2ZW1lbnRzIG9mIGZvcm1zIChpbnB1dCBlZGl0cyBhbGlnbmVkKQotICJEb2N1bWVudHMiIHNlY3Rpb246IE1ha2UgZG9jdW1lbnRh'));
	@fwrite($fp, base64_decode('dGlvbiBmb3IgdXNhZ2Ugb2YgT0lEcGx1cyAoZm9yIG1lbWJlcnMgb25seSkKLSBhZG1pbiBjb25maWcgbWVociB1c2VyIGZyaWVuZGx5LCBlLmcuIGhhdmluZyB0aGUgZW5hYmxlL2Rpc2FibGUgb2JqZWN0IHR5cGUgc3R1ZmYgKGxpa2UgaW4gcmVnaXN0cmF0aW9u'));
	@fwrite($fp, base64_decode('IHdpemFyZCkgYWxzbyBpbiB0aGUgYWRtaW4gY29udHJvbCBwYW5lbAotIGl0IHdvdWxkIGJlIGNvb2wgaWYgYWZ0ZXIgdGhlIGxvZ2luLCB0aGUgb3BlbmVkIG5vZGVzIGluIHRoZSB0cmVlIHdvdWxkIHN0YXkgb3BlbgotIHNob3VsZCB3ZSBsb2cgc29tZXdoZXJl'));
	@fwrite($fp, base64_decode('LCB3aGVuIHRoZSBhZG1pbiBhY2NvdW50IHdhcyBsb2dnZWQgaW4/Ci0gbXVsdGlsYW5nCi0gaHRtbCBjaGVja2JveDogImxhYmVsIGZvciIgdmVyd2VuZGVuCi0gd2hlbiBqYXZhc2NyaXB0IGZhaWxzLCB0aGUgZm9ybSB3aWxsIGJlIHN1Ym1pdHRlZCB0byAnLi8n'));
	@fwrite($fp, base64_decode('ICwgdGhhdCBpcyBub3QgZ29vZCEgZmFpbGVkIGphdmFzY3JpcHQgbXVzdCByZXR1cm4gZmFsc2UsIHNvIHRoYXQgdGhlIGZvcm0gZG9lcyBub3QgZ2V0IHN1Ym1pdHRlZAotIGFkbWluOiBzaG93IHByaXZhY3kgZW50cmllcyBmcm9tIFJBcyAoYnV0IGdyZXksIHNv'));
	@fwrite($fp, base64_decode('IHlvdSBrbm93IHRoYXQgaXQgaXMgcHJpdmF0ZSkKLSBhZG1pbiBzb2xsIGNvbnRhY3QgZGF0YSBlaW5lciBmcmVtZGVuIFJBIORuZGVybiBk/HJmZW4KLSBmcmVlb2lkOiBhc24uMSB1bmQgaXJpIHNwYWx0ZW4gYXVzYmxlbmRlbiwgZGEgZGllc2VyIGFyYyBrZWlu'));
	@fwrite($fp, base64_decode('ZSBJRHMgdmVyZ2lidD8KLSBQcml2YWN5OiBNZWhyIHN0dWZlbiwgei5iLiBkYXNzIG1hbiBkZW4gcGVyc29uYWwgbmFtZSBldnRsIGdhciBuaWNodCB6ZWlnZW4gbfZjaHRlCi0gTWFuIHNvbGx0ZSAiY3JlYXRlZCIgYWLkbmRlcm4gZPxyZmVuISBvZGVyIGV2dGwg'));
	@fwrite($fp, base64_decode('Z2FueiB2ZXJzdGVja2VuLCB3ZW5uIG1hbiBlcyBuaWNodCB3ZWnfCi0gaW4gZGVyIGNydWQgbGlzdGUgZGVuIHRpdGVsIGRlcyBvYmpla3RzIHplaWdlbgotIG5hdE9yZGVyKCkgaXN0IG51ciBm/HIgT0lEIGf8bHRpZyEhISBhbmRlcmUgc29ydC1tZWNoYW5pc21l'));
	@fwrite($fp, base64_decode('biBm/HIgYW5kZXJlIG9iamVrdHR5cGVuIGVyZm9yZGVybGljaAotIHRpbnltY2UKCW1jZSBkaXJ0eSBmbGFnOgoJCS0gd2VubiBtYW4gd2VjaHNlbCAoanMgdHJlZSBzZWxlY3QpLCBkYW5uIHNvbGwgYWJnZWZyYWd0IHdlcmRlbiwgb2IgdGlueW1jZSBkaXJ0eSBp'));
	@fwrite($fp, base64_decode('c3QsIHVuZCBlaW5lIHdhcm51bmcgYnJpbmdlbiwgYWxzbyBzbywgd2llIHdlbm4gbWFuIGRpZSBzZWl0ZSBuZXUgbGFkZW4gd/xyZGUKCQktIGtyaXRpc2NoZXIgYnVnOiBzZWl0ZSD2ZmZuZW4sIHRpbnkgbWNlIGVkaXRpZXJlbiwgc3BlaWNoZXJuIGtsaWNrZW4u'));
	@fwrite($fp, base64_decode('IGRhbm4gZjUgbmV1IGxhZGVuIChuaWNodCBzdHJnK2Y1KTogZGFubiBpc3QgZGVyIGFsdGUgY29udGVudCB3aWVkZXIgZGEuIGF132VyIG1hbiBkcvxja3Qgc3RyZytmNQotIGpzdHJlZSBzZWxlY3Q6IGF1dG9tYXRpY2FsbHkgc2Nyb2xsIGRvd24KLSBvcHRpc2No'));
	@fwrite($fp, base64_decode('IGF1Zmj8YnNjaGVuLiBkaW5nZSB3aWUgUkE6IG1laHIgZGluZ2UgemVpZ2VuLCBhZHJlc3NlLCBlbWFpbCBldGMKCkZVVFVSRQotIHdlIG5lZWQgdG8gbWFrZSBPSURwbHVzIG1vcmUgY29tcGF0aWJsZSB3aXRoIG5vbi1NeVNRTCBkYXRhYmFzZXMgKGRpZmZlcmVu'));
	@fwrite($fp, base64_decode('dCBTUUwgZGlhbGVjdHMpCi0gbWFrZSB1c2Ugb2YgQ29tcG9zZXIuIFByb2JsZW1zOgogICogV2hhdCBpZiBjb21wb3NlciBpbnN0YWxscyBhIHZlcnNpb24gb2YgYSBjb21wb25lbnQsIHdoaWNoIGlzIGluY29tcGF0aWJsZT8KICAqIFdlIG5lZWQgYSBuZXcgcHVi'));
	@fwrite($fp, base64_decode('bGlzaGluZyBzY3JpcHQsIGJlY2F1c2Ugc2ltcGx5IGNoZWNraW5nIG91dCBTVk4gaXMgbm90IGVub3VnaCBhbnltb3JlLiBUaGUgdXNlciBuZWVkcyB0byBleGVjdXRlIGNvbXBvc2VyLiBCdXQgd2hhdCBpcyBpZiB0aGUgdXNlciBkb24ndCBoYXZlIGNvbXBvc2Vy'));
	@fwrite($fp, base64_decode('IChvciBkb250IGhhdmUgc2hlbGwgYWNjZXNzIGF0IGFsbD8pCi0gaW1wbGVtZW50IHNpdGVtYXBzIHhtbAotIGFkbWluIHNob3VsZCBiZSBhYmxlIHRvIGNoYW5nZSB3ZWxsa25vd24gb2lkcz8KLSBtb3ZlIG9pZCB0byBkaWZmZXJlbnQgYXJjCi0gYmVpIHNlaHIg'));
	@fwrite($fp, base64_decode('Z3Jv32VuIGFyY3MgKHouQi4gUEVOKSBzb2xsZW4gbmljaHQgYWxsZSBhbmdlemVpZ3Qgd2VyZGVuCi0gdW50ZXJzdPx0enVuZyBm/HIgT1JTPwotIE1laHIgIkN1dHRpbmcgRWRnZSBUZWNobm9sb2dpZSIgc29sbCBpbiBkaWVzZW0gUHJvamVrdCB6dW0gVHJhZ2Vu'));
	@fwrite($fp, base64_decode('IGtvbW1lbjogQUpBWCwgSlNPTiwgdm9sbHN05G5kaWcgVVRGOCwgQ1JVRCBmcmFtZXdvcmtzLCBQRE8sIEhUTUw1LCBNb2JpbGVzIERlc2lnbiwgUHVyZSBDU1MsIEF1dG9sb2FkaW5nLCBPYmpla3RvcmllbnRpZXJ1bmcgKGFiZXIgbmljaHQgdW5iZWRpbmd0IE1W'));
	@fwrite($fp, base64_decode('QyksIC4uLjxicj4KLSAiU2VhcmNoIiBwbHVnaW46IEZlYXR1cmUgdG8gc2VhcmNoIGluc2lkZSBkb2N1bWVudGF0aW9uIChkb2MvIGRpcmVjdG9yeSkKLSAiU2VhcmNoIiBwbHVnaW46IEkgd2FudCB0byBzZWFyY2ggaW4gYWxsIG9iamVjdCB0eXBlcyBhbmQgUkFz'));
	@fwrite($fp, base64_decode('LiBOb3QgZmlyc3Qgc2VsZWN0IHRoZSB0eXBlLgotIEhvdyBjYW4gd2UgbWFrZSBzdXJlIHRoYXQgZXhhbXBsZSBvYmplY3RzIGFyZSBub3QgZXhwb3J0ZWQgdXNpbmcgb2lkLWluZm8uY29tIGV4cG9ydD8KLSBBZG1pbmlzdHJhdG9yLUludGVyZmFjZTogZW5hYmxl'));
	@fwrite($fp, base64_decode('IGFuZCBkaXNhYmxlIG9iamVjdCB0eXBlcwotIGRldGFpbGxlZCBjaGFuZ2UtaGlzdG9yeSBvZiBlYWNoIG9pZAoKQlVHUz8KLSBPSURwbHVzIGRvZXMgbm90IHdvcmsgaW4gU2FmYXJpIE1vYmlsZSEKCTEuIFlvdSBjYW5ub3Qgc2Nyb2xsIHRoZSBPSUQgZ3JpZCwg'));
	@fwrite($fp, base64_decode('YXMgdGhlIHNjcm9sbGluZyBhZmZlY3RzIHRoZSB3aG9sZSBwYWdlLCBub3QgdGhlIGdyaWQuCgkyLiBKUXVlcnlVSSBzbGlkZXJzIGNhbm5vdCBiZSBkcmFnZ2VkCgpSRUpFQ1RFRCBJREVBUwotIHNvbGx0ZSBlcyBtZWhlcmUgYWRtaW5zIGdlYmVuPwotIHJlY29y'));
	@fwrite($fp, base64_decode('ZCBmaXJzdCBSQSBhbmQgY3VycmVudCBSQSA9PiBYLjY2MCBkb2VzIG5vdCBoYXZlIHRoaXMgcmVxdWlyZW1lbnQKLSBtYXJrZXJzIERSQUZULCBMRUFGIGFuZCBGUk9aRU4gZXRjLiA9PiB1c2UgIlByb3RlY3RlZCIgaWYgeW91IHdhbnQgdG8gbWFrZSBpdCBpbnZp'));
	@fwrite($fp, base64_decode('c2libGUKCklERUFTCi0gd2hlbiBhIG5ldyBvaWQgaXMgY3JlYXRlZCwgc2hvdWxkIHdlIHJlZGlyZWN0IHRvIHRoZSBuZXdseSBjcmVhdGVkIE9JRCwgc28gdGhhdCB0aGUgdXNlciBjYW4gYmVnaW4gZW50ZXJpbmcgdGhlIGRlc2NyaXB0aW9uIGV0Yz8KLSB3aGVu'));
	@fwrite($fp, base64_decode('IGFuIG9iamVjdCB3YXMgbm90IGZvdW5kLCB0aGUgZXJyb3IgbWVzc2FnZSBjb3VsZCBzaG93IHRoZSBuZXh0IHBvc3NpYmxlIGtub3duIG9iamVjdCAobGlrZSBXZWJXSE9JUyBkb2VzKQotIHRoZSAiZ290byIgcXVpY2tiYXIgKGF0IHRoZSB0b3AgcmlnaHQpIGNv'));
	@fwrite($fp, base64_decode('dWxkIGFsc28gYmUgdXNlZCB0byBzZWFyY2ggc29tZXRoaW5nIC4uLgotIC4uLiBhbHRlcm5hdGl2ZWx5LCB0aGUgIm9iamVjdCBub3QgZm91bmQiIGVycm9yIHBhZ2UgY291bGQgbGluayB0byB0aGUgc2VhcmNoIHBsdWdpbgotIG1ha2UgY29sb3IgcGx1Z2luIGF2'));
	@fwrite($fp, base64_decode('YWlsYWJsZSBmb3IgZXZlcnlvbmUuIEFkbWluIG1heSBwZXJtYW5lbnRseSBzYXZlIHRoZSBjb2xvcnMsIGJ1dCB1c2VycyBzaG91bGQgYmUgYWJsZSB0byBzZXQgdGhlaXIgb3duIHRoZW1lLCBzYXZlZCB2aWEgY29va2llcwotIHRoZXJlIHNob3VsZCBiZSBhIGZv'));
	@fwrite($fp, base64_decode('cm0gd2hlcmUgYW4gUkEgY2FuIHJlcXVlc3QgYW4gaW52aXRhdGlvbiwgZXZlbiBpZiB0aGUgc3VwZXJpb3IgUkEgZGlkIG5vdCBpbnZpdGUgdGhlbS4KICB0aGUgZmFjdCB0aGF0IGEgUkEgZXhpc3RzIGluIHRoZSBPYmplY3QgVGFibGUgc2hvdWxkIHBlcm1pdCB0'));
	@fwrite($fp, base64_decode('aGUgUkEgdG8gaW52aXRlIHRoZWlyc2VsZi4KLSBiZWltIHZlcmxhc3NlbiBkZXIgc2VpdGUsIHouYi4gd2VubiBtYW4gbGlua3MgYXVmIGVpbmVuIG5ldWVuIG1lbvxwdW5rdCBrbGlja3QsIHNvbGwgZWluZSBhYmZyYWdlIGtvbW1lbiwgb2IgbWFuIHNwZWljaGVy'));
	@fwrite($fp, base64_decode('biBt9mNodGUKLSBtYWtlIGEgbGlzdCBvZiBPSURzIHRoYXQgZG8gbm90IGFzc2lnbiBBU04xL0lSSSBpZGVudGlmaWVycyAoZS5nLiBJQU5BIFBFTiBvciBWaWFUaGlua1NvZnQgRnJlZU9JRCksIHRoZW4gcmVqZWN0IGFueSBpZGVudGlmaWVyIHRoZSB1c2VyIHBy'));
	@fwrite($fp, base64_decode('b3ZpZGVzCi0gc2FuaXRpemUgSVB2NCwgSVB2NiwgR1VJRCBkdXJpbmcgY3JlYXRpb24KCWJlaSBJUHY0IHVuZCBJUHY2OiAtIGlmIGl0IGlzIGEgc2luZ2xlIGhvc3QgYWRkcmVzcywgZG9uJ3QgcHV0IC8zMiBvciAvMTI4IHN1ZmZpeAoJICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgIC0gc3RyaWtlIHVubmVjZXNzYXJ5IGJpdHMgdGhhdCBhcmUgbm90IGRlZmluZWQgaW4gdGhlIG5ldG1hc2sgKGFsc28gYXQgdGhlIHdob2lzIG91dHB1dCkKLSBsZXQgdGhlIHN5c2FkbWluIGRlY2lkZSBpZiB0aGV5IHdhbnQgdGhlIHRpdGxlIGJlICJzeXN0'));
	@fwrite($fp, base64_decode('ZW10aXRsZSAtIG9iamVjdCB0aXRsZSIgb3IgIm9iamVjdCB0aXRsZSAtIHN5c3RlbXRpdGxlIgotIHNob3VsZCBhIFJBIGJlIGFibGUgdG8gbWFyayB0aGVpciBvd24gb2lkIGFzIGNvbmZpZGVudGlhbCwgaW5zdGVhZCBvZiBhc2tpbmcgdGhlIHN1cGVyaW9yIFJB'));
	@fwrite($fp, base64_decode('PwotIHNvbGx0ZSBlcyBlaW5lIG9pZHBsdXMgcHJvamVrdHNlaXRlIGdlYmVuIGFuc3RlbGxlIG51ciBkYXMgbmFja3RlIHN5c3RlbT8KLSB2ZW5kb3Igc2lnbmF0dXJlIHRvIHBsdWdpbnMgKyB2aWF0aGlua3NvZnQgc2lnbmF0dXJlcyArICJjaGVjayIgcHJvZ3Jh'));
	@fwrite($fp, base64_decode('bSBpZiBhbGwgc2lnbmF0dXJlcyBtYXRjaAotIGhhdmUgYSBtZW51IGl0ZW0gKHBsdWdpbikgImxhdGVzdCB1cGRhdGVzIiB3aGljaCBsaXN0cyBPSURzIHRoYXQgaGF2ZSBiZWVuIGNoYW5nZWQgb3IgYWRkZWQgcmVjZW50bHk/Ci0gKHVuc3VyZTopIHdvdWxkIGl0'));
	@fwrite($fp, base64_decode('IGJlIGdvb2QgaWYgdGhlIHN1cGVyaW9yIFJBIGNvbW1lbnQgaXMgc2hvd24gaW4gdGhlIG9iamVjdCBwYWdlIGl0c2VsZj8KLSBEdXJpbmcgYW4gb2JqZWN0IGluc2VydGlvbjogSWYgZXZlcnl0aGluZyBpcyBlbXB0eSAoQVNOMSwgSVJJLCBjb21tZW50KSwgc2hv'));
	@fwrite($fp, base64_decode('dWxkIHRoZW4gdGhlcmUgYmUgYSB3YXJuaW5nPwoKUVVFU1RJT05TCi0gc2hvdWxkIHRoZSBjb2xsYXRpb24gYmUgY2FzZSBzZW5zaXRpdmUgb3IgY2FzZSBpbnNlbnNpdGl2ZT8gRm9yIEphdmEgcGFja2FnZSBuYW1lcywgaXQgc2hvdWxkIGJlIGNhc2Ugc2Vuc3Rp'));
	@fwrite($fp, base64_decode('dmllCi0gd29ydCAiZ3VpZCIgb2RlciAidXVpZCIgdmVyd2VuZGVuPwotIGJpdCBvciB0aW55aW50KDEpID8KLSBzaG91bGQgIk9JRCB1cGRhdGVkIiBiZSBzcGxpdCBpbnRvIHR3byBjYXRlZ29yaWVzICJ1cGRhdGVkIGJ5IHN1cGVyaW9yIiAoZS5nLiBpZGVudGlm'));
	@fwrite($fp, base64_decode('aWVycykgYW5kICJ1cGRhdGVkIGJ5IG93bmVyIiAoZGVzY3JpcHRpb24gZXRjKT8KLSAidXBkYXRlZCIgbmljaHQgYWt0dWFsaXNpZXJlbiwgd2VubiBtYW4gbnVyIGF1ZiAidXBkYXRlIiBrbGlja3QgYWJlciBuaXggZ2XkbmRlcnQgaGF0Ci0gIkRvY3VtZW50cyIg'));
	@fwrite($fp, base64_decode('c2VjdGlvbjogQ2FuIGJhc2Ugb2YgVVJMcy9pbWFnZXMgaW5zaWRlIHRoZSBIVE1MIGJlIGNoYW5nZWQgYXV0b21hdGljYWxseT8KClBSSVZBQ1k6Ci0gbWFrZSBhIGNvbmZpZy5pbmMucGhwIHNldHRpbmcgdG8gZGlzYWJsZSBQT0xZRklMTC5JTyBmZWF0dXJlCgpH'));
	@fwrite($fp, base64_decode('VUlEIE1hbmFnZW1lbnQKLSBMZWFmIG5vZGVzIChHVUlEcykgc2hvdWxkIHNob3cvZWRpdCB0aGUgVGl0bGUgaW4gdGhlIENSVUQsIHNvIHlvdSBkb250IGhhdmUgdG8gY2xpY2sgdGhlIEdVSUQgdG8gc2VlIHRoZSB0aXRsZQotIHNlbHRzYW1lciBidWc6IHdlbm4g'));
	@fwrite($fp, base64_decode('aWNoIGd1aWQ6b2lkcGx1cyBlZGl0aWVyZSwgZGFubiD2ZmZuZXQgc2ljaCBsaW5rcyBndWlkOmFjdGl2ZWRpcmVjdG9yeSBiZWltIG5ldWxhZGVuIGRlcyBiYXVtcyBuYWNoIGRlbSB1cGRhdGUuIGlyZ2VuZHdpZSD2ZmZuZXQgZXIgZGVuIHp1bGV0enQgZ2X2ZmZu'));
	@fwrite($fp, base64_decode('ZXRlbiBub2RlIGJlaW0gcmVsb2FkIG5vY2htYWwK'));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_1();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != 'ea19671ab1a011e8d9eed65bbf51d2e9f786b5bb') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== 'ea19671ab1a011e8d9eed65bbf51d2e9f786b5bb') {
		if (@sha1_file('TODO') !== '97d92e1e3f9a725e48b8aaec871ae38c718b3bcc') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('TODO') !== 'ea19671ab1a011e8d9eed65bbf51d2e9f786b5bb') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: index.php
function writefile_2() {
	@$fp = fopen('index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmhlYWRlcignQ29udGVudC1UeXBlOnRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCcpOwoKLy8gQmVmb3JlIHdlIGRvIEFOWVRISU5HLCBjaGVjayBmb3IgZGVwZW5kZW5jaWVzISBEbyBub3QgaW5jbHVk'));
	@fwrite($fp, base64_decode('ZSBhbnl0aGluZyAoZXhjZXB0IHRoZSBHTVAgc3VwcGxlbWVudCkgeWV0LgoKJG1pc3NpbmdfZGVwZW5kZW5jaWVzID0gYXJyYXkoKTsKCmluY2x1ZGVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9nbXBfc3VwcGxlbWVudC5pbmMucGhwJzsKCmlmICghZnVuY3Rp'));
	@fwrite($fp, base64_decode('b25fZXhpc3RzKCdnbXBfaW5pdCcpKSB7CgkvLyBHTVAgUmVxdWlyZWQgZm9yIGluY2x1ZGVzL3V1aWRfZnVuY3Rpb25zLmluYy5waHAKCS8vICAgICAgICAgICAgICAgICAgaW5jbHVkZXMvaXB2Nl9mdW5jdGlvbnMuaW5jLnBocAoJLy8gICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICBwbHVnaW5zL2FkbWluUGFnZXMvNDAwX29pZGluZm9fZXhwb3J0L29pZGluZm9fYXBpLmluYy5waHAgKGlmIEdNUCBpcyBub3QgYXZhaWxhYmxlLCBCQyB3aWxsIGJlIHVzZWQpCgkvLyBOb3RlIHRoYXQgZ21wX3N1cHBsZW1lbnQuaW5jLnBocCB3aWxsIGltcGxl'));
	@fwrite($fp, base64_decode('bWVudCB0aGUgR01QIGZ1bmN0aW9ucyBpZiBCQ01hdGggaXMgcHJlc2VudC4KCS8vIFRoaXMgaXMgdGhlIHJlYXNvbiB3aHkgd2UgdXNlIGZ1bmN0aW9uX2V4aXN0cygnZ21wX2luaXQnKSBpbnN0ZWFkIG9mIGV4dGVuc2lvbl9sb2FkZWQoJ2dtcCcpIAogICAgICAg'));
	@fwrite($fp, base64_decode('ICRtaXNzaW5nX2RlcGVuZGVuY2llc1tdID0gJ0dNUCAoSW5zdGFsbCBpdCB1c2luZyA8Y29kZT5zdWRvIGFwdGl0dWRlIHVwZGF0ZSAmJiBzdWRvIGFwdGl0dWRlIGluc3RhbGwgcGhwLWdtcCAmJiBzdWRvIHNlcnZpY2UgYXBhY2hlMiByZXN0YXJ0PC9jb2RlPiBv'));
	@fwrite($fp, base64_decode('biBMaW51eCBzeXN0ZW1zLiknIC4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgJzxicj5vciBhbHRlcm5hdGl2ZWx5PGJyPicgLgoJICAgICAgICAgICAgICAgICAgICAgICAgICAnQkNNYXRoIChJbnN0YWxsIGl0IHVzaW5nIDxjb2RlPnN1ZG8gYXB0aXR1ZGUg'));
	@fwrite($fp, base64_decode('dXBkYXRlICYmIHN1ZG8gYXB0aXR1ZGUgaW5zdGFsbCBwaHAtYmNtYXRoICYmIHN1ZG8gc2VydmljZSBhcGFjaGUyIHJlc3RhcnQ8L2NvZGU+IG9uIExpbnV4IHN5c3RlbXMuKSc7Cn0KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9zdWJzdHInKSkgewoJLy8gUmVx'));
	@fwrite($fp, base64_decode('dWlyZWQgZm9yIGluY2x1ZGVzL2NsYXNzZXMvT0lEcGx1c1Nlc3Npb25IYW5kbGVyLmNsYXNzLnBocAoJLy8gICAgICAgICAgICAgIGluY2x1ZGVzL29pZF91dGlscy5pbmMucGhwCgkvLyAgICAgICAgICAgICAgM3AvbWluaWZ5L3BhdGgtY29udmVydGVyL0NvbnZl'));
	@fwrite($fp, base64_decode('cnRlci5waHAKCS8vICAgICAgICAgICAgICAzcC8weGJiL1NoYTMuY2xhc3MucGhwCgkkbWlzc2luZ19kZXBlbmRlbmNpZXNbXSA9ICdNQlN0cmluZyAoSW5zdGFsbCBpdCB1c2luZyA8Y29kZT5zdWRvIGFwdGl0dWRlIHVwZGF0ZSAmJiBzdWRvIGFwdGl0dWRlIGlu'));
	@fwrite($fp, base64_decode('c3RhbGwgcGhwLW1ic3RyaW5nICYmIHN1ZG8gc2VydmljZSBhcGFjaGUyIHJlc3RhcnQ8L2NvZGU+IG9uIExpbnV4IHN5c3RlbXMuKSc7Cn0KCmlmIChjb3VudCgkbWlzc2luZ19kZXBlbmRlbmNpZXMpID49IDEpIHsKCWVjaG8gJzxoMT5PSURwbHVzIGVycm9yPC9o'));
	@fwrite($fp, base64_decode('MT4nOwoJZWNobyAnPHA+VGhlIGZvbGxvd2luZyBQSFAgZXh0ZW5zaW9ucyBuZWVkIHRvIGJlIGluc3RhbGxlZCBpbiBvcmRlciB0byBydW4gT0lEcGx1cy48L3A+JzsKCWVjaG8gJzx1bD4nOwoJZm9yZWFjaCAoJG1pc3NpbmdfZGVwZW5kZW5jaWVzIGFzICRkZXBl'));
	@fwrite($fp, base64_decode('bmRlbmN5KSB7CgkJZWNobyAnPGxpPicuJGRlcGVuZGVuY3kuJzwvbGk+JzsKCX0KCWVjaG8gJzwvdWw+JzsKCWRpZSgpOwp9CgovLyBOb3cgd2UgY2FuIGNvbnRpbnVlIQoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2luY2x1ZGVzL29pZHBsdXMuaW5jLnBocCc7'));
	@fwrite($fp, base64_decode('CgpvYl9zdGFydCgpOyAvLyBhbGxvdyBjb29raWUgaGVhZGVycyB0byBiZSBzZW50CgpPSURwbHVzOjppbml0KHRydWUpOwoKJHN0YXRpY19ub2RlX2lkID0gaXNzZXQoJF9SRVFVRVNUWydnb3RvJ10pID8gJF9SRVFVRVNUWydnb3RvJ10gOiAnb2lkcGx1czpzeXN0'));
	@fwrite($fp, base64_decode('ZW0nOwokc3RhdGljID0gT0lEcGx1czo6Z3VpKCk6OmdlbmVyYXRlQ29udGVudFBhZ2UoJHN0YXRpY19ub2RlX2lkKTsKJHN0YXRpY190aXRsZSA9ICRzdGF0aWNbJ3RpdGxlJ107CiRzdGF0aWNfaWNvbiA9ICRzdGF0aWNbJ2ljb24nXTsKJHN0YXRpY19jb250ZW50'));
	@fwrite($fp, base64_decode('ID0gJHN0YXRpY1sndGV4dCddOwoKZnVuY3Rpb24gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKCRzeXN0ZW10aXRsZSwgJHBhZ2V0aXRsZSkgewoJaWYgKCRzeXN0ZW10aXRsZSA9PSAkcGFnZXRpdGxlKSB7CgkJcmV0dXJuICRzeXN0ZW10aXRsZTsK'));
	@fwrite($fp, base64_decode('CX0gZWxzZSB7CgkJcmV0dXJuICRzeXN0ZW10aXRsZSAuICcgLSAnIC4gJHBhZ2V0aXRsZTsKCX0KfQoKJHN5c2lkX29pZCA9IE9JRHBsdXM6OnN5c3RlbV9pZCh0cnVlKTsKaWYgKCEkc3lzaWRfb2lkKSAkc3lzaWRfb2lkID0gJ3Vua25vd24nOwpoZWFkZXIoJ1gt'));
	@fwrite($fp, base64_decode('T0lEcGx1cy1TeXN0ZW1JRDonLiRzeXNpZF9vaWQpOwoKJHN5c191cmwgPSBPSURwbHVzOjpzeXN0ZW1fdXJsKCk7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbVVSTDonLiRzeXNfdXJsKTsKCiRzeXNfdmVyID0gT0lEcGx1czo6Z2V0VmVyc2lvbigpOwppZiAoISRz'));
	@fwrite($fp, base64_decode('eXNfdmVyKSAkc3lzX3ZlciA9ICd1bmtub3duJzsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtVmVyc2lvbjonLiRzeXNfdmVyKTsKCiRzeXNfaW5zdGFsbF90eXBlID0gT0lEcGx1czo6Z2V0SW5zdGFsbFR5cGUoKTsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtSW5z'));
	@fwrite($fp, base64_decode('dGFsbFR5cGU6Jy4kc3lzX2luc3RhbGxfdHlwZSk7Cgokc3lzX3RpdGxlID0gT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCk7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbVRpdGxlOicuJHN5c190aXRsZSk7CgppZiAoY2xhc3NfZXhpc3RzKCdPSURwbHVz'));
	@fwrite($fp, base64_decode('UGFnZUFkbWluQ29sb3JzJykpIHsKCSRjc3MgPSAnb2lkcGx1cy5taW4uY3NzLnBocD9oX3NoaWZ0PScuKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnY29sb3JfaHVlX3NoaWZ0JykvMzYwKS4nJnNfc2hpZnQ9Jy4oT0lEcGx1czo6Y29uZmlnKCktPmdldFZh'));
	@fwrite($fp, base64_decode('bHVlKCdjb2xvcl9zYXRfc2hpZnQnKS8xMDApLicmdl9zaGlmdD0nLihPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2NvbG9yX3ZhbF9zaGlmdCcpLzEwMCk7Cn0gZWxzZSB7CgkkY3NzID0gJ29pZHBsdXMubWluLmNzcy5waHAnOwp9Cgo/PjwhRE9DVFlQRSBo'));
	@fwrite($fp, base64_decode('dG1sPgo8aHRtbCBsYW5nPSJlbiI+Cgo8aGVhZD4KCTxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KCTxtZXRhIG5hbWU9Ik9JRHBsdXMtU3lzdGVtSUQiIGNvbnRlbnQ9Ijw/cGhwIGVjaG8g'));
	@fwrite($fp, base64_decode('aHRtbGVudGl0aWVzKCRzeXNpZF9vaWQpOyA/PiI+Cgk8bWV0YSBuYW1lPSJPSURwbHVzLVN5c3RlbVVSTCIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c191cmwpOyA/PiI+Cgk8bWV0YSBuYW1lPSJPSURwbHVzLVN5c3RlbVZlcnNpb24iIGNv'));
	@fwrite($fp, base64_decode('bnRlbnQ9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRzeXNfdmVyKTsgPz4iPgoJPG1ldGEgbmFtZT0iT0lEcGx1cy1TeXN0ZW1JbnN0YWxsVHlwZSIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c19pbnN0YWxsX3R5cGUpOyA/PiI+Cgk8bWV0'));
	@fwrite($fp, base64_decode('YSBuYW1lPSJPSURwbHVzLVN5c3RlbVRpdGxlIiBjb250ZW50PSI8P3BocCBlY2hvIGh0bWxlbnRpdGllcygkc3lzX3RpdGxlKTsgLyogRG8gbm90IHJlbW92ZS4gVGhpcyBtZXRhIHRhZyBpcyBhY2Vzc2VkIHZpYSBKUyAqLyA/PiI+Cgk8bWV0YSBuYW1lPSJ0aGVt'));
	@fwrite($fp, base64_decode('ZS1jb2xvciIgY29udGVudD0iI0E5RENGMCI+Cgk8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CgoJPHRpdGxlPjw/cGhwIGVjaG8gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRp'));
	@fwrite($fp, base64_decode('dGxlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpLCAkc3RhdGljX3RpdGxlKTsgPz48L3RpdGxlPgoKCTwhLS0gV2UgYXJlIHVzaW5nIGpRdWVyeSAyLjIuMSwgYmVjYXVzZSAzLjMuMSBzZWVtcyB0byBiZSBpbmNvbXBhdGlibGUgd2l0aCBqc1RyZWUg'));
	@fwrite($fp, base64_decode('KEhUTUwgY29udGVudCB3aWxsIG5vdCBiZSBsb2FkZWQgaW50byBqc1RyZWUhKSBUT0RPOiBGaWxlIGJ1ZyByZXBvcnQgLS0+Cgk8c2NyaXB0IHNyYz0iM3AvanF1ZXJ5L2pxdWVyeS0yLjIuMS5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL2Jvb3Rz'));
	@fwrite($fp, base64_decode('dHJhcC9qcy9ib290c3RyYXAubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9qc3RyZWUvanN0cmVlLm1pbi5qcyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0nM3AvdGlueW1jZS90aW55bWNlLm1pbi5qcyc+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0i'));
	@fwrite($fp, base64_decode('M3AvanF1ZXJ5LXVpL2pxdWVyeS11aS5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL2xheW91dC9qcXVlcnkubGF5b3V0Lm1pbi5qcyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3Avc3BhbXNwYW4vc3BhbXNwYW4uanMiPjwvc2NyaXB0PgoJPHNj'));
	@fwrite($fp, base64_decode('cmlwdCBzcmM9IjNwL2JpZ251bWJlci5qcy9iaWdudW1iZXIubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9zaGEzX2pzL3NoYTMuanMiPjwvc2NyaXB0PjwhLS0gaHR0cHM6Ly9naXRodWIuY29tL2VtbjE3OC9qcy1zaGEzIC0tPgoJPD9waHAKCWlm'));
	@fwrite($fp, base64_decode('IChSRUNBUFRDSEFfRU5BQkxFRCkgewoJPz4KCTxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMiPjwvc2NyaXB0PgoJPD9waHAKCX0KCT8+Cgk8c2NyaXB0IHNyYz0ib2lkcGx1cy5taW4uanMucGhwIj48L3NjcmlwdD4K'));
	@fwrite($fp, base64_decode('Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRjc3MpOyA/PiI+CgoJPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiB0eXBlPSJpbWFnZS94LWljb24iIGhyZWY9ImltZy9mYXZpY29uLmljbyI+CgoJPCEtLSBETSAy'));
	@fwrite($fp, base64_decode('OCBNYXkgMjAxOTogUmVtb3ZlZCBDb29raWVDb25zZW50IHRlbXBvcmFyaWx5LCBiZWNhdXNlIGl0IGlzIHBsYWNlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwYWdlIGFuZCB0aGVyZWZvcmUgcnVpbnMgdGhlIEdvb2dsZSBpbmRleCAuLi4gLS0+Cgk8IS0tIFdl'));
	@fwrite($fp, base64_decode('IG1pZ2h0IG5vdCBuZWVkIGl0LCBiZWNhdXNlIGNvb2tpZXMgYXJlIG9ubHkgc2V0IGR1cmluZyBsb2dpbiwgYW5kIGF0IHRoZSBsb2dpbiBwYWdlIHdlIGFscmVhZHkgd2FybiBhYm91dCBjb29raWVzIC0tPgoJPCEtLSBUT0RPOiBCcmluZyBiYWNrPyAtLT4KCTwh'));
	@fwrite($fp, base64_decode('LS0gPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iM3AvY29va2llY29uc2VudC9jb29raWVjb25zZW50Lm1pbi5jc3MiPgoJPHNjcmlwdCBzcmM9IjNwL2Nvb2tpZWNvbnNlbnQvY29va2llY29uc2VudC5taW4uanMiPjwvc2NyaXB0'));
	@fwrite($fp, base64_decode('PgoJPHNjcmlwdD4KCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCl7CgkJd2luZG93LmNvb2tpZWNvbnNlbnQuaW5pdGlhbGlzZSh7CgkJCSJwYWxldHRlIjogewoJCQkJInBvcHVwIjogewoJCQkJCSJiYWNrZ3JvdW5kIjogIiNlZGVm'));
	@fwrite($fp, base64_decode('ZjUiLAoJCQkJCSJ0ZXh0IjogIiM4MzgzOTEiCgkJCQl9LAoJCQkJImJ1dHRvbiI6IHsKCQkJCQkiYmFja2dyb3VuZCI6ICIjNGI4MWU4IgoJCQkJfQoJCQl9LAoJCQkicG9zaXRpb24iOiAiYm90dG9tLXJpZ2h0IgoJCX0pfSk7Cgk8L3NjcmlwdD4gLS0+CjwvaGVh'));
	@fwrite($fp, base64_decode('ZD4KCjxib2R5PgoKPGRpdiBpZD0iZnJhbWVzIj4KCTxkaXYgaWQ9ImNvbnRlbnRfd2luZG93IiBjbGFzcz0iYm9yZGVyYm94Ij4KCQk8P3BocAoJCSRzdGF0aWNfY29udGVudCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygKCQkJJ3w8YVxzKFtePl0qKWhyZWY9Im1h'));
	@fwrite($fp, base64_decode('aWx0bzooW14iXSspIihbXj5dKik+KFtePF0qKTwvYT58aXNtVScsCgkJCWZ1bmN0aW9uICgkdHJlZmZlcikgewoJCQkJJGVtYWlsID0gJHRyZWZmZXJbMl07CgkJCQkkdGV4dCA9ICR0cmVmZmVyWzRdOwoJCQkJcmV0dXJuIHNlY3VyZV9lbWFpbCgkZW1haWwsICR0'));
	@fwrite($fp, base64_decode('ZXh0LCAxKTsgLy8gQW50aVNwYW0KCQkJfSwgJHN0YXRpY19jb250ZW50KTsKCgkJZWNobyAnPGgxIGlkPSJyZWFsX3RpdGxlIj4nOwoJCWlmICgkc3RhdGljX2ljb24gIT0gJycpIGVjaG8gJzxpbWcgc3JjPSInLmh0bWxlbnRpdGllcygkc3RhdGljX2ljb24pLici'));
	@fwrite($fp, base64_decode('IHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSIiPiAnOwoJCWVjaG8gaHRtbGVudGl0aWVzKCRzdGF0aWNfdGl0bGUpLic8L2gxPic7CgkJZWNobyAnPGRpdiBpZD0icmVhbF9jb250ZW50Ij4nLiRzdGF0aWNfY29udGVudC4nPC9kaXY+JzsKCQlpZiAoJF9TRVJW'));
	@fwrite($fp, base64_decode('RVJbJ1JFUVVFU1RfTUVUSE9EJ10gPT0gJ0dFVCcpIHsKCQkJZWNobyAnPGJyPjxwPjxpbWcgc3JjPSJpbWcvc2hhcmUucG5nIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGFsdD0iU2hhcmUiPiA8YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25v'));
	@fwrite($fp, base64_decode('ZGVfaWQpLiciIGlkPSJzdGF0aWNfbGluayIgY2xhc3M9ImdyYXlfZm9vdGVyX2ZvbnQiPlN0YXRpYyBsaW5rIHRvIHRoaXMgcGFnZTwvYT4nOwoJCQllY2hvICc8L3A+JzsKCQl9CgkJZWNobyAnPGJyPic7CgkJPz4KCTwvZGl2PgoKCTxkaXYgaWQ9InN5c3RlbV90'));
	@fwrite($fp, base64_decode('aXRsZV9iYXIiPgoJCTxkaXYgaWQ9InN5c3RlbV90aXRsZV9tZW51IiBvbmNsaWNrPSJtb2JpbGVOYXZCdXR0b25DbGljayh0aGlzKSIgb25tb3VzZWVudGVyPSJtb2JpbGVOYXZCdXR0b25Ib3Zlcih0aGlzKSIgb25tb3VzZWxlYXZlPSJtb2JpbGVOYXZCdXR0b25I'));
	@fwrite($fp, base64_decode('b3Zlcih0aGlzKSI+CgkJCTxkaXYgaWQ9ImJhcjEiPjwvZGl2PgoJCQk8ZGl2IGlkPSJiYXIyIj48L2Rpdj4KCQkJPGRpdiBpZD0iYmFyMyI+PC9kaXY+CgkJPC9kaXY+CgoJCTxkaXYgaWQ9InN5c3RlbV90aXRsZV90ZXh0Ij4KCQkJPGEgPD9waHAgZWNobyBvaWRw'));
	@fwrite($fp, base64_decode('bHVzX2xpbmsoJ29pZHBsdXM6c3lzdGVtJyk7ID8+PgoJCQkJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8xIj5WaWFUaGlua1NvZnQgT0lEcGx1cyAyLjA8L3NwYW4+PGJyPgoJCQkJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8yIj48P3BocCBlY2hvIGh0bWxlbnRpdGll'));
	@fwrite($fp, base64_decode('cyhPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKSk7ID8+PC9zcGFuPgoJCQk8L2E+CgkJPC9kaXY+Cgk8L2Rpdj4KCgk8ZGl2IGlkPSJnb3RvYm94Ij4KCQk8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZ290byIgaWQ9ImdvdG9lZGl0IiB2YWx1ZT0iPD9w'));
	@fwrite($fp, base64_decode('aHAgZWNobyBodG1sZW50aXRpZXMoJHN0YXRpY19ub2RlX2lkKTsgPz4iPgoJCTxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSJHbyIgb25jbGljaz0iZ290b0J1dHRvbkNsaWNrZWQoKSIgaWQ9ImdvdG9idXR0b24iPgoJPC9kaXY+CgoJPGRpdiBpZD0ib2lkdHJl'));
	@fwrite($fp, base64_decode('ZSIgY2xhc3M9ImJvcmRlcmJveCI+CgkJPCEtLSA8bm9zY3JpcHQ+CgkJCTxwPjxiPlBsZWFzZSBlbmFibGUgSmF2YVNjcmlwdCB0byB1c2UgYWxsIGZlYXR1cmVzPC9iPjwvcD4KCQk8L25vc2NyaXB0PiAtLT4KCQk8P3BocCBPSURwbHVzVHJlZTo6bm9uanNfbWVu'));
	@fwrite($fp, base64_decode('dSgpOyA/PgoJPC9kaXY+CjwvZGl2PgoKPC9ib2R5Pgo8L2h0bWw+Cjw/cGhwCgokY29udCA9IG9iX2dldF9jb250ZW50cygpOwpvYl9lbmRfY2xlYW4oKTsKCmVjaG8gJGNvbnQ7Cg=='));
	@fclose($fp);
}
if (!is_file('index.php')) {
	warn('File has vanished! Will re-create it: index.php');
	writefile_2();
	if (!is_file('index.php')) {
		warn('File cannot be created (not existing): index.php');
	} else if (sha1_file('index.php') != '8345b068e0a73b3520d2d83bde097937e250428b') {
		warn('File cannot be created (checksum mismatch): index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index.php', 0644)) {
		warn('Could not change file permissions of index.php');
	}
} else {
	if (@sha1_file('index.php') !== '8345b068e0a73b3520d2d83bde097937e250428b') {
		if (@sha1_file('index.php') !== '378e47919482d7f8ef7eacae2eba41058edd8ea4') {
			warn('File was modified. Will overwrite the changes now: index.php');
			$tmp = pathinfo('index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('index.php') !== '8345b068e0a73b3520d2d83bde097937e250428b') {
			warn('File cannot be written (checksum mismatch): index.php');
		}
	}
}

// Files different: oidplus.js
function writefile_3() {
	@$fp = fopen('oidplus.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgpmdW5jdGlvbiBvaWRwbHVzX2xvYWRTY3JpcHQoc3JjKSB7Cgl2YXIganMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKCWpzLnNyYyA9IHNyYzsK'));
	@fwrite($fp, base64_decode('CWpzLm9ubG9hZCA9IGZ1bmN0aW9uKCkgewoJfTsKCWpzLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsKCX07Cglkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGpzKTsKfQoKdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7CmlmICgodWEuaW5kZXhPZigi'));
	@fwrite($fp, base64_decode('TVNJRSAiKSA+IDApIHx8ICh1YS5pbmRleE9mKCJUcmlkZW50LyIpID4gMCkpIHsKCS8vIENvbXBhdGliaWxpdHkgd2l0aCBJbnRlcm5ldCBFeHBsb3JlcgoJb2lkcGx1c19sb2FkU2NyaXB0KCdodHRwczovL3BvbHlmaWxsLmlvL3YzL3BvbHlmaWxsLm1pbi5qcz9m'));
	@fwrite($fp, base64_decode('ZWF0dXJlcz1mZXRjaCUyQ1VSTCcpOwp9CgovLyAkKCcjaHRtbCcpLmpzdHJlZSgpOwoKY3VycmVudF9ub2RlID0gIiI7CnBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKClN0cmluZy5wcm90b3R5cGUuZXhwbG9kZSA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0'));
	@fwrite($fp, base64_decode('KSB7CgkvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80NTE0MzIzL2phdmFzY3JpcHQtZXF1aXZhbGVudC10by1waHAtZXhwbG9kZQoJY29uc3QgYXJyYXkgPSB0aGlzLnNwbGl0KHNlcGFyYXRvcik7CglpZiAobGltaXQgIT09IHVuZGVmaW5l'));
	@fwrite($fp, base64_decode('ZCAmJiBhcnJheS5sZW5ndGggPj0gbGltaXQpIHsKCQlhcnJheS5wdXNoKGFycmF5LnNwbGljZShsaW1pdCAtIDEpLmpvaW4oc2VwYXJhdG9yKSk7Cgl9CglyZXR1cm4gYXJyYXk7Cn07CgpTdHJpbmcucHJvdG90eXBlLmh0bWxlbnRpdGllcyA9IGZ1bmN0aW9uICgp'));
	@fwrite($fp, base64_decode('IHsKCXJldHVybiB0aGlzLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKfTsKClN0cmluZy5wcm90b3R5cGUuaHRtbF9lbnRpdHlfZGVjb2RlID0g'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gKCkgewoJcmV0dXJuICQoJzx0ZXh0YXJlYSAvPicpLmh0bWwodGhpcykudGV4dCgpOwp9OwoKZnVuY3Rpb24gZ2V0TWV0YShtZXRhTmFtZSkgewoJY29uc3QgbWV0YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWV0YScpOwoKCWZv'));
	@fwrite($fp, base64_decode('ciAobGV0IGkgPSAwOyBpIDwgbWV0YXMubGVuZ3RoOyBpKyspIHsKCQlpZiAobWV0YXNbaV0uZ2V0QXR0cmlidXRlKCduYW1lJykgPT09IG1ldGFOYW1lKSB7CgkJCXJldHVybiBtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKTsKCQl9Cgl9CgoJcmV0dXJu'));
	@fwrite($fp, base64_decode('ICcnOwp9CgpmdW5jdGlvbiBnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSB7CglyZXR1cm4gZ2V0TWV0YSgnT0lEcGx1cy1TeXN0ZW1UaXRsZScpOwp9CgpmdW5jdGlvbiBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoc3lzdGVtdGl0bGUsIHBhZ2V0aXRs'));
	@fwrite($fp, base64_decode('ZSkgewoJaWYgKHN5c3RlbXRpdGxlID09IHBhZ2V0aXRsZSkgewoJCXJldHVybiBzeXN0ZW10aXRsZTsKCX0gZWxzZSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlICsgJyAtICcgKyBwYWdldGl0bGU7Cgl9Cn0KCmZ1bmN0aW9uIGdldFRyZWVMb2FkVVJMKCkgewoJdmFy'));
	@fwrite($fp, base64_decode('IHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpOwoJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJcmV0dXJuIChnb3RvICE9IG51bGwpID8gImFqYXgucGhwP2FjdGlvbj10cmVlX2xvYWQmZ290bz0iK2VuY29kZVVSSUNv'));
	@fwrite($fp, base64_decode('bXBvbmVudChnb3RvKQoJICAgICAgICAgICAgICAgICAgICAgIDogImFqYXgucGhwP2FjdGlvbj10cmVlX2xvYWQiOwp9CgpmdW5jdGlvbiByZWxvYWRDb250ZW50KCkgewoJLy8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiP2dvdG89IitlbmNvZGVVUklDb21wb25l'));
	@fwrite($fp, base64_decode('bnQoY3VycmVudF9ub2RlKTsKCW9wZW5PaWRJblBhbmVsKGN1cnJlbnRfbm9kZSwgZmFsc2UpOwoJJCgnI29pZHRyZWUnKS5qc3RyZWUoInJlZnJlc2giKTsKfQoKZnVuY3Rpb24geF9yZWMoeF9kYXRhLCBpKSB7CgkkKCcjb2lkdHJlZScpLmpzdHJlZSgnb3Blbl9u'));
	@fwrite($fp, base64_decode('b2RlJywgeF9kYXRhW2ldLCBmdW5jdGlvbihlLCBkYXRhKSB7CgkJaWYgKGkrMSA8IHhfZGF0YS5sZW5ndGgpIHsKCQkJeF9yZWMoeF9kYXRhLCBpKzEpOwoJCX0gZWxzZSB7CgkJCXBvcHN0YXRlX3J1bm5pbmcgPSB0cnVlOyAvLyBkb24ndCBjYWxsIG9wZW5PaWRJ'));
	@fwrite($fp, base64_decode('blBhbmVsIGFnYWluCgkJCXRyeSB7CgkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCB4X2RhdGFbaV0pOwoJCQl9IGNhdGNoIChlcnIpIHsKCQkJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCQkJfSBmaW5hbGx5IHsKCQkJCXBvcHN0YXRl'));
	@fwrite($fp, base64_decode('X3J1bm5pbmcgPSBmYWxzZTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBvcGVuT2lkSW5QYW5lbChpZCwgcmVzZWxlY3QvKj1mYWxzZSovKSB7CglyZXNlbGVjdCA9ICh0eXBlb2YgcmVzZWxlY3QgPT09ICd1bmRlZmluZWQnKSA/IGZhbHNlIDogcmVzZWxlY3Q7'));
	@fwrite($fp, base64_decode('CgoJaWYgKHJlc2VsZWN0KSB7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpOwoKCQlwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsgLy8gZG9uJ3QgY2FsbCBvcGVuT2lkSW5QYW5lbCBkdXJpbmcgdHJlZSBzZWxlY3Rpb24KCQl0cnkgewoJCQkv'));
	@fwrite($fp, base64_decode('LyBJZiB0aGUgbm9kZSBpcyBhbHJlYWR5IGxvYWRlZCBpbiB0aGUgdHJlZSwgc2VsZWN0IGl0CgkJCWlmICghJCgnI29pZHRyZWUnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywgaWQpKSB7CgkJCQkvLyBJZiB0aGUgbm9kZSBpcyBub3QgbG9hZGVkLCB0aGVuIHdlIHRy'));
	@fwrite($fp, base64_decode('eSB0byBzZWFyY2ggaXQuCgkJCQkvLyBJZiBpdCBjYW4gYmUgZm91bmQsIHRoZW4gb3BlbiBhbGwgcGFyZW50IG5vZGVzIGFuZCBzZWxlY3QgdGhlIG5vZGUKCQkJCSQuYWpheCh7CgkJCQkJdXJsOiJhamF4LnBocCIsCgkJCQkJbWV0aG9kOiJQT1NUIiwKCQkJCQlk'));
	@fwrite($fp, base64_decode('YXRhOnsKCQkJCQkJYWN0aW9uOiJ0cmVlX3NlYXJjaCIsCgkJCQkJCXNlYXJjaDppZAoJCQkJCX0sCgkJCQkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCQkJCWNvbnNvbGUuZXJyb3IoIkVycm9yOiAiICsgZXJyb3JU'));
	@fwrite($fp, base64_decode('aHJvd24pOwoJCQkJCX0sCgkJCQkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCQkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCQkJCWNvbnNvbGUuZXJyb3IoZGF0YSk7CgkJCQkJCX0gZWxzZSBpZiAoKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkgJiYgKGRh'));
	@fwrite($fp, base64_decode('dGEubGVuZ3RoID4gMCkpIHsKCQkJCQkJCXhfcmVjKGRhdGEsIDApOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJY29uc29sZS5lcnJvcihkYXRhKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pOwoJCQl9CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXBvcHN0YXRlX3J1bm5pbmcg'));
	@fwrite($fp, base64_decode('PSBmYWxzZTsKCQl9IGZpbmFsbHkgewoJCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7CgkJfQoJfQoKCS8vIFRoaXMgbG9hZHMgdGhlIGFjdHVhbCBjb250ZW50CgoJZG9jdW1lbnQudGl0bGUgPSAiIjsKCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgiJm5ic3A7Iik7'));
	@fwrite($fp, base64_decode('CgkkKCcjcmVhbF9jb250ZW50JykuaHRtbCgiTG9hZGluZy4uLiIpOwoJJCgnI3N0YXRpY19saW5rJykuYXR0cigiaHJlZiIsICJpbmRleC5waHA/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCkpOwoJJCgiI2dvdG9lZGl0IikudmFsKGlkKTsKCgkvLyBOb3Jt'));
	@fwrite($fp, base64_decode('YWwgb3BlbmluZyBvZiBhIGRlc2NyaXB0aW9uCglmZXRjaCgnYWpheC5waHA/YWN0aW9uPWdldF9kZXNjcmlwdGlvbiZpZD0nK2VuY29kZVVSSUNvbXBvbmVudChpZCkpCgkudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewoJCXJlc3BvbnNlLmpzb24oKQoJCS50aGVu'));
	@fwrite($fp, base64_decode('KGZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkZhaWxlZCB0byBsb2FkIGNvbnRlbnQ6ICIgKyBkYXRhLmVycm9yKTsKCQkJCWNvbnNvbGUuZXJyb3IoZGF0YS5lcnJvcik7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWRh'));
	@fwrite($fp, base64_decode('dGEuaWQgPSBpZDsKCgkJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlKTsKCQkJdmFyIHN0YXRlID0gewoJCQkJIm5vZGVfaWQiOmlkLAoJCQkJInRpdGxl'));
	@fwrite($fp, base64_decode('SFRNTCI6KGRhdGEuaWNvbiA/ICc8aW1nIHNyYz0iJytkYXRhLmljb24rJyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IicrZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSsnIj4gJyA6ICcnKSArIGRhdGEudGl0bGUuaHRtbGVudGl0aWVzKCksCgkJCQkidGV4'));
	@fwrite($fp, base64_decode('dEhUTUwiOmRhdGEudGV4dCwKCQkJCSJzdGF0aWNsaW5rSFJFRiI6ImluZGV4LnBocD9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSwKCQkJfTsKCQkJaWYgKGN1cnJlbnRfbm9kZSAhPSBpZCkgewoJCQkJd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHN0YXRl'));
	@fwrite($fp, base64_decode('LCBkYXRhLnRpdGxlLCAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoaWQpKTsKCQkJfSBlbHNlIHsKCQkJCXdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgZGF0YS50aXRsZSwgIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSk7CgkJCX0K'));
	@fwrite($fp, base64_decode('CgkJCWlmIChkYXRhLmljb24pIHsKCQkJCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgnPGltZyBzcmM9IicrZGF0YS5pY29uKyciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSInK2RhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkrJyI+ICcgKyBkYXRhLnRpdGxlLmh0'));
	@fwrite($fp, base64_decode('bWxlbnRpdGllcygpKTsKCQkJfSBlbHNlIHsKCQkJCSQoJyNyZWFsX3RpdGxlJykuaHRtbChkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKTsKCQkJfQoJCQkkKCcjcmVhbF9jb250ZW50JykuaHRtbChkYXRhLnRleHQpOwoJCQlkb2N1bWVudC50aXRsZSA9IGNvbWJp'));
	@fwrite($fp, base64_decode('bmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSwgZGF0YS50aXRsZSk7CgkJCWN1cnJlbnRfbm9kZSA9IGlkOwoJCX0pCgkJLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CgkJCWFsZXJ0KCJGYWlsZWQgdG8gbG9hZCBjb250'));
	@fwrite($fp, base64_decode('ZW50OiAiICsgZXJyb3IpOwoJCQljb25zb2xlLmVycm9yKGVycm9yKTsKCQl9KTsKCX0pCgkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQlhbGVydCgiRmFpbGVkIHRvIGxvYWQgY29udGVudDogIiArIGVycm9yKTsKCQljb25zb2xlLmVycm9yKGVycm9yKTsKCX0p'));
	@fwrite($fp, base64_decode('Owp9CgpmdW5jdGlvbiB1cGRhdGVEZXNjKCkgewoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6IHsKCQkJYWN0aW9uOiJVcGRhdGUyIiwKCQkJaWQ6Y3VycmVudF9ub2RlLAoJCQl0aXRsZTooZG9jdW1lbnQuZ2V0RWxl'));
	@fwrite($fp, base64_decode('bWVudEJ5SWQoJ3RpdGxlZWRpdCcpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlZWRpdCcpLnZhbHVlIDogbnVsbCksCgkJCS8vZGVzY3JpcHRpb246KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpID8gZG9jdW1lbnQuZ2V0RWxl'));
	@fwrite($fp, base64_decode('bWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykudmFsdWUgOiBudWxsKQoJCQlkZXNjcmlwdGlvbjp0aW55TUNFLmdldCgnZGVzY3JpcHRpb24nKS5nZXRDb250ZW50KCkKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJ'));
	@fwrite($fp, base64_decode('CQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0'));
	@fwrite($fp, base64_decode('dXMgPT0gMCkgewoJCQkJYWxlcnQoIlVwZGF0ZSBPSyIpOwoJCQkJLy9yZWxvYWRDb250ZW50KCk7CgkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwoJCQkJdmFyIGgxcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoMSIpOwoJCQkJ'));
	@fwrite($fp, base64_decode('Zm9yICh2YXIgaSA9IDA7IGkgPCBoMXMubGVuZ3RoOyBpKyspIHsKCQkJCQl2YXIgaDEgPSBoMXNbaV07CgkJCQkJaDEuaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlZWRpdCcpLnZhbHVlLmh0bWxlbnRpdGllcygpOwoJCQkJfQoJCQkJ'));
	@fwrite($fp, base64_decode('ZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoZ2V0T2lkUGx1c1N5c3RlbVRpdGxlKCksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZWVkaXQnKS52YWx1ZSk7CgoJCQkJdmFyIG1jZSA9IHRpbnltY2UuZ2V0KCdk'));
	@fwrite($fp, base64_decode('ZXNjcmlwdGlvbicpOwoJCQkJaWYgKG1jZSAhPSBudWxsKSBtY2UuaXNOb3REaXJ0eSA9IDE7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBjcnVkQWN0aW9uU2VuZEludml0YXRp'));
	@fwrite($fp, base64_decode('b24ob3JpZ2luLCBlbWFpbCkgewoJLy8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiP2dvdG89b2lkcGx1czppbnZpdGVfcmEkIitlbmNvZGVVUklDb21wb25lbnQoZW1haWwpKyIkIitlbmNvZGVVUklDb21wb25lbnQob3JpZ2luKTsKCW9wZW5PaWRJblBhbmVsKCdv'));
	@fwrite($fp, base64_decode('aWRwbHVzOmludml0ZV9yYSQnK2VtYWlsKyckJytvcmlnaW4sIGZhbHNlKTsKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvbkluc2VydChwYXJlbnQpIHsKCSQuYWpheCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOnsKCQkJYWN0aW9uOiJJ'));
	@fwrite($fp, base64_decode('bnNlcnQiLAoJCQlpZDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZSwKCQkJcmFfZW1haWw6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsJykudmFsdWUsCgkJCWNvbW1lbnQ6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnQn'));
	@fwrite($fp, base64_decode('KS52YWx1ZSwKCQkJYXNuMWlkczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzbjFpZHMnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzJykudmFsdWUgOiBudWxsKSwKCQkJaXJpczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lyaXMnKSA/'));
	@fwrite($fp, base64_decode('IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzJykudmFsdWUgOiBudWxsKSwKCQkJY29uZmlkZW50aWFsOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZScpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGUnKS5jaGVja2VkIDogbnVsbCksCgkJ'));
	@fwrite($fp, base64_decode('CXdlaWQ6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWlkJykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2VpZCcpLmNoZWNrZWQgOiBudWxsKSwKCQkJcGFyZW50OnBhcmVudAoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVy'));
	@fwrite($fp, base64_decode('cm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IGlmIChkYXRhLnN0YXR1cyA9PSAwLypPSyovKSB7CgkJCQkvL2FsZXJ0KCJJbnNlcnQgT0siKTsKCQkJCXJlbG9hZENvbnRlbnQoKTsKCQkJCS8vIFRPRE86IGF1ZiByZWxvYWRDb250ZW50KCkgdmVyemljaHRlbi4gc3RhdHRkZXNzZW4gbnVyIHRyZWUgbGlua3Mg'));
	@fwrite($fp, base64_decode('YWt0dWFsaXNpZXJlbiwgdW5kIHJlY2h0cyBlaW5lIG5ldWUgemVpbGUgenVyIHRhYmVsbGUgaGluenVm/GdlbgoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDEvKlJhTm90RXhpc3RpbmcqLykgewoJCQkJaWYgKGNvbmZpcm0oIlVwZGF0ZSBPSy4gSG93ZXZl'));
	@fwrite($fp, base64_decode('ciwgdGhlIGVtYWlsIGFkZHJlc3MgeW91IGhhdmUgZW50ZXJlZCAoIitkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWwnKS52YWx1ZSsiKSBpcyBub3QgaW4gb3VyIHN5c3RlbS4gRG8geW91IHdhbnQgdG8gc2VuZCBhbiBpbnZpdGF0aW9uLCBzbyB0aGF0'));
	@fwrite($fp, base64_decode('IHRoZSBSQSBjYW4gcmVnaXN0ZXIgYW4gYWNjb3VudCB0byBtYW5hZ2UgdGhlaXIgT0lEcz8iKSkgewoJCQkJCWNydWRBY3Rpb25TZW5kSW52aXRhdGlvbihwYXJlbnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbCcpLnZhbHVlKTsKCQkJCX0gZWxz'));
	@fwrite($fp, base64_decode('ZSB7CgkJCQkJcmVsb2FkQ29udGVudCgpOwoJCQkJCS8vIFRPRE86IGF1ZiByZWxvYWRDb250ZW50KCkgdmVyemljaHRlbi4gc3RhdHRkZXNzZW4gbnVyIHRyZWUgbGlua3MgYWt0dWFsaXNpZXJlbiwgdW5kIHJlY2h0cyBlaW5lIG5ldWUgemVpbGUgenVyIHRhYmVs'));
	@fwrite($fp, base64_decode('bGUgaGluenVm/GdlbgoJCQkJfQoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDIvKlJhTm90RXhpc3RpbmdOb0ludml0YXRpb24qLykgewoJCQkJLy9hbGVydCgiSW5zZXJ0IE9LIik7CgkJCQlyZWxvYWRDb250ZW50KCk7CgkJCQkvLyBUT0RPOiBhdWYgcmVs'));
	@fwrite($fp, base64_decode('b2FkQ29udGVudCgpIHZlcnppY2h0ZW4uIHN0YXR0ZGVzc2VuIG51ciB0cmVlIGxpbmtzIGFrdHVhbGlzaWVyZW4sIHVuZCByZWNodHMgZWluZSBuZXVlIHplaWxlIHp1ciB0YWJlbGxlIGhpbnp1ZvxnZW4KCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiAr'));
	@fwrite($fp, base64_decode('IGRhdGEpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25VcGRhdGUoaWQsIHBhcmVudCkgewoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6IHsKCQkJYWN0aW9uOiJVcGRhdGUiLAoJCQlpZDppZCwK'));
	@fwrite($fp, base64_decode('CQkJcmFfZW1haWw6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsXycraWQpLnZhbHVlLAoJCQljb21tZW50OmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tZW50XycraWQpLnZhbHVlLAoJCQlhc24xaWRzOihkb2N1bWVudC5nZXRFbGVtZW50QnlJ'));
	@fwrite($fp, base64_decode('ZCgnYXNuMWlkc18nK2lkKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzXycraWQpLnZhbHVlIDogbnVsbCksCgkJCWlyaXM6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzXycraWQpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lyaXNf'));
	@fwrite($fp, base64_decode('JytpZCkudmFsdWUgOiBudWxsKSwKCQkJY29uZmlkZW50aWFsOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZV8nK2lkKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlXycraWQpLmNoZWNrZWQgOiBudWxsKSwKCQkJcGFyZW50OnBhcmVudAoJCX0s'));
	@fwrite($fp, base64_decode('CgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlh'));
	@fwrite($fp, base64_decode('bGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwLypPSyovKSB7CgkJCQlhbGVydCgiVXBkYXRlIE9LIik7CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVz'));
	@fwrite($fp, base64_decode('aCIpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDEvKlJhTm90RXhpc3RpbmcqLykgewoJCQkJaWYgKGNvbmZpcm0oIlVwZGF0ZSBPSy4gSG93ZXZlciwgdGhlIGVtYWlsIGFkZHJlc3MgeW91IGhhdmUgZW50ZXJlZCAoIitkb2N1bWVudC5nZXRFbGVtZW50'));
	@fwrite($fp, base64_decode('QnlJZCgncmFfZW1haWxfJytpZCkudmFsdWUrIikgaXMgbm90IGluIG91ciBzeXN0ZW0uIERvIHlvdSB3YW50IHRvIHNlbmQgYW4gaW52aXRhdGlvbiwgc28gdGhhdCB0aGUgUkEgY2FuIHJlZ2lzdGVyIGFuIGFjY291bnQgdG8gbWFuYWdlIHRoZWlyIE9JRHM/Iikp'));
	@fwrite($fp, base64_decode('IHsKCQkJCQljcnVkQWN0aW9uU2VuZEludml0YXRpb24ocGFyZW50LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWxfJytpZCkudmFsdWUpOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCQkJJCgnI29pZHRyZWUnKS5qc3Ry'));
	@fwrite($fp, base64_decode('ZWUoInJlZnJlc2giKTsKCQkJCX0KCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAyLypSYU5vdEV4aXN0aW5nTm9JbnZpdGF0aW9uKi8pIHsKCQkJCWFsZXJ0KCJVcGRhdGUgT0siKTsKCQkJCS8vIHJlbG9hZENvbnRlbnQoKTsKCQkJCSQoJyNvaWR0cmVlJyku'));
	@fwrite($fp, base64_decode('anN0cmVlKCJyZWZyZXNoIik7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBjcnVkQWN0aW9uRGVsZXRlKGlkLCBwYXJlbnQpIHsKCWlmKCF3aW5kb3cuY29uZmlybSgiQXJlIHlvdSBzdXJl'));
	@fwrite($fp, base64_decode('IHRoYXQgeW91IHdhbnQgdG8gZGVsZXRlICIraWQrIj8iKSkgcmV0dXJuIGZhbHNlOwoKCSQuYWpheCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiRGVsZXRlIiwKCQkJaWQ6aWQsCgkJCXBhcmVudDpwYXJl'));
	@fwrite($fp, base64_decode('bnQKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkg'));
	@fwrite($fp, base64_decode('ewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJcmVsb2FkQ29udGVudCgpOwoJCQkJLy8gVE9ETzogYXVmIHJlbG9hZENvbnRlbnQoKSB2ZXJ6aWNodGVuLiBzdGF0dGRlc3NlbiBu'));
	@fwrite($fp, base64_decode('dXIgdHJlZSBsaW5rcyBha3R1YWxpc2llcmVuLCB1bmQgcmVjaHRzIGRpZSB6ZWlsZSBhdXMgZGVyIHRhYmVsbGUgbPZzY2hlbgoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gZGVs'));
	@fwrite($fp, base64_decode('ZXRlUmEoZW1haWwsIGdvdG8pIHsKCWlmKCF3aW5kb3cuY29uZmlybSgiQXJlIHlvdSByZWFsbHkgc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZSAiK2VtYWlsKyI/IChUaGUgT0lEcyBzdGF5IGFjdGl2ZSkiKSkgcmV0dXJuIGZhbHNlOwoKCSQuYWpheCh7CgkJ'));
	@fwrite($fp, base64_decode('dXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiZGVsZXRlX3JhIiwKCQkJZW1haWw6ZW1haWwsCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQoIkVy'));
	@fwrite($fp, base64_decode('cm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsK'));
	@fwrite($fp, base64_decode('CQkJCWFsZXJ0KCJEb25lLiIpOwoJCQkJaWYgKGdvdG8gIT0gbnVsbCkgewoJCQkJCSQoIiNnb3RvZWRpdCIpLnZhbChnb3RvKTsKCQkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChnb3RvKTsKCQkJCX0KCQkJCS8v'));
	@fwrite($fp, base64_decode('IHJlbG9hZENvbnRlbnQoKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9CgkJfQoJfSk7Cn0KCi8vIFRoaXMgZnVuY3Rpb24gb3BlbnMgdGhlICJwYXJlbnRJRCIgbm9kZSwgYW5kIHRoZW4gc2VsZWN0cyB0aGUgImNo'));
	@fwrite($fp, base64_decode('aWxkSUQiIG5vZGUgKHdoaWNoIHNob3VsZCBiZSBiZW5lYXRoIHRoZSBwYXJlbnQgbm9kZSkKZnVuY3Rpb24gb3BlbkFuZFNlbGVjdE5vZGUoY2hpbGRJRCwgcGFyZW50SUQpIHsKCWlmICgkKCcjb2lkdHJlZScpLmpzdHJlZSh0cnVlKS5nZXRfbm9kZShwYXJlbnRJ'));
	@fwrite($fp, base64_decode('RCkpIHsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnb3Blbl9ub2RlJywgcGFyZW50SUQsIGZ1bmN0aW9uKGUsIGRhdGEpIHsgLy8gb3BlbiBwYXJlbnQgbm9kZQoJCQlpZiAoJCgnI29pZHRyZWUnKS5qc3RyZWUodHJ1ZSkuZ2V0X25vZGUoY2hpbGRJRCkpIHsgLy8g'));
	@fwrite($fp, base64_decode('aXMgdGhlIGNoaWxkIHRoZXJlPwoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBjaGlsZElEKTsgLy8gc2VsZWN0IGl0CgkJCX0gZWxzZSB7CgkJCQkvLyBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGNv'));
	@fwrite($fp, base64_decode('bnRlbnQgcGFnZSBjb250YWlucyBicmFuZCBuZXcgaXRlbXMgd2hpY2ggYXJlIG5vdCBpbiB0aGUgdHJlZXZpZXcgeWV0CgkJCQkkKCIjZ290b2VkaXQiKS52YWwoY2hpbGRJRCk7CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICI/Z290bz0iK2VuY29kZVVSSUNv'));
	@fwrite($fp, base64_decode('bXBvbmVudChjaGlsZElEKTsKCQkJfQoJCX0sIHRydWUpOwoJfSBlbHNlIHsKCQkvLyBUaGlzIHNob3VsZCB1c3VhbGx5IG5vdCBoYXBwZW4KCQkkKCIjZ290b2VkaXQiKS52YWwoY2hpbGRJRCk7CgkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiP2dvdG89IitlbmNv'));
	@fwrite($fp, base64_decode('ZGVVUklDb21wb25lbnQoY2hpbGRJRCk7Cgl9Cn0KCiQod2luZG93KS5vbigicG9wc3RhdGUiLCBmdW5jdGlvbihlKSB7Cglwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsKCXRyeSB7CgkJdmFyIGRhdGEgPSBlLm9yaWdpbmFsRXZlbnQuc3RhdGU7CgoJCWN1cnJlbnRf'));
	@fwrite($fp, base64_decode('bm9kZSA9IGRhdGEubm9kZV9pZDsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGRhdGEubm9kZV9pZCk7CgkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKGRhdGEudGl0bGVIVE1MKTsKCQkkKCcjcmVhbF9j'));
	@fwrite($fp, base64_decode('b250ZW50JykuaHRtbChkYXRhLnRleHRIVE1MKTsKCQkkKCcjc3RhdGljX2xpbmsnKS5hdHRyKCJocmVmIiwgZGF0YS5zdGF0aWNsaW5rSFJFRik7CgkJZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoZ2V0T2lkUGx1c1N5'));
	@fwrite($fp, base64_decode('c3RlbVRpdGxlKCksIGRhdGEudGl0bGVIVE1MLmh0bWxfZW50aXR5X2RlY29kZSgpKTsKCX0gY2F0Y2ggKGVycikgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCX0gZmluYWxseSB7CgkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJfQp9KTsKCiQoZG9j'));
	@fwrite($fp, base64_decode('dW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKCgkvLyAtLS0gSnNUcmVlCgoJJCgnI29pZHRyZWUnKQoJLmpzdHJlZSh7CgkJcGx1Z2luczogWydtYXNzbG9hZCcsJ3NlYXJjaCcsJ2NvbmRpdGlvbmFsc2VsZWN0J10sCgkJJ2NvcmUnIDogewoJCQknZGF0YScgOiB7'));
	@fwrite($fp, base64_decode('CgkJCQkidXJsIiA6IGdldFRyZWVMb2FkVVJMKCksCgkJCQkiZGF0YSIgOiBmdW5jdGlvbiAobm9kZSkgewoJCQkJCXJldHVybiB7ICJpZCIgOiBub2RlLmlkIH07CgkJCQl9CgkJCX0sCgkJCSJtdWx0aXBsZSI6IGZhbHNlCgkJfSwKCQknY29uZGl0aW9uYWxzZWxl'));
	@fwrite($fp, base64_decode('Y3QnIDogZnVuY3Rpb24gKG5vZGUpIHsKCQkJaWYgKG5vZGUub3JpZ2luYWwuY29uZGl0aW9uYWxzZWxlY3QgIT09IHVuZGVmaW5lZCkgewoJCQkJcmV0dXJuIGV2YWwobm9kZS5vcmlnaW5hbC5jb25kaXRpb25hbHNlbGVjdCk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gdHJ1ZTsgLy8gYWxsb3cgc2VsZWN0CgkJCX0KCQl9LAoJfSkKCS5vbigncmVhZHkuanN0cmVlJywgZnVuY3Rpb24gKGUsIGRhdGEpIHsKCQl2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CgkJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFy'));
	@fwrite($fp, base64_decode('YW1zLmdldCgiZ290byIpOwoJCWlmIChnb3RvID09IG51bGwpIGdvdG8gPSAib2lkcGx1czpzeXN0ZW0iOyAvLyB0aGUgcGFnZSB3YXMgbm90IGNhbGxlZCB3aXRoID9nb3RvPS4uLgoJCSQoIiNnb3RvZWRpdCIpLnZhbChnb3RvKTsKCgkJLy8gQnkgc2V0dGluZyBj'));
	@fwrite($fp, base64_decode('dXJyZW50X25vZGUsIHNlbGVjdF9ub2RlKCkgd2lsbCBub3QgY2F1c2UgYWpheC5waHA/YWN0aW9uPWdldF9kZXNjcmlwdGlvbiB0byBsb2FkIChzaW5jZSB3ZSBhbHJlYWR5IGxvYWRlZCB0aGUgZmlyc3Qgc3RhdGljIGNvbnRlbnQgdmlhIFBIUCwgZm9yIHNlYXJj'));
	@fwrite($fp, base64_decode('aCBlbmdpbmVzIG1haW5seSkKCQkvLyBCdXQgdGhlbiB3ZSBuZWVkIHRvIHNldCB0aGUgaGlzdG9yeSBzdGF0ZSBtYW51YWxseQoJCWN1cnJlbnRfbm9kZSA9IGdvdG87CgkJd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHsKCQkJIm5vZGVfaWQiOmdvdG8sCgkJ'));
	@fwrite($fp, base64_decode('CSJ0aXRsZUhUTUwiOiQoJyNyZWFsX3RpdGxlJykuaHRtbCgpLAoJCQkidGV4dEhUTUwiOiQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKCksCgkJCSJzdGF0aWNsaW5rSFJFRiI6ImluZGV4LnBocD9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pLAoJCX0sICQo'));
	@fwrite($fp, base64_decode('JyNyZWFsX3RpdGxlJykuaHRtbCgpLCAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoZ290bykpOwoKCQlpZiAoZ290byAhPSBudWxsKSBkYXRhLmluc3RhbmNlLnNlbGVjdF9ub2RlKFtnb3RvXSk7CgoJCXNldFRpbWVvdXQoZ2xheW91dFdvcmthcm91bmRBLCAx'));
	@fwrite($fp, base64_decode('MDApOwoJCXNldFRpbWVvdXQoZ2xheW91dFdvcmthcm91bmRCLCAxMDApOwoJfSkKCS5vbignc2VsZWN0X25vZGUuanN0cmVlJywgZnVuY3Rpb24gKG5vZGUsIHNlbGVjdGVkLCBldmVudCkgewoJCW1vYmlsZU5hdkNsb3NlKCk7CgoJCXZhciBpZCA9IHNlbGVjdGVk'));
	@fwrite($fp, base64_decode('Lm5vZGUuaWQ7CgkJaWYgKCghcG9wc3RhdGVfcnVubmluZykgJiYgKGN1cnJlbnRfbm9kZSAhPSBpZCkpIHsKCQkJb3Blbk9pZEluUGFuZWwoaWQsIGZhbHNlKTsKCQl9Cgl9KTsKCgkvLyAtLS0gTGF5b3V0CgoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5c3Rl'));
	@fwrite($fp, base64_decode('bV90aXRsZV9tZW51Jykuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgoJJCgnI29pZHRyZWUnKS5hZGRDbGFzcygndWktbGF5b3V0LXdlc3QnKTsKCSQoJyNjb250ZW50X3dpbmRvdycpLmFkZENsYXNzKCd1aS1sYXlvdXQtY2VudGVyJyk7CgkkKCcjc3lzdGVtX3Rp'));
	@fwrite($fp, base64_decode('dGxlX2JhcicpLmFkZENsYXNzKCd1aS1sYXlvdXQtbm9ydGgnKTsKCWdsYXlvdXQgPSAkKCcjZnJhbWVzJykubGF5b3V0KHsKCQlub3J0aF9fc2l6ZTogICAgICAgICAgICAgICAgICA0MCwKCQlub3J0aF9fc2xpZGFibGU6ICAgICAgICAgICAgICBmYWxzZSwKCQlu'));
	@fwrite($fp, base64_decode('b3J0aF9fY2xvc2FibGU6ICAgICAgICAgICAgICBmYWxzZSwKCQlub3J0aF9fcmVzaXphYmxlOiAgICAgICAgICAgICBmYWxzZSwKCQl3ZXN0X19zaXplOiAgICAgICAgICAgICAgICAgICA0NTAsCgkJd2VzdF9fc3BhY2luZ19jbG9zZWQ6ICAgICAgICAgMjAsCgkJ'));
	@fwrite($fp, base64_decode('d2VzdF9fdG9nZ2xlckxlbmd0aF9jbG9zZWQ6ICAgMjMwLAoJCXdlc3RfX3RvZ2dsZXJBbGlnbl9jbG9zZWQ6ICAgICJ0b3AiLAoJCXdlc3RfX3RvZ2dsZXJDb250ZW50X2Nsb3NlZDogICJPPGJyPkI8YnI+Sjxicj5FPGJyPkM8YnI+VDxicj48YnI+VDxCUj5SPEJS'));
	@fwrite($fp, base64_decode('PkU8QlI+RSIsCgkJd2VzdF9fdG9nZ2xlclRpcF9jbG9zZWQ6ICAgICAgIk9wZW4gJiBQaW4gTWVudSIsCgkJd2VzdF9fc2xpZGVyVGlwOiAgICAgICAgICAgICAgIlNsaWRlIE9wZW4gTWVudSIsCgkJd2VzdF9fc2xpZGVUcmlnZ2VyX29wZW46ICAgICAgIm1vdXNl'));
	@fwrite($fp, base64_decode('b3ZlciIsCgkJY2VudGVyX19tYXNrQ29udGVudHM6ICAgICAgICAgdHJ1ZSAvLyBJTVBPUlRBTlQgLSBlbmFibGUgaWZyYW1lIG1hc2tpbmcKCX0pOwoKCSQoIiNnb3RvYm94IikuYWRkQ2xhc3MoIm1vYmlsZWhpZGRlbiIpOwoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5'));
	@fwrite($fp, base64_decode('SWQoJ2dvdG9ib3gnKS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCSQoJyNnb3RvZWRpdCcpLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CgkJdmFyIGtleWNvZGUgPSAoZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC53aGljaCk7CgkJaWYg'));
	@fwrite($fp, base64_decode('KGtleWNvZGUgPT0gJzEzJykgewoJCQlnb3RvQnV0dG9uQ2xpY2tlZCgpOwoJCX0KCX0pOwp9KTsKCmZ1bmN0aW9uIGdsYXlvdXRXb3JrYXJvdW5kQSgpIHsKCS8vICJCdWcgQSI6IFNvbWV0aW1lcywgdGhlIGRlc2lnbiBpcyBjb21wbGV0ZWx5IGRlc3Ryb3llZCBh'));
	@fwrite($fp, base64_decode('ZnRlciByZWxvYWRpbmcgdGhlIHBhZ2UuIEl0IGRvZXMgbm90IGhlbHAgd2hlbiBnbGF5b3V0LnJlc2l6ZUFsbCgpCgkvLyAgICAgICAgICBpcyBjYWxsZWQgYXQgdGhlIGJlZ2lubmluZyAoZS5nLiBkdXJpbmcgdGhlIHJlYWR5IGZ1bmN0aW9uKSwgYW5kIGl0IGRv'));
	@fwrite($fp, base64_decode('ZXMgbm90IGhlbHAgaWYgd2Ugd2FpdCA1MDBtcy4KCS8vICAgICAgICAgIFNvIHdlIGRvIGl0IGFsbCB0aGUgdGltZS4gSXQgaGFzIHByb2JhYmx5IHNvbWV0aGluZyB0byBkbyB3aXRoIHNsb3cgbG9hZGluZyB0aW1lcywgc2luY2UgdGhlIGVycm9yCgkvLyAgICAg'));
	@fwrite($fp, base64_decode('ICAgICBkb2VzIG9ubHkgYXBwZWFyIHdoZW4gdGhlIHBhZ2UgaXMgImJsYW5rIiBmb3IgYSBzaG9ydCB3aGlsZSB3aGlsZSBpdCBpcyBsb2FkaW5nLgoJZ2xheW91dC5yZXNpemVBbGwoKTsKCXNldFRpbWVvdXQoZ2xheW91dFdvcmthcm91bmRBLCAxMDApOwp9Cgpm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBnbGF5b3V0V29ya2Fyb3VuZEIoKSB7CgkvLyAiQnVnIEIiOiBTb21ldGltZXMsIGFmdGVyIHJlbG9hZCwgd2VpcmQgc3BhY2UgYmV0d2VlbiBvaWR0cmVlIGFuZCBjb250ZW50IHdpbmRvdywgYmVjYXVzZSBvaWR0cmVlIGhhcyBzaXplIG9mIDQzOHB4'));
	@fwrite($fp, base64_decode('Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib2lkdHJlZSIpLnN0eWxlLndpZHRoID0gIjQ1MHB4IjsKfQoKZnVuY3Rpb24gbW9iaWxlTmF2Q2xvc2UoKSB7CglpZiAoJCgiI3N5c3RlbV90aXRsZV9tZW51IikuaXMoIjpoaWRkZW4iKSkgewoJCXJldHVybjsKCX0K'));
	@fwrite($fp, base64_decode('CgkkKCIjb2lkdHJlZSIpLnNsaWRlVXAoIm1lZGl1bSIpLnByb21pc2UoKS5kb25lKGZ1bmN0aW9uKCkgewoJCSQoIiNvaWR0cmVlIikuYWRkQ2xhc3MoInVpLWxheW91dC13ZXN0Iik7CgkJJCgiI29pZHRyZWUiKS5zaG93KCk7Ci8vCQkkKCIjZ290b2JveCIpLmhp'));
	@fwrite($fp, base64_decode('ZGUoKTsKCQkkKCIjZ290b2JveCIpLmFkZENsYXNzKCJtb2JpbGVoaWRkZW4iKTsKCX0pOwoJJCgiI3N5c3RlbV90aXRsZV9tZW51IikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOwp9CgpmdW5jdGlvbiBtb2JpbGVOYXZPcGVuKCkgewoJJCgiI29pZHRyZWUiKS5oaWRl'));
	@fwrite($fp, base64_decode('KCk7CgkkKCIjb2lkdHJlZSIpLnJlbW92ZUNsYXNzKCJ1aS1sYXlvdXQtd2VzdCIpOwoJJCgiI29pZHRyZWUiKS5zbGlkZURvd24oIm1lZGl1bSIpOwovLwkkKCIjZ290b2JveCIpLnNob3coKTsKCSQoIiNnb3RvYm94IikucmVtb3ZlQ2xhc3MoIm1vYmlsZWhpZGRl'));
	@fwrite($fp, base64_decode('biIpOwoJJCgiI3N5c3RlbV90aXRsZV9tZW51IikuYWRkQ2xhc3MoImFjdGl2ZSIpOwp9CgpmdW5jdGlvbiBtb2JpbGVOYXZCdXR0b25DbGljayhzZW5kZXIpIHsKCWlmICgkKCIjb2lkdHJlZSIpLmhhc0NsYXNzKCJ1aS1sYXlvdXQtd2VzdCIpKSB7CgkJbW9iaWxl'));
	@fwrite($fp, base64_decode('TmF2T3BlbigpOwoJfSBlbHNlIHsKCQltb2JpbGVOYXZDbG9zZSgpOwoJfQp9CgpmdW5jdGlvbiBtb2JpbGVOYXZCdXR0b25Ib3ZlcihzZW5kZXIpIHsKCXNlbmRlci5jbGFzc0xpc3QudG9nZ2xlKCJob3ZlciIpOwp9CgpmdW5jdGlvbiBnb3RvQnV0dG9uQ2xpY2tl'));
	@fwrite($fp, base64_decode('ZCgpIHsKCW9wZW5PaWRJblBhbmVsKCQoIiNnb3RvZWRpdCIpLnZhbCgpLCAxKTsKfQoKZnVuY3Rpb24gZnJkbF93ZWlkX2NoYW5nZSgpIHsKCWZyb21fYmFzZSA9IDM2OwoJZnJvbV9jb250cm9sID0gIiN3ZWlkIjsKCXRvX2Jhc2UgPSAxMDsKCXRvX2NvbnRyb2wg'));
	@fwrite($fp, base64_decode('PSAiI2lkIjsKCglpbnAgPSAkKGZyb21fY29udHJvbCkudmFsKCkudHJpbSgpOwoJaWYgKGlucCA9PSAiIikgewoJCSQodG9fY29udHJvbCkudmFsKCIiKTsKCX0gZWxzZSB7CgkJeCA9IEJpZ051bWJlcihpbnAsIGZyb21fYmFzZSk7CgkJaWYgKGlzTmFOKHgpKSB7'));
	@fwrite($fp, base64_decode('CgkJCSQodG9fY29udHJvbCkudmFsKCIiKTsKCQl9IGVsc2UgewoJCQkkKHRvX2NvbnRyb2wpLnZhbCh4LnRvU3RyaW5nKHRvX2Jhc2UpKTsKCQl9Cgl9Cn0KCmZ1bmN0aW9uIGZyZGxfb2lkaWRfY2hhbmdlKCkgewoJZnJvbV9iYXNlID0gMTA7Cglmcm9tX2NvbnRy'));
	@fwrite($fp, base64_decode('b2wgPSAiI2lkIjsKCXRvX2Jhc2UgPSAzNjsKCXRvX2NvbnRyb2wgPSAiI3dlaWQiOwoKCWlucCA9ICQoZnJvbV9jb250cm9sKS52YWwoKS50cmltKCk7CglpZiAoaW5wID09ICIiKSB7CgkJJCh0b19jb250cm9sKS52YWwoIiIpOwoJfSBlbHNlIHsKCQl4ID0gQmln'));
	@fwrite($fp, base64_decode('TnVtYmVyKGlucCwgZnJvbV9iYXNlKTsKCQlpZiAoaXNOYU4oeCkpIHsKCQkJJCh0b19jb250cm9sKS52YWwoIiIpOwoJCX0gZWxzZSB7CgkJCSQodG9fY29udHJvbCkudmFsKHgudG9TdHJpbmcodG9fYmFzZSkpOwoJCX0KCX0KfQo='));
	@fclose($fp);
}
if (!is_file('oidplus.js')) {
	warn('File has vanished! Will re-create it: oidplus.js');
	writefile_3();
	if (!is_file('oidplus.js')) {
		warn('File cannot be created (not existing): oidplus.js');
	} else if (sha1_file('oidplus.js') != '635ff5e0301696536169b33c59a31ada73a62740') {
		warn('File cannot be created (checksum mismatch): oidplus.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.js', 0644)) {
		warn('Could not change file permissions of oidplus.js');
	}
} else {
	if (@sha1_file('oidplus.js') !== '635ff5e0301696536169b33c59a31ada73a62740') {
		if (@sha1_file('oidplus.js') !== '0de55ddc3e5f146c1f79936a76f9c3b1b45e5c9c') {
			warn('File was modified. Will overwrite the changes now: oidplus.js');
			$tmp = pathinfo('oidplus.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('oidplus.js') !== '635ff5e0301696536169b33c59a31ada73a62740') {
			warn('File cannot be written (checksum mismatch): oidplus.js');
		}
	}
}

// Files different: plugins/publicPages/500_resources/plugin.inc.php
function writefile_4() {
	@$fp = fopen('plugins/publicPages/500_resources/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmRlZmluZSgnQ0ZHX1JFU09VUkNFX1BMVUdJTl9BVVRPT1BFTl9MRVZFTCcsIDEpOwpkZWZpbmUoJ0NGR19SRVNPVVJDRV9QTFVHSU5f'));
	@fwrite($fp, base64_decode('VElUTEUnLCAnRG9jdW1lbnRzIGFuZCByZXNvdXJjZXMnKTsKZGVmaW5lKCdDRkdfUkVTT1VSQ0VfUExVR0lOX1BBVEgnLCAncmVzLycpOwpkZWZpbmUoJ0NGR19SRVNPVVJDRV9QTFVHSU5fSElERV9FTVBUWV9QQVRIJywgdHJ1ZSk7CgpjbGFzcyBPSURwbHVzUGFn'));
	@fwrite($fp, base64_decode('ZVB1YmxpY1Jlc291cmNlcyBleHRlbmRzIE9JRHBsdXNQYWdlUGx1Z2luIHsKCXB1YmxpYyBmdW5jdGlvbiB0eXBlKCkgewoJCXJldHVybiAncHVibGljJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gcHJpb3JpdHkoKSB7CgkJcmV0dXJuIDUwMDsKCX0KCglwdWJsaWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gYWN0aW9uKCYkaGFuZGxlZCkgewoJCS8vIE5vdGhpbmcKCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5pdCgkaHRtbD10cnVlKSB7CgkJLy8gTm90aGluZwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjZmdTZXRWYWx1ZSgkbmFtZSwgJHZhbHVlKSB7CgkJLy8g'));
	@fwrite($fp, base64_decode('Tm90aGluZwoJfQoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdldERvY3VtZW50VGl0bGUoJGZpbGUpIHsKCQkkY29udCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlKTsKCQlpZiAocHJlZ19tYXRjaCgnQDx0aXRsZT4oLispPC90aXRsZT5AaXNtVScsICRjb250'));
	@fwrite($fp, base64_decode('LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoMT4oLispPC9oMT5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoMj4oLispPC9oMj5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsx'));
	@fwrite($fp, base64_decode('XTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoMz4oLispPC9oMz5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoND4oLispPC9oND5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRj'));
	@fwrite($fp, base64_decode('aCgnQDxoNT4oLispPC9oNT5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoNj4oLispPC9oNj5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlyZXR1cm4gcGF0aGluZm8oJGZpbGUsIFBBVEhJTkZP'));
	@fwrite($fp, base64_decode('X0ZJTEVOQU1FKTsgLy8gZmlsZW5hbWUgd2l0aG91dCBleHRlbnNpb24KCX0KCglwdWJsaWMgZnVuY3Rpb24gZ3VpKCRpZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJCWlmIChleHBsb2RlKCckJywkaWQpWzBdID09PSAnb2lkcGx1czpyZXNvdXJjZXMnKSB7CgkJCSRo'));
	@fwrite($fp, base64_decode('YW5kbGVkID0gdHJ1ZTsKCgkJCSRmaWxlID0gQGV4cGxvZGUoJyQnLCRpZClbMV07CgkJCSRhdXRoID0gQGV4cGxvZGUoJyQnLCRpZClbMl07CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjp2YWxpZGF0ZUF1dGhLZXkoInJlc291cmNlczskZmlsZSIsICRh'));
	@fwrite($fp, base64_decode('dXRoKSkgewoJCQkJJG91dFsndGl0bGUnXSA9ICdBY2Nlc3MgZGVuaWVkJzsKCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gPSAnPHA+SW52YWxpZCBhdXRoZW50aWNhdGlvbiB0b2tlbjwvcD4nOwoJCQkJcmV0'));
	@fwrite($fp, base64_decode('dXJuICRvdXQ7CgkJCX0KCgkJCWlmIChzdHJwb3MoJGZpbGUsIENGR19SRVNPVVJDRV9QTFVHSU5fUEFUSCkgIT09IDApIHsKCQkJCSRvdXRbJ3RpdGxlJ10gPSAnQWNjZXNzIGRlbmllZCc7CgkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJ'));
	@fwrite($fp, base64_decode('CQkJJG91dFsndGV4dCddID0gJzxwPlNlY3VyaXR5IGJyZWFjaCBBPC9wPic7CgkJCQlyZXR1cm4gJG91dDsKCQkJfQoKCQkJaWYgKHN0cnBvcygkZmlsZSwgJy4uJykgIT09IGZhbHNlKSB7CgkJCQkkb3V0Wyd0aXRsZSddID0gJ0FjY2VzcyBkZW5pZWQnOwoJCQkJ'));
	@fwrite($fp, base64_decode('JG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD5TZWN1cml0eSBicmVhY2ggQTwvcD4nOwoJCQkJcmV0dXJuICRvdXQ7CgkJCX0KCgkJCSRvdXRbJ3RleHQnXSA9ICcnOwoKCQkJaWYgKCRmaWxlICE9IENGR19S'));
	@fwrite($fp, base64_decode('RVNPVVJDRV9QTFVHSU5fUEFUSCkgewoJCQkJJGRpciA9IGRpcm5hbWUoJGZpbGUpLicvJzsKCgkJCQlpZiAoJGRpciA9PSBDRkdfUkVTT1VSQ0VfUExVR0lOX1BBVEgpIHsKCQkJCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uLnBuZycpKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkJCSR0cmVlX2ljb24gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3RyZWVpY29uLnBuZyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAo'));
	@fwrite($fp, base64_decode('Zm9sZGVyKQoJCQkJCX0KCgkJCQkJJGljID0gZW1wdHkoJHRyZWVfaWNvbikgPyAnJyA6ICc8aW1nIHNyYz0iJy4kdHJlZV9pY29uLiciIGFsdD0iIj4nOwoKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhICcub2lkcGx1c19saW5rKCdvaWRwbHVzOnJlc291cmNl'));
	@fwrite($fp, base64_decode('cyQnLkNGR19SRVNPVVJDRV9QTFVHSU5fUEFUSC4nJCcuT0lEcGx1czo6YXV0aFV0aWxzKCk6Om1ha2VBdXRoS2V5KCJyZXNvdXJjZXM7Ii5DRkdfUkVTT1VSQ0VfUExVR0lOX1BBVEgpKS4nPjxpbWcgc3JjPSJpbWcvYXJyb3dfYmFjay5wbmciIHdpZHRoPSIxNiI+'));
	@fwrite($fp, base64_decode('IEdvIGJhY2sgdG86ICcuJGljLicgJy5odG1sZW50aXRpZXMoQ0ZHX1JFU09VUkNFX1BMVUdJTl9USVRMRSkuJzwvYT48L3A+JzsKCQkJCX0gZWxzZSB7CgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGRpcilbJ2Rpcm5hbWUnXS4nLycucGF0aGluZm8o'));
	@fwrite($fp, base64_decode('JGRpcilbJ2ZpbGVuYW1lJ10uJ190cmVlLnBuZyc7CgkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkJJHRyZWVfaWNvbiA9ICRpY29uX2NhbmRpZGF0ZTsKCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVl'));
	@fwrite($fp, base64_decode('aWNvbl9mb2xkZXIucG5nJykpIHsKCQkJCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fZm9sZGVyLnBuZyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJHRyZWVf'));
	@fwrite($fp, base64_decode('aWNvbiA9IG51bGw7IC8vIG5vIGljb24KCQkJCQl9CgoJCQkJCSRpYyA9IGVtcHR5KCR0cmVlX2ljb24pID8gJycgOiAnPGltZyBzcmM9IicuJHRyZWVfaWNvbi4nIiBhbHQ9IiI+JzsKCgkJCQkJJG91dFsndGV4dCddIC49ICc8cD48YSAnLm9pZHBsdXNfbGluaygn'));
	@fwrite($fp, base64_decode('b2lkcGx1czpyZXNvdXJjZXMkJy4kZGlyLickJy5PSURwbHVzOjphdXRoVXRpbHMoKTo6bWFrZUF1dGhLZXkoInJlc291cmNlczskZGlyIikpLic+PGltZyBzcmM9ImltZy9hcnJvd19iYWNrLnBuZyIgd2lkdGg9IjE2Ij4gR28gYmFjayB0bzogJy4kaWMuJyAnLmh0'));
	@fwrite($fp, base64_decode('bWxlbnRpdGllcyhiYXNlbmFtZSgkZGlyKSkuJzwvYT48L3A+PGJyPic7CgkJCQl9CgkJCX0KCgkJCWlmIChmaWxlX2V4aXN0cygkZmlsZSkgJiYgKCFpc19kaXIoJGZpbGUpKSkgewoJCQkJaWYgKHN1YnN0cigkZmlsZSwtNCw0KSA9PSAnLnVybCcpIHsKCQkJCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd0aXRsZSddID0gJHRoaXMtPmdldEh5cGVybGlua1RpdGxlKCRmaWxlKTsKCgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGZpbGUpWydkaXJuYW1lJ10uJy8nLnBhdGhpbmZvKCRmaWxlKVsnZmlsZW5hbWUnXS4nX2JpZy5wbmcnOwoJCQkJCWlm'));
	@fwrite($fp, base64_decode('IChmaWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUpKSB7CgkJCQkJCSRvdXRbJ2ljb24nXSA9ICRpY29uX2NhbmRpZGF0ZTsKCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2xlYWZfdXJsX2JpZy5wbmcnKSkgewoJCQkJCQkkb3V0Wydp'));
	@fwrite($fp, base64_decode('Y29uJ10gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fbGVhZl91cmxfYmlnLnBuZyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJG91dFsnaWNvbiddID0gJyc7CgkJCQkJfQoKCQkJCQkvLyBT'));
	@fwrite($fp, base64_decode('aG91bGQgbm90IGhhcHBlbiB0aG91Z2gsIGR1ZSB0byBjb25kaXRpb25hbHNlbGVjdAoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPGEgaHJlZj0iJy5odG1sZW50aXRpZXMoc2VsZjo6Z2V0SHlwZXJsaW5rVVJMKCRmaWxlKSkuJyIgdGFyZ2V0PSJfYmxhbmsiPk9wZW4g'));
	@fwrite($fp, base64_decode('aW4gbmV3IHdpbmRvdzwvYT4nOwoJCQkJfSBlbHNlIGlmICgoc3Vic3RyKCRmaWxlLC00LDQpID09ICcuaHRtJykgfHwgKHN1YnN0cigkZmlsZSwtNSw1KSA9PSAnLmh0bWwnKSkgewoJCQkJCSRvdXRbJ3RpdGxlJ10gPSAkdGhpcy0+Z2V0RG9jdW1lbnRUaXRsZSgk'));
	@fwrite($fp, base64_decode('ZmlsZSk7CgoJCQkJCSRpY29uX2NhbmRpZGF0ZSA9IHBhdGhpbmZvKCRmaWxlKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkZmlsZSlbJ2ZpbGVuYW1lJ10uJ19iaWcucG5nJzsKCQkJCQlpZiAoZmlsZV9leGlzdHMoJGljb25fY2FuZGlkYXRlKSkgewoJCQkJCQkk'));
	@fwrite($fp, base64_decode('b3V0WydpY29uJ10gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9sZWFmX2RvY19iaWcucG5nJykpIHsKCQkJCQkJJG91dFsnaWNvbiddID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElS'));
	@fwrite($fp, base64_decode('X18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy9pY29uX2xlYWZfZG9jX2JpZy5wbmcnOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSRvdXRbJ2ljb24nXSA9ICcnOwoJCQkJCX0KCgkJCQkJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7CgkJCQkJJGNvbnQg'));
	@fwrite($fp, base64_decode('PSBwcmVnX3JlcGxhY2UoJ0BeKC4rKTxib2R5QGlzVScsICcnLCAkY29udCk7CgkJCQkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0A8L2JvZHk+LiskQGlzVScsICcnLCAkY29udCk7CgkJCQkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0A8dGl0bGU+Lis8L3RpdGxlPkBp'));
	@fwrite($fp, base64_decode('c1UnLCAnJywgJGNvbnQpOwoJCQkJCSRjb250ID0gcHJlZ19yZXBsYWNlKCdAPGgxPi4rPC9oMT5AaXNVJywgJycsICRjb250LCAxKTsKCgkJCQkJJG91dFsndGV4dCddIC49ICRjb250OwoJCQkJfSBlbHNlIHsKCQkJCQkkb3V0Wyd0aXRsZSddID0gJ1Vua25vd24g'));
	@fwrite($fp, base64_decode('ZmlsZSB0eXBlJzsKCQkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD5UaGUgc3lzdGVtIGRvZXMgbm90IGtub3cgaG93IHRvIGhhbmRsZSB0aGlzIGZpbGUgdHlwZS48L3A+JzsKCQkJCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('JG91dDsKCQkJCX0KCQkJfSBlbHNlIGlmIChpc19kaXIoJGZpbGUpKSB7CgkJCQkkb3V0Wyd0aXRsZSddID0gKCRmaWxlID09IENGR19SRVNPVVJDRV9QTFVHSU5fUEFUSCkgPyBDRkdfUkVTT1VSQ0VfUExVR0lOX1RJVExFIDogYmFzZW5hbWUoJGZpbGUpOwoKCQkJ'));
	@fwrite($fp, base64_decode('CWlmICgkZmlsZSA9PSBDRkdfUkVTT1VSQ0VfUExVR0lOX1BBVEgpIHsKCQkJCQkkb3V0WydpY29uJ10gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9iaWcucG5nJykgPyAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFt'));
	@fwrite($fp, base64_decode('ZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCQkJCX0gZWxzZSB7CgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGZpbGUpWydkaXJuYW1lJ10uJy8nLnBhdGhpbmZvKCRmaWxlKVsnZmlsZW5hbWUnXS4nX2JpZy5wbmcnOwoJCQkJCWlmIChm'));
	@fwrite($fp, base64_decode('aWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUpKSB7CgkJCQkJCSRvdXRbJ2ljb24nXSA9ICRpY29uX2NhbmRpZGF0ZTsKCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2ZvbGRlcl9iaWcucG5nJykpIHsKCQkJCQkJJG91dFsnaWNvbidd'));
	@fwrite($fp, base64_decode('ID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy9pY29uX2ZvbGRlcl9iaWcucG5nJzsKCQkJCQl9IGVsc2UgewoJCQkJCQkkb3V0WydpY29uJ10gPSBudWxsOyAvLyBubyBpY29uCgkJCQkJfQoJCQkJ'));
	@fwrite($fp, base64_decode('fQoKCQkJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbi5wbmcnOwoJCQkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIHsKCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCQl9CgoJCQkJJGNvdW50ID0gMDsKCgkJCQkkZGlycyA9IGdsb2IoJGZpbGUuJyonLicvJywgR0xPQl9PTkxZRElSKTsKCQkJCW5hdGNhc2Vzb3J0KCRkaXJz'));
	@fwrite($fp, base64_decode('KTsKCQkJCWZvcmVhY2ggKCRkaXJzIGFzICRkaXIpIHsKCQkJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkZGlyKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkZGlyKVsnZmlsZW5hbWUnXS4nX3RyZWUucG5nJzsKCQkJCQlpZiAoZmlsZV9leGlzdHMoJGlj'));
	@fwrite($fp, base64_decode('b25fY2FuZGlkYXRlKSkgewoJCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCX0gZWxzZSBpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uX2ZvbGRlci5wbmcnKSkgewoJCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNl'));
	@fwrite($fp, base64_decode('bmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9mb2xkZXIucG5nJzsKCQkJCQl9IGVsc2UgewoJCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gbm8gaWNvbgoJCQkJCX0KCgkJCQkJJGljID0gZW1wdHkoJHRyZWVf'));
	@fwrite($fp, base64_decode('aWNvbikgPyAnJyA6ICc8aW1nIHNyYz0iJy4kdHJlZV9pY29uLiciIGFsdD0iIj4nOwoKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhICcub2lkcGx1c19saW5rKCdvaWRwbHVzOnJlc291cmNlcyQnLiRkaXIuJyQnLk9JRHBsdXM6OmF1dGhVdGlscygpOjptYWtl'));
	@fwrite($fp, base64_decode('QXV0aEtleSgicmVzb3VyY2VzOyRkaXIiKSkuJz4nLiRpYy4nICcuaHRtbGVudGl0aWVzKGJhc2VuYW1lKCRkaXIpKS4nPC9hPjwvcD4nOwoJCQkJCSRjb3VudCsrOwoJCQkJfQoKCQkJCSRmaWxlcyA9IGFycmF5X21lcmdlKAoJCQkJCWdsb2IoJGZpbGUuJy8nLicq'));
	@fwrite($fp, base64_decode('Lmh0bSonKSwgLy8gVE9ETzogYWxzbyBQSFA/CgkJCQkJZ2xvYigkZmlsZS4nLycuJyoudXJsJykKCQkJCSk7CgkJCQluYXRjYXNlc29ydCgkZmlsZXMpOwoJCQkJZm9yZWFjaCAoJGZpbGVzIGFzICRmaWxlKSB7CgkJCQkJaWYgKHN1YnN0cigkZmlsZSwtNCw0KSA9'));
	@fwrite($fp, base64_decode('PSAnLnVybCcpIHsKCQkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGZpbGUpWydkaXJuYW1lJ10uJy8nLnBhdGhpbmZvKCRmaWxlKVsnZmlsZW5hbWUnXS4nX3RyZWUucG5nJzsKCQkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsK'));
	@fwrite($fp, base64_decode('CQkJCQkJCSR0cmVlX2ljb24gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCQkJCX0gZWxzZSBpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uX2xlYWZfdXJsLnBuZycpKSB7CgkJCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1l'));
	@fwrite($fp, base64_decode('KF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9sZWFmX3VybC5wbmcnOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCQkJCQl9CgkJCQkJCSRpYyA9IGVtcHR5'));
	@fwrite($fp, base64_decode('KCR0cmVlX2ljb24pID8gJycgOiAnPGltZyBzcmM9IicuJHRyZWVfaWNvbi4nIiBhbHQ9IiI+JzsKCgkJCQkJCSRoeXBlcmxpbmtfcGljID0gJyA8aW1nIHNyYz0icGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9f'));
	@fwrite($fp, base64_decode('KS4nL2h5cGVybGluay5wbmciIHdpZGh0PSIxMyIgaGVpZ2h0PSIxMyIgYWx0PSJIeXBlcmxpbmsiIHN0eWxlPSJ0b3A6LTNweDtwb3NpdGlvbjpyZWxhdGl2ZSI+JzsKCgkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGEgaHJlZj0iJy5odG1sZW50aXRpZXMoc2Vs'));
	@fwrite($fp, base64_decode('Zjo6Z2V0SHlwZXJsaW5rVVJMKCRmaWxlKSkuJyIgdGFyZ2V0PSJfYmxhbmsiPicuJGljLicgJy5odG1sZW50aXRpZXMoJHRoaXMtPmdldEh5cGVybGlua1RpdGxlKCRmaWxlKSkuJyAnLiRoeXBlcmxpbmtfcGljLic8L2E+PC9wPic7CgkJCQkJCSRjb3VudCsrOwoJ'));
	@fwrite($fp, base64_decode('CQkJCX0gZWxzZSB7CgkJCQkJCSRpY29uX2NhbmRpZGF0ZSA9IHBhdGhpbmZvKCRmaWxlKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkZmlsZSlbJ2ZpbGVuYW1lJ10uJ190cmVlLnBuZyc7CgkJCQkJCWlmIChmaWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUpKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbl9sZWFmX2RvYy5wbmcnKSkgewoJCQkJCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFt'));
	@fwrite($fp, base64_decode('ZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fbGVhZl9kb2MucG5nJzsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCSR0cmVlX2ljb24gPSBudWxsOyAvLyBkZWZhdWx0IGljb24gKGZvbGRlcikKCQkJCQkJfQoJCQkJCQkkaWMgPSBlbXB0'));
	@fwrite($fp, base64_decode('eSgkdHJlZV9pY29uKSA/ICcnIDogJzxpbWcgc3JjPSInLiR0cmVlX2ljb24uJyIgYWx0PSIiPic7CgoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhICcub2lkcGx1c19saW5rKCdvaWRwbHVzOnJlc291cmNlcyQnLiRmaWxlLickJy5PSURwbHVzOjphdXRoVXRp'));
	@fwrite($fp, base64_decode('bHMoKTo6bWFrZUF1dGhLZXkoInJlc291cmNlczskZmlsZSIpKS4nPicuJGljLicgJy5odG1sZW50aXRpZXMoJHRoaXMtPmdldERvY3VtZW50VGl0bGUoJGZpbGUpKS4nPC9hPjwvcD4nOwoJCQkJCQkkY291bnQrKzsKCQkJCQl9CgkJCQl9CgoJCQkJaWYgKCRjb3Vu'));
	@fwrite($fp, base64_decode('dCA9PSAwKSB7CgkJCQkJJG91dFsndGV4dCddIC49ICc8cD5UaGlzIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSBlbGVtZW50czwvcD4nOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJJG91dFsndGl0bGUnXSA9ICdOb3QgZm91bmQnOwoJCQkJJG91dFsnaWNvbidd'));
	@fwrite($fp, base64_decode('ID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD5UaGlzIHJlc291cmNlIGRvZXNuXCd0IGV4aXN0IGFueW1vcmUuPC9wPic7CgkJCQlyZXR1cm4gJG91dDsKCQkJfQoJCX0KCX0KCglwcml2YXRlIGZ1bmN0aW9uIHRyZWVfcmVjKCYk'));
	@fwrite($fp, base64_decode('Y2hpbGRyZW4sICRyb290ZGlyPUNGR19SRVNPVVJDRV9QTFVHSU5fUEFUSCwgJGRlcHRoPTApIHsKCQlpZiAoJGRlcHRoID4gMTAwKSByZXR1cm4gZmFsc2U7IC8vIHNvbWV0aGluZyBpcyB3cm9uZyEKCgkJJGRpcnMgPSBnbG9iKCRyb290ZGlyLicqJy4nLycsIEdM'));
	@fwrite($fp, base64_decode('T0JfT05MWURJUik7CgkJbmF0Y2FzZXNvcnQoJGRpcnMpOwoJCWZvcmVhY2ggKCRkaXJzIGFzICRkaXIpIHsKCQkJJHRtcCA9IGFycmF5KCk7CgkJCSR0aGlzLT50cmVlX3JlYygkdG1wLCAkZGlyLCAkZGVwdGgrMSk7CgoJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRo'));
	@fwrite($fp, base64_decode('aW5mbygkZGlyKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkZGlyKVsnZmlsZW5hbWUnXS4nX3RyZWUucG5nJzsKCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCSR0cmVlX2ljb24gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCX0gZWxzZSBp'));
	@fwrite($fp, base64_decode('ZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uX2ZvbGRlci5wbmcnKSkgewoJCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fZm9sZGVyLnBuZyc7'));
	@fwrite($fp, base64_decode('CgkJCX0gZWxzZSB7CgkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCX0KCgkJCSRjaGlsZHJlbltdID0gYXJyYXkoCgkJCQknaWQnID0+ICdvaWRwbHVzOnJlc291cmNlcyQnLiRkaXIuJyQnLk9JRHBsdXM6OmF1dGhVdGls'));
	@fwrite($fp, base64_decode('cygpOjptYWtlQXV0aEtleSgicmVzb3VyY2VzOyRkaXIiKSwKCQkJCSdpY29uJyA9PiAkdHJlZV9pY29uLAoJCQkJJ3RleHQnID0+IGJhc2VuYW1lKCRkaXIpLAoJCQkJJ2NoaWxkcmVuJyA9PiAkdG1wLAoJCQkJJ3N0YXRlJyA9PiBhcnJheSgib3BlbmVkIiA9PiAk'));
	@fwrite($fp, base64_decode('ZGVwdGggPD0gQ0ZHX1JFU09VUkNFX1BMVUdJTl9BVVRPT1BFTl9MRVZFTC0xKQoJCQkpOwoJCX0KCgkJJGZpbGVzID0gYXJyYXlfbWVyZ2UoCgkJCWdsb2IoJHJvb3RkaXIuJyouaHRtKicpLCAvLyBUT0RPOiBBbHNvIFBIUD8KCQkJZ2xvYigkcm9vdGRpci4nKi51'));
	@fwrite($fp, base64_decode('cmwnKQoJCSk7CgkJbmF0Y2FzZXNvcnQoJGZpbGVzKTsKCQlmb3JlYWNoICgkZmlsZXMgYXMgJGZpbGUpIHsKCQkJaWYgKHN1YnN0cigkZmlsZSwtNCw0KSA9PSAnLnVybCcpIHsKCgkJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkZmlsZSlbJ2Rpcm5hbWUn'));
	@fwrite($fp, base64_decode('XS4nLycucGF0aGluZm8oJGZpbGUpWydmaWxlbmFtZSddLidfdHJlZS5wbmcnOwoJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhf'));
	@fwrite($fp, base64_decode('X0RJUl9fLicvdHJlZWljb25fbGVhZl91cmwucG5nJykpIHsKCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9sZWFmX3VybC5wbmcnOwoJCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IHsKCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCQl9CgoJCQkJJGh5cGVybGlua19waWMgPSAnIDxpbWcgc3JjPSJwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18p'));
	@fwrite($fp, base64_decode('LicvaHlwZXJsaW5rLnBuZyIgd2lkaHQ9IjEzIiBoZWlnaHQ9IjEzIiBhbHQ9Ikh5cGVybGluayIgc3R5bGU9InRvcDotM3B4O3Bvc2l0aW9uOnJlbGF0aXZlIj4nOwoKCQkJCSRjaGlsZHJlbltdID0gYXJyYXkoCgkJCQkJJ2lkJyA9PiAnb2lkcGx1czpyZXNvdXJj'));
	@fwrite($fp, base64_decode('ZXMkJy4kZmlsZS4nJCcuT0lEcGx1czo6YXV0aFV0aWxzKCk6Om1ha2VBdXRoS2V5KCJyZXNvdXJjZXM7JGZpbGUiKSwKCQkJCQknY29uZGl0aW9uYWxzZWxlY3QnID0+ICd3aW5kb3cub3BlbignLmpzX2VzY2FwZShzZWxmOjpnZXRIeXBlcmxpbmtVUkwoJGZpbGUp'));
	@fwrite($fp, base64_decode('KS4nKTsgZmFsc2U7JywKCQkJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJCQkndGV4dCcgPT4gJHRoaXMtPmdldEh5cGVybGlua1RpdGxlKCRmaWxlKS4nICcuJGh5cGVybGlua19waWMsCgkJCQkJJ3N0YXRlJyA9PiBhcnJheSgib3BlbmVkIiA9PiAkZGVwdGgg'));
	@fwrite($fp, base64_decode('PD0gQ0ZHX1JFU09VUkNFX1BMVUdJTl9BVVRPT1BFTl9MRVZFTC0xKQoJCQkJKTsKCgkJCX0gZWxzZSB7CgkJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkZmlsZSlbJ2Rpcm5hbWUnXS4nLycucGF0aGluZm8oJGZpbGUpWydmaWxlbmFtZSddLidfdHJlZS5w'));
	@fwrite($fp, base64_decode('bmcnOwoJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb25fbGVhZl9kb2MucG5nJykpIHsKCQkJCQkk'));
	@fwrite($fp, base64_decode('dHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9sZWFmX2RvYy5wbmcnOwoJCQkJfSBlbHNlIHsKCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29u'));
	@fwrite($fp, base64_decode('IChmb2xkZXIpCgkJCQl9CgkJCQkkY2hpbGRyZW5bXSA9IGFycmF5KAoJCQkJCSdpZCcgPT4gJ29pZHBsdXM6cmVzb3VyY2VzJCcuJGZpbGUuJyQnLk9JRHBsdXM6OmF1dGhVdGlscygpOjptYWtlQXV0aEtleSgicmVzb3VyY2VzOyRmaWxlIiksCgkJCQkJJ2ljb24n'));
	@fwrite($fp, base64_decode('ID0+ICR0cmVlX2ljb24sCgkJCQkJJ3RleHQnID0+ICR0aGlzLT5nZXREb2N1bWVudFRpdGxlKCRmaWxlKSwKCQkJCQknc3RhdGUnID0+IGFycmF5KCJvcGVuZWQiID0+ICRkZXB0aCA8PSBDRkdfUkVTT1VSQ0VfUExVR0lOX0FVVE9PUEVOX0xFVkVMLTEpCgkJCQkp'));
	@fwrite($fp, base64_decode('OwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlKCYkanNvbiwgJHJhX2VtYWlsPW51bGwsICRub25qcz1mYWxzZSwgJHJlcV9nb3RvPScnKSB7CgkJJGNoaWxkcmVuID0gYXJyYXkoKTsKCgkJJHRoaXMtPnRyZWVfcmVjKCRjaGlsZHJlbiwgQ0ZHX1JF'));
	@fwrite($fp, base64_decode('U09VUkNFX1BMVUdJTl9QQVRIKTsKCgkJaWYgKCFDRkdfUkVTT1VSQ0VfUExVR0lOX0hJREVfRU1QVFlfUEFUSCB8fCAoY291bnQoJGNoaWxkcmVuKSA+IDApKSB7CgkJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJCSR0cmVl'));
	@fwrite($fp, base64_decode('X2ljb24gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3RyZWVpY29uLnBuZyc7CgkJCX0gZWxzZSB7CgkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCX0K'));
	@fwrite($fp, base64_decode('CgkJCSRqc29uW10gPSBhcnJheSgKCQkJCSdpZCcgPT4gJ29pZHBsdXM6cmVzb3VyY2VzJCcuQ0ZHX1JFU09VUkNFX1BMVUdJTl9QQVRILickJy5PSURwbHVzOjphdXRoVXRpbHMoKTo6bWFrZUF1dGhLZXkoInJlc291cmNlczsiLkNGR19SRVNPVVJDRV9QTFVHSU5f'));
	@fwrite($fp, base64_decode('UEFUSCksCgkJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJCSdzdGF0ZScgPT4gYXJyYXkoIm9wZW5lZCIgPT4gdHJ1ZSksCgkJCQkndGV4dCcgPT4gQ0ZHX1JFU09VUkNFX1BMVUdJTl9USVRMRSwKCQkJCSdjaGlsZHJlbicgPT4gJGNoaWxkcmVuCgkJCSk7CgkJ'));
	@fwrite($fp, base64_decode('fQoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZV9zZWFyY2goJHJlcXVlc3QpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0SHlwZXJsaW5rVGl0bGUoJGZpbGUpIHsKCQlyZXR1cm4gcHJlZ19y'));
	@fwrite($fp, base64_decode('ZXBsYWNlKCcvXFwuW14uXFxzXXszLDR9JC8nLCAnJywgYmFzZW5hbWUoJGZpbGUpKTsKCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRIeXBlcmxpbmtVUkwoJGZpbGUpIHsKCQkvKgoJCVt7MDAwMjE0QTAtMDAwMC0wMDAwLUMwMDAtMDAwMDAwMDAwMDQ2'));
	@fwrite($fp, base64_decode('fV0KCQlQcm9wMz0xOSwyCgkJW0ludGVybmV0U2hvcnRjdXRdCgkJVVJMPWh0dHA6Ly93d3cuZXhhbXBsZS5jb20vCgkJSURMaXN0PQoJCSovCgkJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7CgkJaWYgKCFwcmVnX21hdGNoKCdAVVJMPSguKylcbkBp'));
	@fwrite($fp, base64_decode('c21VJywgJGNvbnQsICRtKSkgcmV0dXJuIG51bGw7CgkJcmV0dXJuIHRyaW0oJG1bMV0pOwoJfQp9CgpPSURwbHVzOjpyZWdpc3RlclBhZ2VQbHVnaW4obmV3IE9JRHBsdXNQYWdlUHVibGljUmVzb3VyY2VzKCkpOwo='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/500_resources/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/500_resources/plugin.inc.php');
	writefile_4();
	if (!is_file('plugins/publicPages/500_resources/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/500_resources/plugin.inc.php');
	} else if (sha1_file('plugins/publicPages/500_resources/plugin.inc.php') != '80e40ef9e8072e880d9b05a60d3a028627122e2c') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/500_resources/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/500_resources/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/500_resources/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/500_resources/plugin.inc.php') !== '80e40ef9e8072e880d9b05a60d3a028627122e2c') {
		if (@sha1_file('plugins/publicPages/500_resources/plugin.inc.php') !== 'eed841c43d3bdcc116ab23f03e32bc54dcd334e9') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/500_resources/plugin.inc.php');
			$tmp = pathinfo('plugins/publicPages/500_resources/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/500_resources/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/500_resources/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/publicPages/500_resources/plugin.inc.php') !== '80e40ef9e8072e880d9b05a60d3a028627122e2c') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/500_resources/plugin.inc.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 214\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 214') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

