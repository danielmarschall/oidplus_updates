<?php /* <ViaThinkSoftSignature>
F6zqeytk1xuPFdl1JO0xKmzEcJFPZ29AfyitCUVAbaTDjXSAoPdav+DzB/Z/hXnvk
tr9dISwP7FryCHcLypNg5FkEPUkZTrGkWPryqRpXEfAeWdhkshzXNcwHvOIk4mV+a
tf9YNIJV/u3YAE2PEP9zSIYGjafzM1y2tFQIluvWppBySnbzp5VzKlRw/SKS2RNrd
wc0mFebqW708clmLv8Y5lG3bf33EoNydn2KZ0nb0egR9i61k7u5Vx4mpm/Are/mCu
uepbkSmLwlICYVRGBs+3pRMalZ2umUWOB8qh36PRogpHqvPLJi39qAix4ENlRNZFq
8TsKSrWkLFN5ZVVIwmg79cvvpiSuUlRj9ALkiWx2t88drkZBe58g9DYdYDRxWc1Vr
VGigmLoBwE4iV2JPOqbHPGOaxbZ5RAb9cfRVF5lTAWXdlJfWav1vxwDV2siyQGqOC
8hM6GW4ij4NswT0W9I7fa8A5XeJmOgxUCNsDXVVQcgLZevZROmG/oZVUb9dGSR2fT
HYTk55cfZ2MxFKccKCtEj87gYDBLrW9NGKI6GCWlcAWGIYu//FzFVuY35UjOLSEc+
Xec/Exc1/XNCS27L78NtD8nr/cMcr//e7nDcRZy4w+wDem/8iwiwfsaM6R6l63CqU
0NSn55jQCpfRKGw0EhPYESwFTIC6zq7e/nBZlQTMVdyz/2p1rPpT1nbWS9FeGmQM4
IofuF6WrtVqtR6CcKnFY9MJwgMh8pxYkv7CdLZBUEG5ItHOMPjDFiSc4TQP67XHdf
3ErBYwSuwBjYY1ZPIn8CMNJMnGr0FItTLZQj37sEO2EcF2OTEkVmSUnxNqliItNUW
0AnrxY3xEItAXiAZhEsEMqfqrqw8OuG4i9FYWMjKhjN4hgsbPCkRMmt8mU/Bjapu7
e0hgYfPIEV43z5VMkHOfUwi+eJ511/NalzH5HxUyLCfg7ngVS6inrjstlojFfBSLv
d+hF+uXd4Ulwu2oCGlAuutsG7IdsA6/+zlBHRWcGO7ImI2m3jl6akRlanX8Vy6ofU
LHRgOIO5s5Y3HJ01+fK5NQQV6OLfbIiTNbMVJMlvXFktPM7UabJSCnOr5qu3mECAw
tq+x0srh0YjYxB81sUY40lPTRVAav2o29ccw9yg+PWpG76fUgn3f9FCXrKg5yg0ZM
xID7IjWaspjzVIdWHiwd6qswpSvCMQSJNe1cGlFoZ4bYY3k23vNbU3oQPPEUpDIOC
uoXcCYdqKxMMSva+MIxzSx0+6jDUbOUTCYEmTow+v5WLWFY9werPbZXl8kNvm3BzM
nZdbe4qgs+MccYRpL6p1vf/epgWzIJ+UGLwTPlcywBSZtDZPTUwcLpVCzb3vTv+qG
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 239') {
	err('This update can only be applied to OIDplus version 2.0.0.239!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: includes/classes/OIDplusConfigInitializationException.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusConfigInitializationException.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbiBleHRlbmRzIEV4Y2VwdGlvbiB7Cgp9Cgo='));
	@fclose($fp);
}
if (is_file('includes/classes/OIDplusConfigInitializationException.class.php') && (sha1_file('includes/classes/OIDplusConfigInitializationException.class.php') != '7d7cfd6924541603a3b5abcd297c482945d29bc4')) {
	warn('File was created by someone else. Will overwrite the changes now: includes/classes/OIDplusConfigInitializationException.class.php');
	$tmp = pathinfo('includes/classes/OIDplusConfigInitializationException.class.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusConfigInitializationException.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('includes/classes/OIDplusConfigInitializationException.class.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('includes/classes/OIDplusConfigInitializationException.class.php')) {
	warn('File cannot be created (not existing): includes/classes/OIDplusConfigInitializationException.class.php');
} else if (sha1_file('includes/classes/OIDplusConfigInitializationException.class.php') != '7d7cfd6924541603a3b5abcd297c482945d29bc4') {
	warn('File cannot be created (checksum mismatch): includes/classes/OIDplusConfigInitializationException.class.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusConfigInitializationException.class.php', 0644)) {
	warn('Could not change file permissions of includes/classes/OIDplusConfigInitializationException.class.php');
}

// Files different: TODO
function writefile_2() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('ClJFQ0VOVCBTVFVGRgotIENvb2tpZSBsYXc6CglEb3dubG9hZCBDb29raWVDb25zZW50IGNvZGUgaW50byBfM3AgZm9sZGVyLCBkbyBub3QgaG90bGluayBpdAoJd2UgbmVlZCB0byBsb2cgYWxsIGNvbnNlbnRzCglkbyB3ZSBuZWVkIGFuIGV4cGxpY2l0IGNvbnNl'));
	@fwrite($fp, base64_decode('bnQgYXQgdGhlIGxvZ2luIGZvcm0/CglkbyB3ZSBuZWVkIGEgY29uc2VudCBmb3IgdGhlIGNvb2tpZSBTU0xfQ0hFQ0s/Ci0gVmVyaWZ5IHRoYXQgbG9nZ2VyIHdvcmtzIGNvcnJlY3RseSwgY2hlY2sgaWYgYWxsIGxvZ21hc2tzIGFyZSBjb3JyZWN0Ci0gdGhlIGlu'));
	@fwrite($fp, base64_decode('YWN0aXZpdHkgdGltZXIgaXMgbXVjaCB0b28gZmFzdCEKLSBEb2VzIHRoZSBhZG1pbiBmZWF0dXJlICI2MDBfbG9nIiBhbHNvIHNob3cgYWxsIGxvZyBldmVudHMgZnJvbSBhbGwgT2JqZWN0cyBhbmQgYWxsIFJBcz8KLSBhdCBhIGxvdCBvZiBmb3JtcywgaWYgeW91'));
	@fwrite($fp, base64_decode('IHByZXNzICJlbnRlciIsIHRoZSAiZm9ybSIgd2lsbCBub3QgYmUgc3VibWl0dGVkIChlLmcuICJjcmVhdGUgcmEiIHBsdWdpbiksIGNhbm5vdCByZXByb2R1Y2U/Ci0gSW4gcGx1Z2lucywgd2UgZXZlbiBzZWUgdGhpbmdzIGxpa2UgdGhpczoKCXBsdWdpbnMvJy5i'));
	@fwrite($fp, base64_decode('YXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy9wYWdlX3BpY3RvZ3JhbS5wbmcKCT0+IFRoaXMgaXMgdmVyeSB1Z2x5ISBXZSBuZWVkIGEgZnVuY3Rpb24gbGlrZSB0aGlzOiAgT0lEcGx1czo6Z2V0UmVsYXRpdmVXZWJEaXIo'));
	@fwrite($fp, base64_decode('X19ESVJfXykgd2hpY2ggb3V0cHV0czogcGx1Z2luLy4uLi4uL3BhZ2VfcGljdG9ncmFtLnBuZwoKV0hPSVMKLSB3ZWJ3aG9pczogYmVzaWRlIFRYVC9YTUwvSlNPTiBtb3JlIG91dHB1dCBtb2RpPyAgQ1NWLCBTL01JTUUgIChhbmQgYWRkIHRoZSBTL01JTUUga2V5'));
	@fwrite($fp, base64_decode('cHVycG9zZSB0byB0aGUgWC41MDkgY2VydGlmaWNhdGVzKQotIHdob2lzIHF1ZXJ5ICdvaWQ6JyBzaG91bGQgc2hvdyBhbGwgcm9vdCBlbnRyaWVzIChzdWJvcmRpbmF0ZSBlbnRyaWVzKSwgYnV0IHRoZXJlIGlzIG9ubHkgdGhlIG1lc3NhZ2UgIm5vdCBmb3VuZCIK'));
	@fwrite($fp, base64_decode('ClJGQwotIHByb29mIHJlYWQKLSBzaG91bGQgdGhlIHdob2xlIFdIT0lTIG91dHB1dCBiZSBjYXNlIGluc2Vuc2l0aXZlPwotIHNob3VsZCAiZGlzdGFuY2UiIGJlIG1hbmRhdG9yeT8KLSB0cnkgdG8gdXNlIE1VU1QsIE1VU1QgTk9ULCBTSEFMTCBldGMuIGFjY29y'));
	@fwrite($fp, base64_decode('ZGluZyB0byBSRkMgMjExOQotIGZlbGRlciBkaWUgbmljaHQgb3B0aW9uYWwgc2luZCA9PiBtYW5kYXRvcnkga2VubnplaWNobmVuCgpPT0JFL1NFVFVQCi0gVGhlcmUgc2hvdWxkIGJlIGEgInRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiIgYnV0dG9uCgpTTUFMTCBU'));
	@fwrite($fp, base64_decode('SElOR1MKLSBXZSBzaG91bGQgcmVtb3ZlICJkaWUoKSIgd2hlbmV2ZXIgcG9zc2libGUsIGJlY2F1c2UgaXQgaXMgdmVyeSB1bmZsZXhpYmxlCi0gb2ZmZXIgc2lnbmF0dXJlIGNoZWNrZXIgdG9vbCB0byB2ZXJpZnkgV0hPSVMgcmVzcG9uc2VzCi0gd2ViIHN2biB1'));
	@fwrite($fp, base64_decode('cGRhdGVyOiAiYmxhY2sgbGlzdCIgKGRvIG5vdCBvdmVyd3JpdGUgc3BlY2lmaWMgZmlsZXMgbGlrZSBmYXZpY29uLmljbykKLSBtaW5pbXVtLWF1ZmtsYXBwc3R1ZmVuIGZ1ZXIgYWxsZSBvYmpla3RlIHVuZCBwbHVnaW5zIGVpbnN0ZWxsYmFyIG1hY2hlbiwgc29k'));
	@fwrite($fp, base64_decode('YXNzIHouYi4gYWxsZSBPSURzIGltbWVyIGJpcyB6dXIgc3R1ZmUgMiBhdWZnZWtsYXBwdCBzaW5kLCB3ZW5uIG1hbiBPSURwbHVzIGZyaXNjaCDDtmZmbmV0Ci0gbWFrZSB1c2Ugb2YgYXV0b2xvYWRpbmcgb2YgUEhQIGNsYXNzZXMKLSBSZXZpdmUgdGhlIGlkZWEg'));
	@fwrite($fp, base64_decode('b2YgImluZm9ybWF0aW9uIG9iamVjdHMiID0gT0lEcyB0aGF0IGNvbnRhaW4gY29udGVudAotIFRoaW5ncyBsaWtlICJjb25maWcoKS0+bWluUmFQYXNzd29yZExlbmd0aCIgc2hvdWxkIG5vdCBiZSBoYXJkY29kZWQgZnVuY3Rpb25zLCBidXQgcmF0aGVyIHF1ZXJp'));
	@fwrite($fp, base64_decode('ZWQgd2l0aCBub3JtYWwgZ2V0VmFsdWUoKSBldGMuCi0gQVBJIDogTWFrZSBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIGEgUkEgZXhpc3RzLCBhbmQgdXNlIGl0IGV2ZXJ5d2hlcmUgd2hlcmUgbmVlZGVkCi0gU2hvdWxkIHdlIHNlbGYtaG9zdCBwb2x5ZmlsbCBk'));
	@fwrite($fp, base64_decode('dWUgdG8gR0RQUiBzdHVmZj8KLSBPYmplY3QgdHlwZSBwbHVnaW5zIDogbmFtZSBhbGwgZmlsZXMgInBsdWdpbi5pbmMucGhwIiBhbmQgYWxzbyB0YWtlIGNhcmUgdGhhdCAidHJlZWljb24ucG5nIiBhbmQgImljb25fYmlnLnBuZyIgZXhpc3QgZXZlcnl3aGVyZSAo'));
	@fwrite($fp, base64_decode('YmVjb21lIHN0YW5kYXJkKQotIHdoZW4gYWpheC5waHAgZ2VuZXJhdGVzIGEgUEhQIGVycm9yLCB0aGUgY2xpZW50IGdpdmVzIGEgInN5bnRheCBlcnJvciIgbWVzc2FnZS4uLiBpdCB3b3VsZCBiZSBiZXR0ZXIgaWYgdGhlIGNsaWVudCBzaG93cyB0aGUgZnVsbCBw'));
	@fwrite($fp, base64_decode('aHAgZXJyb3I/IG9yIHNvbWV0aGluZyBtb3JlIHVzZXItZnJpZW5kbHk/Ci0gZnJlZW9pZDogZ21haWwgYXBwIGRvZXMgbm90IGh5cGVybGluayB0aGUgYWN0aXZhdGlvbiBVUkwuIHdoeT8KLSBob3cgdG8gYXZvaWQgaW52aXRlIHNwYW1taW5nPwotIHdoZW4gYSBQ'));
	@fwrite($fp, base64_decode('SFAgZXJyb3IgaGFwcGVucyAoaS5lLiB0aGUgQUpBWCBzY3JpcHQgZGlkIG5vdCBtYW5hZ2UgdG8gb3V0cHV0IGEgSlNPTiksIHRoZSBBSkFYIHNjcmlwdCBvdXRwdXRzICJFcnJvcjogU3ludGF4RXJyb3I6IFVuZXhwZWN0ZWQgdG9rZW4gPCBpbiBKU09OIGF0IHBv'));
	@fwrite($fp, base64_decode('c2l0aW9uIDAiIC4uLiBiZXR0ZXIgc2hvdyB0aGUgdXNlciB0aGUgYWN0dWFsIG1lc3NhZ2UKLSB3aGVuIGxvZ2luIGV4cGlyZWQsIHJlbW92ZSBlbnRyaWVzIGluIHRoZSB0cmVldmlldwotIGNhbiB3ZSBwdXQgZXZlbiBtb3JlIGNvZGUgKGUuZy4gb2JqZWN0IENS'));
	@fwrite($fp, base64_decode('VUQpIGludG8gdGhlIHBsdWdpbiBkaXJlY3Rvcnk/Ci0gZGlzYWJsZSBzcGVjaWZpYyBmdW5jdGlvbnMgKGUuZy4gaW52aXRlLCBsb2dpbiwgcmFpbmZvLCBmb3Jnb3QgcGFzc3dvcmQpIGlmIHRoZSBwbHVnaW5zIGFyZSBub3QgaW5zdGFsbGVkIChjaGVjayBpZiBj'));
	@fwrite($fp, base64_decode('bGFzcyB0eXBlIGlzIHJlZ2lzdGVyZWQpCi0gbWFrZSB1c2FnZSBvZiBGb3JlaWduIEtleXMKLSA8YWJicj4gaW4gPGNvZGU+IHdpcmQgZG9wcGVsdCB1bnRlcnN0cmljaGVuCi0gd2VubiBtYW4gZWluZSB3ZWxsLWtub3duIE9JRCBhbmxlZ2VuIG32Y2h0ZSwgZGFu'));
	@fwrite($fp, base64_decode('biBrb21tdCBmZWhsZXIgd2VnZW4gcmVwbGFjZUFzbjEvcmVwbGFjZUlyaSwgYWJlciBkaWUgT0lEIGlzdCBlcnN0ZWxsdC4gRGllIEFQSSBpc3QgYWJlciBuaWNodCByZWxvYWRlZC4gTWFuIHNpZWh0IGFsc28gbmljaHQsIGRhc3MgZGllIE9JRCBlcnN0ZWxsdCB3'));
	@fwrite($fp, base64_decode('dXJkZSwgdW5kIGVpbiBlcm5ldXRlciBrbGljayBhdWYgSW5zZXJ0IGb8aHJ0IHp1bSBQcmltYXJ5LUtleSBmZWhsZXIKLSBwcm9ibGVtOiB3ZW5uIGVpbmUgUkEgZWluZ2VsYWRlbiB3ZXJkZW4gbfZjaHRlLCBtdXNzIG1hbiAidXBkYXRlIiBkcvxja2VuIHVuZCBk'));
	@fwrite($fp, base64_decode('aWUgT0lEIHdpcmQgYWxzIHVwZGF0ZWQgbWFya2llcnQKLSBiZWkgbWVocmVyZW4gaWRlbnRpZmllcm4ga2FubiBtYW4gbmljaHQgYmVzdGltbWVuLCB3ZWxjaGVyIGlkZW50aWZpZXIgZGVyIGJldm9yenVndGUgc2VpbiBzb2xsISEKLSBzaG93IHdob2lzIGxpbmtz'));
	@fwrite($fp, base64_decode('IG9ubHkgaWYgZm9sZGVyICJ3aG9pcy8iIGV4aXN0cwotIGRpc2FibGUgYXV0b2NvbXBsZXRlIG9uIHNvbWUgZm9ybXMKLSBncmFwaGljYWwgaW1wb3J2ZW1lbnRzIG9mIGZvcm1zIChpbnB1dCBlZGl0cyBhbGlnbmVkKQotICJEb2N1bWVudHMiIHNlY3Rpb246IE1h'));
	@fwrite($fp, base64_decode('a2UgZG9jdW1lbnRhdGlvbiBmb3IgdXNhZ2Ugb2YgT0lEcGx1cyAoZm9yIG1lbWJlcnMgb25seSkKLSBhZG1pbiBjb25maWcgbWVociB1c2VyIGZyaWVuZGx5LCBlLmcuIGhhdmluZyB0aGUgZW5hYmxlL2Rpc2FibGUgb2JqZWN0IHR5cGUgc3R1ZmYgKGxpa2UgaW4g'));
	@fwrite($fp, base64_decode('cmVnaXN0cmF0aW9uIHdpemFyZCkgYWxzbyBpbiB0aGUgYWRtaW4gY29udHJvbCBwYW5lbAotIGl0IHdvdWxkIGJlIGNvb2wgaWYgYWZ0ZXIgdGhlIGxvZ2luLCB0aGUgb3BlbmVkIG5vZGVzIGluIHRoZSB0cmVlIHdvdWxkIHN0YXkgb3BlbgotIHNob3VsZCB3ZSBs'));
	@fwrite($fp, base64_decode('b2cgc29tZXdoZXJlLCB3aGVuIHRoZSBhZG1pbiBhY2NvdW50IHdhcyBsb2dnZWQgaW4/Ci0gaHRtbCBjaGVja2JveDogImxhYmVsIGZvciIgdmVyd2VuZGVuCi0gd2hlbiBqYXZhc2NyaXB0IGZhaWxzLCB0aGUgZm9ybSB3aWxsIGJlIHN1Ym1pdHRlZCB0byAnLi8n'));
	@fwrite($fp, base64_decode('ICwgdGhhdCBpcyBub3QgZ29vZCEgZmFpbGVkIGphdmFzY3JpcHQgbXVzdCByZXR1cm4gZmFsc2UsIHNvIHRoYXQgdGhlIGZvcm0gZG9lcyBub3QgZ2V0IHN1Ym1pdHRlZAotIGFkbWluOiBzaG93IHByaXZhY3kgZW50cmllcyBmcm9tIFJBcyAoYnV0IGdyZXksIHNv'));
	@fwrite($fp, base64_decode('IHlvdSBrbm93IHRoYXQgaXQgaXMgcHJpdmF0ZSkKLSBhZG1pbiBzb2xsIGNvbnRhY3QgZGF0YSBlaW5lciBmcmVtZGVuIFJBIORuZGVybiBk/HJmZW4KLSBmcmVlb2lkOiBhc24uMSB1bmQgaXJpIHNwYWx0ZW4gYXVzYmxlbmRlbiwgZGEgZGllc2VyIGFyYyBrZWlu'));
	@fwrite($fp, base64_decode('ZSBJRHMgdmVyZ2lidD8KLSBQcml2YWN5OiBNZWhyIHN0dWZlbiwgei5iLiBkYXNzIG1hbiBkZW4gcGVyc29uYWwgbmFtZSBldnRsIGdhciBuaWNodCB6ZWlnZW4gbfZjaHRlCi0gTWFuIHNvbGx0ZSAiY3JlYXRlZCIgYWLkbmRlcm4gZPxyZmVuISBvZGVyIGV2dGwg'));
	@fwrite($fp, base64_decode('Z2FueiB2ZXJzdGVja2VuLCB3ZW5uIG1hbiBlcyBuaWNodCB3ZWnfCi0gaW4gZGVyIGNydWQgbGlzdGUgZGVuIHRpdGVsIGRlcyBvYmpla3RzIHplaWdlbgotIG5hdE9yZGVyKCkgaXN0IG51ciBm/HIgT0lEIGf8bHRpZyEhISBhbmRlcmUgc29ydC1tZWNoYW5pc21l'));
	@fwrite($fp, base64_decode('biBm/HIgYW5kZXJlIG9iamVrdHR5cGVuIGVyZm9yZGVybGljaAotIHRpbnltY2UKCW1jZSBkaXJ0eSBmbGFnOgoJCS0gd2VubiBtYW4gd2VjaHNlbCAoanMgdHJlZSBzZWxlY3QpLCBkYW5uIHNvbGwgYWJnZWZyYWd0IHdlcmRlbiwgb2IgdGlueW1jZSBkaXJ0eSBp'));
	@fwrite($fp, base64_decode('c3QsIHVuZCBlaW5lIHdhcm51bmcgYnJpbmdlbiwgYWxzbyBzbywgd2llIHdlbm4gbWFuIGRpZSBzZWl0ZSBuZXUgbGFkZW4gd/xyZGUKCQktIGtyaXRpc2NoZXIgYnVnOiBzZWl0ZSD2ZmZuZW4sIHRpbnkgbWNlIGVkaXRpZXJlbiwgc3BlaWNoZXJuIGtsaWNrZW4u'));
	@fwrite($fp, base64_decode('IGRhbm4gZjUgbmV1IGxhZGVuIChuaWNodCBzdHJnK2Y1KTogZGFubiBpc3QgZGVyIGFsdGUgY29udGVudCB3aWVkZXIgZGEuIGF132VyIG1hbiBkcvxja3Qgc3RyZytmNQotIGpzdHJlZSBzZWxlY3Q6IGF1dG9tYXRpY2FsbHkgc2Nyb2xsIGRvd24KLSBvcHRpc2No'));
	@fwrite($fp, base64_decode('IGF1Zmj8YnNjaGVuLiBkaW5nZSB3aWUgUkE6IG1laHIgZGluZ2UgemVpZ2VuLCBhZHJlc3NlLCBlbWFpbCBldGMKCkRBVEFCQVNFCi0gY2hlY2sgaWYgdGhlIE5VTEwgYW5kIE5PVCBOVUxMIGRlZmluaXRpb25zIGFyZSBtZWFuaW5nZnVsLiBJdCBpcyBub3QgZ29v'));
	@fwrite($fp, base64_decode('ZCBhdCBpbiAqX3JhIGV2ZXJ5dGhpbmcgaXMgTk9UIE5VTEwKLSB3ZSBuZWVkIHRvIG1ha2UgT0lEcGx1cyBtb3JlIGNvbXBhdGlibGUgd2l0aCBub24tTXlTUUwgZGF0YWJhc2VzIChkaWZmZXJlbnQgU1FMIGRpYWxlY3RzKQogIChjdXJyZW50bHksIG9ubHkgTXlT'));
	@fwrite($fp, base64_decode('UUwvTWFyaWFEQiwgUG9zdGdyZVNRTCBhbmQgTVMgU1FMIGFyZSBzdXBwb3J0ZWQpCi0gSW1wbGVtZW50IGRhdGFiYXNlIHBsdWdpbiBmb3IgUEhQJ3MgTVNTUUwgZXh0ZW5zaW9uPwoKRlVUVVJFCi0gbXVsdGlsYW5nCi0gbWFrZSB1c2Ugb2YgQ29tcG9zZXIuIFBy'));
	@fwrite($fp, base64_decode('b2JsZW1zOgogICogV2hhdCBpZiBjb21wb3NlciBpbnN0YWxscyBhIHZlcnNpb24gb2YgYSBjb21wb25lbnQsIHdoaWNoIGlzIGluY29tcGF0aWJsZT8KICAqIFdlIG5lZWQgYSBuZXcgcHVibGlzaGluZyBzY3JpcHQsIGJlY2F1c2Ugc2ltcGx5IGNoZWNraW5nIG91'));
	@fwrite($fp, base64_decode('dCBTVk4gaXMgbm90IGVub3VnaCBhbnltb3JlLiBUaGUgdXNlciBuZWVkcyB0byBleGVjdXRlIGNvbXBvc2VyLiBCdXQgd2hhdCBpcyBpZiB0aGUgdXNlciBkb24ndCBoYXZlIGNvbXBvc2VyIChvciBkb250IGhhdmUgc2hlbGwgYWNjZXNzIGF0IGFsbD8pCi0gaW1w'));
	@fwrite($fp, base64_decode('bGVtZW50IHNpdGVtYXBzIHhtbAotIGFkbWluIHNob3VsZCBiZSBhYmxlIHRvIGNoYW5nZSB3ZWxsa25vd24gb2lkcz8KLSBtb3ZlIG9pZCB0byBkaWZmZXJlbnQgYXJjCi0gYmVpIHNlaHIgZ3Jv32VuIGFyY3MgKHouQi4gUEVOKSBzb2xsZW4gbmljaHQgYWxsZSBh'));
	@fwrite($fp, base64_decode('bmdlemVpZ3Qgd2VyZGVuCi0gdW50ZXJzdPx0enVuZyBm/HIgT1JTPwotIE1laHIgIkN1dHRpbmcgRWRnZSBUZWNobm9sb2dpZSIgc29sbCBpbiBkaWVzZW0gUHJvamVrdCB6dW0gVHJhZ2VuIGtvbW1lbjogQUpBWCwgSlNPTiwgdm9sbHN05G5kaWcgVVRGOCwgQ1JV'));
	@fwrite($fp, base64_decode('RCBmcmFtZXdvcmtzLCBQRE8sIEhUTUw1LCBNb2JpbGVzIERlc2lnbiwgUHVyZSBDU1MsIEF1dG9sb2FkaW5nLCBPYmpla3RvcmllbnRpZXJ1bmcgKGFiZXIgbmljaHQgdW5iZWRpbmd0IE1WQyksIC4uLjxicj4KLSAiU2VhcmNoIiBwbHVnaW46IEZlYXR1cmUgdG8g'));
	@fwrite($fp, base64_decode('c2VhcmNoIGluc2lkZSBkb2N1bWVudGF0aW9uIChkb2MvIGRpcmVjdG9yeSkKLSAiU2VhcmNoIiBwbHVnaW46IEkgd2FudCB0byBzZWFyY2ggaW4gYWxsIG9iamVjdCB0eXBlcyBhbmQgUkFzLiBOb3QgZmlyc3Qgc2VsZWN0IHRoZSB0eXBlLgotIEhvdyBjYW4gd2Ug'));
	@fwrite($fp, base64_decode('bWFrZSBzdXJlIHRoYXQgZXhhbXBsZSBvYmplY3RzIGFyZSBub3QgZXhwb3J0ZWQgdXNpbmcgb2lkLWluZm8uY29tIGV4cG9ydD8KLSBBZG1pbmlzdHJhdG9yLUludGVyZmFjZTogZW5hYmxlIGFuZCBkaXNhYmxlIG9iamVjdCB0eXBlcwotIGRldGFpbGxlZCBjaGFu'));
	@fwrite($fp, base64_decode('Z2UtaGlzdG9yeSBvZiBlYWNoIG9pZAoKQlVHUz8KLSBPSURwbHVzIGRvZXMgbm90IHdvcmsgaW4gU2FmYXJpIE1vYmlsZSEKCTEuIFlvdSBjYW5ub3Qgc2Nyb2xsIHRoZSBPSUQgZ3JpZCwgYXMgdGhlIHNjcm9sbGluZyBhZmZlY3RzIHRoZSB3aG9sZSBwYWdlLCBu'));
	@fwrite($fp, base64_decode('b3QgdGhlIGdyaWQuCgkyLiBKUXVlcnlVSSBzbGlkZXJzIGNhbm5vdCBiZSBkcmFnZ2VkCgpSRUpFQ1RFRCBJREVBUwotIHNvbGx0ZSBlcyBtZWhlcmUgYWRtaW5zIGdlYmVuPwotIHJlY29yZCBmaXJzdCBSQSBhbmQgY3VycmVudCBSQSA9PiBYLjY2MCBkb2VzIG5v'));
	@fwrite($fp, base64_decode('dCBoYXZlIHRoaXMgcmVxdWlyZW1lbnQKLSBtYXJrZXJzIERSQUZULCBMRUFGIGFuZCBGUk9aRU4gZXRjLiA9PiB1c2UgIlByb3RlY3RlZCIgaWYgeW91IHdhbnQgdG8gbWFrZSBpdCBpbnZpc2libGUKCklERUFTCi0gd2hlbiBhIG5ldyBvaWQgaXMgY3JlYXRlZCwg'));
	@fwrite($fp, base64_decode('c2hvdWxkIHdlIHJlZGlyZWN0IHRvIHRoZSBuZXdseSBjcmVhdGVkIE9JRCwgc28gdGhhdCB0aGUgdXNlciBjYW4gYmVnaW4gZW50ZXJpbmcgdGhlIGRlc2NyaXB0aW9uIGV0Yz8KLSB3aGVuIGFuIG9iamVjdCB3YXMgbm90IGZvdW5kLCB0aGUgZXJyb3IgbWVzc2Fn'));
	@fwrite($fp, base64_decode('ZSBjb3VsZCBzaG93IHRoZSBuZXh0IHBvc3NpYmxlIGtub3duIG9iamVjdCAobGlrZSBXZWJXSE9JUyBkb2VzKQotIHRoZSAiZ290byIgcXVpY2tiYXIgKGF0IHRoZSB0b3AgcmlnaHQpIGNvdWxkIGFsc28gYmUgdXNlZCB0byBzZWFyY2ggc29tZXRoaW5nIC4uLgot'));
	@fwrite($fp, base64_decode('IC4uLiBhbHRlcm5hdGl2ZWx5LCB0aGUgIm9iamVjdCBub3QgZm91bmQiIGVycm9yIHBhZ2UgY291bGQgbGluayB0byB0aGUgc2VhcmNoIHBsdWdpbgotIG1ha2UgY29sb3IgcGx1Z2luIGF2YWlsYWJsZSBmb3IgZXZlcnlvbmUuIEFkbWluIG1heSBwZXJtYW5lbnRs'));
	@fwrite($fp, base64_decode('eSBzYXZlIHRoZSBjb2xvcnMsIGJ1dCB1c2VycyBzaG91bGQgYmUgYWJsZSB0byBzZXQgdGhlaXIgb3duIHRoZW1lLCBzYXZlZCB2aWEgY29va2llcwotIHRoZXJlIHNob3VsZCBiZSBhIGZvcm0gd2hlcmUgYW4gUkEgY2FuIHJlcXVlc3QgYW4gaW52aXRhdGlvbiwg'));
	@fwrite($fp, base64_decode('ZXZlbiBpZiB0aGUgc3VwZXJpb3IgUkEgZGlkIG5vdCBpbnZpdGUgdGhlbS4KICB0aGUgZmFjdCB0aGF0IGEgUkEgZXhpc3RzIGluIHRoZSBPYmplY3QgVGFibGUgc2hvdWxkIHBlcm1pdCB0aGUgUkEgdG8gaW52aXRlIHRoZWlyc2VsZi4KLSBiZWltIHZlcmxhc3Nl'));
	@fwrite($fp, base64_decode('biBkZXIgc2VpdGUsIHouYi4gd2VubiBtYW4gbGlua3MgYXVmIGVpbmVuIG5ldWVuIG1lbvxwdW5rdCBrbGlja3QsIHNvbGwgZWluZSBhYmZyYWdlIGtvbW1lbiwgb2IgbWFuIHNwZWljaGVybiBt9mNodGUKLSBtYWtlIGEgbGlzdCBvZiBPSURzIHRoYXQgZG8gbm90'));
	@fwrite($fp, base64_decode('IGFzc2lnbiBBU04xL0lSSSBpZGVudGlmaWVycyAoZS5nLiBJQU5BIFBFTiBvciBWaWFUaGlua1NvZnQgRnJlZU9JRCksIHRoZW4gcmVqZWN0IGFueSBpZGVudGlmaWVyIHRoZSB1c2VyIHByb3ZpZGVzCi0gc2FuaXRpemUgSVB2NCwgSVB2NiwgR1VJRCBkdXJpbmcg'));
	@fwrite($fp, base64_decode('Y3JlYXRpb24KCWJlaSBJUHY0IHVuZCBJUHY2OiAtIGlmIGl0IGlzIGEgc2luZ2xlIGhvc3QgYWRkcmVzcywgZG9uJ3QgcHV0IC8zMiBvciAvMTI4IHN1ZmZpeAoJICAgICAgICAgICAgICAgICAgIC0gc3RyaWtlIHVubmVjZXNzYXJ5IGJpdHMgdGhhdCBhcmUgbm90'));
	@fwrite($fp, base64_decode('IGRlZmluZWQgaW4gdGhlIG5ldG1hc2sgKGFsc28gYXQgdGhlIHdob2lzIG91dHB1dCkKLSBsZXQgdGhlIHN5c2FkbWluIGRlY2lkZSBpZiB0aGV5IHdhbnQgdGhlIHRpdGxlIGJlICJzeXN0ZW10aXRsZSAtIG9iamVjdCB0aXRsZSIgb3IgIm9iamVjdCB0aXRsZSAt'));
	@fwrite($fp, base64_decode('IHN5c3RlbXRpdGxlIgotIHNob3VsZCBhIFJBIGJlIGFibGUgdG8gbWFyayB0aGVpciBvd24gb2lkIGFzIGNvbmZpZGVudGlhbCwgaW5zdGVhZCBvZiBhc2tpbmcgdGhlIHN1cGVyaW9yIFJBPwotIHNvbGx0ZSBlcyBlaW5lIG9pZHBsdXMgcHJvamVrdHNlaXRlIGdl'));
	@fwrite($fp, base64_decode('YmVuIGFuc3RlbGxlIG51ciBkYXMgbmFja3RlIHN5c3RlbT8KLSB2ZW5kb3Igc2lnbmF0dXJlIHRvIHBsdWdpbnMgKyB2aWF0aGlua3NvZnQgc2lnbmF0dXJlcyArICJjaGVjayIgcHJvZ3JhbSBpZiBhbGwgc2lnbmF0dXJlcyBtYXRjaAotIGhhdmUgYSBtZW51IGl0'));
	@fwrite($fp, base64_decode('ZW0gKHBsdWdpbikgImxhdGVzdCB1cGRhdGVzIiB3aGljaCBsaXN0cyBPSURzIHRoYXQgaGF2ZSBiZWVuIGNoYW5nZWQgb3IgYWRkZWQgcmVjZW50bHk/Ci0gKHVuc3VyZTopIHdvdWxkIGl0IGJlIGdvb2QgaWYgdGhlIHN1cGVyaW9yIFJBIGNvbW1lbnQgaXMgc2hv'));
	@fwrite($fp, base64_decode('d24gaW4gdGhlIG9iamVjdCBwYWdlIGl0c2VsZj8KLSBEdXJpbmcgYW4gb2JqZWN0IGluc2VydGlvbjogSWYgZXZlcnl0aGluZyBpcyBlbXB0eSAoQVNOMSwgSVJJLCBjb21tZW50KSwgc2hvdWxkIHRoZW4gdGhlcmUgYmUgYSB3YXJuaW5nPwoKUVVFU1RJT05TCi0g'));
	@fwrite($fp, base64_decode('c2hvdWxkIHRoZSBjb2xsYXRpb24gYmUgY2FzZSBzZW5zaXRpdmUgb3IgY2FzZSBpbnNlbnNpdGl2ZT8gRm9yIEphdmEgcGFja2FnZSBuYW1lcywgaXQgc2hvdWxkIGJlIGNhc2Ugc2Vuc3RpdmllCi0gd29ydCAiZ3VpZCIgb2RlciAidXVpZCIgdmVyd2VuZGVuPwot'));
	@fwrite($fp, base64_decode('IGJpdCBvciB0aW55aW50KDEpID8KLSBzaG91bGQgIk9JRCB1cGRhdGVkIiBiZSBzcGxpdCBpbnRvIHR3byBjYXRlZ29yaWVzICJ1cGRhdGVkIGJ5IHN1cGVyaW9yIiAoZS5nLiBpZGVudGlmaWVycykgYW5kICJ1cGRhdGVkIGJ5IG93bmVyIiAoZGVzY3JpcHRpb24g'));
	@fwrite($fp, base64_decode('ZXRjKT8KLSAidXBkYXRlZCIgbmljaHQgYWt0dWFsaXNpZXJlbiwgd2VubiBtYW4gbnVyIGF1ZiAidXBkYXRlIiBrbGlja3QgYWJlciBuaXggZ2XkbmRlcnQgaGF0Ci0gIkRvY3VtZW50cyIgc2VjdGlvbjogQ2FuIGJhc2Ugb2YgVVJMcy9pbWFnZXMgaW5zaWRlIHRo'));
	@fwrite($fp, base64_decode('ZSBIVE1MIGJlIGNoYW5nZWQgYXV0b21hdGljYWxseT8KClBSSVZBQ1k6Ci0gbWFrZSBhIGNvbmZpZy5pbmMucGhwIHNldHRpbmcgdG8gZGlzYWJsZSBQT0xZRklMTC5JTyBmZWF0dXJlCi0gYnJpbmcgYmFjayAiM3AvY29va2llY29udGVudCI/IERNIDI4IE1heSAy'));
	@fwrite($fp, base64_decode('MDE5OiBSZW1vdmVkIENvb2tpZUNvbnNlbnQgdGVtcG9yYXJpbHksIGJlY2F1c2UgaXQgaXMgcGxhY2VkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHBhZ2UgYW5kIHRoZXJlZm9yZSBydWlucyB0aGUgR29vZ2xlIGluZGV4IC4uLgoJPT4gV2UgbWlnaHQgbm90IG5l'));
	@fwrite($fp, base64_decode('ZWQgaXQsIGJlY2F1c2UgY29va2llcyBhcmUgb25seSBzZXQgZHVyaW5nIGxvZ2luLCBhbmQgYXQgdGhlIGxvZ2luIHBhZ2UgaXRzZWxmLCB3ZSBhbHJlYWR5IHdhcm4gYWJvdXQgY29va2llcywgaW4gYWRkaXRpb24gdG8gdGhlIFByaXZhY3kgZG9jdW1lbnRhdGlv'));
	@fwrite($fp, base64_decode('bgoKR1VJRCBNYW5hZ2VtZW50Ci0gTGVhZiBub2RlcyAoR1VJRHMpIHNob3VsZCBzaG93L2VkaXQgdGhlIFRpdGxlIGluIHRoZSBDUlVELCBzbyB5b3UgZG9udCBoYXZlIHRvIGNsaWNrIHRoZSBHVUlEIHRvIHNlZSB0aGUgdGl0bGUKLSBzZWx0c2FtZXIgYnVnOiB3'));
	@fwrite($fp, base64_decode('ZW5uIGljaCBndWlkOm9pZHBsdXMgZWRpdGllcmUsIGRhbm4g9mZmbmV0IHNpY2ggbGlua3MgZ3VpZDphY3RpdmVkaXJlY3RvcnkgYmVpbSBuZXVsYWRlbiBkZXMgYmF1bXMgbmFjaCBkZW0gdXBkYXRlLiBpcmdlbmR3aWUg9mZmbmV0IGVyIGRlbiB6dWxldHp0IGdl'));
	@fwrite($fp, base64_decode('9mZmbmV0ZW4gbm9kZSBiZWltIHJlbG9hZCBub2NobWFsCg=='));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_2();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != 'a49760548c2142c9448f5727577e51d25f4edeac') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== 'a49760548c2142c9448f5727577e51d25f4edeac') {
		if (@sha1_file('TODO') !== 'f816fdf5b8bd6f3e4b621ed844b290e31b7f765b') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('TODO') !== 'a49760548c2142c9448f5727577e51d25f4edeac') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: includes/classes/OIDplus.class.php
function writefile_3() {
	@$fp = fopen('includes/classes/OIDplus.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXMgewoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzUGFnZVBsdWdpbltdW10qLyAkcGFnZVBsdWdpbnMgPSBhcnJh'));
	@fwrite($fp, base64_decode('eSgpOwoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzQXV0aFBsdWdpbltdW10qLyAkYXV0aFBsdWdpbnMgPSBhcnJheSgpOwoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzT2JqZWN0VHlwZVBsdWdpbltdKi8gJG9iamVjdFR5cGVQbHVnaW5zID0gYXJyYXkoKTsKCXBy'));
	@fwrite($fp, base64_decode('aXZhdGUgc3RhdGljIC8qc3RyaW5nW10qLyAkZW5hYmxlZE9iamVjdFR5cGVzID0gYXJyYXkoKTsKCXByaXZhdGUgc3RhdGljIC8qc3RyaW5nW10qLyAkZGlzYWJsZWRPYmplY3RUeXBlcyA9IGFycmF5KCk7Cglwcml2YXRlIHN0YXRpYyAvKk9JRHBsdXNEYXRhYmFz'));
	@fwrite($fp, base64_decode('ZVBsdWdpbltdKi8gJGRiUGx1Z2lucyA9IGFycmF5KCk7CgoJcHJvdGVjdGVkIHN0YXRpYyAkaHRtbCA9IG51bGw7CgoJcHJpdmF0ZSBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpIHsKCX0KCgkjIC0tLSBTaW5nbGV0b24gY2xhc3NlcwoKCXB1YmxpYyBzdGF0aWMgZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gY29uZmlnKCkgewoJCXN0YXRpYyAkY29uZmlnID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkY29uZmlnKSkgewoJCQkkY29uZmlnID0gbmV3IE9JRHBsdXNDb25maWcoKTsKCQl9CgkJcmV0dXJuICRjb25maWc7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlv'));
	@fwrite($fp, base64_decode('biBndWkoKSB7CgkJc3RhdGljICRndWkgPSBudWxsOwoJCWlmIChpc19udWxsKCRndWkpKSB7CgkJCSRndWkgPSBuZXcgT0lEcGx1c0d1aSgpOwoJCX0KCQlyZXR1cm4gJGd1aTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGF1dGhVdGlscygpIHsKCQlzdGF0'));
	@fwrite($fp, base64_decode('aWMgJGF1dGhVdGlscyA9IG51bGw7CgkJaWYgKGlzX251bGwoJGF1dGhVdGlscykpIHsKCQkJJGF1dGhVdGlscyA9IG5ldyBPSURwbHVzQXV0aFV0aWxzKCk7CgkJfQoJCXJldHVybiAkYXV0aFV0aWxzOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbG9nZ2Vy'));
	@fwrite($fp, base64_decode('KCkgewoJCXN0YXRpYyAkbG9nZ2VyID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkbG9nZ2VyKSkgewoJCQkkbG9nZ2VyID0gbmV3IE9JRHBsdXNMb2dnZXIoKTsKCQl9CgkJcmV0dXJuICRsb2dnZXI7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXNIYW5kbGVy'));
	@fwrite($fp, base64_decode('KCkgewoJCXN0YXRpYyAkc2VzSGFuZGxlciA9IG51bGw7CgkJaWYgKGlzX251bGwoJHNlc0hhbmRsZXIpKSB7CgkJCSRzZXNIYW5kbGVyID0gbmV3IE9JRHBsdXNTZXNzaW9uSGFuZGxlcihPSURQTFVTX1NFU1NJT05fU0VDUkVUKTsKCQl9CgkJcmV0dXJuICRzZXNI'));
	@fwrite($fp, base64_decode('YW5kbGVyOwoJfQoKCSMgLS0tIERhdGFiYXNlIHBsdWdpbgoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHJlZ2lzdGVyRGF0YWJhc2VQbHVnaW4oT0lEcGx1c0RhdGFiYXNlUGx1Z2luICRwbHVnaW4pIHsKCQkkbmFtZSA9ICRwbHVnaW4tPm5hbWUoKTsKCQlpZiAo'));
	@fwrite($fp, base64_decode('JG5hbWUgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7CgoJCXNlbGY6OiRkYlBsdWdpbnNbJG5hbWVdID0gJHBsdWdpbjsKCgkJcmV0dXJuIHRydWU7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXREYXRhYmFzZVBsdWdpbnMoKSB7CgkJcmV0dXJuIHNlbGY6'));
	@fwrite($fp, base64_decode('OiRkYlBsdWdpbnM7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBkYigpIHsKCQlpZiAoIWlzc2V0KHNlbGY6OiRkYlBsdWdpbnNbT0lEUExVU19EQVRBQkFTRV9QTFVHSU5dKSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhj'));
	@fwrite($fp, base64_decode('ZXB0aW9uKCJEYXRhYmFzZSBwbHVnaW4gJyIuT0lEUExVU19EQVRBQkFTRV9QTFVHSU4uIicgbm90IGZvdW5kIik7CgkJfQoJCSRvYmogPSBzZWxmOjokZGJQbHVnaW5zW09JRFBMVVNfREFUQUJBU0VfUExVR0lOXTsKCQlpZiAoISRvYmotPmlzQ29ubmVjdGVkKCkp'));
	@fwrite($fp, base64_decode('ICRvYmotPmNvbm5lY3QoKTsKCQlyZXR1cm4gJG9iajsKCX0KCgkjIC0tLSBQYWdlIHBsdWdpbgoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHJlZ2lzdGVyUGFnZVBsdWdpbihPSURwbHVzUGFnZVBsdWdpbiAkcGx1Z2luKSB7CgkJJHR5cGUgPSAkcGx1Z2luLT50'));
	@fwrite($fp, base64_decode('eXBlKCk7CgkJaWYgKCR0eXBlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoKCQkkcHJpbyA9ICRwbHVnaW4tPnByaW9yaXR5KCk7CgkJaWYgKCRwcmlvID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoKCQlpZiAoIWlzc2V0KHNlbGY6OiRwYWdlUGx1Z2luc1skdHlw'));
	@fwrite($fp, base64_decode('ZV0pKSBzZWxmOjokcGFnZVBsdWdpbnNbJHR5cGVdID0gYXJyYXkoKTsKCQlzZWxmOjokcGFnZVBsdWdpbnNbJHR5cGVdWyRwcmlvXSA9ICRwbHVnaW47CgoJCXJldHVybiB0cnVlOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGFnZVBsdWdpbnMoJHR5'));
	@fwrite($fp, base64_decode('cGU9JyonKSB7CgkJaWYgKCR0eXBlID09PSAnKicpIHsKCQkJJHJlcyA9IGFycmF5KCk7CgkJCWZvcmVhY2ggKHNlbGY6OiRwYWdlUGx1Z2lucyBhcyAkZGF0YSkgewoJCQkJJHJlcyA9IGFycmF5X21lcmdlKCRyZXMsICRkYXRhKTsKCQkJfQoJCX0gZWxzZSB7CgkJ'));
	@fwrite($fp, base64_decode('CSR0eXBlcyA9IGV4cGxvZGUoJywnLCAkdHlwZSk7CgkJCWZvcmVhY2ggKCR0eXBlcyBhcyAkdHlwZSkgewoJCQkJJHJlcyA9IGlzc2V0KHNlbGY6OiRwYWdlUGx1Z2luc1skdHlwZV0pID8gc2VsZjo6JHBhZ2VQbHVnaW5zWyR0eXBlXSA6IGFycmF5KCk7CgkJCX0K'));
	@fwrite($fp, base64_decode('CQl9CgkJa3NvcnQoJHJlcyk7CgkJcmV0dXJuICRyZXM7Cgl9CgoJIyAtLS0gQXV0aCBwbHVnaW4KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWdpc3RlckF1dGhQbHVnaW4oT0lEcGx1c0F1dGhQbHVnaW4gJHBsdWdpbikgewoJCXNlbGY6OiRhdXRoUGx1Z2lu'));
	@fwrite($fp, base64_decode('c1tdID0gJHBsdWdpbjsKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEF1dGhQbHVnaW5zKCkgewoJCXJldHVybiBzZWxmOjokYXV0aFBsdWdpbnM7Cgl9CgoJIyAtLS0gT2JqZWN0IHR5cGUgcGx1Z2luCgoJcHJpdmF0ZSBzdGF0'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24gcmVnaXN0ZXJPYmplY3RUeXBlUGx1Z2luKE9JRHBsdXNPYmplY3RUeXBlUGx1Z2luICRwbHVnaW4pIHsKCQlzZWxmOjokb2JqZWN0VHlwZVBsdWdpbnNbXSA9ICRwbHVnaW47CgoJCSRvdCA9ICRwbHVnaW46OmdldE9iamVjdFR5cGVDbGFzc05h'));
	@fwrite($fp, base64_decode('bWUoKTsKCQlzZWxmOjpyZWdpc3Rlck9iamVjdFR5cGUoJG90KTsKCgkJcmV0dXJuIHRydWU7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXJPYmplY3RUeXBlKCRvdCkgewoJCSRucyA9ICRvdDo6bnMoKTsKCgkJaWYgKGVtcHR5KCRucykpIHRo'));
	@fwrite($fp, base64_decode('cm93IG5ldyBFeGNlcHRpb24oIkF0dGVudGlvbjogRW1wdHkgTlMgYXQgJG90XG4iKTsKCgkJJG5zX2ZvdW5kID0gZmFsc2U7CgkJZm9yZWFjaCAoYXJyYXlfbWVyZ2UoT0lEcGx1czo6Z2V0RW5hYmxlZE9iamVjdFR5cGVzKCksIE9JRHBsdXM6OmdldERpc2FibGVk'));
	@fwrite($fp, base64_decode('T2JqZWN0VHlwZXMoKSkgYXMgJHRlc3Rfb3QpIHsKCQkJaWYgKCR0ZXN0X290OjpucygpID09ICRucykgewoJCQkJJG5zX2ZvdW5kID0gdHJ1ZTsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJCWlmICgkbnNfZm91bmQpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiQXR0'));
	@fwrite($fp, base64_decode('ZW50aW9uOiBUd28gb2JqZWN0VHlwZSBwbHVnaW5zIHVzZSB0aGUgc2FtZSBuYW1lc3BhY2UgXCIkbnNcIiEiKTsKCQl9CgoJCSRpbml0ID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCJvYmplY3R0eXBlc19pbml0aWFsaXplZCIpOwoJCSRpbml0X2FyeSA9'));
	@fwrite($fp, base64_decode('IGVtcHR5KCRpbml0KSA/IGFycmF5KCkgOiBleHBsb2RlKCc7JywgJGluaXQpOwoJCSRpbml0X2FyeSA9IGFycmF5X21hcCgndHJpbScsICRpbml0X2FyeSk7CgoJCSRlbmFibGVkID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCJvYmplY3R0eXBlc19lbmFi'));
	@fwrite($fp, base64_decode('bGVkIik7CgkJJGVuYWJsZWRfYXJ5ID0gZW1wdHkoJGVuYWJsZWQpID8gYXJyYXkoKSA6IGV4cGxvZGUoJzsnLCAkZW5hYmxlZCk7CgkJJGVuYWJsZWRfYXJ5ID0gYXJyYXlfbWFwKCd0cmltJywgJGVuYWJsZWRfYXJ5KTsKCgkJJGRvX2VuYWJsZSA9IGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CWlmIChpbl9hcnJheSgkbnMsICRlbmFibGVkX2FyeSkpIHsKCQkJJGRvX2VuYWJsZSA9IHRydWU7CgkJfSBlbHNlIHsKCQkJaWYgKCFPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3JlZ2lzdHJhdGlvbl9kb25lJykpIHsKCQkJCSRkb19lbmFibGUgPSAkbnMg'));
	@fwrite($fp, base64_decode('PT0gJ29pZCc7CgkJCX0gZWxzZSB7CgkJCQkkZG9fZW5hYmxlID0gIWluX2FycmF5KCRucywgJGluaXRfYXJ5KTsKCQkJfQoJCX0KCgkJaWYgKCRkb19lbmFibGUpIHsKCQkJc2VsZjo6JGVuYWJsZWRPYmplY3RUeXBlc1tdID0gJG90OwoJCQl1c29ydChzZWxmOjok'));
	@fwrite($fp, base64_decode('ZW5hYmxlZE9iamVjdFR5cGVzLCBmdW5jdGlvbigkYSwgJGIpIHsKCQkJCSRlbmFibGVkID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCJvYmplY3R0eXBlc19lbmFibGVkIik7CgkJCQkkZW5hYmxlZF9hcnkgPSBleHBsb2RlKCc7JywgJGVuYWJsZWQpOwoK'));
	@fwrite($fp, base64_decode('CQkJCSRpZHhfYSA9IGFycmF5X3NlYXJjaCgkYTo6bnMoKSwgJGVuYWJsZWRfYXJ5KTsKCQkJCSRpZHhfYiA9IGFycmF5X3NlYXJjaCgkYjo6bnMoKSwgJGVuYWJsZWRfYXJ5KTsKCgkJCSAgICAgICAgaWYgKCRpZHhfYSA9PSAkaWR4X2IpIHsKCQkJICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgcmV0dXJuIDA7CgkJCSAgICAgICAgfQoJCQkgICAgICAgIHJldHVybiAoJGlkeF9hID4gJGlkeF9iKSA/ICsxIDogLTE7CgkJCX0pOwoJCX0gZWxzZSB7CgkJCXNlbGY6OiRkaXNhYmxlZE9iamVjdFR5cGVzW10gPSAkb3Q7CgkJfQoKCQlpZiAoIWluX2FycmF5'));
	@fwrite($fp, base64_decode('KCRucywgJGluaXRfYXJ5KSkgewoJCQkvLyBXYXMgbmV2ZXIgaW5pdGlhbGl6ZWQgYmVmb3JlLCBzbyB3ZSBhZGQgaXQgdG8gdGhlIGxpc3Qgb2YgZW5hYmxlZCBvYmplY3QgdHlwZXMgb25jZQoKCQkJaWYgKCRkb19lbmFibGUpIHsKCQkJCSRlbmFibGVkX2FyeVtd'));
	@fwrite($fp, base64_decode('ID0gJG5zOwoJCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCJvYmplY3R0eXBlc19lbmFibGVkIiwgaW1wbG9kZSgnOycsICRlbmFibGVkX2FyeSkpOwoJCQl9CgoJCQkkaW5pdF9hcnlbXSA9ICRuczsKCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVl'));
	@fwrite($fp, base64_decode('KCJvYmplY3R0eXBlc19pbml0aWFsaXplZCIsIGltcGxvZGUoJzsnLCAkaW5pdF9hcnkpKTsKCQl9Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRPYmplY3RUeXBlUGx1Z2lucygpIHsKCQlyZXR1cm4gc2VsZjo6JG9iamVjdFR5cGVQbHVnaW5zOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0T2JqZWN0VHlwZVBsdWdpbnNFbmFibGVkKCkgewoJCSRyZXMgPSBhcnJheSgpOwoJCWZvcmVhY2ggKHNlbGY6OiRvYmplY3RUeXBlUGx1Z2lucyBhcyAkcGx1Z2luKSB7CgkJCSRvdCA9ICRwbHVnaW46OmdldE9iamVj'));
	@fwrite($fp, base64_decode('dFR5cGVDbGFzc05hbWUoKTsKCQkJaWYgKGluX2FycmF5KCRvdCwgc2VsZjo6JGVuYWJsZWRPYmplY3RUeXBlcykpICRyZXNbXSA9ICRwbHVnaW47CgkJfQoJCXJldHVybiAkcmVzOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0T2JqZWN0VHlwZVBsdWdp'));
	@fwrite($fp, base64_decode('bnNEaXNhYmxlZCgpIHsKCQkkcmVzID0gYXJyYXkoKTsKCQlmb3JlYWNoIChzZWxmOjokb2JqZWN0VHlwZVBsdWdpbnMgYXMgJHBsdWdpbikgewoJCQkkb3QgPSAkcGx1Z2luOjpnZXRPYmplY3RUeXBlQ2xhc3NOYW1lKCk7CgkJCWlmIChpbl9hcnJheSgkb3QsIHNl'));
	@fwrite($fp, base64_decode('bGY6OiRkaXNhYmxlZE9iamVjdFR5cGVzKSkgJHJlc1tdID0gJHBsdWdpbjsKCQl9CgkJcmV0dXJuICRyZXM7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRFbmFibGVkT2JqZWN0VHlwZXMoKSB7CgkJcmV0dXJuIHNlbGY6OiRlbmFibGVkT2JqZWN0VHlw'));
	@fwrite($fp, base64_decode('ZXM7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXREaXNhYmxlZE9iamVjdFR5cGVzKCkgewoJCXJldHVybiBzZWxmOjokZGlzYWJsZWRPYmplY3RUeXBlczsKCX0KCgkjIC0tLSBJbml0aWFsaXphdGlvbiBvZiBPSURwbHVzCgoJcHVibGljIHN0YXRpYyBm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBpbml0KCRodG1sPXRydWUpIHsKCQlzZWxmOjokaHRtbCA9ICRodG1sOwoKCQkvLyBJbmNsdWRlIGNvbmZpZyBmaWxlCgoJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy8uLi9jb25maWcuaW5jLnBocCcpKSB7CgkJCWluY2x1ZGVfb25jZSBfX0RJ'));
	@fwrite($fp, base64_decode('Ul9fIC4gJy8uLi9jb25maWcuaW5jLnBocCc7CgkJfSBlbHNlIHsKCQkJaWYgKCFpc19kaXIoX19ESVJfXy4nLy4uLy4uL3NldHVwJykpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0ZpbGUgaW5jbHVkZXMvY29u'));
	@fwrite($fp, base64_decode('ZmlnLmluYy5waHAgaXMgbWlzc2luZywgYnV0IHNldHVwIGNhblwndCBiZSBzdGFydGVkIGJlY2F1c2UgaXRzIGRpcmVjdG9yeSBtaXNzaW5nLicpOwoJCQl9IGVsc2UgewoJCQkJaWYgKCRodG1sKSB7CgkJCQkJaGVhZGVyKCdMb2NhdGlvbjonLk9JRHBsdXM6Omdl'));
	@fwrite($fp, base64_decode('dFN5c3RlbVVybCgpLidzZXR1cC8nKTsKCQkJCQlkaWUoJ1JlZGlyZWN0aW5nIHRvIHNldHVwLi4uJyk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIFRoaXMgY2FuIGJlIGRpc3BsYXllZCBpbiBlLmcuIGFqYXgucGhwCgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJ'));
	@fwrite($fp, base64_decode('bml0aWFsaXphdGlvbkV4Y2VwdGlvbignRmlsZSBpbmNsdWRlcy9jb25maWcuaW5jLnBocCBpcyBtaXNzaW5nLiBQbGVhc2UgcnVuIHNldHVwIGFnYWluLicpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBBdXRvLWZpbGwgbm9uLWV4aXN0aW5nIGNvbmZpZyB2YWx1ZXMs'));
	@fwrite($fp, base64_decode('IHNvIHRoYXQgdGhlcmUgd29uJ3QgYmUgYW55IFBIUCBlcnJvcnMKCQkvLyBpZiBzb21ldGhpbmcgd291bGQgYmUgbWlzc2luZyBpbiBjb25maWcuaW5jLnBocCAod2hpY2ggc2hvdWxkIG5vdCBoYXBwZW4hKQoKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfQ09ORklH'));
	@fwrite($fp, base64_decode('X1ZFUlNJT04nKSkgICBkZWZpbmUoJ09JRFBMVVNfQ09ORklHX1ZFUlNJT04nLCAgIDAuMCk7CgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX0FETUlOX1BBU1NXT1JEJykpICAgZGVmaW5lKCdPSURQTFVTX0FETUlOX1BBU1NXT1JEJywgICAnJyk7CgkJaWYgKCFkZWZp'));
	@fwrite($fp, base64_decode('bmVkKCdPSURQTFVTX0RBVEFCQVNFX1BMVUdJTicpKSAgZGVmaW5lKCdPSURQTFVTX0RBVEFCQVNFX1BMVUdJTicsICAnTXlTUUwnKTsKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfTVlTUUxfSE9TVCcpKSAgICAgICBkZWZpbmUoJ09JRFBMVVNfTVlTUUxfSE9TVCcs'));
	@fwrite($fp, base64_decode('ICAgICAgICdsb2NhbGhvc3QnKTsKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfTVlTUUxfVVNFUk5BTUUnKSkgICBkZWZpbmUoJ09JRFBMVVNfTVlTUUxfVVNFUk5BTUUnLCAgICdyb290Jyk7CgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX01ZU1FMX1BBU1NXT1JEJykp'));
	@fwrite($fp, base64_decode('ICAgZGVmaW5lKCdPSURQTFVTX01ZU1FMX1BBU1NXT1JEJywgICAnJyk7IC8vIGJhc2U2NCBlbmNvZGVkCgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX01ZU1FMX0RBVEFCQVNFJykpICAgZGVmaW5lKCdPSURQTFVTX01ZU1FMX0RBVEFCQVNFJywgICAnb2lkcGx1cycp'));
	@fwrite($fp, base64_decode('OwoJCWlmICghZGVmaW5lZCgnT0lEUExVU19UQUJMRU5BTUVfUFJFRklYJykpIGRlZmluZSgnT0lEUExVU19UQUJMRU5BTUVfUFJFRklYJywgJycpOwoJCWlmICghZGVmaW5lZCgnT0lEUExVU19TRVNTSU9OX1NFQ1JFVCcpKSAgIGRlZmluZSgnT0lEUExVU19TRVNT'));
	@fwrite($fp, base64_decode('SU9OX1NFQ1JFVCcsICAgJycpOwoJCWlmICghZGVmaW5lZCgnUkVDQVBUQ0hBX0VOQUJMRUQnKSkgICAgICAgIGRlZmluZSgnUkVDQVBUQ0hBX0VOQUJMRUQnLCAgICAgICAgZmFsc2UpOwoJCWlmICghZGVmaW5lZCgnUkVDQVBUQ0hBX1BVQkxJQycpKSAgICAgICAg'));
	@fwrite($fp, base64_decode('IGRlZmluZSgnUkVDQVBUQ0hBX1BVQkxJQycsICAgICAgICAgJycpOwoJCWlmICghZGVmaW5lZCgnUkVDQVBUQ0hBX1BSSVZBVEUnKSkgICAgICAgIGRlZmluZSgnUkVDQVBUQ0hBX1BSSVZBVEUnLCAgICAgICAgJycpOwoJCWlmICghZGVmaW5lZCgnT0lEUExVU19F'));
	@fwrite($fp, base64_decode('TkZPUkNFX1NTTCcpKSAgICAgIGRlZmluZSgnT0lEUExVU19FTkZPUkNFX1NTTCcsICAgICAgMiAvKiBBdXRvICovKTsKCgkJLy8gQ2hlY2sgdmVyc2lvbiBvZiB0aGUgY29uZmlnIGZpbGUKCgkJaWYgKE9JRFBMVVNfQ09ORklHX1ZFUlNJT04gIT0gMi4wKSB7CgkJ'));
	@fwrite($fp, base64_decode('CXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oIlRoZSBpbmZvcm1hdGlvbiBsb2NhdGVkIGluIGluY2x1ZGVzL2NvbmZpZy5pbmMucGhwIGlzIG91dGRhdGVkLiIpOwoJCX0KCgkJLy8gUmVnaXN0ZXIgZGF0YWJhc2UgdHlwZXMg'));
	@fwrite($fp, base64_decode('KGhpZ2hlc3QgcHJpb3JpdHkpCgoJCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnLy4uLy4uL3BsdWdpbnMvZGF0YWJhc2UvJy4nKicuJy9wbHVnaW4uaW5jLnBocCcpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7CgoJCWZvcmVhY2ggKGdldF9kZWNs'));
	@fwrite($fp, base64_decode('YXJlZF9jbGFzc2VzKCkgYXMgJGMpIHsKCQkJaWYgKGlzX3N1YmNsYXNzX29mKCRjLCAnT0lEcGx1c0RhdGFCYXNlUGx1Z2luJykpIHsKCQkJCXNlbGY6OnJlZ2lzdGVyRGF0YWJhc2VQbHVnaW4obmV3ICRjKCkpOwoJCQl9CgkJfQoKCQlmb3JlYWNoIChPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpnZXREYXRhYmFzZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmluaXQoJGh0bWwpOwoJCX0KCgkJLy8gRG8gcmVkaXJlY3Qgc3R1ZmYgZXRjLgoKCQlzZWxmOjppc1NzbEF2YWlsYWJsZSgpOyAvLyBUaGlzIGZ1bmN0aW9uIGRvZXMgYXV0b21h'));
	@fwrite($fp, base64_decode('dGljIHJlZGlyZWN0cwoKCQkvLyBTeXN0ZW0gY29uZmlnIHNldHRpbmdzCgoJCU9JRHBsdXM6OmNvbmZpZygpLT5wcmVwYXJlQ29uZmlnS2V5KCdvYmplY3R0eXBlc19pbml0aWFsaXplZCcsICdMaXN0IG9mIG9iamVjdCB0eXBlIHBsdWdpbnMgdGhhdCB3ZXJlIGlu'));
	@fwrite($fp, base64_decode('aXRpYWxpemVkIG9uY2UnLCAnJywgMSwgMSk7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ29iamVjdHR5cGVzX2VuYWJsZWQnLCAnRW5hYmxlZCBvYmplY3QgdHlwZXMgYW5kIHRoZWlyIG9yZGVyLCBzZXBhcmF0ZWQgd2l0aCBhIHNlbWlj'));
	@fwrite($fp, base64_decode('b2xvbiAocGxlYXNlIHJlbG9hZCB0aGUgcGFnZSBzbyB0aGF0IHRoZSBjaGFuZ2UgaXMgYXBwbGllZCknLCAnJywgMCwgMSk7CgoJCU9JRHBsdXM6OmNvbmZpZygpLT5wcmVwYXJlQ29uZmlnS2V5KCdvaWRwbHVzX3ByaXZhdGVfa2V5JywgJ1ByaXZhdGUga2V5IGZv'));
	@fwrite($fp, base64_decode('ciB0aGlzIHN5c3RlbScsICcnLCAxLCAwKTsKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgnb2lkcGx1c19wdWJsaWNfa2V5JywgJ1B1YmxpYyBrZXkgZm9yIHRoaXMgc3lzdGVtLiBJZiB5b3UgImNsb25lIiB5b3VyIHN5c3RlbSwgeW91IG11'));
	@fwrite($fp, base64_decode('c3QgZGVsZXRlIHRoaXMga2V5IChlLmcuIHVzaW5nIHBocE15QWRtaW4pLCBzbyB0aGF0IGEgbmV3IG9uZSBpcyBjcmVhdGVkLicsICcnLCAxLCAxKTsKCgkJLy8gSW5pdGlhbGl6ZSBwdWJsaWMgLyBwcml2YXRlIGtleXMKCgkJT0lEcGx1czo6Z2V0UGtpU3RhdHVz'));
	@fwrite($fp, base64_decode('KHRydWUpOwoKCQkvLyBSZWdpc3RlciBub24tREIgcGx1Z2lucwoKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL29iamVjdFR5cGVzLycuJyonLicvcGx1Z2luLmluYy5waHAnKTsKCQlmb3JlYWNoICgkYXJ5IGFzICRhKSBpbmNsdWRlICRh'));
	@fwrite($fp, base64_decode('OwoKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL3B1YmxpY1BhZ2VzLycuJyonLicvcGx1Z2luLmluYy5waHAnKTsKCQlmb3JlYWNoICgkYXJ5IGFzICRhKSBpbmNsdWRlICRhOwoJCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnLy4uLy4uL3Bs'));
	@fwrite($fp, base64_decode('dWdpbnMvcmFQYWdlcy8nLicqJy4nL3BsdWdpbi5pbmMucGhwJyk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkYSkgaW5jbHVkZSAkYTsKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL2FkbWluUGFnZXMvJy4nKicuJy9wbHVnaW4uaW5jLnBocCcp'));
	@fwrite($fp, base64_decode('OwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7CgoJCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnLy4uLy4uL3BsdWdpbnMvYXV0aC8nLicqJy4nL3BsdWdpbi5pbmMucGhwJyk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkYSkgaW5jbHVkZSAkYTsKCgkJZm9y'));
	@fwrite($fp, base64_decode('ZWFjaCAoZ2V0X2RlY2xhcmVkX2NsYXNzZXMoKSBhcyAkYykgewoJCQlpZiAoaXNfc3ViY2xhc3Nfb2YoJGMsICdPSURwbHVzUGFnZVBsdWdpbicpKSB7CgkJCQlzZWxmOjpyZWdpc3RlclBhZ2VQbHVnaW4obmV3ICRjKCkpOwoJCQl9CgkJCWlmIChpc19zdWJjbGFz'));
	@fwrite($fp, base64_decode('c19vZigkYywgJ09JRHBsdXNBdXRoUGx1Z2luJykpIHsKCQkJCXNlbGY6OnJlZ2lzdGVyQXV0aFBsdWdpbihuZXcgJGMoKSk7CgkJCX0KCQkJaWYgKGlzX3N1YmNsYXNzX29mKCRjLCAnT0lEcGx1c09iamVjdFR5cGVQbHVnaW4nKSkgewoJCQkJc2VsZjo6cmVnaXN0'));
	@fwrite($fp, base64_decode('ZXJPYmplY3RUeXBlUGx1Z2luKG5ldyAkYygpKTsKCQkJfQoJCX0KCgkJLy8gSW5pdGlhbGl6ZSBub24tREIgcGx1Z2lucwoKCQlmb3JlYWNoIChPSURwbHVzOjpnZXRQYWdlUGx1Z2lucygnKicpIGFzICRwbHVnaW4pIHsKCQkJJHBsdWdpbi0+aW5pdCgkaHRtbCk7'));
	@fwrite($fp, base64_decode('CgkJfQoJCWZvcmVhY2ggKE9JRHBsdXM6OmdldEF1dGhQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkkcGx1Z2luLT5pbml0KCRodG1sKTsKCQl9CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0T2JqZWN0VHlwZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVn'));
	@fwrite($fp, base64_decode('aW4tPmluaXQoJGh0bWwpOwoJCX0KCX0KCgkjIC0tLSBTeXN0ZW0gVVJMLCBTeXN0ZW0gSUQsIFBLSSwgYW5kIG90aGVyIGZ1bmN0aW9ucwoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U3lzdGVtVXJsKCRyZWxhdGl2ZT1mYWxzZSkgewoJCWlmICghaXNzZXQo'));
	@fwrite($fp, base64_decode('JF9TRVJWRVJbIlNDUklQVF9OQU1FIl0pKSByZXR1cm4gZmFsc2U7CgoJCSR0ZXN0X2RpciA9IGRpcm5hbWUoJF9TRVJWRVJbJ1NDUklQVF9GSUxFTkFNRSddKTsKCQkkYyA9IDA7CgkJd2hpbGUgKCFmaWxlX2V4aXN0cygkdGVzdF9kaXIuJy9vaWRwbHVzX2Jhc2Uu'));
	@fwrite($fp, base64_decode('anMnKSkgewoJCQkkdGVzdF9kaXIgPSBkaXJuYW1lKCR0ZXN0X2Rpcik7CgkJCSRjKys7CgkJCWlmICgkYyA9PSAxMDAwKSByZXR1cm4gZmFsc2U7CgkJfQoKCQkkcmVzID0gZGlybmFtZSgkX1NFUlZFUlsnU0NSSVBUX05BTUUnXS4neHh4Jyk7CgoJCWZvciAoJGk9'));
	@fwrite($fp, base64_decode('MTsgJGk8PSRjOyAkaSsrKSB7CgkJCSRyZXMgPSBkaXJuYW1lKCRyZXMpOwoJCX0KCgkJaWYgKCRyZXMgPT0gJy8nKSAkcmVzID0gJyc7CgkJJHJlcyAuPSAnLyc7CgoJCWlmICghJHJlbGF0aXZlKSB7CgkJCSRpc19zc2wgPSBpc3NldCgkX1NFUlZFUlsnSFRUUFMn'));
	@fwrite($fp, base64_decode('XSkgJiYgKCRfU0VSVkVSWydIVFRQUyddID09PSAnb24nKTsKCQkJJHByb3RvY29sID0gJGlzX3NzbCA/ICdodHRwcycgOiAnaHR0cCc7CgkJCSRob3N0ID0gJF9TRVJWRVJbJ0hUVFBfSE9TVCddOwoJCQkkcG9ydCA9ICRfU0VSVkVSWydTRVJWRVJfUE9SVCddOwoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoJGlzX3NzbCAmJiAoJHBvcnQgIT0gNDQzKSkgewoJCQkJJHBvcnRfYWRkID0gIjokcG9ydCI7CgkJCX0gZWxzZSBpZiAoISRpc19zc2wgJiYgKCRwb3J0ICE9IDgwKSkgewoJCQkJJHBvcnRfYWRkID0gIjokcG9ydCI7CgkJCX0gZWxzZSB7CgkJCQkkcG9y'));
	@fwrite($fp, base64_decode('dF9hZGQgPSAiIjsKCQkJfQoJCQkkcmVzID0gJHByb3RvY29sLic6Ly8nLiRob3N0LiRwb3J0X2FkZC4kcmVzOwoJCX0KCgkJcmV0dXJuICRyZXM7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJHN5c3RlbV9pZF9jYWNoZSA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGdldFN5c3RlbUlkKCRvaWQ9ZmFsc2UpIHsKCQlpZiAoIWlzX251bGwoc2VsZjo6JHN5c3RlbV9pZF9jYWNoZSkpIHsKCQkJJG91dCA9IHNlbGY6OiRzeXN0ZW1faWRfY2FjaGU7CgkJfSBlbHNlIHsKCQkJJG91dCA9IGZhbHNlOwoKCQkJaWYgKHNlbGY6Omdl'));
	@fwrite($fp, base64_decode('dFBraVN0YXR1cyh0cnVlKSkgewoJCQkJJHB1YktleSA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnb2lkcGx1c19wdWJsaWNfa2V5Jyk7CgkJCQlpZiAocHJlZ19tYXRjaCgnQEJFR0lOIFBVQkxJQyBLRVlcLSsoLispXC0rRU5EIFBVQkxJQyBLRVlAaXNt'));
	@fwrite($fp, base64_decode('VScsICRwdWJLZXksICRtKSkgewoJCQkJCSRvdXQgPSBzbWFsbGhhc2goYmFzZTY0X2RlY29kZSgkbVsxXSkpOwoJCQkJfQoJCQl9CgkJCXNlbGY6OiRzeXN0ZW1faWRfY2FjaGUgPSAkb3V0OwoJCX0KCQlyZXR1cm4gKCRvdXQgPyAnMS4zLjYuMS40LjEuMzc0NzYu'));
	@fwrite($fp, base64_decode('MzAuOS4nIDogJycpLiRvdXQ7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRQa2lTdGF0dXMoJHRyeV9nZW5lcmF0ZT10cnVlKSB7CgkJaWYgKCFmdW5jdGlvbl9leGlzdHMoJ29wZW5zc2xfcGtleV9uZXcnKSkgcmV0dXJuIGZhbHNlOwoKCQkkcHJpdktl'));
	@fwrite($fp, base64_decode('eSA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnb2lkcGx1c19wcml2YXRlX2tleScpOwoJCSRwdWJLZXkgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScpOwoKCQlpZiAoJHRyeV9nZW5lcmF0ZSAmJiAhdmVyaWZ5'));
	@fwrite($fp, base64_decode('X3ByaXZhdGVfcHVibGljX2tleSgkcHJpdktleSwgJHB1YktleSkpIHsKCQkJJGNvbmZpZyA9IGFycmF5KAoJCQkgICAgImRpZ2VzdF9hbGciID0+ICJzaGE1MTIiLAoJCQkgICAgInByaXZhdGVfa2V5X2JpdHMiID0+IDIwNDgsCgkJCSAgICAicHJpdmF0ZV9rZXlf'));
	@fwrite($fp, base64_decode('dHlwZSIgPT4gT1BFTlNTTF9LRVlUWVBFX1JTQSwKCQkJKTsKCgkJCS8vIENyZWF0ZSB0aGUgcHJpdmF0ZSBhbmQgcHVibGljIGtleQoJCQkkcmVzID0gb3BlbnNzbF9wa2V5X25ldygkY29uZmlnKTsKCQkJCgkJCWlmICghJHJlcykgcmV0dXJuIGZhbHNlOwoKCQkJ'));
	@fwrite($fp, base64_decode('Ly8gRXh0cmFjdCB0aGUgcHJpdmF0ZSBrZXkgZnJvbSAkcmVzIHRvICRwcml2S2V5CgkJCW9wZW5zc2xfcGtleV9leHBvcnQoJHJlcywgJHByaXZLZXkpOwoKCQkJLy8gRXh0cmFjdCB0aGUgcHVibGljIGtleSBmcm9tICRyZXMgdG8gJHB1YktleQoJCQkkcHViS2V5'));
	@fwrite($fp, base64_decode('ID0gb3BlbnNzbF9wa2V5X2dldF9kZXRhaWxzKCRyZXMpWyJrZXkiXTsKCgkJCS8vIExvZwoJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJBISIsICJHZW5lcmF0aW5nIG5ldyBTeXN0ZW1JRCB1c2luZyBhIG5ldyBrZXkgcGFpciIpOwoKCQkJLy8gU2F2ZSB0aGUg'));
	@fwrite($fp, base64_decode('a2V5IHBhaXIgdG8gZGF0YWJhc2UKCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCdvaWRwbHVzX3ByaXZhdGVfa2V5JywgJHByaXZLZXkpOwoJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScsICRwdWJLZXkpOwoK'));
	@fwrite($fp, base64_decode('CQkJLy8gTG9nIHRoZSBuZXcgc3lzdGVtIElECgkJCWlmIChwcmVnX21hdGNoKCdAQkVHSU4gUFVCTElDIEtFWVwtKyguKylcLStFTkQgUFVCTElDIEtFWUBpc21VJywgJHB1YktleSwgJG0pKSB7CgkJCQkkc3lzdGVtX2lkID0gc21hbGxoYXNoKGJhc2U2NF9kZWNv'));
	@fwrite($fp, base64_decode('ZGUoJG1bMV0pKTsKCQkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIkEhIiwgIllvdXIgU3lzdGVtSUQgaXMgbm93ICRzeXN0ZW1faWQiKTsKCQkJfQoJCX0KCgkJcmV0dXJuIHZlcmlmeV9wcml2YXRlX3B1YmxpY19rZXkoJHByaXZLZXksICRwdWJLZXkpOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0SW5zdGFsbFR5cGUoKSB7CgkJaWYgKCFmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy8uLi8uLi9vaWRwbHVzX3ZlcnNpb24udHh0JykgJiYgIWlzX2RpcihfX0RJUl9fIC4gJy8uLi8uLi8uc3ZuJykpIHsKCQkJcmV0dXJu'));
	@fwrite($fp, base64_decode('ICd1bmtub3duJzsKCQl9CgkJaWYgKGZpbGVfZXhpc3RzKF9fRElSX18gLiAnLy4uLy4uL29pZHBsdXNfdmVyc2lvbi50eHQnKSAmJiBpc19kaXIoX19ESVJfXyAuICcvLi4vLi4vLnN2bicpKSB7CgkJCXJldHVybiAnYW1iaWdvdXMnOwoJCX0KCQlpZiAoaXNfZGly'));
	@fwrite($fp, base64_decode('KF9fRElSX18gLiAnLy4uLy4uLy5zdm4nKSkgewoJCQlyZXR1cm4gJ3N2bi13Yyc7CgkJfQoJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy8uLi8uLi9vaWRwbHVzX3ZlcnNpb24udHh0JykpIHsKCQkJcmV0dXJuICdzdm4tc25hcHNob3QnOwoJCX0KCX0KCglw'));
	@fwrite($fp, base64_decode('dWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFZlcnNpb24oKSB7CgkJaWYgKGZpbGVfZXhpc3RzKF9fRElSX18gLiAnLy4uLy4uL29pZHBsdXNfdmVyc2lvbi50eHQnKSAmJiBpc19kaXIoX19ESVJfXyAuICcvLi4vLi4vLnN2bicpKSB7CgkJCXJldHVybiBmYWxzZTsg'));
	@fwrite($fp, base64_decode('Ly8gdmVyc2lvbiBpcyBhbWJpZ291cwoJCX0KCgkJaWYgKGlzX2RpcihfX0RJUl9fIC4gJy8uLi8uLi8uc3ZuJykpIHsKCQkJLy8gVHJ5IHRvIGZpbmQgb3V0IHRoZSBTVk4gdmVyc2lvbiB1c2luZyB0aGUgc2hlbGwKCQkJLy8gVE9ETzogZGFzIG38bGx0IGRpZSBs'));
	@fwrite($fp, base64_decode('b2cgZmlsZXMgdm9sbCEKCQkJJHN0YXR1cyA9IEBzaGVsbF9leGVjKCdzdm52ZXJzaW9uICcucmVhbHBhdGgoX19GSUxFX18pKTsKCQkJaWYgKHByZWdfbWF0Y2goJy9cZCsvJywgJHN0YXR1cywgJG1hdGNoKSkgewoJCQkJcmV0dXJuICdzdm4tJy4kbWF0Y2hbMF07'));
	@fwrite($fp, base64_decode('CgkJCX0KCgkJCS8vIElmIHRoYXQgZmFpbGVkLCB0cnkgdG8gZ2V0IHRoZSB2ZXJzaW9uIHZpYSBTUUxpdGUzCgkJCWlmIChjbGFzc19leGlzdHMoJ1NRTGl0ZTMnKSkgewoJCQkJJGRiID0gbmV3IFNRTGl0ZTMoX19ESVJfXyAuICcvLi4vLi4vLnN2bi93Yy5kYicp'));
	@fwrite($fp, base64_decode('OwoJCQkJJHJlc3VsdHMgPSAkZGItPnF1ZXJ5KCdTRUxFQ1QgTUlOKHJldmlzaW9uKSBBUyByZXYgRlJPTSBOT0RFU19CQVNFJyk7CgkJCQl3aGlsZSAoJHJvdyA9ICRyZXN1bHRzLT5mZXRjaEFycmF5KCkpIHsKCQkJCQlyZXR1cm4gJ3N2bi0nLiRyb3dbJ3Jldidd'));
	@fwrite($fp, base64_decode('OwoJCQkJfQoJCQl9CgkJfQoKCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXyAuICcvLi4vLi4vb2lkcGx1c192ZXJzaW9uLnR4dCcpKSB7CgkJCSRjb250ID0gZmlsZV9nZXRfY29udGVudHMoX19ESVJfXyAuICcvLi4vLi4vb2lkcGx1c192ZXJzaW9uLnR4dCcpOwoJ'));
	@fwrite($fp, base64_decode('CQlpZiAocHJlZ19tYXRjaCgnQFJldmlzaW9uIChcZCspQCcsICRjb250LCAkbSkpCgkJCQlyZXR1cm4gJ3N2bi0nLiRtWzFdOwoJCX0KCgkJcmV0dXJuIGZhbHNlOwoJfQoKCXByaXZhdGUgc3RhdGljICRzc2xBdmFpbGFibGVDYWNoZSA9IG51bGw7CglwdWJsaWMg'));
	@fwrite($fp, base64_decode('c3RhdGljIGZ1bmN0aW9uIGlzU3NsQXZhaWxhYmxlKCkgewoJCWlmICghaXNfbnVsbChzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUpKSByZXR1cm4gc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlOwoJCgkJaWYgKHBocF9zYXBpX25hbWUoKSA9PSAnY2xpJykgewoJCQlz'));
	@fwrite($fp, base64_decode('ZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSBmYWxzZTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHRpbWVvdXQgPSAyOwoJCSRhbHJlYWR5X3NzbCA9IGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAoJF9TRVJWRVJbJ0hUVFBTJ10gPT0gIm9uIik7CgkJJHNz'));
	@fwrite($fp, base64_decode('bF9wb3J0ID0gNDQzOwoJCSRjb29raWVfcGF0aCA9IE9JRHBsdXM6OmdldFN5c3RlbVVybCh0cnVlKTsKCQlpZiAoZW1wdHkoJGNvb2tpZV9wYXRoKSkgJGNvb2tpZV9wYXRoID0gJy8nOwoKCQlpZiAoT0lEUExVU19FTkZPUkNFX1NTTCA9PSAwKSB7CgkJCS8vIE5v'));
	@fwrite($fp, base64_decode('IFNTTCBhdmFpbGFibGUKCQkJc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gJGFscmVhZHlfc3NsOwoJCQlyZXR1cm4gJGFscmVhZHlfc3NsOwoJCX0KCgkJaWYgKE9JRFBMVVNfRU5GT1JDRV9TU0wgPT0gMSkgewoJCQkvLyBGb3JjZSBTU0wKCQkJaWYgKCRhbHJl'));
	@fwrite($fp, base64_decode('YWR5X3NzbCkgewoJCQkJc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gdHJ1ZTsKCQkJCXJldHVybiB0cnVlOwoJCQl9IGVsc2UgewoJCQkJJGxvY2F0aW9uID0gJ2h0dHBzOi8vJyAuICRfU0VSVkVSWydIVFRQX0hPU1QnXSAuICRfU0VSVkVSWydSRVFVRVNUX1VS'));
	@fwrite($fp, base64_decode('SSddOwoJCQkJaGVhZGVyKCdMb2NhdGlvbjonLiRsb2NhdGlvbik7CgkJCQlkaWUoJ1JlZGlyZWN0aW5nIHRvIEhUVFBTLi4uJyk7CgkJCQlzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSB0cnVlOwoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9CgoJCWlmIChPSURQ'));
	@fwrite($fp, base64_decode('TFVTX0VORk9SQ0VfU1NMID09IDIpIHsKCQkJLy8gQXV0b21hdGljIFNTTCBkZXRlY3Rpb24KCgkJCWlmICgkYWxyZWFkeV9zc2wpIHsKCQkJCS8vIHdlIGFyZSBhbHJlYWR5IG9uIEhUVFBTCgkJCQlzZXRjb29raWUoJ1NTTF9DSEVDSycsICcxJywgMCwgJGNvb2tp'));
	@fwrite($fp, base64_decode('ZV9wYXRoLCAnJywgZmFsc2UsIHRydWUpOwoJCQkJc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gdHJ1ZTsKCQkJCXJldHVybiB0cnVlOwoJCQl9IGVsc2UgewoJCQkJaWYgKGlzc2V0KCRfQ09PS0lFWydTU0xfQ0hFQ0snXSkpIHsKCQkJCQkvLyBXZSBhbHJlYWR5'));
	@fwrite($fp, base64_decode('IGhhZCB0aGUgSFRUUFMgZGV0ZWN0aW9uIGRvbmUgYmVmb3JlLgoJCQkJCWlmICgkX0NPT0tJRVsnU1NMX0NIRUNLJ10pIHsKCQkJCQkJLy8gSFRUUFMgd2FzIGRldGVjdGVkIGJlZm9yZSwgYnV0IHdlIGFyZSBIVFRQLiBSZWRpcmVjdCBub3cKCQkJCQkJJGxvY2F0'));
	@fwrite($fp, base64_decode('aW9uID0gJ2h0dHBzOi8vJyAuICRfU0VSVkVSWydIVFRQX0hPU1QnXSAuICRfU0VSVkVSWydSRVFVRVNUX1VSSSddOwoJCQkJCQloZWFkZXIoJ0xvY2F0aW9uOicuJGxvY2F0aW9uKTsKCQkJCQkJZGllKCdSZWRpcmVjdGluZyB0byBIVFRQUy4uLicpOwoJCQkJCQlz'));
	@fwrite($fp, base64_decode('ZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSB0cnVlOwoJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvLyBObyBIVFRQUyBhdmFpbGFibGUuIERvIG5vdGhpbmcuCgkJCQkJCXNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZSA9IGZhbHNlOwoJCQkJ'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQkvLyBUaGlzIGlzIG91ciBmaXJzdCBjaGVjayAob3IgdGhlIGJyb3dzZXIgZGlkbid0IGFjY2VwdCB0aGUgU1NMX0NIRUNLIGNvb2tpZSkKCQkJCQlpZiAoQGZzb2Nrb3BlbigkX1NFUlZFUlsn'));
	@fwrite($fp, base64_decode('SFRUUF9IT1NUJ10sICRzc2xfcG9ydCwgJGVycm5vLCAkZXJyc3RyLCAkdGltZW91dCkpIHsKCQkJCQkJLy8gSFRUUFMgZGV0ZWN0ZWQuIFJlZGlyZWN0IG5vdywgYW5kIHJlbWVtYmVyIHRoYXQgd2UgaGFkIGRldGVjdGVkIEhUVFBTCgkJCQkJCXNldGNvb2tpZSgn'));
	@fwrite($fp, base64_decode('U1NMX0NIRUNLJywgJzEnLCAwLCAkY29va2llX3BhdGgsICcnLCBmYWxzZSwgdHJ1ZSk7CgkJCQkJCSRsb2NhdGlvbiA9ICdodHRwczovLycgLiAkX1NFUlZFUlsnSFRUUF9IT1NUJ10gLiAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTsKCQkJCQkJaGVhZGVyKCdMb2Nh'));
	@fwrite($fp, base64_decode('dGlvbjonLiRsb2NhdGlvbik7CgkJCQkJCWRpZSgnUmVkaXJlY3RpbmcgdG8gSFRUUFMuLi4nKTsKCQkJCQkJc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gdHJ1ZTsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gTm8gSFRUUFMgZGV0'));
	@fwrite($fp, base64_decode('ZWN0ZWQuIERvIG5vdGhpbmcsIGFuZCBuZXh0IHRpbWUsIGRvbid0IHRyeSB0byBkZXRlY3QgSFRUUFMgYWdhaW4uCgkJCQkJCXNldGNvb2tpZSgnU1NMX0NIRUNLJywgJzAnLCAwLCAkY29va2llX3BhdGgsICcnLCBmYWxzZSwgdHJ1ZSk7CgkJCQkJCXNlbGY6OiRz'));
	@fwrite($fp, base64_decode('c2xBdmFpbGFibGVDYWNoZSA9IGZhbHNlOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplus.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplus.class.php');
	writefile_3();
	if (!is_file('includes/classes/OIDplus.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplus.class.php');
	} else if (sha1_file('includes/classes/OIDplus.class.php') != 'c628352c84fab9db3016d5076ed654e74c367d54') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplus.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplus.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplus.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplus.class.php') !== 'c628352c84fab9db3016d5076ed654e74c367d54') {
		if (@sha1_file('includes/classes/OIDplus.class.php') !== 'a88e7125fc18f5538344ab5bd9570f8fa4cd71e0') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplus.class.php');
			$tmp = pathinfo('includes/classes/OIDplus.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplus.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplus.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('includes/classes/OIDplus.class.php') !== 'c628352c84fab9db3016d5076ed654e74c367d54') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplus.class.php');
		}
	}
}

// Files different: includes/classes/OIDplusDataBasePlugin.class.php
function writefile_4() {
	@$fp = fopen('includes/classes/OIDplusDataBasePlugin.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmFic3RyYWN0IGNsYXNzIE9JRHBsdXNEYXRhQmFzZVBsdWdpbiBleHRlbmRzIE9JRHBsdXNQbHVnaW4gewoJcHJvdGVjdGVkICRjb25u'));
	@fwrite($fp, base64_decode('ZWN0ZWQgPSBmYWxzZTsKCXByb3RlY3RlZCAkaHRtbCA9IG51bGw7CgoJcHVibGljIGFic3RyYWN0IHN0YXRpYyBmdW5jdGlvbiBuYW1lKCk6IHN0cmluZzsgLy8gdGhpcyBpcyB0aGUgbmFtZSB0aGF0IGlzIHNldCB0byB0aGUgY29uZmlndXJhdGlvbiB2YWx1ZSBP'));
	@fwrite($fp, base64_decode('SURQTFVTX0RBVEFCQVNFX1BMVUdJTiB0byBpZGVudGlmeSB0aGUgZGF0YWJhc2UgcGx1Z2luCglwdWJsaWMgYWJzdHJhY3QgZnVuY3Rpb24gcXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3Vs'));
	@fwrite($fp, base64_decode('dDsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiBpbnNlcnRfaWQoKTogaW50OwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGVycm9yKCk6IHN0cmluZzsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiB0cmFuc2FjdGlvbl9iZWdpbigpOiB2b2lkOwoJcHVibGlj'));
	@fwrite($fp, base64_decode('IGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpOiB2b2lkOwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3JvbGxiYWNrKCk6IHZvaWQ7CgoJcHVibGljIGZ1bmN0aW9uIG5hdE9yZGVyKCRmaWVsZG5hbWUsICRvcmRlcj0n'));
	@fwrite($fp, base64_decode('YXNjJyk6IHN0cmluZyB7CgkKCQkkb3JkZXIgPSBzdHJ0b2xvd2VyKCRvcmRlcik7CgkJaWYgKCgkb3JkZXIgIT0gJ2FzYycpICYmICgkb3JkZXIgIT0gJ2Rlc2MnKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIG9yZGVyICckb3JkZXInIChuZWVk'));
	@fwrite($fp, base64_decode('cyB0byBiZSAnYXNjJyBvciAnZGVzYycpIik7CgkJfQoKCQkkbWF4ZGVwdGggPSAxMDA7IC8vIGFkanVzdCB0aGlzIGlmIHlvdSBoYXZlIHBlcmZvcm1hbmNlIGlzc3VlcyAob25seSBNeVNRTCkKCQkkbWF4X2FyY19sZW4gPSAxMDAwOwoJCQoJCSRvdXQgPSBhcnJh'));
	@fwrite($fp, base64_decode('eSgpOwoJCQoJCWlmICgkdGhpcy0+c2xhbmcoKSA9PSAncGdzcWwnKSB7CgkJCQoJCQkvLyAxLiBTb3J0IGJ5IG5hbWVzcGFjZSAob2lkLCBndWlkLCAuLi4pCgkJCSRvdXRbXSA9ICJTUExJVF9QQVJUKCRmaWVsZG5hbWUsICc6JywgMSkgJG9yZGVyIjsKCQkJCgkJ'));
	@fwrite($fp, base64_decode('CS8vIDIuIE9ubHkgaWYgbmFtZXNwYWNlIGlzICdvaWQ6JzogU29ydCBPSUQgYXMgaW50ZWdlciBhcnJheQoJCQkkb3V0W10gPSAiU1RSSU5HX1RPX0FSUkFZKFNQTElUX1BBUlQoJGZpZWxkbmFtZSwgJ29pZDonLCAyKSwgJy4nKTo6bnVtZXJpYygkbWF4X2FyY19s'));
	@fwrite($fp, base64_decode('ZW4pW10gJG9yZGVyIjsKCQkJCgkJCS8vIDMuIE90aGVyd2lzZSBvcmRlciBieSBJRAoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoJCQkKCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdteXNxbCcpIHsKCQkJCgkJCS8vIDEuIHNvcnQgYnkg'));
	@fwrite($fp, base64_decode('bmFtZXNwYWNlIChvaWQsIGd1aWQsIC4uLikKCQkJJG91dFtdID0gIlNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCc6JywxKSAkb3JkZXIiOwoJCQkKCQkJLy8gMi4gc29ydCBieSBmaXJzdCBhcmMgKDAsMSwyKQoJCQkkb3V0W10gPSAiU1VCU1RSSU5HKFNVQlNU'));
	@fwrite($fp, base64_decode('UklOR19JTkRFWCgkZmllbGRuYW1lLCcuJywxKSwgTEVOR1RIKFNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCc6JywxKSkrMiwgJG1heF9hcmNfbGVuKSAkb3JkZXIiOwoJCQkKCQkJZm9yICgkaT0yOyAkaTw9JG1heGRlcHRoOyAkaSsrKSB7CgkJCQkvLyAzLiBT'));
	@fwrite($fp, base64_decode('b3J0IGJ5IHRoZSByZXN0IGFyY3Mgb25lIGJ5IG9uZSwgbm90IHRoYXQgTXlTUUwgY2FuIG9ubHkgaGFuZGxlIGRlY2ltYWwoNjUpLCBub3QgZGVjaW1hbCgkbWF4X2FyY19sZW4pCgkJCQkkb3V0W10gPSAiY2FzdChTVUJTVFJJTkcoU1VCU1RSSU5HX0lOREVYKCRm'));
	@fwrite($fp, base64_decode('aWVsZG5hbWUsJy4nLCRpKSwgTEVOR1RIKFNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCcuJywiLigkaS0xKS4iKSkrMiwgJG1heF9hcmNfbGVuKSBhcyBkZWNpbWFsKDY1KSkgJG9yZGVyIjsKCQkJfQoKCQkJLy8gNC4gYXMgbGFzdCByZXNvcnQsIHNvcnQgYnkg'));
	@fwrite($fp, base64_decode('dGhlIGlkZW50aWZpZXIgaXRzZWxmLCBlLmcuIGlmIHRoZSBjYXN0cyBhYm92ZSBkaWQgZmFpbCAoaGFwcGVucyBpZiBpdCBpcyBub3QgYW4gT0lEKQkJCQoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoJCQkKCQl9IGVsc2UgewoJCQoJCQkvLyBUT0RP'));
	@fwrite($fp, base64_decode('OiBJbXBsZW1lbnQgbmF0dXJhbCBvcmRlciBmb3IgTWljcm9zb2Z0IFNRTCBTZXJ2ZXIKCgkJCS8vIEZvciAoeWV0KSB1bnN1cHBvcnRlZCBEQk1TLCB3ZSBkbyBub3Qgb2ZmZXIgbmF0dXJhbCBzb3J0CgkJCSRvdXRbXSA9ICIkZmllbGRuYW1lICRvcmRlciI7CgoJ'));
	@fwrite($fp, base64_decode('CX0KCgkJcmV0dXJuIGltcGxvZGUoJywgJywgJG91dCk7IAoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBhZnRlckNvbm5lY3QoKTogdm9pZCB7CgkJLy8gQ2hlY2sgaWYgZGF0YWJhc2UgdGFibGVzIGFyZSBleGlzdGluZwoJCSR0YWJsZV9uYW1lcyA9IGFycmF5KCdv'));
	@fwrite($fp, base64_decode('YmplY3RzJywgJ2FzbjFpZCcsICdpcmknLCAncmEnLCAnY29uZmlnJyk7CgkJZm9yZWFjaCAoJHRhYmxlX25hbWVzIGFzICR0YWJsZW5hbWUpIHsKCQkJdHJ5IHsKCQkJCSR0aGlzLT5xdWVyeSgic2VsZWN0IDAgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJ'));
	@fwrite($fp, base64_decode('WC4kdGFibGVuYW1lLiIgd2hlcmUgMT0wIik7CgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignVGFibGUgJy5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguJHRhYmxlbmFt'));
	@fwrite($fp, base64_decode('ZS4nIGlzIG1pc3NpbmchJyk7CgkJCX0KCQl9CgoJCS8vIERvIHRoZSBkYXRhYmFzZSB0YWJsZSB0YWJsZXMgbmVlZCBhbiB1cGRhdGU/CgkJLy8gTm90ZTogVGhlIGNvbmZpZyBzZXR0aW5nICJkYXRhYmFzZV92ZXJzaW9uIiBpcyBpbnNlcnRlZCBpbiBzZXR1cC9z'));
	@fwrite($fp, base64_decode('cWwvLi4uc3FsLCBub3QgaW4gdGhlIE9JRHBsdXMgY29yZSBpbml0CgoJCSRyZXMgPSAkdGhpcy0+cXVlcnkoIlNFTEVDVCB2YWx1ZSBGUk9NICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgV0hFUkUgbmFtZSA9ICdkYXRhYmFzZV92ZXJzaW9uJyIp'));
	@fwrite($fp, base64_decode('OwoJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCQoJCWlmICgkcm93ID09IG51bGwpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignQ2Fubm90IGRldGVybWluZSBkYXRhYmFzZSB2ZXJzaW9uICh0aGUgZW50'));
	@fwrite($fp, base64_decode('cnkgImRhdGFiYXNlX3ZlcnNpb24iIGluc2lkZSB0aGUgdGFibGUgIicuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLidjb25maWciIGlzIHByb2JhYmx5IG1pc3NpbmcpJyk7CgkJfQoJCQoJCSR2ZXJzaW9uID0gJHJvd1sndmFsdWUnXTsKCQlpZiAoJHZlcnNpb24g'));
	@fwrite($fp, base64_decode('PT0gMjAwKSB7CgkJCSR0aGlzLT50cmFuc2FjdGlvbl9iZWdpbigpOwoJCQkkdGhpcy0+cXVlcnkoIkFMVEVSIFRBQkxFICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIEFERCBjb21tZW50IHZhcmNoYXIoMjU1KSBOVUxMIik7CgkJCSR2ZXJzaW9u'));
	@fwrite($fp, base64_decode('ID0gMjAxOwoJCQkkdGhpcy0+cXVlcnkoIlVQREFURSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIFNFVCB2YWx1ZSA9ID8gV0hFUkUgbmFtZSA9ICdkYXRhYmFzZV92ZXJzaW9uJyIsIGFycmF5KCR2ZXJzaW9uKSk7CgkJCSR0aGlzLT50cmFuc2Fj'));
	@fwrite($fp, base64_decode('dGlvbl9jb21taXQoKTsKCQl9CgkJaWYgKCR2ZXJzaW9uID09IDIwMSkgewoJCQkvLyBDaGFuZ2UgYml0KDEpIHR5cGVzIHRvIGJvb2xlYW4vdGlueWludCgxKQoJCQkkdGhpcy0+dHJhbnNhY3Rpb25fYmVnaW4oKTsKCQkJaWYgKCR0aGlzLT5zbGFuZygpID09ICdw'));
	@fwrite($fp, base64_decode('Z3NxbCcpIHsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgYWx0ZXIgcHJvdGVjdGVkICAgIGRyb3AgZGVmYXVsdCIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNf'));
	@fwrite($fp, base64_decode('VEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnICBhbHRlciBwcm90ZWN0ZWQgICAgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQocHJvdGVjdGVkICAgLDApOjpib29sZWFuIik7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVf'));
	@fwrite($fp, base64_decode('UFJFRklYLiJjb25maWcgIGFsdGVyIHByb3RlY3RlZCAgICBzZXQgZGVmYXVsdCBmYWxzZSIpOwoJCQkJCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgIGFsdGVyIHZpc2libGUgICAgICBkcm9w'));
	@fwrite($fp, base64_decode('IGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgYWx0ZXIgdmlzaWJsZSAgICAgIHR5cGUgYm9vbGVhbiB1c2luZyBnZXRfYml0KHZpc2libGUgICAgICwwKTo6Ym9vbGVhbiIp'));
	@fwrite($fp, base64_decode('OwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnICBhbHRlciB2aXNpYmxlICAgICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19U'));
	@fwrite($fp, base64_decode('QUJMRU5BTUVfUFJFRklYLiJhc24xaWQgIGFsdGVyIHN0YW5kYXJkaXplZCBkcm9wIGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAgYWx0ZXIgc3RhbmRhcmRpemVkIHR5cGUg'));
	@fwrite($fp, base64_decode('Ym9vbGVhbiB1c2luZyBnZXRfYml0KHN0YW5kYXJkaXplZCwwKTo6Ym9vbGVhbjsiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAgYWx0ZXIgc3RhbmRhcmRpemVkIHNldCBkZWZhdWx0IGZh'));
	@fwrite($fp, base64_decode('bHNlIik7CgoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkICBhbHRlciB3ZWxsX2tub3duICAgZHJvcCBkZWZhdWx0Iik7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19U'));
	@fwrite($fp, base64_decode('QUJMRU5BTUVfUFJFRklYLiJhc24xaWQgIGFsdGVyIHdlbGxfa25vd24gICB0eXBlIGJvb2xlYW4gdXNpbmcgZ2V0X2JpdCh3ZWxsX2tub3duICAsMCk6OmJvb2xlYW47Iik7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVf'));
	@fwrite($fp, base64_decode('UFJFRklYLiJhc24xaWQgIGFsdGVyIHdlbGxfa25vd24gICBzZXQgZGVmYXVsdCBmYWxzZSIpOwoKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSAgICAgYWx0ZXIgbG9uZ2FyYyAgICAgIGRyb3AgZGVm'));
	@fwrite($fp, base64_decode('YXVsdCIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBhbHRlciBsb25nYXJjICAgICAgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQobG9uZ2FyYyAgICAgLDApOjpib29sZWFuOyIpOwoJ'));
	@fwrite($fp, base64_decode('CQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBhbHRlciBsb25nYXJjICAgICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJM'));
	@fwrite($fp, base64_decode('RU5BTUVfUFJFRklYLiJpcmkgICAgIGFsdGVyIHdlbGxfa25vd24gICBkcm9wIGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSAgICAgYWx0ZXIgd2VsbF9rbm93biAgIHR5cGUgYm9v'));
	@fwrite($fp, base64_decode('bGVhbiB1c2luZyBnZXRfYml0KHdlbGxfa25vd24gICwwKTo6Ym9vbGVhbjsiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSAgICAgYWx0ZXIgd2VsbF9rbm93biAgIHNldCBkZWZhdWx0IGZhbHNl'));
	@fwrite($fp, base64_decode('Iik7CgoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyBhbHRlciBjb25maWRlbnRpYWwgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQoY29uZmlkZW50aWFsLDApOjpib29sZWFuOyIpOwoKCQkJ'));
	@fwrite($fp, base64_decode('CSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhICAgICAgYWx0ZXIgcHJpdmFjeSAgICAgIGRyb3AgZGVmYXVsdCIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BS'));
	@fwrite($fp, base64_decode('RUZJWC4icmEgICAgICBhbHRlciBwcml2YWN5ICAgICAgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQocHJpdmFjeSAgICAgLDApOjpib29sZWFuOyIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEg'));
	@fwrite($fp, base64_decode('ICAgICBhbHRlciBwcml2YWN5ICAgICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCQkJfSBlbHNlIGlmICgkdGhpcy0+c2xhbmcoKSA9PSAnbXlzcWwnKSB7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25m'));
	@fwrite($fp, base64_decode('aWcgIG1vZGlmeSBwcm90ZWN0ZWQgICAgYm9vbGVhbjsiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgbW9kaWZ5IHZpc2libGUgICAgICBib29sZWFuOyIpOwoJCQkJJHRoaXMtPnF1ZXJ5'));
	@fwrite($fp, base64_decode('KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkICBtb2RpZnkgc3RhbmRhcmRpemVkIGJvb2xlYW47Iik7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgIG1v'));
	@fwrite($fp, base64_decode('ZGlmeSB3ZWxsX2tub3duICAgYm9vbGVhbjsiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSAgICAgbW9kaWZ5IGxvbmdhcmMgICAgICBib29sZWFuOyIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRl'));
	@fwrite($fp, base64_decode('ciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBtb2RpZnkgd2VsbF9rbm93biAgIGJvb2xlYW47Iik7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIG1vZGlmeSBj'));
	@fwrite($fp, base64_decode('b25maWRlbnRpYWwgYm9vbGVhbjsiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhICAgICAgbW9kaWZ5IHByaXZhY3kgICAgICBib29sZWFuOyIpOwoJCQl9CgkJCQoJCQkvLyBSZW5hbWUgbG9nX3Vz'));
	@fwrite($fp, base64_decode('ZXIudXNlciB0byBsb2dfdXNlci51c2VybmFtZSwgc2luY2UgdXNlciBpcyBhIGtleXdvcmQgaW4gUG9zdGdyZVNRTCBhbmQgTVNTUUwKCQkJaWYgKCR0aGlzLT5zbGFuZygpID09ICdwZ3NxbCcpIHsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQ'));
	@fwrite($fp, base64_decode('TFVTX1RBQkxFTkFNRV9QUkVGSVguImxvZ191c2VyIHJlbmFtZSBjb2x1bW4gXCJ1c2VyXCIgdG8gXCJ1c2VybmFtZVwiOyIpOwoJCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdteXNxbCcpIHsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5P'));
	@fwrite($fp, base64_decode('SURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImxvZ191c2VyIGNoYW5nZSBgdXNlcmAgYHVzZXJuYW1lYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEw7Iik7CgkJCX0KICAKCQkJJHZlcnNpb24gPSAyMDI7CgkJCSR0aGlzLT5xdWVyeSgiVVBEQVRFICIuT0lEUExVU19UQUJM'));
	@fwrite($fp, base64_decode('RU5BTUVfUFJFRklYLiJjb25maWcgU0VUIHZhbHVlID0gPyBXSEVSRSBuYW1lID0gJ2RhdGFiYXNlX3ZlcnNpb24nIiwgYXJyYXkoJHZlcnNpb24pKTsKCQkJJHRoaXMtPnRyYW5zYWN0aW9uX2NvbW1pdCgpOwoJCX0KCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gc2hv'));
	@fwrite($fp, base64_decode('d0Nvbm5lY3RFcnJvcigkbWVzc2FnZSk6IHZvaWQgewoJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Nvbm5lY3Rpb24gdG8gdGhlIGRhdGFiYXNlIGZhaWxlZCEgJy4kbWVzc2FnZSk7Cgl9CgoJcHVibGljIGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IGlzQ29ubmVjdGVkKCk6IGJvb2wgewoJCXJldHVybiAkdGhpcy0+Y29ubmVjdGVkOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpbml0KCRodG1sID0gdHJ1ZSk6IHZvaWQgewoJCSR0aGlzLT5odG1sID0gJGh0bWw7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNsYW5nKCk6'));
	@fwrite($fp, base64_decode('IHN0cmluZyB7CgkJLy8gVGhlIGNvbnN0YW50IE9JRFBMVVNfREJNU19TTEFORyBpcyB1c2VkIGFzIGNhY2hlLgoJCS8vIFlvdSBjYW4gYWxzbyBwdXQgaXQgaW4geW91ciBjb25maWcuaW5jLnBocCBpZiB5b3Ugd2FudCB0byBlbmZvcmNlIGEgc2xhbmcgdG8gYmUg'));
	@fwrite($fp, base64_decode('dXNlZAoKCQlpZiAoZGVmaW5lZCgnT0lEUExVU19EQk1TX1NMQU5HJykpIHsKCQkJcmV0dXJuIE9JRFBMVVNfREJNU19TTEFORzsKCQl9IGVsc2UgewoJCQl0cnkgewoJCQkJLy8gTXlTUUwsIE1hcmlhREIgYW5kIFBvc3RncmVTUUwKCQkJCSR2ZXJzID0gJHRoaXMt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJzZWxlY3QgdmVyc2lvbigpIGFzIGRibXNfdmVyc2lvbjsiKS0+ZmV0Y2hfb2JqZWN0KCktPmRibXNfdmVyc2lvbjsKCQkJCSR2ZXJzID0gc3RydG9sb3dlcigkdmVycyk7CgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJdHJ5IHsKCQkJCQkv'));
	@fwrite($fp, base64_decode('LyBNaWNyb3NvZnQgU1FMIFNlcnZlcgoJCQkJCSR2ZXJzID0gJHRoaXMtPnF1ZXJ5KCJzZWxlY3QgQEB2ZXJzaW9uIGFzIGRibXNfdmVyc2lvbjsiKS0+ZmV0Y2hfb2JqZWN0KCktPmRibXNfdmVyc2lvbjsKCQkJCQkkdmVycyA9IHN0cnRvbG93ZXIoJHZlcnMpOwoJ'));
	@fwrite($fp, base64_decode('CQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiQ2Fubm90IGRldGVybWluZSB0aGUgc2xhbmcgb2YgeW91ciBEQk1TIChmdW5jdGlvbiAndmVyc2lvbigpJyBjb3VsZCBub3QgYmUgY2FsbGVkKS4gWW91ciBEQk1TIGlz'));
	@fwrite($fp, base64_decode('IHByb2JhYmx5IG5vdCBzdXBwb3J0ZWQuIik7CgkJCQl9CgkJCX0KCgkJCSRzbGFuZyA9IG51bGw7CgkJCWlmIChzdHJwb3MoJHZlcnMsICdwb3N0Z3Jlc3FsJykgICAgICAgICAgICE9PSBmYWxzZSkgJHNsYW5nID0gJ3Bnc3FsJzsKCQkJaWYgKHN0cnBvcygkdmVy'));
	@fwrite($fp, base64_decode('cywgJ215c3FsJykgICAgICAgICAgICAgICAgIT09IGZhbHNlKSAkc2xhbmcgPSAnbXlzcWwnOwoJCQlpZiAoc3RycG9zKCR2ZXJzLCAnbWFyaWFkYicpICAgICAgICAgICAgICAhPT0gZmFsc2UpICRzbGFuZyA9ICdteXNxbCc7CgkJCWlmIChzdHJwb3MoJHZlcnMs'));
	@fwrite($fp, base64_decode('ICdtaWNyb3NvZnQgc3FsIHNlcnZlcicpICE9PSBmYWxzZSkgJHNsYW5nID0gJ21zc3FsJzsKCQkJaWYgKCFpc19udWxsKCRzbGFuZykpIHsKCQkJCWRlZmluZSgnT0lEUExVU19EQk1TX1NMQU5HJywgJHNsYW5nKTsKCQkJCXJldHVybiAkc2xhbmc7CgkJCX0gZWxz'));
	@fwrite($fp, base64_decode('ZSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJDYW5ub3QgZGV0ZXJtaW5lIHRoZSBzbGFuZyBvZiB5b3VyIERCTVMgKHdlIGRvbid0IGtub3cgd2hhdCB0byBkbyB3aXRoIHRoZSBEQk1TICckdmVycycpLiBZb3VyIERCTVMgaXMgcHJvYmFibHkgbm90IHN1cHBv'));
	@fwrite($fp, base64_decode('cnRlZC4iKTsKCQkJfQoJCX0KCX0KfQoK'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusDataBasePlugin.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusDataBasePlugin.class.php');
	writefile_4();
	if (!is_file('includes/classes/OIDplusDataBasePlugin.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusDataBasePlugin.class.php');
	} else if (sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') != 'd37ee9a8e18b320043318f7f358cbda0009639de') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusDataBasePlugin.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusDataBasePlugin.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusDataBasePlugin.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') !== 'd37ee9a8e18b320043318f7f358cbda0009639de') {
		if (@sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') !== '22f43d6dd7037ffe0981a063fa4170fc73589bf6') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusDataBasePlugin.class.php');
			$tmp = pathinfo('includes/classes/OIDplusDataBasePlugin.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusDataBasePlugin.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusDataBasePlugin.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') !== 'd37ee9a8e18b320043318f7f358cbda0009639de') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusDataBasePlugin.class.php');
		}
	}
}

// Files different: index.php
function writefile_5() {
	@$fp = fopen('index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmhlYWRlcignQ29udGVudC1UeXBlOnRleHQvaHRtbDsgY2hhcnNldD1VVEYtOCcpOwoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2luY2x1ZGVzL29pZHBsdXMuaW5jLnBocCc7CgpzZXRfZXhjZXB0'));
	@fwrite($fp, base64_decode('aW9uX2hhbmRsZXIoJ2h0bWxfZXhjZXB0aW9uX2hhbmRsZXInKTsKZnVuY3Rpb24gaHRtbF9leGNlcHRpb25faGFuZGxlcigkZXhjZXB0aW9uKSB7CglpZiAoJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbikg'));
	@fwrite($fp, base64_decode('ewoJCWVjaG8gIjxoMT5PSURwbHVzIGluaXRpYWxpemF0aW9uIGVycm9yPC9oMT4iOwoJCWVjaG8gJzxwPicuaHRtbGVudGl0aWVzKCRleGNlcHRpb24tPmdldE1lc3NhZ2UoKSkuJzwvcD4nOwoJCWVjaG8gJzxwPlBsZWFzZSBjaGVjayA8Yj5pbmNsdWRlcy9jb25m'));
	@fwrite($fp, base64_decode('aWcuaW5jLnBocDwvYj4nOwoJCWlmIChpc19kaXIoX19ESVJfXyAuICcvc2V0dXAnKSkgewoJCQllY2hvICcgb3IgcnVuIDxhIGhyZWY9IicuT0lEcGx1czo6Z2V0U3lzdGVtVXJsKCkuJ3NldHVwLyI+c2V0dXA8L2E+IGFnYWluJzsKCQl9CgkJZWNobyAnPC9wPic7'));
	@fwrite($fp, base64_decode('Cgl9IGVsc2UgewoJCWVjaG8gIjxoMT5PSURwbHVzIGVycm9yPC9oMT4iOwoJCWVjaG8gJzxwPicuaHRtbGVudGl0aWVzKCRleGNlcHRpb24tPmdldE1lc3NhZ2UoKSkuJzwvcD4nOwoJCWVjaG8gJzxwPjxiPlRlY2huaWNhbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUg'));
	@fwrite($fp, base64_decode('cHJvYmxlbTo8L2I+PC9wPic7CgkJZWNobyAnPHByZT4nOwoJCWVjaG8gZ2V0X2NsYXNzKCRleGNlcHRpb24pLiJcbiI7CgkJZWNobyAnYXQgJy4kZXhjZXB0aW9uLT5nZXRGaWxlKCkuJygnLiRleGNlcHRpb24tPmdldExpbmUoKS4iKVxuIjsKCQllY2hvICJTdGFj'));
	@fwrite($fp, base64_decode('a3RyYWNlOlxuIjsKCQllY2hvICRleGNlcHRpb24tPmdldFRyYWNlQXNTdHJpbmcoKTsKCQllY2hvICc8L3ByZT4nOwoJfQp9CgpvYl9zdGFydCgpOyAvLyBhbGxvdyBjb29raWUgaGVhZGVycyB0byBiZSBzZW50CgpPSURwbHVzOjppbml0KHRydWUpOwoKJHN0YXRp'));
	@fwrite($fp, base64_decode('Y19ub2RlX2lkID0gaXNzZXQoJF9SRVFVRVNUWydnb3RvJ10pID8gJF9SRVFVRVNUWydnb3RvJ10gOiAnb2lkcGx1czpzeXN0ZW0nOwokc3RhdGljID0gT0lEcGx1czo6Z3VpKCk6OmdlbmVyYXRlQ29udGVudFBhZ2UoJHN0YXRpY19ub2RlX2lkKTsKJHN0YXRpY190'));
	@fwrite($fp, base64_decode('aXRsZSA9ICRzdGF0aWNbJ3RpdGxlJ107CiRzdGF0aWNfaWNvbiA9ICRzdGF0aWNbJ2ljb24nXTsKJHN0YXRpY19jb250ZW50ID0gJHN0YXRpY1sndGV4dCddOwoKZnVuY3Rpb24gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKCRzeXN0ZW10aXRsZSwg'));
	@fwrite($fp, base64_decode('JHBhZ2V0aXRsZSkgewoJaWYgKCRzeXN0ZW10aXRsZSA9PSAkcGFnZXRpdGxlKSB7CgkJcmV0dXJuICRzeXN0ZW10aXRsZTsKCX0gZWxzZSB7CgkJcmV0dXJuICRzeXN0ZW10aXRsZSAuICcgLSAnIC4gJHBhZ2V0aXRsZTsKCX0KfQoKJHN5c2lkX29pZCA9IE9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmdldFN5c3RlbUlkKHRydWUpOwppZiAoISRzeXNpZF9vaWQpICRzeXNpZF9vaWQgPSAndW5rbm93bic7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbUlEOicuJHN5c2lkX29pZCk7Cgokc3lzX3VybCA9IE9JRHBsdXM6OmdldFN5c3RlbVVybCgpOwpoZWFkZXIo'));
	@fwrite($fp, base64_decode('J1gtT0lEcGx1cy1TeXN0ZW1VUkw6Jy4kc3lzX3VybCk7Cgokc3lzX3ZlciA9IE9JRHBsdXM6OmdldFZlcnNpb24oKTsKaWYgKCEkc3lzX3ZlcikgJHN5c192ZXIgPSAndW5rbm93bic7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbVZlcnNpb246Jy4kc3lzX3Zlcik7'));
	@fwrite($fp, base64_decode('Cgokc3lzX2luc3RhbGxfdHlwZSA9IE9JRHBsdXM6OmdldEluc3RhbGxUeXBlKCk7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbUluc3RhbGxUeXBlOicuJHN5c19pbnN0YWxsX3R5cGUpOwoKJHN5c190aXRsZSA9IE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRs'));
	@fwrite($fp, base64_decode('ZSgpOwpoZWFkZXIoJ1gtT0lEcGx1cy1TeXN0ZW1UaXRsZTonLiRzeXNfdGl0bGUpOwoKaWYgKGNsYXNzX2V4aXN0cygnT0lEcGx1c1BhZ2VBZG1pbkNvbG9ycycpKSB7CgkkY3NzID0gJ29pZHBsdXMubWluLmNzcy5waHA/aF9zaGlmdD0nLihPSURwbHVzOjpjb25m'));
	@fwrite($fp, base64_decode('aWcoKS0+Z2V0VmFsdWUoJ2NvbG9yX2h1ZV9zaGlmdCcpLzM2MCkuJyZzX3NoaWZ0PScuKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnY29sb3Jfc2F0X3NoaWZ0JykvMTAwKS4nJnZfc2hpZnQ9Jy4oT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdjb2xv'));
	@fwrite($fp, base64_decode('cl92YWxfc2hpZnQnKS8xMDApOwp9IGVsc2UgewoJJGNzcyA9ICdvaWRwbHVzLm1pbi5jc3MucGhwJzsKfQoKJGpzID0gJ29pZHBsdXMubWluLmpzLnBocCc7Cgo/PjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+Cgo8aGVhZD4KCTxtZXRhIGh0dHAtZXF1'));
	@fwrite($fp, base64_decode('aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KCTxtZXRhIG5hbWU9Ik9JRHBsdXMtU3lzdGVtSUQiIGNvbnRlbnQ9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRzeXNpZF9vaWQpOyA/PiI+Cgk8bWV0YSBuYW1lPSJP'));
	@fwrite($fp, base64_decode('SURwbHVzLVN5c3RlbVVSTCIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c191cmwpOyA/PiI+Cgk8bWV0YSBuYW1lPSJPSURwbHVzLVN5c3RlbVZlcnNpb24iIGNvbnRlbnQ9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRzeXNfdmVyKTsgPz4i'));
	@fwrite($fp, base64_decode('PgoJPG1ldGEgbmFtZT0iT0lEcGx1cy1TeXN0ZW1JbnN0YWxsVHlwZSIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c19pbnN0YWxsX3R5cGUpOyA/PiI+Cgk8bWV0YSBuYW1lPSJPSURwbHVzLVN5c3RlbVRpdGxlIiBjb250ZW50PSI8P3BocCBl'));
	@fwrite($fp, base64_decode('Y2hvIGh0bWxlbnRpdGllcygkc3lzX3RpdGxlKTsgLyogRG8gbm90IHJlbW92ZS4gVGhpcyBtZXRhIHRhZyBpcyBhY2Vzc2VkIGJ5IG9pZHBsdXNfYmFzZS5qcyAqLyA/PiI+Cgk8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iI0E5RENGMCI+Cgk8bWV0'));
	@fwrite($fp, base64_decode('YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+CgoJPHRpdGxlPjw/cGhwIGVjaG8gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRs'));
	@fwrite($fp, base64_decode('ZSgpLCAkc3RhdGljX3RpdGxlKTsgPz48L3RpdGxlPgoKCTxzY3JpcHQgc3JjPSI8P3BocCBlY2hvIGh0bWxlbnRpdGllcygkanMpOyA/PiI+PC9zY3JpcHQ+CgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSI8P3BocCBlY2hvIGh0bWxlbnRpdGllcygkY3Nz'));
	@fwrite($fp, base64_decode('KTsgPz4iPgoJPGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiB0eXBlPSJpbWFnZS94LWljb24iIGhyZWY9ImltZy9mYXZpY29uLmljbyI+CjwvaGVhZD4KCjxib2R5PgoKPGRpdiBpZD0iZnJhbWVzIj4KCTxkaXYgaWQ9ImNvbnRlbnRfd2luZG93IiBjbGFzcz0iYm9y'));
	@fwrite($fp, base64_decode('ZGVyYm94Ij4KCQk8P3BocAoJCSRzdGF0aWNfY29udGVudCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygKCQkJJ3w8YVxzKFtePl0qKWhyZWY9Im1haWx0bzooW14iXSspIihbXj5dKik+KFtePF0qKTwvYT58aXNtVScsCgkJCWZ1bmN0aW9uICgkdHJlZmZlcikgewoJ'));
	@fwrite($fp, base64_decode('CQkJJGVtYWlsID0gJHRyZWZmZXJbMl07CgkJCQkkdGV4dCA9ICR0cmVmZmVyWzRdOwoJCQkJcmV0dXJuIHNlY3VyZV9lbWFpbCgkZW1haWwsICR0ZXh0LCAxKTsgLy8gQW50aVNwYW0KCQkJfSwgJHN0YXRpY19jb250ZW50KTsKCgkJZWNobyAnPGgxIGlkPSJyZWFs'));
	@fwrite($fp, base64_decode('X3RpdGxlIj4nOwoJCWlmICgkc3RhdGljX2ljb24gIT0gJycpIGVjaG8gJzxpbWcgc3JjPSInLmh0bWxlbnRpdGllcygkc3RhdGljX2ljb24pLiciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSIiPiAnOwoJCWVjaG8gaHRtbGVudGl0aWVzKCRzdGF0aWNfdGl0'));
	@fwrite($fp, base64_decode('bGUpLic8L2gxPic7CgkJZWNobyAnPGRpdiBpZD0icmVhbF9jb250ZW50Ij4nLiRzdGF0aWNfY29udGVudC4nPC9kaXY+JzsKCQlpZiAoJF9TRVJWRVJbJ1JFUVVFU1RfTUVUSE9EJ10gPT0gJ0dFVCcpIHsKCQkJZWNobyAnPGJyPjxwPjxpbWcgc3JjPSJpbWcvc2hh'));
	@fwrite($fp, base64_decode('cmUucG5nIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGFsdD0iU2hhcmUiPiA8YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGluayIgY2xhc3M9ImdyYXlfZm9vdGVyX2ZvbnQiPlN0YXRpYyBsaW5rIHRv'));
	@fwrite($fp, base64_decode('IHRoaXMgcGFnZTwvYT4nOwoJCQllY2hvICc8L3A+JzsKCQl9CgkJZWNobyAnPGJyPic7CgkJPz4KCTwvZGl2PgoKCTxkaXYgaWQ9InN5c3RlbV90aXRsZV9iYXIiPgoJCTxkaXYgaWQ9InN5c3RlbV90aXRsZV9tZW51IiBvbmNsaWNrPSJtb2JpbGVOYXZCdXR0b25D'));
	@fwrite($fp, base64_decode('bGljayh0aGlzKSIgb25tb3VzZWVudGVyPSJtb2JpbGVOYXZCdXR0b25Ib3Zlcih0aGlzKSIgb25tb3VzZWxlYXZlPSJtb2JpbGVOYXZCdXR0b25Ib3Zlcih0aGlzKSI+CgkJCTxkaXYgaWQ9ImJhcjEiPjwvZGl2PgoJCQk8ZGl2IGlkPSJiYXIyIj48L2Rpdj4KCQkJ'));
	@fwrite($fp, base64_decode('PGRpdiBpZD0iYmFyMyI+PC9kaXY+CgkJPC9kaXY+CgoJCTxkaXYgaWQ9InN5c3RlbV90aXRsZV90ZXh0Ij4KCQkJPGEgPD9waHAgZWNobyBvaWRwbHVzX2xpbmsoJ29pZHBsdXM6c3lzdGVtJyk7ID8+PgoJCQkJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8xIj5WaWFU'));
	@fwrite($fp, base64_decode('aGlua1NvZnQgT0lEcGx1cyAyLjA8L3NwYW4+PGJyPgoJCQkJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8yIj48P3BocCBlY2hvIGh0bWxlbnRpdGllcyhPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKSk7ID8+PC9zcGFuPgoJCQk8L2E+CgkJPC9kaXY+Cgk8'));
	@fwrite($fp, base64_decode('L2Rpdj4KCgk8ZGl2IGlkPSJnb3RvYm94Ij4KCQk8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZ290byIgaWQ9ImdvdG9lZGl0IiB2YWx1ZT0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN0YXRpY19ub2RlX2lkKTsgPz4iPgoJCTxpbnB1dCB0eXBlPSJidXR0b24i'));
	@fwrite($fp, base64_decode('IHZhbHVlPSJHbyIgb25jbGljaz0iZ290b0J1dHRvbkNsaWNrZWQoKSIgaWQ9ImdvdG9idXR0b24iPgoJPC9kaXY+CgoJPGRpdiBpZD0ib2lkdHJlZSIgY2xhc3M9ImJvcmRlcmJveCI+CgkJPCEtLSA8bm9zY3JpcHQ+CgkJCTxwPjxiPlBsZWFzZSBlbmFibGUgSmF2'));
	@fwrite($fp, base64_decode('YVNjcmlwdCB0byB1c2UgYWxsIGZlYXR1cmVzPC9iPjwvcD4KCQk8L25vc2NyaXB0PiAtLT4KCQk8P3BocCBPSURwbHVzVHJlZTo6bm9uanNfbWVudSgpOyA/PgoJPC9kaXY+CjwvZGl2PgoKPC9ib2R5Pgo8L2h0bWw+Cjw/cGhwCgokY29udCA9IG9iX2dldF9jb250'));
	@fwrite($fp, base64_decode('ZW50cygpOwpvYl9lbmRfY2xlYW4oKTsKCmVjaG8gJGNvbnQ7Cg=='));
	@fclose($fp);
}
if (!is_file('index.php')) {
	warn('File has vanished! Will re-create it: index.php');
	writefile_5();
	if (!is_file('index.php')) {
		warn('File cannot be created (not existing): index.php');
	} else if (sha1_file('index.php') != 'f3fc34cfb725294451e15b951590c28938ed65ff') {
		warn('File cannot be created (checksum mismatch): index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index.php', 0644)) {
		warn('Could not change file permissions of index.php');
	}
} else {
	if (@sha1_file('index.php') !== 'f3fc34cfb725294451e15b951590c28938ed65ff') {
		if (@sha1_file('index.php') !== '8b9b61de833bcfa7fdab936b084062e4f4660eb9') {
			warn('File was modified. Will overwrite the changes now: index.php');
			$tmp = pathinfo('index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('index.php') !== 'f3fc34cfb725294451e15b951590c28938ed65ff') {
			warn('File cannot be written (checksum mismatch): index.php');
		}
	}
}

// Files different: plugins/adminPages/120_registration/plugin.inc.php
function writefile_6() {
	@$fp = fopen('plugins/adminPages/120_registration/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmRlZmluZSgnUVVFUllfUkVHSVNURVJfVjEnLCAgICAgICAgICcxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi4xLjEuMScpOwpkZWZpbmUo'));
	@fwrite($fp, base64_decode('J1FVRVJZX1VOUkVHSVNURVJfVjEnLCAgICAgICAnMS4zLjYuMS40LjEuMzc0NzYuMi41LjIuMS4yLjEnKTsKZGVmaW5lKCdRVUVSWV9MSVNUQUxMU1lTVEVNSURTX1YxJywgJzEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjEuMy4xJyk7CmRlZmluZSgnUVVFUllfTElW'));
	@fwrite($fp, base64_decode('RVNUQVRVU19WMScsICAgICAgICcxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi4xLjQuMScpOwoKY2xhc3MgT0lEcGx1c1BhZ2VBZG1pblJlZ2lzdHJhdGlvbiBleHRlbmRzIE9JRHBsdXNQYWdlUGx1Z2luIHsKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGx1Z2lu'));
	@fwrite($fp, base64_decode('SW5mb3JtYXRpb24oKSB7CgkJJG91dCA9IGFycmF5KCk7CgkJJG91dFsnbmFtZSddID0gJ1N5c3RlbSByZWdpc3RyYXRpb24nOwoJCSRvdXRbJ2F1dGhvciddID0gJ1ZpYVRoaW5rU29mdCc7CgkJJG91dFsndmVyc2lvbiddID0gbnVsbDsKCQkkb3V0WydkZXNjcmlw'));
	@fwrite($fp, base64_decode('dGlvbkhUTUwnXSA9IG51bGw7CgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHR5cGUoKSB7CgkJcmV0dXJuICdhZG1pbic7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHByaW9yaXR5KCkgewoJCXJldHVybiAxMjA7Cgl9CgoJcHVibGljIGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IGFjdGlvbigmJGhhbmRsZWQpIHsKCQkvLyBOb3RoaW5nCgl9CgoJcHVibGljIGZ1bmN0aW9uIGNmZ1NldFZhbHVlKCRuYW1lLCAkdmFsdWUpIHsKCQlpZiAoJG5hbWUgPT0gJ3JlZ19wcml2YWN5JykgewoJCQlpZiAoKCR2YWx1ZSAhPSAnMCcpICYmICgkdmFsdWUg'));
	@fwrite($fp, base64_decode('IT0gJzEnKSAmJiAoJHZhbHVlICE9ICcyJykpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlBsZWFzZSBlbnRlciBlaXRoZXIgMCwgMSBvciAyLiIpOwoJCQl9CgkJCS8vIE5vdyBkbyBhIHJlY2hlY2sgYW5kIG5vdGlmeSB0aGUgVmlhVGhpbmtTb2Z0IHNlcnZl'));
	@fwrite($fp, base64_decode('cgoJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ3JlZ19sYXN0X3BpbmcnLCAwKTsKCQkJJHRoaXMtPnNlbmRSZWdpc3RyYXRpb25RdWVyeSgkdmFsdWUpOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gZ3VpKCRpZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJ'));
	@fwrite($fp, base64_decode('CWlmICgkaWQgPT09ICdvaWRwbHVzOnNydl9yZWdpc3RyYXRpb24nKSB7CgkJCSRoYW5kbGVkID0gdHJ1ZTsKCQkJJG91dFsndGl0bGUnXSA9ICdTeXN0ZW0gcmVnaXN0cmF0aW9uIHNldHRpbmdzJzsKCQkJJG91dFsnaWNvbiddID0gZmlsZV9leGlzdHMoX19ESVJf'));
	@fwrite($fp, base64_decode('Xy4nL2ljb25fYmlnLnBuZycpID8gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy9pY29uX2JpZy5wbmcnIDogJyc7CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4o'));
	@fwrite($fp, base64_decode('KSkgewoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD5Zb3UgbmVlZCB0byA8YSAnLm9pZHBsdXNfbGluaygnb2lkcGx1czpsb2dpbicpLic+bG9nIGluPC9hPiBhcyBhZG1pbmlzdHJhdG9yLjwvcD4n'));
	@fwrite($fp, base64_decode('OwoJCQl9IGVsc2UgewoJCQkJJG91dFsndGV4dCddID0gZmlsZV9nZXRfY29udGVudHMoX19ESVJfXyAuICcvaW5mby50cGwnKTsKCQkJCQoJCQkJaWYgKCFPSURwbHVzOjpnZXRQa2lTdGF0dXMoKSkgewoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGZvbnQgY29s'));
	@fwrite($fp, base64_decode('b3I9InJlZCI+RXJyb3I6IFlvdXIgc3lzdGVtIGNvdWxkIG5vdCBnZW5lcmF0ZSBhIHByaXZhdGUvcHVibGljIGtleSBwYWlyLiAoT3BlblNTTCBpcyBwcm9iYWJseSBtaXNzaW5nIG9uIHlvdXIgc3lzdGVtKS4gVGhlcmVmb3JlLCB5b3UgY2Fubm90IHJlZ2lzdGVy'));
	@fwrite($fp, base64_decode('L3VucmVnaXN0ZXIgeW91ciBPSURwbHVzIGluc3RhbmNlLjwvZm9udD48L3A+JzsKCQkJCX0gZWxzZSB7CgkJCQkJJG91dFsndGV4dCddIC49ICc8cD48aW5wdXQgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJvcGVuT2lkSW5QYW5lbChcJ29pZHBsdXM6c3J2cmVnX3N0'));
	@fwrite($fp, base64_decode('YXR1c1wnKTsiIHZhbHVlPSJDaGVjayBzdGF0dXMgb2YgdGhlIHJlZ2lzdHJhdGlvbiBhbmQgY29sbGVjdGVkIGRhdGEiPjwvcD4nOwoKCQkJCQlpZiAoZGVmaW5lZCgnUkVHSVNUUkFUSU9OX0hJREVfU1lTVEVNJykgJiYgUkVHSVNUUkFUSU9OX0hJREVfU1lTVEVN'));
	@fwrite($fp, base64_decode('KSB7CgkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGZvbnQgY29sb3I9InJlZCI+PGI+QXR0ZW50aW9uITwvYj4gPGNvZGU+UkVHSVNUUkFUSU9OX0hJREVfU1lTVEVNPC9jb2RlPiBpcyBzZXQgaW4gdGhlIGxvY2FsIGNvbmZpZ3VyYXRpb24gZmlsZSEgVGhlcmVm'));
	@fwrite($fp, base64_decode('b3JlLCB0aGlzIHN5c3RlbSB3aWxsIG5vdCByZWdpc3RlciBpdHNlbGYsIGRlc3BpcmUgdGhlIHNldHRpbmdzIGJlbG93LjwvZm9udD48L3A+JzsKCQkJCQl9CgoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+WW91IGNhbiBhZGp1c3QgeW91ciBwcml2YWN5IGxldmVs'));
	@fwrite($fp, base64_decode('IGhlcmU6PC9wPjxwPjxzZWxlY3QgbmFtZT0icmVnX3ByaXZhY3kiIGlkPSJyZWdfcHJpdmFjeSI+JzsKCgkJCQkJIyAtLS0KCgkJCQkJJG91dFsndGV4dCddIC49ICc8b3B0aW9uIHZhbHVlPSIwIic7CgkJCQkJaWYgKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1'));
	@fwrite($fp, base64_decode('ZSgncmVnX3ByaXZhY3knKSA9PSAwKSB7CgkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnIHNlbGVjdGVkJzsKCQkJCQl9IGVsc2UgewoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJyc7CgkJCQkJfQoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPjAgPSBSZWdpc3RlciB0byBkaXJl'));
	@fwrite($fp, base64_decode('Y3Rvcnkgc2VydmljZSBhbmQgYXV0b21hdGljYWxseSBwdWJsaXNoIFJBL09JRCBkYXRhIGF0IG9pZC1pbmZvLmNvbTwvb3B0aW9uPic7CgoJCQkJCSMgLS0tCgoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPG9wdGlvbiB2YWx1ZT0iMSInOwoJCQkJCWlmIChPSURwbHVz'));
	@fwrite($fp, base64_decode('Ojpjb25maWcoKS0+Z2V0VmFsdWUoJ3JlZ19wcml2YWN5JykgPT0gMSkgewoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJyBzZWxlY3RlZCc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJG91dFsndGV4dCddIC49ICcnOwoJCQkJCX0KCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJz4x'));
	@fwrite($fp, base64_decode('ID0gT25seSByZWdpc3RlciB0byBkaXJlY3Rvcnkgc2VydmljZTwvb3B0aW9uPic7CgoJCQkJCSMgLS0tCgoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPG9wdGlvbiB2YWx1ZT0iMiInOwoJCQkJCWlmIChPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3JlZ19wcml2'));
	@fwrite($fp, base64_decode('YWN5JykgPT0gMikgewoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJyBzZWxlY3RlZCc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJG91dFsndGV4dCddIC49ICcnOwoJCQkJCX0KCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJz4yID0gSGlkZSBzeXN0ZW08L29wdGlvbj4nOwoKCQkJ'));
	@fwrite($fp, base64_decode('CQkjIC0tLQoKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzwvc2VsZWN0PiA8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iQ2hhbmdlIiBvbmNsaWNrPSJjcnVkQWN0aW9uUmVnUHJpdmFjeVVwZGF0ZSgpIj48L3A+JzsKCgkJCQkJJG91dFsndGV4dCddIC49ICc8cD5B'));
	@fwrite($fp, base64_decode('ZnRlciBjbGlja2luZyAiY2hhbmdlIiwgeW91ciBPSURwbHVzIGluc3RhbGxhdGlvbiB3aWxsIGNvbnRhY3QgdGhlIFZpYVRoaW5rU29mdCBzZXJ2ZXIgdG8gYWRqdXN0IChhZGQgb3IgcmVtb3ZlIGluZm9ybWF0aW9uKSB5b3VyIHByaXZhY3kgc2V0dGluZy4gVGhp'));
	@fwrite($fp, base64_decode('cyBtYXkgdGFrZSBhIGZldyBtaW51dGVzLjwvcD4nOwoKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxpPlByaXZhY3kgaW5mb3JtYXRpb246PC9pPiBQbGVhc2Ugbm90ZSB0aGF0IHJlbW92aW5nIHlvdXIgc3lzdGVtIGZyb20gdGhlIGRpcmVjdG9yeSBkb2VzIG5v'));
	@fwrite($fp, base64_decode('dCBhdXRvbWF0aWNhbGx5IGRlbGV0ZSBpbmZvcm1hdGlvbiBhYm91dCBPSURzIHdoaWNoIGFyZSBhbHJlYWR5IHB1Ymxpc2hlZCBhdCBvaWQtaW5mby5jb20uIFRvIHJlbW92ZSBhbHJlYWR5IHN1Ym1pdHRlZCBPSURzIGF0IG9pZC1pbmZvLmNvbSwgcGxlYXNlIGNv'));
	@fwrite($fp, base64_decode('bnRhY3QgdGhlIDxhIGhyZWY9Im1haWx0bzphZG1pbkBvaWQtaW5mby5jb20iPk9JRCBSZXBvc2l0b3J5IFdlYm1hc3RlcjwvYT4uJzsKCQkJCX0KCQkJfQoJCX0KCQlpZiAoJGlkID09PSAnb2lkcGx1czpzcnZyZWdfc3RhdHVzJykgewoJCQkkaGFuZGxlZCA9IHRy'));
	@fwrite($fp, base64_decode('dWU7CgoJCQkkcXVlcnkgPSBRVUVSWV9MSVZFU1RBVFVTX1YxOwoKCQkJJHBheWxvYWQgPSBhcnJheSgKCQkJCSJxdWVyeSIgPT4gJHF1ZXJ5LCAvLyB3ZSBtdXN0IHJlcGVhdCB0aGUgcXVlcnkgYmVjYXVzZSB3ZSB3YW50IHRvIHNpZ24gaXQKCQkJCSJzeXN0ZW1f'));
	@fwrite($fp, base64_decode('aWQiID0+IE9JRHBsdXM6OmdldFN5c3RlbUlkKGZhbHNlKQoJCQkpOwoKCQkJJHNpZ25hdHVyZSA9ICcnOwoJCQlpZiAoIUBvcGVuc3NsX3NpZ24oanNvbl9lbmNvZGUoJHBheWxvYWQpLCAkc2lnbmF0dXJlLCBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29p'));
	@fwrite($fp, base64_decode('ZHBsdXNfcHJpdmF0ZV9rZXknKSkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlNpZ25hdHVyZSBmYWlsZWQiKTsKCQkJfQoKCQkJJGRhdGEgPSBhcnJheSgKCQkJCSJwYXlsb2FkIiA9PiAkcGF5bG9hZCwKCQkJCSJzaWduYXR1cmUiID0+IGJhc2U2NF9lbmNv'));
	@fwrite($fp, base64_decode('ZGUoJHNpZ25hdHVyZSkKCQkJKTsKCgkJCSRjaCA9IGN1cmxfaW5pdCgpOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAnaHR0cHM6Ly9vaWRwbHVzLnZpYXRoaW5rc29mdC5jb20vcmVnMi9xdWVyeS5waHAnKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBD'));
	@fwrite($fp, base64_decode('VVJMT1BUX1BPU1QsIDEpOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgInF1ZXJ5PSRxdWVyeSZkYXRhPSIuYmFzZTY0X2VuY29kZShqc29uX2VuY29kZSgkZGF0YSkpKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRS'));
	@fwrite($fp, base64_decode('QU5TRkVSLCB0cnVlKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCB0cnVlKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0FVVE9SRUZFUkVSLCB0cnVlKTsKCQkJaWYgKCEoJHJlcyA9IEBjdXJsX2V4ZWMoJGNoKSkpIHsK'));
	@fwrite($fp, base64_decode('CQkJCXRocm93IG5ldyBFeGNlcHRpb24oIkNvbW11bmljYXRpb24gd2l0aCBWaWFUaGlua1NvZnQgc2VydmVyIGZhaWxlZCIpOwoJCQl9CgkJCWN1cmxfY2xvc2UoJGNoKTsKCQkJLy8gZGllKCJSRVM6ICRyZXNcbiIpOwoJCQkvLyBpZiAoJHJlcyA9PSAnT0snKSAu'));
	@fwrite($fp, base64_decode('Li4KCgkJCSRvdXRbJ3RpdGxlJ10gPSAnUmVnaXN0cmF0aW9uIGxpdmUgc3RhdHVzJzsKCQkJJG91dFsndGV4dCddICA9ICc8cD48YSAnLm9pZHBsdXNfbGluaygnb2lkcGx1czpzcnZfcmVnaXN0cmF0aW9uJykuJz48aW1nIHNyYz0iaW1nL2Fycm93X2JhY2sucG5n'));
	@fwrite($fp, base64_decode('IiB3aWR0aD0iMTYiPiBHbyBiYWNrIHRvIHJlZ2lzdHJhdGlvbiBzZXR0aW5nczwvYT48L3A+JyAuCgkJCSAgICAgICAgICAgICAgICAkcmVzOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gc2VuZFJlZ2lzdHJhdGlvblF1ZXJ5KCRwcml2YWN5X2xldmVsPW51bGwp'));
	@fwrite($fp, base64_decode('IHsKCQlpZiAoaXNfbnVsbCgkcHJpdmFjeV9sZXZlbCkpIHsKCQkJJHByaXZhY3lfbGV2ZWwgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3JlZ19wcml2YWN5Jyk7CgkJfQoKCQkkc3lzdGVtX3VybCA9IE9JRHBsdXM6OmdldFN5c3RlbVVybCgpOwoKCQkv'));
	@fwrite($fp, base64_decode('LyBJdCBpcyB2ZXJ5IGltcG9ydGFudCB0aGF0IHdlIHNldCB0aGUgcGluZyB0aW1lIE5PVywgYmVjYXVzZSBWaWFUaGlua1NvZnQgbWlnaHQgY29udGFjdCB1cyBkdXJpbmcgdGhlIHBpbmcsCgkJLy8gYW5kIHRoaXMgd291bGQgY2F1c2UgYW4gZW5kbGVzcyBsb29w'));
	@fwrite($fp, base64_decode('IQoJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgncmVnX2xhc3RfcGluZycsIHRpbWUoKSk7CgkJCgkJaWYgKCFPSURwbHVzOjpnZXRQa2lTdGF0dXMoKSkgcmV0dXJuIGZhbHNlOwoKCQlpZiAoJHByaXZhY3lfbGV2ZWwgPT0gMikgewoJCQkvLyBUaGUgdXNl'));
	@fwrite($fp, base64_decode('ciB3YW50cyB0byB1bnJlZ2lzdGVyCgkJCS8vIGJ1dCB3ZSBvbmx5IHVucmVnaXN0ZXIgaWYgd2UgYXJlIHJlZ2lzdGVyZWQuIENoZWNrIHRoaXMgImFub255bW91c2x5IiAoaS5lLiB3aXRob3V0IHJldmVhbGluZyBvdXIgc3lzdGVtIElEKQoJCQlpZiAoaW5fYXJy'));
	@fwrite($fp, base64_decode('YXkoT0lEcGx1czo6Z2V0U3lzdGVtSWQoZmFsc2UpLCBleHBsb2RlKCc7JyxmaWxlX2dldF9jb250ZW50cygnaHR0cHM6Ly9vaWRwbHVzLnZpYXRoaW5rc29mdC5jb20vcmVnMi9xdWVyeS5waHA/cXVlcnk9Jy5RVUVSWV9MSVNUQUxMU1lTVEVNSURTX1YxKSkpKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkkcXVlcnkgPSBRVUVSWV9VTlJFR0lTVEVSX1YxOwoKCQkJCSRwYXlsb2FkID0gYXJyYXkoCgkJCQkJInF1ZXJ5IiA9PiAkcXVlcnksIC8vIHdlIG11c3QgcmVwZWF0IHRoZSBxdWVyeSBiZWNhdXNlIHdlIHdhbnQgdG8gc2lnbiBpdAoJCQkJCSJzeXN0ZW1f'));
	@fwrite($fp, base64_decode('aWQiID0+IE9JRHBsdXM6OmdldFN5c3RlbUlkKGZhbHNlKQoJCQkJKTsKCgkJCQkkc2lnbmF0dXJlID0gJyc7CgkJCQlpZiAoIUBvcGVuc3NsX3NpZ24oanNvbl9lbmNvZGUoJHBheWxvYWQpLCAkc2lnbmF0dXJlLCBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUo'));
	@fwrite($fp, base64_decode('J29pZHBsdXNfcHJpdmF0ZV9rZXknKSkpIHsKCQkJCQlyZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBFeGNlcHRpb24oIlNpZ25hdHVyZSBmYWlsZWQiKTsKCQkJCX0KCgkJCQkkZGF0YSA9IGFycmF5KAoJCQkJCSJwYXlsb2FkIiA9PiAkcGF5bG9hZCwKCQkJCQki'));
	@fwrite($fp, base64_decode('c2lnbmF0dXJlIiA9PiBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpCgkJCQkpOwoKCQkJCSRjaCA9IGN1cmxfaW5pdCgpOwoJCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJ2h0dHBzOi8vb2lkcGx1cy52aWF0aGlua3NvZnQuY29tL3JlZzIvcXVlcnku'));
	@fwrite($fp, base64_decode('cGhwJyk7CgkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgMSk7CgkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgInF1ZXJ5PSRxdWVyeSZkYXRhPSIuYmFzZTY0X2VuY29kZShqc29uX2VuY29kZSgkZGF0YSkpKTsKCQkJCWN1'));
	@fwrite($fp, base64_decode('cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7CgkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIHRydWUpOwoJCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0FVVE9SRUZFUkVSLCB0cnVlKTsKCQkJ'));
	@fwrite($fp, base64_decode('CWlmICghKCRyZXMgPSBAY3VybF9leGVjKCRjaCkpKSB7CgkJCQkJcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgRXhjZXB0aW9uKCJDb21tdW5pY2F0aW9uIHdpdGggVmlhVGhpbmtTb2Z0IHNlcnZlciBmYWlsZWQiKTsKCQkJCX0KCQkJCWN1cmxfY2xvc2UoJGNo'));
	@fwrite($fp, base64_decode('KTsKCQkJCS8vIGRpZSgiUkVTOiAkcmVzXG4iKTsKCQkJCS8vIGlmICgkcmVzID09ICdPSycpIC4uLgoJCQl9CgkJfSBlbHNlIHsKCQkJaWYgKCRwcml2YWN5X2xldmVsID09IDApIHsKCQkJCWlmIChjbGFzc19leGlzdHMoJ09JRHBsdXNQYWdlQWRtaW5PSURJbmZv'));
	@fwrite($fp, base64_decode('RXhwb3J0JykpIHsKCQkJCQlvYl9zdGFydCgpOwoJCQkJCU9JRHBsdXNQYWdlQWRtaW5PSURJbmZvRXhwb3J0OjpvdXRwdXRYTUwoZmFsc2UpOyAvLyBubyBvbmxpbmUgY2hlY2ssIGJlY2F1c2UgdGhlIHF1ZXJ5IHNob3VsZCBiZSBzaG9ydCAoc2luY2UgdGhlIHF1'));
	@fwrite($fp, base64_decode('ZXJ5IGlzIGRvbmUgd2hpbGUgYSB2aXNpdG9yIHdhaXRzIGZvciB0aGUgcmVzcG9uc2UpCgkJCQkJJG9pZGluZm9feG1sID0gb2JfZ2V0X2NvbnRlbnRzKCk7CgkJCQkJb2JfZW5kX2NsZWFuKCk7CgkJCQl9IGVsc2UgewoJCQkJCSRvaWRpbmZvX3htbCA9IGZhbHNl'));
	@fwrite($fp, base64_decode('OwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJJG9pZGluZm9feG1sID0gZmFsc2U7CgkJCX0KCgkJCSRxdWVyeSA9IFFVRVJZX1JFR0lTVEVSX1YxOwoKCQkJJHJvb3Rfb2lkcyA9IGFycmF5KCk7CgkJCWZvcmVhY2ggKE9JRHBsdXM6OmdldEVuYWJsZWRPYmplY3RUeXBl'));
	@fwrite($fp, base64_decode('cygpIGFzICRvdCkgewoJCQkJaWYgKCRvdDo6bnMoKSA9PSAnb2lkJykgewoJCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgIiAuCgkJCQkJICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICAgICJwYXJlbnQgPSAnb2lkOicgIiAuCgkJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmRlciBieSAiLk9JRHBsdXM6OmRiKCktPm5hdE9yZGVyKCdpZCcpKTsKCQkJCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNo'));
	@fwrite($fp, base64_decode('X2FycmF5KCkpIHsKCQkJCQkJJHJvb3Rfb2lkc1tdID0gc3Vic3RyKCRyb3dbJ2lkJ10sc3RybGVuKCdvaWQ6JykpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQkkcGF5bG9hZCA9IGFycmF5KAoJCQkJInF1ZXJ5IiA9PiAkcXVlcnksIC8vIHdlIG11c3QgcmVwZWF0IHRo'));
	@fwrite($fp, base64_decode('ZSBxdWVyeSBiZWNhdXNlIHdlIHdhbnQgdG8gc2lnbiBpdAoJCQkJInByaXZhY3lfbGV2ZWwiID0+ICRwcml2YWN5X2xldmVsLAoJCQkJInN5c3RlbV9pZCIgPT4gT0lEcGx1czo6Z2V0U3lzdGVtSWQoZmFsc2UpLAoJCQkJInB1YmxpY19rZXkiID0+IE9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmNvbmZpZygpLT5nZXRWYWx1ZSgnb2lkcGx1c19wdWJsaWNfa2V5JyksCgkJCQkic3lzdGVtX3VybCIgPT4gJHN5c3RlbV91cmwsCgkJCQkiaGlkZV9zeXN0ZW1fdXJsIiA9PiAwLAoJCQkJImhpZGVfcHVibGljX2tleSIgPT4gMCwKCQkJCSJhZG1pbl9lbWFpbCIg'));
	@fwrite($fp, base64_decode('PT4gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhZG1pbl9lbWFpbCcpLAoJCQkJInN5c3RlbV90aXRsZSIgPT4gT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCksCgkJCQkib2lkaW5mb194bWwiID0+IEBiYXNlNjRfZW5jb2RlKCRvaWRpbmZvX3ht'));
	@fwrite($fp, base64_decode('bCksCgkJCQkicm9vdF9vaWRzIiA9PiAkcm9vdF9vaWRzLAoJCQkJInN5c3RlbV92ZXJzaW9uIiA9PiBPSURwbHVzOjpnZXRWZXJzaW9uKCksCgkJCQkic3lzdGVtX2luc3RhbGxfdHlwZSIgPT4gT0lEcGx1czo6Z2V0SW5zdGFsbFR5cGUoKQoJCQkpOwoKCQkJJHNp'));
	@fwrite($fp, base64_decode('Z25hdHVyZSA9ICcnOwoJCQlpZiAoIUBvcGVuc3NsX3NpZ24oanNvbl9lbmNvZGUoJHBheWxvYWQpLCAkc2lnbmF0dXJlLCBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknKSkpIHsKCQkJCQlyZXR1cm4gZmFsc2U7IC8vIHRo'));
	@fwrite($fp, base64_decode('cm93IG5ldyBFeGNlcHRpb24oIlNpZ25hdHVyZSBmYWlsZWQiKTsKCQkJfQoKCQkJJGRhdGEgPSBhcnJheSgKCQkJCSJwYXlsb2FkIiA9PiAkcGF5bG9hZCwKCQkJCSJzaWduYXR1cmUiID0+IGJhc2U2NF9lbmNvZGUoJHNpZ25hdHVyZSkKCQkJKTsKCgkJCSRjaCA9'));
	@fwrite($fp, base64_decode('IGN1cmxfaW5pdCgpOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVJMLCAnaHR0cHM6Ly9vaWRwbHVzLnZpYXRoaW5rc29mdC5jb20vcmVnMi9xdWVyeS5waHAnKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1QsIDEpOwoJCQljdXJsX3NldG9w'));
	@fwrite($fp, base64_decode('dCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgInF1ZXJ5PSRxdWVyeSZkYXRhPSIuYmFzZTY0X2VuY29kZShqc29uX2VuY29kZSgkZGF0YSkpKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCB0cnVlKTsKCQkJY3VybF9zZXRvcHQo'));
	@fwrite($fp, base64_decode('JGNoLCBDVVJMT1BUX0ZPTExPV0xPQ0FUSU9OLCB0cnVlKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0FVVE9SRUZFUkVSLCB0cnVlKTsKCQkJaWYgKCEoJHJlcyA9IEBjdXJsX2V4ZWMoJGNoKSkpIHsKCQkJCXJldHVybiBmYWxzZTsgLy8gdGhyb3cgbmV3'));
	@fwrite($fp, base64_decode('IEV4Y2VwdGlvbigiQ29tbXVuaWNhdGlvbiB3aXRoIFZpYVRoaW5rU29mdCBzZXJ2ZXIgZmFpbGVkIik7CgkJCX0KCQkJY3VybF9jbG9zZSgkY2gpOwoKCQkJaWYgKCRyZXMgPT09ICdIQVNIX0NPTkZMSUNUJykgewoJCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygi'));
	@fwrite($fp, base64_decode('QSEiLCAiUmVtb3ZpbmcgU3lzdGVtSUQgYW5kIGtleSBwYWlyIGJlY2F1c2UgdGhlcmUgaXMgYSBoYXNoIGNvbmZsaWN0IHdpdGggYW5vdGhlciBPSURwbHVzIHN5c3RlbSEiKTsKCgkJCQkvLyBEZWxldGUgdGhlIHN5c3RlbSBJRCBzaW5jZSB3ZSBoYXZlIGEgY29u'));
	@fwrite($fp, base64_decode('ZmxpY3Qgd2l0aCB0aGUgMzEtYml0IGhhc2ghCgkJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknLCAnJyk7CgkJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScsICcnKTsKCgkJ'));
	@fwrite($fp, base64_decode('CQkvLyBUcnkgdG8gZ2VuZXJhdGUgYSBuZXcgc3lzdGVtIElECgkJCQlPSURwbHVzOjpnZXRQa2lTdGF0dXModHJ1ZSk7CgoJCQkJLy8gRW5mb3JjZSBhIG5ldyByZWdpc3RyYXRpb24gYXR0ZW1wdCBhdCB0aGUgbmV4dCBydW4KCQkJCS8vIFdlIHdpbGwgbm90IHRy'));
	@fwrite($fp, base64_decode('eSBhZ2FpbiBoZXJlLCBiZWNhdXNlIHRoYXQgbWlnaHQgbGVhZCB0byBhbiBlbmRsZXNzIGxvb3AgaWYgdGhlIFZUUyBzZXJ2ZXIgd291bGQgYWx3YXlzIHJldHVybiAnSEFTSF9DT05GTENJVCcKCQkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgncmVnX2xh'));
	@fwrite($fp, base64_decode('c3RfcGluZycsIDApOwoJCQl9CgoJCQkvLyBkaWUoIlJFUzogJHJlc1xuIik7CgkJCS8vIGlmICgkcmVzID09ICdPSycpIC4uLgoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5pdCgkaHRtbD10cnVlKSB7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25m'));
	@fwrite($fp, base64_decode('aWdLZXkoJ3JlZ193aXphcmRfZG9uZScsICdSZWdpc3RyYXRpb24gd2l6YXJkIGRvbmUgb25jZT8nLCAnMCcsIDEsIDApOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5wcmVwYXJlQ29uZmlnS2V5KCdyZWdfcHJpdmFjeScsICcyPUhpZGUgeW91ciBzeXN0ZW0sIDE9UmVn'));
	@fwrite($fp, base64_decode('aXN0ZXIgeW91ciBzeXN0ZW0gdG8gdGhlIFZpYVRoaW5rU29mdCBkaXJlY3RvcnkgYW5kIG9pZC1pbmZvLmNvbSwgMD1QdWJsaXNoIHlvdXIgc3lzdGVtIHRvIFZpYVRoaW5rU29mdCBkaXJlY3RvcnkgYW5kIGFsbCBwdWJsaWMgY29udGVudHMgKFJBL09JRCkgdG8g'));
	@fwrite($fp, base64_decode('b2lkLWluZm8uY29tJywgJzAnLCAwLCAxKTsKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgncmVnX3BpbmdfaW50ZXJ2YWwnLCAnUmVnaXN0cmF0aW9uIHBpbmcgaW50ZXJ2YWwgKGluIHNlY29uZHMpJywgJzM2MDAnLCAwLCAwKTsKCQlPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgncmVnX2xhc3RfcGluZycsICdMYXN0IHBpbmcgdG8gVmlhVGhpbmtTb2Z0IGRpcmVjdG9yeSBzZXJ2aWNlcycsICcwJywgMSwgMCk7CgkJCgkJJG9vYmVfZG9uZSA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRW'));
	@fwrite($fp, base64_decode('YWx1ZSgncmVnX3dpemFyZF9kb25lJykgPT0gJzEnOwoJCQoJCWlmICghJG9vYmVfZG9uZSkgewoJCQkvLyBTaG93IHJlZ2lzdHJhdGlvbi9jb25maWd1cmF0aW9uIHdpemFyZCBvbmNlCgkJCWlmICgkaHRtbCkgewoJCQkJaWYgKGJhc2VuYW1lKCRfU0VSVkVSWydT'));
	@fwrite($fp, base64_decode('Q1JJUFRfTkFNRSddKSAhPSAncmVnaXN0cmF0aW9uLnBocCcpIHsKCQkJCQlpZiAoJHN5c3RlbV91cmwgPSBPSURwbHVzOjpnZXRTeXN0ZW1VcmwoKSkgewoJCQkJCQloZWFkZXIoJ0xvY2F0aW9uOicuJHN5c3RlbV91cmwuJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJu'));
	@fwrite($fp, base64_decode('YW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy9yZWdpc3RyYXRpb24ucGhwJyk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJaGVhZGVyKCdMb2NhdGlvbjpwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElS'));
	@fwrite($fp, base64_decode('X18pLicvcmVnaXN0cmF0aW9uLnBocCcpOwoJCQkJCX0KCQkJCQlkaWUoJ1JlZGlyZWN0aW5nIHRvIHJlZ2lzdHJhdGlvbiB3aXphcmQuLi4nKTsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCS8vIElzIGl0IHRpbWUgdG8gcmVnaXN0ZXIgLyByZW5ldyB0aGUgZGly'));
	@fwrite($fp, base64_decode('ZWN0b3J5IGVudHJ5PwoJCQkvLyBOb3RlOiBSRUdJU1RSQVRJT05fSElERV9TWVNURU0gaXMgYW4gdW5kb2N1bWVudGVkIGNvbnN0YW50IHRoYXQgY2FuIGJlIHB1dCBpbiB0aGUgY29uZmlnLmluYy5waHAgZmlsZXMgb2YgYSB0ZXN0IHN5c3RlbSBhY2Nlc3Npbmcg'));
	@fwrite($fp, base64_decode('dGhlIHNhbWUgZGF0YWJhc2UgYXMgdGhlIHByb2R1Y3RpdmUgc3lzdGVtIHRoYXQgaXMgcmVnaXN0ZXJlZC4KCQkJLy8gVGhpcyBhdm9pZHMgdGhhdCB0aGUgVVJMIG9mIGEgcHJvZHVjdGl2ZSBzeXN0ZW0gaXMgb3ZlcnJpZGRlbiB3aXRoIHRoZSBVUkwgb2YgYSBj'));
	@fwrite($fp, base64_decode('bG9uZWQgdGVzdCBzeXN0ZW0gKHNpbmNlIHRoZXkgdXNlIHRoZSBzYW1lIGRhdGFiYXNlLCB0aGV5IGFsc28gaGF2ZSB0aGUgc2FtZSBzeXN0ZW0gSUQpCgoJCQlpZiAoIWRlZmluZWQoJ1JFR0lTVFJBVElPTl9ISURFX1NZU1RFTScpIHx8ICFSRUdJU1RSQVRJT05f'));
	@fwrite($fp, base64_decode('SElERV9TWVNURU0pIHsKCQkJCSRwcml2YWN5X2xldmVsID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyZWdfcHJpdmFjeScpOwoKCQkJCWlmIChwaHBfc2FwaV9uYW1lKCkgIT09ICdjbGknKSB7IC8vIGRvbid0IHJlZ2lzdGVyIHdoZW4gY2FsbGVkIGZy'));
	@fwrite($fp, base64_decode('b20gQ0xJLCBvdGhlcndlaXNlIHRoZSBvaWRpbmZvIFhNTCBjYW4ndCBjb252ZXJ0IHJlbGF0aXZlIGxpbmtzIGludG8gYWJzb2x1dGUgbGlua3MKCQkJCQlpZiAoKHRpbWUoKS1PSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3JlZ19sYXN0X3BpbmcnKSA+PSBP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3JlZ19waW5nX2ludGVydmFsJykpKSB7CgkJCQkJCSR0aGlzLT5zZW5kUmVnaXN0cmF0aW9uUXVlcnkoKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyZWUoJiRqc29uLCAkcmFf'));
	@fwrite($fp, base64_decode('ZW1haWw9bnVsbCwgJG5vbmpzPWZhbHNlLCAkcmVxX2dvdG89JycpIHsKCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uLnBuZycpKSB7CgkJCSR0cmVlX2ljb24gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNl'));
	@fwrite($fp, base64_decode('bmFtZShfX0RJUl9fKS4nL3RyZWVpY29uLnBuZyc7CgkJfSBlbHNlIHsKCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCX0KCgkJJGpzb25bXSA9IGFycmF5KAoJCQknaWQnID0+ICdvaWRwbHVzOnNydl9yZWdpc3RyYXRpb24n'));
	@fwrite($fp, base64_decode('LAoJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+ICdTeXN0ZW0gcmVnaXN0cmF0aW9uJwoJCSk7CgoJCXJldHVybiB0cnVlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlX3NlYXJjaCgkcmVxdWVzdCkgewoJCXJldHVybiBmYWxzZTsKCX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/120_registration/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/120_registration/plugin.inc.php');
	writefile_6();
	if (!is_file('plugins/adminPages/120_registration/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/120_registration/plugin.inc.php');
	} else if (sha1_file('plugins/adminPages/120_registration/plugin.inc.php') != '54522ba907f2b8170256cb865f435c78b20574b6') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/120_registration/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/120_registration/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/120_registration/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/120_registration/plugin.inc.php') !== '54522ba907f2b8170256cb865f435c78b20574b6') {
		if (@sha1_file('plugins/adminPages/120_registration/plugin.inc.php') !== 'd1ab18c1e81f914fb136c2651ccb4eaf70bf2ebe') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/120_registration/plugin.inc.php');
			$tmp = pathinfo('plugins/adminPages/120_registration/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/120_registration/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/120_registration/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('plugins/adminPages/120_registration/plugin.inc.php') !== '54522ba907f2b8170256cb865f435c78b20574b6') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/120_registration/plugin.inc.php');
		}
	}
}

// Files different: plugins/objectTypes/gs1/barcode.php
function writefile_7() {
	@$fp = fopen('plugins/objectTypes/gs1/barcode.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8vIFVzaW5nIHRoaXMgc2NyaXB0IChiYXJjb2RlLnBocCkgYXMgcHJveHkgdG8gdGhlIHNlcnZpY2UgYXQgbWV0YWZsb29yLmNvbSBoYXMgdGhlIGFkdmFudGFnZQovLyB0aGF0IHdlIGFyZSBmbGV4'));
	@fwrite($fp, base64_decode('aWJsZSAoZS5nLiBpZiB3ZSB3YW50IHRvIGNoYW5nZSB0byBhbm90aGVyIHNlcnZpY2Ugb3IgY3JlYXRlIHRoZSBiYXJjb2RlcwovLyBvdXJzZWx2ZXMpIGFuZCBhbHNvIGFsbG93cyB1cyB0byBiZSBjb25mb3JtIHdpdGggdGhlIEdEUFIsIHNpbmNlIHRoZSBJUCBh'));
	@fwrite($fp, base64_decode('ZGRyZXNzIC8gcmVmZXJyZXIgaXMKLy8gbm90IHRyYW5zZmVycmVkIHRvIG1ldGFmbG9vci5jb20KCmlmICghaXNzZXQoJF9HRVRbJ251bWJlciddKSkgZGllKCJBcmd1bWVudCAnbnVtYmVyJyBpcyBtaXNzaW5nIik7CgokbnVtYmVyID0gJF9HRVRbJ251bWJlcidd'));
	@fwrite($fp, base64_decode('OwokbnVtYmVyID0gcHJlZ19yZXBsYWNlKCIvW14wLTldLyIsICIiLCAkbnVtYmVyKTsKJG51bWJlciA9IHN1YnN0cigkbnVtYmVyLCAwLCAyMCk7CiRvdXQgPSBmaWxlX2dldF9jb250ZW50cygnaHR0cDovL2J3aXBqcy1hcGkubWV0YWZsb29yLmNvbS8/YmNpZD1j'));
	@fwrite($fp, base64_decode('b2RlMTI4JnRleHQ9Jy51cmxlbmNvZGUoJG51bWJlcikuJyZzY2FsZT0xJmluY2x1ZGV0ZXh0Jyk7CgokZXRhZyA9IG1kNSgkb3V0KTsKaGVhZGVyKCJFdGFnOiAkZXRhZyIpOwppZiAoaXNzZXQoJF9TRVJWRVJbJ0hUVFBfSUZfTk9ORV9NQVRDSCddKSAmJiAodHJp'));
	@fwrite($fp, base64_decode('bSgkX1NFUlZFUlsnSFRUUF9JRl9OT05FX01BVENIJ10pID09ICRldGFnKSkgewoJaGVhZGVyKCJIVFRQLzEuMSAzMDQgTm90IE1vZGlmaWVkIik7Cn0gZWxzZSB7CgloZWFkZXIoJ0NvbnRlbnQtVHlwZTppbWFnZS9wbmcnKTsKCWhlYWRlcignQ29udGVudC1EaXNw'));
	@fwrite($fp, base64_decode('b3NpdGlvbjppbmxpbmU7IGZpbGVuYW1lPSJiYXJjb2RlXycuJG51bWJlci4nLnBuZyInKTsKCWVjaG8gJG91dDsKfQo='));
	@fclose($fp);
}
if (!is_file('plugins/objectTypes/gs1/barcode.php')) {
	warn('File has vanished! Will re-create it: plugins/objectTypes/gs1/barcode.php');
	writefile_7();
	if (!is_file('plugins/objectTypes/gs1/barcode.php')) {
		warn('File cannot be created (not existing): plugins/objectTypes/gs1/barcode.php');
	} else if (sha1_file('plugins/objectTypes/gs1/barcode.php') != 'e144b83a8b506adf0ab715ca80592721efe26899') {
		warn('File cannot be created (checksum mismatch): plugins/objectTypes/gs1/barcode.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/objectTypes/gs1/barcode.php', 0644)) {
		warn('Could not change file permissions of plugins/objectTypes/gs1/barcode.php');
	}
} else {
	if (@sha1_file('plugins/objectTypes/gs1/barcode.php') !== 'e144b83a8b506adf0ab715ca80592721efe26899') {
		if (@sha1_file('plugins/objectTypes/gs1/barcode.php') !== '0152ba080fb7858af33e3b10d02bf95b74ff783a') {
			warn('File was modified. Will overwrite the changes now: plugins/objectTypes/gs1/barcode.php');
			$tmp = pathinfo('plugins/objectTypes/gs1/barcode.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/objectTypes/gs1/barcode.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/objectTypes/gs1/barcode.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('plugins/objectTypes/gs1/barcode.php') !== 'e144b83a8b506adf0ab715ca80592721efe26899') {
			warn('File cannot be written (checksum mismatch): plugins/objectTypes/gs1/barcode.php');
		}
	}
}

// Files different: plugins/publicPages/100_whois/whois/webwhois.php
function writefile_8() {
	@$fp = fopen('plugins/publicPages/100_whois/whois/webwhois.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmRlZmluZSgnT1VUUFVUX0ZPUk1BVF9TUEFDRVInLCAyKTsKZGVmaW5lKCdPVVRQVVRfRk9STUFUX01BWF9MSU5FX0xFTkdUSCcsIDgwKTsKCiMgLS0tCgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcv'));
	@fwrite($fp, base64_decode('Li4vLi4vLi4vLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCk9JRHBsdXM6OmluaXQodHJ1ZSk7CgpvcmlnaW5IZWFkZXJzKCk7CgovLyBTdGVwIDA6IEdldCByZXF1ZXN0IHBhcmFtZXRlcgoKaWYgKHBocF9zYXBpX25hbWUoKSA9PSAnY2xpJykgewoJaWYg'));
	@fwrite($fp, base64_decode('KCRhcmdjICE9IDIpIHsKCQllY2hvICJTeW50YXg6ICRhcmd2WzBdIDxxdWVyeT5cbiI7CgkJZXhpdCgyKTsKCX0KCSRxdWVyeSA9ICRhcmd2WzFdOwp9IGVsc2UgewoJaWYgKCFpc3NldCgkX1JFUVVFU1RbJ3F1ZXJ5J10pKSB7CgkJaHR0cF9yZXNwb25zZV9jb2Rl'));
	@fwrite($fp, base64_decode('KDQwMCk7CgkJZGllKCI8aDE+RXJyb3I8L2gxPjxwPkFyZ3VtZW50ICdxdWVyeScgaXMgbWlzc2luZzxwPiIpOwoJfQoJJHF1ZXJ5ID0gJF9SRVFVRVNUWydxdWVyeSddOwp9CgokYXV0aFRva2VucyA9IGV4cGxvZGUoJyQnLCAkcXVlcnkpOwokcXVlcnkgPSBhcnJh'));
	@fwrite($fp, base64_decode('eV9zaGlmdCgkYXV0aFRva2Vucyk7CgokYXV0aFRva2VuID0gdHJpbShPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3dob2lzX2F1dGhfdG9rZW4nKSk7CmlmIChlbXB0eSgkYXV0aFRva2VuKSkgJGF1dGhUb2tlbiA9IGZhbHNlOwoKJHNob3dfY29uZmlkZW50'));
	@fwrite($fp, base64_decode('aWFsID0gJGF1dGhUb2tlbiAmJiBpbl9hcnJheSgkYXV0aFRva2VuLCAkYXV0aFRva2Vucyk7CgokcXVlcnkgPSBzdHJfcmVwbGFjZSgnb2lkOi4nLCAnb2lkOicsICRxdWVyeSk7IC8vIGFsbG93IGxlYWRpbmcgZG90CgovLyBTdGVwIDE6IENvbGxlY3QgZGF0YQoK'));
	@fwrite($fp, base64_decode('JG91dCA9IGFycmF5KCk7Cgokb3V0W10gPSAicXVlcnk6ICRxdWVyeSI7CgokZGlzdGFuY2UgPSBudWxsOwokZm91bmQgPSBudWxsOwoKdHJ5IHsKCSRvYmogPSBPSURwbHVzT2JqZWN0OjpmaW5kRml0dGluZygkcXVlcnkpOwoJaWYgKCEkb2JqKSAkb2JqID0gT0lE'));
	@fwrite($fp, base64_decode('cGx1c09iamVjdDo6cGFyc2UoJHF1ZXJ5KTsgLy8gaW4gY2FzZSB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZyBmaXR0aW5nLCB3ZSB0YWtlIGl0IGFzIGl0IGlzIGFuZCBsYXRlciB1c2UgZ2V0UGFyZW50KCkgdG8gZmluZCBzb21ldGhpbmcgZWxzZQp9IGNhdGNoIChF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24gJGUpIHsKCSRvYmogPSBudWxsOwp9CgppZiAoISRvYmopIHsKCSRmb3VuZCA9IGZhbHNlOwp9IGVsc2UgewoJJHF1ZXJ5ID0gJG9iai0+bm9kZUlkKCk7IC8vIHRoaXMgbWF5IHNhbml0aXplL2Nhbm9uaXplIGlkZW50aWZpZXJzCgkkcmVzID0gT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgPSA/IiwgYXJyYXkoJG9iai0+bm9kZUlkKCkpKTsKCWlmICgkcmVzLT5udW1fcm93cygpID4gMCkgewoJCSRmb3VuZCA9IHRy'));
	@fwrite($fp, base64_decode('dWU7CgkJJGRpc3RhbmNlID0gMDsKCX0gZWxzZSB7CgkJJGZvdW5kID0gZmFsc2U7CgkJJG9ialBhcmVudCA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRxdWVyeSktPmdldFBhcmVudCgpOwoJCWlmICgkb2JqUGFyZW50KSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigp'));
	@fwrite($fp, base64_decode('LT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkb2JqUGFyZW50LT5ub2RlSWQoKSkpOwoJCQkkZGlzdGFuY2UgPSAkb2JqUGFyZW50LT5kaXN0YW5jZSgkcXVlcnkpOwoJ'));
	@fwrite($fp, base64_decode('CQlhc3NlcnQoJHJlcy0+bnVtX3Jvd3MoKSA+IDApOwoKCQkJJHF1ZXJ5ID0gJG9ialBhcmVudC0+bm9kZUlkKCk7CgkJCSRvYmogPSAkb2JqUGFyZW50OwoJCX0KCX0KfQoKJGNvbnRpbnVlID0gbnVsbDsKaWYgKCEkZm91bmQpIHsKCWlmICghaXNfbnVsbCgkZGlz'));
	@fwrite($fp, base64_decode('dGFuY2UpKSB7CgkJJG91dFtdID0gInJlc3VsdDogTm90IGZvdW5kOyBzdXBlcmlvciBvYmplY3QgZm91bmQiOwoJCSRvdXRbXSA9ICJkaXN0YW5jZTogJGRpc3RhbmNlIjsKCQkkY29udGludWUgPSB0cnVlOwoJfSBlbHNlIHsKCQkkb3V0W10gPSAicmVzdWx0OiBO'));
	@fwrite($fp, base64_decode('b3QgZm91bmQiOwoJCSRjb250aW51ZSA9IGZhbHNlOwoJfQp9IGVsc2UgewoJJG91dFtdID0gInJlc3VsdDogRm91bmQiOwoJJGNvbnRpbnVlID0gdHJ1ZTsKfQoKaWYgKCRjb250aW51ZSkgewoJJG91dFtdID0gIiI7Cgkkb3V0W10gPSAib2JqZWN0OiAkcXVlcnki'));
	@fwrite($fp, base64_decode('OwoJaWYgKCRvYmotPmlzQ29uZmlkZW50aWFsKCkgJiYgISRzaG93X2NvbmZpZGVudGlhbCkgewoJCSRvdXRbXSA9ICJzdGF0dXM6IENvbmZpZGVudGlhbCI7Cgl9IGVsc2UgewoJCSRvdXRbXSA9ICJzdGF0dXM6IEluZm9ybWF0aW9uIGF2YWlsYWJsZSI7CgoJCSRy'));
	@fwrite($fp, base64_decode('b3cgPSAkcmVzLT5mZXRjaF9vYmplY3QoKTsKCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHJvdy0+aWQpOwoKCQlpZiAoIWVtcHR5KCRyb3ctPnBhcmVudCkgJiYgKCFpc19yb290KCRyb3ctPnBhcmVudCkpKSB7CgkJCSRvdXRbXSA9ICdwYXJlbnQ6ICcg'));
	@fwrite($fp, base64_decode('LiAkcm93LT5wYXJlbnQgLiBzaG93X2FzbjFfYXBwZW5kaXgoJHJvdy0+cGFyZW50KTsKCQl9CgkJJG91dFtdID0gJ25hbWU6ICcgLiAkcm93LT50aXRsZTsKCgkJJGNvbnQgPSAkcm93LT5kZXNjcmlwdGlvbjsKCQkkY29udCA9IHByZWdfcmVwbGFjZSgnQDxhW14+'));
	@fwrite($fp, base64_decode('XStocmVmXHMqPVxzKlsiXCddKFteXCciXSspWyJcJ11bXj5dKj4oLispPFxzKi9ccyphXHMqPkBpc21VJywgJ1wyIChcMSknLCAkY29udCk7CgkJJG91dFtdID0gJ2Rlc2NyaXB0aW9uOiAnIC4gdHJpbShodG1sX2VudGl0eV9kZWNvZGUoc3RyaXBfdGFncygkY29u'));
	@fwrite($fp, base64_decode('dCkpKTsKCgkJaWYgKHN1YnN0cigkcXVlcnksMCw0KSA9PT0gJ29pZDonKSB7CgkJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCB3aGVyZSBvaWQgPSA/IiwgYXJyYXko'));
	@fwrite($fp, base64_decode('JHJvdy0+aWQpKTsKCQkJd2hpbGUgKCRyb3cyID0gJHJlczItPmZldGNoX29iamVjdCgpKSB7CgkJCQkkb3V0W10gPSAnaWRlbnRpZmllcjogJyAuICRyb3cyLT5uYW1lOwoJCQl9CgoJCQkkcmVzMiA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9t'));
	@fwrite($fp, base64_decode('ICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgd2hlcmUgc3RhbmRhcmRpemVkID0gPyBhbmQgb2lkID0gPyIsIGFycmF5KHRydWUsICRyb3ctPmlkKSk7CgkJCXdoaWxlICgkcm93MiA9ICRyZXMyLT5mZXRjaF9vYmplY3QoKSkgewoJCQkJJG91dFtd'));
	@fwrite($fp, base64_decode('ID0gJ3N0YW5kYXJkaXplZC1pZDogJyAuICRyb3cyLT5uYW1lOwoJCQl9CgoJCQkkcmVzMiA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgd2hlcmUgb2lkID0gPyIsIGFycmF5KCRyb3ct'));
	@fwrite($fp, base64_decode('PmlkKSk7CgkJCXdoaWxlICgkcm93MiA9ICRyZXMyLT5mZXRjaF9vYmplY3QoKSkgewoJCQkJJG91dFtdID0gJ3VuaWNvZGUtbGFiZWw6ICcgLiAkcm93Mi0+bmFtZTsKCQkJfQoKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAi'));
	@fwrite($fp, base64_decode('Lk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpIHdoZXJlIGxvbmdhcmMgPSA/IGFuZCBvaWQgPSA/IiwgYXJyYXkodHJ1ZSwgJHJvdy0+aWQpKTsKCQkJd2hpbGUgKCRyb3cyID0gJHJlczItPmZldGNoX29iamVjdCgpKSB7CgkJCQkkb3V0W10gPSAnbG9uZy1h'));
	@fwrite($fp, base64_decode('cmM6ICcgLiAkcm93Mi0+bmFtZTsKCQkJfQoJCX0KCgkJJG91dFtdID0gJ2NyZWF0ZWQ6ICcgLiAkcm93LT5jcmVhdGVkOwoJCSRvdXRbXSA9ICd1cGRhdGVkOiAnIC4gJHJvdy0+dXBkYXRlZDsKCgkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0'));
	@fwrite($fp, base64_decode('ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5ICIuT0lEcGx1czo6ZGIoKS0+bmF0T3JkZXIoJ2lkJyksIGFycmF5KCRyb3ctPmlkKSk7CgkJaWYgKCRyZXMyLT5udW1fcm93cygpID09IDAp'));
	@fwrite($fp, base64_decode('IHsKCQkJLy8gJG91dFtdID0gJ3N1Ym9yZGluYXRlOiAobm9uZSknOwoJCX0KCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJJG91dFtdID0gJ3N1Ym9yZGluYXRlOiAnIC4gJHJvdzItPmlkIC4gc2hvd19hc24xX2FwcGVuZGl4KCRy'));
	@fwrite($fp, base64_decode('b3cyLT5pZCk7CgkJfQoKCQkkb3V0W10gPSAnJzsKCgkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSA/IiwgYXJyYXkoJHJvdy0+cmFfZW1haWwpKTsK'));
	@fwrite($fp, base64_decode('CQlpZiAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJJG91dFtdID0gJ3JhOiAnLighZW1wdHkoJHJvdzItPnJhX25hbWUpID8gJHJvdzItPnJhX25hbWUgOiAkcm93Mi0+ZW1haWwpOwoJCQkkb3V0W10gPSAncmEtc3RhdHVzOiBJbmZvcm1hdGlv'));
	@fwrite($fp, base64_decode('biBhdmFpbGFibGUnOwoJCQkkb3V0W10gPSAncmEtbmFtZTogJyAuICRyb3cyLT5yYV9uYW1lOwoJCQkkb3V0W10gPSAncmEtZW1haWw6ICcgLiAkcm93LT5yYV9lbWFpbDsKCQkJJG91dFtdID0gJ3JhLXBlcnNvbmFsLW5hbWU6ICcgLiAkcm93Mi0+cGVyc29uYWxf'));
	@fwrite($fp, base64_decode('bmFtZTsKCQkJJG91dFtdID0gJ3JhLW9yZ2FuaXphdGlvbjogJyAuICRyb3cyLT5vcmdhbml6YXRpb247CgkJCSRvdXRbXSA9ICdyYS1vZmZpY2U6ICcgLiAkcm93Mi0+b2ZmaWNlOwoJCQlpZiAoJHJvdzItPnByaXZhY3kgJiYgISRzaG93X2NvbmZpZGVudGlhbCkg'));
	@fwrite($fp, base64_decode('ewoJCQkJJG91dFtdID0gJ3JhLXN0cmVldDogJyAuICghZW1wdHkoJHJvdzItPnN0cmVldCkgPyAnKHJlZGFjdGVkKScgOiAnJyk7CgkJCQkkb3V0W10gPSAncmEtdG93bjogJyAuICghZW1wdHkoJHJvdzItPnppcF90b3duKSA/ICcocmVkYWN0ZWQpJyA6ICcnKTsK'));
	@fwrite($fp, base64_decode('CQkJCSRvdXRbXSA9ICdyYS1jb3VudHJ5OiAnIC4gKCFlbXB0eSgkcm93Mi0+Y291bnRyeSkgPyAnKHJlZGFjdGVkKScgOiAnJyk7CgkJCQkkb3V0W10gPSAncmEtcGhvbmU6ICcgLiAoIWVtcHR5KCRyb3cyLT5waG9uZSkgPyAnKHJlZGFjdGVkKScgOiAnJyk7CgkJ'));
	@fwrite($fp, base64_decode('CQkkb3V0W10gPSAncmEtbW9iaWxlOiAnIC4gKCFlbXB0eSgkcm93Mi0+bW9iaWxlKSA/ICcocmVkYWN0ZWQpJyA6ICcnKTsKCQkJCSRvdXRbXSA9ICdyYS1mYXg6ICcgLiAoIWVtcHR5KCRyb3cyLT5mYXgpID8gJyhyZWRhY3RlZCknIDogJycpOwoJCQl9IGVsc2Ug'));
	@fwrite($fp, base64_decode('ewoJCQkJJG91dFtdID0gJ3JhLXN0cmVldDogJyAuICRyb3cyLT5zdHJlZXQ7CgkJCQkkb3V0W10gPSAncmEtemlwX3Rvd246ICcgLiAkcm93Mi0+emlwX3Rvd247CgkJCQkkb3V0W10gPSAncmEtY291bnRyeTogJyAuICRyb3cyLT5jb3VudHJ5OwoJCQkJJG91dFtd'));
	@fwrite($fp, base64_decode('ID0gJ3JhLXBob25lOiAnIC4gJHJvdzItPnBob25lOwoJCQkJJG91dFtdID0gJ3JhLW1vYmlsZTogJyAuICRyb3cyLT5tb2JpbGU7CgkJCQkkb3V0W10gPSAncmEtZmF4OiAnIC4gJHJvdzItPmZheDsKCQkJfQoJCQkkb3V0W10gPSAncmEtY3JlYXRlZDogJyAuICRy'));
	@fwrite($fp, base64_decode('b3cyLT5yZWdpc3RlcmVkOwoJCQkkb3V0W10gPSAncmEtdXBkYXRlZDogJyAuICRyb3cyLT51cGRhdGVkOwoJCX0gZWxzZSB7CgkJCSRvdXRbXSA9ICdyYTogJy4kcm93LT5yYV9lbWFpbDsKCQkJJG91dFtdID0gInJhLXN0YXR1czogSW5mb3JtYXRpb24gdW5hdmFp'));
	@fwrite($fp, base64_decode('bGFibGUiOwoJCX0KCX0KfQoKLy8gU3RlcCAyOiBGb3JtYXQgb3V0cHV0CgpvYl9zdGFydCgpOwoKJGZvcm1hdCA9IGlzc2V0KCRfUkVRVUVTVFsnZm9ybWF0J10pID8gJF9SRVFVRVNUWydmb3JtYXQnXSA6ICd0eHQnOwoKaWYgKCRmb3JtYXQgPT0gJ3R4dCcpIHsK'));
	@fwrite($fp, base64_decode('CWhlYWRlcignQ29udGVudC1UeXBlOnRleHQvcGxhaW47IGNoYXJzZXQ9VVRGLTgnKTsKCgkkbG9uZ2VzdF9rZXkgPSAwOwoJZm9yZWFjaCAoJG91dCBhcyAkbGluZSkgewoJCSRsb25nZXN0X2tleSA9IG1heCgkbG9uZ2VzdF9rZXksIHN0cmxlbih0cmltKGV4cGxv'));
	@fwrite($fp, base64_decode('ZGUoJzonLCRsaW5lLDIpWzBdKSkpOwoJfQoKCWVjaG8gJyUgJyAuIHN0cl9yZXBlYXQoJyonLCBPVVRQVVRfRk9STUFUX01BWF9MSU5FX0xFTkdUSC0yKS4iXG4iOwoKCWZvcmVhY2ggKCRvdXQgYXMgJGxpbmUpIHsKCQlpZiAodHJpbSgkbGluZSkgPT0gJycpIHsK'));
	@fwrite($fp, base64_decode('CQkJZWNobyAiXG4iOwoJCQljb250aW51ZTsKCQl9CgoJCSRhcnkgPSBleHBsb2RlKCc6JywgJGxpbmUsIDIpOwoKCQkka2V5ID0gdHJpbSgkYXJ5WzBdKTsKCgkJJHZhbHVlID0gdHJpbSgkYXJ5WzFdKTsKCQkkdmFsdWUgPSB3b3Jkd3JhcCgkdmFsdWUsIE9VVFBV'));
	@fwrite($fp, base64_decode('VF9GT1JNQVRfTUFYX0xJTkVfTEVOR1RIIC0gJGxvbmdlc3Rfa2V5IC0gc3RybGVuKCc6JykgLSBPVVRQVVRfRk9STUFUX1NQQUNFUik7CgkJJHZhbHVlID0gc3RyX3JlcGxhY2UoIlxuIiwgIlxuJGtleToiLnN0cl9yZXBlYXQoJyAnLCAkbG9uZ2VzdF9rZXktc3Ry'));
	@fwrite($fp, base64_decode('bGVuKCRrZXkpKSAuIHN0cl9yZXBlYXQoJyAnLCBPVVRQVVRfRk9STUFUX1NQQUNFUiksICR2YWx1ZSk7CgoJCWVjaG8gJGtleS4nOicgLiBzdHJfcmVwZWF0KCcgJywgJGxvbmdlc3Rfa2V5LXN0cmxlbigka2V5KSkgLiBzdHJfcmVwZWF0KCcgJywgT1VUUFVUX0ZP'));
	@fwrite($fp, base64_decode('Uk1BVF9TUEFDRVIpIC4gKCFlbXB0eSgkdmFsdWUpID8gJHZhbHVlIDogJy4nKSAuICJcbiI7Cgl9CgoJZWNobyAnJSAnIC4gc3RyX3JlcGVhdCgnKicsIE9VVFBVVF9GT1JNQVRfTUFYX0xJTkVfTEVOR1RILTIpLiJcbiI7CgoJJGNvbnQgPSBvYl9nZXRfY29udGVu'));
	@fwrite($fp, base64_decode('dHMoKTsKCW9iX2VuZF9jbGVhbigpOwoKCWVjaG8gJGNvbnQ7CgoJaWYgKE9JRHBsdXM6OmdldFBraVN0YXR1cyh0cnVlKSkgewoJCSRzaWduYXR1cmUgPSAnJzsKCQlpZiAoQG9wZW5zc2xfc2lnbigkY29udCwgJHNpZ25hdHVyZSwgT0lEcGx1czo6Y29uZmlnKCkt'));
	@fwrite($fp, base64_decode('PmdldFZhbHVlKCdvaWRwbHVzX3ByaXZhdGVfa2V5JykpKSB7CgkJCSRzaWduYXR1cmUgPSBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpOwoJCQkkc2lnbmF0dXJlID0gd29yZHdyYXAoJHNpZ25hdHVyZSwgODAsICJcbiIsIHRydWUpOwoKCQkJJHNpZ25hdHVyZSA9'));
	@fwrite($fp, base64_decode('ICItLS0tLUJFR0lOIFJTQSBTSUdOQVRVUkUtLS0tLVxuIi4KCQkgICAgICAgICAgICAgICAgICAgICAiJHNpZ25hdHVyZVxuIi4KCQkJICAgICAgICAgICAgICItLS0tLUVORCBSU0EgU0lHTkFUVVJFLS0tLS1cbiI7CgkJCWVjaG8gJHNpZ25hdHVyZTsKCQl9Cgl9'));
	@fwrite($fp, base64_decode('Cn0KCmlmICgkZm9ybWF0ID09ICdqc29uJykgewoJJGFyeSA9IGFycmF5KCk7CgoJJGN1cnJlbnRfc2VjdGlvbiA9IGFycmF5KCk7CgkkYXJ5W10gPSAmJGN1cnJlbnRfc2VjdGlvbjsKCglmb3JlYWNoICgkb3V0IGFzICRsaW5lKSB7CgkJaWYgKCRsaW5lID09ICcn'));
	@fwrite($fp, base64_decode('KSB7CgkJCXVuc2V0KCRjdXJyZW50X3NlY3Rpb24pOwoJCQkkY3VycmVudF9zZWN0aW9uID0gYXJyYXkoKTsKCQkJJGFyeVtdID0gJiRjdXJyZW50X3NlY3Rpb247CgkJfSBlbHNlIHsKCQkJbGlzdCgka2V5LCR2YWwpID0gZXhwbG9kZSgnOicsICRsaW5lLCAyKTsK'));
	@fwrite($fp, base64_decode('CQkJJHZhbCA9IHRyaW0oJHZhbCk7CgkJCWlmICghaXNzZXQoJGN1cnJlbnRfc2VjdGlvblska2V5XSkpIHsKCQkJCSRjdXJyZW50X3NlY3Rpb25bJGtleV0gPSAkdmFsOwoJCQl9IGVsc2VpZiAoaXNfYXJyYXkoJGN1cnJlbnRfc2VjdGlvblska2V5XSkpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CSRjdXJyZW50X3NlY3Rpb25bJGtleV1bXSA9ICR2YWw7CgkJCX0gZWxzZSB7CgkJCQkkY3VycmVudF9zZWN0aW9uWyRrZXldID0gYXJyYXkoJGN1cnJlbnRfc2VjdGlvblska2V5XSwgJHZhbCk7CgkJCX0KCQl9Cgl9CgkkYXJ5ID0gYXJyYXkoJ3dob2lzJyA9PiAk'));
	@fwrite($fp, base64_decode('YXJ5KTsgLy8gd2UgbmVlZCB0aGlzIG5hbWVkIHJvb3QsIG90aGVyd2lzZSBQSFAgd2lsbCBuYW1lIHRoZSBzZWN0aW9ucyAiMCIsICIxIiwgIjIiIGlmIHRoZSBhcnJheSBpcyBub3Qgc2VxdWVuY2lhbCAoZS5nLiBiZWNhdXNlICJzaWduYXR1cmUiIGlzIGFkZGVk'));
	@fwrite($fp, base64_decode('KQoKCWlmIChPSURwbHVzOjpnZXRQa2lTdGF0dXModHJ1ZSkpIHsKCQkkY29udCA9IGpzb25fZW5jb2RlKCRhcnkpOwoJCSRzaWduYXR1cmUgPSAnJzsKCQlpZiAoQG9wZW5zc2xfc2lnbigkY29udCwgJHNpZ25hdHVyZSwgT0lEcGx1czo6Y29uZmlnKCktPmdldFZh'));
	@fwrite($fp, base64_decode('bHVlKCdvaWRwbHVzX3ByaXZhdGVfa2V5JykpKSB7CgkJCSRzaWduYXR1cmUgPSBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpOwoJCQkkYXJ5WydzaWduYXR1cmUnXSA9IGFycmF5KCdjb250ZW50JyA9PiAkY29udCwgJ3NpZ25hdHVyZScgPT4gJHNpZ25hdHVyZSk7'));
	@fwrite($fp, base64_decode('CgkJfQoJfQoJaGVhZGVyKCdDb250ZW50LVR5cGU6YXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcpOwoJZWNobyBqc29uX2VuY29kZSgkYXJ5KTsKfQoKaWYgKCRmb3JtYXQgPT0gJ3htbCcpIHsKCSR4bWwgPSAnPHdob2lzPjxzZWN0aW9uPic7Cglmb3Jl'));
	@fwrite($fp, base64_decode('YWNoICgkb3V0IGFzICRsaW5lKSB7CgkJaWYgKCRsaW5lID09ICcnKSB7CgkJCSR4bWwgLj0gJzwvc2VjdGlvbj48c2VjdGlvbj4nOwoJCX0gZWxzZSB7CgkJCWxpc3QoJGtleSwkdmFsKSA9IGV4cGxvZGUoJzonLCAkbGluZSwgMik7CgkJCSR2YWwgPSB0cmltKCR2'));
	@fwrite($fp, base64_decode('YWwpOwoJCQkkeG1sIC49ICI8JGtleT4iLmh0bWxzcGVjaWFsY2hhcnMoJHZhbCkuIjwvJGtleT4iOwoJCX0KCX0KCSR4bWwgLj0gJzwvc2VjdGlvbj48L3dob2lzPic7CgoJaWYgKE9JRHBsdXM6OmdldFBraVN0YXR1cyh0cnVlKSkgewoJCSRjb250ID0gJHhtbDsK'));
	@fwrite($fp, base64_decode('CQkkc2lnbmF0dXJlID0gJyc7CgkJaWYgKEBvcGVuc3NsX3NpZ24oJGNvbnQsICRzaWduYXR1cmUsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnb2lkcGx1c19wcml2YXRlX2tleScpKSkgewoJCQkkc2lnbmF0dXJlID0gYmFzZTY0X2VuY29kZSgkc2lnbmF0'));
	@fwrite($fp, base64_decode('dXJlKTsKCQkJJHhtbCAuPSAiPHNpZ25hdHVyZT48Y29udGVudD4iLmh0bWxzcGVjaWFsY2hhcnMoJGNvbnQpLiI8L2NvbnRlbnQ+PHNpZ25hdHVyZT4iLmh0bWxzcGVjaWFsY2hhcnMoJHNpZ25hdHVyZSkuIjwvc2lnbmF0dXJlPjwvc2lnbmF0dXJlPiI7CgkJfQoJ'));
	@fwrite($fp, base64_decode('fQoKCWhlYWRlcignQ29udGVudC1UeXBlOmFwcGxpY2F0aW9uL3htbDsgY2hhcnNldD1VVEYtOCcpOwoJZWNobyAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyIgPz4nOwoJZWNobyAnPHJvb3Q+Jy4keG1sLic8L3Jv'));
	@fwrite($fp, base64_decode('b3Q+JzsKfQoKIyAtLS0KCmZ1bmN0aW9uIHNob3dfYXNuMV9hcHBlbmRpeCgkaWQpIHsKCWlmIChzdWJzdHIoJGlkLDAsNCkgPT09ICdvaWQ6JykgewoJCSRhcHBlbmRpeF9hc24xaWRzID0gYXJyYXkoKTsKCQkkcmVzMyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJz'));
	@fwrite($fp, base64_decode('ZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgd2hlcmUgb2lkID0gPyIsIGFycmF5KCRpZCkpOwoJCXdoaWxlICgkcm93MyA9ICRyZXMzLT5mZXRjaF9vYmplY3QoKSkgewoJCQkkYXBwZW5kaXhfYXNuMWlkc1tdID0gJHJvdzMt'));
	@fwrite($fp, base64_decode('Pm5hbWU7CgkJfQoKCQkkYXBwZW5kaXggPSBpbXBsb2RlKCcsICcsICRhcHBlbmRpeF9hc24xaWRzKTsKCQlpZiAoIWVtcHR5KCRhcHBlbmRpeCkpICRhcHBlbmRpeCA9ICIgKCRhcHBlbmRpeCkiOwoJfSBlbHNlIHsKCQkkYXBwZW5kaXggPSAnJzsKCX0KCXJldHVy'));
	@fwrite($fp, base64_decode('biAkYXBwZW5kaXg7Cn0KCmZ1bmN0aW9uIGlzX3Jvb3QoJGlkKSB7CglyZXR1cm4gZW1wdHkoZXhwbG9kZSgnOicsJGlkLDIpWzFdKTsKfQo='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/100_whois/whois/webwhois.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/100_whois/whois/webwhois.php');
	writefile_8();
	if (!is_file('plugins/publicPages/100_whois/whois/webwhois.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/100_whois/whois/webwhois.php');
	} else if (sha1_file('plugins/publicPages/100_whois/whois/webwhois.php') != '0370bfbc9f98babf4af652fb81fffc801ceab99a') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/100_whois/whois/webwhois.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/100_whois/whois/webwhois.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/100_whois/whois/webwhois.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/100_whois/whois/webwhois.php') !== '0370bfbc9f98babf4af652fb81fffc801ceab99a') {
		if (@sha1_file('plugins/publicPages/100_whois/whois/webwhois.php') !== '67bc74308c08a7347fa6098c2394b76da52d971e') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/100_whois/whois/webwhois.php');
			$tmp = pathinfo('plugins/publicPages/100_whois/whois/webwhois.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/100_whois/whois/webwhois.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/100_whois/whois/webwhois.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_8();
		if (@sha1_file('plugins/publicPages/100_whois/whois/webwhois.php') !== '0370bfbc9f98babf4af652fb81fffc801ceab99a') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/100_whois/whois/webwhois.php');
		}
	}
}

// Files different: update/index.php
function writefile_9() {
	@$fp = fopen('update/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmRlY2xhcmUodGlja3M9MSk7CgpzZXRfdGltZV9saW1pdCgwKTsKCmlmICghZmlsZV9leGlzdHMoX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvY29uZmlnLmluYy5waHAnKSkgewoJLy8gV2UgbmVlZCB0'));
	@fwrite($fp, base64_decode('byBkbyB0aGlzLCBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gdXNlIE9JRHBsdXM6OmluaXQoKSBpbiB0aGlzIHVwZGF0ZXIgKGl0IHNob3VsZCBiZSBpbmRlcGVuZGVudCBhcyBtdWNoIGFzIHBvc3NpYmxlKQoJaGVhZGVyKCdsb2NhdGlvbjouLi9zZXR1cC8nKTsK'));
	@fwrite($fp, base64_decode('CWRpZSgnUmVkaXJlY3RpbmcgdG8gc2V0dXAuLi4nKTsKfQoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL2luY2x1ZGVzL29pZHBsdXMuaW5jLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi9pbmNsdWRlcy9jb25maWcuaW5jLnBocCc7CnJlcXVp'));
	@fwrite($fp, base64_decode('cmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9waHBzdm5jbGllbnQuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2luY2x1ZGVzL2h0dHBfY2xhc3MuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2luY2x1ZGVzL3ZuYWdf'));
	@fwrite($fp, base64_decode('ZnJhbWV3b3JrLmluYy5waHAnOwoKZGVmaW5lKCdPSURQTFVTX1JFUE8nLCAnaHR0cHM6Ly9zdm4udmlhdGhpbmtzb2Z0LmNvbS9zdm4vb2lkcGx1cycpOwoKPz48IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgoKPGhlYWQ+Cgk8dGl0bGU+T0lEcGx1cyBV'));
	@fwrite($fp, base64_decode('cGRhdGU8L3RpdGxlPgoJPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4Ij4KCTxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIg'));
	@fwrite($fp, base64_decode('aHJlZj0iLi4vc2V0dXAvc2V0dXAuY3NzIj4KCTw/cGhwCglpZiAoUkVDQVBUQ0hBX0VOQUJMRUQpIHsKCT8+Cgk8c2NyaXB0IHNyYz0iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzIj48L3NjcmlwdD4KCTw/cGhwCgl9Cgk/Pgo8L2hlYWQ+'));
	@fwrite($fp, base64_decode('Cgo8Ym9keT4KCjxoMT5VcGRhdGUgT0lEcGx1czwvaDE+Cgo8P3BocAoKaWYgKGlzc2V0KCRfUkVRVUVTVFsndXBkYXRlX25vdyddKSkgewoJaWYgKFJFQ0FQVENIQV9FTkFCTEVEKSB7CgkJJHNlY3JldCA9IFJFQ0FQVENIQV9QUklWQVRFOwoJCSRyZXNwb25zZSA9'));
	@fwrite($fp, base64_decode('ICRfUE9TVFsiZy1yZWNhcHRjaGEtcmVzcG9uc2UiXTsKCQkkdmVyaWZ5ID0gZmlsZV9nZXRfY29udGVudHMoImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS9zaXRldmVyaWZ5P3NlY3JldD17JHNlY3JldH0mcmVzcG9uc2U9eyRyZXNwb25zZX0i'));
	@fwrite($fp, base64_decode('KTsKCQkkY2FwdGNoYV9zdWNjZXNzID0ganNvbl9kZWNvZGUoJHZlcmlmeSk7Cgl9CglpZiAoUkVDQVBUQ0hBX0VOQUJMRUQgJiYgKCRjYXB0Y2hhX3N1Y2Nlc3MtPnN1Y2Nlc3M9PWZhbHNlKSkgewoJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPjxiPkNBUFRD'));
	@fwrite($fp, base64_decode('SEEgbm90IHN1Y2Vzc2Z1bGx5IHZlcmlmaWVkPC9iPjwvZm9udD48L3A+JzsKCQllY2hvICc8cD48YSBocmVmPSJpbmRleC5waHAiPlRyeSBhZ2FpbjwvYT48L3A+JzsKCX0gZWxzZSB7CgkJaWYgKCFPSURwbHVzQXV0aFV0aWxzOjphZG1pbkNoZWNrUGFzc3dvcmQo'));
	@fwrite($fp, base64_decode('JF9SRVFVRVNUWydhZG1pbl9wYXNzd29yZCddKSkgewoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj48Yj5Xcm9uZyBwYXNzd29yZDwvYj48L2ZvbnQ+PC9wPic7CgkJCWVjaG8gJzxwPjxhIGhyZWY9ImluZGV4LnBocCI+VHJ5IGFnYWluPC9hPjwvcD4nOwoJ'));
	@fwrite($fp, base64_decode('CX0gZWxzZSB7CgkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KCdodHRwczovL3N2bi52aWF0aGlua3NvZnQuY29tL3N2bi9vaWRwbHVzJyk7CgkJCSRzdm4tPnZlcnNpb25GaWxlID0gJ29pZHBsdXNfdmVyc2lvbi50eHQnOwoJCQllY2hvICc8aDI+VXBkYXRpbmcg'));
	@fwrite($fp, base64_decode('Li4uPC9oMj4nOwoJCQllY2hvICc8cHJlPic7CgkJCSRzdm4tPnVwZGF0ZVdvcmtpbmdDb3B5KGRpcm5hbWUoX19ESVJfXykuJy9vaWRwbHVzX3ZlcnNpb24udHh0JywgJy90cnVuaycsIGRpcm5hbWUoX19ESVJfXyksIGZhbHNlKTsKCQkJZWNobyAnPC9wcmU+JzsK'));
	@fwrite($fp, base64_decode('CQkJZWNobyAnPHA+PGEgaHJlZj0iaW5kZXgucGhwIj5CYWNrIHRvIHVwZGF0ZSBwYWdlPC9hPjwvcD4nOwoJCQllY2hvICc8aHI+JzsKCQl9Cgl9Cgp9IGVsc2UgewoKCWNsYXNzIFZOYWdNb25pdG9yRHVtbXkgZXh0ZW5kcyBWTmFnIHsKCQlwcml2YXRlICRzdGF0'));
	@fwrite($fp, base64_decode('dXM7CgkJcHJpdmF0ZSAkY29udGVudDsKCgkJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRzdGF0dXMsICRjb250ZW50KSB7CgkJCXBhcmVudDo6X19jb25zdHJ1Y3QoKTsKCQkJJHRoaXMtPnN0YXR1cyA9ICRzdGF0dXM7CgkJCSR0aGlzLT5jb250ZW50ID0g'));
	@fwrite($fp, base64_decode('JGNvbnRlbnQ7CgkJfQoKCQlwcm90ZWN0ZWQgZnVuY3Rpb24gY2JSdW4oJG9wdGlvbmFsX2FyZ3M9YXJyYXkoKSkgewoJCQkkdGhpcy0+c2V0U3RhdHVzKCR0aGlzLT5zdGF0dXMpOwoJCQkkdGhpcy0+c2V0SGVhZGxpbmUoJHRoaXMtPmNvbnRlbnQpOwoJCX0KCX0K'));
	@fwrite($fp, base64_decode('Cgk/PgoKCTxwPjx1PlRoZXJlIGFyZSB0d28gcG9zc2liaWxpdGllcyBob3cgdG8ga2VlcCBPSURwbHVzIHVwLXRvLWRhdGU6PC91PjwvcD4KCgk8cD48Yj5NZXRob2QgQTwvYj46IEluc3RhbGwgT0lEcGx1cyB1c2luZyB0aGUgc3VidmVyc2lvbiB0b29sIGluIHlv'));
	@fwrite($fp, base64_decode('dXIgU1NIL0xpbnV4IHNoZWxsIHVzaW5nIHRoZSBjb21tYW5kIDxjb2RlPnN2biBjbyA8P3BocCBlY2hvIE9JRFBMVVNfUkVQTzsgPz4vdHJ1bms8L2NvZGU+CglhbmQgdXBkYXRlIGl0IHJlZ3VsYXJseSB3aXRoIHRoZSBjb21tYW5kIDxjb2RlPnN2biB1cGRhdGU8'));
	@fwrite($fp, base64_decode('L2NvZGU+IC4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZG93bmxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uIGFuZCBhbHNvIGNoZWNrIGZvcgoJY29uZmxpY3RzLiBIaWdobHkgcmVjb21tZW5kZWQgaWYgeW91IGhhdmUgYSBTaGVsbC9TU0ggYWNjZXNzIHRvIHlvdXIg'));
	@fwrite($fp, base64_decode('d2Vic3BhY2UhPC9wPgoKCTxwPjxiPk1ldGhvZCBCOjwvYj4gSW5zdGFsbCBPSURwbHVzIGJ5IGRvd25sb2FkaW5nIGEgWklQIGZpbGUgZnJvbSB3d3cudmlhdGhpbmtzb2Z0LmNvbSwgd2hpY2ggY29udGFpbnMgYSBTVk4gc25hcHNob3QsIGFuZCBleHRyYWN0IGl0'));
	@fwrite($fp, base64_decode('IHRvIHlvdXIgd2Vic3BhY2UuCglUaGUgWklQIGZpbGUgY29udGFpbnMgYSBmaWxlIG5hbWVkICJvaWRwbHVzX3ZlcnNpb24udHh0IiB3aGljaCBjb250YWlucyB0aGUgU1ZOIHJldmlzaW9uIG9mIHRoZSBzbmFwc2hvdC4gVGhpcyB1cGRhdGUtdG9vbCB3aWxsIHRo'));
	@fwrite($fp, base64_decode('ZW4gdHJ5IHRvIHVwZGF0ZSB5b3VyIGZpbGVzCglvbi10aGUtZmx5IGJ5IGRvd25sb2FkaW5nIHRoZW0gZnJvbSB0aGUgVmlhVGhpbmtTb2Z0IFNWTiByZXBvc2l0b3J5IGRpcmVjdGx5IGludG8geW91ciB3ZWJzcGFjZSBkaXJlY3RvcnkuCglBIGNoYW5nZSBjb25m'));
	@fwrite($fp, base64_decode('bGljdCBkZXRlY3Rpb24gaXMgTk9UIGltcGxlbWVudGVkLgoJSXQgaXMgcmVxdWlyZWQgdGhhdCB0aGUgZmlsZXMgb24geW91ciB3ZWJzcGFjZSBoYXZlCgljcmVhdGUvd3JpdGUvZGVsZXRlIHBlcm1pc3Npb25zLiBPbmx5IHJlY29tbWVuZGVkIGlmIHlvdSBoYXZl'));
	@fwrite($fp, base64_decode('IG5vIGFjY2VzcyB0byB0aGUgU1NIL0xpbnV4IHNoZWxsLjwvcD4KCgk8aHI+CgoJPD9waHAKCgkkc3ZuX3djX2V4aXN0cyA9IGlzX2RpcihfX0RJUl9fIC4gJy8uLi8uc3ZuJyk7Cgkkc25hcHNob3RfZXhpc3RzID0gZmlsZV9leGlzdHMoX19ESVJfXyAuICcvLi4v'));
	@fwrite($fp, base64_decode('b2lkcGx1c192ZXJzaW9uLnR4dCcpOwoKCWlmICgkc3ZuX3djX2V4aXN0cyAmJiAkc25hcHNob3RfZXhpc3RzKSB7CgkJZWNobyAnPGZvbnQgY29sb3I9InJlZCI+RVJST1I6IEJvdGgsIG9pZHBsdXNfdmVyc2lvbi50eHQgYW5kIC5zdm4gZGlyZWN0b3J5IGV4aXN0'));
	@fwrite($fp, base64_decode('ISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGlzIGFtYmlnb3VzITwvZm9udD4nOwoJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfQ1JJVElDQUwsICJFUlJPUjogQm90aCwgb2lkcGx1c192ZXJzaW9uLnR4dCBhbmQgLnN2biBkaXJlY3Rv'));
	@fwrite($fp, base64_decode('cnkgZXhpc3QhIFRoZXJlZm9yZSwgdGhlIHZlcnNpb24gaXMgYW1iaWdvdXMhIik7CgkJJGpvYi0+aHR0cF92aXN1YWxfb3V0cHV0ID0gZmFsc2U7CgkJJGpvYi0+cnVuKCk7CgkJdW5zZXQoJGpvYik7Cgl9IGVsc2UgaWYgKCEkc3ZuX3djX2V4aXN0cyAmJiAhJHNu'));
	@fwrite($fp, base64_decode('YXBzaG90X2V4aXN0cykgewoJCWVjaG8gJzxmb250IGNvbG9yPSJyZWQiPkVSUk9SOiBOZWl0aGVyIG9pZHBsdXNfdmVyc2lvbi50eHQsIG5vciAuc3ZuIGRpcmVjdG9yeSBleGlzdCEgVGhlcmVmb3JlLCB0aGUgdmVyc2lvbiBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBh'));
	@fwrite($fp, base64_decode('bmQgdGhlIHVwZGF0ZSBuZWVkcyB0byBiZSBhcHBsaWVkIG1hbnVhbGx5ITwvZm9udD4nOwoJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfQ1JJVElDQUwsICJOZWl0aGVyIG9pZHBsdXNfdmVyc2lvbi50eHQsIG5vciAuc3ZuIGRpcmVj'));
	@fwrite($fp, base64_decode('dG9yeSBleGlzdCEgVGhlcmVmb3JlLCB0aGUgdmVyc2lvbiBjYW5ub3QgYmUgZGV0ZXJtaW5lZCBhbmQgdGhlIHVwZGF0ZSBuZWVkcyB0byBiZSBhcHBsaWVkIG1hbnVhbGx5ISIpOwoJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCSRqb2ItPnJ1'));
	@fwrite($fp, base64_decode('bigpOwoJCXVuc2V0KCRqb2IpOwoJfSBlbHNlIGlmICgkc3ZuX3djX2V4aXN0cykgewoJCWVjaG8gJzxwPllvdSBhcmUgdXNpbmcgPGI+bWV0aG9kIEE8L2I+IChTVk4gd29ya2luZyBjb3B5KS48L3A+JzsKCgkJJGxvY2FsX2luc3RhbGxhdGlvbiA9IE9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmdldFZlcnNpb24oKTsKCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQTFVTX1JFUE8pOwoJCSRuZXdlc3RfdmVyc2lvbiA9ICdzdm4tJy4kc3ZuLT5nZXRWZXJzaW9uKCk7CgkJCgkJZWNobyAnTG9jYWwgaW5zdGFsbGF0aW9uOiAnIC4gKCRsb2NhbF9pbnN0'));
	@fwrite($fp, base64_decode('YWxsYXRpb24gPyAkbG9jYWxfaW5zdGFsbGF0aW9uIDogJ3Vua25vd24nKSAuICc8YnI+JzsKCQllY2hvICdMYXRlc3QgcHVibGlzaGVkIHZlcnNpb246ICcgLiAoJG5ld2VzdF92ZXJzaW9uID8gJG5ld2VzdF92ZXJzaW9uIDogJ3Vua25vd24nKSAuICc8YnI+JzsK'));
	@fwrite($fp, base64_decode('CgkJaWYgKCEkbG9jYWxfaW5zdGFsbGF0aW9uKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPlRoZSBzeXN0ZW0gY291bGQgbm90IGRldGVybWluZSB0aGUgdmVyc2lvbiBvZiB5b3VyIHN5c3RlbS4gKFJlcXVpcmVkOiBzdm51cGRhdGUgc2hlbGwgYWNj'));
	@fwrite($fp, base64_decode('ZXNzIG9yIFNRTGl0ZTMpLiBQbGVhc2UgdXBkYXRlIHlvdXIgc3lzdGVtIG1hbnVhbGx5IHZpYSB0aGUgU1ZOICJ1cGRhdGUiIGNvbW1hbmQgcmVndWxhcmx5LjwvZm9udD48L3A+JzsKCQl9IGVsc2UgaWYgKCRsb2NhbF9pbnN0YWxsYXRpb24gPT0gJG5ld2VzdF92'));
	@fwrite($fp, base64_decode('ZXJzaW9uKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJncmVlbiI+WW91IGFyZSBhbHJlYWR5IHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzLjwvZm9udD48L3A+JzsKCgkJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFU'));
	@fwrite($fp, base64_decode('VVNfT0ssICJZb3UgYXJlIHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzICgkbG9jYWxfaW5zdGFsbGF0aW9uIGxvY2FsIC8gJG5ld2VzdF92ZXJzaW9uIHJlbW90ZSkiKTsKCQkJJGpvYi0+aHR0cF92aXN1YWxfb3V0cHV0ID0gZmFsc2U7CgkJCSRq'));
	@fwrite($fp, base64_decode('b2ItPnJ1bigpOwoJCQl1bnNldCgkam9iKTsKCQl9IGVsc2UgewoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0iYmx1ZSI+UGxlYXNlIGVudGVyIDxjb2RlPnN2biB1cGRhdGU8L2NvZGU+IGludG8gdGhlIFNTSCBzaGVsbCB0byB1cGRhdGUgT0lEcGx1cyB0byB0aGUg'));
	@fwrite($fp, base64_decode('bGF0ZXN0IHZlcnNpb24uPC9mb250PjwvcD4nOwoKCQkJZWNobyAnPGgyPlByZXZpZXcgb2YgdXBkYXRlICcuJGxvY2FsX2luc3RhbGxhdGlvbi4nICZyYXJyOyAnLiRuZXdlc3RfdmVyc2lvbi4nPC9oMj4nOwoJCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQ'));
	@fwrite($fp, base64_decode('TFVTX1JFUE8pOwoJCQllY2hvICc8cHJlPic7CgkJCSRzdm4tPnVwZGF0ZVdvcmtpbmdDb3B5KHN0cl9yZXBsYWNlKCdzdm4tJywgJycsICRsb2NhbF9pbnN0YWxsYXRpb24pLCAnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgdHJ1ZSk7CgkJCWVjaG8gJzwvcHJl'));
	@fwrite($fp, base64_decode('Pic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX1dBUk5JTkcsICJPSURwbHVzIGlzIG91dGRhdGVkLiAoJGxvY2FsX2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRqb2ItPmh0dHBf'));
	@fwrite($fp, base64_decode('dmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCQkkam9iLT5ydW4oKTsKCQkJdW5zZXQoJGpvYik7CgkJfQoJfSBlbHNlIGlmICgkc25hcHNob3RfZXhpc3RzKSB7CgkJZWNobyAnPHA+WW91IGFyZSB1c2luZyA8Yj5tZXRob2QgQjwvYj4gKFNuYXBzaG90IFpJUCBmaWxl'));
	@fwrite($fp, base64_decode('IHdpdGggb2lkcGx1c192ZXJzaW9uLnR4dCBmaWxlKS48L3A+JzsKCgkJJGxvY2FsX2luc3RhbGxhdGlvbiA9IE9JRHBsdXM6OmdldFZlcnNpb24oKTsKCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQTFVTX1JFUE8pOwoJCSRuZXdlc3RfdmVyc2lvbiA9ICdz'));
	@fwrite($fp, base64_decode('dm4tJy4kc3ZuLT5nZXRWZXJzaW9uKCk7CgoJCWVjaG8gJ0xvY2FsIGluc3RhbGxhdGlvbjogJyAuICRsb2NhbF9pbnN0YWxsYXRpb24uJzxicj4nOwoJCWVjaG8gJ0xhdGVzdCBwdWJsaXNoZWQgdmVyc2lvbjogJyAuICRuZXdlc3RfdmVyc2lvbi4nPGJyPic7CgoJ'));
	@fwrite($fp, base64_decode('CWlmICgkbG9jYWxfaW5zdGFsbGF0aW9uID09ICRuZXdlc3RfdmVyc2lvbikgewoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0iZ3JlZW4iPllvdSBhcmUgYWxyZWFkeSB1c2luZyB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgT0lEcGx1cy48L2ZvbnQ+PC9wPic7CgoJCQkk'));
	@fwrite($fp, base64_decode('am9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX09LLCAiWW91IGFyZSB1c2luZyB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgT0lEcGx1cyAoJGxvY2FsX2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRq'));
	@fwrite($fp, base64_decode('b2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCQkkam9iLT5ydW4oKTsKCQkJdW5zZXQoJGpvYik7CgkJfSBlbHNlIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9ImJsdWUiPlRvIHVwZGF0ZSB5b3VyIE9JRHBsdXMgaW5zdGFsbGF0aW9uLCBwbGVhc2Ug'));
	@fwrite($fp, base64_decode('ZW50ZXIgeW91ciBwYXNzd29yZCBhbmQgY2xpY2sgdGhlIGJ1dHRvbiAiVXBkYXRlIE5PVyIuPC9mb250PjwvcD4nOwoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj5XQVJOSU5HOiBQbGVhc2UgbWFrZSBhIGJhY2t1cCBvZiB5b3VyIGZpbGVzIGJlZm9yZSB1'));
	@fwrite($fp, base64_decode('cGRhdGluZy4gSW4gY2FzZSBvZiBhbiBlcnJvciwgdGhlIE9JRHBsdXMgaW5zdGFsbGF0aW9uIChpbmNsdWRpbmcgdGhpcyB1cGRhdGUtYXNzaXN0YW50KSBtaWdodCBiZWNvbWUgdW5hdmFpbGFibGUuIEFsc28sIHNpbmNlIHRoZSB3ZWItdXBkYXRlIGRvZXMgbm90'));
	@fwrite($fp, base64_decode('IGNvbnRhaW4gY29sbGlzc2lvbi1kZXRlY3Rpb24sIGNoYW5nZXMgeW91IGhhdmUgYXBwbGllZCAobGlrZSBhZGRpbmcsIHJlbW92aW5nIG9yIG1vZGlmaWVkIGZpbGVzKSBtaWdodCBnZXQgcmV2ZXJ0ZWQvbG9zdCE8L2ZvbnQ+PC9wPic7CgkJCWVjaG8gJzxmb3Jt'));
	@fwrite($fp, base64_decode('IG1ldGhvZD0iUE9TVCIgYWN0aW9uPSJpbmRleC5waHAiPic7CgoJCQlpZiAoUkVDQVBUQ0hBX0VOQUJMRUQpIHsKCQkJCWVjaG8gJzxub3NjcmlwdD4nOwoJCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+WW91IG5lZWQgdG8gZW5hYmxlIEphdmFTY3JpcHQg'));
	@fwrite($fp, base64_decode('dG8gc29sdmUgdGhlIENBUFRDSEEuPC9mb250PjwvcD4nOwoJCQkJZWNobyAnPC9ub3NjcmlwdD4nOwoJCQkJZWNobyAnPHNjcmlwdD4gZ3JlY2FwdGNoYS5yZW5kZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImctcmVjYXB0Y2hhIiksIHsgInNpdGVrZXkiIDog'));
	@fwrite($fp, base64_decode('IicuUkVDQVBUQ0hBX1BVQkxJQy4nIiB9KTsgPC9zY3JpcHQ+JzsKCQkJCWVjaG8gJzxkaXYgaWQ9ImctcmVjYXB0Y2hhIiBjbGFzcz0iZy1yZWNhcHRjaGEiIGRhdGEtc2l0ZWtleT0iJy5SRUNBUFRDSEFfUFVCTElDLiciPjwvZGl2Pic7CgkJCX0KCgkJCWVjaG8g'));
	@fwrite($fp, base64_decode('JzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InVwZGF0ZV9ub3ciIHZhbHVlPSIxIj4nOwoJCQllY2hvICc8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9ImFkbWluX3Bhc3N3b3JkIj4nOwoJCQllY2hvICc8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iVXBk'));
	@fwrite($fp, base64_decode('YXRlIE5PVyI+JzsKCQkJZWNobyAnPC9mb3JtPic7CgoJCQllY2hvICc8aDI+UHJldmlldyBvZiB1cGRhdGUgJy4kbG9jYWxfaW5zdGFsbGF0aW9uLicgJnJhcnI7ICcuJG5ld2VzdF92ZXJzaW9uLic8L2gyPic7CgkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9J'));
	@fwrite($fp, base64_decode('RFBMVVNfUkVQTyk7CgkJCWVjaG8gJzxwcmU+JzsKCQkJJHN2bi0+dXBkYXRlV29ya2luZ0NvcHkoZGlybmFtZShfX0RJUl9fKS4nL29pZHBsdXNfdmVyc2lvbi50eHQnLCAnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgdHJ1ZSk7CgkJCWVjaG8gJzwvcHJlPic7'));
	@fwrite($fp, base64_decode('CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX1dBUk5JTkcsICJPSURwbHVzIGlzIG91dGRhdGVkLiAoJGxvY2FsX2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRqb2ItPmh0dHBfdmlz'));
	@fwrite($fp, base64_decode('dWFsX291dHB1dCA9IGZhbHNlOwoJCQkkam9iLT5ydW4oKTsKCQkJdW5zZXQoJGpvYik7CgkJfQoJfQoKCWVjaG8gJzxocj4nOwoKCWVjaG8gJzxwPjxpbnB1dCB0eXBlPSJidXR0b24iIG9uY2xpY2s9ImRvY3VtZW50LmxvY2F0aW9uPVwnLi4vXCciIHZhbHVlPSJH'));
	@fwrite($fp, base64_decode('byBiYWNrIHRvIE9JRHBsdXMiPjwvcD4nOwoKCWVjaG8gJzxicj48cD5EaWQgeW91IGtub3cgdGhhdCB0aGlzIHBhZ2UgY29udGFpbnMgYW4gaW52aXNpYmxlIFZOYWcgdGFnPyBZb3UgY2FuIHdhdGNoIHRoaXMgcGFnZSB1c2luZyB0aGUgIndlYnJlYWRlciIgcGx1'));
	@fwrite($fp, base64_decode('Z2luIG9mIFZOYWcsIGFuZCB0aGVuIG1vbml0b3IgaXQgd2l0aCBhbnkgTmFnaW9zIGNvbXBhdGlibGUgc29mdHdhcmUhIDxhIGhyZWY9Imh0dHBzOi8vd3d3LnZpYXRoaW5rc29mdC5jb20vcHJvamVjdHMvdm5hZyI+TW9yZSBpbmZvcm1hdGlvbjwvYT4uPC9wPic7'));
	@fwrite($fp, base64_decode('Cn0KCj8+Cgo8L2JvZHk+CjwvaHRtbD4K'));
	@fclose($fp);
}
if (!is_file('update/index.php')) {
	warn('File has vanished! Will re-create it: update/index.php');
	writefile_9();
	if (!is_file('update/index.php')) {
		warn('File cannot be created (not existing): update/index.php');
	} else if (sha1_file('update/index.php') != '5d95d5e440083a2e3a1f07d52cde8f8d01e75c9b') {
		warn('File cannot be created (checksum mismatch): update/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/index.php', 0644)) {
		warn('Could not change file permissions of update/index.php');
	}
} else {
	if (@sha1_file('update/index.php') !== '5d95d5e440083a2e3a1f07d52cde8f8d01e75c9b') {
		if (@sha1_file('update/index.php') !== 'bdf6c7e6f1cd5afd96a81e225c82675a8447bcfb') {
			warn('File was modified. Will overwrite the changes now: update/index.php');
			$tmp = pathinfo('update/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('update/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_9();
		if (@sha1_file('update/index.php') !== '5d95d5e440083a2e3a1f07d52cde8f8d01e75c9b') {
			warn('File cannot be written (checksum mismatch): update/index.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 240\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 240') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

