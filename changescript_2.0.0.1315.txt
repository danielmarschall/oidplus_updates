<?php /* <ViaThinkSoftSignature>
BJQOWa3Cals7KrGSePsjmN1ZIHiFruiCPM1XKUwwVxp7ckjnnKm07hAmnnq8Kb55N
UEO3QSHo3IRmx6h4rurx8XT3v57in8P57uhToLO6g5vlyo/GLmn8UoFcC648WqfB+
4BVeez4vLYDLxdG6X0+7c36EWqadRnn2QzmDpvfQ8QGuKDOrs1yDQFhr974bO3uZN
LTG+ayVi1K2DsCYk4KYTy7/lAY8I5ABAJsAqLw6RRKmkU9P1YdqLmZgCXoQRfCW4A
NW1XOMvKYA4tGe0p1Z7r6DeMXOFy59EqOR3VGMgvjA9W1tSCgG4mTgzqxIDTr4J5v
7Xbv0pvXv33chWN0mP4UGabb9HwPtvUlg+gsQP7ITADm3kRdf3ifXuVScHzgyVnus
0zUl7xzob9E3vnHNxa7Xw7LWl/ySK7JTsYnT5xVCqysrOIUbeqeic7EvP1URCP7z4
rif9SKGPXTvAj+H7SUEtVg5HKObwKNkZTxk4VkFXzQcioQ/OkwoLhn++3uC7S0ixk
+g1HFbxjo64w06rxGD+rMg7HUJ3Atd1tzh+qy4kTsSrhE3AuqFSBo5T+fPcFn4LnC
p5mfEOHWeGXKMgV5il3IqWSYz58N5WX1b3YJ3yIMCpnokS923OK/dPeRS2qGHBFS+
P3+b1ERVPqHPli3UBaw3VjZmYTb99+l3yoQIUErBzLmRkrHXAXqNtq8P+2Gu79QdG
LM7VyBeV3AQJpwecFz6guvDFti9vsWB6xQUH0NV6W0fxgUB03i0rTZ3P7ypxzq9gA
PT+5KFsBLmnXzH+eA1Xy7Bxm/3idJxHEEhCg6m7yzkTy+WSZjY+oA+bF2qlM3BQ79
MuBaNLXrarpsTYId9vSJaKsscyk0JWZZqrl3Gn/fjt9T2M75I92FTCcjSatPqR8gG
JoFEV6lkiH40gWnZaaWfhDWCxRVCGWvhsjevyNxkFS+YIjxUizVlmWzVFZx896yCD
KJrrPXSTDgXRVJw4qBUFnMIaRd4dIE5sE/D2G3auYlYidFAdpeHIYPnLfhG0HhRkt
ZJEw9Jc7qu+7KbzeYd+U+RWPjmwj9m6Mm0jg0dpcl8vy7gbxXZ4gijY6JWXqngmkt
4mCYDXHp6ckrNlVKqGdWuZTN4vI9/l4EyaBAQg5cxpruwekqBWD08BKfjOH0I4vMo
M/3qfu0FoslBGAJov7OTofAg2+ZPR8Fx5Y8X25KzzmKj1i9KoBknbEWGn+L4Vj/NP
i20zqiYCTlOwbQNMlMgzn4Y6EhWfiwqmwZq5Te1K14pAZKuCVFXx204pTYIMGmaMm
ExGt7ng+BPBC5A2uWIU6XLEpJGOgmD2Vr3VBD2UjhQU6Cq4Yz807NPsWA5DjIaCau
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1314') {
	err('This update can only be applied to OIDplus version 2.0.0.1314!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/classes/OIDplusAuthContentStoreJWT.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusAuthContentStoreJWT.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKLyoqCiAqIEF1dGggY29udGVudCBzdG9yZSBmb3IgSldUIHRva2VucyAod2ViIGJyb3dzZXIgbG9naW4gY29va2llcywgQXV0b21hdGVkIEFKQVggYXJndW1lbnQsIG9yIFJFU1QgQmVhcmVy'));
	@fwrite($fp, base64_decode('KQogKi8KY2xhc3MgT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1QgaW1wbGVtZW50cyBPSURwbHVzR2V0dGVyU2V0dGVySW50ZXJmYWNlIHsKCgkvKioKCSAqIENvb2tpZSBuYW1lIGZvciB0aGUgSldUIGF1dGggdG9rZW4KCSAqLwoJY29uc3QgQ09PS0lFX05BTUUg'));
	@fwrite($fp, base64_decode('PSAnT0lEUExVU19BVVRIX0pXVCc7CgoJLyoqCgkgKiBUb2tlbiBnZW5lcmF0b3I7IG11c3QgYmUgb25lIG9mIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VORVJBVE9SXyoKCSAqLwoJY29uc3QgQ0xBSU1fR0VORVJBVE9SID0gJ3VybjpvaWQ6MS4z'));
	@fwrite($fp, base64_decode('LjYuMS40LjEuMzc0NzYuMi41LjIuNy4xJzsKCgkvKioKCSAqIExpc3Qgb2YgbG9nZ2VkLWluIHVzZXJzCgkgKi8KCWNvbnN0IENMQUlNX0xPR0lOX0xJU1QgPSAndXJuOm9pZDoxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi43LjInOwoKCS8qKgoJICogU1NIID0gU2Vy'));
	@fwrite($fp, base64_decode('dmVyIFNlY3JldCBIYXNoCgkgKi8KCWNvbnN0IENMQUlNX1NTSCA9ICd1cm46b2lkOjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjcuMyc7CgoJLyoqCgkgKiBJUC1BZHJlc3MgbGltaXQKCSAqLwoJY29uc3QgQ0xBSU1fTElNSVRfSVAgPSAndXJuOm9pZDoxLjMuNi4x'));
	@fwrite($fp, base64_decode('LjQuMS4zNzQ3Ni4yLjUuMi43LjQnOwoKCS8qKgoJICogVHJhY2UgSlRJLCBJUCwgYW5kIFVzZXJBZ2VudAoJICovCgljb25zdCBDTEFJTV9UUkFDRSA9ICd1cm46b2lkOjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjcuNSc7CgoJLyoqCgkgKiAiQXV0b21hdGVkIEFK'));
	@fwrite($fp, base64_decode('QVgiIHBsdWdpbgoJICovCgljb25zdCBKV1RfR0VORVJBVE9SX0FKQVggICA9IDEwOwoJLyoqCgkgKiAiUkVTVCBBUEkiIHBsdWdpbgoJICovCgljb25zdCBKV1RfR0VORVJBVE9SX1JFU1QgICA9IDIwOwoJLyoqCgkgKiBXZWIgYnJvd3NlciBsb2dpbiBtZXRob2QK'));
	@fwrite($fp, base64_decode('CSAqLwoJY29uc3QgSldUX0dFTkVSQVRPUl9MT0dJTiAgPSA0MDsKCS8qKgoJICogIk1hbnVhbGx5IGNyYWZ0ZWQiIEpXVCB0b2tlbnMKCSAqLwoJY29uc3QgSldUX0dFTkVSQVRPUl9NQU5VQUwgPSA4MDsKCgkvKioKCSAqIEBwYXJhbSBpbnQgJGdlbiBPSURwbHVz'));
	@fwrite($fp, base64_decode('QXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl8uLi4KCSAqIEBwYXJhbSBzdHJpbmcgJHN1YgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gand0R2V0QmxhY2tsaXN0Q29uZmlnS2V5KGludCAkZ2VuLCBzdHJp'));
	@fwrite($fp, base64_decode('bmcgJHN1Yik6IHN0cmluZyB7CgkJLy8gTm90ZTogTmVlZHMgdG8gYmUgPD0gNTAgY2hhcmFjdGVycyEgSWYgJGdlbiBpcyAyIGNoYXJzLCB0aGVuIHRoZSBjb25maWcga2V5IGlzIDQ5IGNoYXJzIGxvbmcKCQlyZXR1cm4gJ2p3dF9ibGFja2xpc3RfZ2VuKCcuJGdl'));
	@fwrite($fp, base64_decode('bi4nKV9zdWIoJy50cmltKGJhc2U2NF9lbmNvZGUobWQ1KCRzdWIsdHJ1ZSkpLCc9JykuJyknOwoJfQoKCS8qKgoJICogQHBhcmFtIGludCAkZ2VuCgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdlbmVyYXRvck5hbWUoJGdlbikgewoJCS8vIE5vdGU6IFRo'));
	@fwrite($fp, base64_decode('ZSBzdHJpbmdzIGFyZSBub3QgdHJhbnNsYXRlZCwgYmVjYXVzZSB0aGUgbmFtZSBpcyB1c2VkIGluIGNvbmZpZyBrZXlzIG9yIGxvZ3MKCQlpZiAoJGdlbiA9PT0gc2VsZjo6SldUX0dFTkVSQVRPUl9BSkFYKSAgIHJldHVybiAnQXV0b21hdGVkIEFKQVggY2FsbHMn'));
	@fwrite($fp, base64_decode('OwoJCWlmICgkZ2VuID09PSBzZWxmOjpKV1RfR0VORVJBVE9SX1JFU1QpICAgcmV0dXJuICdSRVNUIEFQSSc7CgkJaWYgKCRnZW4gPT09IHNlbGY6OkpXVF9HRU5FUkFUT1JfTE9HSU4pICByZXR1cm4gJ0Jyb3dzZXIgbG9naW4nOwoJCWlmICgkZ2VuID09PSBzZWxm'));
	@fwrite($fp, base64_decode('OjpKV1RfR0VORVJBVE9SX01BTlVBTCkgcmV0dXJuICdNYW51YWxseSBjcmVhdGVkJzsKCQlyZXR1cm4gJ1Vua25vd24gZ2VuZXJhdG9yJzsKCX0KCgkvKioKCSAqIEBwYXJhbSBpbnQgJGdlbiBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRP'));
	@fwrite($fp, base64_decode('Ul8uLi4KCSAqIEBwYXJhbSBzdHJpbmcgJHN1YgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBqd3RCbGFja2xpc3QoaW50ICRnZW4sIHN0cmluZyAkc3ViKSB7CgkJJGNmZyA9'));
	@fwrite($fp, base64_decode('IHNlbGY6Omp3dEdldEJsYWNrbGlzdENvbmZpZ0tleSgkZ2VuLCAkc3ViKTsKCQkkYmxfdGltZSA9IHRpbWUoKS0xOwoKCQkkZ2VuX2Rlc2MgPSBzZWxmOjpnZW5lcmF0b3JOYW1lKCRnZW4pOwoKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgk'));
	@fwrite($fp, base64_decode('Y2ZnLCAiUmV2b2tlIHRpbWVzdGFtcCBvZiBhbGwgSldUIHRva2VucyBmb3IgJHN1YiB3aXRoIGdlbmVyYXRvciAkZ2VuICgkZ2VuX2Rlc2MpIiwgIiRibF90aW1lIiwgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9ISURERU4sIGZ1bmN0aW9uKCR2YWx1ZSkge30p'));
	@fwrite($fp, base64_decode('OwoJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgkY2ZnLCAkYmxfdGltZSk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gaW50ICRnZW4gT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1Q6OkpXVF9HRU5FUkFUT1JfLi4uCgkgKiBAcGFyYW0gc3RyaW5nICRzdWIKCSAq'));
	@fwrite($fp, base64_decode('IEByZXR1cm4gaW50CgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBqd3RHZXRCbGFja2xpc3RUaW1lKGludCAkZ2VuLCBzdHJpbmcgJHN1Yik6IGludCB7CgkJJGNmZyA9IHNlbGY6Omp3dEdldEJsYWNrbGlz'));
	@fwrite($fp, base64_decode('dENvbmZpZ0tleSgkZ2VuLCAkc3ViKTsKCQlyZXR1cm4gKGludClPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJGNmZywwKTsKCX0KCgkvKioKCSAqIFdlIGluY2x1ZGUgYSBoYXNoIG9mIHRoZSBzZXJ2ZXItc2VjcmV0IGhlcmUgKHNzaCA9IHNlcnZlci1zZWNy'));
	@fwrite($fp, base64_decode('ZXQtaGFzaCksIHNvIHRoYXQgdGhlIEpXVCBjYW4gYmUgaW52YWxpZGF0ZWQgYnkgY2hhbmdpbmcgdGhlIHNlcnZlci1zZWNyZXQKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gZ2V0U3NoKCk6IHN0cmluZyB7CgkJJGhleGFkZWNpbWFsX3N0cmluZyA9IE9JRHBsdXM6OmF1dGhVdGlscygpLT5tYWtlU2VjcmV0KFsnYmIxYWViZDYtZmU2YS0xMWVkLWE1NTMtM2M0YTkyZGY4NTgyJ10pOwoJCXJldHVybiBiYXNlNjRfZW5jb2RlKHBhY2so'));
	@fwrite($fp, base64_decode('J0gqJywkaGV4YWRlY2ltYWxfc3RyaW5nKSk7Cgl9CgoJLyoqCgkgKiBEbyB2YXJpb3VzIGNoZWNrcyBpZiB0aGUgdG9rZW4gaXMgYWxsb3dlZCBhbmQgbm90IGJsYWNrbGlzdGVkCgkgKiBAcGFyYW0gT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1QgJGNvbnRlbnRQ'));
	@fwrite($fp, base64_decode('cm92aWRlcgoJICogQHBhcmFtIGludHxudWxsICR2YWxpZEdlbmVyYXRvcnMgQml0bWFzayB3aGljaCBnZW5lcmF0b3JzIHRvIGFsbG93IChudWxsID0gYWxsb3cgYWxsKQoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJ'));
	@fwrite($fp, base64_decode('cHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gand0U2VjdXJpdHlDaGVjayhPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCAkY29udGVudFByb3ZpZGVyLCBpbnQgJHZhbGlkR2VuZXJhdG9ycz1udWxsKSB7CgkJLy8gQ2hlY2sgaWYgdGhlIHRva2VuIGlzIGludGVuZGVk'));
	@fwrite($fp, base64_decode('IGZvciB1cwoJCS8vIE5vdGUgJ2F1ZCcgaXMgbWFuZGF0b3J5LCBzbyB3ZSBkbyBub3QgY2hlY2sgZm9yIGV4aXN0cygpCgkJaWYgKCRjb250ZW50UHJvdmlkZXItPmdldFZhbHVlKCdhdWQnLCcnKSAhPT0gT0lEcGx1czo6Z2V0RWRpdGlvbkluZm8oKVsnand0YXVk'));
	@fwrite($fp, base64_decode('J10pIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1Rva2VuIGhhcyB3cm9uZyBhdWRpZW5jZScpKTsKCQl9CgoJCS8vIE5vdGUgQ0xBSU1fU1NIIGlzIG1hbmRhdG9yeSwgc28gd2UgZG8gbm90IGNoZWNrIGZvciBleGlzdHMoKQoJCWlmICgkY29u'));
	@fwrite($fp, base64_decode('dGVudFByb3ZpZGVyLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9TU0gsICcnKSAhPT0gc2VsZjo6Z2V0U3NoKCkpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJyJTZXJ2ZXIgU2VjcmV0IiB3YXMgY2hhbmdlZDsgdGhlcmVmb3JlIHRoZSBKV1QgaXMg'));
	@fwrite($fp, base64_decode('bm90IHZhbGlkIGFueW1vcmUnKSk7CgkJfQoKCQkvLyBOb3RlIENMQUlNX0dFTkVSQVRPUiBpcyBtYW5kYXRvcnksIHNvIHdlIGRvIG5vdCBjaGVjayBmb3IgZXhpc3RzKCkKCQkkZ2VuID0gJGNvbnRlbnRQcm92aWRlci0+Z2V0VmFsdWUoc2VsZjo6Q0xBSU1fR0VO'));
	@fwrite($fp, base64_decode('RVJBVE9SLCAtMSk7CgoJCSRoYXNfYWRtaW4gPSAkY29udGVudFByb3ZpZGVyLT5pc0FkbWluTG9nZ2VkSW4oKTsKCQkkaGFzX3JhID0gJGNvbnRlbnRQcm92aWRlci0+cmFOdW1Mb2dnZWRJbigpID4gMDsKCgkJLy8gQ2hlY2sgaWYgdGhlIHRva2VuIGdlbmVyYXRv'));
	@fwrite($fp, base64_decode('ciBpcyBhbGxvd2VkCgkJaWYgKCRnZW4gPT09IHNlbGY6OkpXVF9HRU5FUkFUT1JfQUpBWCkgewoJCQlpZiAoKCRoYXNfYWRtaW4pICYmICFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfQUxMT1dfQUpBWF9BRE1JTicsIHRydWUpKSB7CgkJCQkv'));
	@fwrite($fp, base64_decode('LyBHZW5lcmF0b3I6IHBsdWdpbnMvdmlhdGhpbmtzb2Z0L2FkbWluUGFnZXMvOTEwX2F1dG9tYXRlZF9hamF4X2NhbGxzL09JRHBsdXNQYWdlQWRtaW5BdXRvbWF0ZWRBSkFYQ2FsbHMuY2xhc3MucGhwCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgn'));
	@fwrite($fp, base64_decode('VGhlIGFkbWluaXN0cmF0b3IgaGFzIGRpc2FibGVkIHRoaXMgZmVhdHVyZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfQUpBWF9BRE1JTicpKTsKCQkJfQoJCQlpZiAoKCRoYXNfcmEpICYmICFPSURwbHVzOjpiYXNlQ29uZmln'));
	@fwrite($fp, base64_decode('KCktPmdldFZhbHVlKCdKV1RfQUxMT1dfQUpBWF9VU0VSJywgdHJ1ZSkpIHsKCQkJCS8vIEdlbmVyYXRvcjogcGx1Z2lucy92aWF0aGlua3NvZnQvcmFQYWdlcy85MTBfYXV0b21hdGVkX2FqYXhfY2FsbHMvT0lEcGx1c1BhZ2VSYUF1dG9tYXRlZEFKQVhDYWxscy5j'));
	@fwrite($fp, base64_decode('bGFzcy5waHAKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGUgYWRtaW5pc3RyYXRvciBoYXMgZGlzYWJsZWQgdGhpcyBmZWF0dXJlLiAoQmFzZSBjb25maWd1cmF0aW9uIHNldHRpbmcgJTEpLicsJ0pXVF9BTExPV19BSkFYX1VTRVInKSk7CgkJ'));
	@fwrite($fp, base64_decode('CX0KCQl9CgkJZWxzZSBpZiAoJGdlbiA9PT0gc2VsZjo6SldUX0dFTkVSQVRPUl9SRVNUKSB7CgkJCWlmICgoJGhhc19hZG1pbikgJiYgIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0pXVF9BTExPV19SRVNUX0FETUlOJywgdHJ1ZSkpIHsKCQkJCS8v'));
	@fwrite($fp, base64_decode('IEdlbmVyYXRvcjogcGx1Z2lucy92aWF0aGlua3NvZnQvYWRtaW5QYWdlcy85MTFfcmVzdF9hcGkvT0lEcGx1c1BhZ2VBZG1pblJlc3RBcGkuY2xhc3MucGhwCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIGFkbWluaXN0cmF0b3IgaGFzIGRp'));
	@fwrite($fp, base64_decode('c2FibGVkIHRoaXMgZmVhdHVyZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfUkVTVF9BRE1JTicpKTsKCQkJfQoJCQlpZiAoKCRoYXNfcmEpICYmICFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfQUxMT1df'));
	@fwrite($fp, base64_decode('UkVTVF9VU0VSJywgdHJ1ZSkpIHsKCQkJCS8vIEdlbmVyYXRvcjogcGx1Z2lucy92aWF0aGlua3NvZnQvcmFQYWdlcy85MTFfcmVzdF9hcGkvT0lEcGx1c1BhZ2VSYVJlc3RBcGkuY2xhc3MucGhwCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhl'));
	@fwrite($fp, base64_decode('IGFkbWluaXN0cmF0b3IgaGFzIGRpc2FibGVkIHRoaXMgZmVhdHVyZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfUkVTVF9VU0VSJykpOwoJCQl9CgkJfQoJCWVsc2UgaWYgKCRnZW4gPT09IHNlbGY6OkpXVF9HRU5FUkFUT1Jf'));
	@fwrite($fp, base64_decode('TE9HSU4pIHsKCQkJLy8gVXNlZCBmb3Igd2ViIGJyb3dzZXIgbG9naW4gKHVzZSBKV1QgdG9rZW4gaW4gYSBjb29raWUgYXMgYWx0ZXJuYXRpdmUgdG8gUEhQIHNlc3Npb24pOgoJCQkvLyAtIE5vIFBIUCBzZXNzaW9uIHdpbGwgYmUgdXNlZAoJCQkvLyAtIFNlc3Np'));
	@fwrite($fp, base64_decode('b24gd2lsbCBub3QgYmUgYm91bmQgdG8gSVAgYWRkcmVzcyAodGhlcmVmb3JlLCB5b3UgY2FuIHN3aXRjaCBiZXR3ZWVuIG1vYmlsZS9XaUZpIGZvciBleGFtcGxlKQoJCQkvLyAtIE5vIHNlcnZlci1zaWRlIHNlc3Npb24gbmVlZGVkCgkJCWlmICgoJGhhc19hZG1p'));
	@fwrite($fp, base64_decode('bikgJiYgIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0pXVF9BTExPV19MT0dJTl9BRE1JTicsIHRydWUpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIGFkbWluaXN0cmF0b3IgaGFzIGRpc2FibGVkIHRoaXMgZmVhdHVy'));
	@fwrite($fp, base64_decode('ZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfTE9HSU5fQURNSU4nKSk7CgkJCX0KCQkJaWYgKCgkaGFzX3JhKSAmJiAhT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnSldUX0FMTE9XX0xPR0lOX1VTRVInLCB0cnVl'));
	@fwrite($fp, base64_decode('KSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhZG1pbmlzdHJhdG9yIGhhcyBkaXNhYmxlZCB0aGlzIGZlYXR1cmUuIChCYXNlIGNvbmZpZ3VyYXRpb24gc2V0dGluZyAlMSkuJywnSldUX0FMTE9XX0xPR0lOX1VTRVInKSk7CgkJCX0K'));
	@fwrite($fp, base64_decode('CQl9CgkJZWxzZSBpZiAoJGdlbiA9PT0gc2VsZjo6SldUX0dFTkVSQVRPUl9NQU5VQUwpIHsKCQkJLy8gR2VuZXJhdG9yOiAiaGFuZC1jcmFmdGVkIiB0b2tlbnMKCQkJaWYgKCgkaGFzX2FkbWluKSAmJiAhT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgn'));
	@fwrite($fp, base64_decode('SldUX0FMTE9XX01BTlVBTF9BRE1JTicsIGZhbHNlKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhZG1pbmlzdHJhdG9yIGhhcyBkaXNhYmxlZCB0aGlzIGZlYXR1cmUuIChCYXNlIGNvbmZpZ3VyYXRpb24gc2V0dGluZyAlMSkuJywn'));
	@fwrite($fp, base64_decode('SldUX0FMTE9XX01BTlVBTF9BRE1JTicpKTsKCQkJfQoJCQlpZiAoKCRoYXNfcmEpICYmICFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfQUxMT1dfTUFOVUFMX1VTRVInLCBmYWxzZSkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KF9MKCdUaGUgYWRtaW5pc3RyYXRvciBoYXMgZGlzYWJsZWQgdGhpcyBmZWF0dXJlLiAoQmFzZSBjb25maWd1cmF0aW9uIHNldHRpbmcgJTEpLicsJ0pXVF9BTExPV19NQU5VQUxfVVNFUicpKTsKCQkJfQoJCX0gZWxzZSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhj'));
	@fwrite($fp, base64_decode('ZXB0aW9uKF9MKCdUb2tlbiBnZW5lcmF0b3IgJTEgbm90IHJlY29nbml6ZWQnLCRnZW4pKTsKCQl9CgoJCS8vIEV2ZXJ5IHRva2VuIG11c3QgaGF2ZSBhbmQgaXNzdWVkIHRpbWVzdGFtcAoJCSRpYXQgPSAkY29udGVudFByb3ZpZGVyLT5nZXRWYWx1ZSgnaWF0Jyxu'));
	@fwrite($fp, base64_decode('dWxsKTsKCQlpZiAoaXNfbnVsbCgkaWF0KSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIGNsYWltICIlMSIgb2YgdGhlIEpXVCB0b2tlbiBpcyBtaXNzaW5nIG9yIGludmFsaWQnLCdpYXQnKSk7CgkJfQoKCQkvLyBWZXJpZnkgdGhhdCBJ'));
	@fwrite($fp, base64_decode('QVQgaGFzIGEgdmFsaWQgdmFsdWUKCQkvLyBOb3RlOiBUaGlzIGNoZWNrIGlzIGFscmVhZHkgZG9uZSBpbiBGaXJlYmFzZVxKV1QuIEhvd2V2ZXIsIHdlIGRvIGl0IGFnYWluLCBqdXN0IHRvIGJlIDEwMCUgc3VyZS4KCQlpZiAoKCRpYXQtMTIwLypsZWV3YXkgMm1p'));
	@fwrite($fp, base64_decode('biovKSA+IHRpbWUoKSkgewoJCQkvLyBUb2tlbiB3YXMgY3JlYXRlZCBpbiB0aGUgZnV0dXJlLiBTb21ldGhpbmcgaXMgd3JvbmchCgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdKV1QgVG9rZW4gY2Fubm90IGJlIHZlcmlmaWVkIGJlY2F1c2UgdGhl'));
	@fwrite($fp, base64_decode('IHNlcnZlciB0aW1lIGlzIHdyb25nJykpOwoJCX0KCgkJLy8gQ2hlY2sgaWYgdG9rZW4gaXMgbm90IHlldCB2YWxpZAoJCS8vIE5vdGU6IFRoaXMgY2hlY2sgaXMgYWxyZWFkeSBkb25lIGluIEZpcmViYXNlXEpXVC4gSG93ZXZlciwgd2UgZG8gaXQgYWdhaW4sIGp1'));
	@fwrite($fp, base64_decode('c3QgdG8gYmUgMTAwJSBzdXJlLgoJCSRuYmYgPSAkY29udGVudFByb3ZpZGVyLT5nZXRWYWx1ZSgnbmJmJyxudWxsKTsKCQlpZiAoIWlzX251bGwoJG5iZikpIHsKCQkJaWYgKHRpbWUoKSA8ICRuYmYtMTIwLypsZWV3YXkgMm1pbiovKSB7CgkJCQl0aHJvdyBuZXcg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0V4Y2VwdGlvbihfTCgnVG9rZW4gbm90IHZhbGlkIGJlZm9yZSAlMScsZGF0ZSgnZCBGIFksIEg6aTpzJywkbmJmKSkpOwoJCQl9CgkJfQoKCQkvLyBDaGVjayBpZiB0b2tlbiBoYXMgZXhwaXJlZAoJCS8vIE5vdGU6IFRoaXMgY2hlY2sgaXMgYWxyZWFk'));
	@fwrite($fp, base64_decode('eSBkb25lIGluIEZpcmViYXNlXEpXVC4gSG93ZXZlciwgd2UgZG8gaXQgYWdhaW4sIGp1c3QgdG8gYmUgMTAwJSBzdXJlLgoJCSRleHAgPSAkY29udGVudFByb3ZpZGVyLT5nZXRWYWx1ZSgnZXhwJyxudWxsKTsKCQlpZiAoIWlzX251bGwoJGV4cCkpIHsKCQkJaWYg'));
	@fwrite($fp, base64_decode('KHRpbWUoKSA+ICRleHArMTIwLypsZWV3YXkgMm1pbiovKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVG9rZW4gaGFzIGV4cGlyZWQgb24gJTEnLGRhdGUoJ2QgRiBZLCBIOmk6cycsJGV4cCkpKTsKCQkJfQoJCX0KCgkJLy8gTWFrZSBzdXJl'));
	@fwrite($fp, base64_decode('IHRoYXQgdGhlIElBVCAoaXNzdWVkIGF0IHRpbWUpIGlzbid0IGluIGEgYmxhY2tsaXN0ZWQgdGltZWZyYW1lCgkJLy8gV2hlbiBhbiB1c2VyIGJlbGlldmVzIHRoYXQgYSB0b2tlbiB3YXMgY29tcHJvbWlzZWQsIHRoZW4gdGhleSBjYW4gYmxhY2tsaXN0IHRoZSB0'));
	@fwrite($fp, base64_decode('b2tlbnMgaWRlbnRpZmllZCBieSB0aGVpciAiaWF0IiAoIklzc3VlZCBhdCIpIHByb3BlcnR5CgkJLy8gV2hlbiBhIHVzZXIgbG9ncyBvdXQgb2YgYSB3ZWIgYnJvd3NlciBzZXNzaW9uLCB0aGUgSldUIHRva2VuIHdpbGwgYmUgYmxhY2tsaXN0ZWQgYXMgd2VsbAoJ'));
	@fwrite($fp, base64_decode('CS8vIFNtYWxsIHNpZGUgZWZmZWN0OiBBbGwgd2ViIGJyb3dzZXIgbG9naW4gc2Vzc2lvbnMgb2YgdGhhdCB1c2VyIHdpbGwgYmUgcmV2b2tlZCB0aGVuCgkJJHN1Ymxpc3QgPSAkY29udGVudFByb3ZpZGVyLT5sb2dnZWRJblJhTGlzdCgpOwoJCSR1c2VybmFtZXMg'));
	@fwrite($fp, base64_decode('PSBhcnJheSgpOwoJCWZvcmVhY2ggKCRzdWJsaXN0IGFzICRzdWIpIHsKCQkJJHVzZXJuYW1lc1tdID0gJHN1Yi0+cmFFbWFpbCgpOwoJCX0KCQlpZiAoJGhhc19hZG1pbikgJHVzZXJuYW1lc1tdID0gJ2FkbWluJzsKCQlmb3JlYWNoICgkdXNlcm5hbWVzIGFzICR1'));
	@fwrite($fp, base64_decode('c2VybmFtZSkgewoJCQkkYmxfdGltZSA9IHNlbGY6Omp3dEdldEJsYWNrbGlzdFRpbWUoJGdlbiwgJHVzZXJuYW1lKTsKCQkJaWYgKCRpYXQgPD0gJGJsX3RpbWUpIHsKCQkJCS8vIFRva2VuIGlzIGJsYWNrbGlzdGVkIChpdCB3YXMgY3JlYXRlZCBiZWZvcmUgdGhl'));
	@fwrite($fp, base64_decode('IGxhc3QgYmxhY2tsaXN0IHRpbWUpCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIEpXVCB0b2tlbiB3YXMgYmxhY2tsaXN0ZWQgb24gJTEuIFBsZWFzZSBnZW5lcmF0ZSBhIG5ldyBvbmUnLGRhdGUoJ2QgRiBZLCBIOmk6cycsJGJsX3RpbWUp'));
	@fwrite($fp, base64_decode('KSk7CgkJCX0KCQl9CgoJCS8vIE9wdGlvbmFsIGZlYXR1cmU6IExpbWl0IHRoZSBKV1QgdG8gYSBzcGVjaWZpYyBJUCBhZGRyZXNzICh1c2VkIGlmIEpXVF9GSVhFRF9JUF9VU0VSIG9yIEpXVF9GSVhFRF9JUF9BRE1JTiBpcyB0cnVlKQoJCSRpcCA9ICRjb250ZW50'));
	@fwrite($fp, base64_decode('UHJvdmlkZXItPmdldFZhbHVlKHNlbGY6OkNMQUlNX0xJTUlUX0lQLCBudWxsKTsKCQlpZiAoIWlzX251bGwoJGlwKSkgewoJCQlpZiAoaXNzZXQoJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10pICYmICgkaXAgIT09ICRfU0VSVkVSWydSRU1PVEVfQUREUiddKSkgewoJ'));
	@fwrite($fp, base64_decode('CQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1lvdXIgSVAgYWRkcmVzcyBpcyBub3QgYWxsb3dlZCB0byB1c2UgdGhpcyB0b2tlbicpKTsKCQkJfQoJCX0KCgkJLy8gQ2hlY2tzIGlmIEpXVCBhcmUgZGVwZW5kZW50IG9uIHRoZSBnZW5lcmF0b3IKCQlp'));
	@fwrite($fp, base64_decode('ZiAoIWlzX251bGwoJHZhbGlkR2VuZXJhdG9ycykpIHsKCQkJaWYgKCgkZ2VuICYgJHZhbGlkR2VuZXJhdG9ycykgPT09IDApIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGlzIGtpbmQgb2YgSldUIHRva2VuICglMSkgY2Fubm90IGJlIHVz'));
	@fwrite($fp, base64_decode('ZWQgaW4gdGhpcyByZXF1ZXN0IHR5cGUnLCBzZWxmOjpnZW5lcmF0b3JOYW1lKCRnZW4pKSk7CgkJCX0KCQl9Cgl9CgoJLy8gT3ZlcnJpZGUgYWJzdHJhY3QgZnVuY3Rpb25zCgoJLyoqCgkgKiBAdmFyIGFycmF5CgkgKi8KCXByb3RlY3RlZCAkY29udGVudCA9IGFy'));
	@fwrite($fp, base64_decode('cmF5KCk7CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRuYW1lCgkgKiBAcGFyYW0gbWl4ZWR8bnVsbCAkZGVmYXVsdAoJICogQHJldHVybiBtaXhlZHxudWxsCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRWYWx1ZShzdHJpbmcgJG5hbWUsICRkZWZhdWx0ID0gTlVM'));
	@fwrite($fp, base64_decode('TCkgewoJCXJldHVybiAkdGhpcy0+Y29udGVudFskbmFtZV0gPz8gJGRlZmF1bHQ7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRuYW1lCgkgKiBAcGFyYW0gbWl4ZWQgJHZhbHVlCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHNldFZh'));
	@fwrite($fp, base64_decode('bHVlKHN0cmluZyAkbmFtZSwgJHZhbHVlKSB7CgkJJHRoaXMtPmNvbnRlbnRbJG5hbWVdID0gJHZhbHVlOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbmFtZQoJICogQHJldHVybiBib29sCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBleGlzdHMoc3RyaW5nICRu'));
	@fwrite($fp, base64_decode('YW1lKTogYm9vbCB7CgkJcmV0dXJuIGlzc2V0KCR0aGlzLT5jb250ZW50WyRuYW1lXSk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRuYW1lCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRlbGV0ZShzdHJpbmcgJG5hbWUpIHsKCQl1'));
	@fwrite($fp, base64_decode('bnNldCgkdGhpcy0+Y29udGVudFskbmFtZV0pOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhY3RpdmF0ZSgpIHsKCQkvLyBTZW5kIGNvb2tpZSBhdCB0aGUgZW5kIG9mIHRoZSBIVFRQIHJlcXVlc3QsIGluIGNhc2UgdGhl'));
	@fwrite($fp, base64_decode('cmUgYXJlIG11bHRpcGxlIGFjdGl2YXRlKCkgY2FsbHMKCQlPSURwbHVzOjpyZWdpc3Rlcl9zaHV0ZG93bl9mdW5jdGlvbihhcnJheSgkdGhpcywnYWN0aXZhdGVOb3cnKSk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2Vw'));
	@fwrite($fp, base64_decode('dGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gYWN0aXZhdGVOb3coKSB7CgkJJHRva2VuID0gJHRoaXMtPmdldEpXVFRva2VuKCk7CgkJJGV4cCA9ICR0aGlzLT5nZXRWYWx1ZSgnZXhwJywwKTsKCQlPSURwbHVzOjpjb29raWVVdGlscygpLT5zZXRjb29raWUoc2Vs'));
	@fwrite($fp, base64_decode('Zjo6Q09PS0lFX05BTUUsICR0b2tlbiwgJGV4cCwgZmFsc2UpOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRlc3Ryb3lTZXNzaW9uKCkgewoJCU9JRHBsdXM6OmNvb2tp'));
	@fwrite($fp, base64_decode('ZVV0aWxzKCktPnVuc2V0Y29va2llKHNlbGY6OkNPT0tJRV9OQU1FKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmdbXSAkcmEgUkFzCgkgKiBAcGFyYW0gYm9vbCAkYWRtaW4gQWRtaW4geWVzIG9yIG5vPwoJICogQHBhcmFtIGludCAkZ2VuIEdlbmVyYXRvcgoJ'));
	@fwrite($fp, base64_decode('ICogQHBhcmFtIGJvb2wgJGxpbWl0X2lwIExpbWl0IElQIHRvIHRoZSBjdXJyZW50IElQIGFkZHJlc3M/CgkgKiBAcGFyYW0gaW50ICR0dGwgSG93IG1hbnkgc2Vjb25kcyB2YWxpZD8KCSAqIEByZXR1cm4gc3RyaW5nIEpXVCB0b2tlbgoJICovCglwdWJsaWMgc3Rh'));
	@fwrite($fp, base64_decode('dGljIGZ1bmN0aW9uIGNyYWZ0SldUKGFycmF5ICRyYSwgYm9vbCAkYWRtaW4sIGludCAkZ2VuLCBib29sICRsaW1pdF9pcD1mYWxzZSwgaW50ICR0dGw9MTAqMzY1KjI0KjYwKjYwKTogc3RyaW5nIHsKCQkkYXV0aFNpbXVsYXRpb24gPSBuZXcgT0lEcGx1c0F1dGhD'));
	@fwrite($fp, base64_decode('b250ZW50U3RvcmVKV1QoKTsKCQlmb3JlYWNoICgkcmEgYXMgJHVzZXJuYW1lKSB7CgkJCWlmICgkdXNlcm5hbWUgPT0gJ2FkbWluJykgY29udGludWU7CgkJCSRhdXRoU2ltdWxhdGlvbi0+cmFMb2dpbigkdXNlcm5hbWUpOwoJCX0KCQlpZiAoJGFkbWluKSAkYXV0'));
	@fwrite($fp, base64_decode('aFNpbXVsYXRpb24tPmFkbWluTG9naW4oKTsKCQkkYXV0aFNpbXVsYXRpb24tPnNldFZhbHVlKE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpDTEFJTV9HRU5FUkFUT1IsICRnZW4pOwoJCSRhdXRoU2ltdWxhdGlvbi0+c2V0VmFsdWUoJ2V4cCcsIHRpbWUoKSsk'));
	@fwrite($fp, base64_decode('dHRsKTsKCQlpZiAoJGxpbWl0X2lwICYmIGlzc2V0KCRfU0VSVkVSWydSRU1PVEVfQUREUiddKSkgewoJCQkkYXV0aFNpbXVsYXRpb24tPnNldFZhbHVlKHNlbGY6OkNMQUlNX0xJTUlUX0lQLCAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSk7CgkJfQoJCXJldHVybiAk'));
	@fwrite($fp, base64_decode('YXV0aFNpbXVsYXRpb24tPmdldEpXVFRva2VuKCk7Cgl9CgoJLy8gUkEgYXV0aGVudGljYXRpb24gZnVuY3Rpb25zIChsb3ctbGV2ZWwpCgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRlbWFpbAoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBy'));
	@fwrite($fp, base64_decode('YUxvZ2luKHN0cmluZyAkZW1haWwpIHsKCQlpZiAoJGVtYWlsID09ICdhZG1pbicpIHJldHVybjsKCgkJJGxpc3QgPSAkdGhpcy0+Z2V0VmFsdWUoc2VsZjo6Q0xBSU1fTE9HSU5fTElTVCwgbnVsbCk7CgkJaWYgKGlzX251bGwoJGxpc3QpKSAkbGlzdCA9IFtdOwoJ'));
	@fwrite($fp, base64_decode('CWlmICghaW5fYXJyYXkoJGVtYWlsLCAkbGlzdCkpICRsaXN0W10gPSAkZW1haWw7CgkJJHRoaXMtPnNldFZhbHVlKHNlbGY6OkNMQUlNX0xPR0lOX0xJU1QsICRsaXN0KTsKCX0KCgkvKioKCSAqIEByZXR1cm4gaW50CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYU51'));
	@fwrite($fp, base64_decode('bUxvZ2dlZEluKCk6IGludCB7CgkJcmV0dXJuIGNvdW50KCR0aGlzLT5sb2dnZWRJblJhTGlzdCgpKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gT0lEcGx1c1JBW10KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZ2dlZEluUmFMaXN0KCk6IGFycmF5IHsKCQkkbGlzdCA9'));
	@fwrite($fp, base64_decode('ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgoJCSRyZXMgPSBhcnJheSgpOwoJCWZvcmVhY2ggKGFycmF5X3VuaXF1ZSgkbGlzdCkgYXMgJHVzZXJuYW1lKSB7CgkJ'));
	@fwrite($fp, base64_decode('CWlmICgkdXNlcm5hbWUgPT0gJycpIGNvbnRpbnVlOyAvLyBzaG91bGQgbm90IGhhcHBlbgoJCQlpZiAoJHVzZXJuYW1lID09ICdhZG1pbicpIGNvbnRpbnVlOwoJCQkkcmVzW10gPSBuZXcgT0lEcGx1c1JBKCR1c2VybmFtZSk7CgkJfQoJCXJldHVybiAkcmVzOwoJ'));
	@fwrite($fp, base64_decode('fQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkZW1haWwKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNSYUxvZ2dlZEluKHN0cmluZyAkZW1haWwpOiBib29sIHsKCQlmb3JlYWNoICgkdGhpcy0+bG9nZ2VkSW5SYUxpc3QoKSBhcyAkcmEp'));
	@fwrite($fp, base64_decode('IHsKCQkJaWYgKCRlbWFpbCA9PSAkcmEtPnJhRW1haWwoKSkgcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGVtYWlsCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJ'));
	@fwrite($fp, base64_decode('ICovCglwdWJsaWMgZnVuY3Rpb24gcmFMb2dvdXQoc3RyaW5nICRlbWFpbCkgewoJCWlmICgkZW1haWwgPT0gJ2FkbWluJykgcmV0dXJuOwoKCQkkZ2VuID0gJHRoaXMtPmdldFZhbHVlKHNlbGY6OkNMQUlNX0dFTkVSQVRPUiwgLTEpOwoJCWlmICgkZ2VuID49IDAp'));
	@fwrite($fp, base64_decode('IHNlbGY6Omp3dEJsYWNrbGlzdCgkZ2VuLCAkZW1haWwpOwoKCQkkbGlzdCA9ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgkJJGtleSA9IGFycmF5X3NlYXJjaCgk'));
	@fwrite($fp, base64_decode('ZW1haWwsICRsaXN0KTsKCQlpZiAoJGtleSAhPT0gZmFsc2UpIHVuc2V0KCRsaXN0WyRrZXldKTsKCQkkdGhpcy0+c2V0VmFsdWUoc2VsZjo6Q0xBSU1fTE9HSU5fTElTVCwgJGxpc3QpOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkZW1haWwKCSAqIEBwYXJh'));
	@fwrite($fp, base64_decode('bSBzdHJpbmcgJGxvZ2luZm8KCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYUxvZ291dEV4KHN0cmluZyAkZW1haWwsIHN0cmluZyAmJGxvZ2luZm8pIHsKCQkkdGhpcy0+cmFMb2dvdXQo'));
	@fwrite($fp, base64_decode('JGVtYWlsKTsKCQkkbG9naW5mbyA9ICdmcm9tIEpXVCBzZXNzaW9uJzsKCX0KCgkvLyBBZG1pbiBhdXRoZW50aWNhdGlvbiBmdW5jdGlvbnMgKGxvdy1sZXZlbCkKCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gYWRtaW5Mb2dpbigp'));
	@fwrite($fp, base64_decode('IHsKCQkkbGlzdCA9ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgkJaWYgKCFpbl9hcnJheSgnYWRtaW4nLCAkbGlzdCkpICRsaXN0W10gPSAnYWRtaW4nOwoJCSR0'));
	@fwrite($fp, base64_decode('aGlzLT5zZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCAkbGlzdCk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzQWRtaW5Mb2dnZWRJbigpOiBib29sIHsKCQkkbGlzdCA9ICR0aGlzLT5nZXRWYWx1ZShzZWxm'));
	@fwrite($fp, base64_decode('OjpDTEFJTV9MT0dJTl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgkJcmV0dXJuIGluX2FycmF5KCdhZG1pbicsICRsaXN0KTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhZG1pbkxvZ291dCgpIHsKCQkkZ2VuID0gJHRoaXMtPmdldFZhbHVlKHNlbGY6OkNMQUlNX0dFTkVSQVRPUiwgLTEpOwoJCWlmICgkZ2VuID49IDApIHNlbGY6Omp3dEJsYWNrbGlzdCgkZ2VuLCAnYWRtaW4nKTsKCgkJJGxp'));
	@fwrite($fp, base64_decode('c3QgPSAkdGhpcy0+Z2V0VmFsdWUoc2VsZjo6Q0xBSU1fTE9HSU5fTElTVCwgbnVsbCk7CgkJaWYgKGlzX251bGwoJGxpc3QpKSAkbGlzdCA9IFtdOwoJCSRrZXkgPSBhcnJheV9zZWFyY2goJ2FkbWluJywgJGxpc3QpOwoJCWlmICgka2V5ICE9PSBmYWxzZSkgdW5z'));
	@fwrite($fp, base64_decode('ZXQoJGxpc3RbJGtleV0pOwoJCSR0aGlzLT5zZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCAkbGlzdCk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRsb2dpbmZvCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJ'));
	@fwrite($fp, base64_decode('ICovCglwdWJsaWMgZnVuY3Rpb24gYWRtaW5Mb2dvdXRFeChzdHJpbmcgJiRsb2dpbmZvKSB7CgkJJHRoaXMtPmFkbWluTG9nb3V0KCk7CgkJJGxvZ2luZm8gPSAnZnJvbSBKV1Qgc2Vzc2lvbic7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJGNvbnRlbnRQcm92aWRlciA9'));
	@fwrite($fp, base64_decode('IG51bGw7CgoJLyoqCgkgKiBAcmV0dXJuIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUfG51bGwKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFjdGl2ZVByb3ZpZGVyKCkvKjogP09JRHBsdXNBdXRo'));
	@fwrite($fp, base64_decode('Q29udGVudFN0b3JlSldUKi8gewoJCWlmICghc2VsZjo6JGNvbnRlbnRQcm92aWRlcikgewoKCQkJJHRtcCA9IG51bGw7CgkJCSRzaWxlbnRfZXJyb3IgPSBmYWxzZTsKCgkJCXRyeSB7CgoJCQkJJHJlbF91cmwgPSBzdWJzdHIoJF9TRVJWRVJbJ1JFUVVFU1RfVVJJ'));
	@fwrite($fp, base64_decode('J10sIHN0cmxlbihPSURwbHVzOjp3ZWJwYXRoKG51bGwsIE9JRHBsdXM6OlBBVEhfUkVMQVRJVkVfVE9fUk9PVCkpKTsKCQkJCWlmIChzdHJfc3RhcnRzX3dpdGgoJHJlbF91cmwsICdyZXN0LycpKSB7IC8vIDw9PSBUT0RPOiBGaW5kIGEgd2F5IGhvdyB0byBtb3Zl'));
	@fwrite($fp, base64_decode('IHRoaXMgaW50byB0aGUgcGx1Z2luLCBzaW5jZSBSRVNUIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgY29yZS4KCgkJCQkJLy8gUkVTVCBtYXkgb25seSB1c2UgQmVhcmVyIEF1dGhlbnRpY2F0aW9uCgkJCQkJJGJlYXJlciA9IGdldEJlYXJlclRva2VuKCk7CgkJCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCFpc19udWxsKCRiZWFyZXIpKSB7CgkJCQkJCSRzaWxlbnRfZXJyb3IgPSBmYWxzZTsKCQkJCQkJJHRtcCA9IG5ldyBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCgpOwoJCQkJCQkkdG1wLT5sb2FkSldUKCRiZWFyZXIpOwoJCQkJCQlzZWxmOjpqd3RTZWN1'));
	@fwrite($fp, base64_decode('cml0eUNoZWNrKCR0bXAsIHNlbGY6OkpXVF9HRU5FUkFUT1JfUkVTVCB8IHNlbGY6OkpXVF9HRU5FUkFUT1JfTUFOVUFMKTsKCQkJCQl9CgoJCQkJfSBlbHNlIHsKCgkJCQkJLy8gQSB3ZWItdmlzaXRvciAoSFRNTCBhbmQgQUpBWCwgYnV0IG5vdCBSRVNUKSBjYW4g'));
	@fwrite($fp, base64_decode('dXNlIGEgSldUIENvb2tpZQoJCQkJCWlmIChpc3NldCgkX0NPT0tJRVtzZWxmOjpDT09LSUVfTkFNRV0pKSB7CgkJCQkJCSRzaWxlbnRfZXJyb3IgPSB0cnVlOwoJCQkJCQkkdG1wID0gbmV3IE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUKCk7CgkJCQkJCSR0bXAt'));
	@fwrite($fp, base64_decode('PmxvYWRKV1QoJF9DT09LSUVbc2VsZjo6Q09PS0lFX05BTUVdKTsKCQkJCQkJc2VsZjo6and0U2VjdXJpdHlDaGVjaygkdG1wLCBzZWxmOjpKV1RfR0VORVJBVE9SX0xPR0lOIHwgc2VsZjo6SldUX0dFTkVSQVRPUl9NQU5VQUwpOwoJCQkJCX0KCgkJCQkJLy8gQUpB'));
	@fwrite($fp, base64_decode('WCBtYXkgYWRkaXRpb25hbGx5IHVzZSBHRVQvUE9TVCBhdXRvbWF0ZWQgQUpBWCAoaW4gYWRkaXRpb24gdG8gdGhlIG5vcm1hbCB3ZWIgYnJvd3NlciBsb2dpbiBDb29raWUpCgkJCQkJaWYgKGlzc2V0KCRfU0VSVkVSWydTQ1JJUFRfRklMRU5BTUUnXSkgJiYgKHN0'));
	@fwrite($fp, base64_decode('cnRvbG93ZXIoYmFzZW5hbWUoJF9TRVJWRVJbJ1NDUklQVF9GSUxFTkFNRSddKSkgIT09ICdhamF4LnBocCcpKSB7CgkJCQkJCWlmIChpc3NldCgkX1BPU1Rbc2VsZjo6Q09PS0lFX05BTUVdKSkgewoJCQkJCQkJJHNpbGVudF9lcnJvciA9IGZhbHNlOwoJCQkJCQkJ'));
	@fwrite($fp, base64_decode('JHRtcCA9IG5ldyBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCgpOwoJCQkJCQkJJHRtcC0+bG9hZEpXVCgkX1BPU1Rbc2VsZjo6Q09PS0lFX05BTUVdKTsKCQkJCQkJCXNlbGY6Omp3dFNlY3VyaXR5Q2hlY2soJHRtcCwgc2VsZjo6SldUX0dFTkVSQVRPUl9BSkFY'));
	@fwrite($fp, base64_decode('IHwgc2VsZjo6SldUX0dFTkVSQVRPUl9NQU5VQUwpOwoJCQkJCQl9CgkJCQkJCWlmIChpc3NldCgkX0dFVFtzZWxmOjpDT09LSUVfTkFNRV0pKSB7CgkJCQkJCQkkc2lsZW50X2Vycm9yID0gZmFsc2U7CgkJCQkJCQkkdG1wID0gbmV3IE9JRHBsdXNBdXRoQ29udGVu'));
	@fwrite($fp, base64_decode('dFN0b3JlSldUKCk7CgkJCQkJCQkkdG1wLT5sb2FkSldUKCRfR0VUW3NlbGY6OkNPT0tJRV9OQU1FXSk7CgkJCQkJCQlzZWxmOjpqd3RTZWN1cml0eUNoZWNrKCR0bXAsIHNlbGY6OkpXVF9HRU5FUkFUT1JfQUpBWCB8IHNlbGY6OkpXVF9HRU5FUkFUT1JfTUFOVUFM'));
	@fwrite($fp, base64_decode('KTsKCQkJCQkJfQoJCQkJCX0KCgkJCQl9CgoJCQl9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgkJCQlpZiAoISRzaWxlbnRfZXJyb3IgfHwgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREVCVUcnLGZhbHNlKSkgewoJCQkJCS8vIE1vc3QgbGlrZWx5'));
	@fwrite($fp, base64_decode('IGFuIEFKQVggcmVxdWVzdC4gV2UgY2FuIHRocm93IGFuIEV4Y2VwdGlvbgoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGUgSldUIHRva2VuIHdhcyByZWplY3RlZDogJTEnLCRlLT5nZXRNZXNzYWdlKCkpKTsKCQkJCX0gZWxzZSB7CgkJCQkJ'));
	@fwrite($fp, base64_decode('Ly8gTW9zdCBsaWtlbHkgYW4gZXhwaXJlZCBDb29raWUvTG9naW4gc2Vzc2lvbi4gV2UgbXVzdCBub3QgdGhyb3cgYW4gRXhjZXB0aW9uLCBvdGhlcndpc2Ugd2Ugd2lsbCBicmVhayBqc1RyZWUKCQkJCQlPSURwbHVzOjpjb29raWVVdGlscygpLT51bnNldGNvb2tp'));
	@fwrite($fp, base64_decode('ZShzZWxmOjpDT09LSUVfTkFNRSk7CgkJCQkJcmV0dXJuIG51bGw7CgkJCQl9CgkJCX0KCgkJCXNlbGY6OiRjb250ZW50UHJvdmlkZXIgPSAkdG1wOwoJCX0KCgkJcmV0dXJuIHNlbGY6OiRjb250ZW50UHJvdmlkZXI7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5n'));
	@fwrite($fp, base64_decode('ICRlbWFpbAoJICogQHBhcmFtIHN0cmluZyAkbG9naW5mbwoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJhTG9naW5FeChzdHJpbmcgJGVtYWlsLCBzdHJpbmcgJiRsb2dpbmZvKSB7CgkJ'));
	@fwrite($fp, base64_decode('aWYgKGlzX251bGwoc2VsZjo6Z2V0QWN0aXZlUHJvdmlkZXIoKSkpIHsKCQkJJGxvZ2luZm8gPSAnaW50byBuZXcgSldUIHNlc3Npb24nOwoJCQlzZWxmOjokY29udGVudFByb3ZpZGVyID0gJHRoaXM7CgkJfSBlbHNlIHsKCQkJJGdlbiA9ICR0aGlzLT5nZXRWYWx1'));
	@fwrite($fp, base64_decode('ZShzZWxmOjpDTEFJTV9HRU5FUkFUT1IsLTEpOwoJCQlzd2l0Y2ggKCRnZW4pIHsKCQkJCWNhc2UgT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1Q6OkpXVF9HRU5FUkFUT1JfQUpBWCA6CgkJCQljYXNlIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VO'));
	@fwrite($fp, base64_decode('RVJBVE9SX1JFU1QgOgoJCQkJY2FzZSBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl9NQU5VQUwgOgoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGlzIGtpbmQgb2YgSldUIHRva2VuIGNhbm5vdCBiZSBhbHRlcmVk'));
	@fwrite($fp, base64_decode('LiBUaGVyZWZvcmUgeW91IGNhbm5vdCBkbyB0aGlzIGFjdGlvbi4nKSk7CgkJCQljYXNlIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VORVJBVE9SX0xPR0lOIDoKCQkJCQlpZiAoIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0pXVF9B'));
	@fwrite($fp, base64_decode('TExPV19MT0dJTl9VU0VSJywgdHJ1ZSkpIHsKCQkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhZG1pbmlzdHJhdG9yIGhhcyBkaXNhYmxlZCB0aGlzIGZlYXR1cmUuIChCYXNlIGNvbmZpZ3VyYXRpb24gc2V0dGluZyAlMSkuJywnSldUX0FM'));
	@fwrite($fp, base64_decode('TE9XX0xPR0lOX1VTRVInKSk7CgkJCQkJfQoJCQkJCWJyZWFrOwoJCQkJZGVmYXVsdDoKCQkJCQlhc3NlcnQoZmFsc2UpOyAvLyBUaGlzIGNhbm5vdCBoYXBwZW4gYmVjYXVzZSBqd3RTZWN1cml0eUNoZWNrIHdpbGwgY2hlY2sgZm9yIHVua25vd24gZ2VuZXJhdG9y'));
	@fwrite($fp, base64_decode('cwoJCQkJCWJyZWFrOwoJCQl9CgkJCSRsb2dpbmZvID0gJ2ludG8gZXhpc3RpbmcgSldUIHNlc3Npb24nOwoJCX0KCQkkdGhpcy0+cmFMb2dpbigkZW1haWwpOwoJCSR0dGwgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfVFRMX0xPR0lOX1VT'));
	@fwrite($fp, base64_decode('RVInLCAzMCoyNCo2MCo2MCk7CgkJJHRoaXMtPnNldFZhbHVlKCdleHAnLCB0aW1lKCkrJHR0bCk7IC8vIEpXVCAiZXhwIiBhdHRyaWJ1dGUKCQlpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnSldUX0ZJWEVEX0lQX1VTRVInLCBmYWxzZSkgJiYg'));
	@fwrite($fp, base64_decode('aXNzZXQoJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10pKSB7CgkJCSR0aGlzLT5zZXRWYWx1ZShzZWxmOjpDTEFJTV9MSU1JVF9JUCwgJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10pOwoJCX0KCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGxvZ2luZm8KCSAqIEByZXR1'));
	@fwrite($fp, base64_decode('cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhZG1pbkxvZ2luRXgoc3RyaW5nICYkbG9naW5mbykgewoJCWlmIChpc19udWxsKHNlbGY6OmdldEFjdGl2ZVByb3ZpZGVyKCkpKSB7CgkJCSRsb2dpbmZvID0g'));
	@fwrite($fp, base64_decode('J2ludG8gbmV3IEpXVCBzZXNzaW9uJzsKCQkJc2VsZjo6JGNvbnRlbnRQcm92aWRlciA9ICR0aGlzOwoJCX0gZWxzZSB7CgkJCSRnZW4gPSAkdGhpcy0+Z2V0VmFsdWUoc2VsZjo6Q0xBSU1fR0VORVJBVE9SLC0xKTsKCQkJc3dpdGNoICgkZ2VuKSB7CgkJCQljYXNl'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VORVJBVE9SX0FKQVggOgoJCQkJY2FzZSBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl9SRVNUIDoKCQkJCWNhc2UgT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1Q6OkpXVF9H'));
	@fwrite($fp, base64_decode('RU5FUkFUT1JfTUFOVUFMIDoKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhpcyBraW5kIG9mIEpXVCB0b2tlbiBjYW5ub3QgYmUgYWx0ZXJlZC4gVGhlcmVmb3JlIHlvdSBjYW5ub3QgZG8gdGhpcyBhY3Rpb24uJykpOwoJCQkJY2FzZSBPSURw'));
	@fwrite($fp, base64_decode('bHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl9MT0dJTiA6CgkJCQkJaWYgKCFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfQUxMT1dfTE9HSU5fQURNSU4nLCB0cnVlKSkgewoJCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2Vw'));
	@fwrite($fp, base64_decode('dGlvbihfTCgnVGhlIGFkbWluaXN0cmF0b3IgaGFzIGRpc2FibGVkIHRoaXMgZmVhdHVyZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfTE9HSU5fQURNSU4nKSk7CgkJCQkJfQoJCQkJCWJyZWFrOwoJCQkJZGVmYXVsdDoKCQkJ'));
	@fwrite($fp, base64_decode('CQlhc3NlcnQoZmFsc2UpOyAvLyBUaGlzIGNhbm5vdCBoYXBwZW4gYmVjYXVzZSBqd3RTZWN1cml0eUNoZWNrIHdpbGwgY2hlY2sgZm9yIHVua25vd24gZ2VuZXJhdG9ycwoJCQkJCWJyZWFrOwoJCQl9CgkJCSRsb2dpbmZvID0gJ2ludG8gZXhpc3RpbmcgSldUIHNl'));
	@fwrite($fp, base64_decode('c3Npb24nOwoJCX0KCQkkdGhpcy0+YWRtaW5Mb2dpbigpOwoJCSR0dGwgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfVFRMX0xPR0lOX0FETUlOJywgMzAqMjQqNjAqNjApOwoJCSR0aGlzLT5zZXRWYWx1ZSgnZXhwJywgdGltZSgpKyR0dGwp'));
	@fwrite($fp, base64_decode('OyAvLyBKV1QgImV4cCIgYXR0cmlidXRlCgkJaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0pXVF9GSVhFRF9JUF9BRE1JTicsIGZhbHNlKSAmJiBpc3NldCgkX1NFUlZFUlsnUkVNT1RFX0FERFInXSkpIHsKCQkJJHRoaXMtPnNldFZhbHVlKHNl'));
	@fwrite($fp, base64_decode('bGY6OkNMQUlNX0xJTUlUX0lQLCAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSk7CgkJfQoJfQoKCS8vIEluZGl2aWR1YWwgZnVuY3Rpb25zCgoJLyoqCgkgKiBEZWNvZGUgdGhlIEpXVC4gSW4gdGhpcyBzdGVwLCB0aGUgc2lnbmF0dXJlIGFzIHdlbGwgYXMgRVhQL05C'));
	@fwrite($fp, base64_decode('RiB0aW1lcyB3aWxsIGJlIGNoZWNrZWQKCSAqIEBwYXJhbSBzdHJpbmcgJGp3dAoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvYWRKV1Qoc3RyaW5nICRqd3QpIHsKCQlcRmlyZWJhc2Vc'));
	@fwrite($fp, base64_decode('SldUXEpXVDo6JGxlZXdheSA9IDYwOyAvLyBsZWV3YXkgaW4gc2Vjb25kcwoJCWlmIChPSURwbHVzOjpnZXRQa2lTdGF0dXMoKSkgewoJCQkkcHViS2V5ID0gT0lEcGx1czo6Z2V0U3lzdGVtUHVibGljS2V5KCk7CgkJCSRrID0gbmV3IFxGaXJlYmFzZVxKV1RcS2V5'));
	@fwrite($fp, base64_decode('KCRwdWJLZXksICdSUzI1NicpOyAvLyBSU0ErU0hBMjU2IGlzIGhhcmRjb2RlZCBpbiBnZXRQa2lTdGF0dXMoKSBnZW5lcmF0aW9uCgkJCSR0aGlzLT5jb250ZW50ID0gKGFycmF5KSBcRmlyZWJhc2VcSldUXEpXVDo6ZGVjb2RlKCRqd3QsICRrKTsKCQl9IGVsc2Ug'));
	@fwrite($fp, base64_decode('ewoJCQkka2V5ID0gT0lEcGx1czo6YXV0aFV0aWxzKCktPm1ha2VTZWNyZXQoWycwYmUzNWU1Mi1mNGVmLTExZWQtYjY3ZS0zYzRhOTJkZjg1ODInXSk7CgkJCSRrZXkgPSBoYXNoX3Bia2RmMignc2hhNTEyJywgJGtleSwgJycsIDEwMDAwLCAzMi8qMjU2Yml0Ki8s'));
	@fwrite($fp, base64_decode('IGZhbHNlKTsKCQkJJGsgPSBuZXcgXEZpcmViYXNlXEpXVFxLZXkoJGtleSwgJ0hTNTEyJyk7IC8vIEhNQUMrU0hBNTEyIGlzIGhhcmRjb2RlZCBoZXJlCgkJCSR0aGlzLT5jb250ZW50ID0gKGFycmF5KSBcRmlyZWJhc2VcSldUXEpXVDo6ZGVjb2RlKCRqd3QsICRr'));
	@fwrite($fp, base64_decode('KTsKCQl9Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRKV1RUb2tlbigpOiBzdHJpbmcgewoJCSRwYXlsb2FkID0gJHRoaXMtPmNvbnRlbnQ7CgkJJHBheWxvYWRb'));
	@fwrite($fp, base64_decode('c2VsZjo6Q0xBSU1fU1NIXSA9IHNlbGY6OmdldFNzaCgpOyAvLyBTU0ggPSBTZXJ2ZXIgU2VjcmV0IEhhc2gKCQkvLyBzZWUgYWxzbyBodHRwczovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9qd3Qvand0LnhodG1sI2NsYWltcyBmb3Igc29tZSBnZW5lcmljIGNs'));
	@fwrite($fp, base64_decode('YWltcwoJCSRwYXlsb2FkWyJpc3MiXSA9IE9JRHBsdXM6OmdldEVkaXRpb25JbmZvKClbJ2p3dGF1ZCddOyAvLyBzaWM6IGp3dGF1ZAoJCSRwYXlsb2FkWyJhdWQiXSA9IE9JRHBsdXM6OmdldEVkaXRpb25JbmZvKClbJ2p3dGF1ZCddOwoJCSRwYXlsb2FkWyJqdGki'));
	@fwrite($fp, base64_decode('XSA9IGdlbl91dWlkKCk7CgkJJHBheWxvYWRbImlhdCJdID0gdGltZSgpOwoJCWlmICghaXNzZXQoJHBheWxvYWRbIm5iZiJdKSkgJHBheWxvYWRbIm5iZiJdID0gdGltZSgpOwoJCWlmICghaXNzZXQoJHBheWxvYWRbImV4cCJdKSkgJHBheWxvYWRbImV4cCJdID0g'));
	@fwrite($fp, base64_decode('dGltZSgpKzM2MDAvKjFoKi87CgoJCWlmICghaXNzZXQoJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdKSkgewoJCQkvLyAiVHJhY2UiIGNhbiBiZSB1c2VkIGZvciBsYXRlciB1cGRhdGVzCgkJCS8vIEZvciBleGFtcGxlLCBpZiB0aGUgSVAgY2hhbmdlcyAidG9v'));
	@fwrite($fp, base64_decode('IG11Y2giIChkaWZmZXJlbnQgY291bnRyeSwgZGlmZmVyZW50IEFTLCBldGMuKQoJCQkvLyBPciByZXZva2UgYWxsIHRva2VucyBmcm9tIGEgc2luZ2xlIGxvZ2luIGZsb3cgKHNlcXVlbmNlIDEsIDIsIDMsIC4uLikKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJB'));
	@fwrite($fp, base64_decode('Q0VdID0gYXJyYXkoKTsKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWydpYXRfMXN0J10gPSAkcGF5bG9hZFsiaWF0Il07CgkJCSRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsnanRpXzFzdCddID0gJHBheWxvYWRbImp0aSJdOwoJCQkkcGF5bG9hZFtz'));
	@fwrite($fp, base64_decode('ZWxmOjpDTEFJTV9UUkFDRV1bJ3NlcSddID0gMTsKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWydpcCddID0gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10gPz8gJyc7CgkJCSRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsnaXBfMXN0J10gPSAkcGF5bG9h'));
	@fwrite($fp, base64_decode('ZFtzZWxmOjpDTEFJTV9UUkFDRV1bJ2lwJ107CgkJCSRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsndWEnXSA9ICRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSA/PyAnJzsKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWyd1YV8xc3QnXSA9ICRwYXls'));
	@fwrite($fp, base64_decode('b2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsndWEnXTsKCQl9IGVsc2UgewoJCQlhc3NlcnQoaXNfbnVtZXJpYygkcGF5bG9hZFtzZWxmOjpDTEFJTV9UUkFDRV1bJ3NlcSddKSk7CgkJCSRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsnc2VxJ10rKzsKCQkJJHBheWxv'));
	@fwrite($fp, base64_decode('YWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWydpcCddID0gJF9TRVJWRVJbJ1JFTU9URV9BRERSJ10gPz8gJyc7CgkJCSRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsndWEnXSA9ICRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSA/PyAnJzsKCQl9CgoJCXVrc29ydCgk'));
	@fwrite($fp, base64_decode('cGF5bG9hZCwgInN0cm5hdGNtcCIpOyAvLyB0aGlzIGlzIG5hdHNvcnQgb24gdGhlIGtleS4gSnVzdCB0byBtYWtlIHRoZSBKV1QgbG9vayBuaWNlci4KCgkJaWYgKE9JRHBsdXM6OmdldFBraVN0YXR1cygpKSB7CgkJCSRwcml2S2V5ID0gT0lEcGx1czo6Z2V0U3lz'));
	@fwrite($fp, base64_decode('dGVtUHJpdmF0ZUtleSgpOwoJCQlyZXR1cm4gXEZpcmViYXNlXEpXVFxKV1Q6OmVuY29kZSgkcGF5bG9hZCwgJHByaXZLZXksICdSUzI1NicpOyAvLyBSU0ErU0hBMjU2IGlzIGhhcmRjb2RlZCBpbiBnZXRQa2lTdGF0dXMoKSBnZW5lcmF0aW9uCgkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJJGtleSA9IE9JRHBsdXM6OmF1dGhVdGlscygpLT5tYWtlU2VjcmV0KFsnMGJlMzVlNTItZjRlZi0xMWVkLWI2N2UtM2M0YTkyZGY4NTgyJ10pOwoJCQkka2V5ID0gaGFzaF9wYmtkZjIoJ3NoYTUxMicsICRrZXksICcnLCAxMDAwMCwgMzIvKjI1NmJpdCovLCBm'));
	@fwrite($fp, base64_decode('YWxzZSk7CgkJCXJldHVybiBcRmlyZWJhc2VcSldUXEpXVDo6ZW5jb2RlKCRwYXlsb2FkLCAka2V5LCAnSFM1MTInKTsgLy8gSE1BQytTSEE1MTIgaXMgaGFyZGNvZGVkIGhlcmUKCQl9Cgl9Cgp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusAuthContentStoreJWT.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusAuthContentStoreJWT.class.php');
	writefile_1();
	if (!is_file('includes/classes/OIDplusAuthContentStoreJWT.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusAuthContentStoreJWT.class.php');
	} else if (sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') != '49cf91f95d71060d9c689b56c7f09bbaccb64901') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusAuthContentStoreJWT.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusAuthContentStoreJWT.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusAuthContentStoreJWT.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') !== '49cf91f95d71060d9c689b56c7f09bbaccb64901') {
		if (@sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') !== '028927c3eae9e7f822413bd2714e4847240c6a89') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusAuthContentStoreJWT.class.php');
			$tmp = pathinfo('includes/classes/OIDplusAuthContentStoreJWT.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusAuthContentStoreJWT.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusAuthContentStoreJWT.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') !== '49cf91f95d71060d9c689b56c7f09bbaccb64901') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusAuthContentStoreJWT.class.php');
		}
	}
}

// Files different: includes/classes/OIDplusAuthUtils.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplusAuthUtils.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c0F1dGhVdGlscyBleHRlbmRzIE9JRHBsdXNCYXNlQ2xhc3MgewoKCS8vIFVzZWZ1bCBmdW5jdGlvbnMKCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJHBhc3N3b3JkCgkg'));
	@fwrite($fp, base64_decode('KiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gcmFQZXBwZXJQcm9jZXNzaW5nKHN0cmluZyAkcGFzc3dvcmQpOiBzdHJpbmcgewoJCS8vIEFkZGl0aW9uYWwgZmVhdHVyZTogUGVwcGVyCgkJ'));
	@fwrite($fp, base64_decode('Ly8gVGhlIHBlcHBlciBpcyBzdG9yZWQgaW5zaWRlIHRoZSBiYXNlIGNvbmZpZ3VyYXRpb24gZmlsZQoJCS8vIEl0IHByZXZlbnRzIHRoYXQgYW4gYXR0YWNrZXIgd2l0aCBTUUwgd3JpdGUgcmlnaHRzIGNhbgoJCS8vIGNyZWF0ZSBhY2NvdW50cy4KCQkvLyBBVFRF'));
	@fwrite($fp, base64_decode('TlRJT04hISEgSWYgYSBwZXBwZXIgaXMgdXNlZCwgdGhlbiB0aGUKCQkvLyBoYXNoZXMgYXJlIGJvdW5kIHRvIHRoYXQgcGVwcGVyLiBJZiB5b3UgY2hhbmdlIHRoZSBwZXBwZXIsCgkJLy8gdGhlbiBBTEwgcGFzc3dvcmRzIG9mIFJBcyBiZWNvbWUgSU5WQUxJRCEK'));
	@fwrite($fp, base64_decode('CQkkcGVwcGVyID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkFfUEFTU1dPUkRfUEVQUEVSJywnJyk7CgkJaWYgKCRwZXBwZXIgIT09ICcnKSB7CgkJCSRhbGdvID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkFfUEFTU1dPUkRf'));
	@fwrite($fp, base64_decode('UEVQUEVSX0FMR08nLCdzaGE1MTInKTsgLy8gc2hhNTEyIHdvcmtzIHdpdGggUEhQIDcuMAoJCQlpZiAoc3RydG9sb3dlcigkYWxnbykgPT09ICdzaGEzLTUxMicpIHsKCQkJCSRobWFjID0gc2hhM181MTJfaG1hYygkcGFzc3dvcmQsICRwZXBwZXIpOwoJCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCQkJJGhtYWMgPSBoYXNoX2htYWMoJGFsZ28sICRwYXNzd29yZCwgJHBlcHBlcik7CgkJCX0KCQkJaWYgKCRobWFjID09PSAiIikgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0hNQUMgZmFpbGVkJykpOwoJCQlyZXR1cm4gJGhtYWM7CgkJfSBl'));
	@fwrite($fp, base64_decode('bHNlIHsKCQkJcmV0dXJuICRwYXNzd29yZDsKCQl9Cgl9CgoJLy8gQ29udGVudCBwcm92aWRlcgoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0aE1ldGhvZCgpOiBz'));
	@fwrite($fp, base64_decode('dHJpbmcgewoJCSRhY3MgPSAkdGhpcy0+Z2V0QXV0aENvbnRlbnRTdG9yZSgpOwoJCWlmIChpc19udWxsKCRhY3MpKSByZXR1cm4gJ251bGwnOwoJCXJldHVybiBnZXRfY2xhc3MoJGFjcyk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIE9JRHBsdXNBdXRoQ29udGVudFN0'));
	@fwrite($fp, base64_decode('b3JlSldUfG51bGwKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwcm90ZWN0ZWQgZnVuY3Rpb24gZ2V0QXV0aENvbnRlbnRTdG9yZSgpLyo6ID9PSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCovIHsKCQkvLyBTaXRlbWFwIG1heSBub3QgbWFrZSB1'));
	@fwrite($fp, base64_decode('c2Ugb2YgYW55IGxvZ2luL2xvZ291dCBzdGF0ZQoJCWlmICgkdGhpcy0+Zm9yY2VBbGxMb2dnZWRPdXQoKSkgcmV0dXJuIG51bGw7CgoJCS8vIExvZ2dlZCBpbiB2aWEgSldUCgkJLy8gKFRoZSBKV1QgY2FuIGNvbWUgZnJvbSBhIGxvZ2luIGNvb2tpZSwgYW4gUkVT'));
	@fwrite($fp, base64_decode('VCBBdXRoZW50aWNhdGlvbiBCZWFyZXIsIGFuIEFKQVggQ29va2llLCBvciBhbiBBdXRvbWF0ZWQgQUpBWCBDYWxsIEdFVC9QT1NUIHRva2VuLikKCQkkdG1wID0gT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1Q6OmdldEFjdGl2ZVByb3ZpZGVyKCk7CgkJaWYgKCR0'));
	@fwrite($fp, base64_decode('bXApIHJldHVybiAkdG1wOwoKCQkvLyBObyBhY3RpdmUgc2Vzc2lvbiBhbmQgbm8gSldUIHRva2VuIGF2YWlsYWJsZS4gVXNlciBpcyBub3QgbG9nZ2VkIGluLgoJCXJldHVybiBudWxsOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbmFtZQoJICogQHBhcmFt'));
	@fwrite($fp, base64_decode('IG1peGVkfG51bGwgJGRlZmF1bHQKCSAqIEByZXR1cm4gbWl4ZWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0RXh0ZW5kZWRBdHRyaWJ1dGUoc3RyaW5nICRuYW1lLCAkZGVmYXVsdD1OVUxMKSB7CgkJJGFjcyA9'));
	@fwrite($fp, base64_decode('ICR0aGlzLT5nZXRBdXRoQ29udGVudFN0b3JlKCk7CgkJaWYgKGlzX251bGwoJGFjcykpIHJldHVybiAkZGVmYXVsdDsKCQlyZXR1cm4gJGFjcy0+Z2V0VmFsdWUoJG5hbWUsICRkZWZhdWx0KTsKCX0KCgkvLyBSQSBhdXRoZW50aWNhdGlvbiBmdW5jdGlvbnMKCgkv'));
	@fwrite($fp, base64_decode('KioKCSAqICJMb3cgbGV2ZWwiIG1ldGhvZCBmb3IgUkEgTG9naW4KCSAqIEBwYXJhbSBzdHJpbmcgJGVtYWlsCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gcmFMb2dpbihzdHJpbmcgJGVt'));
	@fwrite($fp, base64_decode('YWlsKSB7CgkJJGFjcyA9ICR0aGlzLT5nZXRBdXRoQ29udGVudFN0b3JlKCk7CgkJaWYgKGlzX251bGwoJGFjcykpIHJldHVybjsKCQkkYWNzLT5yYUxvZ2luKCRlbWFpbCk7Cgl9CgoJLyoqCgkgKiAiTG93IGxldmVsIiBtZXRob2QgZm9yIFJBIExvZ291dAoJICog'));
	@fwrite($fp, base64_decode('QHBhcmFtIHN0cmluZyAkZW1haWwKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYUxvZ291dChzdHJpbmcgJGVtYWlsKSB7CgkJJGFjcyA9ICR0aGlzLT5nZXRBdXRoQ29udGVudFN0b3Jl'));
	@fwrite($fp, base64_decode('KCk7CgkJaWYgKGlzX251bGwoJGFjcykpIHJldHVybjsKCQkkYWNzLT5yYUxvZ291dCgkZW1haWwpOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkcmFfZW1haWwKCSAqIEBwYXJhbSBzdHJpbmcgJHBhc3N3b3JkCgkgKiBAcmV0dXJuIGJvb2wKCSAqIEB0aHJv'));
	@fwrite($fp, base64_decode('d3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gcmFDaGVja1Bhc3N3b3JkKHN0cmluZyAkcmFfZW1haWwsIHN0cmluZyAkcGFzc3dvcmQpOiBib29sIHsKCQkkcmEgPSBuZXcgT0lEcGx1c1JBKCRyYV9lbWFpbCk7CgoJCS8vIEdldCBSQSBp'));
	@fwrite($fp, base64_decode('bmZvIGZyb20gUkEKCQkkYXV0aEluZm8gPSAkcmEtPmdldEF1dGhJbmZvKCk7CgkJaWYgKCEkYXV0aEluZm8pIHJldHVybiBmYWxzZTsgLy8gdXNlciBub3QgZm91bmQKCgkJLy8gQXNrIHBsdWdpbnMgaWYgdGhleSBjYW4gdmVyaWZ5IHRoaXMgaGFzaAoJCSRwbHVn'));
	@fwrite($fp, base64_decode('aW5zID0gT0lEcGx1czo6Z2V0QXV0aFBsdWdpbnMoKTsKCQlpZiAoY291bnQoJHBsdWdpbnMpID09IDApIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ05vIFJBIGF1dGhlbnRpY2F0aW9uIHBsdWdpbnMgZm91bmQnKSk7CgkJfQoJCWZvcmVhY2gg'));
	@fwrite($fp, base64_decode('KCRwbHVnaW5zIGFzICRwbHVnaW4pIHsKCQkJaWYgKCRwbHVnaW4tPnZlcmlmeSgkYXV0aEluZm8sICR0aGlzLT5yYVBlcHBlclByb2Nlc3NpbmcoJHBhc3N3b3JkKSkpIHJldHVybiB0cnVlOwoJCX0KCgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICogQHJldHVy'));
	@fwrite($fp, base64_decode('biBpbnQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gcmFOdW1Mb2dnZWRJbigpOiBpbnQgewoJCSRhY3MgPSAkdGhpcy0+Z2V0QXV0aENvbnRlbnRTdG9yZSgpOwoJCWlmIChpc19udWxsKCRhY3MpKSByZXR1cm4gMDsK'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gJGFjcy0+cmFOdW1Mb2dnZWRJbigpOwoJfQoKCS8qKgoJICogQHJldHVybiBPSURwbHVzUkFbXQoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBsb2dnZWRJblJhTGlzdCgpOiBhcnJheSB7CgkJJGFjcyA9'));
	@fwrite($fp, base64_decode('ICR0aGlzLT5nZXRBdXRoQ29udGVudFN0b3JlKCk7CgkJaWYgKGlzX251bGwoJGFjcykpIHJldHVybiBbXTsKCQlyZXR1cm4gJGFjcy0+bG9nZ2VkSW5SYUxpc3QoKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmd8T0lEcGx1c1JBICRyYQoJICogQHJldHVybiBi'));
	@fwrite($fp, base64_decode('b29sCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzUmFMb2dnZWRJbigkcmEpOiBib29sIHsKCQkkZW1haWwgPSAkcmEgaW5zdGFuY2VvZiBPSURwbHVzUkEgPyAkcmEtPnJhRW1haWwoKSA6ICRyYTsKCQkkYWNzID0g'));
	@fwrite($fp, base64_decode('JHRoaXMtPmdldEF1dGhDb250ZW50U3RvcmUoKTsKCQlpZiAoaXNfbnVsbCgkYWNzKSkgcmV0dXJuIGZhbHNlOwoJCXJldHVybiAkYWNzLT5pc1JhTG9nZ2VkSW4oJGVtYWlsKTsKCX0KCgkvLyAiSGlnaCBsZXZlbCIgZnVuY3Rpb24gaW5jbHVkaW5nIGxvZ2dpbmcg'));
	@fwrite($fp, base64_decode('YW5kIGNoZWNraW5nIGZvciB2YWxpZCBKV1QgdXBkYXRlcwoKCS8qKgoJICogIkhpZ2ggbGV2ZWwiIG1ldGhvZCBmb3IgUkEgTG9naW4KCSAqIEBwYXJhbSBzdHJpbmcgJGVtYWlsCgkgKiBAcGFyYW0gc3RyaW5nICRvcmlnaW4KCSAqIEByZXR1cm4gdm9pZAoJICog'));
	@fwrite($fp, base64_decode('QHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYUxvZ2luRXgoc3RyaW5nICRlbWFpbCwgc3RyaW5nICRvcmlnaW49JycpIHsKCQkkbG9naW5mbyA9ICcnOwoJCSRhY3MgPSAkdGhpcy0+Z2V0QXV0aENvbnRlbnRTdG9yZSgpOwoJ'));
	@fwrite($fp, base64_decode('CWlmIChpc19udWxsKCRhY3MpKSB7CgkJCS8vIE5vIHVzZXIgaXMgbG9nZ2VkIGluIChubyBKV1QgZXhpc3RzKS4gV2Ugbm93IGNyZWF0ZSBhIGF1dGggY29udGVudCBzdG9yZSBhbmQgYWN0aXZhdGUgaXQgKGNvb2tpZXMgd2lsbCBiZSBzZXQgZXRjLikKCQkJJGFj'));
	@fwrite($fp, base64_decode('cyA9IG5ldyBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCgpOwoJCQkkYWNzLT5zZXRWYWx1ZShPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6Q0xBSU1fR0VORVJBVE9SLCBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl9MT0dJTik7'));
	@fwrite($fp, base64_decode('CgkJfQoJCSRhY3MtPnJhTG9naW5FeCgkZW1haWwsICRsb2dpbmZvKTsKCQkkYWNzLT5hY3RpdmF0ZSgpOyAvLyBjcmVhdGUgb3IgdXBkYXRlIEpXVCB0b2tlbgoJCSRsb2dtc2cgPSAiUkEgJyRlbWFpbCcgbG9nZ2VkIGluIjsKCQlpZiAoJG9yaWdpbiAhPSAnJykg'));
	@fwrite($fp, base64_decode('JGxvZ21zZyAuPSAiIHZpYSAkb3JpZ2luIjsKCQlpZiAoJGxvZ2luZm8gIT0gJycpICRsb2dtc2cgLj0gIiAoJGxvZ2luZm8pIjsKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJWMjpbT0tdUkEoJTEpIiwgIiUyIiwgJGVtYWlsLCAkbG9nbXNnKTsKCX0KCgkvKioK'));
	@fwrite($fp, base64_decode('CSAqICJIaWdoIGxldmVsIiBtZXRob2QgZm9yIFJBIExvZ291dAoJICogQHBhcmFtIHN0cmluZyAkZW1haWwKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYUxvZ291dEV4KHN0cmluZyAk'));
	@fwrite($fp, base64_decode('ZW1haWwpIHsKCQkkbG9naW5mbyA9ICcnOwoKCQkkYWNzID0gJHRoaXMtPmdldEF1dGhDb250ZW50U3RvcmUoKTsKCQlpZiAoaXNfbnVsbCgkYWNzKSkgcmV0dXJuOwoJCSRhY3MtPnJhTG9nb3V0RXgoJGVtYWlsLCAkbG9naW5mbyk7CgoJCU9JRHBsdXM6OmxvZ2dl'));
	@fwrite($fp, base64_decode('cigpLT5sb2coIlYyOltPS11SQSglMSkiLCAiUkEgJyUxJyBsb2dnZWQgb3V0ICglMikiLCAkZW1haWwsICRsb2dpbmZvKTsKCgkJaWYgKCgkdGhpcy0+cmFOdW1Mb2dnZWRJbigpID09IDApICYmICghJHRoaXMtPmlzQWRtaW5Mb2dnZWRJbigpKSkgewoJCQkvLyBO'));
	@fwrite($fp, base64_decode('b2JvZHkgbG9nZ2VkIGluIGFueW1vcmUuIERlc3Ryb3kgc2Vzc2lvbiBjb29raWUgdG8gbWFrZSBHRFBSIHBlb3BsZSBoYXBweQoJCQkkYWNzLT5kZXN0cm95U2Vzc2lvbigpOwoJCX0gZWxzZSB7CgkJCS8vIEdldCBhIG5ldyB0b2tlbiBmb3IgdGhlIHJlbWFpbmlu'));
	@fwrite($fp, base64_decode('ZyB1c2VycwoJCQkkYWNzLT5hY3RpdmF0ZSgpOwoJCX0KCX0KCgkvLyBBZG1pbiBhdXRoZW50aWNhdGlvbiBmdW5jdGlvbnMKCgkvKioKCSAqICJMb3cgbGV2ZWwiIG1ldGhvZCBmb3IgQWRtaW4gTG9naW4KCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURw'));
	@fwrite($fp, base64_decode('bHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhZG1pbkxvZ2luKCkgewoJCSRhY3MgPSAkdGhpcy0+Z2V0QXV0aENvbnRlbnRTdG9yZSgpOwoJCWlmIChpc19udWxsKCRhY3MpKSByZXR1cm47CgkJJGFjcy0+YWRtaW5Mb2dpbigpOwoJfQoKCS8qKgoJ'));
	@fwrite($fp, base64_decode('ICogIkxvdyBsZXZlbCIgbWV0aG9kIGZvciBSQSBMb2dvdXQKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhZG1pbkxvZ291dCgpIHsKCQkkYWNzID0gJHRoaXMtPmdldEF1dGhDb250ZW50'));
	@fwrite($fp, base64_decode('U3RvcmUoKTsKCQlpZiAoaXNfbnVsbCgkYWNzKSkgcmV0dXJuOwoJCSRhY3MtPmFkbWluTG9nb3V0KCk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRwYXNzd29yZAoJICogQHJldHVybiBib29sCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJ'));
	@fwrite($fp, base64_decode('cHVibGljIGZ1bmN0aW9uIGFkbWluQ2hlY2tQYXNzd29yZChzdHJpbmcgJHBhc3N3b3JkKTogYm9vbCB7CgkJJGNmZ0RhdGEgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdBRE1JTl9QQVNTV09SRCcsICcnKTsKCQlpZiAoZW1wdHkoJGNmZ0RhdGEp'));
	@fwrite($fp, base64_decode('KSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdObyBhZG1pbiBwYXNzd29yZCBzZXQgaW4gJTEnLCd1c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhwJykpOwoJCX0KCgkJaWYgKCFpc19hcnJheSgkY2ZnRGF0YSkpIHsKCQkJJHBhc3N3'));
	@fwrite($fp, base64_decode('b3JkRGF0YUFycmF5ID0gYXJyYXkoJGNmZ0RhdGEpOwoJCX0gZWxzZSB7CgkJCSRwYXNzd29yZERhdGFBcnJheSA9ICRjZmdEYXRhOyAvLyBNdWx0aXBsZSBBZG1pbmlzdHJhdG9yIHBhc3N3b3JkcwoJCX0KCgkJZm9yZWFjaCAoJHBhc3N3b3JkRGF0YUFycmF5IGFz'));
	@fwrite($fp, base64_decode('ICRwYXNzd29yZERhdGEpIHsKCQkJaWYgKHN0cl9zdGFydHNfd2l0aCgkcGFzc3dvcmREYXRhLCAnJCcpKSB7CgkJCQkvLyBWZXJzaW9uIDM6IEJDcnlwdCAob3IgYW55IG90aGVyIGNyeXB0KQoJCQkJJG9rID0gcGFzc3dvcmRfdmVyaWZ5KCRwYXNzd29yZCwgJHBh'));
	@fwrite($fp, base64_decode('c3N3b3JkRGF0YSk7CgkJCX0gZWxzZSBpZiAoc3RycG9zKCRwYXNzd29yZERhdGEsICckJykgIT09IGZhbHNlKSB7CgkJCQkvLyBWZXJzaW9uIDI6IFNIQTMtNTEyIHdpdGggc2FsdAoJCQkJbGlzdCgkc2FsdCwgJGhhc2gpID0gZXhwbG9kZSgnJCcsICRwYXNzd29y'));
	@fwrite($fp, base64_decode('ZERhdGEsIDIpOwoJCQkJJG9rID0gaGFzaF9lcXVhbHMoc2hhM181MTIoJHNhbHQuJHBhc3N3b3JkLCB0cnVlKSwgYmFzZTY0X2RlY29kZSgkaGFzaCkpOwoJCQl9IGVsc2UgewoJCQkJLy8gVmVyc2lvbiAxOiBTSEEzLTUxMiB3aXRob3V0IHNhbHQKCQkJCSRvayA9'));
	@fwrite($fp, base64_decode('IGhhc2hfZXF1YWxzKHNoYTNfNTEyKCRwYXNzd29yZCwgdHJ1ZSksIGJhc2U2NF9kZWNvZGUoJHBhc3N3b3JkRGF0YSkpOwoJCQl9CgkJCWlmICgkb2spIHJldHVybiB0cnVlOwoJCX0KCgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICogQHJldHVybiBib29sCgkg'));
	@fwrite($fp, base64_decode('KiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzQWRtaW5Mb2dnZWRJbigpOiBib29sIHsKCQkkYWNzID0gJHRoaXMtPmdldEF1dGhDb250ZW50U3RvcmUoKTsKCQlpZiAoaXNfbnVsbCgkYWNzKSkgcmV0dXJuIGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CXJldHVybiAkYWNzLT5pc0FkbWluTG9nZ2VkSW4oKTsKCX0KCgkvKioKCSAqICJIaWdoIGxldmVsIiBtZXRob2QgZm9yIEFkbWluIExvZ2luCgkgKiBAcGFyYW0gc3RyaW5nICRvcmlnaW4KCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0'));
	@fwrite($fp, base64_decode('aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhZG1pbkxvZ2luRXgoc3RyaW5nICRvcmlnaW49JycpIHsKCQkkbG9naW5mbyA9ICcnOwoJCSRhY3MgPSAkdGhpcy0+Z2V0QXV0aENvbnRlbnRTdG9yZSgpOwoJCWlmIChpc19udWxsKCRhY3MpKSB7CgkJCS8vIE5vIHVz'));
	@fwrite($fp, base64_decode('ZXIgaXMgbG9nZ2VkIGluIChubyBKV1QgZXhpc3RzKS4gV2Ugbm93IGNyZWF0ZSBhIGF1dGggY29udGVudCBzdG9yZSBhbmQgYWN0aXZhdGUgaXQgKGNvb2tpZXMgd2lsbCBiZSBzZXQgZXRjLikKCQkJJGFjcyA9IG5ldyBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpX'));
	@fwrite($fp, base64_decode('VCgpOwoJCQkkYWNzLT5zZXRWYWx1ZShPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6Q0xBSU1fR0VORVJBVE9SLCBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl9MT0dJTik7CgkJfQoJCSRhY3MtPmFkbWluTG9naW5FeCgkbG9naW5m'));
	@fwrite($fp, base64_decode('byk7CgkJJGFjcy0+YWN0aXZhdGUoKTsKCQkkbG9nbXNnID0gIkFkbWluIGxvZ2dlZCBpbiI7CgkJaWYgKCRvcmlnaW4gIT0gJycpICRsb2dtc2cgLj0gIiB2aWEgJG9yaWdpbiI7CgkJaWYgKCRsb2dpbmZvICE9ICcnKSAkbG9nbXNnIC49ICIgKCRsb2dpbmZvKSI7'));
	@fwrite($fp, base64_decode('CgkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiVjI6W09LXUEiLCAiJTEiLCAkbG9nbXNnKTsKCX0KCgkvKioKCSAqICJIaWdoIGxldmVsIiBtZXRob2QgZm9yIEFkbWluIExvZ291dAoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24K'));
	@fwrite($fp, base64_decode('CSAqLwoJcHVibGljIGZ1bmN0aW9uIGFkbWluTG9nb3V0RXgoKSB7CgkJJGxvZ2luZm8gPSAnJzsKCgkJJGFjcyA9ICR0aGlzLT5nZXRBdXRoQ29udGVudFN0b3JlKCk7CgkJaWYgKGlzX251bGwoJGFjcykpIHJldHVybjsKCQkkYWNzLT5hZG1pbkxvZ291dEV4KCRs'));
	@fwrite($fp, base64_decode('b2dpbmZvKTsKCgkJaWYgKCR0aGlzLT5yYU51bUxvZ2dlZEluKCkgPT0gMCkgewoJCQkvLyBOb2JvZHkgaGVyZSBhbnltb3JlLiBEZXN0cm95IHRoZSBjb29raWUgdG8gbWFrZSBHRFBSIHBlb3BsZSBoYXBweQoJCQkkYWNzLT5kZXN0cm95U2Vzc2lvbigpOwoJCX0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7CgkJCS8vIEdldCBhIG5ldyB0b2tlbiBmb3IgdGhlIHJlbWFpbmluZyB1c2VycwoJCQkkYWNzLT5hY3RpdmF0ZSgpOwoJCX0KCgkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiVjI6W09LXUEiLCAiQWRtaW4gbG9nZ2VkIG91dCAoJTEpIiwgJGxvZ2luZm8p'));
	@fwrite($fp, base64_decode('OwoJfQoKCS8vIEF1dGhlbnRpY2F0aW9uIGtleXMgZm9yIGdlbmVyYXRpbmcgc2VjcmV0cyBvciB2YWxpZGF0aW5nIGFyZ3VtZW50cyAoZS5nLiBzZW50IGJ5IG1haWwpCgoJLyoqCgkgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRkYXRhCgkgKiBAcmV0dXJuIHN0cmlu'));
	@fwrite($fp, base64_decode('ZwoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBtYWtlU2VjcmV0KCRkYXRhKTogc3RyaW5nIHsKCQlpZiAoIWlzX2FycmF5KCRkYXRhKSkgJGRhdGEgPSBbJGRhdGFdOwoJCSRkYXRhID0ganNvbl9lbmNvZGUoJGRhdGEp'));
	@fwrite($fp, base64_decode('OwoJCXJldHVybiBzaGEzXzUxMl9obWFjKCRkYXRhLCAnT0lEcGx1czonLk9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1NFUlZFUl9TRUNSRVQnKSwgZmFsc2UpOwoJfQoKCS8qKgoJICogQHBhcmFtIGFycmF5fHN0cmluZyAkZGF0YSBBcmJpdGFyeSBk'));
	@fwrite($fp, base64_decode('YXRhIHRvIGJlIHZhbGlkYXRlZCBsYXRlcgoJICogQHJldHVybiBzdHJpbmcgQSBzdHJpbmcgdGhhdCBuZWVkIHRvIGJlIHZhbGlkYXRlZCB3aXRoIHZhbGlkYXRlQXV0aEtleQoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlv'));
	@fwrite($fp, base64_decode('biBtYWtlQXV0aEtleSgkZGF0YSk6IHN0cmluZyB7CgkJaWYgKCFpc19hcnJheSgkZGF0YSkpICRkYXRhID0gWyRkYXRhXTsKCQkkdHMgPSB0aW1lKCk7CgkJJGRhdGFfZXh0ID0gWyR0cywgJGRhdGFdOwoJCSRzZWNyZXQgPSAkdGhpcy0+bWFrZVNlY3JldCgkZGF0'));
	@fwrite($fp, base64_decode('YV9leHQpOwoJCXJldHVybiAkdHMuJy4nLiRzZWNyZXQ7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gYXJyYXl8c3RyaW5nICRkYXRhIFRoZSBvcmlnaW5hbCBkYXRhIHRoYXQgaGFkIGJlZW4gcGFzc2VkIHRvIG1ha2VBdXRoS2V5KCkKCSAqIEBwYXJhbSBzdHJpbmcgJGF1'));
	@fwrite($fp, base64_decode('dGhfa2V5IFRoZSByZXN1bHQgZnJvbSBtYWtlQXV0aEtleSgpCgkgKiBAcGFyYW0gaW50ICR2YWxpZF9zZWNzIEhvdyBtYW55IHNlY29uZHMgaXMgdGhlIGF1dGgga2V5IHZhbGlkPyAoLTEgZm9yIGluZmluaXRlKQoJICogQHJldHVybiBib29sIFRydWUgaWYgdGhl'));
	@fwrite($fp, base64_decode('IGtleSBpcyB2YWxpZCBhbmQgbm90IGV4cGlyZWQuCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHZhbGlkYXRlQXV0aEtleSgkZGF0YSwgc3RyaW5nICRhdXRoX2tleSwgaW50ICR2YWxpZF9zZWNzPS0xKTogYm9vbCB7'));
	@fwrite($fp, base64_decode('CgkJJGF1dGhfa2V5X2FyeSA9IGV4cGxvZGUoJy4nLCAkYXV0aF9rZXksIDIpOwoJCWlmIChjb3VudCgkYXV0aF9rZXlfYXJ5KSAhPSAyKSByZXR1cm4gZmFsc2U7IC8vIGludmFsaWQgYXV0aCBrZXkgc3ludGF4CgkJbGlzdCgkdHMsICRzZWNyZXQpID0gJGF1dGhf'));
	@fwrite($fp, base64_decode('a2V5X2FyeTsKCQlpZiAoIWlzX251bWVyaWMoJHRzKSkgcmV0dXJuIGZhbHNlOyAvLyBpbnZhbGlkIGF1dGgga2V5IHN5bnRheAoJCWlmICgkdmFsaWRfc2VjcyA+PSAwKSB7CgkJCWlmICh0aW1lKCkgPiAoJHRzKyR2YWxpZF9zZWNzKSkgcmV0dXJuIGZhbHNlOyAv'));
	@fwrite($fp, base64_decode('LyBleHBpcmVkIGF1dGgga2V5CgkJfQoJCWlmICghaXNfYXJyYXkoJGRhdGEpKSAkZGF0YSA9IFskZGF0YV07CgkJJGRhdGFfZXh0ID0gWyhpbnQpJHRzLCAkZGF0YV07CgkJcmV0dXJuIGhhc2hfZXF1YWxzKCR0aGlzLT5tYWtlU2VjcmV0KCRkYXRhX2V4dCksICRz'));
	@fwrite($fp, base64_decode('ZWNyZXQpOwoJfQoKCS8vICJWZXRvIiBmdW5jdGlvbnMgdG8gZm9yY2UgbG9nb3V0IHN0YXRlCgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHJvdGVjdGVkIGZ1bmN0aW9uIGZvcmNlQWxsTG9nZ2VkT3V0KCk6IGJvb2wgewoJCWlmIChpc3NldCgkX1NFUlZF'));
	@fwrite($fp, base64_decode('UlsnU0NSSVBUX0ZJTEVOQU1FJ10pICYmIChiYXNlbmFtZSgkX1NFUlZFUlsnU0NSSVBUX0ZJTEVOQU1FJ10pID09ICdzaXRlbWFwLnBocCcpKSB7CgkJCS8vIFRoZSBzaXRlbWFwIG1heSBub3QgY29udGFpbiBhbnkgY29uZmlkZW50aWFsIGluZm9ybWF0aW9uLAoJ'));
	@fwrite($fp, base64_decode('CQkvLyBldmVuIGlmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbiwgYmVjYXVzZSB0aGUgYWRtaW4gY291bGQKCQkJLy8gYWNjaWRlbnRhbGx5IGNvcHktcGFzdGUgdGhlIHNpdGVtYXAgdG8gYQoJCQkvLyBzZWFyY2ggZW5naW5lIGNvbnRyb2wgcGFuZWwgd2hpbGUgdGhl'));
	@fwrite($fp, base64_decode('eSBhcmUgbG9nZ2VkIGluCgkJCXJldHVybiB0cnVlOwoJCX0gZWxzZSB7CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9CgoJLy8gQ1NSRiBmdW5jdGlvbnMKCglwcml2YXRlICRlbmFibGVfY3NyZiA9IHRydWU7CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVi'));
	@fwrite($fp, base64_decode('bGljIGZ1bmN0aW9uIGVuYWJsZUNTUkYoKSB7CgkJJHRoaXMtPmVuYWJsZV9jc3JmID0gdHJ1ZTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gZGlzYWJsZUNTUkYoKSB7CgkJJHRoaXMtPmVuYWJsZV9jc3JmID0gZmFsc2U7'));
	@fwrite($fp, base64_decode('Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBcUmFuZG9tXFJhbmRvbUV4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2VuQ1NSRlRva2VuKCk6IHN0cmluZyB7CgkJcmV0dXJuIHJhbmRvbV9ieXRlc19leCg2NCwgZmFsc2UsIGZh'));
	@fwrite($fp, base64_decode('bHNlKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjaGVja0NTUkYoKSB7CgkJaWYgKCEkdGhpcy0+ZW5hYmxlX2NzcmYpIHJldHVybjsKCgkJJHJlcXVlc3RfdG9rZW4g'));
	@fwrite($fp, base64_decode('PSAkX1JFUVVFU1RbJ2NzcmZfdG9rZW4nXSA/PyAnJzsKCQkkY29va2llX3Rva2VuID0gJF9DT09LSUVbJ2NzcmZfdG9rZW4nXSA/PyAnJzsKCgkJaWYgKGVtcHR5KCRyZXF1ZXN0X3Rva2VuKSB8fCBlbXB0eSgkY29va2llX3Rva2VuKSB8fCAoJHJlcXVlc3RfdG9r'));
	@fwrite($fp, base64_decode('ZW4gIT09ICRjb29raWVfdG9rZW4pKSB7CgkJCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdERUJVRycpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnTWlzc2luZyBvciB3cm9uZyBDU1JGIFRva2VuOiBSZXF1ZXN0ICUx'));
	@fwrite($fp, base64_decode('IHZzIENvb2tpZSAlMicsCgkJCQkJaXNzZXQoJF9SRVFVRVNUWydjc3JmX3Rva2VuJ10pID8gJyInLiRfUkVRVUVTVFsnY3NyZl90b2tlbiddLiciJyA6ICdOVUxMJywKCQkJCQkkX0NPT0tJRVsnY3NyZl90b2tlbiddID8/ICdOVUxMJwoJCQkJKSk7CgkJCX0gZWxz'));
	@fwrite($fp, base64_decode('ZSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnTWlzc2luZyBvciB3cm9uZyAiQ1NSRiBUb2tlbiIuIFRvIGZpeCB0aGUgaXNzdWUsIHRyeSBjbGVhcmluZyB5b3VyIGJyb3dzZXIgY2FjaGUgYW5kIHJlbG9hZCB0aGUgcGFnZS4gSWYgeW91IHZp'));
	@fwrite($fp, base64_decode('c2l0ZWQgdGhlIHBhZ2UgdmlhIEhUVFBTIGJlZm9yZSwgdHJ5IEhUVFBTIGluIGNhc2UgeW91IGFyZSBjdXJyZW50bHkgY29ubmVjdGVkIHZpYSBIVFRQLicpKTsKCQkJfQoJCX0KCX0KCgkvLyBHZW5lcmF0ZSBSQSBwYXNzd29yZHMKCgkvKioKCSAqIEBwYXJhbSBz'));
	@fwrite($fp, base64_decode('dHJpbmcgJHBhc3N3b3JkCgkgKiBAcmV0dXJuIE9JRHBsdXNSQUF1dGhJbmZvCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJhR2VuZXJhdGVQYXNzd29yZChzdHJpbmcgJHBhc3N3b3JkKTogT0lEcGx1c1JBQXV0aElu'));
	@fwrite($fp, base64_decode('Zm8gewoJCSRwbHVnaW4gPSBPSURwbHVzOjpnZXREZWZhdWx0UmFBdXRoUGx1Z2luKHRydWUpOwoJCXJldHVybiAkcGx1Z2luLT5nZW5lcmF0ZSgkdGhpcy0+cmFQZXBwZXJQcm9jZXNzaW5nKCRwYXNzd29yZCkpOwoJfQoKCS8vIEdlbmVyYXRlIGFkbWluIHBhc3N3'));
	@fwrite($fp, base64_decode('b3JkCgoJLyogTm90aGluZyBoZXJlOyB0aGUgYWRtaW4gcGFzc3dvcmQgd2lsbCBiZSBnZW5lcmF0ZWQgaW4gc2V0dXBfYmFzZS5qcyAsIHB1cmVseSBpbiB0aGUgd2ViLWJyb3dzZXIgKi8KCn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusAuthUtils.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusAuthUtils.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplusAuthUtils.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusAuthUtils.class.php');
	} else if (sha1_file('includes/classes/OIDplusAuthUtils.class.php') != 'cebc2f1d68492713eadea629a284c8cdaf5c35eb') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusAuthUtils.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusAuthUtils.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusAuthUtils.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusAuthUtils.class.php') !== 'cebc2f1d68492713eadea629a284c8cdaf5c35eb') {
		if (@sha1_file('includes/classes/OIDplusAuthUtils.class.php') !== 'fb0cf73736b6f10bc14a5c6773cfbc82baff45b4') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusAuthUtils.class.php');
			$tmp = pathinfo('includes/classes/OIDplusAuthUtils.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusAuthUtils.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusAuthUtils.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplusAuthUtils.class.php') !== 'cebc2f1d68492713eadea629a284c8cdaf5c35eb') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusAuthUtils.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1315\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1315') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

