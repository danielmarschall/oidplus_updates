<?php /* <ViaThinkSoftSignature>
Z4UUsXmhz/RTybHht9iHQYL0BQjvvz5jn8q8Xin3Aam1ACFC/lx/+JHkEYCfoU0nf
4/HdmyWYUreE1ZOfkQhpj6gTw0QOxCXW1X8+r6yZciHqbOU27B8vNRom7D208QEoa
aftd6oqt27VRnuXRCFKY5pZF+4msA/Jr0zL29h4ZRMUdFk2H2QOexyHBl2LgaNagX
AJOvW/HeeBGwxD6SpwuiPE+J9lf6P1+QRy2p47Lpi50/kqW26cMeEb+LAIMj3qiJW
5Fyb+7Bn97KKs0cDcfaBKCnl1Ofwid+bsxx/ya8IT5qinUHyD8kV9i8zrMGfnhDDC
f2SxgMb1os8jqjPOSHOE85Pg5P2lsWY7/ttg/iTuFii2EDK7vp+SxK+CXhOGi0ggv
h2myoVc7aBMqYpKPSmMS0uLm7XH+66RtvuQkfsFv/GxoUi7jXRtr/rHSbqMIrqsAx
JE+yP+/KdSZJ+ve9r8Qme59MdM7m+KhEonZCxgyMRznRHWQOjsOPxOpoZB6x6NBev
+GkKhvmvbxNynvM0McJcC4u03PFEHZXSys7mYULHqrj4J9oPchYooB0NyY/y0iop9
Bod4spH4GQWKWb6iY12CoOrU6HW7N5/tjPkWNrRzzZ77RjN8cwBBXA4CcOfZzfitT
pmLV1p5WjZLdiUCxG6OovCeYokM6wPxJc+2ikptiyQBBbKZbeFGgB2qzlpwnlpmGd
keFru8pWFuC+qGW/YbgdJ1UA4gIBNZZuEt4o2nevxgoWc1K6k16Aj5Ixo9ngmUmjC
N3ZzNarQaLjNDNkK+BPENmt0xlel2e6knf6qpjH5RzOQJ8sOpzhgWfKSRpdSi1uCg
goc/4ehweuc+4STlWc3eFWChndjBvOiz9YaTRNkkdW6yLlf8Ib5YsLS3Kay3mY52q
NfXVPM6KrjeA7mz3t5jJVXas8HY7eWJeVSXWZPPPyF7C6dIWcGNnx4BBBr7QHHoIN
YD32RHrXJL0x0noepAcuZgkLPA8O/RPUL1gJB9v88FDpsrVY/wc2YEqJIFQDVvN1X
xFBaHYARRa+l7z1wTr7GORK76MHumEZnr78N7LvP3xQP89SKKnndTgaUbKT8JQchD
0EIDfsR7dvkNevwLUQDvnhVwgbNJdDQOnVJXSsC4xcUajNM2FGHf46t3neWcVcBiG
XpymbErw/7DFY3kddzfodL24cV54BAlrpakdTxHaAFK2UeOudVidRtcl3iGEst9jW
7Nonqlkdj/qQa4vGKsB1Tsxcw+VTB0lP/BbCovK7gXiC8jiAOCu9yWwEcReXsNZRA
fyvdGwolr5VSywEuAa3E+n7leK+Kmhwp/HA7ZHGK34T2hh26MWyzXvNTUdSDTA3bY
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 393') {
	err('This update can only be applied to OIDplus version 2.0.0.393!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: dev/translation/message_regenerate.phps
function writefile_1() {
	@$fp = fopen('dev/translation/message_regenerate.phps', 'w');
	@fwrite($fp, base64_decode('IyEvdXNyL2Jpbi9waHAKPD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDIwIERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxp'));
	@fwrite($fp, base64_decode('Y2Vuc2UiKTsKICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9y'));
	@fwrite($fp, base64_decode('Zy9saWNlbnNlcy9MSUNFTlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFu'));
	@fwrite($fp, base64_decode('ICJBUyBJUyIgQkFTSVMsCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVy'));
	@fwrite($fp, base64_decode('bWlzc2lvbnMgYW5kCiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8vIFRoaXMgc2NyaXB0IHVwZGF0ZXMgdGhlIGxhbmd1YWdlIG1lc3NhZ2UgZmlsZXMgKGFkZGluZyBuZXcgZW50cmllcyBhbmQKLy8gcmVtb3ZpbmcgZW50cmllcyB0aGF0'));
	@fwrite($fp, base64_decode('IGFyZSBub3QgZXhpc3RpbmcgYW55bW9yZSkuCi8vIEl0IHJlcXVpcmVzIHRoYXQgUEhQIHNjcmlwdHMgYXJlIHVzaW5nIGZvbGxvd2luZyBzeW50YXggZm9yIHRyYW5zbGF0aW9uczoKLy8gICAgICAgICAgICAgX0woJ2hlbGxvIHdvcmxkJyxvcHRpb25hbFBhcmFt'));
	@fwrite($fp, base64_decode('cykgPHJlY29tbWVuZGVkPgovLyAgICAgICAgICAgICBfTCgiaGVsbG8gd29ybGQiLG9wdGlvbmFsUGFyYW1zKQovLyBhbmQgSlMgZmlsZXM6Ci8vICAgICAgICAgICAgIF9MKCdoZWxsbyB3b3JsZCcsb3B0aW9uYWxQYXJhbXMpCi8vICAgICAgICAgICAgIF9MKCJo'));
	@fwrite($fp, base64_decode('ZWxsbyB3b3JsZCIsb3B0aW9uYWxQYXJhbXMpIDxyZWNvbW1lbmRlZD4KCgokZGlyID0gX19ESVJfXyAuICcvLi4vLi4vJzsKCi8vIC0tLQoKJGxhbmdzID0gYXJyYXkoKTsKJHRtcCA9IGdsb2IoJGRpci4nL3BsdWdpbnMvbGFuZ3VhZ2UvKi9tZXNzYWdlcy54bWwn'));
	@fwrite($fp, base64_decode('KTsKZm9yZWFjaCAoJHRtcCBhcyAkdG1wMikgewoJJHRtcDMgPSBleHBsb2RlKCcvJywgJHRtcDIpOwoJJGxhbmcgPSAkdG1wM1tjb3VudCgkdG1wMyktMl07CglpZiAoJGxhbmcgPT0gJ2VudXMnKSBjb250aW51ZTsgLy8gaWdub3JlIGJhc2UgbGFuZwoJJGxhbmdz'));
	@fwrite($fp, base64_decode('W10gPSAkbGFuZzsKfQoKLy8gLS0tCgokYWxsX3N0cmluZ3MgPSBhcnJheSgpOwoKJGl0ID0gbmV3IFJlY3Vyc2l2ZURpcmVjdG9yeUl0ZXJhdG9yKCRkaXIpOwpmb3JlYWNoKG5ldyBSZWN1cnNpdmVJdGVyYXRvckl0ZXJhdG9yKCRpdCkgYXMgJGZpbGUpIHsKCWlm'));
	@fwrite($fp, base64_decode('IChzdHJwb3Moc3RyX3JlcGxhY2UoJ1xcJywnLycscmVhbHBhdGgoJGZpbGUpKSwnLzNwLycpICE9PSBmYWxzZSkgY29udGludWU7IC8vIGlnbm9yZSB0aGlyZC1wYXJ0eS1jb2RlCglpZiAoc3RycG9zKHN0cl9yZXBsYWNlKCdcXCcsJy8nLHJlYWxwYXRoKCRmaWxl'));
	@fwrite($fp, base64_decode('KSksJy9kZXYvJykgIT09IGZhbHNlKSBjb250aW51ZTsgLy8gaWdub3JlIGRldmVsb3BtZW50IHV0aWxpdGllcwoJaWYgKCRmaWxlLT5nZXRFeHRlbnNpb24oKSA9PSAncGhwJykgewoJCSRjb250ID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGUpOwoJCSRjb250ID0g'));
	@fwrite($fp, base64_decode('cGhwUmVtb3ZlQ29tbWVudHMoJGNvbnQpOwoJCSRjb250ID0gc3RyX3JlcGxhY2UoJ2Z1bmN0aW9uIF9MKCRzdHIsIC4uLiRzcHJpbnRmQXJncykgeycsICcnLCAkY29udCk7CgkJJHN0cmluZ3MgPSBnZXRfcGhwX0xfc3RyaW5ncygkY29udCk7CgkJJHN0cmluZ3Nf'));
	@fwrite($fp, base64_decode('dGVzdCA9IGdldF9qc19MX3N0cmluZ3MoJGNvbnQpOwoKCQlpZiAoc2VyaWFsaXplKCRzdHJpbmdzKSAhPSBzZXJpYWxpemUoJHN0cmluZ3NfdGVzdCkpIHsKCQkJZWNobyAiQXR0ZW50aW9uOiBGaWxlICIucmVhbHBhdGgoJGZpbGUpLiIgYW1iaWd1b3VzIF9MKCkg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb25zXG4iOwoJCX0KCgkJJGFsbF9zdHJpbmdzID0gYXJyYXlfbWVyZ2UoJGFsbF9zdHJpbmdzLCAkc3RyaW5ncyk7Cgl9CglpZiAoJGZpbGUtPmdldEV4dGVuc2lvbigpID09ICdqcycpIHsKCQkkY29udCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlKTsK'));
	@fwrite($fp, base64_decode('CQkkY29udCA9IHN0cl9yZXBsYWNlKCdmdW5jdGlvbiBfTCgpJywgJycsICRjb250KTsKCQkkc3RyaW5ncyA9IGdldF9qc19MX3N0cmluZ3MoJGNvbnQpOwoJCSRhbGxfc3RyaW5ncyA9IGFycmF5X21lcmdlKCRhbGxfc3RyaW5ncywgJHN0cmluZ3MpOwoJfQp9Cgpm'));
	@fwrite($fp, base64_decode('b3JlYWNoICgkYWxsX3N0cmluZ3MgYXMgJHN0cikgewoJdGVzdF9taXNzaW5nX3BsYWNlaG9sZGVyKCRzdHIpOwp9CgokYWxsX3N0cmluZ3MgPSBhcnJheV91bmlxdWUoJGFsbF9zdHJpbmdzKTsKc29ydCgkYWxsX3N0cmluZ3MpOwoKLy8gLS0tCgpmb3JlYWNoICgk'));
	@fwrite($fp, base64_decode('bGFuZ3MgYXMgJGxhbmcpIHsKCSR0cmFuc2xhdGlvbl9hcnJheSA9IGFycmF5KCk7CgkkdHJhbnNsYXRpb25fZmlsZSA9ICRkaXIuJy9wbHVnaW5zL2xhbmd1YWdlLycuJGxhbmcuJy9tZXNzYWdlcy54bWwnOwoJaWYgKGZpbGVfZXhpc3RzKCR0cmFuc2xhdGlvbl9m'));
	@fwrite($fp, base64_decode('aWxlKSkgewoJJHhtbCA9IHNpbXBsZXhtbF9sb2FkX3N0cmluZyhmaWxlX2dldF9jb250ZW50cygkdHJhbnNsYXRpb25fZmlsZSkpOwoJaWYgKCEkeG1sKSB7CgkJZWNobyAiU1RPUDogQ2Fubm90IGxvYWQgJHRyYW5zbGF0aW9uX2ZpbGVcbiI7CgkJY29udGludWU7'));
	@fwrite($fp, base64_decode('Cgl9Cglmb3JlYWNoICgkeG1sLT5tZXNzYWdlIGFzICRtc2cpIHsKCQkJJHNyYyA9IHRyaW0oJG1zZy0+c291cmNlLT5fX3RvU3RyaW5nKCkpOwoJCQkkZHN0ID0gdHJpbSgkbXNnLT50YXJnZXQtPl9fdG9TdHJpbmcoKSk7CgkJCSR0cmFuc2xhdGlvbl9hcnJheVsk'));
	@fwrite($fp, base64_decode('c3JjXSA9ICRkc3Q7CgkJfQoJfQoKCS8vIC0tLQoKCWVjaG8gIlByb2Nlc3NpbmcgIi5yZWFscGF0aCgkdHJhbnNsYXRpb25fZmlsZSkuIiAuLi5cbiI7CgoJJHN0YXRzX3RvdGFsID0gMDsKCSRzdGF0c190cmFuc2xhdGVkID0gMDsKCSRzdGF0c19ub3RfdHJhbnNs'));
	@fwrite($fp, base64_decode('YXRlZCA9IDA7CgoJJGNvbnQgPSAnJzsKCSRjb250IC49ICc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJVVEYtOCIgc3RhbmRhbG9uZT0ieWVzIiA/PicuIlxuIjsKCSRjb250IC49ICc8dHJhbnNsYXRpb24nLiJcbiI7CgkkY29udCAuPSAnCXhtbG5zPSJ1'));
	@fwrite($fp, base64_decode('cm46b2lkOjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjUuNC4xIicuIlxuIjsKCSRjb250IC49ICcJeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSInLiJcbiI7CgkkY29udCAuPSAnCXhzaTpzY2hlbWFMb2NhdGlvbj0i'));
	@fwrite($fp, base64_decode('dXJuOm9pZDoxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi41LjQuMSBodHRwczovL29pZHBsdXMudmlhdGhpbmtzb2Z0LmNvbS9vaWRwbHVzL3BsdWdpbnMvbWVzc2FnZXMueHNkIj4nLiJcbiI7CgkkY29udCAuPSAiXG4iOwoJZm9yZWFjaCAoJGFsbF9zdHJpbmdzIGFz'));
	@fwrite($fp, base64_decode('ICRzdHJpbmcpIHsKCQkkc3RhdHNfdG90YWwrKzsKCQkkY29udCAuPSAiCTxtZXNzYWdlPlxuIjsKCQkkY29udCAuPSAiCQk8c291cmNlPjwhW0NEQVRBW1xuIjsKCQkkY29udCAuPSAiCQkkc3RyaW5nXG4iOwoJCSRjb250IC49ICIJCV1dPjwvc291cmNlPlxuIjsK'));
	@fwrite($fp, base64_decode('CQlpZiAoaXNzZXQoJHRyYW5zbGF0aW9uX2FycmF5WyRzdHJpbmddKSAmJiAhZW1wdHkoJHRyYW5zbGF0aW9uX2FycmF5WyRzdHJpbmddKSkgewoJCQkkc3RhdHNfdHJhbnNsYXRlZCsrOwoJCQlpZiAoc3Vic3RyX2NvdW50KCRzdHJpbmcsJyUnKSAhPSBzdWJzdHJf'));
	@fwrite($fp, base64_decode('Y291bnQoJHRyYW5zbGF0aW9uX2FycmF5WyRzdHJpbmddLCclJykpIHsKCQkJCWVjaG8gIlx0QXR0ZW50aW9uOiBOdW1iZXIgb2YgJS1SZXBsYWNlbWVudHMgZGlmZmVycyBhdCB0cmFuc2xhdGlvbiBvZiBtZXNzYWdlICckc3RyaW5nJ1xuIjsKCQkJfQoJCQkkY29u'));
	@fwrite($fp, base64_decode('dCAuPSAiCQk8dGFyZ2V0PjwhW0NEQVRBW1xuIjsKCQkJJGNvbnQgLj0gIgkJIi4kdHJhbnNsYXRpb25fYXJyYXlbJHN0cmluZ10uIlxuIjsKCQkJJGNvbnQgLj0gIgkJXV0+PC90YXJnZXQ+XG4iOwoJCQl0ZXN0X21pc3NpbmdfcGxhY2Vob2xkZXIoJHRyYW5zbGF0'));
	@fwrite($fp, base64_decode('aW9uX2FycmF5WyRzdHJpbmddKTsKCQl9IGVsc2UgewoJCQkkc3RhdHNfbm90X3RyYW5zbGF0ZWQrKzsKCQkJJGNvbnQgLj0gIgkJPHRhcmdldD48IVtDREFUQVtcbiI7CgkJCSRjb250IC49ICIJCV1dPjwvdGFyZ2V0PjwhLS0gVE9ETzogVFJBTlNMQVRFIC0tPlxu'));
	@fwrite($fp, base64_decode('IjsKCQl9CgkJJGNvbnQgLj0gIgk8L21lc3NhZ2U+XG4iOwoJfQoJJGNvbnQgLj0gIjwvdHJhbnNsYXRpb24+XG4iOwoJZmlsZV9wdXRfY29udGVudHMoJHRyYW5zbGF0aW9uX2ZpbGUsICRjb250KTsKCgllY2hvICJcdCRzdGF0c190b3RhbCB0b3RhbCBtZXNzYWdl'));
	@fwrite($fp, base64_decode('cywgJHN0YXRzX3RyYW5zbGF0ZWQgYWxyZWFkeSB0cmFuc2xhdGVkICgiLnJvdW5kKCRzdGF0c190cmFuc2xhdGVkLyRzdGF0c190b3RhbCoxMDAsMikuIiUpLCAkc3RhdHNfbm90X3RyYW5zbGF0ZWQgbm90IHRyYW5zbGF0ZWQgKCIucm91bmQoJHN0YXRzX25vdF90'));
	@fwrite($fp, base64_decode('cmFuc2xhdGVkLyRzdGF0c190b3RhbCoxMDAsMikuIiUpXG4iOwoJZWNobyAiXHREb25lLi4uIjsKfQoKaWYgKGNvdW50KCRsYW5ncykgPiAwKSB7CgllY2hvICJBbGwgZG9uZSFcbiI7Cn0gZWxzZSB7CgllY2hvICJBdHRlbnRpb246IE5vIGxhbmd1YWdlIHBsdWdp'));
	@fwrite($fp, base64_decode('bnMgZm91bmQhXG4iOwp9CgojIC0tLQoKZnVuY3Rpb24gZ2V0X2pzX0xfc3RyaW5ncygkY29udCkgewoJLy8gV29ya3Mgd2l0aCBKYXZhU2NyaXB0IGFuZCBQSFAKCSRjb250ID0gcHJlZ19yZXBsYWNlKCdAL1xcKi4rXFwqL0Bpc21VJywgJycsICRjb250KTsKCSRj'));
	@fwrite($fp, base64_decode('b250ID0gc3RyX3JlcGxhY2UoJ1xcIicsIGNocigxKSwgJGNvbnQpOwoJJGNvbnQgPSBzdHJfcmVwbGFjZSgiXFwnIiwgY2hyKDIpLCAkY29udCk7CgkkY29udCA9IHN0cl9yZXBsYWNlKCJcXFxcIiwgIlxcIiwgJGNvbnQpOwoJJG0gPSBhcnJheSgpOwoJcHJlZ19t'));
	@fwrite($fp, base64_decode('YXRjaF9hbGwoJ0BbXl9BLVphLXowLTldX0xcXCguKihbIlwnXSkoLispXFwxQGlzbVUnLCAkY29udCwgJG0pOwoJZm9yZWFjaCAoJG1bMl0gYXMgJiR4KSB7CgkJJHggPSBzdHJfcmVwbGFjZShjaHIoMSksICciJywgJHgpOwoJCSR4ID0gc3RyX3JlcGxhY2UoY2hy'));
	@fwrite($fp, base64_decode('KDIpLCAiJyIsICR4KTsKCX0KCXJldHVybiAkbVsyXTsKfQoKZnVuY3Rpb24gZ2V0X3BocF9MX3N0cmluZ3MoJGNvbnQpIHsKCS8vIFdvcmtzIG9ubHkgd2l0aCBQSFAKCSRvdXQgPSBhcnJheSgpOwoJJHRva2VucyA9IHRva2VuX2dldF9hbGwoJGNvbnQpOwoJJGFj'));
	@fwrite($fp, base64_decode('dGl2YXRlZCA9IDA7Cglmb3JlYWNoICgkdG9rZW5zIGFzICR0b2tlbikgewoJCWlmIChpc19hcnJheSgkdG9rZW4pKSB7CgkJCWlmICgoJHRva2VuWzBdID09IFRfU1RSSU5HKSAmJiAoJHRva2VuWzFdID09ICdfTCcpKSB7CgkJCQkkYWN0aXZhdGVkID0gMTsKCQkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIGlmICgoJGFjdGl2YXRlZCA9PSAxKSAmJiAoJHRva2VuWzBdID09IFRfQ09OU1RBTlRfRU5DQVBTRURfU1RSSU5HKSkgewoJCQkJJHRtcCA9IHN0cmlwY3NsYXNoZXMoJHRva2VuWzFdKTsKCQkJCSRvdXRbXSA9IHN1YnN0cigkdG1wLDEsc3RybGVuKCR0'));
	@fwrite($fp, base64_decode('bXApLTIpOwoJCQkJJGFjdGl2YXRlZCA9IDA7CgkJCX0KCQl9Cgl9CglyZXR1cm4gJG91dDsKfQoKZnVuY3Rpb24gdGVzdF9taXNzaW5nX3BsYWNlaG9sZGVyKCR0ZXN0KSB7CgkkbWF4ID0gLTE7Cglmb3IgKCRpPTk5OyAkaT49MTsgJGktLSkgewoJCWlmIChzdHJw'));
	@fwrite($fp, base64_decode('b3MoJHRlc3QsICclJy4kaSkgIT09IGZhbHNlKSB7CgkJCSRtYXggPSAkaTsKCQkJYnJlYWs7CgkJfQoJfQoKCWZvciAoJGk9MTsgJGk8PSRtYXg7ICRpKyspIHsKCQlpZiAoc3RycG9zKCR0ZXN0LCAnJScuJGkpID09PSBmYWxzZSkgewoJCQllY2hvICJBdHRlbnRp'));
	@fwrite($fp, base64_decode('b246ICUkaSBpcyBtaXNzaW5nIGluIHN0cmluZyAnJHRlc3QnIVxuIjsKCQkJJG1heCA9ICRpOwoJCQlicmVhazsKCQl9Cgl9CgoJJHRlc3QgPSBwcmVnX3JlcGxhY2UoJ0AlKFsxLTldWzAtOV18JSkqQGlzbScsICcnLCAkdGVzdCk7CglpZiAoc3RycG9zKCR0ZXN0'));
	@fwrite($fp, base64_decode('LCclJykgIT09IGZhbHNlKSB7CgkJZWNobyAiQXR0ZW50aW9uOiBXcm9uZyBwZXJjZW50YWdlIHNpZ24gaW4gJyR0ZXN0JyFcbiI7Cgl9Cn0KCiMgLS0tCgpmdW5jdGlvbiBwaHBSZW1vdmVDb21tZW50cygkZmlsZVN0cikgewoKCS8vIGh0dHBzOi8vc3RhY2tvdmVy'));
	@fwrite($fp, base64_decode('Zmxvdy5jb20vcXVlc3Rpb25zLzUwMzg3MS9iZXN0LXdheS10by1hdXRvbWF0aWNhbGx5LXJlbW92ZS1jb21tZW50cy1mcm9tLXBocC1jb2RlCgoJJG5ld1N0ciAgPSAnJzsKCgkkY29tbWVudFRva2VucyA9IGFycmF5KFRfQ09NTUVOVCk7CgoJaWYgKGRlZmluZWQo'));
	@fwrite($fp, base64_decode('J1RfRE9DX0NPTU1FTlQnKSkgJGNvbW1lbnRUb2tlbnNbXSA9IFRfRE9DX0NPTU1FTlQ7IC8vIFBIUCA1CglpZiAoZGVmaW5lZCgnVF9NTF9DT01NRU5UJykpICAkY29tbWVudFRva2Vuc1tdID0gVF9NTF9DT01NRU5UOyAgLy8gUEhQIDQKCgkkdG9rZW5zID0gdG9r'));
	@fwrite($fp, base64_decode('ZW5fZ2V0X2FsbCgkZmlsZVN0cik7CgoJZm9yZWFjaCAoJHRva2VucyBhcyAkdG9rZW4pIHsKCQlpZiAoaXNfYXJyYXkoJHRva2VuKSkgewoJCQlpZiAoaW5fYXJyYXkoJHRva2VuWzBdLCAkY29tbWVudFRva2VucykpIGNvbnRpbnVlOwoJCQkkdG9rZW4gPSAkdG9r'));
	@fwrite($fp, base64_decode('ZW5bMV07CgkJfQoJCSRuZXdTdHIgLj0gJHRva2VuOwoJfQoKCXJldHVybiAkbmV3U3RyOwoKfQo='));
	@fclose($fp);
}
if (!is_file('dev/translation/message_regenerate.phps')) {
	warn('File has vanished! Will re-create it: dev/translation/message_regenerate.phps');
	writefile_1();
	if (!is_file('dev/translation/message_regenerate.phps')) {
		warn('File cannot be created (not existing): dev/translation/message_regenerate.phps');
	} else if (sha1_file('dev/translation/message_regenerate.phps') != 'd50e6c1506afb4d526462e97c28d390e89f07572') {
		warn('File cannot be created (checksum mismatch): dev/translation/message_regenerate.phps');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('dev/translation/message_regenerate.phps', 0755)) {
		warn('Could not change file permissions of dev/translation/message_regenerate.phps');
	}
} else {
	if (@sha1_file('dev/translation/message_regenerate.phps') !== 'd50e6c1506afb4d526462e97c28d390e89f07572') {
		if (@sha1_file('dev/translation/message_regenerate.phps') !== '6389d87a0595a19eb25ca3d273b4bcebc87bc787') {
			warn('File was modified. Will overwrite the changes now: dev/translation/message_regenerate.phps');
			$tmp = pathinfo('dev/translation/message_regenerate.phps');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('dev/translation/message_regenerate.phps')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('dev/translation/message_regenerate.phps', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('dev/translation/message_regenerate.phps') !== 'd50e6c1506afb4d526462e97c28d390e89f07572') {
			warn('File cannot be written (checksum mismatch): dev/translation/message_regenerate.phps');
		}
	}
}

// Files different: plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php
function writefile_2() {
	@$fp = fopen('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlQWRtaW5SZWdpc3RyYXRpb24gZXh0ZW5kcyBPSURwbHVzUGFnZVBsdWdpbkFkbWluIHsKCgkvKnByaXZhdGUqLyBjb25zdCBRVUVSWV9SRUdJU1RFUl9WMSA9ICAgICAg'));
	@fwrite($fp, base64_decode('ICAgJzEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjEuMS4xJzsKCS8qcHJpdmF0ZSovIGNvbnN0IFFVRVJZX1VOUkVHSVNURVJfVjEgPSAgICAgICAnMS4zLjYuMS40LjEuMzc0NzYuMi41LjIuMS4yLjEnOwoJLypwcml2YXRlKi8gY29uc3QgUVVFUllfTElTVEFMTFNZ'));
	@fwrite($fp, base64_decode('U1RFTUlEU19WMSA9ICcxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi4xLjMuMSc7CgkvKnByaXZhdGUqLyBjb25zdCBRVUVSWV9MSVZFU1RBVFVTX1YxID0gICAgICAgJzEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjEuNC4xJzsKCglwdWJsaWMgZnVuY3Rpb24gZ3VpKCRp'));
	@fwrite($fp, base64_decode('ZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJCWlmICgkaWQgPT09ICdvaWRwbHVzOnNydl9yZWdpc3RyYXRpb24nKSB7CgkJCSRoYW5kbGVkID0gdHJ1ZTsKCQkJJG91dFsndGl0bGUnXSA9IF9MKCdTeXN0ZW0gcmVnaXN0cmF0aW9uIHNldHRpbmdzJyk7CgkJCSRvdXRb'));
	@fwrite($fp, base64_decode('J2ljb24nXSA9IGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2JpZy5wbmcnKSA/IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ2ljb25fYmlnLnBuZycgOiAnJzsKCgkJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJJG91dFsndGV4dCddID0gJzxwPicuX0woJ1lvdSBuZWVkIHRvIDxhICUxPmxvZyBpbjwvYT4gYXMgYWRtaW5pc3RyYXRvci4nLE9JRHBsdXM6Omd1aSgpLT5saW5rKCdvaWRwbHVzOmxvZ2lu'));
	@fwrite($fp, base64_decode('JykpLic8L3A+JzsKCQkJCXJldHVybjsKCQkJfQoKCQkJaWYgKGZpbGVfZXhpc3RzKF9fRElSX18gLiAnL2luZm8kJy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicuaHRtbCcpKSB7CgkJCQkkaW5mbyA9IGZpbGVfZ2V0X2NvbnRlbnRzKF9fRElSX18gLiAnL2lu'));
	@fwrite($fp, base64_decode('Zm8kJy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicuaHRtbCcpOwoJCQl9IGVsc2UgewoJCQkJJGluZm8gPSBmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fIC4gJy9pbmZvLmh0bWwnKTsKCQkJfQoJCQkKCQkJbGlzdCgkaHRtbCwgJGpzLCAkY3NzKSA9IGV4dHJh'));
	@fwrite($fp, base64_decode('Y3RIdG1sQ29udGVudHMoJGluZm8pOwoJCQkkaW5mbyA9ICcnOwoJCQlpZiAoIWVtcHR5KCRqcykpICAkaW5mbyAuPSAiPHNjcmlwdD5cbiRqc1xuPC9zY3JpcHQ+IjsKCQkJaWYgKCFlbXB0eSgkY3NzKSkgJGluZm8gLj0gIjxzdHlsZT5cbiRjc3Ncbjwvc3R5bGU+'));
	@fwrite($fp, base64_decode('IjsKCQkJJGluZm8gLj0gJGh0bWw7CgoJCQkkb3V0Wyd0ZXh0J10gPSAkaW5mbzsKCgkJCWlmICghT0lEcGx1czo6Z2V0UGtpU3RhdHVzKCkpIHsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGZvbnQgY29sb3I9InJlZCI+Jy5fTCgnRXJyb3I6IFlvdXIgc3lzdGVt'));
	@fwrite($fp, base64_decode('IGNvdWxkIG5vdCBnZW5lcmF0ZSBhIHByaXZhdGUvcHVibGljIGtleSBwYWlyLiAoT3BlblNTTCBpcyBwcm9iYWJseSBtaXNzaW5nIG9uIHlvdXIgc3lzdGVtKS4gVGhlcmVmb3JlLCB5b3UgY2Fubm90IHJlZ2lzdGVyL3VucmVnaXN0ZXIgeW91ciBPSURwbHVzIGlu'));
	@fwrite($fp, base64_decode('c3RhbmNlLicpLic8L2ZvbnQ+PC9wPic7CgkJCX0gZWxzZSB7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxpbnB1dCB0eXBlPSJidXR0b24iIG9uY2xpY2s9Im9wZW5PaWRJblBhbmVsKFwnb2lkcGx1czpzcnZyZWdfc3RhdHVzXCcpOyIgdmFsdWU9IicuX0woJ0No'));
	@fwrite($fp, base64_decode('ZWNrIHN0YXR1cyBvZiB0aGUgcmVnaXN0cmF0aW9uIGFuZCBjb2xsZWN0ZWQgZGF0YScpLiciPjwvcD4nOwoKCQkJCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdSRUdJU1RSQVRJT05fSElERV9TWVNURU0nLCBmYWxzZSkpIHsKCQkJCQkkb3V0'));
	@fwrite($fp, base64_decode('Wyd0ZXh0J10gLj0gJzxwPjxmb250IGNvbG9yPSJyZWQiPjxiPicuX0woJ0F0dGVudGlvbiEnKS4nPC9iPiAnLl9MKCc8Y29kZT5SRUdJU1RSQVRJT05fSElERV9TWVNURU08L2NvZGU+IGlzIHNldCBpbiB0aGUgbG9jYWwgY29uZmlndXJhdGlvbiBmaWxlISBUaGVy'));
	@fwrite($fp, base64_decode('ZWZvcmUsIHRoaXMgc3lzdGVtIHdpbGwgbm90IHJlZ2lzdGVyIGl0c2VsZiwgZGVzcGl0ZSBvZiB0aGUgc2V0dGluZ3MgYmVsb3cuJykuJzwvZm9udD48L3A+JzsKCQkJCX0KCgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPicuX0woJ1lvdSBjYW4gYWRqdXN0IHlvdXIg'));
	@fwrite($fp, base64_decode('cHJpdmFjeSBsZXZlbCBoZXJlJykuJzo8L3A+PHA+PHNlbGVjdCBuYW1lPSJyZWdfcHJpdmFjeSIgaWQ9InJlZ19wcml2YWN5Ij4nOwoKCQkJCSMgLS0tCgoJCQkJJG91dFsndGV4dCddIC49ICc8b3B0aW9uIHZhbHVlPSIwIic7CgkJCQlpZiAoT0lEcGx1czo6Y29u'));
	@fwrite($fp, base64_decode('ZmlnKCktPmdldFZhbHVlKCdyZWdfcHJpdmFjeScpID09IDApIHsKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJyBzZWxlY3RlZCc7CgkJCQl9IGVsc2UgewoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnJzsKCQkJCX0KCQkJCSRvdXRbJ3RleHQnXSAuPSAnPicuX0woJzAgPSBS'));
	@fwrite($fp, base64_decode('ZWdpc3RlciB0byBkaXJlY3Rvcnkgc2VydmljZSBhbmQgYXV0b21hdGljYWxseSBwdWJsaXNoIFJBL09JRCBkYXRhIGF0IG9pZC1pbmZvLmNvbScpLic8L29wdGlvbj4nOwoKCQkJCSMgLS0tCgoJCQkJJG91dFsndGV4dCddIC49ICc8b3B0aW9uIHZhbHVlPSIxIic7'));
	@fwrite($fp, base64_decode('CgkJCQlpZiAoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyZWdfcHJpdmFjeScpID09IDEpIHsKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJyBzZWxlY3RlZCc7CgkJCQl9IGVsc2UgewoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnJzsKCQkJCX0KCQkJCSRvdXRbJ3Rl'));
	@fwrite($fp, base64_decode('eHQnXSAuPSAnPicuX0woJzEgPSBPbmx5IHJlZ2lzdGVyIHRvIGRpcmVjdG9yeSBzZXJ2aWNlJykuJzwvb3B0aW9uPic7CgoJCQkJIyAtLS0KCgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxvcHRpb24gdmFsdWU9IjIiJzsKCQkJCWlmIChPSURwbHVzOjpjb25maWcoKS0+'));
	@fwrite($fp, base64_decode('Z2V0VmFsdWUoJ3JlZ19wcml2YWN5JykgPT0gMikgewoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnIHNlbGVjdGVkJzsKCQkJCX0gZWxzZSB7CgkJCQkJJG91dFsndGV4dCddIC49ICcnOwoJCQkJfQoJCQkJJG91dFsndGV4dCddIC49ICc+Jy5fTCgnMiA9IEhpZGUgc3lz'));
	@fwrite($fp, base64_decode('dGVtJykuJzwvb3B0aW9uPic7CgoJCQkJIyAtLS0KCgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzwvc2VsZWN0PiA8aW5wdXQgdHlwZT0iYnV0dG9uIiB2YWx1ZT0iJy5fTCgnQ2hhbmdlJykuJyIgb25jbGljaz0iY3J1ZEFjdGlvblJlZ1ByaXZhY3lVcGRhdGUoKSI+PC9w'));
	@fwrite($fp, base64_decode('Pic7CgoJCQkJJG91dFsndGV4dCddIC49ICc8cD4nLl9MKCdBZnRlciBjbGlja2luZyAiY2hhbmdlIiwgeW91ciBPSURwbHVzIHN5c3RlbSB3aWxsIGNvbnRhY3QgdGhlIFZpYVRoaW5rU29mdCBzZXJ2ZXIgdG8gYWRqdXN0IChhZGQgb3IgcmVtb3ZlIGluZm9ybWF0'));
	@fwrite($fp, base64_decode('aW9uKSB5b3VyIHByaXZhY3kgc2V0dGluZy4gVGhpcyBtYXkgdGFrZSBhIGZldyBtaW51dGVzLicpLic8L3A+JzsKCgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPicuX0woJzxpPlByaXZhY3kgaW5mb3JtYXRpb246PC9pPiBQbGVhc2Ugbm90ZSB0aGF0IHJlbW92aW5n'));
	@fwrite($fp, base64_decode('IHlvdXIgc3lzdGVtIGZyb20gdGhlIGRpcmVjdG9yeSBkb2VzIG5vdCBhdXRvbWF0aWNhbGx5IGRlbGV0ZSBpbmZvcm1hdGlvbiBhYm91dCBPSURzIHdoaWNoIGFyZSBhbHJlYWR5IHB1Ymxpc2hlZCBhdCBvaWQtaW5mby5jb20uIFRvIHJlbW92ZSBhbHJlYWR5IHN1'));
	@fwrite($fp, base64_decode('Ym1pdHRlZCBPSURzIGF0IG9pZC1pbmZvLmNvbSwgcGxlYXNlIGNvbnRhY3QgdGhlIDxhIGhyZWY9Im1haWx0bzphZG1pbkBvaWQtaW5mby5jb20iPk9JRCBSZXBvc2l0b3J5IFdlYm1hc3RlcjwvYT4uJykuJzwvcD4nOwoJCQl9CgkJfQoJCWlmICgkaWQgPT09ICdv'));
	@fwrite($fp, base64_decode('aWRwbHVzOnNydnJlZ19zdGF0dXMnKSB7CgkJCSRoYW5kbGVkID0gdHJ1ZTsKCgkJCSRxdWVyeSA9IHNlbGY6OlFVRVJZX0xJVkVTVEFUVVNfVjE7CgoJCQkkcGF5bG9hZCA9IGFycmF5KAoJCQkJInF1ZXJ5IiA9PiAkcXVlcnksIC8vIHdlIG11c3QgcmVwZWF0IHRo'));
	@fwrite($fp, base64_decode('ZSBxdWVyeSBiZWNhdXNlIHdlIHdhbnQgdG8gc2lnbiBpdAoJCQkJInN5c3RlbV9pZCIgPT4gT0lEcGx1czo6Z2V0U3lzdGVtSWQoZmFsc2UpCgkJCSk7CgoJCQkkc2lnbmF0dXJlID0gJyc7CgkJCWlmICghQG9wZW5zc2xfc2lnbihqc29uX2VuY29kZSgkcGF5bG9h'));
	@fwrite($fp, base64_decode('ZCksICRzaWduYXR1cmUsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnb2lkcGx1c19wcml2YXRlX2tleScpKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1NpZ25hdHVyZSBmYWlsZWQnKSk7CgkJCX0KCgkJCSRkYXRhID0gYXJyYXko'));
	@fwrite($fp, base64_decode('CgkJCQkicGF5bG9hZCIgPT4gJHBheWxvYWQsCgkJCQkic2lnbmF0dXJlIiA9PiBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpCgkJCSk7CgoJCQkkY2ggPSBjdXJsX2luaXQoKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJ2h0dHBzOi8vb2lkcGx1'));
	@fwrite($fp, base64_decode('cy52aWF0aGlua3NvZnQuY29tL3JlZzIvcXVlcnkucGhwJyk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCAxKTsKCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1BPU1RGSUVMRFMsICJxdWVyeT0kcXVlcnkmZGF0YT0iLmJhc2U2NF9lbmNvZGUo'));
	@fwrite($fp, base64_decode('anNvbl9lbmNvZGUoJGRhdGEpKSk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgdHJ1ZSk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9Q'));
	@fwrite($fp, base64_decode('VF9BVVRPUkVGRVJFUiwgdHJ1ZSk7CgkJCWlmICghKCRyZXMgPSBAY3VybF9leGVjKCRjaCkpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnQ29tbXVuaWNhdGlvbiB3aXRoIFZpYVRoaW5rU29mdCBzZXJ2ZXIgZmFpbGVkOiAlMScsY3VybF9l'));
	@fwrite($fp, base64_decode('cnJvcigkY2gpKSk7CgkJCX0KCQkJY3VybF9jbG9zZSgkY2gpOwoKCQkJJGpzb24gPSBAanNvbl9kZWNvZGUoJHJlcywgdHJ1ZSk7CgoJCQlpZiAoISRqc29uKSB7CgkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJJG91dFsndGV4dCdd'));
	@fwrite($fp, base64_decode('ID0gX0woJ0pTT04gcmVwbHkgZnJvbSBWaWFUaGlua1NvZnQgZGVjb2RpbmcgZXJyb3I6ICUxJywkcmVzKTsKCQkJCXJldHVybjsKCQkJfQoKCQkJaWYgKGlzc2V0KCRqc29uWydlcnJvciddKSB8fCAoJGpzb25bJ3N0YXR1cyddIDwgMCkpIHsKCQkJCSRvdXRbJ2lj'));
	@fwrite($fp, base64_decode('b24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQlpZiAoaXNzZXQoJGpzb25bJ2Vycm9yJ10pKSB7CgkJCQkJJG91dFsndGV4dCddID0gX0woJ1JlY2VpdmVkIGVycm9yIHN0YXR1cyBjb2RlOiAlMScsJGpzb25bJ2Vycm9yJ10pOwoJCQkJfSBlbHNlIHsKCQkJ'));
	@fwrite($fp, base64_decode('CQkkb3V0Wyd0ZXh0J10gPSBfTCgnUmVjZWl2ZWQgZXJyb3Igc3RhdHVzIGNvZGU6ICUxJywkanNvblsnc3RhdHVzJ10pOwoJCQkJfQoJCQkJcmV0dXJuOwoJCQl9CgoJCQkkb3V0Wyd0aXRsZSddID0gX0woJ1JlZ2lzdHJhdGlvbiBsaXZlIHN0YXR1cycpOwoJCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd0ZXh0J10gID0gJzxwPjxhICcuT0lEcGx1czo6Z3VpKCktPmxpbmsoJ29pZHBsdXM6c3J2X3JlZ2lzdHJhdGlvbicpLic+PGltZyBzcmM9ImltZy9hcnJvd19iYWNrLnBuZyIgd2lkdGg9IjE2IiBhbHQ9IicuX0woJ0dvIGJhY2snKS4nIj4gJy5fTCgnR28g'));
	@fwrite($fp, base64_decode('YmFjayB0byByZWdpc3RyYXRpb24gc2V0dGluZ3MnKS4nPC9hPjwvcD4nIC4KCQkJICAgICAgICAgICAgICAgICRqc29uWydjb250ZW50J107CgkJfQoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBhcmVXZVJlZ2lzdGVyZWQoKSB7CgkJLy8gVG8gY2hlY2sgaWYgd2Ug'));
	@fwrite($fp, base64_decode('YXJlIHJlZ2lzdGVyZWQuIENoZWNrIGl0ICJhbm9ueW1vdXNseSIgKGkuZS4gd2l0aG91dCByZXZlYWxpbmcgb3VyIHN5c3RlbSBJRCkKCQkkcmVzID0gZmlsZV9nZXRfY29udGVudHMoJ2h0dHBzOi8vb2lkcGx1cy52aWF0aGlua3NvZnQuY29tL3JlZzIvcXVlcnku'));
	@fwrite($fp, base64_decode('cGhwP3F1ZXJ5PScuc2VsZjo6UVVFUllfTElTVEFMTFNZU1RFTUlEU19WMSk7CgoJCSRqc29uID0gQGpzb25fZGVjb2RlKCRyZXMsIHRydWUpOwoKCQlpZiAoISRqc29uKSB7CgkJCXJldHVybiBmYWxzZTsgLy8gdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0wo'));
	@fwrite($fp, base64_decode('J0pTT04gcmVwbHkgZnJvbSBWaWFUaGlua1NvZnQgZGVjb2RpbmcgZXJyb3I6ICUxJywkcmVzKSk7CgkJfQoKCQlpZiAoaXNzZXQoJGpzb25bJ2Vycm9yJ10pIHx8ICgkanNvblsnc3RhdHVzJ10gPCAwKSkgewoJCQlpZiAoaXNzZXQoJGpzb25bJ2Vycm9yJ10pKSB7'));
	@fwrite($fp, base64_decode('CgkJCQlyZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdSZWNlaXZlZCBlcnJvciBzdGF0dXMgY29kZTogJTEnLCRqc29uWydlcnJvciddKSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBPSURw'));
	@fwrite($fp, base64_decode('bHVzRXhjZXB0aW9uKF9MKCdSZWNlaXZlZCBlcnJvciBzdGF0dXMgY29kZTogJTEnLCRqc29uWydzdGF0dXMnXSkpOwoJCQl9CgkJfQoKCQkkbGlzdCA9ICRqc29uWydsaXN0J107CgoJCXJldHVybiBpbl9hcnJheShPSURwbHVzOjpnZXRTeXN0ZW1JZChmYWxzZSks'));
	@fwrite($fp, base64_decode('ICRsaXN0KTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gc2VuZFJlZ2lzdHJhdGlvblF1ZXJ5KCRwcml2YWN5X2xldmVsPW51bGwpIHsKCQlpZiAoaXNfbnVsbCgkcHJpdmFjeV9sZXZlbCkpIHsKCQkJJHByaXZhY3lfbGV2ZWwgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0'));
	@fwrite($fp, base64_decode('VmFsdWUoJ3JlZ19wcml2YWN5Jyk7CgkJfQoKCQkkc3lzdGVtX3VybCA9IE9JRHBsdXM6OmdldFN5c3RlbVVybCgpOwoKCQkvLyBJdCBpcyB2ZXJ5IGltcG9ydGFudCB0aGF0IHdlIHNldCB0aGUgcGluZyB0aW1lIE5PVywgYmVjYXVzZSBWaWFUaGlua1NvZnQgbWln'));
	@fwrite($fp, base64_decode('aHQgY29udGFjdCB1cyBkdXJpbmcgdGhlIHBpbmcsCgkJLy8gYW5kIHRoaXMgd291bGQgY2F1c2UgYW4gZW5kbGVzcyBsb29wIQoJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgncmVnX2xhc3RfcGluZycsIHRpbWUoKSk7CgoJCWlmICghT0lEcGx1czo6Z2V0'));
	@fwrite($fp, base64_decode('UGtpU3RhdHVzKCkpIHJldHVybiBmYWxzZTsKCgkJaWYgKCRwcml2YWN5X2xldmVsID09IDIpIHsKCQkJLy8gVGhlIHVzZXIgd2FudHMgdG8gdW5yZWdpc3RlciwgIGJ1dCB3ZSBvbmx5IHVucmVnaXN0ZXIgaWYgd2UgYXJlIHJlZ2lzdGVyZWQKCQkJaWYgKCR0aGlz'));
	@fwrite($fp, base64_decode('LT5hcmVXZVJlZ2lzdGVyZWQoKSkgewoJCQkJJHF1ZXJ5ID0gc2VsZjo6UVVFUllfVU5SRUdJU1RFUl9WMTsKCgkJCQkkcGF5bG9hZCA9IGFycmF5KAoJCQkJCSJxdWVyeSIgPT4gJHF1ZXJ5LCAvLyB3ZSBtdXN0IHJlcGVhdCB0aGUgcXVlcnkgYmVjYXVzZSB3ZSB3'));
	@fwrite($fp, base64_decode('YW50IHRvIHNpZ24gaXQKCQkJCQkic3lzdGVtX2lkIiA9PiBPSURwbHVzOjpnZXRTeXN0ZW1JZChmYWxzZSkKCQkJCSk7CgoJCQkJJHNpZ25hdHVyZSA9ICcnOwoJCQkJaWYgKCFAb3BlbnNzbF9zaWduKGpzb25fZW5jb2RlKCRwYXlsb2FkKSwgJHNpZ25hdHVyZSwg'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdvaWRwbHVzX3ByaXZhdGVfa2V5JykpKSB7CgkJCQkJcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnU2lnbmF0dXJlIGZhaWxlZCcpKTsKCQkJCX0KCgkJCQkkZGF0YSA9IGFy'));
	@fwrite($fp, base64_decode('cmF5KAoJCQkJCSJwYXlsb2FkIiA9PiAkcGF5bG9hZCwKCQkJCQkic2lnbmF0dXJlIiA9PiBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpCgkJCQkpOwoKCQkJCSRjaCA9IGN1cmxfaW5pdCgpOwoJCQkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJ2h0dHBz'));
	@fwrite($fp, base64_decode('Oi8vb2lkcGx1cy52aWF0aGlua3NvZnQuY29tL3JlZzIvcXVlcnkucGhwJyk7CgkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgMSk7CgkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVEZJRUxEUywgInF1ZXJ5PSRxdWVyeSZkYXRhPSIuYmFz'));
	@fwrite($fp, base64_decode('ZTY0X2VuY29kZShqc29uX2VuY29kZSgkZGF0YSkpKTsKCQkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgdHJ1ZSk7CgkJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIHRydWUpOwoJCQkJY3VybF9zZXRv'));
	@fwrite($fp, base64_decode('cHQoJGNoLCBDVVJMT1BUX0FVVE9SRUZFUkVSLCB0cnVlKTsKCQkJCWlmICghKCRyZXMgPSBAY3VybF9leGVjKCRjaCkpKSB7CgkJCQkJcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnQ29tbXVuaWNhdGlvbiB3aXRoIFZpYVRo'));
	@fwrite($fp, base64_decode('aW5rU29mdCBzZXJ2ZXIgZmFpbGVkOiAlMScsY3VybF9lcnJvcigkY2gpKSk7CgkJCQl9CgkJCQljdXJsX2Nsb3NlKCRjaCk7CgoJCQkJJGpzb24gPSBAanNvbl9kZWNvZGUoJHJlcywgdHJ1ZSk7CgoJCQkJaWYgKCEkanNvbikgewoJCQkJCXJldHVybiBmYWxzZTsg'));
	@fwrite($fp, base64_decode('Ly8gdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0pTT04gcmVwbHkgZnJvbSBWaWFUaGlua1NvZnQgZGVjb2RpbmcgZXJyb3I6ICUxJywkcmVzKSk7CgkJCQl9CgoJCQkJaWYgKGlzc2V0KCRqc29uWydlcnJvciddKSB8fCAoJGpzb25bJ3N0YXR1cyddIDwg'));
	@fwrite($fp, base64_decode('MCkpIHsKCQkJCQlpZiAoaXNzZXQoJGpzb25bJ2Vycm9yJ10pKSB7CgkJCQkJCXJldHVybiBmYWxzZTsgLy8gdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1JlY2VpdmVkIGVycm9yIHN0YXR1cyBjb2RlOiAlMScsJGpzb25bJ2Vycm9yJ10pKTsKCQkJCQl9'));
	@fwrite($fp, base64_decode('IGVsc2UgewoJCQkJCQlyZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdSZWNlaXZlZCBlcnJvciBzdGF0dXMgY29kZTogJTEnLCRqc29uWydzdGF0dXMnXSkpOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCWlmICgk'));
	@fwrite($fp, base64_decode('cHJpdmFjeV9sZXZlbCA9PSAwKSB7CgkJCQkkYWRtaW5FeHBvcnRQbHVnaW4gPSBPSURwbHVzOjpnZXRQbHVnaW5CeU9pZCgnMS4zLjYuMS40LjEuMzc0NzYuMi41LjIuNC4zLjQwMCcpOyAvLyBPSURwbHVzUGFnZUFkbWluT0lESW5mb0V4cG9ydAoJCQkJaWYgKCFp'));
	@fwrite($fp, base64_decode('c19udWxsKCRhZG1pbkV4cG9ydFBsdWdpbikpIHsKCQkJCQlvYl9zdGFydCgpOwoJCQkJCU9JRHBsdXNQYWdlQWRtaW5PSURJbmZvRXhwb3J0OjpvdXRwdXRYTUwoZmFsc2UpOyAvLyBubyBvbmxpbmUgY2hlY2ssIGJlY2F1c2UgdGhlIHF1ZXJ5IHNob3VsZCBiZSBz'));
	@fwrite($fp, base64_decode('aG9ydCAoc2luY2UgdGhlIHF1ZXJ5IGlzIGRvbmUgd2hpbGUgYSB2aXNpdG9yIHdhaXRzIGZvciB0aGUgcmVzcG9uc2UpCgkJCQkJJG9pZGluZm9feG1sID0gb2JfZ2V0X2NvbnRlbnRzKCk7CgkJCQkJb2JfZW5kX2NsZWFuKCk7CgkJCQl9IGVsc2UgewoJCQkJCSRv'));
	@fwrite($fp, base64_decode('aWRpbmZvX3htbCA9IGZhbHNlOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJJG9pZGluZm9feG1sID0gZmFsc2U7CgkJCX0KCgkJCSRxdWVyeSA9IHNlbGY6OlFVRVJZX1JFR0lTVEVSX1YxOwoKCQkJJHJvb3Rfb2lkcyA9IGFycmF5KCk7CgkJCWZvcmVhY2ggKE9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmdldEVuYWJsZWRPYmplY3RUeXBlcygpIGFzICRvdCkgewoJCQkJaWYgKCRvdDo6bnMoKSA9PSAnb2lkJykgewoJCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSAiIC4KCQkJCQkgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICAgInBhcmVudCA9ICdvaWQ6JyBvciAiIC4KCQkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGZvbGxvd2luZyB0d28gY2FzZXMgYXJlIHNwZWNpYWwgY2FzZXMgZS5nLiBpZiB0aGVyZSBhcmUgbXVsdGlwbGUg'));
	@fwrite($fp, base64_decode('UEVOIG9yIFVVSUQtT0lEcywgYW5kIHRoZSBzeXN0ZW0gb3duZXIgZGVjaWRlcyB0byB1c2UgdGhlIElBTkEgUEVOIGFzIHJvb3QgT0lELCBidXQgYWN0dWFsbHksIGl0IGlzIG5vdCAiaGlzIiByb290IHRoZW4hIFRoZSBPSURzIGluc2lkZSB0aGUgSUFOQSBQRU4g'));
	@fwrite($fp, base64_decode('cm9vdCBhcmUgaGlzIHJvb3QgdGhlbiEKCQkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgInBhcmVudCBpbiAoc2VsZWN0IG9pZCBmcm9tICMjI2FzbjFpZCB3aGVyZSB3ZWxsX2tub3duID0gMSkgb3IgIiAuCgkJCQkJICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICJwYXJlbnQgaW4gKHNlbGVjdCBvaWQgZnJvbSAjIyNpcmkgd2hlcmUgd2VsbF9rbm93biA9IDEpICIgLgoJCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3JkZXIgYnkgIi5PSURwbHVzOjpkYigpLT5uYXRPcmRlcignaWQnKSk7CgkJCQkJ'));
	@fwrite($fp, base64_decode('d2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpKSB7CgkJCQkJCSRyb290X29pZHNbXSA9IHN1YnN0cigkcm93WydpZCddLHN0cmxlbignb2lkOicpKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJJHBheWxvYWQgPSBhcnJheSgKCQkJCSJxdWVyeSIgPT4gJHF1'));
	@fwrite($fp, base64_decode('ZXJ5LCAvLyB3ZSBtdXN0IHJlcGVhdCB0aGUgcXVlcnkgYmVjYXVzZSB3ZSB3YW50IHRvIHNpZ24gaXQKCQkJCSJwcml2YWN5X2xldmVsIiA9PiAkcHJpdmFjeV9sZXZlbCwKCQkJCSJzeXN0ZW1faWQiID0+IE9JRHBsdXM6OmdldFN5c3RlbUlkKGZhbHNlKSwKCQkJ'));
	@fwrite($fp, base64_decode('CSJwdWJsaWNfa2V5IiA9PiBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScpLAoJCQkJInN5c3RlbV91cmwiID0+ICRzeXN0ZW1fdXJsLAoJCQkJImhpZGVfc3lzdGVtX3VybCIgPT4gMCwKCQkJCSJoaWRlX3B1YmxpY19rZXki'));
	@fwrite($fp, base64_decode('ID0+IDAsCgkJCQkiYWRtaW5fZW1haWwiID0+IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnYWRtaW5fZW1haWwnKSwKCQkJCSJzeXN0ZW1fdGl0bGUiID0+IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnc3lzdGVtX3RpdGxlJyksCgkJCQkib2lkaW5m'));
	@fwrite($fp, base64_decode('b194bWwiID0+IEBiYXNlNjRfZW5jb2RlKCRvaWRpbmZvX3htbCksCgkJCQkicm9vdF9vaWRzIiA9PiAkcm9vdF9vaWRzLAoJCQkJInN5c3RlbV92ZXJzaW9uIiA9PiBPSURwbHVzOjpnZXRWZXJzaW9uKCksCgkJCQkic3lzdGVtX2luc3RhbGxfdHlwZSIgPT4gT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6Z2V0SW5zdGFsbFR5cGUoKQoJCQkpOwoKCQkJJHNpZ25hdHVyZSA9ICcnOwoJCQlpZiAoIUBvcGVuc3NsX3NpZ24oanNvbl9lbmNvZGUoJHBheWxvYWQpLCAkc2lnbmF0dXJlLCBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0'));
	@fwrite($fp, base64_decode('ZV9rZXknKSkpIHsKCQkJCQlyZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdTaWduYXR1cmUgZmFpbGVkJykpOwoJCQl9CgoJCQkkZGF0YSA9IGFycmF5KAoJCQkJInBheWxvYWQiID0+ICRwYXlsb2FkLAoJCQkJInNpZ25hdHVy'));
	@fwrite($fp, base64_decode('ZSIgPT4gYmFzZTY0X2VuY29kZSgkc2lnbmF0dXJlKQoJCQkpOwoKCQkJJGNoID0gY3VybF9pbml0KCk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICdodHRwczovL29pZHBsdXMudmlhdGhpbmtzb2Z0LmNvbS9yZWcyL3F1ZXJ5LnBocCcpOwoJCQlj'));
	@fwrite($fp, base64_decode('dXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUE9TVCwgMSk7CgkJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NURklFTERTLCAicXVlcnk9JHF1ZXJ5JmRhdGE9Ii5iYXNlNjRfZW5jb2RlKGpzb25fZW5jb2RlKCRkYXRhKSkpOwoJCQljdXJsX3NldG9wdCgkY2gs'));
	@fwrite($fp, base64_decode('IENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRk9MTE9XTE9DQVRJT04sIHRydWUpOwoJCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfQVVUT1JFRkVSRVIsIHRydWUpOwoJCQlpZiAoISgkcmVzID0gQGN1'));
	@fwrite($fp, base64_decode('cmxfZXhlYygkY2gpKSkgewoJCQkJcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnQ29tbXVuaWNhdGlvbiB3aXRoIFZpYVRoaW5rU29mdCBzZXJ2ZXIgZmFpbGVkOiAlMScsY3VybF9lcnJvcigkY2gpKSk7CgkJCX0KCQkJY3Vy'));
	@fwrite($fp, base64_decode('bF9jbG9zZSgkY2gpOwoKCQkJJGpzb24gPSBAanNvbl9kZWNvZGUoJHJlcywgdHJ1ZSk7CgoJCQlpZiAoISRqc29uKSB7CgkJCQlyZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdKU09OIHJlcGx5IGZyb20gVmlhVGhpbmtTb2Z0'));
	@fwrite($fp, base64_decode('IGRlY29kaW5nIGVycm9yOiAlMScsJHJlcykpOwoJCQl9CgoJCQlpZiAoaXNzZXQoJGpzb25bJ2Vycm9yJ10pIHx8ICgkanNvblsnc3RhdHVzJ10gPCAwKSkgewoJCQkJaWYgKGlzc2V0KCRqc29uWydlcnJvciddKSkgewoJCQkJCXJldHVybiBmYWxzZTsgLy8gdGhy'));
	@fwrite($fp, base64_decode('b3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1JlY2VpdmVkIGVycm9yIHN0YXR1cyBjb2RlOiAlMScsJGpzb25bJ2Vycm9yJ10pKTsKCQkJCX0gZWxzZSB7CgkJCQkJcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnUmVjZWl2'));
	@fwrite($fp, base64_decode('ZWQgZXJyb3Igc3RhdHVzIGNvZGU6ICUxJywkanNvblsnc3RhdHVzJ10pKTsKCQkJCX0KCQkJfSBlbHNlIGlmICgkanNvblsnc3RhdHVzJ10gPT0gOTkvKkhhc2ggY29uZmxpY3QqLykgewoJCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiW1dBUk5dQSEiLCAiUmVt'));
	@fwrite($fp, base64_decode('b3ZpbmcgU3lzdGVtSUQgYW5kIGtleSBwYWlyIGJlY2F1c2UgdGhlcmUgaXMgYSBoYXNoIGNvbmZsaWN0IHdpdGggYW5vdGhlciBPSURwbHVzIHN5c3RlbSEiKTsKCgkJCQkvLyBEZWxldGUgdGhlIHN5c3RlbSBJRCBzaW5jZSB3ZSBoYXZlIGEgY29uZmxpY3Qgd2l0'));
	@fwrite($fp, base64_decode('aCB0aGUgMzEtYml0IGhhc2ghCgkJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknLCAnJyk7CgkJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScsICcnKTsKCgkJCQkvLyBUcnkg'));
	@fwrite($fp, base64_decode('dG8gZ2VuZXJhdGUgYSBuZXcgc3lzdGVtIElECgkJCQlPSURwbHVzOjpnZXRQa2lTdGF0dXModHJ1ZSk7CgoJCQkJLy8gRW5mb3JjZSBhIG5ldyByZWdpc3RyYXRpb24gYXR0ZW1wdCBhdCB0aGUgbmV4dCBwYWdlIHZpc2l0CgkJCQkvLyBXZSB3aWxsIG5vdCB0cnkg'));
	@fwrite($fp, base64_decode('YWdhaW4gaGVyZSwgYmVjYXVzZSB0aGF0IG1pZ2h0IGxlYWQgdG8gYW4gZW5kbGVzcyBsb29wIGlmIHRoZSBWVFMgc2VydmVyIHdvdWxkIGFsd2F5cyByZXR1cm4gJ0hBU0hfQ09ORkxDSVQnCgkJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ3JlZ19sYXN0'));
	@fwrite($fp, base64_decode('X3BpbmcnLCAwKTsKCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5pdCgkaHRtbD10cnVlKSB7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ3JlZ19wcml2YWN5JywgJzI9SGlkZSB5b3VyIHN5c3RlbSwgMT1SZWdpc3RlciB5b3Vy'));
	@fwrite($fp, base64_decode('IHN5c3RlbSB0byB0aGUgVmlhVGhpbmtTb2Z0IGRpcmVjdG9yeSBhbmQgb2lkLWluZm8uY29tLCAwPVB1Ymxpc2ggeW91ciBzeXN0ZW0gdG8gVmlhVGhpbmtTb2Z0IGRpcmVjdG9yeSBhbmQgYWxsIHB1YmxpYyBjb250ZW50cyAoUkEvT0lEKSB0byBvaWQtaW5mby5j'));
	@fwrite($fp, base64_decode('b20nLCAnMCcsIE9JRHBsdXNDb25maWc6OlBST1RFQ1RJT05fRURJVEFCTEUsIGZ1bmN0aW9uKCR2YWx1ZSkgewoJCQlpZiAoKCR2YWx1ZSAhPSAnMCcpICYmICgkdmFsdWUgIT0gJzEnKSAmJiAoJHZhbHVlICE9ICcyJykpIHsKCQkJCXRocm93IG5ldyBPSURwbHVz'));
	@fwrite($fp, base64_decode('RXhjZXB0aW9uKF9MKCdQbGVhc2UgZW50ZXIgZWl0aGVyIDAsIDEgb3IgMi4nKSk7CgkJCX0KCQkJLy8gTm93IGRvIGEgcmVjaGVjayBhbmQgbm90aWZ5IHRoZSBWaWFUaGlua1NvZnQgc2VydmVyCgkJCWlmICgoJHZhbHVlID09IDIpIHx8ICFPSURwbHVzOjpiYXNl'));
	@fwrite($fp, base64_decode('Q29uZmlnKCktPmdldFZhbHVlKCdSRUdJU1RSQVRJT05fSElERV9TWVNURU0nLCBmYWxzZSkpIHsKCQkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgncmVnX2xhc3RfcGluZycsIDApOwoJCQkJJHRoaXMtPnNlbmRSZWdpc3RyYXRpb25RdWVyeSgkdmFsdWUp'));
	@fwrite($fp, base64_decode('OwoJCQl9CgkJfSk7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ3JlZ19waW5nX2ludGVydmFsJywgJ1JlZ2lzdHJhdGlvbiBwaW5nIGludGVydmFsIChpbiBzZWNvbmRzKScsICczNjAwJywgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9I'));
	@fwrite($fp, base64_decode('SURERU4sIGZ1bmN0aW9uKCR2YWx1ZSkgewoKCQl9KTsKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgncmVnX2xhc3RfcGluZycsICdMYXN0IHBpbmcgdG8gVmlhVGhpbmtTb2Z0IGRpcmVjdG9yeSBzZXJ2aWNlcycsICcwJywgT0lEcGx1c0Nv'));
	@fwrite($fp, base64_decode('bmZpZzo6UFJPVEVDVElPTl9ISURERU4sIGZ1bmN0aW9uKCR2YWx1ZSkgewoKCQl9KTsKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgnb29iZV9yZWdpc3RyYXRpb25fZG9uZScsICciT3V0IE9mIEJveCBFeHBlcmllbmNlIiB3aXphcmQgZm9y'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNQYWdlQWRtaW5SZWdpc3RyYXRpb24gZG9uZSBvbmNlPycsICcwJywgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9ISURERU4sIGZ1bmN0aW9uKCR2YWx1ZSkge30pOwoKCQkvLyBJcyBpdCB0aW1lIHRvIHJlZ2lzdGVyIC8gcmVuZXcgdGhlIGRpcmVj'));
	@fwrite($fp, base64_decode('dG9yeSBlbnRyeT8KCQkvLyBOb3RlOiBSRUdJU1RSQVRJT05fSElERV9TWVNURU0gaXMgYW4gdW5kb2N1bWVudGVkIGNvbnN0YW50IHRoYXQgY2FuIGJlIHB1dCBpbiB0aGUgdXNlcmRhdGEvYmFzZWNvbmZpZy9jb25maWcuaW5jLnBocCBmaWxlcyBvZiBhIHRlc3Qg'));
	@fwrite($fp, base64_decode('c3lzdGVtIGFjY2Vzc2luZyB0aGUgc2FtZSBkYXRhYmFzZSBhcyB0aGUgcHJvZHVjdGl2ZSBzeXN0ZW0gdGhhdCBpcyByZWdpc3RlcmVkLgoJCS8vIFRoaXMgYXZvaWRzIHRoYXQgdGhlIFVSTCBvZiBhIHByb2R1Y3RpdmUgc3lzdGVtIGlzIG92ZXJyaWRkZW4gd2l0'));
	@fwrite($fp, base64_decode('aCB0aGUgVVJMIG9mIGEgY2xvbmVkIHRlc3Qgc3lzdGVtIChzaW5jZSB0aGV5IHVzZSB0aGUgc2FtZSBkYXRhYmFzZSwgdGhleSBhbHNvIGhhdmUgdGhlIHNhbWUgc3lzdGVtIElEKQoKCQlpZiAoIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFR0lT'));
	@fwrite($fp, base64_decode('VFJBVElPTl9ISURFX1NZU1RFTScsIGZhbHNlKSkgewoJCQkkcHJpdmFjeV9sZXZlbCA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgncmVnX3ByaXZhY3knKTsKCgkJCWlmIChwaHBfc2FwaV9uYW1lKCkgIT09ICdjbGknKSB7IC8vIGRvbid0IHJlZ2lzdGVy'));
	@fwrite($fp, base64_decode('IHdoZW4gY2FsbGVkIGZyb20gQ0xJLCBvdGhlcndpc2UgdGhlIG9pZGluZm8gWE1MIGNhbid0IGNvbnZlcnQgcmVsYXRpdmUgbGlua3MgaW50byBhYnNvbHV0ZSBsaW5rcwoJCQkJaWYgKCh0aW1lKCktT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyZWdfbGFz'));
	@fwrite($fp, base64_decode('dF9waW5nJykgPj0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyZWdfcGluZ19pbnRlcnZhbCcpKSkgewoJCQkJCSR0aGlzLT5zZW5kUmVnaXN0cmF0aW9uUXVlcnkoKTsKCQkJCX0KCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZSgmJGpzb24s'));
	@fwrite($fp, base64_decode('ICRyYV9lbWFpbD1udWxsLCAkbm9uanM9ZmFsc2UsICRyZXFfZ290bz0nJykgewoJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSByZXR1cm4gZmFsc2U7CgoJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5n'));
	@fwrite($fp, base64_decode('JykpIHsKCQkJJHRyZWVfaWNvbiA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3RyZWVpY29uLnBuZyc7CgkJfSBlbHNlIHsKCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCX0KCgkJJGpzb25bXSA9IGFycmF5KAoJCQkn'));
	@fwrite($fp, base64_decode('aWQnID0+ICdvaWRwbHVzOnNydl9yZWdpc3RyYXRpb24nLAoJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+IF9MKCdTeXN0ZW0gcmVnaXN0cmF0aW9uJykKCQkpOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZV9zZWFy'));
	@fwrite($fp, base64_decode('Y2goJHJlcXVlc3QpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGltcGxlbWVudHNGZWF0dXJlKCRpZCkgewoJCWlmIChzdHJ0b2xvd2VyKCRpZCkgPT0gJzEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjMuMScpIHJldHVybiB0cnVlOyAvLyBv'));
	@fwrite($fp, base64_decode('b2JlRW50cnksIG9vYmVSZXF1ZXN0ZWQKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG9vYmVSZXF1ZXN0ZWQoKTogYm9vbCB7CgkJLy8gSW50ZXJmYWNlIDEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjMuMQoKCQlyZXR1cm4gT0lEcGx1czo6Y29u'));
	@fwrite($fp, base64_decode('ZmlnKCktPmdldFZhbHVlKCdvb2JlX3JlZ2lzdHJhdGlvbl9kb25lJykgPT0gJzAnOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBvb2JlRW50cnkoJHN0ZXAsICRkb19lZGl0cywgJiRlcnJvcnNfaGFwcGVuZWQpLyo6IHZvaWQqLyB7CgkJLy8gSW50ZXJmYWNlIDEuMy42'));
	@fwrite($fp, base64_decode('LjEuNC4xLjM3NDc2LjIuNS4yLjMuMQoKCQllY2hvICc8cD48dT4nLl9MKCdTdGVwICUxOiBTeXN0ZW0gcmVnaXN0cmF0aW9uIGFuZCBhdXRvbWF0aWMgcHVibGlzaGluZyAob3B0aW9uYWwpJywkc3RlcCkuJzwvdT48L3A+JzsKCgkJaWYgKGZpbGVfZXhpc3RzKF9f'));
	@fwrite($fp, base64_decode('RElSX18gLiAnL2luZm8kJy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicuaHRtbCcpKSB7CgkJCSRpbmZvID0gZmlsZV9nZXRfY29udGVudHMoX19ESVJfXyAuICcvaW5mbyQnLk9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCkuJy5odG1sJyk7CgkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJJGluZm8gPSBmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fIC4gJy9pbmZvLmh0bWwnKTsKCQl9CgoJCS8vIG1ha2Ugc3VyZSB0aGUgcHJvZ3JhbSB3b3JrcyBldmVuIGlmIHRoZSB1c2VyIHByb3ZpZGVkIEhUTUwgaXMgbm90IFVURi04CgkJJGluZm8gPSBpY29u'));
	@fwrite($fp, base64_decode('dihtYl9kZXRlY3RfZW5jb2RpbmcoJGluZm8sIG1iX2RldGVjdF9vcmRlcigpLCB0cnVlKSwgJ1VURi04Ly9JR05PUkUnLCAkaW5mbyk7CgkJJGJvbSA9IHBhY2soJ0gqJywnRUZCQkJGJyk7CgkJJGluZm8gPSBwcmVnX3JlcGxhY2UoIi9eJGJvbS8iLCAnJywgJGlu'));
	@fwrite($fp, base64_decode('Zm8pOwoKCQllY2hvICRpbmZvOwoKCQlpZiAoIWZ1bmN0aW9uX2V4aXN0cygnY3VybF9leGVjJykpIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+JzsKCQkJZWNobyBfTCgnTm90ZTogVGhlICJDVVJMIiBQSFAgZXh0ZW5zaW9uIGlzIG5vdCBpbnN0YWxs'));
	@fwrite($fp, base64_decode('ZWQgYXQgeW91ciBzeXN0ZW0uIFBsZWFzZSBlbmFibGUgdGhlIFBIUCBleHRlbnNpb24gPGNvZGU+cGhwX2N1cmw8L2NvZGU+LicpLicgJzsKCQkJZWNobyBfTCgnVGhlcmVmb3JlLCB5b3UgPGI+Y2Fubm90PC9iPiByZWdpc3RlciB5b3VyIE9JRHBsdXMgaW5zdGFu'));
	@fwrite($fp, base64_decode('Y2Ugbm93LicpOwoJCQllY2hvICc8L2ZvbnQ+PC9wPic7CgkJCWlmICgkZG9fZWRpdHMpIHsKCQkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgnb29iZV9yZWdpc3RyYXRpb25fZG9uZScsICcxJyk7CgkJCX0KCQkJcmV0dXJuOwoJCX0KCgkJJHRlc3R1cmwg'));
	@fwrite($fp, base64_decode('PSAnaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8nOwoJCSRjaCA9IGN1cmxfaW5pdCgpOwoJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICR0ZXN0dXJsKTsKCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSEVBREVSLCBUUlVFKTsKCQljdXJsX3NldG9wdCgk'));
	@fwrite($fp, base64_decode('Y2gsIENVUkxPUFRfTk9CT0RZLCBUUlVFKTsKCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIFRSVUUpOwoJCWN1cmxfZXhlYygkY2gpOwoJCSRodHRwQ29kZSA9IGN1cmxfZ2V0aW5mbygkY2gsIENVUkxJTkZPX0hUVFBfQ09ERSk7CgkJ'));
	@fwrite($fp, base64_decode('Y3VybF9jbG9zZSgkY2gpOwoJCWlmICghJGh0dHBDb2RlKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPic7CgkJCWVjaG8gX0woJ05vdGU6IFRoZSAiQ1VSTCIgUEhQIGV4dGVuc2lvbiBjYW5ub3QgYWNjZXNzIEhUVFBTIHdlYnBhZ2VzLiBUaGVyZWZv'));
	@fwrite($fp, base64_decode('cmUsIHlvdSBjYW5ub3QgdXNlIHRoaXMgZmVhdHVyZS4gUGxlYXNlIGRvd25sb2FkIDxhIGhyZWY9Imh0dHBzOi8vY3VybC5oYXh4LnNlL2NhL2NhY2VydC5wZW0iPmNhY2VydC5wZW08L2E+LCBwbGFjZSBpdCBzb21ld2hlcmUgYW5kIHRoZW4gYWRqdXN0IHRoZSBz'));
	@fwrite($fp, base64_decode('ZXR0aW5nIDxjb2RlPmN1cmwuY2FpbmZvPC9jb2RlPiBpbiBQSFAuaW5pLicpLicgJzsKCQkJZWNobyBfTCgnVGhlcmVmb3JlLCB5b3UgPGI+Y2Fubm90PC9iPiByZWdpc3RlciB5b3VyIE9JRHBsdXMgaW5zdGFuY2Ugbm93LicpOwoJCQllY2hvICc8L2ZvbnQ+PC9w'));
	@fwrite($fp, base64_decode('Pic7CgkJCWlmICgkZG9fZWRpdHMpIHsKCQkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgnb29iZV9yZWdpc3RyYXRpb25fZG9uZScsICcxJyk7CgkJCX0KCQkJcmV0dXJuOwoJCX0KCgkJJHBraV9zdGF0dXMgPSBPSURwbHVzOjpnZXRQa2lTdGF0dXMoKTsK'));
	@fwrite($fp, base64_decode('CgkJaWYgKCEkcGtpX3N0YXR1cykgewoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj4nOwoJCQllY2hvIF9MKCdOb3RlOiBZb3VyIHN5c3RlbSBjb3VsZCBub3QgZ2VuZXJhdGUgYSBwcml2YXRlL3B1YmxpYyBrZXkgcGFpci4gKE9wZW5TU0wgaXMgcHJvYmFi'));
	@fwrite($fp, base64_decode('bHkgbWlzc2luZyBvbiB5b3VyIHN5c3RlbSkuJykuJyAnOwoJCQllY2hvIF9MKCdUaGVyZWZvcmUsIHlvdSA8Yj5jYW5ub3Q8L2I+IHJlZ2lzdGVyIHlvdXIgT0lEcGx1cyBpbnN0YW5jZSBub3cuJyk7CgkJCWVjaG8gJzwvZm9udD48L3A+JzsKCQkJaWYgKCRkb19l'));
	@fwrite($fp, base64_decode('ZGl0cykgewoJCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCdvb2JlX3JlZ2lzdHJhdGlvbl9kb25lJywgJzEnKTsKCQkJfQoJCQlyZXR1cm47CgkJfQoKCQllY2hvICc8cD4nLl9MKCdQcml2YWN5IGxldmVsJykuJzo8L3A+PHNlbGVjdCBuYW1lPSJyZWdf'));
	@fwrite($fp, base64_decode('cHJpdmFjeSIgaWQ9InJlZ19wcml2YWN5Ij4nOwoKCQkjIC0tLQoKCQllY2hvICc8b3B0aW9uIHZhbHVlPSIwIic7CgkJaWYgKGlzc2V0KCRfUkVRVUVTVFsnc2VudCddKSkgewoJCQlpZiAoaXNzZXQoJF9SRVFVRVNUWydyZWdfcHJpdmFjeSddKSAmJiAoJF9SRVFV'));
	@fwrite($fp, base64_decode('RVNUWydyZWdfcHJpdmFjeSddID09IDApKSBlY2hvICcgc2VsZWN0ZWQnOwoJCX0gZWxzZSB7CgkJCWlmICgoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyZWdfcHJpdmFjeScpID09IDApIHx8ICFPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29vYmVf'));
	@fwrite($fp, base64_decode('cmVnaXN0cmF0aW9uX2RvbmUnKSkgewoJCQkJZWNobyAnIHNlbGVjdGVkJzsKCQkJfSBlbHNlIHsKCQkJCWVjaG8gJyc7CgkJCX0KCQl9CgkJZWNobyAnPicuX0woJzAgPSBSZWdpc3RlciB0byBkaXJlY3Rvcnkgc2VydmljZSBhbmQgYXV0b21hdGljYWxseSBwdWJs'));
	@fwrite($fp, base64_decode('aXNoIFJBL09JRCBkYXRhIGF0IG9pZC1pbmZvLmNvbScpLic8L29wdGlvbj4nOwoKCQkjIC0tLQoKCQllY2hvICc8b3B0aW9uIHZhbHVlPSIxIic7CgkJaWYgKGlzc2V0KCRfUkVRVUVTVFsnc2VudCddKSkgewoJCQlpZiAoaXNzZXQoJF9SRVFVRVNUWydyZWdfcHJp'));
	@fwrite($fp, base64_decode('dmFjeSddKSAmJiAoJF9SRVFVRVNUWydyZWdfcHJpdmFjeSddID09IDEpKSBlY2hvICcgc2VsZWN0ZWQnOwoJCX0gZWxzZSB7CgkJCWlmICgoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyZWdfcHJpdmFjeScpID09IDEpKSB7CgkJCQllY2hvICcgc2VsZWN0'));
	@fwrite($fp, base64_decode('ZWQnOwoJCQl9IGVsc2UgewoJCQkJZWNobyAnJzsKCQkJfQoJCX0KCQllY2hvICc+Jy5fTCgnMSA9IE9ubHkgcmVnaXN0ZXIgdG8gZGlyZWN0b3J5IHNlcnZpY2UnKS4nPC9vcHRpb24+JzsKCgkJIyAtLS0KCgkJZWNobyAnPG9wdGlvbiB2YWx1ZT0iMiInOwoJCWlm'));
	@fwrite($fp, base64_decode('IChpc3NldCgkX1JFUVVFU1RbJ3NlbnQnXSkpIHsKCQkJaWYgKGlzc2V0KCRfUkVRVUVTVFsncmVnX3ByaXZhY3knXSkgJiYgKCRfUkVRVUVTVFsncmVnX3ByaXZhY3knXSA9PSAyKSkgZWNobyAnIHNlbGVjdGVkJzsKCQl9IGVsc2UgewoJCQlpZiAoKE9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmNvbmZpZygpLT5nZXRWYWx1ZSgncmVnX3ByaXZhY3knKSA9PSAyKSkgewoJCQkJZWNobyAnIHNlbGVjdGVkJzsKCQkJfSBlbHNlIHsKCQkJCWVjaG8gJyc7CgkJCX0KCQl9CgkJZWNobyAnPicuX0woJzIgPSBIaWRlIHN5c3RlbScpLic8L29wdGlvbj4nOwoKCQkj'));
	@fwrite($fp, base64_decode('IC0tLQoKCQllY2hvICc8L3NlbGVjdD4nOwoKCQkkbXNnID0gJyc7CgkJaWYgKCRkb19lZGl0cykgewoJCQl0cnkgewoJCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCdyZWdfcHJpdmFjeScsICRfUkVRVUVTVFsncmVnX3ByaXZhY3knXSk7CgkJCQlPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29vYmVfcmVnaXN0cmF0aW9uX2RvbmUnLCAnMScpOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJCSRtc2cgPSAkZS0+Z2V0TWVzc2FnZSgpOwoJCQkJJGVycm9yc19oYXBwZW5lZCA9IHRydWU7CgkJCX0KCQl9'));
	@fwrite($fp, base64_decode('CgkJZWNobyAnIDxmb250IGNvbG9yPSJyZWQiPjxiPicuJG1zZy4nPC9iPjwvZm9udD4nOwoKCQllY2hvICc8cD4nLl9MKCc8aT5Qcml2YWN5IGluZm9ybWF0aW9uOjwvaT4gVGhpcyBzZXR0aW5nIGNhbiBhbHdheXMgYmUgY2hhbmdlZCBpbiB0aGUgYWRtaW5pc3Ry'));
	@fwrite($fp, base64_decode('YXRvciBsb2dpbiAvIGNvbnRyb2wgcGFuZWwuJykuJzxicj4nOwoJCWVjaG8gX0woJzxhICUxPkNsaWNrIGhlcmU8L2E+IGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHByaXZhY3kgcmVsYXRlZCB0b3BpY3MuJywnaHJlZj0iLi4vLi4vLi4vcmVzL09JRHBsdXMv'));
	@fwrite($fp, base64_decode('cHJpdmFjeV9kb2N1bWVudGF0aW9uLmh0bWwiIHRhcmdldD0iX2JsYW5rIicpOwoJCWVjaG8gJzwvcD4nOwoJfQoKfQo='));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php');
	writefile_2();
	if (!is_file('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php');
	} else if (sha1_file('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php') != 'b242a5ff92bf36032b30c01fc3671a14bd3d6312') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php') !== 'b242a5ff92bf36032b30c01fc3671a14bd3d6312') {
		if (@sha1_file('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php') !== 'b799fe32be3532f6bb8959624a86e9e428833352') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php');
			$tmp = pathinfo('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php') !== 'b242a5ff92bf36032b30c01fc3671a14bd3d6312') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/120_registration/OIDplusPageAdminRegistration.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 394\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 394') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

