<?php /* <ViaThinkSoftSignature>
o5hVsbGQf5TA5EFYA0QP+URxJOZgE4vyRXBr6/8chqBVXYemItQvgziJHOEa2l9mi
JClq2mNn4Yjwz2i+n88OVJShVK1ySu5bNKMCs6wd19h1Sr5zIm/e439Ykn93Tw9Wg
9EautE3CNtfLgHYsGsUlSx/1vMyrFdqdEIYId2nKGxIzn8goDN42MYxzrf1k9QJtV
MylYIgfzDSjysQMuRDypPKvI4447u7xZ4wLpRWoG5/8mMg48JnGGYCZbKX8SsL6Ep
EZ1IzhLb2RMlmAmZ8Kv3cWJUxBlUAGGVhwk1MPfSu3pvMAQvWsoWW0s0jQaST2bQX
RkkB3g8fRvIUhRTETCVeJJzjfAzEWszTJbj22HLzT0DNr5ELKdznVHshVAuP03DIp
59PiUL4vRaZQcAWVzRnqhzPbEpHIUnIAPjo1wWvOTOmGnYQakSQ+sM1ELZPuLT+6s
6R26SvmzDubuh3p64R253wVp0heLjF8rlziQdYAVKh53Swt4VM9Qun1vlsASZIaAl
8PVJyDFroUgE3oxH1Bp4nJdT7X0XTcsPNHmPEP700ZX2J0t2NlexGPgvS6eTUNYPq
fPdk8qn5jVMfg3uhvmmB4ilb+vAy10YnHrynxKCeoJH5eyxpQw51LO1D2Ap0JwckV
HfO+t96oJ9ymZyyNJepXOEaGhmJmUmy7mMqD6F+bAM6X2brrc1ih85sqw2hsTX02v
yafWWVxaAHgIQ6TRZ8PaSENabHi4a59f1dL1FCItnkxH92ItSo8DagXNvbqkHErV6
z1TKj6Z5/bV+7CXYDaqDLUwChlInjjBISTHKW61d5qnxcYGxoLPqrHB/5QUnjn4DJ
GUBtOJ54vQGkGU19GMvhN7+OiUsSIvqqeLdFor4y83AOCp8SHFe/pi/wUBZZExZKe
K1m2jx7LBd9YCODGCrYvkMQixxgif+S2+JJ6OSoYyHvb5hKtLD6a7W6yYubzlVC0f
yN1zxivW0+3EvUmM+Sj8w/N0tYO4ztT3gmc2sn/HzegFhgo/o65aN0wwxMOYFtdnm
yR83UGf91rNygjP7dphHOu878aK3ZXt1Jp3p7bUs2Qt543moacNIVIWqLIcfAuVIR
DCSYRVF84nfA2t8ZGBjwOjtdvoxitEcxXgLEyyM8ZoPuDOk0PLBOhUrGgtuSJjx1T
mKtKmQu2vDIEP6eNkceWq83IDAL2xe8kzKcDeSgNmTb5PPI3JHyVONpNZLDWWWB+v
qRcDhBIFjSqJnCCK23Xa3eHtjjVnrOwBRB0Sk2VtINsNvHRZpSZUnwIhcVgWacfrL
NtJ1oIRb+ZgqzehDVtYTSdvQ/ej9BbepXUehwNgt26nGiem6vXGxmI9mirVjXZLAb
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 351') {
	err('This update can only be applied to OIDplus version 2.0.0.351!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/classes/OIDplus.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplus.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXMgewoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzUGFnZVBsdWdpbltdKi8gJHBhZ2VQbHVnaW5zID0gYXJyYXkoKTsKCXByaXZhdGUgc3RhdGljIC8qT0lEcGx1c0F1dGhQbHVn'));
	@fwrite($fp, base64_decode('aW5bXSovICRhdXRoUGx1Z2lucyA9IGFycmF5KCk7Cglwcml2YXRlIHN0YXRpYyAvKk9JRHBsdXNMb2dnZXJQbHVnaW5bXSovICRsb2dnZXJQbHVnaW5zID0gYXJyYXkoKTsKCXByaXZhdGUgc3RhdGljIC8qT0lEcGx1c09iamVjdFR5cGVQbHVnaW5bXSovICRvYmpl'));
	@fwrite($fp, base64_decode('Y3RUeXBlUGx1Z2lucyA9IGFycmF5KCk7Cglwcml2YXRlIHN0YXRpYyAvKnN0cmluZ1tdKi8gJGVuYWJsZWRPYmplY3RUeXBlcyA9IGFycmF5KCk7Cglwcml2YXRlIHN0YXRpYyAvKnN0cmluZ1tdKi8gJGRpc2FibGVkT2JqZWN0VHlwZXMgPSBhcnJheSgpOwoJcHJp'));
	@fwrite($fp, base64_decode('dmF0ZSBzdGF0aWMgLypPSURwbHVzRGF0YWJhc2VQbHVnaW5bXSovICRkYlBsdWdpbnMgPSBhcnJheSgpOwoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzU3FsU2xhbmdQbHVnaW5bXSovICRzcWxTbGFuZ1BsdWdpbnMgPSBhcnJheSgpOwoKCXByb3RlY3RlZCBzdGF0'));
	@fwrite($fp, base64_decode('aWMgJGh0bWwgPSB0cnVlOwoKCXByaXZhdGUgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKSB7Cgl9CgoJIyAtLS0gU3RhdGljIGNsYXNzZXMKCglwcml2YXRlIHN0YXRpYyAkYmFzZUNvbmZpZyA9IG51bGw7Cglwcml2YXRlIHN0YXRpYyAkb2xkX2NvbmZpZ19mb3JtYXQg'));
	@fwrite($fp, base64_decode('PSBmYWxzZTsKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gYmFzZUNvbmZpZygpIHsKCQkkZmlyc3RfaW5pdCA9IGZhbHNlOwoKCQlpZiAoJGZpcnN0X2luaXQgPSBpc19udWxsKHNlbGY6OiRiYXNlQ29uZmlnKSkgewoJCQlzZWxmOjokYmFzZUNvbmZpZyA9IG5ldyBP'));
	@fwrite($fp, base64_decode('SURwbHVzQmFzZUNvbmZpZygpOwoJCX0KCgkJaWYgKCRmaXJzdF9pbml0KSB7CgkJCS8vIEluY2x1ZGUgYSBmaWxlIGNvbnRhaW5pbmcgdmFyaW91cyBzaXplL2RlcHRoIGxpbWl0YXRpb25zIG9mIE9JRHMKCQkJLy8gSXQgaXMgaW1wb3J0YW50IHRvIGluY2x1ZGUg'));
	@fwrite($fp, base64_decode('aXQgYmVmb3JlIHVzZXJkYXRhL2Jhc2Vjb25maWcvY29uZmlnLmluYy5waHAgd2FzIGluY2x1ZGVkLAoJCQkvLyBzbyB3ZSBjYW4gZ2l2ZSB1c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhwIHRoZSBjaGFuY2UgdG8gb3ZlcnJpZGUgdGhlIHZhbHVlcy4K'));
	@fwrite($fp, base64_decode('CgkJCWluY2x1ZGUgT0lEcGx1czo6YmFzZVBhdGgoKS4nL2luY2x1ZGVzL2xpbWl0cy5pbmMucGhwJzsKCgkJCS8vIEluY2x1ZGUgY29uZmlnIGZpbGUKCgkJCSRjb25maWdfZmlsZSA9IE9JRHBsdXM6OmJhc2VQYXRoKCkgLiAnL3VzZXJkYXRhL2Jhc2Vjb25maWcv'));
	@fwrite($fp, base64_decode('Y29uZmlnLmluYy5waHAnOwoJCQkkY29uZmlnX2ZpbGVfb2xkID0gT0lEcGx1czo6YmFzZVBhdGgoKSAuICcvaW5jbHVkZXMvY29uZmlnLmluYy5waHAnOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQoKCQkJaWYgKCFmaWxlX2V4aXN0cygkY29uZmlnX2ZpbGUp'));
	@fwrite($fp, base64_decode('ICYmIGZpbGVfZXhpc3RzKCRjb25maWdfZmlsZV9vbGQpKSB7CgkJCQkkY29uZmlnX2ZpbGUgPSAkY29uZmlnX2ZpbGVfb2xkOwoJCQl9CgoJCQlpZiAoZmlsZV9leGlzdHMoJGNvbmZpZ19maWxlKSkgewoJCQkJaWYgKHNlbGY6OiRvbGRfY29uZmlnX2Zvcm1hdCkg'));
	@fwrite($fp, base64_decode('ewoJCQkJCS8vIE5vdGU6IFdlIG1heSBvbmx5IGluY2x1ZGUgaXQgb25jZSBkdWUgdG8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHksCgkJCQkJLy8gICAgICAgc2luY2UgaW4gdmVyc2lvbiAyLjAsIHRoZSBjb25maWd1cmF0aW9uIHdhcyBkZWZpbmVkIHVzaW5nIGRl'));
	@fwrite($fp, base64_decode('ZmluZSgpIHN0YXRlbWVudHMKCQkJCQkvLyBBdHRlbnRpb246IFRoaXMgZG9lcyBtZWFuIHRoYXQgYSBmdWxsIHJlLWluaXQgKGUuZy4gZm9yIHRlc3QgY2FzZXMpIGlzIG5vdCBwb3NzaWJsZQoJCQkJCS8vICAgICAgICAgICAgaWYgYSB2ZXJzaW9uIDIuMCBjb25m'));
	@fwrite($fp, base64_decode('aWcgaXMgdXNlZCEKCQkJCQlpbmNsdWRlX29uY2UgJGNvbmZpZ19maWxlOwoJCQkJfSBlbHNlIHsKCQkJCQlpbmNsdWRlICRjb25maWdfZmlsZTsKCQkJCX0KCgkJCQlpZiAoZGVmaW5lZCgnT0lEUExVU19DT05GSUdfVkVSU0lPTicpICYmIChPSURQTFVTX0NPTkZJ'));
	@fwrite($fp, base64_decode('R19WRVJTSU9OID09IDIuMCkpIHsKCQkJCQlzZWxmOjokb2xkX2NvbmZpZ19mb3JtYXQgPSB0cnVlOwoKCQkJCQkvLyBCYWNrd2FyZHMgY29tcGF0aWJpbGl0eSAyLjAgPT4gMi4xCgkJCQkJZm9yZWFjaCAoZ2V0X2RlZmluZWRfY29uc3RhbnRzKHRydWUpWyd1c2Vy'));
	@fwrite($fp, base64_decode('J10gYXMgJG5hbWUgPT4gJHZhbHVlKSB7CgkJCQkJCSRuYW1lID0gc3RyX3JlcGxhY2UoJ09JRFBMVVNfJywgJycsICRuYW1lKTsKCQkJCQkJaWYgKCRuYW1lID09ICdTRVNTSU9OX1NFQ1JFVCcpICRuYW1lID0gJ1NFUlZFUl9TRUNSRVQnOwoJCQkJCQlpZiAoJG5h'));
	@fwrite($fp, base64_decode('bWUgPT0gJ01ZU1FMX1FVRVJZTE9HJykgJG5hbWUgPSAnUVVFUllfTE9HRklMRSc7CgkJCQkJCWlmICgoJG5hbWUgPT0gJ01ZU1FMX1BBU1NXT1JEJykgfHwgKCRuYW1lID09ICdPREJDX1BBU1NXT1JEJykgfHwgKCRuYW1lID09ICdQRE9fUEFTU1dPUkQnKSB8fCAo'));
	@fwrite($fp, base64_decode('JG5hbWUgPT0gJ1BHU1FMX1BBU1NXT1JEJykpIHsKCQkJCQkJCXNlbGY6OiRiYXNlQ29uZmlnLT5zZXRWYWx1ZSgkbmFtZSwgYmFzZTY0X2RlY29kZSgkdmFsdWUpKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWlmICgkbmFtZSA9PSAnQ09ORklHX1ZFUlNJT04nKSAk'));
	@fwrite($fp, base64_decode('dmFsdWUgPSAyLjE7CgkJCQkJCQlzZWxmOjokYmFzZUNvbmZpZy0+c2V0VmFsdWUoJG5hbWUsICR2YWx1ZSk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlpZiAoIWlzX2RpcihPSURwbHVzOjpiYXNlUGF0aCgpLicvc2V0dXAnKSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('CXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0ZpbGUgdXNlcmRhdGEvYmFzZWNvbmZpZy9jb25maWcuaW5jLnBocCBpcyBtaXNzaW5nLCBidXQgc2V0dXAgY2FuXCd0IGJlIHN0YXJ0ZWQgYmVjYXVzZSBpdHMgZGlyZWN0b3J5'));
	@fwrite($fp, base64_decode('IG1pc3NpbmcuJyk7CgkJCQl9IGVsc2UgewoJCQkJCWlmIChzZWxmOjokaHRtbCkgewoJCQkJCQlpZiAoc3RycG9zKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddLCBPSURwbHVzOjpnZXRTeXN0ZW1VcmwodHJ1ZSkuJ3NldHVwLycpICE9PSAwKSB7CgkJCQkJCQloZWFk'));
	@fwrite($fp, base64_decode('ZXIoJ0xvY2F0aW9uOicuT0lEcGx1czo6Z2V0U3lzdGVtVXJsKCkuJ3NldHVwLycpOwoJCQkJCQkJZGllKCdSZWRpcmVjdGluZyB0byBzZXR1cC4uLicpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJcmV0dXJuIHNlbGY6OiRiYXNlQ29uZmlnOwoJCQkJCQl9CgkJCQkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIHsKCQkJCQkJLy8gVGhpcyBjYW4gYmUgZGlzcGxheWVkIGluIGUuZy4gYWpheC5waHAKCQkJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignRmlsZSB1c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhw'));
	@fwrite($fp, base64_decode('IGlzIG1pc3NpbmcuIFBsZWFzZSBydW4gc2V0dXAgYWdhaW4uJyk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQkvLyBDaGVjayBpbXBvcnRhbnQgY29uZmlnIHNldHRpbmdzCgoJCQlpZiAoc2VsZjo6JGJhc2VDb25maWctPmdldFZhbHVlKCdDT05GSUdfVkVSU0lPTicp'));
	@fwrite($fp, base64_decode('ICE9IDIuMSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbigiVGhlIGluZm9ybWF0aW9uIGxvY2F0ZWQgaW4gJGNvbmZpZ19maWxlIGlzIG91dGRhdGVkLiIpOwoJCQl9CgoJCQlpZiAoc2VsZjo6JGJhc2VDb25maWct'));
	@fwrite($fp, base64_decode('PmdldFZhbHVlKCdTRVJWRVJfU0VDUkVUJywgJycpID09PSAnJykgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbigiWW91IG11c3Qgc2V0IGEgdmFsdWUgZm9yIFNFUlZFUl9TRUNSRVQgaW4gJGNvbmZpZ19maWxlIGZv'));
	@fwrite($fp, base64_decode('ciB0aGUgc3lzdGVtIHRvIG9wZXJhdGUgc2VjdXJlLiIpOwoJCQl9CgkJfQoKCQlyZXR1cm4gc2VsZjo6JGJhc2VDb25maWc7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJGNvbmZpZyA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNvbmZpZygpIHsKCQlpZiAo'));
	@fwrite($fp, base64_decode('JGZpcnN0X2luaXQgPSBpc19udWxsKHNlbGY6OiRjb25maWcpKSB7CgkJCXNlbGY6OiRjb25maWcgPSBuZXcgT0lEcGx1c0NvbmZpZygpOwoJCX0KCgkJaWYgKCRmaXJzdF9pbml0KSB7CgkJCS8vIFRoZXNlIGFyZSBpbXBvcnRhbnQgc2V0dGluZ3MgZm9yIGJhc2Ug'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb25hbGl0aWVzIGFuZCB0aGVyZWZvcmUgYXJlIG5vdCBpbnNpZGUgcGx1Z2lucwoJCQlzZWxmOjokY29uZmlnLT5wcmVwYXJlQ29uZmlnS2V5KCdzeXN0ZW1fdGl0bGUnLCAnV2hhdCBpcyB0aGUgbmFtZSBvZiB5b3VyIFJBPycsICdPSURwbHVzIDIuMCcs'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNDb25maWc6OlBST1RFQ1RJT05fRURJVEFCTEUsIGZ1bmN0aW9uKCR2YWx1ZSkgewoJCQkJaWYgKGVtcHR5KCR2YWx1ZSkpIHsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiUGxlYXNlIGVudGVyIGEgdmFsdWUgZm9yIHRoZSBzeXN0ZW0g'));
	@fwrite($fp, base64_decode('dGl0bGUuIik7CgkJCQl9CgkJCX0pOwoJCQlzZWxmOjokY29uZmlnLT5wcmVwYXJlQ29uZmlnS2V5KCdhZG1pbl9lbWFpbCcsICdFLU1haWwgYWRkcmVzcyBvZiB0aGUgc3lzdGVtIGFkbWluaXN0cmF0b3InLCAnJywgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9F'));
	@fwrite($fp, base64_decode('RElUQUJMRSwgZnVuY3Rpb24oJHZhbHVlKSB7CgkJCQlpZiAoIWVtcHR5KCR2YWx1ZSkgJiYgIU9JRHBsdXM6Om1haWxVdGlscygpLT52YWxpZE1haWxBZGRyZXNzKCR2YWx1ZSkpIHsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhpcyBpcyBub3Qg'));
	@fwrite($fp, base64_decode('YSBjb3JyZWN0IGVtYWlsIGFkZHJlc3MiKTsKCQkJCX0KCQkJfSk7CgkJCXNlbGY6OiRjb25maWctPnByZXBhcmVDb25maWdLZXkoJ2dsb2JhbF9jYycsICdHbG9iYWwgQ0MgZm9yIGFsbCBvdXRnb2luZyBlbWFpbHM/JywgJycsIE9JRHBsdXNDb25maWc6OlBST1RF'));
	@fwrite($fp, base64_decode('Q1RJT05fRURJVEFCTEUsIGZ1bmN0aW9uKCR2YWx1ZSkgewoJCQkJaWYgKCFlbXB0eSgkdmFsdWUpICYmICFPSURwbHVzOjptYWlsVXRpbHMoKS0+dmFsaWRNYWlsQWRkcmVzcygkdmFsdWUpKSB7CgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIlRoaXMg'));
	@fwrite($fp, base64_decode('aXMgbm90IGEgY29ycmVjdCBlbWFpbCBhZGRyZXNzIik7CgkJCQl9CgkJCX0pOwoJCQlzZWxmOjokY29uZmlnLT5wcmVwYXJlQ29uZmlnS2V5KCdvYmplY3R0eXBlc19pbml0aWFsaXplZCcsICdMaXN0IG9mIG9iamVjdCB0eXBlIHBsdWdpbnMgdGhhdCB3ZXJlIGlu'));
	@fwrite($fp, base64_decode('aXRpYWxpemVkIG9uY2UnLCAnJywgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9SRUFET05MWSwgZnVuY3Rpb24oJHZhbHVlKSB7CgkJCQkvLyBOb3RoaW5nIGhlcmUgeWV0CgkJCX0pOwoJCQlzZWxmOjokY29uZmlnLT5wcmVwYXJlQ29uZmlnS2V5KCdvYmplY3R0'));
	@fwrite($fp, base64_decode('eXBlc19lbmFibGVkJywgJ0VuYWJsZWQgb2JqZWN0IHR5cGVzIGFuZCB0aGVpciBvcmRlciwgc2VwYXJhdGVkIHdpdGggYSBzZW1pY29sb24gKHBsZWFzZSByZWxvYWQgdGhlIHBhZ2Ugc28gdGhhdCB0aGUgY2hhbmdlIGlzIGFwcGxpZWQpJywgJycsIE9JRHBsdXND'));
	@fwrite($fp, base64_decode('b25maWc6OlBST1RFQ1RJT05fRURJVEFCTEUsIGZ1bmN0aW9uKCR2YWx1ZSkgewoJCQkJIyBUT0RPOiB3aGVuIG9iamVjdHR5cGVzX2VuYWJsZWQgaXMgY2hhbmdlZCBhdCB0aGUgYWRtaW4gY29udHJvbCBwYW5lbCwgd2UgbmVlZCB0byBkbyBhIHJlbG9hZCBvZiB0'));
	@fwrite($fp, base64_decode('aGUgcGFnZSwgc28gdGhhdCBqc1RyZWUgd2lsbCBiZSB1cGRhdGVkLiBJcyB0aGVyZSBhbnl0aGluZyB3ZSBjYW4gZG8/CgoJCQkJJGFyeSA9IGV4cGxvZGUoJzsnLCR2YWx1ZSk7CgkJCQkkdW5pcV9hcnkgPSBhcnJheV91bmlxdWUoJGFyeSk7CgoJCQkJaWYgKGNv'));
	@fwrite($fp, base64_decode('dW50KCRhcnkpICE9IGNvdW50KCR1bmlxX2FyeSkpIHsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiUGxlYXNlIGNoZWNrIHlvdXIgaW5wdXQuIFNvbWUgb2JqZWN0IHR5cGVzIGFyZSBkb3VibGUuIik7CgkJCQl9CgoJCQkJZm9yZWFjaCAoJGFyeSBh'));
	@fwrite($fp, base64_decode('cyAkb3RfY2hlY2spIHsKCQkJCQkkbnNfZm91bmQgPSBmYWxzZTsKCQkJCQlmb3JlYWNoIChPSURwbHVzOjpnZXRFbmFibGVkT2JqZWN0VHlwZXMoKSBhcyAkb3QpIHsKCQkJCQkJaWYgKCRvdDo6bnMoKSA9PSAkb3RfY2hlY2spIHsKCQkJCQkJCSRuc19mb3VuZCA9'));
	@fwrite($fp, base64_decode('IHRydWU7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmb3JlYWNoIChPSURwbHVzOjpnZXREaXNhYmxlZE9iamVjdFR5cGVzKCkgYXMgJG90KSB7CgkJCQkJCWlmICgkb3Q6Om5zKCkgPT0gJG90X2NoZWNrKSB7CgkJCQkJCQkkbnNfZm91bmQgPSB0'));
	@fwrite($fp, base64_decode('cnVlOwoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQl9CgkJCQkJaWYgKCEkbnNfZm91bmQpIHsKCQkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIlBsZWFzZSBjaGVjayB5b3VyIGlucHV0LiBOYW1lc3BhY2UgXCIkb3RfY2hlY2tcIiBpcyBub3QgZm91'));
	@fwrite($fp, base64_decode('bmQiKTsKCQkJCQl9CgkJCQl9CgkJCX0pOwoJCQlzZWxmOjokY29uZmlnLT5wcmVwYXJlQ29uZmlnS2V5KCdvaWRwbHVzX3ByaXZhdGVfa2V5JywgJ1ByaXZhdGUga2V5IGZvciB0aGlzIHN5c3RlbScsICcnLCBPSURwbHVzQ29uZmlnOjpQUk9URUNUSU9OX0hJRERF'));
	@fwrite($fp, base64_decode('TiwgZnVuY3Rpb24oJHZhbHVlKSB7CgkJCQkvLyBOb3RoaW5nIGhlcmUgeWV0CgkJCX0pOwoJCQlzZWxmOjokY29uZmlnLT5wcmVwYXJlQ29uZmlnS2V5KCdvaWRwbHVzX3B1YmxpY19rZXknLCAnUHVibGljIGtleSBmb3IgdGhpcyBzeXN0ZW0uIElmIHlvdSAiY2xv'));
	@fwrite($fp, base64_decode('bmUiIHlvdXIgc3lzdGVtLCB5b3UgbXVzdCBkZWxldGUgdGhpcyBrZXkgKGUuZy4gdXNpbmcgcGhwTXlBZG1pbiksIHNvIHRoYXQgYSBuZXcgb25lIGlzIGNyZWF0ZWQuJywgJycsIE9JRHBsdXNDb25maWc6OlBST1RFQ1RJT05fUkVBRE9OTFksIGZ1bmN0aW9uKCR2'));
	@fwrite($fp, base64_decode('YWx1ZSkgewoJCQkJLy8gTm90aGluZyBoZXJlIHlldAoJCQl9KTsKCQkJc2VsZjo6JGNvbmZpZy0+cHJlcGFyZUNvbmZpZ0tleSgnbGFzdF9rbm93bl9zeXN0ZW1fdXJsJywgJ0xhc3Qga25vd24gU3lzdGVtIFVSTCcsICcnLCBPSURwbHVzQ29uZmlnOjpQUk9URUNU'));
	@fwrite($fp, base64_decode('SU9OX0hJRERFTiwgZnVuY3Rpb24oJHZhbHVlKSB7CgkJCQkvLyBOb3RoaW5nIGhlcmUgeWV0CgkJCX0pOwoJCX0KCgkJcmV0dXJuIHNlbGY6OiRjb25maWc7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJGd1aSA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGd1'));
	@fwrite($fp, base64_decode('aSgpIHsKCQlpZiAoaXNfbnVsbChzZWxmOjokZ3VpKSkgewoJCQlzZWxmOjokZ3VpID0gbmV3IE9JRHBsdXNHdWkoKTsKCQl9CgkJcmV0dXJuIHNlbGY6OiRndWk7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJGF1dGhVdGlscyA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1'));
	@fwrite($fp, base64_decode('bmN0aW9uIGF1dGhVdGlscygpIHsKCQlpZiAoaXNfbnVsbChzZWxmOjokYXV0aFV0aWxzKSkgewoJCQlzZWxmOjokYXV0aFV0aWxzID0gbmV3IE9JRHBsdXNBdXRoVXRpbHMoKTsKCQl9CgkJcmV0dXJuIHNlbGY6OiRhdXRoVXRpbHM7Cgl9CgoJcHJpdmF0ZSBzdGF0'));
	@fwrite($fp, base64_decode('aWMgJG1haWxVdGlscyA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1haWxVdGlscygpIHsKCQlpZiAoaXNfbnVsbChzZWxmOjokbWFpbFV0aWxzKSkgewoJCQlzZWxmOjokbWFpbFV0aWxzID0gbmV3IE9JRHBsdXNNYWlsVXRpbHMoKTsKCQl9CgkJcmV0'));
	@fwrite($fp, base64_decode('dXJuIHNlbGY6OiRtYWlsVXRpbHM7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJG1lbnVVdGlscyA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1lbnVVdGlscygpIHsKCQlpZiAoaXNfbnVsbChzZWxmOjokbWVudVV0aWxzKSkgewoJCQlzZWxmOjokbWVudVV0'));
	@fwrite($fp, base64_decode('aWxzID0gbmV3IE9JRHBsdXNNZW51VXRpbHMoKTsKCQl9CgkJcmV0dXJuIHNlbGY6OiRtZW51VXRpbHM7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJGxvZ2dlciA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGxvZ2dlcigpIHsKCQlpZiAoaXNfbnVsbChzZWxm'));
	@fwrite($fp, base64_decode('OjokbG9nZ2VyKSkgewoJCQlzZWxmOjokbG9nZ2VyID0gbmV3IE9JRHBsdXNMb2dnZXIoKTsKCQl9CgkJcmV0dXJuIHNlbGY6OiRsb2dnZXI7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJHNlc0hhbmRsZXIgPSBudWxsOwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzZXNI'));
	@fwrite($fp, base64_decode('YW5kbGVyKCkgewoJCWlmIChpc19udWxsKHNlbGY6OiRzZXNIYW5kbGVyKSkgewoJCQlzZWxmOjokc2VzSGFuZGxlciA9IG5ldyBPSURwbHVzU2Vzc2lvbkhhbmRsZXIoKTsKCQl9CgkJcmV0dXJuIHNlbGY6OiRzZXNIYW5kbGVyOwoJfQoKCSMgLS0tIFNRTCBzbGFu'));
	@fwrite($fp, base64_decode('ZyBwbHVnaW4KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWdpc3RlclNxbFNsYW5nUGx1Z2luKE9JRHBsdXNTcWxTbGFuZ1BsdWdpbiAkcGx1Z2luKSB7CgkJJG5hbWUgPSAkcGx1Z2luOjppZCgpOwoJCWlmICgkbmFtZSA9PT0gZmFsc2UpIHJldHVybiBmYWxz'));
	@fwrite($fp, base64_decode('ZTsKCgkJc2VsZjo6JHNxbFNsYW5nUGx1Z2luc1skbmFtZV0gPSAkcGx1Z2luOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFNxbFNsYW5nUGx1Z2lucygpIHsKCQlyZXR1cm4gc2VsZjo6JHNxbFNsYW5nUGx1Z2luczsKCX0K'));
	@fwrite($fp, base64_decode('CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFNxbFNsYW5nUGx1Z2luKCRpZCkvKjogP09JRHBsdXNTcWxTbGFuZ1BsdWdpbiovIHsKCQlpZiAoaXNzZXQoc2VsZjo6JHNxbFNsYW5nUGx1Z2luc1skaWRdKSkgewoJCQlyZXR1cm4gc2VsZjo6JHNxbFNsYW5nUGx1'));
	@fwrite($fp, base64_decode('Z2luc1skaWRdOwoJCX0gZWxzZSB7CgkJCXJldHVybiBudWxsOwoJCX0KCX0KCgkjIC0tLSBEYXRhYmFzZSBwbHVnaW4KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWdpc3RlckRhdGFiYXNlUGx1Z2luKE9JRHBsdXNEYXRhYmFzZVBsdWdpbiAkcGx1Z2luKSB7'));
	@fwrite($fp, base64_decode('CgkJJG5hbWUgPSAkcGx1Z2luOjppZCgpOwoJCWlmICgkbmFtZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCgkJc2VsZjo6JGRiUGx1Z2luc1skbmFtZV0gPSAkcGx1Z2luOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldERh'));
	@fwrite($fp, base64_decode('dGFiYXNlUGx1Z2lucygpIHsKCQlyZXR1cm4gc2VsZjo6JGRiUGx1Z2luczsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFjdGl2ZURhdGFiYXNlUGx1Z2luKCkgewoJCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdEQVRBQkFTRV9Q'));
	@fwrite($fp, base64_decode('TFVHSU4nLCAnJykgPT09ICcnKSB7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oIk5vIGRhdGFiYXNlIHBsdWdpbiBzZWxlY3RlZCBpbiBjb25maWcgZmlsZSIpOwoJCX0KCQlpZiAoIWlzc2V0KHNlbGY6OiRkYlBsdWdp'));
	@fwrite($fp, base64_decode('bnNbT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREFUQUJBU0VfUExVR0lOJyldKSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKCJEYXRhYmFzZSBwbHVnaW4gJyIuT0lEcGx1czo6YmFzZUNvbmZpZygp'));
	@fwrite($fp, base64_decode('LT5nZXRWYWx1ZSgnREFUQUJBU0VfUExVR0lOJykuIicgbm90IGZvdW5kIik7CgkJfQoJCXJldHVybiBzZWxmOjokZGJQbHVnaW5zW09JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicpXTsKCX0KCglwcml2YXRlIHN0YXRpYyAk'));
	@fwrite($fp, base64_decode('ZGJNYWluU2Vzc2lvbiA9IG51bGw7CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGRiKCkgewoJCWlmIChpc19udWxsKHNlbGY6OiRkYk1haW5TZXNzaW9uKSkgewoJCQlzZWxmOjokZGJNYWluU2Vzc2lvbiA9IHNlbGY6OmdldEFjdGl2ZURhdGFiYXNlUGx1Z2luKCkt'));
	@fwrite($fp, base64_decode('Pm5ld0Nvbm5lY3Rpb24oKTsKCQl9CgkJaWYgKCFzZWxmOjokZGJNYWluU2Vzc2lvbi0+aXNDb25uZWN0ZWQoKSkgc2VsZjo6JGRiTWFpblNlc3Npb24tPmNvbm5lY3QoKTsKCQlyZXR1cm4gc2VsZjo6JGRiTWFpblNlc3Npb247Cgl9CgoJcHJpdmF0ZSBzdGF0aWMg'));
	@fwrite($fp, base64_decode('JGRiSXNvbGF0ZWRTZXNzaW9uID0gbnVsbDsKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZGJJc29sYXRlZCgpIHsKCQlpZiAoaXNfbnVsbChzZWxmOjokZGJJc29sYXRlZFNlc3Npb24pKSB7CgkJCXNlbGY6OiRkYklzb2xhdGVkU2Vzc2lvbiA9IHNlbGY6OmdldEFj'));
	@fwrite($fp, base64_decode('dGl2ZURhdGFiYXNlUGx1Z2luKCktPm5ld0Nvbm5lY3Rpb24oKTsKCQl9CgkJaWYgKCFzZWxmOjokZGJJc29sYXRlZFNlc3Npb24tPmlzQ29ubmVjdGVkKCkpIHNlbGY6OiRkYklzb2xhdGVkU2Vzc2lvbi0+Y29ubmVjdCgpOwoJCXJldHVybiBzZWxmOjokZGJJc29s'));
	@fwrite($fp, base64_decode('YXRlZFNlc3Npb247Cgl9CgoJIyAtLS0gUGFnZSBwbHVnaW4KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWdpc3RlclBhZ2VQbHVnaW4oT0lEcGx1c1BhZ2VQbHVnaW4gJHBsdWdpbikgewoJCXNlbGY6OiRwYWdlUGx1Z2luc1tdID0gJHBsdWdpbjsKCgkJcmV0'));
	@fwrite($fp, base64_decode('dXJuIHRydWU7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRQYWdlUGx1Z2lucygpIHsKCQlyZXR1cm4gc2VsZjo6JHBhZ2VQbHVnaW5zOwoJfQoKCSMgLS0tIEF1dGggcGx1Z2luCgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXJBdXRoUGx1'));
	@fwrite($fp, base64_decode('Z2luKE9JRHBsdXNBdXRoUGx1Z2luICRwbHVnaW4pIHsKCQlzZWxmOjokYXV0aFBsdWdpbnNbXSA9ICRwbHVnaW47CgkJcmV0dXJuIHRydWU7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRBdXRoUGx1Z2lucygpIHsKCQlyZXR1cm4gc2VsZjo6JGF1dGhQ'));
	@fwrite($fp, base64_decode('bHVnaW5zOwoJfQoKCSMgLS0tIExvZ2dlciBwbHVnaW4KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWdpc3RlckxvZ2dlclBsdWdpbihPSURwbHVzTG9nZ2VyUGx1Z2luICRwbHVnaW4pIHsKCQlzZWxmOjokbG9nZ2VyUGx1Z2luc1tdID0gJHBsdWdpbjsKCQly'));
	@fwrite($fp, base64_decode('ZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldExvZ2dlclBsdWdpbnMoKSB7CgkJcmV0dXJuIHNlbGY6OiRsb2dnZXJQbHVnaW5zOwoJfQoKCSMgLS0tIE9iamVjdCB0eXBlIHBsdWdpbgoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHJl'));
	@fwrite($fp, base64_decode('Z2lzdGVyT2JqZWN0VHlwZVBsdWdpbihPSURwbHVzT2JqZWN0VHlwZVBsdWdpbiAkcGx1Z2luKSB7CgkJc2VsZjo6JG9iamVjdFR5cGVQbHVnaW5zW10gPSAkcGx1Z2luOwoKCQkkb3QgPSAkcGx1Z2luOjpnZXRPYmplY3RUeXBlQ2xhc3NOYW1lKCk7CgkJc2VsZjo6'));
	@fwrite($fp, base64_decode('cmVnaXN0ZXJPYmplY3RUeXBlKCRvdCk7CgoJCXJldHVybiB0cnVlOwoJfQoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHJlZ2lzdGVyT2JqZWN0VHlwZSgkb3QpIHsKCQkkbnMgPSAkb3Q6Om5zKCk7CgoJCWlmIChlbXB0eSgkbnMpKSB0aHJvdyBuZXcgT0lEcGx1'));
	@fwrite($fp, base64_decode('c0V4Y2VwdGlvbigiQXR0ZW50aW9uOiBFbXB0eSBOUyBhdCAkb3RcbiIpOwoKCQkkbnNfZm91bmQgPSBmYWxzZTsKCQlmb3JlYWNoIChhcnJheV9tZXJnZShPSURwbHVzOjpnZXRFbmFibGVkT2JqZWN0VHlwZXMoKSwgT0lEcGx1czo6Z2V0RGlzYWJsZWRPYmplY3RU'));
	@fwrite($fp, base64_decode('eXBlcygpKSBhcyAkdGVzdF9vdCkgewoJCQlpZiAoJHRlc3Rfb3Q6Om5zKCkgPT0gJG5zKSB7CgkJCQkkbnNfZm91bmQgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJaWYgKCRuc19mb3VuZCkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiQXR0'));
	@fwrite($fp, base64_decode('ZW50aW9uOiBUd28gb2JqZWN0VHlwZSBwbHVnaW5zIHVzZSB0aGUgc2FtZSBuYW1lc3BhY2UgXCIkbnNcIiEiKTsKCQl9CgoJCSRpbml0ID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCJvYmplY3R0eXBlc19pbml0aWFsaXplZCIpOwoJCSRpbml0X2FyeSA9'));
	@fwrite($fp, base64_decode('IGVtcHR5KCRpbml0KSA/IGFycmF5KCkgOiBleHBsb2RlKCc7JywgJGluaXQpOwoJCSRpbml0X2FyeSA9IGFycmF5X21hcCgndHJpbScsICRpbml0X2FyeSk7CgoJCSRlbmFibGVkID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCJvYmplY3R0eXBlc19lbmFi'));
	@fwrite($fp, base64_decode('bGVkIik7CgkJJGVuYWJsZWRfYXJ5ID0gZW1wdHkoJGVuYWJsZWQpID8gYXJyYXkoKSA6IGV4cGxvZGUoJzsnLCAkZW5hYmxlZCk7CgkJJGVuYWJsZWRfYXJ5ID0gYXJyYXlfbWFwKCd0cmltJywgJGVuYWJsZWRfYXJ5KTsKCgkJJGRvX2VuYWJsZSA9IGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CWlmIChpbl9hcnJheSgkbnMsICRlbmFibGVkX2FyeSkpIHsKCQkJJGRvX2VuYWJsZSA9IHRydWU7CgkJfSBlbHNlIHsKCQkJaWYgKCFPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3JlZ2lzdHJhdGlvbl9kb25lJykpIHsKCQkJCSRkb19lbmFibGUgPSAkbnMg'));
	@fwrite($fp, base64_decode('PT0gJ29pZCc7CgkJCX0gZWxzZSB7CgkJCQkkZG9fZW5hYmxlID0gIWluX2FycmF5KCRucywgJGluaXRfYXJ5KTsKCQkJfQoJCX0KCgkJaWYgKCRkb19lbmFibGUpIHsKCQkJc2VsZjo6JGVuYWJsZWRPYmplY3RUeXBlc1tdID0gJG90OwoJCQl1c29ydChzZWxmOjok'));
	@fwrite($fp, base64_decode('ZW5hYmxlZE9iamVjdFR5cGVzLCBmdW5jdGlvbigkYSwgJGIpIHsKCQkJCSRlbmFibGVkID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCJvYmplY3R0eXBlc19lbmFibGVkIik7CgkJCQkkZW5hYmxlZF9hcnkgPSBleHBsb2RlKCc7JywgJGVuYWJsZWQpOwoK'));
	@fwrite($fp, base64_decode('CQkJCSRpZHhfYSA9IGFycmF5X3NlYXJjaCgkYTo6bnMoKSwgJGVuYWJsZWRfYXJ5KTsKCQkJCSRpZHhfYiA9IGFycmF5X3NlYXJjaCgkYjo6bnMoKSwgJGVuYWJsZWRfYXJ5KTsKCgkJCSAgICAgICAgaWYgKCRpZHhfYSA9PSAkaWR4X2IpIHsKCQkJICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgcmV0dXJuIDA7CgkJCSAgICAgICAgfQoJCQkgICAgICAgIHJldHVybiAoJGlkeF9hID4gJGlkeF9iKSA/ICsxIDogLTE7CgkJCX0pOwoJCX0gZWxzZSB7CgkJCXNlbGY6OiRkaXNhYmxlZE9iamVjdFR5cGVzW10gPSAkb3Q7CgkJfQoKCQlpZiAoIWluX2FycmF5'));
	@fwrite($fp, base64_decode('KCRucywgJGluaXRfYXJ5KSkgewoJCQkvLyBXYXMgbmV2ZXIgaW5pdGlhbGl6ZWQgYmVmb3JlLCBzbyB3ZSBhZGQgaXQgdG8gdGhlIGxpc3Qgb2YgZW5hYmxlZCBvYmplY3QgdHlwZXMgb25jZQoKCQkJaWYgKCRkb19lbmFibGUpIHsKCQkJCSRlbmFibGVkX2FyeVtd'));
	@fwrite($fp, base64_decode('ID0gJG5zOwoJCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCJvYmplY3R0eXBlc19lbmFibGVkIiwgaW1wbG9kZSgnOycsICRlbmFibGVkX2FyeSkpOwoJCQl9CgoJCQkkaW5pdF9hcnlbXSA9ICRuczsKCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVl'));
	@fwrite($fp, base64_decode('KCJvYmplY3R0eXBlc19pbml0aWFsaXplZCIsIGltcGxvZGUoJzsnLCAkaW5pdF9hcnkpKTsKCQl9Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRPYmplY3RUeXBlUGx1Z2lucygpIHsKCQlyZXR1cm4gc2VsZjo6JG9iamVjdFR5cGVQbHVnaW5zOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0T2JqZWN0VHlwZVBsdWdpbnNFbmFibGVkKCkgewoJCSRyZXMgPSBhcnJheSgpOwoJCWZvcmVhY2ggKHNlbGY6OiRvYmplY3RUeXBlUGx1Z2lucyBhcyAkcGx1Z2luKSB7CgkJCSRvdCA9ICRwbHVnaW46OmdldE9iamVj'));
	@fwrite($fp, base64_decode('dFR5cGVDbGFzc05hbWUoKTsKCQkJaWYgKGluX2FycmF5KCRvdCwgc2VsZjo6JGVuYWJsZWRPYmplY3RUeXBlcykpICRyZXNbXSA9ICRwbHVnaW47CgkJfQoJCXJldHVybiAkcmVzOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0T2JqZWN0VHlwZVBsdWdp'));
	@fwrite($fp, base64_decode('bnNEaXNhYmxlZCgpIHsKCQkkcmVzID0gYXJyYXkoKTsKCQlmb3JlYWNoIChzZWxmOjokb2JqZWN0VHlwZVBsdWdpbnMgYXMgJHBsdWdpbikgewoJCQkkb3QgPSAkcGx1Z2luOjpnZXRPYmplY3RUeXBlQ2xhc3NOYW1lKCk7CgkJCWlmIChpbl9hcnJheSgkb3QsIHNl'));
	@fwrite($fp, base64_decode('bGY6OiRkaXNhYmxlZE9iamVjdFR5cGVzKSkgJHJlc1tdID0gJHBsdWdpbjsKCQl9CgkJcmV0dXJuICRyZXM7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRFbmFibGVkT2JqZWN0VHlwZXMoKSB7CgkJcmV0dXJuIHNlbGY6OiRlbmFibGVkT2JqZWN0VHlw'));
	@fwrite($fp, base64_decode('ZXM7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXREaXNhYmxlZE9iamVjdFR5cGVzKCkgewoJCXJldHVybiBzZWxmOjokZGlzYWJsZWRPYmplY3RUeXBlczsKCX0KCgkjIC0tLSBQbHVnaW4gaGFuZGxpbmcgZnVuY3Rpb25zCgoJcHVibGljIHN0YXRpYyBm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBnZXRBbGxQbHVnaW5zKCkvKjogYXJyYXkqLyB7CgkJJHJlcyA9IGFycmF5KCk7CgkJJHJlcyA9IGFycmF5X21lcmdlKCRyZXMsIHNlbGY6OiRwYWdlUGx1Z2lucyk7CgkJJHJlcyA9IGFycmF5X21lcmdlKCRyZXMsIHNlbGY6OiRhdXRoUGx1Z2lucyk7'));
	@fwrite($fp, base64_decode('CgkJJHJlcyA9IGFycmF5X21lcmdlKCRyZXMsIHNlbGY6OiRsb2dnZXJQbHVnaW5zKTsKCQkkcmVzID0gYXJyYXlfbWVyZ2UoJHJlcywgc2VsZjo6JG9iamVjdFR5cGVQbHVnaW5zKTsKCQkkcmVzID0gYXJyYXlfbWVyZ2UoJHJlcywgc2VsZjo6JGRiUGx1Z2lucyk7'));
	@fwrite($fp, base64_decode('CgkJJHJlcyA9IGFycmF5X21lcmdlKCRyZXMsIHNlbGY6OiRzcWxTbGFuZ1BsdWdpbnMpOwoJCXJldHVybiAkcmVzOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGx1Z2luQnlPaWQoJG9pZCkvKjogP09JRHBsdXNQbHVnaW4qLyB7CgkJJHBsdWdpbnMg'));
	@fwrite($fp, base64_decode('PSBzZWxmOjpnZXRBbGxQbHVnaW5zKCk7CgkJZm9yZWFjaCAoJHBsdWdpbnMgYXMgJHBsdWdpbikgewoJCQlpZiAob2lkX2RvdG5vdGF0aW9uX2VxdWFsKCRwbHVnaW4tPmdldE1hbmlmZXN0KCktPmdldE9pZCgpLCAkb2lkKSkgewoJCQkJcmV0dXJuICRwbHVnaW47'));
	@fwrite($fp, base64_decode('CgkJCX0KCQl9CgkJcmV0dXJuIG51bGw7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRQbHVnaW5NYW5pZmVzdCgkY2xhc3NfbmFtZSkvKjogP09JRHBsdXNQbHVnaW5NYW5pZmVzdCovIHsKCQkkcmVmbGVjdG9yID0gbmV3IFJlZmxlY3Rpb25DbGFzcygk'));
	@fwrite($fp, base64_decode('Y2xhc3NfbmFtZSk7CgkJJGluaSA9IGRpcm5hbWUoJHJlZmxlY3Rvci0+Z2V0RmlsZU5hbWUoKSkuJy9tYW5pZmVzdC54bWwnOwoJCSRtYW5pZmVzdCA9IG5ldyBPSURwbHVzUGx1Z2luTWFuaWZlc3QoKTsKCQlyZXR1cm4gJG1hbmlmZXN0LT5sb2FkTWFuaWZlc3Qo'));
	@fwrite($fp, base64_decode('JGluaSkgPyAkbWFuaWZlc3QgOiBudWxsOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0QWxsUGx1Z2luTWFuaWZlc3RzKCRwbHVnaW5Gb2xkZXJNYXNrPScqJywgJGZsYXQ9dHJ1ZSk6IGFycmF5IHsKCQkkb3V0ID0gYXJyYXkoKTsKCQkvLyBOb3RlOiBn'));
	@fwrite($fp, base64_decode('bG9iKCkgd2lsbCBzb3J0IGJ5IGRlZmF1bHQsIHNvIHdlIGRvIG5vdCBuZWVkIGEgcGFnZSBwcmlvcml0eSBhdHRyaWJ1dGUuCgkJLy8gICAgICAgU28geW91IGp1c3QgbmVlZCB0byB1c2UgYSBudW1lcmljIHBsdWdpbiBkaXJlY3RvcnkgcHJlZml4IChwYWRkZWQp'));
	@fwrite($fp, base64_decode('LgoJCSRhcnkgPSBnbG9iKE9JRHBsdXM6OmJhc2VQYXRoKCkuJy9wbHVnaW5zLycuJHBsdWdpbkZvbGRlck1hc2suJy8nLicqJy4nL21hbmlmZXN0LnhtbCcpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJGluaSkgewoJCQlpZiAoIWZpbGVfZXhpc3RzKCRpbmkpKSBjb250'));
	@fwrite($fp, base64_decode('aW51ZTsKCgkJCSRtYW5pZmVzdCA9IG5ldyBPSURwbHVzUGx1Z2luTWFuaWZlc3QoKTsKCQkJJG1hbmlmZXN0LT5sb2FkTWFuaWZlc3QoJGluaSk7CgoJCQlpZiAoJGZsYXQpIHsKCQkJCSRvdXRbXSA9ICRtYW5pZmVzdDsKCQkJfSBlbHNlIHsKCQkJCSRwbHVnaW50'));
	@fwrite($fp, base64_decode('eXBlX2ZvbGRlciA9IGJhc2VuYW1lKGRpcm5hbWUoZGlybmFtZSgkaW5pKSkpOwoJCQkJJHBsdWdpbm5hbWVfZm9sZGVyID0gYmFzZW5hbWUoZGlybmFtZSgkaW5pKSk7CgoJCQkJaWYgKCFpc3NldCgkb3V0WyRwbHVnaW50eXBlX2ZvbGRlcl0pKSAkb3V0WyRwbHVn'));
	@fwrite($fp, base64_decode('aW50eXBlX2ZvbGRlcl0gPSBhcnJheSgpOwoJCQkJaWYgKCFpc3NldCgkb3V0WyRwbHVnaW50eXBlX2ZvbGRlcl1bJHBsdWdpbm5hbWVfZm9sZGVyXSkpICRvdXRbJHBsdWdpbnR5cGVfZm9sZGVyXVskcGx1Z2lubmFtZV9mb2xkZXJdID0gYXJyYXkoKTsKCQkJCSRv'));
	@fwrite($fp, base64_decode('dXRbJHBsdWdpbnR5cGVfZm9sZGVyXVskcGx1Z2lubmFtZV9mb2xkZXJdID0gJG1hbmlmZXN0OwoJCQl9CgkJfQoJCXJldHVybiAkb3V0OwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXJBbGxQbHVnaW5zKCRwbHVnaW5EaXJOYW1lLCAkZXhwZWN0'));
	@fwrite($fp, base64_decode('ZWRQbHVnaW5DbGFzcywgJHJlZ2lzdGVyQ2FsbGJhY2spOiBhcnJheSB7CgkJJG91dCA9IGFycmF5KCk7CgkJJGFyeSA9IHNlbGY6OmdldEFsbFBsdWdpbk1hbmlmZXN0cygkcGx1Z2luRGlyTmFtZSwgZmFsc2UpOwoJCSRrbm93bl9wbHVnaW5fb2lkcyA9IGFycmF5'));
	@fwrite($fp, base64_decode('KCk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkcGx1Z2ludHlwZV9mb2xkZXIgPT4gJGJyeSkgewoJCQlmb3JlYWNoICgkYnJ5IGFzICRwbHVnaW5uYW1lX2ZvbGRlciA9PiAkY3J5KSB7CgkJCQkkY2xhc3NfbmFtZSA9ICRjcnktPmdldFBocE1haW5DbGFzcygpOwoJCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCEkY2xhc3NfbmFtZSkgewoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJQbHVnaW4gJyRwbHVnaW50eXBlX2ZvbGRlci8kcGx1Z2lubmFtZV9mb2xkZXInIGlzIGVycm9ybm91czogTWFuaWZlc3QgZG9lcyBub3QgZGVjbGFyZSBhIFBIUCBtYWlu'));
	@fwrite($fp, base64_decode('IGNsYXNzIik7CgkJCQl9CgkJCQlpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnRElTQUJMRV9QTFVHSU5fJy4kY2xhc3NfbmFtZSwgZmFsc2UpKSB7CgkJCQkJY29udGludWU7CgkJCQl9CgkJCQlpZiAoIWNsYXNzX2V4aXN0cygkY2xhc3NfbmFt'));
	@fwrite($fp, base64_decode('ZSkpIHsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiUGx1Z2luICckcGx1Z2ludHlwZV9mb2xkZXIvJHBsdWdpbm5hbWVfZm9sZGVyJyBpcyBlcnJvcm5vdXM6IE1hbmlmZXN0IGRlY2xhcmVzIFBIUCBtYWluIGNsYXNzIGFzICckY2xhc3NfbmFtZScs'));
	@fwrite($fp, base64_decode('IGJ1dCBpdCBjb3VsZCBub3QgYmUgZm91bmQiKTsKCQkJCX0KCQkJCWlmICghaXNfc3ViY2xhc3Nfb2YoJGNsYXNzX25hbWUsICRleHBlY3RlZFBsdWdpbkNsYXNzKSkgewoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJQbHVnaW4gJyRwbHVnaW50eXBl'));
	@fwrite($fp, base64_decode('X2ZvbGRlci8kcGx1Z2lubmFtZV9mb2xkZXInIGlzIGVycm9ybm91czogUGx1Z2luIG1haW4gY2xhc3MgJyRjbGFzc19uYW1lJyBpcyBleHBlY3RlZCB0byBiZSBhIHN1YmNsYXNzIG9mICckZXhwZWN0ZWRQbHVnaW5DbGFzcyciKTsKCQkJCX0KCQkJCWlmICgoJGNs'));
	@fwrite($fp, base64_decode('YXNzX25hbWUhPSRjcnktPmdldFR5cGVDbGFzcygpKSAmJiAoIWlzX3N1YmNsYXNzX29mKCRjbGFzc19uYW1lLCRjcnktPmdldFR5cGVDbGFzcygpKSkpIHsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiUGx1Z2luICckcGx1Z2ludHlwZV9mb2xkZXIv'));
	@fwrite($fp, base64_decode('JHBsdWdpbm5hbWVfZm9sZGVyJyBpcyBlcnJvcm5vdXM6IFBsdWdpbiBtYWluIGNsYXNzICckY2xhc3NfbmFtZScgaXMgZXhwZWN0ZWQgdG8gYmUgYSBzdWJjbGFzcyBvZiAnIi4kY3J5LT5nZXRUeXBlQ2xhc3MoKS4iJywgYWNjb3JkaW5nIHRvIHR5cGUgZGVjbGFy'));
	@fwrite($fp, base64_decode('ZWQgaW4gbWFuaWZlc3QiKTsKCQkJCX0KCQkJCWlmICgoJGNyeS0+Z2V0VHlwZUNsYXNzKCkhPSRleHBlY3RlZFBsdWdpbkNsYXNzKSAmJiAoIWlzX3N1YmNsYXNzX29mKCRjcnktPmdldFR5cGVDbGFzcygpLCRleHBlY3RlZFBsdWdpbkNsYXNzKSkpIHsKCQkJCQl0'));
	@fwrite($fp, base64_decode('aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiUGx1Z2luICckcGx1Z2ludHlwZV9mb2xkZXIvJHBsdWdpbm5hbWVfZm9sZGVyJyBpcyBlcnJvcm5vdXM6IENsYXNzIGRlY2xhcmVkIGluIG1hbmlmZXN0IGlzICciLiRjcnktPmdldFR5cGVDbGFzUygpLiInIGRvZXMg'));
	@fwrite($fp, base64_decode('bm90IGZpdCBleHBlY3RlZCBjbGFzcyBmb3IgdGhpcyBwbHVnaW4gdHlwZSAnJGV4cGVjdGVkUGx1Z2luQ2xhc3MnIik7CgkJCQl9CgoJCQkJJHBsdWdpbl9vaWQgPSAkY3J5LT5nZXRPaWQoKTsKCQkJCWlmICghJHBsdWdpbl9vaWQpIHsKCQkJCQl0aHJvdyBuZXcg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0V4Y2VwdGlvbigiUGx1Z2luICckcGx1Z2ludHlwZV9mb2xkZXIvJHBsdWdpbm5hbWVfZm9sZGVyJyBpcyBlcnJvcm5vdXM6IERvZXMgbm90IGhhdmUgYW4gT0lEIik7CgkJCQl9CgkJCQlpZiAoIW9pZF92YWxpZF9kb3Rub3RhdGlvbigkcGx1Z2luX29p'));
	@fwrite($fp, base64_decode('ZCwgZmFsc2UsIGZhbHNlLCAyKSkgewoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJQbHVnaW4gJyRwbHVnaW50eXBlX2ZvbGRlci8kcGx1Z2lubmFtZV9mb2xkZXInIGlzIGVycm9ybm91czogUGx1Z2luIE9JRCAnJHBsdWdpbl9vaWQnIGlzIGludmFs'));
	@fwrite($fp, base64_decode('aWQgKG5lZWRzIHRvIGJlIHZhbGlkIGRvdC1ub3RhdGlvbikiKTsKCQkJCX0KCQkJCWlmIChpc3NldCgka25vd25fcGx1Z2luX29pZHNbJHBsdWdpbl9vaWRdKSkgewoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJQbHVnaW4gJyRwbHVnaW50eXBlX2Zv'));
	@fwrite($fp, base64_decode('bGRlci8kcGx1Z2lubmFtZV9mb2xkZXInIGlzIGVycm9ybm91czogVGhlIE9JRCAnJHBsdWdpbl9vaWQnIGlzIGFscmVhZHkgdXNlZCBieSB0aGUgcGx1Z2luICciLiRrbm93bl9wbHVnaW5fb2lkc1skcGx1Z2luX29pZF0uIiciKTsKCQkJCX0gZWxzZSB7CgkJCQkJ'));
	@fwrite($fp, base64_decode('JGtub3duX3BsdWdpbl9vaWRzWyRwbHVnaW5fb2lkXSA9ICRwbHVnaW50eXBlX2ZvbGRlci4nLycuJHBsdWdpbm5hbWVfZm9sZGVyOwoJCQkJfQoKCQkJCSRvdXRbXSA9ICRjbGFzc19uYW1lOwoJCQkJaWYgKCFpc19udWxsKCRyZWdpc3RlckNhbGxiYWNrKSkgewoJ'));
	@fwrite($fp, base64_decode('CQkJCWNhbGxfdXNlcl9mdW5jKCRyZWdpc3RlckNhbGxiYWNrLCBuZXcgJGNsYXNzX25hbWUoKSk7CgkJCQl9CgkJCX0KCgkJfQoJCXJldHVybiAkb3V0OwoJfQoKCSMgLS0tIEluaXRpYWxpemF0aW9uIG9mIE9JRHBsdXMKCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IGluaXQoJGh0bWw9dHJ1ZSkgewoJCXNlbGY6OiRodG1sID0gJGh0bWw7CgoJCS8vIFJlc2V0IGludGVybmFsIHN0YXRlLCBzbyB3ZSBjYW4gcmUtaW5pdCB2ZXJ5dGhpbmcgaWYgcmVxdWlyZWQKCgkJaWYgKHNlbGY6OiRvbGRfY29uZmlnX2Zvcm1hdCkgewoJCQkv'));
	@fwrite($fp, base64_decode('LyBOb3RlOiBUaGlzIGNhbiBvbmx5IGhhcHBlbiBpbiB2ZXJ5IHNwZWNpYWwgY2FzZXMgKGUuZy4gdGVzdCBjYXNlcykgd2hlcmUgeW91IGNhbGwgaW5pdCgpIHR3aWNlCgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Eg'));
	@fwrite($fp, base64_decode('ZnVsbCByZS1pbml0aWFsaXphdGlvbiBpcyBub3QgcG9zc2libGUgaWYgYSB2ZXJzaW9uIDIuMCBjb25maWcgZmlsZSAoY29udGFpbmluZyAiZGVmaW5lcyIpIGlzIHVzZWQuIFBsZWFzZSB1cGRhdGUgdG8gYSBjb25maWcgMi4xIGZpbGUgYnkgcnVubmluZyBzZXR1'));
	@fwrite($fp, base64_decode('cCBhZ2Fpbi4nKTsKCQl9CgoJCXNlbGY6OiRjb25maWcgPSBudWxsOwoJCXNlbGY6OiRiYXNlQ29uZmlnID0gbnVsbDsKCQlzZWxmOjokZ3VpID0gbnVsbDsKCQlzZWxmOjokYXV0aFV0aWxzID0gbnVsbDsKCQlzZWxmOjokbWFpbFV0aWxzID0gbnVsbDsKCQlzZWxm'));
	@fwrite($fp, base64_decode('OjokbWVudVV0aWxzID0gbnVsbDsKCQlzZWxmOjokbG9nZ2VyID0gbnVsbDsKCQlzZWxmOjokc2VzSGFuZGxlciA9IG51bGw7CgkJc2VsZjo6JGRiTWFpblNlc3Npb24gPSBudWxsOwoJCXNlbGY6OiRkYklzb2xhdGVkU2Vzc2lvbiA9IG51bGw7CgkJc2VsZjo6JHBh'));
	@fwrite($fp, base64_decode('Z2VQbHVnaW5zID0gYXJyYXkoKTsKCQlzZWxmOjokYXV0aFBsdWdpbnMgPSBhcnJheSgpOwoJCXNlbGY6OiRsb2dnZXJQbHVnaW5zID0gYXJyYXkoKTsKCQlzZWxmOjokb2JqZWN0VHlwZVBsdWdpbnMgPSBhcnJheSgpOwoJCXNlbGY6OiRlbmFibGVkT2JqZWN0VHlw'));
	@fwrite($fp, base64_decode('ZXMgPSBhcnJheSgpOwoJCXNlbGY6OiRkaXNhYmxlZE9iamVjdFR5cGVzID0gYXJyYXkoKTsKCQlzZWxmOjokZGJQbHVnaW5zID0gYXJyYXkoKTsKCQlzZWxmOjokc3FsU2xhbmdQbHVnaW5zID0gYXJyYXkoKTsKCQlzZWxmOjokc3lzdGVtX2lkX2NhY2hlID0gbnVs'));
	@fwrite($fp, base64_decode('bDsKCQlzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSBudWxsOwoKCQkvLyBDb250aW51ZS4uLgoKCQlPSURwbHVzOjpiYXNlQ29uZmlnKCk7IC8vIHRoaXMgbG9hZHMgdGhlIGJhc2UgY29uZmlndXJhdGlvbiBsb2NhdGVkIGluIHVzZXJkYXRhL2Jhc2Vjb25maWcv'));
	@fwrite($fp, base64_decode('Y29uZmlnLmluYy5waHAgKG9uY2UhKQoJCSAgICAgICAgICAgICAgICAgICAgICAgLy8gWW91IGNhbiBkbyBjaGFuZ2VzIHRvIHRoZSBjb25maWd1cmF0aW9uIGFmdGVyd2FyZHMgdXNpbmcgT0lEcGx1czo6YmFzZUNvbmZpZygpLT4uLi4KCgkJLy8gUmVnaXN0ZXIg'));
	@fwrite($fp, base64_decode('ZGF0YWJhc2UgdHlwZXMgKGhpZ2hlc3QgcHJpb3JpdHkpCgoJCS8vIFNRTCBzbGFuZ3MKCgkJc2VsZjo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdzcWxTbGFuZycsICdPSURwbHVzU3FsU2xhbmdQbHVnaW4nLCBhcnJheSgnT0lEcGx1cycsJ3JlZ2lzdGVyU3FsU2xhbmdQ'));
	@fwrite($fp, base64_decode('bHVnaW4nKSk7CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0U3FsU2xhbmdQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkkcGx1Z2luLT5pbml0KCRodG1sKTsKCQl9CgoJCS8vIERhdGFiYXNlIHByb3ZpZGVycwoKCQlzZWxmOjpyZWdpc3RlckFsbFBsdWdpbnMoJ2Rh'));
	@fwrite($fp, base64_decode('dGFiYXNlJywgJ09JRHBsdXNEYXRhYmFzZVBsdWdpbicsIGFycmF5KCdPSURwbHVzJywncmVnaXN0ZXJEYXRhYmFzZVBsdWdpbicpKTsKCQlmb3JlYWNoIChPSURwbHVzOjpnZXREYXRhYmFzZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmluaXQo'));
	@fwrite($fp, base64_decode('JGh0bWwpOwoJCX0KCgkJLy8gRG8gcmVkaXJlY3Qgc3R1ZmYgZXRjLgoKCQlzZWxmOjppc1NzbEF2YWlsYWJsZSgpOyAvLyBUaGlzIGZ1bmN0aW9uIGRvZXMgYXV0b21hdGljIHJlZGlyZWN0cwoKCQkvLyBDb25zdHJ1Y3QgdGhlIGNvbmZpZ3VyYXRpb24gbWFuYWdl'));
	@fwrite($fp, base64_decode('cgoKCQlPSURwbHVzOjpjb25maWcoKTsgLy8gRHVyaW5nIHRoZSBjb25zdHJ1Y3Rpb24sIHZhcmlvdXMgc3lzdGVtIHNldHRpbmdzIGFyZSBwcmVwYXJlZCBpZiByZXF1aXJlZAoKCQkvLyBJbml0aWFsaXplIHB1YmxpYyAvIHByaXZhdGUga2V5cwoKCQlPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpnZXRQa2lTdGF0dXModHJ1ZSk7CgoJCS8vIFJlZ2lzdGVyIG5vbi1EQiBwbHVnaW5zCgoJCXNlbGY6OnJlZ2lzdGVyQWxsUGx1Z2lucygnKlBhZ2VzJywgJ09JRHBsdXNQYWdlUGx1Z2luJywgYXJyYXkoJ09JRHBsdXMnLCdyZWdpc3RlclBhZ2VQbHVnaW4nKSk7'));
	@fwrite($fp, base64_decode('CgkJc2VsZjo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdhdXRoJywgJ09JRHBsdXNBdXRoUGx1Z2luJywgYXJyYXkoJ09JRHBsdXMnLCdyZWdpc3RlckF1dGhQbHVnaW4nKSk7CgkJc2VsZjo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdsb2dnZXInLCAnT0lEcGx1c0xvZ2dlclBs'));
	@fwrite($fp, base64_decode('dWdpbicsIGFycmF5KCdPSURwbHVzJywncmVnaXN0ZXJMb2dnZXJQbHVnaW4nKSk7CgkJc2VsZjo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdvYmplY3RUeXBlcycsICdPSURwbHVzT2JqZWN0VHlwZVBsdWdpbicsIGFycmF5KCdPSURwbHVzJywncmVnaXN0ZXJPYmplY3RU'));
	@fwrite($fp, base64_decode('eXBlUGx1Z2luJykpOwoKCQkvLyBJbml0aWFsaXplIG5vbi1EQiBwbHVnaW5zCgoJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkkcGx1Z2luLT5pbml0KCRodG1sKTsKCQl9CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0'));
	@fwrite($fp, base64_decode('QXV0aFBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmluaXQoJGh0bWwpOwoJCX0KCQlmb3JlYWNoIChPSURwbHVzOjpnZXRMb2dnZXJQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkkcGx1Z2luLT5pbml0KCRodG1sKTsKCQl9CgkJZm9yZWFjaCAo'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6Z2V0T2JqZWN0VHlwZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmluaXQoJGh0bWwpOwoJCX0KCX0KCgkjIC0tLSBTeXN0ZW0gVVJMLCBTeXN0ZW0gSUQsIFBLSSwgYW5kIG90aGVyIGZ1bmN0aW9ucwoKCXB1YmxpYyBzdGF0aWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gYmFzZVBhdGgoKSB7CgkJcmV0dXJuIHJlYWxwYXRoKF9fRElSX18gLiAnLy4uLy4uLycpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0U3lzdGVtVXJsKCRyZWxhdGl2ZT1mYWxzZSkgewoJCWlmICghJHJlbGF0aXZlKSB7CgkJCSRyZXMg'));
	@fwrite($fp, base64_decode('PSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdFWFBMSUNJVF9BQlNPTFVURV9TWVNURU1fVVJMJywgJycpOwoJCQlpZiAoJHJlcyAhPT0gJycpIHsKCQkJCXRyeSB7CgkJCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCdsYXN0X2tub3duX3N5'));
	@fwrite($fp, base64_decode('c3RlbV91cmwnLCAkcmVzKTsKCQkJCQlyZXR1cm4gJHJlczsKCQkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJfQoJCQl9CgkJfQoKCQlpZiAoIWlzc2V0KCRfU0VSVkVSWyJTQ1JJUFRfTkFNRSJdKSkgcmV0dXJuIGZhbHNlOwoKCQkkdGVzdF9kaXIgPSBk'));
	@fwrite($fp, base64_decode('aXJuYW1lKCRfU0VSVkVSWydTQ1JJUFRfRklMRU5BTUUnXSk7CgkJJHRlc3RfZGlyID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkdGVzdF9kaXIpOwoJCSRjID0gMDsKCQl3aGlsZSAoIWZpbGVfZXhpc3RzKCR0ZXN0X2Rpci4nL29pZHBsdXNfYmFzZS5qcycpKSB7'));
	@fwrite($fp, base64_decode('CgkJCSR0ZXN0X2RpciA9IGRpcm5hbWUoJHRlc3RfZGlyKTsKCQkJJGMrKzsKCQkJaWYgKCRjID09IDEwMDApIHJldHVybiBmYWxzZTsKCQl9CgoJCSRyZXMgPSBkaXJuYW1lKCRfU0VSVkVSWydTQ1JJUFRfTkFNRSddLid4eHgnKTsKCgkJZm9yICgkaT0xOyAkaTw9'));
	@fwrite($fp, base64_decode('JGM7ICRpKyspIHsKCQkJJHJlcyA9IGRpcm5hbWUoJHJlcyk7CgkJfQoKCQkkcmVzID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkcmVzKTsKCQlpZiAoJHJlcyA9PSAnLycpICRyZXMgPSAnJzsKCQkkcmVzIC49ICcvJzsKCgkJaWYgKCEkcmVsYXRpdmUpIHsKCQkJ'));
	@fwrite($fp, base64_decode('aWYgKHBocF9zYXBpX25hbWUoKSA9PSAnY2xpJykgewoJCQkJdHJ5IHsKCQkJCQlyZXR1cm4gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdsYXN0X2tub3duX3N5c3RlbV91cmwnLCBmYWxzZSk7CgkJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJCX0K'));
	@fwrite($fp, base64_decode('CQkJfQoKCQkJJGlzX3NzbCA9IGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAoJF9TRVJWRVJbJ0hUVFBTJ10gPT09ICdvbicpOwoJCQkkcHJvdG9jb2wgPSAkaXNfc3NsID8gJ2h0dHBzJyA6ICdodHRwJzsKCQkJJGhvc3QgPSAkX1NFUlZFUlsnSFRUUF9IT1NU'));
	@fwrite($fp, base64_decode('J107IC8vIGluY2x1ZGVzIHBvcnQgaWYgaXQgaXMgbm90IDgwLzQ0MwoJCQkkcmVzID0gJHByb3RvY29sLic6Ly8nLiRob3N0LiRyZXM7CgoJCQl0cnkgewoJCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCdsYXN0X2tub3duX3N5c3RlbV91cmwnLCAkcmVz'));
	@fwrite($fp, base64_decode('KTsKCQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCX0KCQl9CgoJCXJldHVybiAkcmVzOwoJfQoKCXByaXZhdGUgc3RhdGljICRzeXN0ZW1faWRfY2FjaGUgPSBudWxsOwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRTeXN0ZW1JZCgkb2lkPWZhbHNlKSB7'));
	@fwrite($fp, base64_decode('CgkJaWYgKCFpc19udWxsKHNlbGY6OiRzeXN0ZW1faWRfY2FjaGUpKSB7CgkJCSRvdXQgPSBzZWxmOjokc3lzdGVtX2lkX2NhY2hlOwoJCX0gZWxzZSB7CgkJCSRvdXQgPSBmYWxzZTsKCgkJCWlmIChzZWxmOjpnZXRQa2lTdGF0dXModHJ1ZSkpIHsKCQkJCSRwdWJL'));
	@fwrite($fp, base64_decode('ZXkgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScpOwoJCQkJaWYgKHByZWdfbWF0Y2goJ0BCRUdJTiBQVUJMSUMgS0VZXC0rKC4rKVwtK0VORCBQVUJMSUMgS0VZQGlzbVUnLCAkcHViS2V5LCAkbSkpIHsKCQkJCQkkb3V0'));
	@fwrite($fp, base64_decode('ID0gc21hbGxoYXNoKGJhc2U2NF9kZWNvZGUoJG1bMV0pKTsKCQkJCX0KCQkJfQoJCQlzZWxmOjokc3lzdGVtX2lkX2NhY2hlID0gJG91dDsKCQl9CgkJaWYgKCEkb3V0KSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuICgkb2lkID8gJzEuMy42LjEuNC4xLjM3NDc2LjMw'));
	@fwrite($fp, base64_decode('LjkuJyA6ICcnKS4kb3V0OwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGtpU3RhdHVzKCR0cnlfZ2VuZXJhdGU9dHJ1ZSkgewoJCWlmICghZnVuY3Rpb25fZXhpc3RzKCdvcGVuc3NsX3BrZXlfbmV3JykpIHJldHVybiBmYWxzZTsKCgkJJHByaXZLZXkg'));
	@fwrite($fp, base64_decode('PSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknKTsKCQkkcHViS2V5ID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdvaWRwbHVzX3B1YmxpY19rZXknKTsKCgkJaWYgKCR0cnlfZ2VuZXJhdGUgJiYgIXZlcmlmeV9w'));
	@fwrite($fp, base64_decode('cml2YXRlX3B1YmxpY19rZXkoJHByaXZLZXksICRwdWJLZXkpKSB7CgkJCSRwa2V5X2NvbmZpZyA9IGFycmF5KAoJCQkgICAgImRpZ2VzdF9hbGciID0+ICJzaGE1MTIiLAoJCQkgICAgInByaXZhdGVfa2V5X2JpdHMiID0+IDIwNDgsCgkJCSAgICAicHJpdmF0ZV9r'));
	@fwrite($fp, base64_decode('ZXlfdHlwZSIgPT4gT1BFTlNTTF9LRVlUWVBFX1JTQSwKCQkJKTsKCgkJCS8vIENyZWF0ZSB0aGUgcHJpdmF0ZSBhbmQgcHVibGljIGtleQoJCQkkcmVzID0gb3BlbnNzbF9wa2V5X25ldygkcGtleV9jb25maWcpOwoKCQkJaWYgKCEkcmVzKSByZXR1cm4gZmFsc2U7'));
	@fwrite($fp, base64_decode('CgoJCQkvLyBFeHRyYWN0IHRoZSBwcml2YXRlIGtleSBmcm9tICRyZXMgdG8gJHByaXZLZXkKCQkJb3BlbnNzbF9wa2V5X2V4cG9ydCgkcmVzLCAkcHJpdktleSk7CgoJCQkvLyBFeHRyYWN0IHRoZSBwdWJsaWMga2V5IGZyb20gJHJlcyB0byAkcHViS2V5CgkJCSRw'));
	@fwrite($fp, base64_decode('dWJLZXkgPSBvcGVuc3NsX3BrZXlfZ2V0X2RldGFpbHMoJHJlcylbImtleSJdOwoKCQkJLy8gTG9nCgkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIltJTkZPXUEhIiwgIkdlbmVyYXRpbmcgbmV3IFN5c3RlbUlEIHVzaW5nIGEgbmV3IGtleSBwYWlyIik7CgoJCQkv'));
	@fwrite($fp, base64_decode('LyBTYXZlIHRoZSBrZXkgcGFpciB0byBkYXRhYmFzZQoJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknLCAkcHJpdktleSk7CgkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgnb2lkcGx1c19wdWJsaWNfa2V5Jywg'));
	@fwrite($fp, base64_decode('JHB1YktleSk7CgoJCQkvLyBMb2cgdGhlIG5ldyBzeXN0ZW0gSUQKCQkJaWYgKHByZWdfbWF0Y2goJ0BCRUdJTiBQVUJMSUMgS0VZXC0rKC4rKVwtK0VORCBQVUJMSUMgS0VZQGlzbVUnLCAkcHViS2V5LCAkbSkpIHsKCQkJCSRzeXN0ZW1faWQgPSBzbWFsbGhhc2go'));
	@fwrite($fp, base64_decode('YmFzZTY0X2RlY29kZSgkbVsxXSkpOwoJCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiW0lORk9dQSEiLCAiWW91ciBTeXN0ZW1JRCBpcyBub3cgJHN5c3RlbV9pZCIpOwoJCQl9CgkJfQoKCQlyZXR1cm4gdmVyaWZ5X3ByaXZhdGVfcHVibGljX2tleSgkcHJpdktl'));
	@fwrite($fp, base64_decode('eSwgJHB1YktleSk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRJbnN0YWxsVHlwZSgpIHsKCQlpZiAoIWZpbGVfZXhpc3RzKE9JRHBsdXM6OmJhc2VQYXRoKCkuJy9vaWRwbHVzX3ZlcnNpb24udHh0JykgJiYgIWlzX2RpcihPSURwbHVzOjpiYXNlUGF0'));
	@fwrite($fp, base64_decode('aCgpLicvLnN2bicpKSB7CgkJCXJldHVybiAndW5rbm93bic7CgkJfQoJCWlmIChmaWxlX2V4aXN0cyhPSURwbHVzOjpiYXNlUGF0aCgpLicvb2lkcGx1c192ZXJzaW9uLnR4dCcpICYmIGlzX2RpcihPSURwbHVzOjpiYXNlUGF0aCgpLicvLnN2bicpKSB7CgkJCXJl'));
	@fwrite($fp, base64_decode('dHVybiAnYW1iaWdvdXMnOwoJCX0KCQlpZiAoaXNfZGlyKE9JRHBsdXM6OmJhc2VQYXRoKCkuJy8uc3ZuJykpIHsKCQkJcmV0dXJuICdzdm4td2MnOwoJCX0KCQlpZiAoZmlsZV9leGlzdHMoT0lEcGx1czo6YmFzZVBhdGgoKS4nL29pZHBsdXNfdmVyc2lvbi50eHQn'));
	@fwrite($fp, base64_decode('KSkgewoJCQlyZXR1cm4gJ3N2bi1zbmFwc2hvdCc7CgkJfQoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0VmVyc2lvbigpIHsKCQlpZiAoZmlsZV9leGlzdHMoT0lEcGx1czo6YmFzZVBhdGgoKS4nL29pZHBsdXNfdmVyc2lvbi50eHQnKSAmJiBpc19kaXIo'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YmFzZVBhdGgoKS4nLy5zdm4nKSkgewoJCQlyZXR1cm4gZmFsc2U7IC8vIHZlcnNpb24gaXMgYW1iaWdvdXMKCQl9CgoJCWlmIChpc19kaXIoT0lEcGx1czo6YmFzZVBhdGgoKS4nLy5zdm4nKSkgewoJCQkvLyBUcnkgdG8gZ2V0IHRoZSB2ZXJzaW9u'));
	@fwrite($fp, base64_decode('IHZpYSBTUUxpdGUzCgkJCWlmIChjbGFzc19leGlzdHMoJ1NRTGl0ZTMnKSkgewoJCQkJdHJ5IHsKCQkJCQkkZGIgPSBuZXcgU1FMaXRlMyhPSURwbHVzOjpiYXNlUGF0aCgpLicvLnN2bi93Yy5kYicpOwoJCQkJCSRyZXN1bHRzID0gJGRiLT5xdWVyeSgnU0VMRUNU'));
	@fwrite($fp, base64_decode('IE1JTihyZXZpc2lvbikgQVMgcmV2IEZST00gTk9ERVNfQkFTRScpOwoJCQkJCXdoaWxlICgkcm93ID0gJHJlc3VsdHMtPmZldGNoQXJyYXkoKSkgewoJCQkJCQlyZXR1cm4gJ3N2bi0nLiRyb3dbJ3JldiddOwoJCQkJCX0KCQkJCQkkZGItPmNsb3NlKCk7CgkJCQkJ'));
	@fwrite($fp, base64_decode('JGRiID0gbnVsbDsKCQkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJfQoJCQl9CgkJCWlmIChjbGFzc19leGlzdHMoJ1BETycpKSB7CgkJCQl0cnkgewoJCQkJCSRwZG8gPSBuZXcgUERPKCdzcWxpdGU6JyAuIE9JRHBsdXM6OmJhc2VQYXRoKCkuJy8uc3Zu'));
	@fwrite($fp, base64_decode('L3djLmRiJyk7CgkJCQkJJHJlcyA9ICRwZG8tPnF1ZXJ5KCdTRUxFQ1QgTUlOKHJldmlzaW9uKSBBUyByZXYgRlJPTSBOT0RFU19CQVNFJyk7CgkJCQkJJHJvdyA9ICRyZXMtPmZldGNoKCk7CgkJCQkJaWYgKCRyb3cgIT09IGZhbHNlKSByZXR1cm4gJ3N2bi0nLiRy'));
	@fwrite($fp, base64_decode('b3dbJ3JldiddOwoJCQkJCSRwZG8gPSBudWxsOwoJCQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCQl9CgkJCX0KCgkJCS8vIFRyeSB0byBmaW5kIG91dCB0aGUgU1ZOIHZlcnNpb24gdXNpbmcgdGhlIHNoZWxsCgkJCS8vIFdlIGRvbid0IHByaW9yaXRpemUg'));
	@fwrite($fp, base64_decode('dGhpcyBtZXRob2QsIGJlY2F1c2UgYSBmYWlsZWQgc2hlbGwgYWNjZXNzIHdpbGwgZmxvb2QgdGhlIGFwYWNoZSBlcnJvciBsb2cgd2l0aCBTVERFUlIgbWVzc2FnZXMKCQkJJG91dHB1dCA9IEBzaGVsbF9leGVjKCdzdm52ZXJzaW9uICcuZXNjYXBlc2hlbGxhcmco'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YmFzZVBhdGgoKSkpOwoJCQlpZiAocHJlZ19tYXRjaCgnL1xkKy8nLCAkb3V0cHV0LCAkbWF0Y2gpKSB7CgkJCQlyZXR1cm4gJ3N2bi0nLiRtYXRjaFswXTsKCQkJfQoKCQkJJG91dHB1dCA9IEBzaGVsbF9leGVjKCdzdm4gaW5mbyAnLmVzY2FwZXNo'));
	@fwrite($fp, base64_decode('ZWxsYXJnKE9JRHBsdXM6OmJhc2VQYXRoKCkpKTsKCQkJaWYgKHByZWdfbWF0Y2goJy9SZXZpc2lvbjpccyooXGQrKS9tJywgJG91dHB1dCwgJG1hdGNoKSkgewoJCQkJcmV0dXJuICdzdm4tJy4kbWF0Y2hbMV07CgkJCX0KCQl9CgoJCWlmIChmaWxlX2V4aXN0cyhP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpiYXNlUGF0aCgpLicvb2lkcGx1c192ZXJzaW9uLnR4dCcpKSB7CgkJCSRjb250ID0gZmlsZV9nZXRfY29udGVudHMoT0lEcGx1czo6YmFzZVBhdGgoKS4nL29pZHBsdXNfdmVyc2lvbi50eHQnKTsKCQkJaWYgKHByZWdfbWF0Y2goJ0BSZXZpc2lvbiAo'));
	@fwrite($fp, base64_decode('XGQrKUAnLCAkY29udCwgJG0pKQoJCQkJcmV0dXJuICdzdm4tJy4kbVsxXTsKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0KCglwcml2YXRlIHN0YXRpYyAkc3NsQXZhaWxhYmxlQ2FjaGUgPSBudWxsOwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpc1NzbEF2YWlsYWJs'));
	@fwrite($fp, base64_decode('ZSgpIHsKCQlpZiAoIWlzX251bGwoc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlKSkgcmV0dXJuIHNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZTsKCgkJaWYgKHBocF9zYXBpX25hbWUoKSA9PSAnY2xpJykgewoJCQlzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSBmYWxz'));
	@fwrite($fp, base64_decode('ZTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHRpbWVvdXQgPSAyOwoJCSRhbHJlYWR5X3NzbCA9IGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAoJF9TRVJWRVJbJ0hUVFBTJ10gPT0gIm9uIik7CgkJJHNzbF9wb3J0ID0gNDQzOwoJCSRjb29raWVfcGF0aCA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmdldFN5c3RlbVVybCh0cnVlKTsKCQlpZiAoZW1wdHkoJGNvb2tpZV9wYXRoKSkgJGNvb2tpZV9wYXRoID0gJy8nOwoKCQkkbW9kZSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0VORk9SQ0VfU1NMJywgMi8qYXV0byovKTsKCgkJ'));
	@fwrite($fp, base64_decode('aWYgKCRtb2RlID09IDApIHsKCQkJLy8gTm8gU1NMIGF2YWlsYWJsZQoJCQlzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSAkYWxyZWFkeV9zc2w7CgkJCXJldHVybiAkYWxyZWFkeV9zc2w7CgkJfQoKCQlpZiAoJG1vZGUgPT0gMSkgewoJCQkvLyBGb3JjZSBTU0wK'));
	@fwrite($fp, base64_decode('CQkJaWYgKCRhbHJlYWR5X3NzbCkgewoJCQkJc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gdHJ1ZTsKCQkJCXJldHVybiB0cnVlOwoJCQl9IGVsc2UgewoJCQkJJGxvY2F0aW9uID0gJ2h0dHBzOi8vJyAuICRfU0VSVkVSWydIVFRQX0hPU1QnXSAuICRfU0VSVkVS'));
	@fwrite($fp, base64_decode('WydSRVFVRVNUX1VSSSddOwoJCQkJaGVhZGVyKCdMb2NhdGlvbjonLiRsb2NhdGlvbik7CgkJCQlkaWUoJ1JlZGlyZWN0aW5nIHRvIEhUVFBTLi4uJyk7CgkJCQlzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSB0cnVlOwoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9'));
	@fwrite($fp, base64_decode('CgoJCWlmICgkbW9kZSA9PSAyKSB7CgkJCS8vIEF1dG9tYXRpYyBTU0wgZGV0ZWN0aW9uCgoJCQlpZiAoJGFscmVhZHlfc3NsKSB7CgkJCQkvLyB3ZSBhcmUgYWxyZWFkeSBvbiBIVFRQUwoJCQkJc2V0Y29va2llKCdTU0xfQ0hFQ0snLCAnMScsIDAsICRjb29raWVf'));
	@fwrite($fp, base64_decode('cGF0aCwgJycsIGZhbHNlLCB0cnVlKTsKCQkJCXNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZSA9IHRydWU7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfSBlbHNlIHsKCQkJCWlmIChpc3NldCgkX0NPT0tJRVsnU1NMX0NIRUNLJ10pKSB7CgkJCQkJLy8gV2UgYWxyZWFkeSBo'));
	@fwrite($fp, base64_decode('YWQgdGhlIEhUVFBTIGRldGVjdGlvbiBkb25lIGJlZm9yZS4KCQkJCQlpZiAoJF9DT09LSUVbJ1NTTF9DSEVDSyddKSB7CgkJCQkJCS8vIEhUVFBTIHdhcyBkZXRlY3RlZCBiZWZvcmUsIGJ1dCB3ZSBhcmUgSFRUUC4gUmVkaXJlY3Qgbm93CgkJCQkJCSRsb2NhdGlv'));
	@fwrite($fp, base64_decode('biA9ICdodHRwczovLycgLiAkX1NFUlZFUlsnSFRUUF9IT1NUJ10gLiAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTsKCQkJCQkJaGVhZGVyKCdMb2NhdGlvbjonLiRsb2NhdGlvbik7CgkJCQkJCWRpZSgnUmVkaXJlY3RpbmcgdG8gSFRUUFMuLi4nKTsKCQkJCQkJc2Vs'));
	@fwrite($fp, base64_decode('Zjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gdHJ1ZTsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gTm8gSFRUUFMgYXZhaWxhYmxlLiBEbyBub3RoaW5nLgoJCQkJCQlzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSBmYWxzZTsKCQkJCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJLy8gVGhpcyBpcyBvdXIgZmlyc3QgY2hlY2sgKG9yIHRoZSBicm93c2VyIGRpZG4ndCBhY2NlcHQgdGhlIFNTTF9DSEVDSyBjb29raWUpCgkJCQkJaWYgKEBmc29ja29wZW4oJF9TRVJWRVJbJ0hU'));
	@fwrite($fp, base64_decode('VFBfSE9TVCddLCAkc3NsX3BvcnQsICRlcnJubywgJGVycnN0ciwgJHRpbWVvdXQpKSB7CgkJCQkJCS8vIEhUVFBTIGRldGVjdGVkLiBSZWRpcmVjdCBub3csIGFuZCByZW1lbWJlciB0aGF0IHdlIGhhZCBkZXRlY3RlZCBIVFRQUwoJCQkJCQlzZXRjb29raWUoJ1NT'));
	@fwrite($fp, base64_decode('TF9DSEVDSycsICcxJywgMCwgJGNvb2tpZV9wYXRoLCAnJywgZmFsc2UsIHRydWUpOwoJCQkJCQkkbG9jYXRpb24gPSAnaHR0cHM6Ly8nIC4gJF9TRVJWRVJbJ0hUVFBfSE9TVCddIC4gJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ107CgkJCQkJCWhlYWRlcignTG9jYXRp'));
	@fwrite($fp, base64_decode('b246Jy4kbG9jYXRpb24pOwoJCQkJCQlkaWUoJ1JlZGlyZWN0aW5nIHRvIEhUVFBTLi4uJyk7CgkJCQkJCXNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZSA9IHRydWU7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8vIE5vIEhUVFBTIGRldGVj'));
	@fwrite($fp, base64_decode('dGVkLiBEbyBub3RoaW5nLCBhbmQgbmV4dCB0aW1lLCBkb24ndCB0cnkgdG8gZGV0ZWN0IEhUVFBTIGFnYWluLgoJCQkJCQlzZXRjb29raWUoJ1NTTF9DSEVDSycsICcwJywgMCwgJGNvb2tpZV9wYXRoLCAnJywgZmFsc2UsIHRydWUpOwoJCQkJCQlzZWxmOjokc3Ns'));
	@fwrite($fp, base64_decode('QXZhaWxhYmxlQ2FjaGUgPSBmYWxzZTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHdlYnBhdGgoJHRhcmdldCkgewoJCSRkaXIgPSBfX0RJUl9fOwoJCSRkaXIgPSBkaXJuYW1lKCRk'));
	@fwrite($fp, base64_decode('aXIpOwoJCSRkaXIgPSBkaXJuYW1lKCRkaXIpOwoJCSR0YXJnZXQgPSBzdWJzdHIoJHRhcmdldCwgc3RybGVuKCRkaXIpKzEsIHN0cmxlbigkdGFyZ2V0KS1zdHJsZW4oJGRpciktMSk7CgkJaWYgKCR0YXJnZXQgIT0gJycpIHsKCQkJJHRhcmdldCA9IHN0cl9yZXBs'));
	@fwrite($fp, base64_decode('YWNlKCdcXCcsJy8nLCR0YXJnZXQpLicvJzsKCQl9CgkJcmV0dXJuICR0YXJnZXQ7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplus.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplus.class.php');
	writefile_1();
	if (!is_file('includes/classes/OIDplus.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplus.class.php');
	} else if (sha1_file('includes/classes/OIDplus.class.php') != 'd2765835a62e6056e6cd24329023454851a241ed') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplus.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplus.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplus.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplus.class.php') !== 'd2765835a62e6056e6cd24329023454851a241ed') {
		if (@sha1_file('includes/classes/OIDplus.class.php') !== 'be012f449809e82de2250f9bc69f6b614952a374') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplus.class.php');
			$tmp = pathinfo('includes/classes/OIDplus.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplus.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplus.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/classes/OIDplus.class.php') !== 'd2765835a62e6056e6cd24329023454851a241ed') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplus.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 352\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 352') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

