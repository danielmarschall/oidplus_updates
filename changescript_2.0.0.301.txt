<?php /* <ViaThinkSoftSignature>
VB9ChwU4Sz2zPpcgzEnn9wwNLLbMDQDn9+4W7lGXYn1s24XWi3FSb8QnOWnj7hc4Q
4wtIlUhBV6kF9bo56uPrHDbcytWZVlL+wGhpgcwHki3EWmCEQzu4lQbM7gPxwAOBN
ScefIdzoBN/1UuaYFi3S0MHs1kA+wG+lUiNRm+9UuGr6cowBBUhZsCTU2rEHJZpN+
/MOUAVlnA4IMtYbV2+m8kjoSRoDO84e5vQAQ/I54XKTwZpj9wEWcNbw8h/aG8Rss2
dBe1SYHfssQdT3mNgXfIjUoj7SmTEFQxLhmR2oLN99PBvBUH/7LiPlnHcP3PE4xTJ
kxOFSX9NBbEv963Nj48txRsypIBggLOTSdQHx1QOIX8cZOP6lMLOkSTCQyDg/Efzc
lKHW7PtJN3/F+t3gKA5KXVOlLvkjm2jfGMXTQhKN2FyxZD/saVRCEP8q+9nfduA+S
gnuIROlBc8/+f60z4/0kCGeXeWW+3qKGHCXFtSAcaWMr0jpILFEYyiO8xG/6rpM/n
PgT/cjTkGuzinTNYFRnSZrv9HkrJIbYTd15JjOHfpFa8dh67d2DrhBDZlG3/pX3Ro
3VbDeJSd/XVc+XB5RP4Gv4VX5q9oTkVRaipjrwUpXnxgDFg9PN0DBlshWckURkkiH
KbpEltpNp5QaNA4O3ovIXU6l5uSsctfQXYd2j528EQmAEqfVY9VA1nmgOYl3F8abH
+fOEpBF5Z+Ts+FW9qsuq0eacgEy1q2wm/tDU1hwWGZosVDQUM97idynNBeXzT1xyq
Kb52hFbCMyDfisJZ98u5NrL1lSuub8HC/7q8BZZt1dOV/gTiL8na44ew59LnUp8nX
SaVDYXDogvNpTB262ytrhIamI4DuNVIZVt9aT8gi0imgmCsyn6aRRPatz8IxTeERu
kbfcXCk5cTiFxikKZeVl2x0R1mGUlLxeYF7GL7u0TBLPnL9SnasBuXg69qLkI8qW4
DhwzQEBiiypbS9FIWAb0Yw5w3QbXsNWoTCwtVYqoGuXFhA1BKjBr9nji/3bBAFbQ/
lTEFiiyw0aR6CvcQTgUEgGcujpb2SIrNuLbVWFrswJDnZgFFuQQmo8aDV0tvYJeJW
IvB19NRoZ3DJuKmSuDoo+T9l1IkKN5QHXptPHQoGHPzK39//EAVhmbuelhtYCYd7N
CypjxQGV5H9ZchiPOEEzlaFJrraLJ/X+o9dA76egESUJOgrgPtaIz0IGmSEDFlemH
jbK2xjHBltqp5SgGij1NQ3NFwpTLUyCC1z8bHBbfb/Dzavhmb4ZqUhBrZHZcugdP/
yoje7lsK8jPMnRQS7Scx/PReO8ly36G+0pjiosCIzSbrZ0E7JYUusWr5VAVb55tQS
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 300') {
	err('This update can only be applied to OIDplus version 2.0.0.300!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: oidplus_base.css
function writefile_1() {
	@$fp = fopen('oidplus_base.css', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKCi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqKiBBVFRFTlRJT046ICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCiAqKiBQbGVh'));
	@fwrite($fp, base64_decode('c2UgZG8gTk9UIGVkaXQgdGhpcyBmaWxlLCBzaW5jZSBhIHNvZnR3YXJlIHVwZGF0ZSBtaWdodCBvdmVycmlkZSAgICAgICAgICAgICoqCiAqKiB5b3VyIGNoYW5nZXMuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICoqCiAqKiBUbyBjcmVhdGUgYW4gaW5kaXZpZHVhbCB0aGVtZSwgcGxlYXNlIGNsb25lIHRoaXMgZmlsZSB0byBvaWRwbHVzX2Jhc2UubG9jYWwuY3NzICoqCiAqKiBXaGVuIHRoZSBmaWxlIG9pZHBsdXNfYmFzZS5sb2NhbC5jc3MgaXMgcHJl'));
	@fwrite($fp, base64_decode('c2VudCwgT0lEcGx1cyB3aWxsIHVzZSAgICAgICAgICAgICAgICoqCiAqKiB0aGlzIGZpbGUgaW5zdGVhZCBvZiBvaWRwbHVzX2Jhc2UuY3NzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqCiAqKiBOb3RlOiAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqCiAqKiAtIElmIHlvdSBqdXN0IHdhbnQgdG8gY2hhbmdlIGNvbG9ycywgdGhlbiB0aGUgY29sb3IgcGx1Z2luIGluIHRoZSBhZG1pbiBhcmVhICAgICoq'));
	@fwrite($fp, base64_decode('CiAqKiAgIGNvdWxkIGFuIG9wdGlvbiBmb3IgeW91LiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICoqCiAqKiAtIFBsZWFzZSByZWd1bGFybHkgY2hlY2sgaWYgb2lkcGx1c19iYXNlLmNzcyBnZXRzIGNoYW5nZWQg'));
	@fwrite($fp, base64_decode('b3IgZXh0ZW5kZWQgICAgICAgICAgICoqCiAqKiAgIGR1cmluZyBzb2Z0d2FyZSB1cGRhdGVzLCBhbmQgYXBwbHkgdGhlIGNoYW5nZXMgdG8geW91ciBvaWRwbHVzX2Jhc2UubG9jYWwuY3NzICoqCiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq'));
	@fwrite($fp, base64_decode('KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqLwoKQG1lZGlhIHByaW50IHsKCS8qIFByaW50aW5nICovCgkudWktbGF5b3V0LXdlc3QsIC51aS1sYXlvdXQtcmVzaXplciB7CgkJZGlzcGxheTpub25lICFpbXBvcnRhbnQ7Cgl9'));
	@fwrite($fp, base64_decode('CgkudWktbGF5b3V0LWNlbnRlciB7CgkJbGVmdDowcHggIWltcG9ydGFudDsKCQl3aWR0aDoxMDAlICFpbXBvcnRhbnQ7Cgl9Cgkjb2lkdHJlZSwgLnVpLWxheW91dC1jZW50ZXIgewoJCXBvc2l0aW9uOnJlbGF0aXZlICFpbXBvcnRhbnQ7CgkJd2lkdGg6MTAwJSAh'));
	@fwrite($fp, base64_decode('aW1wb3J0YW50OwoJCXRvcDogMCAhaW1wb3J0YW50OwoJfQoJI2NvbnRlbnRfd2luZG93IHsKCQl0b3A6IDAgIWltcG9ydGFudDsKCX0KfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkgewoJLyogTW9iaWxlICovCgkudWktbGF5b3V0'));
	@fwrite($fp, base64_decode('LXdlc3QsIC51aS1sYXlvdXQtcmVzaXplciB7CgkJZGlzcGxheTpub25lICFpbXBvcnRhbnQ7Cgl9CgkudWktbGF5b3V0LWNlbnRlciB7CgkJbGVmdDowcHggIWltcG9ydGFudDsKCQl3aWR0aDoxMDAlICFpbXBvcnRhbnQ7Cgl9Cgkjb2lkdHJlZSwgLnVpLWxheW91'));
	@fwrite($fp, base64_decode('dC1jZW50ZXIgewoJCXBvc2l0aW9uOnJlbGF0aXZlICFpbXBvcnRhbnQ7CgkJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJCXBhZGRpbmctcmlnaHQ6MTBweCAhaW1wb3J0YW50OwoJCXRvcDogMCAhaW1wb3J0YW50OwoJfQoJI2NvbnRlbnRfd2luZG93IHsKCQl0b3A6'));
	@fwrite($fp, base64_decode('IDAgIWltcG9ydGFudDsKCX0KCSNmcmFtZXMgewoJCWRpc3BsYXk6ZmxleDsKCQlmbGV4LWRpcmVjdGlvbjpjb2x1bW47CgkJYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7Cgl9Cgkjc3lzdGVtX3RpdGxlX2JhciB7CgkJb3JkZXI6MDsKCQlmbGV4Om5vbmU7Cgl9Cgkj'));
	@fwrite($fp, base64_decode('b2lkdHJlZSB7CgkJb3JkZXI6MTsKCQlmbGV4Om5vbmU7Cgl9CgkjY29udGVudF93aW5kb3cgewoJCW9yZGVyOjI7CgkJZmxleDpub25lOwoJfQoJI3N5c3RlbV90aXRsZV90ZXh0IHsKCQlvdmVyZmxvdy14OnNjcm9sbDsgLyogVE9ETzogYXQgY29tcHV0ZXIgYnJv'));
	@fwrite($fp, base64_decode('d3NlciwgeW91IHNlZSBhIHNjcm9sbCBiYXIgKi8KCX0KfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MDFweCkgewoJLyogRGVza3RvcCAqLwoJI3N5c3RlbV90aXRsZV9tZW51IHsKCQlkaXNwbGF5Om5vbmUgIWltcG9ydGFudDsKCX0KfQoK'));
	@fwrite($fp, base64_decode('I3N5c3RlbV90aXRsZV9iYXIgewoJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJcG9zaXRpb246cmVsYXRpdmUgIWltcG9ydGFudDsKCXdoaXRlLXNwYWNlOiBub3dyYXA7Cn0KCmJvZHksICNmcmFtZXMgewoJd2lkdGg6MTAwJTsKCWhlaWdodDoxMDAlOwp9Cgoud3Jh'));
	@fwrite($fp, base64_decode('cCB7CglvdmVyZmxvdy14OiBhdXRvOwoJbWFyZ2luOiAwIGF1dG87Cgl3aWR0aDoxMDAlOwp9CgouZ3JheV9mb290ZXJfZm9udCB7Cgljb2xvcjojODA4MDgwOwoJZm9udC1zaXplOjAuOWVtOwp9CgpsYWJlbC5wYWRkaW5nX2xhYmVsIHsKCWZvbnQtd2VpZ2h0OiBu'));
	@fwrite($fp, base64_decode('b3JtYWwgIWltcG9ydGFudDsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCWNsZWFyOiBsZWZ0OwoJd2lkdGg6IDEwMHB4OwoJdGV4dC1hbGlnbjogcmlnaHQ7CglwYWRkaW5nLXRvcDogM3B4OwoJbWFyZ2luLXJpZ2h0OiA4cHg7Cn0KCi5ib3ggewoJd2lkdGg6YXV0'));
	@fwrite($fp, base64_decode('byAhaW1wb3J0YW50OwoJcGFkZGluZzoyMHB4OwoJYmFja2dyb3VuZC1jb2xvcjojZmZmOwoJYm9yZGVyOjFweCBzb2xpZCAjY2NjOwoJYm9yZGVyLXJhZGl1czo1cHg7CgltYXJnaW4tdG9wOjEwcHg7Cn0KI3RpdGxlZWRpdCB7Cgl3aWR0aDoxMDAlOwp9CiNzeXN0'));
	@fwrite($fp, base64_decode('ZW1fdGl0bGVfMSB7Cgljb2xvcjojMkQ2QTlGOwoJbWFyZ2luLWxlZnQ6NXB4Owp9CiNzeXN0ZW1fdGl0bGVfMiB7Cgljb2xvcjojMkIzMzZGOwoJZm9udC1zaXplOjJlbTsKCW1hcmdpbi1sZWZ0OjVweDsKfQoKLyogTW9iaWxlIG1lbnUgYnV0dG9uICovCgojYmFy'));
	@fwrite($fp, base64_decode('MSwgI2JhcjIsICNiYXIzIHsKCXdpZHRoOiAyN3B4OwoJaGVpZ2h0OiA1cHg7CgliYWNrZ3JvdW5kLWNvbG9yOiAjRkZBNTAwOwoJbWFyZ2luOiA2cHggMDsKCXRyYW5zaXRpb246IDAuNHM7CgltYXJnaW4tbGVmdDoxNHB4Owp9Cgojc3lzdGVtX3RpdGxlX21lbnUu'));
	@fwrite($fp, base64_decode('YWN0aXZlIHsKCWJhY2tncm91bmQtY29sb3I6ICNGRkE1MDA7Cn0KCi5hY3RpdmUgI2JhcjEgewoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpIHRyYW5zbGF0ZSgtNy41cHgsIDcuNXB4KTsKCXRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgdHJhbnNs'));
	@fwrite($fp, base64_decode('YXRlKC03LjVweCwgNy41cHgpOwoJYmFja2dyb3VuZC1jb2xvcjogIzAwMDsKfQoKLmFjdGl2ZSAjYmFyMiB7CglvcGFjaXR5OiAwOwoJYmFja2dyb3VuZC1jb2xvcjogIzAwMDsKfQoKLmFjdGl2ZSAjYmFyMyB7Cgktd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDQ1'));
	@fwrite($fp, base64_decode('ZGVnKSB0cmFuc2xhdGUoLThweCwgLThweCk7Cgl0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZykgdHJhbnNsYXRlKC04cHgsIC04cHgpOwoJYmFja2dyb3VuZC1jb2xvcjogIzAwMDsKfQoKLmhvdmVyICNiYXIxLCAuaG92ZXIgI2JhcjIsIC5ob3ZlciAjYmFyMyB7Cgli'));
	@fwrite($fp, base64_decode('YWNrZ3JvdW5kLWNvbG9yOiNmZmY7Cn0KCiNzeXN0ZW1fdGl0bGVfbWVudSB7Cgl3aWR0aDo1NXB4OwoJaGVpZ2h0OjU1cHg7CglwYWRkaW5nLXRvcDo4cHg7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cglmb250LXNpemU6IDE5cHg7CglkaXNwbGF5OiBub25lOyAv'));
	@fwrite($fp, base64_decode('KiB3aWxsIGJlIHNldCB0byAnYmxvY2snIGJ5IEphdmFTY3JpcHQgKi8KCWJhY2tncm91bmQtY29sb3I6ICMwMDA7CglmbG9hdDpsZWZ0OwoJY3Vyc29yOiBwb2ludGVyOwp9CgovKiBUaXRsZSBiYXIgKi8KCiNzeXN0ZW1fdGl0bGVfYmFyIHsKCWxpbmUtaGVpZ2h0'));
	@fwrite($fp, base64_decode('OjEuNzVlbTsKCgloZWlnaHQ6NTVweCAhaW1wb3J0YW50OwoKCWZvbnQtc3R5bGU6aXRhbGljOwoJZm9udC13ZWlnaHQ6Ym9sZGVyOwoJZmxvYXQ6bGVmdDsKCWJvcmRlci1ib3R0b206MXB4OwoKCXdpZHRoOjEwMCU7IC8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAq'));
	@fwrite($fp, base64_decode('LwoJcGFkZGluZy1sZWZ0OjVweDsvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KCXBhZGRpbmctcmlnaHQ6NXB4Oy8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAqLwoKCXBhZGRpbmctbGVmdDowcHg7CgltYXJnaW4tbGVmdDowcHg7CgoJZGlzcGxheTpibG9jazsK'));
	@fwrite($fp, base64_decode('CgkvKiBQZXJtYWxpbmsgLSB1c2UgdG8gZWRpdCBhbmQgc2hhcmUgdGhpcyBncmFkaWVudDogaHR0cDovL2NvbG9yemlsbGEuY29tL2dyYWRpZW50LWVkaXRvci8jYTBkOGVmKzAsZGRmMWY5KzY1LGZlZmZmZisxMDAgKi8KCWJhY2tncm91bmQ6ICNhMGQ4ZWY7IC8q'));
	@fwrite($fp, base64_decode('IE9sZCBicm93c2VycyAqLwoJYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQobGVmdCwgI2EwZDhlZiAwJSwgI2RkZjFmOSA2NSUsICNmZWZmZmYgMTAwJSk7IC8qIEZGMy42LTE1ICovCgliYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChs'));
	@fwrite($fp, base64_decode('ZWZ0LCAjYTBkOGVmIDAlLCNkZGYxZjkgNjUlLCNmZWZmZmYgMTAwJSk7IC8qIENocm9tZTEwLTI1LFNhZmFyaTUuMS02ICovCgliYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICNhMGQ4ZWYgMCUsI2RkZjFmOSA2NSUsI2ZlZmZmZiAxMDAlKTsg'));
	@fwrite($fp, base64_decode('LyogVzNDLCBJRTEwKywgRkYxNissIENocm9tZTI2KywgT3BlcmExMissIFNhZmFyaTcrICovCglmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudCggc3RhcnRDb2xvcnN0cj0nI2EwZDhlZicsIGVuZENvbG9yc3RyPScjZmVm'));
	@fwrite($fp, base64_decode('ZmZmJyxHcmFkaWVudFR5cGU9MSApOyAvKiBJRTYtOSAqLwoKCW92ZXJmbG93OmhpZGRlbjsKfQojc3lzdGVtX3RpdGxlX2JhciBhIHsKCXRleHQtZGVjb3JhdGlvbjpub25lOwp9CgovKiBPSUQtVHJlZSAqLwoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdp'));
	@fwrite($fp, base64_decode('ZHRoOiA4MDBweCkgewoJLyogTW9iaWxlICovCgoJI2NvbnRlbnRfd2luZG93IHsKCQlwYWRkaW5nLWxlZnQ6MTZweDsKCQlwYWRkaW5nLXRvcDowcHg7Cgl9Cgp9CkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpIHsKCS8qIERlc2t0b3Ag'));
	@fwrite($fp, base64_decode('Ki8KCgkjb2lkdHJlZSB7CgkJcG9zaXRpb246YWJzb2x1dGU7CgkJbGVmdDowcHg7CgkJYm90dG9tOjBweDsKCQl0b3A6NTVweDsgLyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCgkJd2lkdGg6NDAwcHg7IC8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAqLwoJCXBh'));
	@fwrite($fp, base64_decode('ZGRpbmctdG9wOjVweDsKCQl3aGl0ZS1zcGFjZTpub3dyYXA7IC8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAqLwoJCW92ZXJmbG93OnNjcm9sbDsgLyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCgl9CgkKCSNjb250ZW50X3dpbmRvdyB7CgkJcG9zaXRpb246YWJz'));
	@fwrite($fp, base64_decode('b2x1dGU7CgkJbGVmdDo0MDBweDsKCQlyaWdodDowcHg7CgkJYm90dG9tOjBweDsKCQl0b3A6NTVweDsgLyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCgkJcGFkZGluZy1sZWZ0OjIwcHg7CgkJcGFkZGluZy1yaWdodDoyMHB4OwoJfQp9Cgojb2lkdHJlZSB7Cglw'));
	@fwrite($fp, base64_decode('YWRkaW5nLXRvcDo1cHggIWltcG9ydGFudDsKCXBhZGRpbmctbGVmdDo1cHg7LyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCglwYWRkaW5nLXJpZ2h0OjVweDsvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KfQoKaHRtbCB7CgltYXJnaW46MDsKCXBhZGRpbmc6'));
	@fwrite($fp, base64_decode('MDsKCWhlaWdodDoxMDAlOwoJZm9udC1mYW1pbHk6SGVsdmV0aWNhOwp9CmJvZHkgewoJbWFyZ2luOjBweDsKCXBhZGRpbmc6MHB4OwoJZm9udC1zaXplOjAuODVlbTsKCWhlaWdodDoxMDAlOwoJLyogQm9vdHN0cmFwIGFkZHMgIkhlbHZldGljYSBOZXVlIixIZWx2'));
	@fwrite($fp, base64_decode('ZXRpY2EgYXQgdGhlIGJlZ2lubmluZyB3aGljaCBjYXVzZXMgYm9sZCBmb250IGluIElFMTErV2luMTAgKi8KCWZvbnQtZmFtaWx5OkFyaWFsLHNhbnMtc2VyaWYgIWltcG9ydGFudDsKfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MDFweCkg'));
	@fwrite($fp, base64_decode('ewoJLyogRGVza3RvcCAqLwoJYm9keSB7CgkJb3ZlcmZsb3c6aGlkZGVuOwoJfQoJLmJvcmRlcmJveCB7CgkJYm9yZGVyOjFweCBzb2xpZCBzaWx2ZXI7Cgl9Cn0KCi5ib3JkZXJib3ggewoJb3ZlcmZsb3c6YXV0bzsKfQoKaDEgewoJZm9udC1zaXplOjEuOGVtOwp9'));
	@fwrite($fp, base64_decode('CmgyIHsKCWZvbnQtc2l6ZToxLjZlbSAhaW1wb3J0YW50Owp9Cgp0ZXh0YXJlYSxpbnB1dFt0eXBlPSJ0ZXh0Il0saW5wdXRbdHlwZT0icGFzc3dvcmQiXSxzZWxlY3QgewoJLyogZm9yIGRhcmsgdGhlbWVzLCB0aGlzIGxvb2tzIGJldHRlciAqLwoJLypiYWNrZ3Jv'));
	@fwrite($fp, base64_decode('dW5kOnRyYW5zcGFyZW50OyovCgliYWNrZ3JvdW5kOnJnYmEoMjU1LDI1NSwyNTUsMC40KTsKCWJvcmRlcjogI0FBQUFBQSAxcHggc29saWQ7Cn0KCmlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSwKaW5wdXRb'));
	@fwrite($fp, base64_decode('dHlwZT1idXR0b25dOmxpbmssIGlucHV0W3R5cGU9c3VibWl0XTpsaW5rLCBpbnB1dFt0eXBlPXJlc2V0XTpsaW5rLAppbnB1dFt0eXBlPWJ1dHRvbl06dmlzaXRlZCwgaW5wdXRbdHlwZT1zdWJtaXRdOnZpc2l0ZWQsIGlucHV0W3R5cGU9cmVzZXRdOnZpc2l0ZWQs'));
	@fwrite($fp, base64_decode('CmlucHV0W3R5cGU9YnV0dG9uXTpob3ZlciwgaW5wdXRbdHlwZT1zdWJtaXRdOmhvdmVyLCBpbnB1dFt0eXBlPXJlc2V0XTpob3ZlciB7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2EyYTJhMjsKICAgICAgICBwYWRkaW5nLXRvcDoycHg7CiAgICAgICAgcGFk'));
	@fwrite($fp, base64_decode('ZGluZy1ib3R0b206MnB4OwogICAgICAgIHBhZGRpbmctbGVmdDo3cHg7CiAgICAgICAgcGFkZGluZy1yaWdodDo3cHg7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOm5vbmU7CiAgICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgICBjb2xvcjogIzAwNjZD'));
	@fwrite($fp, base64_decode('QzsKfQppbnB1dFt0eXBlPWJ1dHRvbl06aG92ZXIsIGlucHV0W3R5cGU9c3VibWl0XTpob3ZlciwgaW5wdXRbdHlwZT1yZXNldF06aG92ZXIgewogICAgICAgIGJhY2tncm91bmQ6ICNmNGY0ZmY7Cn0KLmhhbmQsIGlucHV0W3R5cGU9YnV0dG9uXSwgaW5wdXRbdHlw'));
	@fwrite($fp, base64_decode('ZT1zdWJtaXRdLCBpbnB1dFt0eXBlPXJlc2V0XSB7CiAgICAgICAgLyogd3d3LmRyd2ViLmRlL21hZ2F6aW4vYnJvd3Nlci1jdXJzb3ItaGFuZCAqLwogICAgICAgIGN1cnNvcjogaGFuZDsgY3Vyc29yOiBwb2ludGVyOwp9CgovKioKICoJU3BsaXR0ZXIgLyB1aUxh'));
	@fwrite($fp, base64_decode('eW91dAogKi8KLnVpLWxheW91dC1wYW5lIHsgLyogYWxsICdwYW5lcycgKi8KCWJvcmRlcjogMXB4IHNvbGlkICNCQkI7Cn0KLnVpLWxheW91dC1wYW5lLWNlbnRlciB7IC8qIGNvbnRlbnQgYm9keSAqLwoJcGFkZGluZzogMDsKCW1hcmdpbjogIDA7Cn0KLnVpLWxh'));
	@fwrite($fp, base64_decode('eW91dC1wYW5lLXdlc3QgeyAvKiB3ZXN0IHBhbmUgKi8KCXBhZGRpbmc6IDAgMTBweDsKCWJhY2tncm91bmQtY29sb3I6ICNmOWY5ZjkgIWltcG9ydGFudDsKCW92ZXJmbG93OiBhdXRvOwp9Ci51aS1sYXlvdXQtcmVzaXplciB7IC8qIGFsbCAncmVzaXplci1iYXJz'));
	@fwrite($fp, base64_decode('JyAqLwoJYmFja2dyb3VuZDogI0RERDsKCXRvcDo1NXB4ICFpbXBvcnRhbnQ7IC8qIERNIDEzLjAzLjIwMTkgKi8KfQoudWktbGF5b3V0LXJlc2l6ZXItb3Blbjpob3ZlciB7IC8qIG1vdXNlLW92ZXIgKi8KCWJhY2tncm91bmQ6ICM5RDk7Cn0KLnVpLWxheW91dC1y'));
	@fwrite($fp, base64_decode('ZXNpemVyLW5vcnRoIHsKCWJhY2tncm91bmQ6IzJiMzM2ZiAhaW1wb3J0YW50OwoJei1pbmRleDoxMCAhaW1wb3J0YW50OyAvKiBETSAxMy4wMy4yMDE5ICovCn0KLnVpLWxheW91dC10b2dnbGVyIHsgLyogYWxsICd0b2dnbGVyLWJ1dHRvbnMnICovCgliYWNrZ3Jv'));
	@fwrite($fp, base64_decode('dW5kOiAjQUFBOwoJfQoudWktbGF5b3V0LXRvZ2dsZXItY2xvc2VkIHsgLyogY2xvc2VkIHRvZ2dsZXItYnV0dG9uICovCgliYWNrZ3JvdW5kOiAjQ0NDOwoJYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNCQkI7Cn0KLnVpLWxheW91dC10b2dnbGVyIC5jb250ZW50'));
	@fwrite($fp, base64_decode('IHsgLyogdG9nZ2xlci10ZXh0ICovCglmb250OiAxNHB4IGJvbGQgVmVyZGFuYSwgVmVyZGFuYSwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKfQoudWktbGF5b3V0LXRvZ2dsZXI6aG92ZXIgeyAvKiBtb3VzZS1vdmVyICovCgliYWNrZ3JvdW5kOiAjRENB'));
	@fwrite($fp, base64_decode('Owp9Ci51aS1sYXlvdXQtdG9nZ2xlcjpob3ZlciAuY29udGVudCB7IC8qIG1vdXNlLW92ZXIgKi8KCWNvbG9yOiAjMDA5Owp9CgovKiBtYXNrcyBhcmUgdXN1YWxseSB0cmFuc3BhcmVudCAtIG1ha2UgdGhlbSB2aXNpYmxlIChtdXN0ICdvdmVycmlkZScgZGVmYXVs'));
	@fwrite($fp, base64_decode('dCkgKi8KLnVpLWxheW91dC1tYXNrIHsKCWJhY2tncm91bmQ6ICNDMDAgIWltcG9ydGFudDsKCW9wYWNpdHk6IC4yMCAhaW1wb3J0YW50OwoJZmlsdGVyOiBhbHBoYShvcGFjaXR5PTIwKSAhaW1wb3J0YW50Owp9CgovKiBUYWJzICovCgojbG9naW5UYWIgLnRhYi1j'));
	@fwrite($fp, base64_decode('b250ZW50IHsKCWNvbG9yOiAjMDAwOwoJYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTsKCXBhZGRpbmcgOiA1cHggMTVweDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMgPiBsaSA+IGEgewoJYm9yZGVyLXJhZGl1czogMDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMg'));
	@fwrite($fp, base64_decode('PiBsaS5hY3RpdmUgPiBhIHsKCWNvbG9yOiAjMDAwOwoJZm9udC13ZWlnaHQ6IGJvbGQ7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlOwp9CgovKiBHb3RvIGJveCAqLwoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkgewoJLyogTW9i'));
	@fwrite($fp, base64_decode('aWxlICovCgoJI2dvdG9ib3ggewoJCS8qbWF4LXdpZHRoOjM1MHB4OyovCgkJd2lkdGg6NzUlOwoJfQoKCS5tb2JpbGVoaWRkZW4gewoJCWRpc3BsYXk6bm9uZSAhaW1wb3J0YW50OwoJfQoKfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA4MDFw'));
	@fwrite($fp, base64_decode('eCkgewoJLyogRGVza3RvcCAqLwoKCSNnb3RvYm94IHsKCQlwb3NpdGlvbjphYnNvbHV0ZTsKCQlyaWdodDoxMHB4OwoJCXRvcDoxMHB4OwoJCXdpZHRoOjMwJTsKCQltYXgtd2lkdGg6NDAwcHg7Cgl9Cgp9CgojZ290b2JveCB7CglkaXNwbGF5OiBub25lOyAvKiB3'));
	@fwrite($fp, base64_decode('aWxsIGJlIHNldCB0byAnYmxvY2snIGJ5IEphdmFTY3JpcHQgKi8KCglsaW5lLWhlaWdodDoxLjc1ZW07CgoJaGVpZ2h0OjU1cHggIWltcG9ydGFudDsKCglmb250LXN0eWxlOml0YWxpYzsKCWZvbnQtd2VpZ2h0OmJvbGRlcjsKCWZsb2F0OmxlZnQ7Cglib3JkZXIt'));
	@fwrite($fp, base64_decode('Ym90dG9tOjFweDsKCgl3aWR0aDoxMDAlOyAvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KCXBhZGRpbmctbGVmdDo1cHg7LyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCglwYWRkaW5nLXJpZ2h0OjVweDsvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KCglw'));
	@fwrite($fp, base64_decode('YWRkaW5nLWxlZnQ6MHB4OwoJbWFyZ2luLWxlZnQ6MHB4Owp9CgojZ290b2JveCBpbnB1dFt0eXBlPSJ0ZXh0Il0gewoJd2lkdGg6Y2FsYygxMDAlIC0gNDVweCk7Cn0KCiNnb3RvYm94IGlucHV0W3R5cGU9ImJ1dHRvbiJdIHsKCXdpZHRoOjQwcHg7Cn0KCi8qIExv'));
	@fwrite($fp, base64_decode('Z2Jvb2sgc2V2ZXJpdGllcyAoc2hhcmVkIGJldHdlZW4gcGx1Z2lucyByYTA5OSwgcmEyMDAsIGFkbWluNjAwKQoKLnNldmVyaXR5XzAgewoJLyogVW5kZWZpbmVkICovCn0KCi5zZXZlcml0eV8xIHsKCS8qIFN1Y2Nlc3MgKi8KCWNvbG9yOiBEYXJrR3JlZW47Cn0K'));
	@fwrite($fp, base64_decode('Ci5zZXZlcml0eV8yIHsKCS8qIEluZm9ybWF0aW9uYWwgKi8KCWNvbG9yOiBDb3JuZmxvd2VyQmx1ZTsKfQoKLnNldmVyaXR5XzMgewoJLyogV2FybmluZyAqLwoJY29sb3I6IERhcmtHb2xkZW5Sb2Q7Cn0KCi5zZXZlcml0eV80IHsKCS8qIEVycm9yICovCgljb2xv'));
	@fwrite($fp, base64_decode('cjogRGFya1JlZDsKfQoKLnNldmVyaXR5XzUgewoJLyogQ3JpdGljYWwgKi8KCWNvbG9yOiBEYXJrTWFnZW50YTsKfQo='));
	@fclose($fp);
}
if (!is_file('oidplus_base.css')) {
	warn('File has vanished! Will re-create it: oidplus_base.css');
	writefile_1();
	if (!is_file('oidplus_base.css')) {
		warn('File cannot be created (not existing): oidplus_base.css');
	} else if (sha1_file('oidplus_base.css') != '261c7ba119ef404915740ebc665bffea8b9b7a8c') {
		warn('File cannot be created (checksum mismatch): oidplus_base.css');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus_base.css', 0644)) {
		warn('Could not change file permissions of oidplus_base.css');
	}
} else {
	if (@sha1_file('oidplus_base.css') !== '261c7ba119ef404915740ebc665bffea8b9b7a8c') {
		if (@sha1_file('oidplus_base.css') !== '5bce35c0b3f7ea844075c49dbde25d3ffc32af16') {
			warn('File was modified. Will overwrite the changes now: oidplus_base.css');
			$tmp = pathinfo('oidplus_base.css');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus_base.css')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus_base.css', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('oidplus_base.css') !== '261c7ba119ef404915740ebc665bffea8b9b7a8c') {
			warn('File cannot be written (checksum mismatch): oidplus_base.css');
		}
	}
}

// Files different: setup/index.php
function writefile_2() {
	@$fp = fopen('setup/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKPz48IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgoKPGhlYWQ+Cgk8dGl0bGU+T0lEcGx1cyBTZXR1cDwvdGl0bGU+Cgk8bWV0YSBuYW1lPSJy'));
	@fwrite($fp, base64_decode('b2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgiPgoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzZXR1cC5jc3MiPgoJPHNjcmlwdCBz'));
	@fwrite($fp, base64_decode('cmM9Ii4uLzNwL3NoYTNfanMvc2hhMy5qcyI+PC9zY3JpcHQ+PCEtLSBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLXNoYTMgLS0+Cgk8c2NyaXB0IHNyYz0ic2V0dXAuanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cgo8Ym9keSBvbmxvYWQ9InJlYnVpbGQoKSI+Cgo8'));
	@fwrite($fp, base64_decode('aDE+T0lEcGx1cyBTZXR1cCAtIENvbmZpZ3VyYXRpb24gRmlsZSBHZW5lcmF0b3I8L2gxPgoKPHA+VGhhbmsgeW91IHZlcnkgbXVjaCBmb3IgY2hvb3NpbmcgT0lEcGx1cyEgVGhpcyBzZXR1cCBhc3Npc3RhbnQgd2lsbCBoZWxwIHlvdSBjcmVhdGluZyBvciB1cGRh'));
	@fwrite($fp, base64_decode('dGluZyB0aGUgZmlsZSA8Yj51c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhwPC9iPi4KU2V0dXAgZG9lcyBub3QgYXV0b21hdGljYWxseSB3cml0ZSB0byB0aGlzIGZpbGUuIEluc3RlYWQsIHlvdSBuZWVkIHRvIGNvcHktcGFzdGUgdGhlIGNvbnRlbnRz'));
	@fwrite($fp, base64_decode('IGludG8gdGhlIGZpbGUuCk9uY2UgT0lEcGx1cyBzZXR1cCBpcyBmaW5pc2hlZCwgeW91IGNhbiBjaGFuZ2UgdGhlIGNvbmZpZyBmaWxlIGJ5IGhhbmQsIG9yIHJ1biB0aGlzIHNldHVwIGFzc2lzdGFudCBhZ2Fpbi48L3A+Cgo8aDIgaWQ9InN5c3RlbUNoZWNrQ2Fw'));
	@fwrite($fp, base64_decode('dGlvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+U3lzdGVtIGNoZWNrPC9oMj4KCjxkaXYgaWQ9ImRpckFjY2Vzc1dhcm5pbmciPjwvZGl2PgoKPHNjcmlwdD4KZnVuY3Rpb24gUmVtb3ZlTGFzdERpcmVjdG9yeVBhcnRPZih0aGVfdXJsKSB7Cgl2YXIgdGhlX2FyciA9'));
	@fwrite($fp, base64_decode('IHRoZV91cmwuc3BsaXQoJy8nKTsKCWlmICh0aGVfYXJyLnBvcCgpID09ICcnKSB0aGVfYXJyLnBvcCgpOwoJcmV0dXJuKCB0aGVfYXJyLmpvaW4oJy8nKSApOwp9CmZ1bmN0aW9uIGNoZWNrQWNjZXNzKGRpcikgewoJdXJsID0gJy4uLycgKyBkaXI7Cgl2aXNpYmxl'));
	@fwrite($fp, base64_decode('VXJsID0gUmVtb3ZlTGFzdERpcmVjdG9yeVBhcnRPZih3aW5kb3cubG9jYXRpb24uaHJlZikgKyAnLycgKyBkaXI7IC8vIHhoci5yZXNwb25zZVVSTCBub3QgYXZhaWxhYmxlIGluIElFCgoJdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoJeGhyLm9ucmVh'));
	@fwrite($fp, base64_decode('ZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewoJCWlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkgewoJCQlpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lzdGVtQ2hlY2tDYXB0aW9uJykuc3R5bGUuZGlzcGxh'));
	@fwrite($fp, base64_decode('eSA9ICdibG9jayc7CgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlyQWNjZXNzV2FybmluZycpLmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXJBY2Nlc3NXYXJuaW5nJykuaW5uZXJIVE1MICsgJ0F0dGVudGlvbjogVGhlIGZvbGxv'));
	@fwrite($fp, base64_decode('d2luZyBkaXJlY3RvcnkgaXMgd29ybGQtcmVhZGFibGU6IDxhIHRhcmdldD0iX2JsYW5rIiBocmVmPSInK3VybCsnIj4nK3Zpc2libGVVcmwrJzwvYT4gISBZb3UgbmVlZCB0byBjb25maWd1cmUgeW91ciB3ZWIgc2VydmVyIHRvIHJlc3RyaWN0IGFjY2VzcyB0byB0'));
	@fwrite($fp, base64_decode('aGlzIGRpcmVjdG9yeSEgKEZvciBBcGFjaGUgc2VlIDxpPi5odGFjY2VzczwvaT4sIGZvciBNaWNyb3NvZnQgSUlTIHNlZSA8aT53ZWIuY29uZmlnPC9pPiwgZm9yIE5naW54IHNlZSA8aT5uZ2lueC5jb25mPC9pPik8YnI+JzsKCQkJfQoJCX0KCX07CgoJeGhyLm9w'));
	@fwrite($fp, base64_decode('ZW4oJ0dFVCcsIHVybCk7Cgl4aHIuc2VuZCgpOwp9Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlyQWNjZXNzV2FybmluZycpLmlubmVySFRNTCA9ICIiOwpjaGVja0FjY2VzcygndXNlcmRhdGEvJyk7CmNoZWNrQWNjZXNzKCdkZXYvJyk7CmNoZWNrQWNjZXNz'));
	@fwrite($fp, base64_decode('KCdpbmNsdWRlcy8nKTsKLy9jaGVja0FjY2VzcygncGx1Z2lucy9wdWJsaWNQYWdlcy8xMDBfd2hvaXMvd2hvaXMvY2xpLycpOwo8L3NjcmlwdD4KCjxkaXYgaWQ9InN0ZXAxIj4KPGgyPlN0ZXAgMTogRW50ZXIgc2V0dXAgaW5mb3JtYXRpb248L2gyPgoKPGgzPkFk'));
	@fwrite($fp, base64_decode('bWluaXN0cmF0b3IgcGFzc3dvcmQ8L2gzPgoKPGZvcm0gaWQ9InN0ZXAxX2Zvcm0iPgo8cD5XaGljaCBhZG1pbiBwYXNzd29yZCBkbyB5b3Ugd2FudD88YnI+PGlucHV0IGlkPSJhZG1pbl9wYXNzd29yZCIgdHlwZT0icGFzc3dvcmQiIGF1dG9jb21wbGV0ZT0ibmV3'));
	@fwrite($fp, base64_decode('LXBhc3N3b3JkIiBvbmtleXByZXNzPSJyZWJ1aWxkKCkiIG9ua2V5dXA9InJlYnVpbGQoKSI+IDxzcGFuIGlkPSJwYXNzd29yZF93YXJuIj48L3NwYW4+PC9wPgo8cD5QbGVhc2UgcmVwZWF0IHRoZSBwYXNzd29yZCBpbnB1dDo8YnI+PGlucHV0IGlkPSJhZG1pbl9w'));
	@fwrite($fp, base64_decode('YXNzd29yZDIiIHR5cGU9InBhc3N3b3JkIiBhdXRvY29tcGxldGU9Im5ldy1wYXNzd29yZCIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVwPSJyZWJ1aWxkKCkiPiA8c3BhbiBpZD0icGFzc3dvcmRfd2FybjIiPjwvc3Bhbj48L3A+Cgo8aDM+RGF0YWJhc2Ug'));
	@fwrite($fp, base64_decode('Y29ubmVjdGl2aXR5PC9oMz4KCjxwPjxhIGhyZWY9Ii4uL3BsdWdpbnMvZGF0YWJhc2UvZGF0YWJhc2VfY29ubmVjdGl2aXR5X2RpYWdyYW0ucG5nIiB0YXJnZXQ9Il9ibGFuayI+PGltZyBzcmM9Ii4uL3BsdWdpbnMvZGF0YWJhc2UvZGF0YWJhc2VfY29ubmVjdGl2'));
	@fwrite($fp, base64_decode('aXR5X2RpYWdyYW0ucG5nIiB3aWR0aD0iMjAlIiBhbHQ9IkRhdGFiYXNlIGNvbm5lY3Rpdml0eSBkaWFncmFtIiB0aXRsZT0iRGF0YWJhc2UgY29ubmVjdGl2aXR5IGRpYWdyYW0iPjwvYT48L3A+CgpEYXRhYmFzZSBwbHVnaW46IDxzZWxlY3QgbmFtZT0iZGJfcGx1'));
	@fwrite($fp, base64_decode('Z2luIiBvbkNoYW5nZT0iZGJwbHVnaW5fY2hhbmdlZCgpIiBpZD0iZGJfcGx1Z2luIj4KCjw/cGhwCgpPSURwbHVzOjpyZWdpc3RlckFsbFBsdWdpbnMoJ2RhdGFiYXNlJywgJ09JRHBsdXNEYXRhYmFzZVBsdWdpbicsIG51bGwpOwpmb3JlYWNoIChnZXRfZGVjbGFy'));
	@fwrite($fp, base64_decode('ZWRfY2xhc3NlcygpIGFzICRjKSB7CglpZiAoaXNfc3ViY2xhc3Nfb2YoJGMsICdPSURwbHVzRGF0YWJhc2VQbHVnaW4nKSkgewoJCSRzZWxlY3RlZCA9ICRjOjppZCgpID09ICdNeVNRTCcgPyAnIHNlbGVjdGVkPSJ0cnVlIicgOiAnJzsKCQllY2hvICc8b3B0aW9u'));
	@fwrite($fp, base64_decode('IHZhbHVlPSInLmh0bWxlbnRpdGllcygkYzo6aWQoKSkuJyInLiRzZWxlY3RlZC4nPicuaHRtbGVudGl0aWVzKCRjOjppZCgpKS4nPC9vcHRpb24+JzsKCX0KfQoKPz4KPC9zZWxlY3Q+Cgo8c2NyaXB0PgoKc2V0dXBkaXIgPSAnPD9waHAgZWNobyAoaXNzZXQoJF9T'));
	@fwrite($fp, base64_decode('RVJWRVJbJ0hUVFBTJ10pICYmICRfU0VSVkVSWydIVFRQUyddID09PSAnb24nID8gImh0dHBzIiA6ICJodHRwIikgLiAiOi8vIiAuICRfU0VSVkVSWyJIVFRQX0hPU1QiXSAuICRfU0VSVkVSWydSRVFVRVNUX1VSSSddOyA/Pic7CnJlYnVpbGRfY2FsbGJhY2tzID0g'));
	@fwrite($fp, base64_decode('W107CnJlYnVpbGRfY29uZmlnX2NhbGxiYWNrcyA9IFtdOwpwbHVnaW5fY29tYm9ib3hfY2hhbmdlX2NhbGxiYWNrcyA9IFtdOwoKZnVuY3Rpb24gZGJwbHVnaW5fY2hhbmdlZCgpIHsKCXZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRiX3BsdWdpbiIp'));
	@fwrite($fp, base64_decode('OwoJdmFyIHN0clBsdWdpbiA9IGUub3B0aW9uc1tlLnNlbGVjdGVkSW5kZXhdLnZhbHVlOwoKCWZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2luX2NvbWJvYm94X2NoYW5nZV9jYWxsYmFja3MubGVuZ3RoOyBpKyspIHsKCQl2YXIgZiA9IHBsdWdpbl9jb21ib2JveF9j'));
	@fwrite($fp, base64_decode('aGFuZ2VfY2FsbGJhY2tzW2ldOwoJCWYoc3RyUGx1Z2luKTsKCX0KCglyZWJ1aWxkKCk7Cn0KCjwvc2NyaXB0PgoKPGRpdiBzdHlsZT0ibWFyZ2luLWxlZnQ6NTBweCI+Cgo8P3BocAoKT0lEcGx1czo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdzcWxTbGFuZycsICdPSURw'));
	@fwrite($fp, base64_decode('bHVzU3FsU2xhbmdQbHVnaW4nLCBudWxsKTsKJHNxbF9zbGFuZ19zZWxlY3Rpb24gPSBhcnJheSgpOwpmb3JlYWNoIChnZXRfZGVjbGFyZWRfY2xhc3NlcygpIGFzICRjKSB7CglpZiAoaXNfc3ViY2xhc3Nfb2YoJGMsICdPSURwbHVzU3FsU2xhbmdQbHVnaW4nKSkg'));
	@fwrite($fp, base64_decode('ewoJCSRvYmogPSBuZXcgJGM7CgkJJHNsYW5nX2lkID0gJG9iajo6aWQoKTsKCQkkcGx1Z2luSW5mbyA9IE9JRHBsdXM6OmdldFBsdWdpbkluZm8oJG9iaik7CgkJJGh1bWFuX2ZyaWVuZGx5X25hbWUgPSBpc3NldCgkcGx1Z2luSW5mb1snbmFtZSddKSA/ICRwbHVn'));
	@fwrite($fp, base64_decode('aW5JbmZvWyduYW1lJ10gOiBnZXRfY2xhc3MoJG9iaik7CgkJJHNxbF9zbGFuZ19zZWxlY3Rpb25bXSA9ICc8b3B0aW9uIHZhbHVlPSInLiRzbGFuZ19pZC4nIj4nLiRodW1hbl9mcmllbmRseV9uYW1lLic8L29wdGlvbj4nOwoJfQp9CiRzcWxfc2xhbmdfc2VsZWN0'));
	@fwrite($fp, base64_decode('aW9uID0gaW1wbG9kZSgiXG4iLCAkc3FsX3NsYW5nX3NlbGVjdGlvbik7CgokZmlsZXMgPSBhcnJheSgpOwoKJGFyeSA9IE9JRHBsdXM6OmdldEFsbFBsdWdpbk1hbmlmZXN0cygnZGF0YWJhc2UnKTsKZm9yZWFjaCAoJGFyeSBhcyAkcGx1Z2ludHlwZV9mb2xkZXIg'));
	@fwrite($fp, base64_decode('PT4gJGJyeSkgewoJZm9yZWFjaCAoJGJyeSBhcyAkcGx1Z2lubmFtZV9mb2xkZXIgPT4gJGNyeSkgewoJCWlmICghaXNzZXQoJGNyeVsnU2V0dXAnXSkpIGNvbnRpbnVlOwoJCWZvcmVhY2ggKCRjcnlbJ1NldHVwJ10gYXMgJGRyeV9uYW1lID0+ICRkcnkpIHsKCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCRkcnlfbmFtZSAhPSAnaHRtbHBhcnQnKSBjb250aW51ZTsKCQkJZm9yZWFjaCAoJGRyeSBhcyAkaHRtbF9maWxlKSB7CgkJCQkkZmlsZXNbXSA9IE9JRHBsdXM6OmJhc2VQYXRoKCkuJy9wbHVnaW5zLycuJHBsdWdpbnR5cGVfZm9sZGVyLicvJy4kcGx1Z2lu'));
	@fwrite($fp, base64_decode('bmFtZV9mb2xkZXIuJy8nLiRodG1sX2ZpbGU7CgkJCX0KCQl9Cgl9Cn0KCmZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgewoJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7CgkkY29udCA9IHN0cl9yZXBsYWNlKCc8IS0tICVTUUxfU0xBTkdfU0VMRUNU'));
	@fwrite($fp, base64_decode('SU9OJSAtLT4nLCAkc3FsX3NsYW5nX3NlbGVjdGlvbiwgJGNvbnQpOwoJZWNobyAkY29udDsKfQppZiAoY291bnQoJGZpbGVzKSA9PSAwKSB7CgllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj5FUlJPUjogTm8gZGF0YWJhc2UgcGx1Z2lucyB3ZXJlIGZvdW5kISBZ'));
	@fwrite($fp, base64_decode('b3UgQ0FOTk9UIHVzZSBPSURwbHVzIHdpdGhvdXQgZGF0YWJhc2UgY29ubmVjdGlvbi48L2ZvbnQ+PC9wPic7Cn0KCj8+Cgo8L2Rpdj4KCjxzY3JpcHQ+CmRicGx1Z2luX2NoYW5nZWQoKTsKPC9zY3JpcHQ+Cgo8cD5UYWJsZW5hbWUgcHJlZml4IChlLmcuIDxiPm9p'));
	@fwrite($fp, base64_decode('ZHBsdXNfPC9iPik6PGJyPjxpbnB1dCBpZD0idGFibGVuYW1lX3ByZWZpeCIgdHlwZT0idGV4dCIgdmFsdWU9Im9pZHBsdXNfIiBvbmtleXByZXNzPSJyZWJ1aWxkKCkiIG9ua2V5dXA9InJlYnVpbGQoKSI+PC9wPgoKPGgzPlJlQ0FQVENIQTwvaDM+Cgo8cD48aW5w'));
	@fwrite($fp, base64_decode('dXQgaWQ9InJlY2FwdGNoYV9lbmFibGVkIiB0eXBlPSJjaGVja2JveCIgb25jbGljaz0icmVidWlsZCgpIj4gPGxhYmVsIGZvcj0icmVjYXB0Y2hhX2VuYWJsZWQiPnJlQ0FQVENIQSBlbmFibGVkPC9sYWJlbD4gKDxhIGhyZWY9Imh0dHBzOi8vZGV2ZWxvcGVycy5n'));
	@fwrite($fp, base64_decode('b29nbGUuY29tL3JlY2FwdGNoYS9pbnRybyIgdGFyZ2V0PSJfYmxhbmsiPm1vcmUgaW5mb3JtYXRpb24gYW5kIG9idGFpbiBrZXk8L2E+KTwvcD4KPHA+cmVDQVBUQ0hBIFB1YmxpYyBrZXk8YnI+PGlucHV0IGlkPSJyZWNhcHRjaGFfcHVibGljIiB0eXBlPSJ0ZXh0'));
	@fwrite($fp, base64_decode('IiBvbmtleXByZXNzPSJyZWJ1aWxkKCkiIG9ua2V5dXA9InJlYnVpbGQoKSI+PC9wPgo8cD5yZUNBUFRDSEEgUHJpdmF0ZSBrZXk8YnI+PGlucHV0IGlkPSJyZWNhcHRjaGFfcHJpdmF0ZSIgdHlwZT0idGV4dCIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVw'));
	@fwrite($fp, base64_decode('PSJyZWJ1aWxkKCkiPjwvcD4KCjxoMz5UTFM8L2gzPgoKPHA+U1NMIGVuZm9yY2VtZW50PGJyPjxzZWxlY3QgbmFtZT0iZW5mb3JjZV9zc2wiIGlkPSJlbmZvcmNlX3NzbCIgb25jbGljaz0icmVidWlsZCgpIj4KPG9wdGlvbiB2YWx1ZT0iMCI+Tm8gU1NMIGF2YWls'));
	@fwrite($fp, base64_decode('YWJsZSAoZG9uJ3QgcmVkaXJlY3QpPC9vcHRpb24+CjxvcHRpb24gdmFsdWU9IjEiPkVuZm9yY2UgU1NMIChhbHdheXMgcmVkaXJlY3QpPC9vcHRpb24+CjxvcHRpb24gdmFsdWU9IjIiIHNlbGVjdGVkPkludGVsbGlnZW50IFNTTCBkZXRlY3Rpb24gKHJlZGlyZWN0'));
	@fwrite($fp, base64_decode('IGlmIHBvcnQgNDQzIGlzIG9wZW4pPC9vcHRpb24+Cjwvc2VsZWN0PjwvcD4KPC9mb3JtPgo8L2Rpdj4KCjxkaXYgaWQ9InN0ZXAyIj4KPGgyPlN0ZXAgMjogSW5pdGlhbGl6ZSBkYXRhYmFzZTwvaDI+CjxwPjxmb250IGNvbG9yPSJyZWQiPjxiPklmIHlvdSBhbHJl'));
	@fwrite($fp, base64_decode('YWR5IGhhdmUgYW4gT0lEcGx1cyBkYXRhYmFzZSBhbmQganVzdCB3YW50IHRvIHJlYnVpbGQgdGhlIGNvbmZpZyBmaWxlLCBwbGVhc2Ugc2tpcCB0aGlzIHN0ZXAuPC9iPjwvZm9udD48L3A+CjxwPk90aGVyd2lzZSwgaW1wb3J0IG9uZSBvZiB0aGUgZm9sbG93aW5n'));
	@fwrite($fp, base64_decode('IE15U1FMIGR1bXBzIGluIHlvdXIgZGF0YWJhc2U6PC9wPgo8cD48dWw+Cgk8bGk+PGEgaHJlZj0ic3RydWN0X2VtcHR5LnNxbC5waHAiIGlkPSJzdHJ1Y3RfMSIgdGFyZ2V0PSJfYmxhbmsiPkVtcHR5IE9JRHBsdXMgZGF0YWJhc2Ugd2l0aG91dCBleGFtcGxlIGRh'));
	@fwrite($fp, base64_decode('dGE8L2E+PHNwYW4gaWQ9InN0cnVjdF9jbGlfMSI+PC9zcGFuPjxicj48YnI+PC9saT4KCTxsaT48YSBocmVmPSJzdHJ1Y3Rfd2l0aF9leGFtcGxlcy5zcWwucGhwIiBpZD0ic3RydWN0XzIiIHRhcmdldD0iX2JsYW5rIj5PSURwbHVzIGRhdGFiYXNlIHdpdGggZXhh'));
	@fwrite($fp, base64_decode('bXBsZSBkYXRhPC9hPjxzcGFuIGlkPSJzdHJ1Y3RfY2xpXzIiPjwvc3Bhbj48YnI+PGJyPjwvbGk+Cgo8L3VsPjwvcD4KPHA+PGZvbnQgY29sb3I9InJlZCI+V2FybmluZzogQWxsIGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgT0lEcGx1cyBpbnN0YW5jZSB3aWxsIGJl'));
	@fwrite($fp, base64_decode('IGRlbGV0ZWQgZHVyaW5nIHRoZSBpbXBvcnQuPGJyPklmIHlvdSBhbHJlYWR5IGhhdmUgYW4gT0lEcGx1cyBkYXRhYmFzZSwgc2tpcCB0byBTdGVwIDMuPC9mb250PjwvcD4KCjwvZGl2PgoKPGRpdiBpZD0ic3RlcDMiPgo8aDI+U3RlcCAzOiBTYXZlIHVzZXJkYXRh'));
	@fwrite($fp, base64_decode('L2Jhc2Vjb25maWcvY29uZmlnLmluYy5waHAgZmlsZTwvaDI+CjxwPlNhdmUgZm9sbG93aW5nIGNvbnRlbnRzIGludG8gdGhlIGZpbGUgPGI+dXNlcmRhdGEvYmFzZWNvbmZpZy9jb25maWcuaW5jLnBocDwvYj46PC9wPgo8Y29kZT48Zm9udCBjb2xvcj0iZGFya2Js'));
	@fwrite($fp, base64_decode('dWUiPjxkaXYgaWQ9ImNvbmZpZyI+PC9kaXY+PC9mb250PjwvY29kZT4KPC9kaXY+Cgo8ZGl2IGlkPSJzdGVwNCI+CjxoMj5TdGVwIDQ6IENvbnRpbnVlIHRvIG5leHQgc3RlcDwvaDI+CjxwPjxpbnB1dCB0eXBlPSJidXR0b24iIG9uY2xpY2s9IndpbmRvdy5sb2Nh'));
	@fwrite($fp, base64_decode('dGlvbi5ocmVmPScuLi8nIiB2YWx1ZT0iQ29udGludWUiPjwvcD4KPCEtLSA8cD48YSBocmVmPSIuLi8iPlJ1biB0aGUgT0lEcGx1cyBzeXN0ZW08L2E+PC9wPiAtLT4KPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4K'));
	@fclose($fp);
}
if (!is_file('setup/index.php')) {
	warn('File has vanished! Will re-create it: setup/index.php');
	writefile_2();
	if (!is_file('setup/index.php')) {
		warn('File cannot be created (not existing): setup/index.php');
	} else if (sha1_file('setup/index.php') != 'ecbaf94c4f602b7ad7b8e75340c28cc9806840a9') {
		warn('File cannot be created (checksum mismatch): setup/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/index.php', 0644)) {
		warn('Could not change file permissions of setup/index.php');
	}
} else {
	if (@sha1_file('setup/index.php') !== 'ecbaf94c4f602b7ad7b8e75340c28cc9806840a9') {
		if (@sha1_file('setup/index.php') !== '85a97bf1dde4ade0396ff2c3d39cf684f49d6e0b') {
			warn('File was modified. Will overwrite the changes now: setup/index.php');
			$tmp = pathinfo('setup/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('setup/index.php') !== 'ecbaf94c4f602b7ad7b8e75340c28cc9806840a9') {
			warn('File cannot be written (checksum mismatch): setup/index.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 301\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 301') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

