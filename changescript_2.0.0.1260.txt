<?php /* <ViaThinkSoftSignature>
pqYvtSEIjF7lv9uIFDw71Yl/zINtYTfUcsBHdv6CUVRxu606pPPx8h1ZG1ORtJKcP
nSnwyNTqPtSq/3O7RLen4X7u9P1A7jHoZe2G+JbKOU/eYJ116R/71+L/uw4DmquBD
ngfYEgS9Sk2JKC5wWDsdV0OS080kJo1QC44bX4LDVUWxyb2QCqLmTJCfqL8jLlGIT
+5AAmTG72q+hHt3mGPUC/FfEyYs4u+Ju0O9PBC6Gds/mG4/C4d94tLTc9oQ2ppoOz
ikWGkvOqPhz4APPesK0wtZsf7pdi1XluHWm4fXIwl7syqvO/9t0E3elVIhuDZ69iJ
Yk/nLOVTbyIlhruNFNhKAB2ZUG4pW2C0e8So7Xx8QlnAV31mh3NS1V7Uj8VZxGEvR
s+2sraAsc4PSli5uH8hg6NdoDJL++VVDO15iresa7nMkauy4uJE5jVrRDsTWezYS6
2SI0LM5IK2wZhR8Yq/C6G1qEu+B8HJJ1P1YboufDU5J/tFArtM8rsYG8lSxb19kp4
4YfdJUKrIHB0OkqYy76WdEBpL9udPNfCZCRWnw6Q9Nxqs3JHGMNNarpYbLQi4CXlG
r19nTphD84rGBKVGrkgyKYIiZbTra8jsLYm9dO3CltMX82jHzMCVcefd1eQq2blUB
pXLfP5X59P4L9Lhm5dMa/maaEairItdG1cWG9+mGbo7tAiKP+ZUajY/LBkejrIESU
djzGWrxLdIBSN2a2duh1Ls9nPJpC4ygQupavERAzDoVWM3+d8AYfK1Hol55vn9ZKl
Mq5i5R/0uXiqJcDNMzD6UKU5TJ1LME82SIlD1HJL/kzCyRNUtfJt3GmIs0CL51psp
aResvhEj5Mxvx4aUmTcyNcO6zHrQ7SxDp8RtmCxiic6yC6UtlM6IeEWatUB77XciD
MVAhk/kGREpi0+PFc8gCr4uuZceTJ5FFQKYFrjFrt1ka812Kwieqio3nhaK96GJyc
KIQ+ckTeYoR29pEHJxCYHmu18Z0g1afz2hZPSHQahB7AtydxAuvE/5aRsNRIv97Mw
ceudjtIGcr6VQlz6noEiM533ehBv65gspIxj4HJyOUtrH4rwz4T/IlQKHKv4KMrU+
TsBVyScuz5wJlZQpuLoSBDHI0+C26v8mRm1PR7ezB7QKYrQiU0iJoVtKJUP3n3nuZ
3a2uz7DH4yRziI5kMvAlFRBXG85q5ZLS+7mJKy+yxqKDr6177tyaiWuVciNduWvxZ
Xg/pSKRSPC6yxtdqKsQmVUsD1krGz/74CbdYro53Hc1txk5w1FqF35LC0L67NzxNy
tEG2cp9HcPM4goxk4BsBy80j1GhdmoimG0sEB3aJAgExNc5PiZXwqcmbfbj3zOmlc
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1259') {
	err('This update can only be applied to OIDplus version 2.0.0.1259!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c01hYyBleHRlbmRzIE9JRHBsdXNPYmplY3QgewoJLyoqCgkgKiBAdmFyIGludHxzdHJpbmcKCSAqLwoJcHJpdmF0ZSAkbnVtYmVyOwoKCS8qKgoJICogQHBhcmFtIHN0'));
	@fwrite($fp, base64_decode('cmluZ3xpbnQgJG51bWJlcgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG51bWJlcikgewoJCS8vIFRPRE86IHN5bnRheCBjaGVja3MKCQkkdGhpcy0+bnVtYmVyID0gJG51bWJlcjsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJG5vZGVfaWQK'));
	@fwrite($fp, base64_decode('CSAqIEByZXR1cm4gT0lEcGx1c01hY3xudWxsCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcGFyc2Uoc3RyaW5nICRub2RlX2lkKS8qOiA/T0lEcGx1c01hYyovIHsKCQlAbGlzdCgkbmFtZXNwYWNlLCAkbnVtYmVyKSA9IGV4cGxvZGUoJzonLCAkbm9kZV9p'));
	@fwrite($fp, base64_decode('ZCwgMik7CgkJaWYgKCRuYW1lc3BhY2UgIT09IHNlbGY6Om5zKCkpIHJldHVybiBudWxsOwoJCXJldHVybiBuZXcgc2VsZigkbnVtYmVyKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRp'));
	@fwrite($fp, base64_decode('dGxlKCk6IHN0cmluZyB7CgkJcmV0dXJuIF9MKCdNQUMgYWRyZXNzZXMgKEVVSS9FTEkvQUFJL1NBSSknKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRpdGxlU2hvcnQoKTogc3RyaW5n'));
	@fwrite($fp, base64_decode('IHsKCQlyZXR1cm4gX0woJ01BQycpOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBucygpOiBzdHJpbmcgewoJCXJldHVybiAnbWFjJzsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBzdGF0aWMgZnVuY3Rpb24gcm9vdCgpOiBzdHJpbmcgewoJCXJldHVybiBzZWxmOjpucygpLic6JzsKCX0KCgkvKioKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNSb290KCk6IGJvb2wgewoJCXJldHVybiAkdGhpcy0+bnVtYmVyID09'));
	@fwrite($fp, base64_decode('ICcnOwoJfQoKCS8qKgoJICogQHBhcmFtIGJvb2wgJHdpdGhfbnMKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBub2RlSWQoYm9vbCAkd2l0aF9ucz10cnVlKTogc3RyaW5nIHsKCQlyZXR1cm4gJHdpdGhfbnMgPyBzZWxmOjpyb290KCku'));
	@fwrite($fp, base64_decode('JHRoaXMtPm51bWJlciA6ICR0aGlzLT5udW1iZXI7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRzdHIKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFkZFN0cmluZyhzdHJpbmcg'));
	@fwrite($fp, base64_decode('JHN0cik6IHN0cmluZyB7CgkJJHN0ciA9IHN0cl9yZXBsYWNlKGFycmF5KCctJywgJzonKSwgJycsICRzdHIpOwoJCSRzdHIgPSBzdHJ0b3VwcGVyKCRzdHIpOwoKCQkkdGVzdCA9IHByZWdfcmVwbGFjZSgnQFswLTlBLUZdQCcsICcnLCAkc3RyKTsKCQlpZiAoJHRl'));
	@fwrite($fp, base64_decode('c3QgIT0gJycpIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCJJbnZhbGlkIGNoYXJhY3RlcnMgZW50ZXJlZCIpKTsKCgkJJG5ld19tYWMgPSAkdGhpcy0+bm9kZUlkKGZhbHNlKSAuICRzdHI7CgoJCSR0eXBlID0gbWFjX3R5cGUoc3RyX3BhZCgkbmV3X21h'));
	@fwrite($fp, base64_decode('YywgMTIsICcwJywgU1RSX1BBRF9SSUdIVCkpOwoJCSR0eXBlID0gc3Vic3RyKCR0eXBlLCAwLCAzKTsKCgkJaWYgKCgkdHlwZSA9PSAnRUxJJykgfHwgKCR0eXBlID09ICdFVUknKSkgewoJCQlpZiAoJHRoaXMtPmlzUm9vdCgpICYmIChzdHJsZW4oJHN0cikgPCA2'));
	@fwrite($fp, base64_decode('KSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woIlRoZSBmaXJzdCBub2RlIG11c3QgYmUgYXQgbGVhc3QgMjQgYml0cyBsb25nLCBzaW5jZSB0aGlzIGlzIHRoZSBzbWFsbGVzdCBhc3NpZ25tZW50IGZvciBPVUkvQ0lEIGZyb20gSUVFRS4iKSk7'));
	@fwrite($fp, base64_decode('CgkJCX0KCQl9CgoJCWlmICgoJHR5cGUgPT0gJ0VMSScpIHx8ICgkdHlwZSA9PSAnRVVJJykgfHwgKCR0eXBlID09ICdBQUknKSB8fCAoJHR5cGUgPT0gJ1NBSScpKSB7CgkJCS8vIE5vdGU6IEFBSS00OCwgQUFJLTY0LCBTQUktNDgsIGFuZCBTQUktNjQgYXJlIGRl'));
	@fwrite($fp, base64_decode('ZmluZWQgaW4gSUVFRSA4MDJjLTIwMTcKCQkJaWYgKHN0cmxlbigkbmV3X21hYykgPiAxNikgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woIlRoZSBtYXggbGVuZ3RoIG9mIGFuIEVVSS02NCBvciBFTEktNjQgaXMgNjQgYml0IikpOwoJCQl9CgkJ'));
	@fwrite($fp, base64_decode('fQoKCQlyZXR1cm4gJHRoaXMtPnJvb3QoKS4kbmV3X21hYzsKCX0KCgkvKioKCSAqIEBwYXJhbSBPSURwbHVzT2JqZWN0ICRwYXJlbnQKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNy'));
	@fwrite($fp, base64_decode('dWRTaG93SWQoT0lEcGx1c09iamVjdCAkcGFyZW50KTogc3RyaW5nIHsKCQkvL3JldHVybiAkdGhpcy0+Y2h1bmtlZE5vdGF0aW9uKGZhbHNlKTsKCQlyZXR1cm4gcnRyaW0oY2h1bmtfc3BsaXQoJHRoaXMtPm51bWJlciwgMiwgJy0nKSwgJy0nKTsKCX0KCgkvKioK'));
	@fwrite($fp, base64_decode('CSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNydWRJbnNlcnRQcmVmaXgoKTogc3RyaW5nIHsKCQlyZXR1cm4gJHRoaXMtPmlzUm9vdCgpID8gJycgOiAkdGhpcy0+Y2h1bmtlZE5vdGF0'));
	@fwrite($fp, base64_decode('aW9uKGZhbHNlKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBPSURwbHVzT2JqZWN0fG51bGwgJHBhcmVudAoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGpzVHJlZU5vZGVOYW1lKE9JRHBsdXNPYmplY3QgJHBhcmVudCA9IG51bGwpOiBzdHJp'));
	@fwrite($fp, base64_decode('bmcgewoJCWlmICgkcGFyZW50ID09IG51bGwpIHJldHVybiAkdGhpcy0+b2JqZWN0VHlwZVRpdGxlKCk7CgkJcmV0dXJuIHN1YnN0cigkdGhpcy0+bm9kZUlkKCksIHN0cmxlbigkcGFyZW50LT5ub2RlSWQoKSkpOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcK'));
	@fwrite($fp, base64_decode('CSAqLwoJcHVibGljIGZ1bmN0aW9uIGRlZmF1bHRUaXRsZSgpOiBzdHJpbmcgewoJCXJldHVybiAkdGhpcy0+bnVtYmVyOwoJfQoKCS8qKgoJICogQHJldHVybiBib29sCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc0xlYWZOb2RlKCk6IGJvb2wgewoJCS8vIFByb2Js'));
	@fwrite($fp, base64_decode('ZW0gd2l0aCB0aGlzIGFwcHJvYWNoOiBJZiB3ZSBhcmUgRVVJLTQ4IGFuZCB3YW50IHRvIGFkZCBtb3JlICh0byBnZXQgRVVJLTY0KSwgd2UgY291bGRuJ3QuCgkJLyoKCQlyZXR1cm4gbWFjX3ZhbGlkKCR0aGlzLT5ub2RlSWQoZmFsc2UpKTsKCQkqLwoJCXJldHVy'));
	@fwrite($fp, base64_decode('biBldWlfYml0cygkdGhpcy0+bm9kZUlkKGZhbHNlKSkgPT0gNjQ7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICR0aXRsZQoJICogQHBhcmFtIHN0cmluZyAkY29udGVudAoJICogQHBhcmFtIHN0cmluZyAkaWNvbgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhy'));
	@fwrite($fp, base64_decode('b3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldENvbnRlbnRQYWdlKHN0cmluZyAmJHRpdGxlLCBzdHJpbmcgJiRjb250ZW50LCBzdHJpbmcgJiRpY29uKSB7CgkJJGljb24gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaW1nL21haW5f'));
	@fwrite($fp, base64_decode('aWNvbi5wbmcnKSA/IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXyxPSURwbHVzOjpQQVRIX1JFTEFUSVZFKS4naW1nL21haW5faWNvbi5wbmcnIDogJyc7CgoJCWlmICgkdGhpcy0+aXNSb290KCkpIHsKCQkJJHRpdGxlID0gT0lEcGx1c01hYzo6b2JqZWN0VHlwZVRp'));
	@fwrite($fp, base64_decode('dGxlKCk7CgoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IiwgYXJyYXkoc2VsZjo6cm9vdCgpKSk7CgkJCWlmICgkcmVzLT5hbnkoKSkgewoJCQkJJGNvbnRlbnQgID0gJzxwPicu'));
	@fwrite($fp, base64_decode('X0woJ1BsZWFzZSBzZWxlY3QgYW4gaXRlbSBpbiB0aGUgdHJlZSB2aWV3IGF0IHRoZSBsZWZ0IHRvIHNob3cgaXRzIGNvbnRlbnRzLicpLic8L3A+JzsKCQkJfSBlbHNlIHsKCQkJCSRjb250ZW50ICA9ICc8cD4nLl9MKCdDdXJyZW50bHksIG5vIE1BQyBhZGRyZXNz'));
	@fwrite($fp, base64_decode('ZXMgYXJlIHJlZ2lzdGVyZWQgaW4gdGhlIHN5c3RlbS4nKS4nPC9wPic7CgkJCX0KCgkJCWlmICghJHRoaXMtPmlzTGVhZk5vZGUoKSkgewoJCQkJaWYgKE9JRHBsdXM6OmF1dGhVdGlscygpLT5pc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkJCSRjb250ZW50IC49ICc8'));
	@fwrite($fp, base64_decode('aDI+Jy5fTCgnTWFuYWdlIHJvb3Qgb2JqZWN0cycpLic8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnQXZhaWxhYmxlIG9iamVjdHMnKS4nPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0gJyUlQ1JVRCUlJzsKCQkJfQoJ'));
	@fwrite($fp, base64_decode('CX0gZWxzZSB7CgkJCSR0aXRsZSA9ICR0aGlzLT5nZXRUaXRsZSgpOwoKCQkJLy8gVE9ETzogT0lEcGx1cyBzaG91bGQgZG93bmxvYWQgdGhlICoudHh0IGZpbGVzIGF0ICJ3ZWItZGF0YSIKCQkJLy8gVE9ETzogVXNlIGdldFRlY2hJbmZvKCksIHNvIHdlIGNhbiBz'));
	@fwrite($fp, base64_decode('aG93IGEgbmljZSB0YWJsZS4gKENhdmVhdDogIkFkZHJlc3Mgb2YgcmVnaXN0cmFudCIgaXMgbXVsdGktbGluZSkKCQkJb2Jfc3RhcnQoKTsKCQkJdHJ5IHsKCQkJCWRlY29kZV9tYWMobWFjX2Nhbm9uaXplKCR0aGlzLT5ub2RlSWQoZmFsc2UpKSk7CgkJCQkkdGVj'));
	@fwrite($fp, base64_decode('aF9pbmZvID0gb2JfZ2V0X2NvbnRlbnRzKCk7CgkJCQkkdGVjaF9pbmZvX2h0bWwgPSAnPGgyPicuX0woJ1RlY2huaWNhbCBpbmZvcm1hdGlvbicpLic8L2gyPic7CgkJCQkkdGVjaF9pbmZvX2h0bWwgLj0gJzxwcmU+Jy4kdGVjaF9pbmZvLic8L3ByZT4nOwoJCQl9'));
	@fwrite($fp, base64_decode('IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgkJCQkkdGVjaF9pbmZvX2h0bWwgPSAnJzsKCQkJfQoJCQlvYl9lbmRfY2xlYW4oKTsKCgkJCSRjaHVua2VkID0gJHRoaXMtPmNodW5rZWROb3RhdGlvbih0cnVlKTsKCQkJaWYgKCFtYWNfdmFsaWQoJHRoaXMtPm51bWJl'));
	@fwrite($fp, base64_decode('cikpIHsKCQkJCSRjaHVua2VkIC49ICcgLi4uJzsKCQkJfQoKCQkJJHR5cGUgPSAnJzsKCQkJdHJ5IHsKCQkJCSR0eXBlX3JhdyA9IG1hY190eXBlKHN0cl9wYWQoJHRoaXMtPm51bWJlciwgMTIsICcwJywgU1RSX1BBRF9SSUdIVCkpOwoJCQkJaWYgKHByZWdfbWF0'));
	@fwrite($fp, base64_decode('Y2goJ0AoLispIFxcKCguKylcXClAaXNtVScsICR0eXBlX3JhdywgJG0pKSB7CgkJCQkJJHR5cGVfc2hvcnQgPSAkbVsxXTsKCQkJCQkkdHlwZV9sb25nID0gJG1bMl07CgkJCQkJJHR5cGUgPSAnPGFiYnIgdGl0bGU9IicuaHRtbGVudGl0aWVzKCR0eXBlX2xvbmcp'));
	@fwrite($fp, base64_decode('LiciPicuaHRtbGVudGl0aWVzKCR0eXBlX3Nob3J0KS4nPC9hYmJyPic7CgkJCQl9IGVsc2UgewoJCQkJCSR0eXBlID0gaHRtbGVudGl0aWVzKCR0eXBlX3Jhdyk7CgkJCQl9CgkJCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHt9OwoKCQkJJGNvbnRlbnQgID0gJzxo'));
	@fwrite($fp, base64_decode('Mj4nLiR0eXBlLicgPHN0cm9uZz4nLiRjaHVua2VkLic8L3N0cm9uZz48L2gyPic7CgkJCSRjb250ZW50IC49ICR0ZWNoX2luZm9faHRtbDsKCgkJCWlmICgkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQkkY29udGVudCAuPSAnPGgyPicuX0woJ0Rlc2NyaXB0aW9u'));
	@fwrite($fp, base64_decode('JykuJzwvaDI+JSVERVNDJSUnOwoJCQl9IGVsc2UgewoJCQkJJGNvbnRlbnQgLj0gJzxoMj4nLl9MKCdEZXNjcmlwdGlvbicpLic8L2gyPiUlREVTQyUlJzsKCQkJCWlmICgkdGhpcy0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHsKCQkJCQkkY29udGVudCAuPSAnPGgy'));
	@fwrite($fp, base64_decode('PicuX0woJ0NyZWF0ZSBvciBjaGFuZ2Ugc3Vib3JkaW5hdGUgb2JqZWN0cycpLic8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnU3Vib3JkaW5hdGUgb2JqZWN0cycpLic8L2gyPic7CgkJCQl9CgkJCQkkY29udGVudCAuPSAn'));
	@fwrite($fp, base64_decode('JSVDUlVEJSUnOwoJCQl9CgkJfQoJfQoKCSMgLS0tCgoJLyoqCgkgKiBAcGFyYW0gYm9vbCAkd2l0aEFiYnIKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNodW5rZWROb3RhdGlvbihi'));
	@fwrite($fp, base64_decode('b29sICR3aXRoQWJicj10cnVlKTogc3RyaW5nIHsKCQkkY3VyaWQgPSBzZWxmOjpyb290KCkuJHRoaXMtPm51bWJlcjsKCgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OmZpbmRGaXR0aW5nKCRjdXJpZCk7CgkJaWYgKCEkb2JqKSByZXR1cm4gJHRoaXMtPm51bWJlcjsK'));
	@fwrite($fp, base64_decode('CgkJJGhpbnRzID0gYXJyYXkoKTsKCQkkbGVuZ3RocyA9IGFycmF5KHN0cmxlbigkY3VyaWQpKTsKCQl3aGlsZSAoJG9iaiA9IE9JRHBsdXNPYmplY3Q6OmZpbmRGaXR0aW5nKCRjdXJpZCkpIHsKCQkJJG9ialBhcmVudCA9ICRvYmotPmdldFBhcmVudCgpOwoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoISRvYmpQYXJlbnQpIGJyZWFrOwoJCQkkY3VyaWQgPSAkb2JqUGFyZW50LT5ub2RlSWQodHJ1ZSk7CgkJCSRoaW50c1tdID0gJG9iai0+Z2V0VGl0bGUoKTsKCQkJJGxlbmd0aHNbXSA9IHN0cmxlbigkY3VyaWQpOwoJCX0KCgkJYXJyYXlfc2hpZnQoJGxlbmd0'));
	@fwrite($fp, base64_decode('aHMpOwoJCSRjaHVua3MgPSBhcnJheSgpOwoKCQkkZnVsbCA9IHNlbGY6OnJvb3QoKS4kdGhpcy0+bnVtYmVyOwoJCWZvcmVhY2ggKCRsZW5ndGhzIGFzICRsZW4pIHsKCQkJJGNodW5rc1tdID0gc3Vic3RyKCRmdWxsLCAkbGVuKTsKCQkJJGZ1bGwgPSBzdWJzdHIo'));
	@fwrite($fp, base64_decode('JGZ1bGwsIDAsICRsZW4pOwoJCX0KCgkJJGhpbnRzID0gYXJyYXlfcmV2ZXJzZSgkaGludHMpOwoJCSRjaHVua3MgPSBhcnJheV9yZXZlcnNlKCRjaHVua3MpOwoKCQkkZnVsbCA9IGFycmF5KCk7CgkJZm9yZWFjaCAoJGNodW5rcyBhcyAkYykgewoJCQkkaGludCA9'));
	@fwrite($fp, base64_decode('IGFycmF5X3NoaWZ0KCRoaW50cyk7CgkJCSRmdWxsW10gPSAkd2l0aEFiYnIgJiYgKCRoaW50ICE9PSAnJykgPyAnPGFiYnIgdGl0bGU9IicuaHRtbGVudGl0aWVzKCRoaW50KS4nIj4nLiRjLic8L2FiYnI+JyA6ICRjOwoJCX0KCgkJcmV0dXJuIGltcGxvZGUoJyAn'));
	@fwrite($fp, base64_decode('LCAkZnVsbCk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIE9JRHBsdXNNYWN8bnVsbAoJICovCglwdWJsaWMgZnVuY3Rpb24gb25lX3VwKCkvKjogP09JRHBsdXNNYWMqLyB7CgkJcmV0dXJuIHNlbGY6OnBhcnNlKCR0aGlzLT5ucygpLic6Jy5zdWJzdHIoJHRoaXMtPm51'));
	@fwrite($fp, base64_decode('bWJlciwwLHN0cmxlbigkdGhpcy0+bnVtYmVyKS0xKSk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRhCgkgKiBAcGFyYW0gc3RyaW5nICRiCgkgKiBAcmV0dXJuIGZhbHNlfGludAoJICovCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBkaXN0YW5jZV8oc3Ry'));
	@fwrite($fp, base64_decode('aW5nICRhLCBzdHJpbmcgJGIpIHsKCQkkbWluX2xlbiA9IG1pbihzdHJsZW4oJGEpLCBzdHJsZW4oJGIpKTsKCgkJZm9yICgkaT0wOyAkaTwkbWluX2xlbjsgJGkrKykgewoJCQlpZiAoJGFbJGldICE9ICRiWyRpXSkgcmV0dXJuIGZhbHNlOwoJCX0KCgkJcmV0dXJu'));
	@fwrite($fp, base64_decode('IHN0cmxlbigkYSkgLSBzdHJsZW4oJGIpOwoJfQoKCS8qKgoJICogQHBhcmFtIE9JRHBsdXNPYmplY3R8c3RyaW5nICR0bwoJICogQHJldHVybiBpbnR8bnVsbAoJICovCglwdWJsaWMgZnVuY3Rpb24gZGlzdGFuY2UoJHRvKSB7CgkJaWYgKCFpc19vYmplY3QoJHRv'));
	@fwrite($fp, base64_decode('KSkgJHRvID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHRvKTsKCQlpZiAoISR0bykgcmV0dXJuIG51bGw7CgkJaWYgKCEoJHRvIGluc3RhbmNlb2YgJHRoaXMpKSByZXR1cm4gbnVsbDsKCgkJaWYgKCR0aGlzLT5udW1iZXIgPT0gJHRvLT5udW1iZXIpIHJldHVybiAw'));
	@fwrite($fp, base64_decode('OwoKCQkkYiA9ICR0aGlzLT5udW1iZXI7CgkJJGEgPSAkdG8tPm51bWJlcjsKCQkkdG1wID0gc2VsZjo6ZGlzdGFuY2VfKCRhLCAkYik7CgkJaWYgKCR0bXAgIT09IGZhbHNlKSByZXR1cm4gJHRtcDsKCgkJcmV0dXJuIG51bGw7Cgl9CgoJLyoqCgkgKiBAcmV0dXJu'));
	@fwrite($fp, base64_decode('IGFycmF5fE9JRHBsdXNBbHRJZFtdCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldEFsdElkcygpOiBhcnJheSB7CgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgcmV0dXJuIGFycmF5KCk7CgkJJGlkcyA9IHBhcmVudDo6'));
	@fwrite($fp, base64_decode('Z2V0QWx0SWRzKCk7CgoJCS8vIChWVFMgRjIpIE1BQyBhZGRyZXNzIChFVUkvRUxJLy4uLikgdG8gQUlEIChQSVggYWxsb3dlZCkKCQkkc2l6ZV9uaWJibGUgPSBzdHJsZW4oJHRoaXMtPm51bWJlciktMTsKCQlpZiAoJHNpemVfbmliYmxlIDwgMTYpIHsKCQkJJGFp'));
	@fwrite($fp, base64_decode('ZCA9ICdEMjc2MDAwMTg2RjInLmRlY2hleCgkc2l6ZV9uaWJibGUpLiR0aGlzLT5udW1iZXI7CgkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZCk7CgkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkLCBf'));
	@fwrite($fp, base64_decode('TCgnQXBwbGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdPcHRpb25hbCBQSVggYWxsb3dlZCwgd2l0aG91dCBwcmVmaXgnKS4nKScpOwoJCX0KCgkJcmV0dXJuICRpZHM7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICov'));
	@fwrite($fp, base64_decode('CglwdWJsaWMgZnVuY3Rpb24gZ2V0RGlyZWN0b3J5TmFtZSgpOiBzdHJpbmcgewoJCWlmICgkdGhpcy0+aXNSb290KCkpIHJldHVybiAkdGhpcy0+bnMoKTsKCQlyZXR1cm4gJHRoaXMtPm5zKCkuJ18nLiR0aGlzLT5ub2RlSWQoZmFsc2UpOyAvLyBzYWZlLCBiZWNh'));
	@fwrite($fp, base64_decode('dXNlIHRoZXJlIGFyZSBvbmx5IGhleGFkZWNpbWFsIG51bWJlcnMKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJG1vZGUKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gdHJlZUljb25GaWxlbmFtZShzdHJpbmcgJG1vZGUp'));
	@fwrite($fp, base64_decode('OiBzdHJpbmcgewoJCXJldHVybiAnaW1nLycuJG1vZGUuJ19pY29uMTYucG5nJzsKCX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php');
	writefile_1();
	if (!is_file('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php') != '5bec6464c557f8fdcc4352c4f6cf8d675b8ab1e0') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php') !== '5bec6464c557f8fdcc4352c4f6cf8d675b8ab1e0') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php') !== 'd4ad138bf2e86af6150be44c5193f3bd70f725aa') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php') !== '5bec6464c557f8fdcc4352c4f6cf8d675b8ab1e0') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/mac/OIDplusMac.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1260\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1260') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

