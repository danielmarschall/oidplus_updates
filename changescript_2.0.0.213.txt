<?php /* <ViaThinkSoftSignature>
epbtn5rRSzm6WBWGLRKA7p6M1qlG/ixq1QZPbC35lsAqz3V3wCpwu//wWn9bqgONW
2FyUSQXt6DOcaEJN00zs4qQMXVeaKN+4d7qoi+gGafVgSC7fA7OvIGALq+ApYJk/e
ojxrK4OkjMbY4rUDV50srM/0doQWBJXSOM4+z/nX7rlZsKHN0Eh2gb2jkPI9gnclB
Bl5I0XZeOYX++rJXiaER2T+RRffnvfRwtaThFznc1ol95MVYOeI8ep5N2tNzgBByM
d9mlKt2ZPQnBaDkc28dMWKT1lRe88iGlf1UP+MAAUhoRdKZuMWx+V6pTujSaOfZbu
NQZXZ/ahKhH81C310Px9bGEJdFKuQ5gNeTQoytLy2u2poGYRlpZ59/tZXa8z1IM31
eX6Tg7RgfRhbyaRgTWrbxKFDBEWLjv0EO+nyPObzaJ1rByWSb2JgJXGtiySu6QqCB
xL2y7FRMGYHSJJsix1kxF1gG5qDu2acH1ndu432Mlp0UnbYqZGK9eeRzKXk0hNuNa
QazMprXjDVOIHyzGTcJXUUX/N0/3KPgzzKUHRo8rudMVKpEfeABxefYChCK0mVGEO
J69QFYEoxVARwF5ew+Idx3L52bhrNogc6Bb/79Zp1BWw6g07GlhwU4AK1+xQFYQaX
TPGWSQ6+dl5/Whtgc2QABCIGEMdP16d8elycFc6eAHJzl7d2sEJtbpCRTBwWpfLze
k5Tf5yznkIXr9gY4B8KO6hq/S07mpqfnJKLS4Xi+9RcFKOFaFh9JlRLW89+uIluiG
Kfo5+uZZ42EKPcVY2K5XzyvPeiD+eH5UUo+1bS09tln2Gle9BwYlzzpUUbn18v26U
TtwZj6zdwcIJblKB9XLlwQvUCgdo2D70G93Uk+ris0IwqNheR7B9C8RZ8/gkPv3GG
obd8C0y3754S2bwWtPHxDoHLOQHpIFI5B9Ggh8Qp3l9yMq5AUWlIDGlveDtk66Yi8
vk6KesixGhI0UGqstMGdk0OGwitVrvTxQ7j6xTPNOadb0MKu00CMzr1fvJDE+82aX
vk5FslhHiUHKbFhtJHfgp4FZGzoODTf4fvxzflvmDjjBShlIQsMxw2l3osKVblLoy
Rmrusi61DX0iHUdbhTfEufaHRtS2NyZdoY6KrGYalsP9MoxIbve5wqhmyWoeARlbt
h7jmRXDVScLfQo/sATL4ZAEhtfE+YnAQd7aHNABrf0MdkwIDa7vkCnAPDc4uMtI6m
Fvu45C/9lcYcMmo2wHp0PBOQg+TjYda60MrV8Y3Ul+xTG6jXQatzG9/Le3iA0hSEU
NGYYWIHOJHP/fl/AJD94nlsLgxSpXlcc70bz6a3jPiBioXnY+6Brnv0QajuQZ6ROC
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 212') {
	err('This update can only be applied to OIDplus version 2.0.0.212!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/classes/OIDplusAuthUtils.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusAuthUtils.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNBdXRoVXRpbHMgewoKCS8vIFJBIGF1dGhlbnRpY2F0aW9uIGZ1bmN0aW9ucwoKCXB1YmxpYyBzdGF0aWMgZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gcmFMb2dpbigkZW1haWwpIHsKCQlpZiAoc3RycG9zKCRlbWFpbCwgJ3wnKSAhPT0gZmFsc2UpIHJldHVybjsKCgkJJHNlcyA9IE9JRHBsdXM6OnNlc0hhbmRsZXIoKTsKCQkkbGlzdCA9ICRzZXMtPmdldFZhbHVlKCdvaWRwbHVzX2xvZ2dlZF9pbicpOwoJ'));
	@fwrite($fp, base64_decode('CWlmIChpc19udWxsKCRsaXN0KSkgJGxpc3QgPSAnJzsKCgkJJGFyeSA9ICgkbGlzdCA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnfCcsICRsaXN0KTsKCQlpZiAoIWluX2FycmF5KCRlbWFpbCwgJGFyeSkpICRhcnlbXSA9ICRlbWFpbDsKCQkkbGlzdCA9IGlt'));
	@fwrite($fp, base64_decode('cGxvZGUoJ3wnLCAkYXJ5KTsKCgkJJHNlcy0+c2V0VmFsdWUoJ29pZHBsdXNfbG9nZ2VkX2luJywgJGxpc3QpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcmFMb2dvdXQoJGVtYWlsKSB7CgkJJHNlcyA9IE9JRHBsdXM6OnNlc0hhbmRsZXIoKTsKCQkkbGlz'));
	@fwrite($fp, base64_decode('dCA9ICRzZXMtPmdldFZhbHVlKCdvaWRwbHVzX2xvZ2dlZF9pbicpOwoJCWlmIChpc19udWxsKCRsaXN0KSkgJGxpc3QgPSAnJzsKCgkJJGFyeSA9ICgkbGlzdCA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnfCcsICRsaXN0KTsKCQkka2V5ID0gYXJyYXlfc2Vh'));
	@fwrite($fp, base64_decode('cmNoKCRlbWFpbCwgJGFyeSk7CgkJaWYgKCRrZXkgIT09IGZhbHNlKSB1bnNldCgkYXJ5WyRrZXldKTsKCQkkbGlzdCA9IGltcGxvZGUoJ3wnLCAkYXJ5KTsKCgkJJHNlcy0+c2V0VmFsdWUoJ29pZHBsdXNfbG9nZ2VkX2luJywgJGxpc3QpOwoKCQlpZiAoKCRsaXN0'));
	@fwrite($fp, base64_decode('ID09ICcnKSAmJiAoIXNlbGY6OmlzQWRtaW5Mb2dnZWRJbigpKSkgewoJCQkvLyBOb2JvZHkgbG9nZ2VkIGluIGFueW1vcmUuIERlc3Ryb3kgc2Vzc2lvbiBjb29raWUgdG8gbWFrZSBHRFBSIHBlb3BsZSBoYXBweQoJCQkkc2VzLT5kZXN0cm95U2Vzc2lvbigpOwoJ'));
	@fwrite($fp, base64_decode('CX0KCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJhTnVtTG9nZ2VkSW4oKSB7CgkJJHNlcyA9IE9JRHBsdXM6OnNlc0hhbmRsZXIoKTsKCgkJJGxpc3QgPSAkc2VzLT5nZXRWYWx1ZSgnb2lkcGx1c19sb2dnZWRfaW4nKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkp'));
	@fwrite($fp, base64_decode('IHJldHVybiAwOwoKCQkkYXJ5ID0gKCRsaXN0ID09ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCd8JywgJGxpc3QpOwoJCXJldHVybiBjb3VudCgkYXJ5KTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJhTG9nb3V0QWxsKCkgewoJCSRzZXMgPSBPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpzZXNIYW5kbGVyKCk7CgkJJHNlcy0+c2V0VmFsdWUoJ29pZHBsdXNfbG9nZ2VkX2luJywgJycpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbG9nZ2VkSW5SYUxpc3QoKSB7CgkJJHNlcyA9IE9JRHBsdXM6OnNlc0hhbmRsZXIoKTsKCQkkbGlzdCA9ICRz'));
	@fwrite($fp, base64_decode('ZXMtPmdldFZhbHVlKCdvaWRwbHVzX2xvZ2dlZF9pbicpOwoJCWlmIChpc19udWxsKCRsaXN0KSkgJGxpc3QgPSAnJzsKCgkJJHJlcyA9IGFycmF5KCk7CgkJZm9yZWFjaCAoZXhwbG9kZSgnfCcsICRsaXN0KSBhcyAkcmFfZW1haWwpIHsKCQkJaWYgKCRyYV9lbWFp'));
	@fwrite($fp, base64_decode('bCA9PSAnJykgY29udGludWU7CgkJCSRyZXNbXSA9IG5ldyBPSURwbHVzUkEoJHJhX2VtYWlsKTsKCQl9CgkJcmV0dXJuICRyZXM7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpc1JhTG9nZ2VkSW4oJGVtYWlsKSB7CgkJZm9yZWFjaCAoc2VsZjo6bG9nZ2Vk'));
	@fwrite($fp, base64_decode('SW5SYUxpc3QoKSBhcyAkcmEpIHsKCQkJaWYgKCRlbWFpbCA9PSAkcmEtPnJhRW1haWwoKSkgcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCgkvLyBBZG1pbiBhdXRoZW50aWNhdGlvbiBmdW5jdGlvbnMKCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IGFkbWluTG9naW4oKSB7CgkJJHNlcyA9IE9JRHBsdXM6OnNlc0hhbmRsZXIoKTsKCQkkc2VzLT5zZXRWYWx1ZSgnb2lkcGx1c19hZG1pbl9sb2dnZWRfaW4nLCAnMScpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gYWRtaW5Mb2dvdXQoKSB7CgkJJHNlcyA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OnNlc0hhbmRsZXIoKTsKCgkJJHNlcy0+c2V0VmFsdWUoJ29pZHBsdXNfYWRtaW5fbG9nZ2VkX2luJywgJzAnKTsKCgkJaWYgKHNlbGY6OnJhTnVtTG9nZ2VkSW4oKSA9PSAwKSB7CgkJCS8vIE5vYm9keSBsb2dnZWQgaW4gYW55bW9yZS4gRGVzdHJv'));
	@fwrite($fp, base64_decode('eSBzZXNzaW9uIGNvb2tpZSB0byBtYWtlIEdEUFIgcGVvcGxlIGhhcHB5CgkJCSRzZXMtPmRlc3Ryb3lTZXNzaW9uKCk7CgkJfQoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gYWRtaW5DaGVja1Bhc3N3b3JkKCRwYXNzd29yZCkgewoJCSRjYWxjX2F1dGhrZXkg'));
	@fwrite($fp, base64_decode('PSBiaW4yaGV4KHZlcnNpb25fY29tcGFyZShQSFBfVkVSU0lPTiwgJzcuMS4wJykgPj0gMCA/IGhhc2goJ3NoYTMtNTEyJywgJHBhc3N3b3JkLCB0cnVlKSA6IGJiXFNoYTNcU2hhMzo6aGFzaCgkcGFzc3dvcmQsIDUxMiwgdHJ1ZSkpOwoJCXJldHVybiAkY2FsY19h'));
	@fwrite($fp, base64_decode('dXRoa2V5ID09IGJpbjJoZXgoYmFzZTY0X2RlY29kZShPSURQTFVTX0FETUlOX1BBU1NXT1JEKSk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpc0FkbWluTG9nZ2VkSW4oKSB7CgkJJHNlcyA9IE9JRHBsdXM6OnNlc0hhbmRsZXIoKTsKCQlyZXR1cm4gJHNl'));
	@fwrite($fp, base64_decode('cy0+Z2V0VmFsdWUoJ29pZHBsdXNfYWRtaW5fbG9nZ2VkX2luJykgPT0gJzEnOwoJfQoKCS8vIEFjdGlvbi5waHAgYXV0aCBhcmd1bWVudHMKCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG1ha2VBdXRoS2V5KCRkYXRhKSB7CgkJJGRhdGEgPSBPSURQTFVTX1NFU1NJ'));
	@fwrite($fp, base64_decode('T05fU0VDUkVUIC4gJGRhdGE7CgkJJGNhbGNfYXV0aGtleSA9IGJpbjJoZXgodmVyc2lvbl9jb21wYXJlKFBIUF9WRVJTSU9OLCAnNy4xLjAnKSA+PSAwID8gaGFzaCgnc2hhMy01MTInLCAkZGF0YSwgdHJ1ZSkgOiBiYlxTaGEzXFNoYTM6Omhhc2goJGRhdGEsIDUx'));
	@fwrite($fp, base64_decode('MiwgdHJ1ZSkpOwoJCXJldHVybiAkY2FsY19hdXRoa2V5OwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gdmFsaWRhdGVBdXRoS2V5KCRkYXRhLCAkYXV0aF9rZXkpIHsKCQlyZXR1cm4gc2VsZjo6bWFrZUF1dGhLZXkoJGRhdGEpID09ICRhdXRoX2tleTsKCX0K'));
	@fwrite($fp, base64_decode('Cn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusAuthUtils.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusAuthUtils.class.php');
	writefile_1();
	if (!is_file('includes/classes/OIDplusAuthUtils.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusAuthUtils.class.php');
	} else if (sha1_file('includes/classes/OIDplusAuthUtils.class.php') != '702effcca782ca5462358379f933cb386f48b956') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusAuthUtils.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusAuthUtils.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusAuthUtils.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusAuthUtils.class.php') !== '702effcca782ca5462358379f933cb386f48b956') {
		if (@sha1_file('includes/classes/OIDplusAuthUtils.class.php') !== '1336790fb8096f701eca795d8bb1f0aa47b4f61f') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusAuthUtils.class.php');
			$tmp = pathinfo('includes/classes/OIDplusAuthUtils.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusAuthUtils.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusAuthUtils.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/classes/OIDplusAuthUtils.class.php') !== '702effcca782ca5462358379f933cb386f48b956') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusAuthUtils.class.php');
		}
	}
}

// Files different: plugins/publicPages/500_resources/plugin.inc.php
function writefile_2() {
	@$fp = fopen('plugins/publicPages/500_resources/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmRlZmluZSgnQ0ZHX1JFU09VUkNFX1BMVUdJTl9BVVRPT1BFTl9MRVZFTCcsIDEpOwpkZWZpbmUoJ0NGR19SRVNPVVJDRV9QTFVHSU5f'));
	@fwrite($fp, base64_decode('VElUTEUnLCAnRG9jdW1lbnRzIGFuZCByZXNvdXJjZXMnKTsKZGVmaW5lKCdDRkdfUkVTT1VSQ0VfUExVR0lOX1BBVEgnLCAncmVzLycpOwpkZWZpbmUoJ0NGR19SRVNPVVJDRV9QTFVHSU5fSElERV9FTVBUWV9QQVRIJywgdHJ1ZSk7CgpjbGFzcyBPSURwbHVzUGFn'));
	@fwrite($fp, base64_decode('ZVB1YmxpY1Jlc291cmNlcyBleHRlbmRzIE9JRHBsdXNQYWdlUGx1Z2luIHsKCXB1YmxpYyBmdW5jdGlvbiB0eXBlKCkgewoJCXJldHVybiAncHVibGljJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gcHJpb3JpdHkoKSB7CgkJcmV0dXJuIDUwMDsKCX0KCglwdWJsaWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gYWN0aW9uKCYkaGFuZGxlZCkgewoJCS8vIE5vdGhpbmcKCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5pdCgkaHRtbD10cnVlKSB7CgkJLy8gTm90aGluZwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjZmdTZXRWYWx1ZSgkbmFtZSwgJHZhbHVlKSB7CgkJLy8g'));
	@fwrite($fp, base64_decode('Tm90aGluZwoJfQoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdldERvY3VtZW50VGl0bGUoJGZpbGUpIHsKCQkkY29udCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlKTsKCQlpZiAocHJlZ19tYXRjaCgnQDx0aXRsZT4oLispPC90aXRsZT5AaXNtVScsICRjb250'));
	@fwrite($fp, base64_decode('LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoMT4oLispPC9oMT5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoMj4oLispPC9oMj5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsx'));
	@fwrite($fp, base64_decode('XTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoMz4oLispPC9oMz5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoND4oLispPC9oND5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRj'));
	@fwrite($fp, base64_decode('aCgnQDxoNT4oLispPC9oNT5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlpZiAocHJlZ19tYXRjaCgnQDxoNj4oLispPC9oNj5AaXNtVScsICRjb250LCAkbSkpIHJldHVybiAkbVsxXTsKCQlyZXR1cm4gcGF0aGluZm8oJGZpbGUsIFBBVEhJTkZP'));
	@fwrite($fp, base64_decode('X0ZJTEVOQU1FKTsgLy8gZmlsZW5hbWUgd2l0aG91dCBleHRlbnNpb24KCX0KCglwdWJsaWMgZnVuY3Rpb24gZ3VpKCRpZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJCWlmIChleHBsb2RlKCckJywkaWQpWzBdID09PSAnb2lkcGx1czpyZXNvdXJjZXMnKSB7CgkJCSRo'));
	@fwrite($fp, base64_decode('YW5kbGVkID0gdHJ1ZTsKCgkJCSRmaWxlID0gQGV4cGxvZGUoJyQnLCRpZClbMV07CgkJCSRhdXRoID0gQGV4cGxvZGUoJyQnLCRpZClbMl07CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjp2YWxpZGF0ZUF1dGhLZXkoInJlc291cmNlczskZmlsZSIsICRh'));
	@fwrite($fp, base64_decode('dXRoKSkgewoJCQkJJG91dFsndGl0bGUnXSA9ICdBY2Nlc3MgZGVuaWVkJzsKCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gPSAnPHA+SW52YWxpZCBhdXRoZW50aWNhdGlvbiB0b2tlbjwvcD4nOwoJCQkJcmV0'));
	@fwrite($fp, base64_decode('dXJuICRvdXQ7CgkJCX0KCgkJCSRvdXRbJ3RleHQnXSA9ICcnOwoKCQkJaWYgKCRmaWxlICE9IENGR19SRVNPVVJDRV9QTFVHSU5fUEFUSCkgewoJCQkJJGRpciA9IGRpcm5hbWUoJGZpbGUpLicvJzsKCgkJCQlpZiAoJGRpciA9PSBDRkdfUkVTT1VSQ0VfUExVR0lO'));
	@fwrite($fp, base64_decode('X1BBVEgpIHsKCQkJCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uLnBuZycpKSB7CgkJCQkJCSR0cmVlX2ljb24gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3RyZWVpY29uLnBu'));
	@fwrite($fp, base64_decode('Zyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCQkJCX0KCgkJCQkJJGljID0gZW1wdHkoJHRyZWVfaWNvbikgPyAnJyA6ICc8aW1nIHNyYz0iJy4kdHJlZV9pY29uLiciIGFsdD0iIj4nOwoK'));
	@fwrite($fp, base64_decode('CQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhICcub2lkcGx1c19saW5rKCdvaWRwbHVzOnJlc291cmNlcyQnLkNGR19SRVNPVVJDRV9QTFVHSU5fUEFUSC4nJCcuT0lEcGx1czo6YXV0aFV0aWxzKCk6Om1ha2VBdXRoS2V5KCJyZXNvdXJjZXM7Ii5DRkdfUkVTT1VS'));
	@fwrite($fp, base64_decode('Q0VfUExVR0lOX1BBVEgpKS4nPjxpbWcgc3JjPSJpbWcvYXJyb3dfYmFjay5wbmciIHdpZHRoPSIxNiI+IEdvIGJhY2sgdG86ICcuJGljLicgJy5odG1sZW50aXRpZXMoQ0ZHX1JFU09VUkNFX1BMVUdJTl9USVRMRSkuJzwvYT48L3A+JzsKCQkJCX0gZWxzZSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGRpcilbJ2Rpcm5hbWUnXS4nLycucGF0aGluZm8oJGRpcilbJ2ZpbGVuYW1lJ10uJ190cmVlLnBuZyc7CgkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkJJHRyZWVfaWNvbiA9'));
	@fwrite($fp, base64_decode('ICRpY29uX2NhbmRpZGF0ZTsKCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbl9mb2xkZXIucG5nJykpIHsKCQkJCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1l'));
	@fwrite($fp, base64_decode('KF9fRElSX18pLicvdHJlZWljb25fZm9sZGVyLnBuZyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIG5vIGljb24KCQkJCQl9CgoJCQkJCSRpYyA9IGVtcHR5KCR0cmVlX2ljb24pID8gJycgOiAnPGltZyBzcmM9IicuJHRyZWVfaWNv'));
	@fwrite($fp, base64_decode('bi4nIiBhbHQ9IiI+JzsKCgkJCQkJJG91dFsndGV4dCddIC49ICc8cD48YSAnLm9pZHBsdXNfbGluaygnb2lkcGx1czpyZXNvdXJjZXMkJy4kZGlyLickJy5PSURwbHVzOjphdXRoVXRpbHMoKTo6bWFrZUF1dGhLZXkoInJlc291cmNlczskZGlyIikpLic+PGltZyBz'));
	@fwrite($fp, base64_decode('cmM9ImltZy9hcnJvd19iYWNrLnBuZyIgd2lkdGg9IjE2Ij4gR28gYmFjayB0bzogJy4kaWMuJyAnLmh0bWxlbnRpdGllcyhiYXNlbmFtZSgkZGlyKSkuJzwvYT48L3A+PGJyPic7CgkJCQl9CgkJCX0KCgkJCWlmIChmaWxlX2V4aXN0cygkZmlsZSkgJiYgKCFpc19k'));
	@fwrite($fp, base64_decode('aXIoJGZpbGUpKSkgewoJCQkJaWYgKHN1YnN0cigkZmlsZSwtNCw0KSA9PSAnLnVybCcpIHsKCQkJCQkkb3V0Wyd0aXRsZSddID0gJHRoaXMtPmdldEh5cGVybGlua1RpdGxlKCRmaWxlKTsKCgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGZpbGUpWydk'));
	@fwrite($fp, base64_decode('aXJuYW1lJ10uJy8nLnBhdGhpbmZvKCRmaWxlKVsnZmlsZW5hbWUnXS4nX2JpZy5wbmcnOwoJCQkJCWlmIChmaWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUpKSB7CgkJCQkJCSRvdXRbJ2ljb24nXSA9ICRpY29uX2NhbmRpZGF0ZTsKCQkJCQl9IGVsc2UgaWYgKGZp'));
	@fwrite($fp, base64_decode('bGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2xlYWZfdXJsX2JpZy5wbmcnKSkgewoJCQkJCQkkb3V0WydpY29uJ10gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fbGVhZl91cmxfYmlnLnBu'));
	@fwrite($fp, base64_decode('Zyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJG91dFsnaWNvbiddID0gJyc7CgkJCQkJfQoKCQkJCQkvLyBTaG91bGQgbm90IGhhcHBlbiB0aG91Z2gsIGR1ZSB0byBjb25kaXRpb25hbHNlbGVjdAoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPGEgaHJlZj0iJy5odG1sZW50'));
	@fwrite($fp, base64_decode('aXRpZXMoc2VsZjo6Z2V0SHlwZXJsaW5rVVJMKCRmaWxlKSkuJyIgdGFyZ2V0PSJfYmxhbmsiPk9wZW4gaW4gbmV3IHdpbmRvdzwvYT4nOwoJCQkJfSBlbHNlIGlmICgoc3Vic3RyKCRmaWxlLC00LDQpID09ICcuaHRtJykgfHwgKHN1YnN0cigkZmlsZSwtNSw1KSA9'));
	@fwrite($fp, base64_decode('PSAnLmh0bWwnKSkgewoJCQkJCSRvdXRbJ3RpdGxlJ10gPSAkdGhpcy0+Z2V0RG9jdW1lbnRUaXRsZSgkZmlsZSk7CgoJCQkJCSRpY29uX2NhbmRpZGF0ZSA9IHBhdGhpbmZvKCRmaWxlKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkZmlsZSlbJ2ZpbGVuYW1lJ10u'));
	@fwrite($fp, base64_decode('J19iaWcucG5nJzsKCQkJCQlpZiAoZmlsZV9leGlzdHMoJGljb25fY2FuZGlkYXRlKSkgewoJCQkJCQkkb3V0WydpY29uJ10gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9sZWFmX2RvY19iaWcucG5n'));
	@fwrite($fp, base64_decode('JykpIHsKCQkJCQkJJG91dFsnaWNvbiddID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy9pY29uX2xlYWZfZG9jX2JpZy5wbmcnOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSRvdXRbJ2ljb24nXSA9ICcn'));
	@fwrite($fp, base64_decode('OwoJCQkJCX0KCgkJCQkJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7CgkJCQkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0BeKC4rKTxib2R5QGlzVScsICcnLCAkY29udCk7CgkJCQkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0A8L2JvZHk+LiskQGlzVScs'));
	@fwrite($fp, base64_decode('ICcnLCAkY29udCk7CgkJCQkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0A8dGl0bGU+Lis8L3RpdGxlPkBpc1UnLCAnJywgJGNvbnQpOwoJCQkJCSRjb250ID0gcHJlZ19yZXBsYWNlKCdAPGgxPi4rPC9oMT5AaXNVJywgJycsICRjb250LCAxKTsKCgkJCQkJJG91dFsn'));
	@fwrite($fp, base64_decode('dGV4dCddIC49ICRjb250OwoJCQkJfSBlbHNlIHsKCQkJCQkkb3V0Wyd0aXRsZSddID0gJ1Vua25vd24gZmlsZSB0eXBlJzsKCQkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD5UaGUgc3lzdGVtIGRv'));
	@fwrite($fp, base64_decode('ZXMgbm90IGtub3cgaG93IHRvIGhhbmRsZSB0aGlzIGZpbGUgdHlwZS48L3A+JzsKCQkJCQlyZXR1cm4gJG91dDsKCQkJCX0KCQkJfSBlbHNlIGlmIChpc19kaXIoJGZpbGUpKSB7CgkJCQkkb3V0Wyd0aXRsZSddID0gKCRmaWxlID09IENGR19SRVNPVVJDRV9QTFVH'));
	@fwrite($fp, base64_decode('SU5fUEFUSCkgPyBDRkdfUkVTT1VSQ0VfUExVR0lOX1RJVExFIDogYmFzZW5hbWUoJGZpbGUpOwoKCQkJCWlmICgkZmlsZSA9PSBDRkdfUkVTT1VSQ0VfUExVR0lOX1BBVEgpIHsKCQkJCQkkb3V0WydpY29uJ10gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9i'));
	@fwrite($fp, base64_decode('aWcucG5nJykgPyAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCQkJCX0gZWxzZSB7CgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGZpbGUpWydkaXJu'));
	@fwrite($fp, base64_decode('YW1lJ10uJy8nLnBhdGhpbmZvKCRmaWxlKVsnZmlsZW5hbWUnXS4nX2JpZy5wbmcnOwoJCQkJCWlmIChmaWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUpKSB7CgkJCQkJCSRvdXRbJ2ljb24nXSA9ICRpY29uX2NhbmRpZGF0ZTsKCQkJCQl9IGVsc2UgaWYgKGZpbGVf'));
	@fwrite($fp, base64_decode('ZXhpc3RzKF9fRElSX18uJy9pY29uX2ZvbGRlcl9iaWcucG5nJykpIHsKCQkJCQkJJG91dFsnaWNvbiddID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy9pY29uX2ZvbGRlcl9iaWcucG5nJzsKCQkJ'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgewoJCQkJCQkkb3V0WydpY29uJ10gPSBudWxsOyAvLyBubyBpY29uCgkJCQkJfQoJCQkJfQoKCQkJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShk'));
	@fwrite($fp, base64_decode('aXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbi5wbmcnOwoJCQkJfSBlbHNlIHsKCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCQl9CgoJCQkJJGNvdW50ID0gMDsKCgkJCQkkZGly'));
	@fwrite($fp, base64_decode('cyA9IGdsb2IoJGZpbGUuJyonLicvJywgR0xPQl9PTkxZRElSKTsKCQkJCW5hdGNhc2Vzb3J0KCRkaXJzKTsKCQkJCWZvcmVhY2ggKCRkaXJzIGFzICRkaXIpIHsKCQkJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkZGlyKVsnZGlybmFtZSddLicvJy5wYXRo'));
	@fwrite($fp, base64_decode('aW5mbygkZGlyKVsnZmlsZW5hbWUnXS4nX3RyZWUucG5nJzsKCQkJCQlpZiAoZmlsZV9leGlzdHMoJGljb25fY2FuZGlkYXRlKSkgewoJCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCX0gZWxzZSBpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4n'));
	@fwrite($fp, base64_decode('L3RyZWVpY29uX2ZvbGRlci5wbmcnKSkgewoJCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9mb2xkZXIucG5nJzsKCQkJCQl9IGVsc2UgewoJCQkJCQkk'));
	@fwrite($fp, base64_decode('dHJlZV9pY29uID0gbnVsbDsgLy8gbm8gaWNvbgoJCQkJCX0KCgkJCQkJJGljID0gZW1wdHkoJHRyZWVfaWNvbikgPyAnJyA6ICc8aW1nIHNyYz0iJy4kdHJlZV9pY29uLiciIGFsdD0iIj4nOwoKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhICcub2lkcGx1c19s'));
	@fwrite($fp, base64_decode('aW5rKCdvaWRwbHVzOnJlc291cmNlcyQnLiRkaXIuJyQnLk9JRHBsdXM6OmF1dGhVdGlscygpOjptYWtlQXV0aEtleSgicmVzb3VyY2VzOyRkaXIiKSkuJz4nLiRpYy4nICcuaHRtbGVudGl0aWVzKGJhc2VuYW1lKCRkaXIpKS4nPC9hPjwvcD4nOwoJCQkJCSRjb3Vu'));
	@fwrite($fp, base64_decode('dCsrOwoJCQkJfQoKCQkJCSRmaWxlcyA9IGFycmF5X21lcmdlKAoJCQkJCWdsb2IoJGZpbGUuJy8nLicqLmh0bSonKSwgLy8gVE9ETzogYWxzbyBQSFA/CgkJCQkJZ2xvYigkZmlsZS4nLycuJyoudXJsJykKCQkJCSk7CgkJCQluYXRjYXNlc29ydCgkZmlsZXMpOwoJ'));
	@fwrite($fp, base64_decode('CQkJZm9yZWFjaCAoJGZpbGVzIGFzICRmaWxlKSB7CgkJCQkJaWYgKHN1YnN0cigkZmlsZSwtNCw0KSA9PSAnLnVybCcpIHsKCQkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJGZpbGUpWydkaXJuYW1lJ10uJy8nLnBhdGhpbmZvKCRmaWxlKVsnZmlsZW5h'));
	@fwrite($fp, base64_decode('bWUnXS4nX3RyZWUucG5nJzsKCQkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkJCSR0cmVlX2ljb24gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCQkJCX0gZWxzZSBpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uX2xlYWZf'));
	@fwrite($fp, base64_decode('dXJsLnBuZycpKSB7CgkJCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9sZWFmX3VybC5wbmcnOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJJHRyZWVfaWNv'));
	@fwrite($fp, base64_decode('biA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCQkJCQl9CgkJCQkJCSRpYyA9IGVtcHR5KCR0cmVlX2ljb24pID8gJycgOiAnPGltZyBzcmM9IicuJHRyZWVfaWNvbi4nIiBhbHQ9IiI+JzsKCgkJCQkJCSRoeXBlcmxpbmtfcGljID0gJyA8aW1nIHNy'));
	@fwrite($fp, base64_decode('Yz0icGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2h5cGVybGluay5wbmciIHdpZGh0PSIxMyIgaGVpZ2h0PSIxMyIgYWx0PSJIeXBlcmxpbmsiIHN0eWxlPSJ0b3A6LTNweDtwb3NpdGlvbjpyZWxhdGl2'));
	@fwrite($fp, base64_decode('ZSI+JzsKCgkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGEgaHJlZj0iJy5odG1sZW50aXRpZXMoc2VsZjo6Z2V0SHlwZXJsaW5rVVJMKCRmaWxlKSkuJyIgdGFyZ2V0PSJfYmxhbmsiPicuJGljLicgJy5odG1sZW50aXRpZXMoJHRoaXMtPmdldEh5cGVybGlua1Rp'));
	@fwrite($fp, base64_decode('dGxlKCRmaWxlKSkuJyAnLiRoeXBlcmxpbmtfcGljLic8L2E+PC9wPic7CgkJCQkJCSRjb3VudCsrOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSRpY29uX2NhbmRpZGF0ZSA9IHBhdGhpbmZvKCRmaWxlKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkZmlsZSlbJ2ZpbGVu'));
	@fwrite($fp, base64_decode('YW1lJ10uJ190cmVlLnBuZyc7CgkJCQkJCWlmIChmaWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUpKSB7CgkJCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbl9sZWFm'));
	@fwrite($fp, base64_decode('X2RvYy5wbmcnKSkgewoJCQkJCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fbGVhZl9kb2MucG5nJzsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCSR0cmVlX2lj'));
	@fwrite($fp, base64_decode('b24gPSBudWxsOyAvLyBkZWZhdWx0IGljb24gKGZvbGRlcikKCQkJCQkJfQoJCQkJCQkkaWMgPSBlbXB0eSgkdHJlZV9pY29uKSA/ICcnIDogJzxpbWcgc3JjPSInLiR0cmVlX2ljb24uJyIgYWx0PSIiPic7CgoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhICcu'));
	@fwrite($fp, base64_decode('b2lkcGx1c19saW5rKCdvaWRwbHVzOnJlc291cmNlcyQnLiRmaWxlLickJy5PSURwbHVzOjphdXRoVXRpbHMoKTo6bWFrZUF1dGhLZXkoInJlc291cmNlczskZmlsZSIpKS4nPicuJGljLicgJy5odG1sZW50aXRpZXMoJHRoaXMtPmdldERvY3VtZW50VGl0bGUoJGZp'));
	@fwrite($fp, base64_decode('bGUpKS4nPC9hPjwvcD4nOwoJCQkJCQkkY291bnQrKzsKCQkJCQl9CgkJCQl9CgoJCQkJaWYgKCRjb3VudCA9PSAwKSB7CgkJCQkJJG91dFsndGV4dCddIC49ICc8cD5UaGlzIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSBlbGVtZW50czwvcD4nOwoJCQkJfQoJ'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgewoJCQkJJG91dFsndGl0bGUnXSA9ICdOb3QgZm91bmQnOwoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD5UaGlzIHJlc291cmNlIGRvZXNuXCd0IGV4aXN0IGFueW1vcmUuPC9wPic7'));
	@fwrite($fp, base64_decode('CgkJCQlyZXR1cm4gJG91dDsKCQkJfQoJCX0KCX0KCglwcml2YXRlIGZ1bmN0aW9uIHRyZWVfcmVjKCYkY2hpbGRyZW4sICRyb290ZGlyPUNGR19SRVNPVVJDRV9QTFVHSU5fUEFUSCwgJGRlcHRoPTApIHsKCQlpZiAoJGRlcHRoID4gMTAwKSByZXR1cm4gZmFsc2U7'));
	@fwrite($fp, base64_decode('IC8vIHNvbWV0aGluZyBpcyB3cm9uZyEKCgkJJGRpcnMgPSBnbG9iKCRyb290ZGlyLicqJy4nLycsIEdMT0JfT05MWURJUik7CgkJbmF0Y2FzZXNvcnQoJGRpcnMpOwoJCWZvcmVhY2ggKCRkaXJzIGFzICRkaXIpIHsKCQkJJHRtcCA9IGFycmF5KCk7CgkJCSR0aGlz'));
	@fwrite($fp, base64_decode('LT50cmVlX3JlYygkdG1wLCAkZGlyLCAkZGVwdGgrMSk7CgoJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkZGlyKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkZGlyKVsnZmlsZW5hbWUnXS4nX3RyZWUucG5nJzsKCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29u'));
	@fwrite($fp, base64_decode('X2NhbmRpZGF0ZSkpIHsKCQkJCSR0cmVlX2ljb24gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCX0gZWxzZSBpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uX2ZvbGRlci5wbmcnKSkgewoJCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zLycuYmFzZW5hbWUoZGly'));
	@fwrite($fp, base64_decode('bmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fZm9sZGVyLnBuZyc7CgkJCX0gZWxzZSB7CgkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCX0KCgkJCSRjaGlsZHJlbltdID0gYXJyYXko'));
	@fwrite($fp, base64_decode('CgkJCQknaWQnID0+ICdvaWRwbHVzOnJlc291cmNlcyQnLiRkaXIuJyQnLk9JRHBsdXM6OmF1dGhVdGlscygpOjptYWtlQXV0aEtleSgicmVzb3VyY2VzOyRkaXIiKSwKCQkJCSdpY29uJyA9PiAkdHJlZV9pY29uLAoJCQkJJ3RleHQnID0+IGJhc2VuYW1lKCRkaXIp'));
	@fwrite($fp, base64_decode('LAoJCQkJJ2NoaWxkcmVuJyA9PiAkdG1wLAoJCQkJJ3N0YXRlJyA9PiBhcnJheSgib3BlbmVkIiA9PiAkZGVwdGggPD0gQ0ZHX1JFU09VUkNFX1BMVUdJTl9BVVRPT1BFTl9MRVZFTC0xKQoJCQkpOwoJCX0KCgkJJGZpbGVzID0gYXJyYXlfbWVyZ2UoCgkJCWdsb2Io'));
	@fwrite($fp, base64_decode('JHJvb3RkaXIuJyouaHRtKicpLCAvLyBUT0RPOiBBbHNvIFBIUD8KCQkJZ2xvYigkcm9vdGRpci4nKi51cmwnKQoJCSk7CgkJbmF0Y2FzZXNvcnQoJGZpbGVzKTsKCQlmb3JlYWNoICgkZmlsZXMgYXMgJGZpbGUpIHsKCQkJaWYgKHN1YnN0cigkZmlsZSwtNCw0KSA9'));
	@fwrite($fp, base64_decode('PSAnLnVybCcpIHsKCgkJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkZmlsZSlbJ2Rpcm5hbWUnXS4nLycucGF0aGluZm8oJGZpbGUpWydmaWxlbmFtZSddLidfdHJlZS5wbmcnOwoJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb25fbGVhZl91cmwucG5nJykpIHsKCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18p'));
	@fwrite($fp, base64_decode('KS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9sZWFmX3VybC5wbmcnOwoJCQkJfSBlbHNlIHsKCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCQl9CgoJCQkJJGh5cGVybGlua19waWMgPSAnIDxpbWcgc3Jj'));
	@fwrite($fp, base64_decode('PSJwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18pLicvaHlwZXJsaW5rLnBuZyIgd2lkaHQ9IjEzIiBoZWlnaHQ9IjEzIiBhbHQ9Ikh5cGVybGluayIgc3R5bGU9InRvcDotM3B4O3Bvc2l0aW9uOnJlbGF0aXZl'));
	@fwrite($fp, base64_decode('Ij4nOwoKCQkJCSRjaGlsZHJlbltdID0gYXJyYXkoCgkJCQkJJ2lkJyA9PiAnb2lkcGx1czpyZXNvdXJjZXMkJy4kZmlsZS4nJCcuT0lEcGx1czo6YXV0aFV0aWxzKCk6Om1ha2VBdXRoS2V5KCJyZXNvdXJjZXM7JGZpbGUiKSwKCQkJCQknY29uZGl0aW9uYWxzZWxl'));
	@fwrite($fp, base64_decode('Y3QnID0+ICd3aW5kb3cub3BlbignLmpzX2VzY2FwZShzZWxmOjpnZXRIeXBlcmxpbmtVUkwoJGZpbGUpKS4nKTsgZmFsc2U7JywKCQkJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJCQkndGV4dCcgPT4gJHRoaXMtPmdldEh5cGVybGlua1RpdGxlKCRmaWxlKS4n'));
	@fwrite($fp, base64_decode('ICcuJGh5cGVybGlua19waWMsCgkJCQkJJ3N0YXRlJyA9PiBhcnJheSgib3BlbmVkIiA9PiAkZGVwdGggPD0gQ0ZHX1JFU09VUkNFX1BMVUdJTl9BVVRPT1BFTl9MRVZFTC0xKQoJCQkJKTsKCgkJCX0gZWxzZSB7CgkJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5m'));
	@fwrite($fp, base64_decode('bygkZmlsZSlbJ2Rpcm5hbWUnXS4nLycucGF0aGluZm8oJGZpbGUpWydmaWxlbmFtZSddLidfdHJlZS5wbmcnOwoJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb25fbGVhZl9kb2MucG5nJykpIHsKCQkJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvJy5iYXNlbmFtZShkaXJuYW1lKF9fRElSX18pKS4nLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9sZWFmX2Rv'));
	@fwrite($fp, base64_decode('Yy5wbmcnOwoJCQkJfSBlbHNlIHsKCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCQl9CgkJCQkkY2hpbGRyZW5bXSA9IGFycmF5KAoJCQkJCSdpZCcgPT4gJ29pZHBsdXM6cmVzb3VyY2VzJCcuJGZpbGUuJyQnLk9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmF1dGhVdGlscygpOjptYWtlQXV0aEtleSgicmVzb3VyY2VzOyRmaWxlIiksCgkJCQkJJ2ljb24nID0+ICR0cmVlX2ljb24sCgkJCQkJJ3RleHQnID0+ICR0aGlzLT5nZXREb2N1bWVudFRpdGxlKCRmaWxlKSwKCQkJCQknc3RhdGUnID0+IGFycmF5KCJvcGVu'));
	@fwrite($fp, base64_decode('ZWQiID0+ICRkZXB0aCA8PSBDRkdfUkVTT1VSQ0VfUExVR0lOX0FVVE9PUEVOX0xFVkVMLTEpCgkJCQkpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlKCYkanNvbiwgJHJhX2VtYWlsPW51bGwsICRub25qcz1mYWxzZSwgJHJlcV9nb3RvPScnKSB7'));
	@fwrite($fp, base64_decode('CgkJJGNoaWxkcmVuID0gYXJyYXkoKTsKCgkJJHRoaXMtPnRyZWVfcmVjKCRjaGlsZHJlbiwgQ0ZHX1JFU09VUkNFX1BMVUdJTl9QQVRIKTsKCgkJaWYgKCFDRkdfUkVTT1VSQ0VfUExVR0lOX0hJREVfRU1QVFlfUEFUSCB8fCAoY291bnQoJGNoaWxkcmVuKSA+IDAp'));
	@fwrite($fp, base64_decode('KSB7CgkJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJCSR0cmVlX2ljb24gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3RyZWVpY29uLnBuZyc7CgkJCX0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7CgkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCX0KCgkJCSRqc29uW10gPSBhcnJheSgKCQkJCSdpZCcgPT4gJ29pZHBsdXM6cmVzb3VyY2VzJCcuQ0ZHX1JFU09VUkNFX1BMVUdJTl9QQVRILickJy5PSURwbHVz'));
	@fwrite($fp, base64_decode('OjphdXRoVXRpbHMoKTo6bWFrZUF1dGhLZXkoInJlc291cmNlczsiLkNGR19SRVNPVVJDRV9QTFVHSU5fUEFUSCksCgkJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJCSdzdGF0ZScgPT4gYXJyYXkoIm9wZW5lZCIgPT4gdHJ1ZSksCgkJCQkndGV4dCcgPT4gQ0ZH'));
	@fwrite($fp, base64_decode('X1JFU09VUkNFX1BMVUdJTl9USVRMRSwKCQkJCSdjaGlsZHJlbicgPT4gJGNoaWxkcmVuCgkJCSk7CgkJfQoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZV9zZWFyY2goJHJlcXVlc3QpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcHJpdmF0'));
	@fwrite($fp, base64_decode('ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0SHlwZXJsaW5rVGl0bGUoJGZpbGUpIHsKCQlyZXR1cm4gcHJlZ19yZXBsYWNlKCcvXFwuW14uXFxzXXszLDR9JC8nLCAnJywgYmFzZW5hbWUoJGZpbGUpKTsKCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRIeXBlcmxp'));
	@fwrite($fp, base64_decode('bmtVUkwoJGZpbGUpIHsKCQkvKgoJCVt7MDAwMjE0QTAtMDAwMC0wMDAwLUMwMDAtMDAwMDAwMDAwMDQ2fV0KCQlQcm9wMz0xOSwyCgkJW0ludGVybmV0U2hvcnRjdXRdCgkJVVJMPWh0dHA6Ly93d3cuZXhhbXBsZS5jb20vCgkJSURMaXN0PQoJCSovCgkJJGNvbnQg'));
	@fwrite($fp, base64_decode('PSBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7CgkJaWYgKCFwcmVnX21hdGNoKCdAVVJMPSguKylcbkBpc21VJywgJGNvbnQsICRtKSkgcmV0dXJuIG51bGw7CgkJcmV0dXJuIHRyaW0oJG1bMV0pOwoJfQp9CgpPSURwbHVzOjpyZWdpc3RlclBhZ2VQbHVnaW4obmV3'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNQYWdlUHVibGljUmVzb3VyY2VzKCkpOwo='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/500_resources/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/500_resources/plugin.inc.php');
	writefile_2();
	if (!is_file('plugins/publicPages/500_resources/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/500_resources/plugin.inc.php');
	} else if (sha1_file('plugins/publicPages/500_resources/plugin.inc.php') != 'eed841c43d3bdcc116ab23f03e32bc54dcd334e9') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/500_resources/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/500_resources/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/500_resources/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/500_resources/plugin.inc.php') !== 'eed841c43d3bdcc116ab23f03e32bc54dcd334e9') {
		if (@sha1_file('plugins/publicPages/500_resources/plugin.inc.php') !== '14de3865cdc0ae7eb8cb432dec5847596af5d9e3') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/500_resources/plugin.inc.php');
			$tmp = pathinfo('plugins/publicPages/500_resources/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/500_resources/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/500_resources/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/publicPages/500_resources/plugin.inc.php') !== 'eed841c43d3bdcc116ab23f03e32bc54dcd334e9') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/500_resources/plugin.inc.php');
		}
	}
}

// Files different: plugins/raPages/092_invite/plugin.inc.php
function writefile_3() {
	@$fp = fopen('plugins/raPages/092_invite/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNQYWdlUmFJbnZpdGUgZXh0ZW5kcyBPSURwbHVzUGFnZVBsdWdpbiB7CglwdWJsaWMgZnVuY3Rpb24gdHlwZSgp'));
	@fwrite($fp, base64_decode('IHsKCQlyZXR1cm4gJ3JhJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gcHJpb3JpdHkoKSB7CgkJcmV0dXJuIDkyOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBhY3Rpb24oJiRoYW5kbGVkKSB7CgkJaWYgKGlzc2V0KCRfUE9TVFsiYWN0aW9uIl0pICYmICgkX1BPU1RbImFj'));
	@fwrite($fp, base64_decode('dGlvbiJdID09ICJpbnZpdGVfcmEiKSkgewoJCQkkaGFuZGxlZCA9IHRydWU7CgkJCSRlbWFpbCA9ICRfUE9TVFsnZW1haWwnXTsKCgkJCWlmICghb2lkcGx1c192YWxpZF9lbWFpbCgkZW1haWwpKSB7CgkJCQlkaWUoanNvbl9lbmNvZGUoYXJyYXkoImVycm9yIiA9'));
	@fwrite($fp, base64_decode('PiAnSW52YWxpZCBlbWFpbCBhZGRyZXNzJykpKTsKCQkJfQoKCQkJaWYgKFJFQ0FQVENIQV9FTkFCTEVEKSB7CgkJCQkkc2VjcmV0PVJFQ0FQVENIQV9QUklWQVRFOwoJCQkJJHJlc3BvbnNlPSRfUE9TVFsiY2FwdGNoYSJdOwoJCQkJJHZlcmlmeT1maWxlX2dldF9j'));
	@fwrite($fp, base64_decode('b250ZW50cygiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpL3NpdGV2ZXJpZnk/c2VjcmV0PXskc2VjcmV0fSZyZXNwb25zZT17JHJlc3BvbnNlfSIpOwoJCQkJJGNhcHRjaGFfc3VjY2Vzcz1qc29uX2RlY29kZSgkdmVyaWZ5KTsKCQkJCWlmICgk'));
	@fwrite($fp, base64_decode('Y2FwdGNoYV9zdWNjZXNzLT5zdWNjZXNzPT1mYWxzZSkgewoJCQkJCWRpZShqc29uX2VuY29kZShhcnJheSgiZXJyb3IiID0+ICdDYXB0Y2hhIHdyb25nJykpKTsKCQkJCX0KCQkJfQoKCQkJJHRoaXMtPmludml0ZVNlY3VyaXR5Q2hlY2soJGVtYWlsKTsKCQkJLy8g'));
	@fwrite($fp, base64_decode('VE9ETzogc2hvdWxkIHdlIGFsc28gbG9nIHdobyBoYXMgaW52aXRlZD8KCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJGVtYWlsKSEiLCAiUkEgJyRlbWFpbCcgaGFzIGJlZW4gaW52aXRlZCIpOwoKCQkJJHRpbWVzdGFtcCA9IHRpbWUoKTsKCQkJJGFjdGl2'));
	@fwrite($fp, base64_decode('YXRlX3VybCA9IE9JRHBsdXM6OnN5c3RlbV91cmwoKSAuICc/Z290bz0nLnVybGVuY29kZSgnb2lkcGx1czphY3RpdmF0ZV9yYSQnLiRlbWFpbC4nJCcuJHRpbWVzdGFtcC4nJCcuT0lEcGx1czo6YXV0aFV0aWxzKCk6Om1ha2VBdXRoS2V5KCdhY3RpdmF0ZV9yYTsn'));
	@fwrite($fp, base64_decode('LiRlbWFpbC4nOycuJHRpbWVzdGFtcCkpOwoKCQkJJG1lc3NhZ2UgPSAkdGhpcy0+Z2V0SW52aXRhdGlvblRleHQoJGVtYWlsKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tBQ1RJVkFURV9VUkx9fScsICRhY3RpdmF0ZV91cmwsICRtZXNzYWdlKTsKCgkJ'));
	@fwrite($fp, base64_decode('CW15X21haWwoJGVtYWlsLCBPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKS4nIC0gSW52aXRhdGlvbicsICRtZXNzYWdlLCBPSURwbHVzOjpjb25maWcoKS0+Z2xvYmFsQ0MoKSk7CgoJCQllY2hvIGpzb25fZW5jb2RlKGFycmF5KCJzdGF0dXMiID0+IDAp'));
	@fwrite($fp, base64_decode('KTsKCQl9CgoJCWlmIChpc3NldCgkX1BPU1RbImFjdGlvbiJdKSAmJiAoJF9QT1NUWyJhY3Rpb24iXSA9PSAiYWN0aXZhdGVfcmEiKSkgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJCQkkcGFzc3dvcmQxID0gJF9QT1NUWydwYXNzd29yZDEnXTsKCQkJJHBhc3N3b3Jk'));
	@fwrite($fp, base64_decode('MiA9ICRfUE9TVFsncGFzc3dvcmQyJ107CgkJCSRlbWFpbCA9ICRfUE9TVFsnZW1haWwnXTsKCQkJJGF1dGggPSAkX1BPU1RbJ2F1dGgnXTsKCQkJJHRpbWVzdGFtcCA9ICRfUE9TVFsndGltZXN0YW1wJ107CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjp2'));
	@fwrite($fp, base64_decode('YWxpZGF0ZUF1dGhLZXkoJ2FjdGl2YXRlX3JhOycuJGVtYWlsLic7Jy4kdGltZXN0YW1wLCAkYXV0aCkpIHsKCQkJCWRpZShqc29uX2VuY29kZShhcnJheSgiZXJyb3IiID0+ICdJbnZhbGlkIGF1dGgga2V5JykpKTsKCQkJfQoKCQkJaWYgKChPSURwbHVzOjpjb25m'));
	@fwrite($fp, base64_decode('aWcoKS0+Z2V0VmFsdWUoJ21heF9yYV9pbnZpdGVfdGltZScpID4gMCkgJiYgKHRpbWUoKS0kdGltZXN0YW1wID4gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdtYXhfcmFfaW52aXRlX3RpbWUnKSkpIHsKCQkJCWRpZShqc29uX2VuY29kZShhcnJheSgiZXJy'));
	@fwrite($fp, base64_decode('b3IiID0+ICdJbnZpdGF0aW9uIGV4cGlyZWQhJykpKTsKCQkJfQoKCQkJaWYgKCRwYXNzd29yZDEgIT09ICRwYXNzd29yZDIpIHsKCQkJCWRpZShqc29uX2VuY29kZShhcnJheSgiZXJyb3IiID0+ICdQYXNzd29yZHMgYXJlIG5vdCBlcXVhbCcpKSk7CgkJCX0KCgkJ'));
	@fwrite($fp, base64_decode('CWlmIChzdHJsZW4oJHBhc3N3b3JkMSkgPCBPSURwbHVzOjpjb25maWcoKS0+bWluUmFQYXNzd29yZExlbmd0aCgpKSB7CgkJCQlkaWUoanNvbl9lbmNvZGUoYXJyYXkoImVycm9yIiA9PiAnUGFzc3dvcmQgaXMgdG9vIHNob3J0LiBNaW5pbXVtIHBhc3N3b3JkIGxl'));
	@fwrite($fp, base64_decode('bmd0aDogJy5PSURwbHVzOjpjb25maWcoKS0+bWluUmFQYXNzd29yZExlbmd0aCgpKSkpOwoJCQl9CgoJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkZW1haWwpISIsICJSQSAnJGVtYWlsJyBoYXMgYmVlbiByZWdpc3RlcmVkIGR1ZSB0byBpbnZpdGF0aW9u'));
	@fwrite($fp, base64_decode('Iik7CgoJCQkkcmEgPSBuZXcgT0lEcGx1c1JBKCRlbWFpbCk7CgkJCSRyYS0+cmVnaXN0ZXJfcmEoJHBhc3N3b3JkMSk7CgoJCQllY2hvIGpzb25fZW5jb2RlKGFycmF5KCJzdGF0dXMiID0+IDApKTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGluaXQoJGh0bWw9'));
	@fwrite($fp, base64_decode('dHJ1ZSkgewoJCU9JRHBsdXM6OmNvbmZpZygpLT5wcmVwYXJlQ29uZmlnS2V5KCdtYXhfcmFfaW52aXRlX3RpbWUnLCAnTWF4IFJBIGludml0ZSB0aW1lIGluIHNlY29uZHMgKDAgPSBpbmZpbml0ZSknLCAnMCcsIDAsIDEpOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5w'));
	@fwrite($fp, base64_decode('cmVwYXJlQ29uZmlnS2V5KCdyYV9pbnZpdGF0aW9uX2VuYWJsZWQnLCAnTWF5IFJBcyBiZSBpbnZpdGVkPycsICcxJywgMCwgMSk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNmZ1NldFZhbHVlKCRuYW1lLCAkdmFsdWUpIHsKCQlpZiAoJG5hbWUgPT0gJ21heF9yYV9p'));
	@fwrite($fp, base64_decode('bnZpdGVfdGltZScpIHsKCQkJaWYgKCFpc19udW1lcmljKCR2YWx1ZSkgfHwgKCR2YWx1ZSA8IDApKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgYSB2YWxpZCB2YWx1ZS4iKTsKCQkJfQoJCX0KCQllbHNlIGlmICgkbmFtZSA9PSAncmFf'));
	@fwrite($fp, base64_decode('aW52aXRhdGlvbl9lbmFibGVkJykgewoJCQlpZiAoKCR2YWx1ZSAhPSAwKSAmJiAoJHZhbHVlICE9IDEpKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgYSB2YWxpZCB2YWx1ZTogMCBvciAxLiIpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBndWkoJGlkLCAmJG91dCwgJiRoYW5kbGVkKSB7CgkJaWYgKGV4cGxvZGUoJyQnLCRpZClbMF0gPT0gJ29pZHBsdXM6aW52aXRlX3JhJykgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJCQkkZW1haWwgPSBleHBsb2RlKCckJywkaWQpWzFdOwoJCQkkb3Jp'));
	@fwrite($fp, base64_decode('Z2luID0gZXhwbG9kZSgnJCcsJGlkKVsyXTsKCgkJCSRvdXRbJ3RpdGxlJ10gPSAnSW52aXRlIGEgUmVnaXN0cmF0aW9uIEF1dGhvcml0eSc7CgoJCQlpZiAoIU9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgncmFfaW52aXRhdGlvbl9lbmFibGVkJykpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gPSAnPHA+SW52aXRhdGlvbnMgYXJlIGRpc2FibGVkIGJ5IHRoZSBhZG1pbmlzdHJhdG9yLjwvcD4nOwoJCQkJcmV0dXJuICRvdXQ7CgkJCX0KCgkJCSRvdXRbJ2ljb24n'));
	@fwrite($fp, base64_decode('XSA9ICdwbHVnaW5zLycuYmFzZW5hbWUoZGlybmFtZShfX0RJUl9fKSkuJy8nLmJhc2VuYW1lKF9fRElSX18pLicvaW52aXRlX3JhX2JpZy5wbmcnOwoKCQkJdHJ5IHsKCQkJCSR0aGlzLT5pbnZpdGVTZWN1cml0eUNoZWNrKCRlbWFpbCk7CgkJCQkkY29udCA9ICR0'));
	@fwrite($fp, base64_decode('aGlzLT5nZXRJbnZpdGF0aW9uVGV4dCgkZW1haWwpOwoKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+WW91IGhhdmUgY2hvc2VuIHRvIGludml0ZSA8Yj4nLiRlbWFpbC4nPC9iPiBhcyBhbiBSZWdpc3RyYXRpb24gQXV0aG9yaXR5LiBJZiB5b3UgY2xpY2sgIlNlbmQi'));
	@fwrite($fp, base64_decode('LCB0aGUgZm9sbG93aW5nIGVtYWlsIHdpbGwgYmUgc2VudCB0byAnLiRlbWFpbC4nOjwvcD48cD48aT4nLm5sMmJyKGh0bWxlbnRpdGllcygkY29udCkpLic8L2k+PC9wPgoJCQkJICA8Zm9ybSBpZD0iaW52aXRlRm9ybSIgb25zdWJtaXQ9InJldHVybiBpbnZpdGVG'));
	@fwrite($fp, base64_decode('b3JtT25TdWJtaXQoKTsiPgoJCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJlbWFpbCIgdmFsdWU9IicuaHRtbGVudGl0aWVzKCRlbWFpbCkuJyIvPgoJCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJvcmlnaW4iIHZhbHVlPSInLmh0bWxlbnRp'));
	@fwrite($fp, base64_decode('dGllcygkb3JpZ2luKS4nIi8+Jy4KCQkJCSAoUkVDQVBUQ0hBX0VOQUJMRUQgPyAnPHNjcmlwdD4gZ3JlY2FwdGNoYS5yZW5kZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImctcmVjYXB0Y2hhIiksIHsgInNpdGVrZXkiIDogIicuUkVDQVBUQ0hBX1BVQkxJQy4n'));
	@fwrite($fp, base64_decode('IiB9KTsgPC9zY3JpcHQ+Jy4KCQkJCSAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD0iZy1yZWNhcHRjaGEiIGNsYXNzPSJnLXJlY2FwdGNoYSIgZGF0YS1zaXRla2V5PSInLlJFQ0FQVENIQV9QVUJMSUMuJyI+PC9kaXY+JyA6ICcnKS4KCQkJCScgPGJyPgoJCQkJ'));
	@fwrite($fp, base64_decode('ICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTZW5kIGludml0YXRpb24iPgoJCQkJICA8L2Zvcm0+JzsKCgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoKCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0'));
	@fwrite($fp, base64_decode('J10gPSAiRXJyb3I6ICIuJGUtPmdldE1lc3NhZ2UoKTsKCgkJCX0KCQl9IGVsc2UgaWYgKGV4cGxvZGUoJyQnLCRpZClbMF0gPT0gJ29pZHBsdXM6YWN0aXZhdGVfcmEnKSB7CgkJCSRoYW5kbGVkID0gdHJ1ZTsKCgkJCSRvdXRbJ3RpdGxlJ10gPSAnUmVnaXN0ZXIg'));
	@fwrite($fp, base64_decode('YXMgUmVnaXN0cmF0aW9uIEF1dGhvcml0eSc7CgoJCQlpZiAoIU9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgncmFfaW52aXRhdGlvbl9lbmFibGVkJykpIHsKCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10g'));
	@fwrite($fp, base64_decode('PSAnPHA+SW52aXRhdGlvbnMgYXJlIGRpc2FibGVkIGJ5IHRoZSBhZG1pbmlzdHJhdG9yLjwvcD4nOwoJCQkJcmV0dXJuICRvdXQ7CgkJCX0KCgkJCSRlbWFpbCA9IGV4cGxvZGUoJyQnLCRpZClbMV07CgkJCSR0aW1lc3RhbXAgPSBleHBsb2RlKCckJywkaWQpWzJd'));
	@fwrite($fp, base64_decode('OwoJCQkkYXV0aCA9IGV4cGxvZGUoJyQnLCRpZClbM107CgoJCQkkb3V0WydpY29uJ10gPSAncGx1Z2lucy8nLmJhc2VuYW1lKGRpcm5hbWUoX19ESVJfXykpLicvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2FjdGl2YXRlX3JhX2JpZy5wbmcnOwoKCQkJJHJlcyA9IE9J'));
	@fwrite($fp, base64_decode('RHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSBlbWFpbCA9ID8iLCBhcnJheSgkZW1haWwpKTsKCQkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID4gMCkgewoJCQkJJG91'));
	@fwrite($fp, base64_decode('dFsndGV4dCddID0gJ1RoaXMgUkEgaXMgYWxyZWFkeSByZWdpc3RlcmVkIGFuZCBkb2VzIG5vdCBuZWVkIHRvIGJlIGludml0ZWQuJzsKCQkJfSBlbHNlIHsKCQkJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCk6OnZhbGlkYXRlQXV0aEtleSgnYWN0aXZhdGVfcmE7'));
	@fwrite($fp, base64_decode('Jy4kZW1haWwuJzsnLiR0aW1lc3RhbXAsICRhdXRoKSkgewoJCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkJJG91dFsndGV4dCddID0gJ0ludmFsaWQgYXV0aG9yaXphdGlvbi4gSXMgdGhlIFVSTCBPSz8nOwoJCQkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJCQkvLyBUT0RPOiBsaWtlIGluIHRoZSBGcmVlT0lEIHBsdWdpbiwgd2UgY291bGQgYXNrIGhlcmUgYXQgbGVhc3QgZm9yIGEgbmFtZSBmb3IgdGhlIFJBCgkJCQkJJG91dFsndGV4dCddID0gJzxwPkUtTWFpbC1BZHJlc3M6IDxiPicuJGVtYWlsLic8L2I+PC9w'));
	@fwrite($fp, base64_decode('PgoKCQkJCQkgIDxmb3JtIGlkPSJhY3RpdmF0ZVJhRm9ybSIgb25zdWJtaXQ9InJldHVybiBhY3RpdmF0ZVJhRm9ybU9uU3VibWl0KCk7Ij4KCQkJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9ImVtYWlsIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJGVtYWls'));
	@fwrite($fp, base64_decode('KS4nIi8+CgkJCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJ0aW1lc3RhbXAiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkdGltZXN0YW1wKS4nIi8+CgkJCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJhdXRoIiB2YWx1ZT0iJy5odG1sZW50aXRp'));
	@fwrite($fp, base64_decode('ZXMoJGF1dGgpLiciLz4KCQkJCQkgICAgPGRpdj48bGFiZWwgY2xhc3M9InBhZGRpbmdfbGFiZWwiPk5ldyBwYXNzd29yZDo8L2xhYmVsPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkMSIgdmFsdWU9IiIvPjwvZGl2PgoJCQkJCSAgICA8ZGl2Pjxs'));
	@fwrite($fp, base64_decode('YWJlbCBjbGFzcz0icGFkZGluZ19sYWJlbCI+UmVwZWF0OjwvbGFiZWw+PGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icGFzc3dvcmQyIiB2YWx1ZT0iIi8+PC9kaXY+CgkJCQkJICAgIDxicj48aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iUmVnaXN0ZXIiPgoJ'));
	@fwrite($fp, base64_decode('CQkJCSAgPC9mb3JtPic7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyZWUoJiRqc29uLCAkcmFfZW1haWw9bnVsbCwgJG5vbmpzPWZhbHNlLCAkcmVxX2dvdG89JycpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcHJpdmF0ZSBmdW5jdGlvbiBp'));
	@fwrite($fp, base64_decode('bnZpdGVTZWN1cml0eUNoZWNrKCRlbWFpbCkgewoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSA/IiwgYXJyYXkoJGVtYWlsKSk7CgkJaWYgKE9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID4gMCkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJUaGlzIFJBIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBhbmQgZG9lcyBub3QgbmVlZCB0byBiZSBpbnZpdGVkLiIpOwoJCX0KCgkJaWYgKCFPSURwbHVzOjphdXRoVXRp'));
	@fwrite($fp, base64_decode('bHMoKTo6aXNBZG1pbkxvZ2dlZEluKCkpIHsKCQkJLy8gQ2hlY2sgaWYgdGhlIFJBIG1heSBpbnZpdGUgdGhlIHVzZXIgKGkuZS4gdGhlIHRoZXkgYXJlIHRoZSBwYXJlbnQgb2YgYW4gT0lEIG9mIHRoYXQgcGVyc29uKQoJCQkkb2sgPSBmYWxzZTsKCQkJJHJlcyA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcGFyZW50IGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgcmFfZW1haWwgPSA/IiwgYXJyYXkoJGVtYWlsKSk7CgkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0'));
	@fwrite($fp, base64_decode('Y2hfYXJyYXkoJHJlcykpIHsKCQkJCSRvYmpQYXJlbnQgPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkcm93WydwYXJlbnQnXSk7CgkJCQlpZiAoaXNfbnVsbCgkb2JqUGFyZW50KSkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVHlwZSBvZiAiLiRyb3dbJ3BhcmVudCddLiIg'));
	@fwrite($fp, base64_decode('dW5rbm93biIpOwoJCQkJaWYgKCRvYmpQYXJlbnQtPnVzZXJIYXNXcml0ZVJpZ2h0cygpKSB7CgkJCQkJJG9rID0gdHJ1ZTsKCQkJCX0KCQkJfQoJCQlpZiAoISRvaykgewoJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbignWW91IG1heSBub3QgaW52aXRlIHRoaXMgUkEu'));
	@fwrite($fp, base64_decode('IE1heWJlIHlvdSBuZWVkIHRvIGxvZyBpbiBhZ2Fpbi4nKTsKCQkJfQoJCX0KCX0KCglwcml2YXRlIGZ1bmN0aW9uIGdldEludml0YXRpb25UZXh0KCRlbWFpbCkgewoJCSRsaXN0X29mX29pZHMgPSBhcnJheSgpOwoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVy'));
	@fwrite($fp, base64_decode('eSgic2VsZWN0IGlkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgcmFfZW1haWwgPSA/IiwgYXJyYXkoJGVtYWlsKSk7CgkJd2hpbGUgKCRyb3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9hcnJheSgkcmVzKSkgewoJCQkkbGlz'));
	@fwrite($fp, base64_decode('dF9vZl9vaWRzW10gPSAkcm93WydpZCddOwoJCX0KCgkJJG1lc3NhZ2UgPSBmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fIC4gJy9pbnZpdGVfbXNnLnRwbCcpOwoKCQkvLyBSZXNvbHZlIHN0dWZmCgkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tTWVNURU1fVVJM'));
	@fwrite($fp, base64_decode('fX0nLCBPSURwbHVzOjpzeXN0ZW1fdXJsKCksICRtZXNzYWdlKTsKCQkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e09JRF9MSVNUfX0nLCBpbXBsb2RlKCJcbiIsICRsaXN0X29mX29pZHMpLCAkbWVzc2FnZSk7CgkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tB'));
	@fwrite($fp, base64_decode('RE1JTl9FTUFJTH19JywgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhZG1pbl9lbWFpbCcpLCAkbWVzc2FnZSk7CgkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tQQVJUWX19JywgT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpID8g'));
	@fwrite($fp, base64_decode('J3RoZSBzeXN0ZW0gYWRtaW5pc3RyYXRvcicgOiAnYSBzdXBlcmlvciBSZWdpc3RyYXRpb24gQXV0aG9yaXR5JywgJG1lc3NhZ2UpOwoKCQkvLyB7e0FDVElWQVRFX1VSTH19IHdpbGwgYmUgcmVzb2x2ZWQgaW4gYWpheC5waHAKCgkJcmV0dXJuICRtZXNzYWdlOwoJ'));
	@fwrite($fp, base64_decode('fQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlX3NlYXJjaCgkcmVxdWVzdCkgewoJCXJldHVybiBmYWxzZTsKCX0KfQoKT0lEcGx1czo6cmVnaXN0ZXJQYWdlUGx1Z2luKG5ldyBPSURwbHVzUGFnZVJhSW52aXRlKCkpOwo='));
	@fclose($fp);
}
if (!is_file('plugins/raPages/092_invite/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/raPages/092_invite/plugin.inc.php');
	writefile_3();
	if (!is_file('plugins/raPages/092_invite/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/raPages/092_invite/plugin.inc.php');
	} else if (sha1_file('plugins/raPages/092_invite/plugin.inc.php') != '3fdf0642822f6f89fb69cf9ef2278ae240364753') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/092_invite/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/092_invite/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/raPages/092_invite/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/raPages/092_invite/plugin.inc.php') !== '3fdf0642822f6f89fb69cf9ef2278ae240364753') {
		if (@sha1_file('plugins/raPages/092_invite/plugin.inc.php') !== 'cfe17bb0dfb37e88e4be52010e97800d10417956') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/092_invite/plugin.inc.php');
			$tmp = pathinfo('plugins/raPages/092_invite/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/092_invite/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/092_invite/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/raPages/092_invite/plugin.inc.php') !== '3fdf0642822f6f89fb69cf9ef2278ae240364753') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/092_invite/plugin.inc.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 213\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 213') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

