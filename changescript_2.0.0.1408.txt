<?php /* <ViaThinkSoftSignature>
QuQsIimL0qTPFS4088SoiQdfOo3C7YQdgRduxW3XVOK1P/DndekeU9NmMtzoHl5aT
SwfgYqeHoCe/XaKtXhUzIjU17S+/MXnQyQwxgFIy8J08IwYEZdVPIKM9kwdBwuJWQ
pPN2NjVKWm+9SPi7/V52S5I8mG1WOVtlPJXCE0lWVL/8DtOk/whY/I4W0O3IKOdp9
LUjCJK7RTNTUY7bqOLOhXw12H3zw6yWtPfAb/Aqyy6p66D9ZwDxATP3XAAkYiN4w1
/5jK+LjGMmCrkKpUz7jZov323LTBHC8Oe5cVrV9fRGD5RJglK2/6OtUga6NZ7OdrG
RBT7bQaI83P149ub7x3xU2Ax0zSbtRL71Pxth95Gm7rXSnqONZPnDZA2qe/GPOrKQ
2Mva/x3muBGoxYrh5MxhuM1gVhmJoDq30eSGGAVj2GjqWr6r7yKHmcPTNrJWSACTE
UQPmSD8Md1kD/JNodFE9hzf0LIlS5kBRccHWvzLE6PrBeLpPYgBgWSCwLnppUmptI
mJsC8WoZNMtozg/dxpSd1LY4VX/pmgXmoIDoeYj8ObWyfcmxYlKCXjaG32P4Ndkyz
vrGiT0NnJiUIM+kq+R1kXX7UCBAbUmQWcbeyMbShqnnV8noHgm8oC3YczDNnX894y
P/vJ3ZmMxOV2SP1JkhrFK3HDBiYAWtfaHeG1v84wioq+TSg7Sx9jmtpQFZ4pUjVsW
TzJBy/wCc+9VXXpHtNJEImoZD9A036I1NHfTVPQh8mwxcM+hINE9Ny+27l39ZAMYU
HYUTi7gsANOtKP94Uc5r+UVbK8xvXj7K4c9WZtDe4JBNx8dBf+mF/gD67muK3KE8M
NeMzcWF4rTNmAeLIV0OB3bZ1zH+WRR5xio41+26Iz+TmmrBbDKGd1tv/wPtHvLcTf
k8bY7/ditgZneoTXE4FGVBDP3ovnTRKg5+wWLq76pBWFXs/vU35CN1l2SGYqbrMCX
wA3ELLuCZ2usv0DEmuYE3BUevY4gvQo3QTQQr0iK2ojsEjKuW8Ge1POc8GGSwosBu
dOKv6u/t6111IcmZLxXUfpNY/vbEqIXIPgQYUQ9rnKxB94Uz5WnIRXQijyRbJzyoN
NaTC4hfVrp1Pt7xxAjJVdE400pRjonuLo1cdw9zjrwC89YEgp6UQy8UUz8n0S58Kx
JDBVjMUWyKE767dw68vjOIXv7j+cbqRtzS8CIxNEVrwXve873IMzq6ChJFoAsKrUV
uyhr7MK7eUV4x70tVLqcRojxw9qY2cUrrJ5BIXvpevm7dj8jnpwr/7jbiwzADUsJ+
GGhxUA7X6vpBe0pwF4xWoLrbxpOlq1ZxmoaWGx2Jpty6hFIanbj99+EVgyAV/zAT9
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1407') {
	err('This update can only be applied to OIDplus version 2.0.0.1407!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/oidplus_base.js
function writefile_1() {
	@$fp = fopen('includes/oidplus_base.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgLSAyMDIyIERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8qanNoaW50IGVzdmVyc2lvbjogNiAqLwoKLy8gJCgnI2h0bWwnKS5qc3RyZWUoKTsKCnZhciBiczVVdGlscyA9IHVuZGVmaW5lZDsKCnZhciBjdXJyZW50X25vZGUgPSAiIjsKdmFyIHBvcHN0YXRl'));
	@fwrite($fp, base64_decode('X3J1bm5pbmcgPSBmYWxzZTsKLy8gREVGQVVMVF9MQU5HVUFHRSB3aWxsIGJlIHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKLy8gbGFuZ3VhZ2VfbWVzc2FnZXMgd2lsbCBiZSBzZXQgYnkgb2lkcGx1cy5taW4uanMucGhwCi8vIGxhbmd1YWdlX3RibHByZWZpeCB3'));
	@fwrite($fp, base64_decode('aWxsIGJlIHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKLy8gY3NyZl90b2tlbiB3aWxsIGJlIHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKLy8gc2FtZXNpdGVfcG9saWN5IHdpbGwgYmV0IHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKCnZhciBwYWdlQ2hhbmdl'));
	@fwrite($fp, base64_decode('Q2FsbGJhY2tzID0gW107CnZhciBwYWdlQ2hhbmdlUmVxdWVzdENhbGxiYWNrcyA9IFtdOwoKdmFyIHBhZ2VMb2FkZWRDYWxsYmFja3M9IHsKCSJhbnlQYWdlTG9hZCI6ICAgICAgICAgW10sIC8vIHRoaXMgaXMgcHJvY2Vzc2VkIGluc2lkZSBib3RoIEFKQVggc3Vj'));
	@fwrite($fp, base64_decode('Y2Vzc2Z1bCByZWxvYWQgYW5kIGRvY3VtZW50LnJlYWR5IChhdCB0aGUgdmVyeSBlbmQpCgkiYWpheFBhZ2VMb2FkIjogICAgICAgIFtdLCAvLyBpbnNpZGUgQUpBWCBzdWNjZXNzZnVsIHJlbG9hZCBvbmx5CgkiZG9jdW1lbnRSZWFkeUJlZm9yZSI6IFtdLCAvLyBp'));
	@fwrite($fp, base64_decode('bnNpZGUgZG9jdW1lbnQucmVhZHksIGluIHRoZSB2ZXJ5IGJlZ2lubmluZyBvZiB0aGUgZnVuY3Rpb24KCSJkb2N1bWVudFJlYWR5QWZ0ZXIiOiAgW10gIC8vIGluc2lkZSBkb2N1bWVudC5yZWFkeSwgaW4gdGhlIHZlcnkgZW5kIG9mIHRoZSBmdW5jdGlvbgp9OwoK'));
	@fwrite($fp, base64_decode('dmFyIG9pZHBsdXNfbWVudV93aWR0aCA9IDQ1MDsgLy8gSW4gcGl4ZWxzLiBZb3UgY2FuIGNoYW5nZSB0aGlzIGF0IHJ1bnRpbWUgYmVjYXVzZSBvZiB0aGUgZ2xheW91dFdvcmthcm91bmRCKCkgd29ya2Fyb3VuZAoKZnVuY3Rpb24gZXhlY3V0ZUFsbENhbGxiYWNr'));
	@fwrite($fp, base64_decode('cyhmdW5jdGlvbnNBcnJheSkgewoJZnVuY3Rpb25zQXJyYXkuZm9yRWFjaCgKCQlmdW5jdGlvbihmZWwpIHsKCQkJaWYgKHR5cGVvZiBmZWwgPT0gJ2Z1bmN0aW9uJykgZmVsKCk7CgkJfQoJKTsKfQoKZnVuY3Rpb24gZ2V0T2lkUGx1c1N5c3RlbVRpdGxlKCkgewoJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIGdldE1ldGEoJ09JRHBsdXMtU3lzdGVtVGl0bGUnKTsgLy8gZG8gbm90IHRyYW5zbGF0ZQp9CgpmdW5jdGlvbiBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoc3lzdGVtdGl0bGUsIHBhZ2V0aXRsZSkgewoJLy8gUGxlYXNlIGFsc28gY2hh'));
	@fwrite($fp, base64_decode('bmdlIHRoZSBmdW5jdGlvbiBpbiBpbmRleC5waHAKCWlmIChzeXN0ZW10aXRsZSA9PSBwYWdldGl0bGUpIHsKCQlyZXR1cm4gc3lzdGVtdGl0bGU7Cgl9IGVsc2UgewoJCXJldHVybiBwYWdldGl0bGUgKyAnIC0gJyArIHN5c3RlbXRpdGxlOwoJfQp9CgpmdW5jdGlv'));
	@fwrite($fp, base64_decode('biBnZXRTeXN0ZW1VcmwocmVsYXRpdmUpIHsKCXJlbGF0aXZlID0gKHR5cGVvZiByZWxhdGl2ZSA9PT0gJ3VuZGVmaW5lZCcpID8gZmFsc2UgOiByZWxhdGl2ZTsgLy8gZG8gbm90IHRyYW5zbGF0ZQoJdmFyIHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhy'));
	@fwrite($fp, base64_decode('ZWYpOwoJdmFyIHJlcyA9IHJlbGF0aXZlID8gdXJsLnBhdGhuYW1lIDogdXJsLmhyZWYuc3Vic3RyKDAsIHVybC5ocmVmLmxlbmd0aC11cmwuc2VhcmNoLmxlbmd0aCk7CglpZiAocmVzLmVuZHNXaXRoKCJpbmRleC5waHAiKSkgcmVzID0gcmVzLnN1YnN0cmluZygw'));
	@fwrite($fp, base64_decode('LCByZXMubGFzdEluZGV4T2YoJy8nKSkgKyAiLyI7CglyZXR1cm4gcmVzOwp9CgpmdW5jdGlvbiBnZXRUcmVlTG9hZFVSTCgpIHsKCXZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKCXZhciBnb3RvID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQo'));
	@fwrite($fp, base64_decode('ImdvdG8iKTsKCXJldHVybiAoZ290byAhPSBudWxsKSA/ICJhamF4LnBocD9jc3JmX3Rva2VuPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNzcmZfdG9rZW4pKyImYWN0aW9uPXRyZWVfbG9hZCZhbnRpY2FjaGU9IitEYXRlLm5vdygpKyImZ290bz0iK2VuY29kZVVSSUNv'));
	@fwrite($fp, base64_decode('bXBvbmVudChnb3RvKQoJICAgICAgICAgICAgICAgICAgICAgIDogImFqYXgucGhwP2NzcmZfdG9rZW49IitlbmNvZGVVUklDb21wb25lbnQoY3NyZl90b2tlbikrIiZhY3Rpb249dHJlZV9sb2FkJmFudGljYWNoZT0iK0RhdGUubm93KCk7Cn0KCmZ1bmN0aW9uIHJl'));
	@fwrite($fp, base64_decode('bG9hZENvbnRlbnQoKSB7CgkvLyB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50X25vZGUpOwoJaWYgKG9wZW5PaWRJblBhbmVsKGN1cnJlbnRfbm9kZSwgZmFsc2UpKSB7CgkJaWYoISQoJyNvaWR0cmVlJyku'));
	@fwrite($fp, base64_decode('anN0cmVlKHRydWUpLmdldF9ub2RlKGN1cnJlbnRfbm9kZSkpIHsKCQkJLy8gQXZvaWQgdGhhdCBhIGxhbmd1YWdlIGNoYW5nZSBhdCAib2lkcGx1czpzcnZyZWdfc3RhdHVzIiB3b24ndCByZWRpcmVjdCB0aGUgdXNlciB0byAib2lkcGx1czpzcnZfcmVnaXN0cmF0'));
	@fwrite($fp, base64_decode('aW9uIiBiZWNhdXNlIG9mIHRoZSByZXNlbGVjdGlvbiBkdXJpbmcgcmVmcmVzaAoJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgiZGVzZWxlY3RfYWxsIik7CgkJfQoKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwoJfQp9CgpmdW5jdGlvbiB4X3JlYyh4'));
	@fwrite($fp, base64_decode('X2RhdGEsIGkpIHsKCSQoJyNvaWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUnLCB4X2RhdGFbaV0sIGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQlpZiAoaSsxIDwgeF9kYXRhLmxlbmd0aCkgewoJCQl4X3JlYyh4X2RhdGEsIGkrMSk7CgkJfSBlbHNlIHsKCQkJcG9wc3Rh'));
	@fwrite($fp, base64_decode('dGVfcnVubmluZyA9IHRydWU7IC8vIGRvbid0IGNhbGwgb3Blbk9pZEluUGFuZWwgYWdhaW4KCQkJdHJ5IHsKCQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIHhfZGF0YVtpXSk7CgkJCX0gY2F0Y2ggKGVycikgewoJCQkJcG9wc3RhdGVfcnVu'));
	@fwrite($fp, base64_decode('bmluZyA9IGZhbHNlOwoJCQl9IGZpbmFsbHkgewoJCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIHBlcmZvcm1DbG9zZVF1ZXJ5Q0IoKSB7Cglmb3IgKHZhciBpPTA7IGk8cGFnZUNoYW5nZVJlcXVlc3RDYWxsYmFj'));
	@fwrite($fp, base64_decode('a3MubGVuZ3RoOyBpKyspIHsKCQlpZiAoIXBhZ2VDaGFuZ2VSZXF1ZXN0Q2FsbGJhY2tzW2ldWzBdKHBhZ2VDaGFuZ2VSZXF1ZXN0Q2FsbGJhY2tzW2ldWzFdKSkgcmV0dXJuIGZhbHNlOwoJfQoJcGFnZUNoYW5nZVJlcXVlc3RDYWxsYmFja3MgPSBbXTsKCXJldHVy'));
	@fwrite($fp, base64_decode('biB0cnVlOyAvLyBtYXkgY2xvc2UKfQoKZnVuY3Rpb24gcGVyZm9ybUNsb3NlQ0IoKSB7Cglmb3IgKHZhciBpPTA7IGk8cGFnZUNoYW5nZUNhbGxiYWNrcy5sZW5ndGg7IGkrKykgewoJCXBhZ2VDaGFuZ2VDYWxsYmFja3NbaV1bMF0ocGFnZUNoYW5nZUNhbGxiYWNr'));
	@fwrite($fp, base64_decode('c1tpXVsxXSk7Cgl9CglwYWdlQ2hhbmdlQ2FsbGJhY2tzID0gW107Cn0KCmZ1bmN0aW9uIG9wZW5PaWRJblBhbmVsKGlkLCByZXNlbGVjdC8qPWZhbHNlKi8sIGFuY2hvci8qPScnKi8sIGZvcmNlLyo9ZmFsc2UqLykgewoJcmVzZWxlY3QgPSAodHlwZW9mIHJlc2Vs'));
	@fwrite($fp, base64_decode('ZWN0ID09PSAndW5kZWZpbmVkJykgPyBmYWxzZSA6IHJlc2VsZWN0OyAvLyBkbyBub3QgdHJhbnNsYXRlCglhbmNob3IgPSAodHlwZW9mIGFuY2hvciA9PT0gJ3VuZGVmaW5lZCcpID8gJycgOiBhbmNob3I7IC8vIGRvIG5vdCB0cmFuc2xhdGUKCWZvcmNlID0gKHR5'));
	@fwrite($fp, base64_decode('cGVvZiBmb3JjZSA9PT0gJ3VuZGVmaW5lZCcpID8gZmFsc2UgOiBmb3JjZTsgLy8gZG8gbm90IHRyYW5zbGF0ZQoKCXZhciBtYXlDbG9zZSA9IHBlcmZvcm1DbG9zZVF1ZXJ5Q0IoKTsKCWlmICghZm9yY2UgJiYgIW1heUNsb3NlKSByZXR1cm4gZmFsc2U7CgoJcGVy'));
	@fwrite($fp, base64_decode('Zm9ybUNsb3NlQ0IoKTsKCgkkLnhoclBvb2wuYWJvcnRBbGwoKTsKCglpZiAocmVzZWxlY3QpIHsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJyk7CgoJCXBvcHN0YXRlX3J1bm5pbmcgPSB0cnVlOyAvLyBkb24ndCBjYWxsIG9wZW5PaWRJblBh'));
	@fwrite($fp, base64_decode('bmVsIGR1cmluZyB0cmVlIHNlbGVjdGlvbgoJCXRyeSB7CgkJCS8vIElmIHRoZSBub2RlIGlzIGFscmVhZHkgbG9hZGVkIGluIHRoZSB0cmVlLCBzZWxlY3QgaXQKCQkJaWYgKCEkKCcjb2lkdHJlZScpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBpZCkpIHsKCQkJCS8v'));
	@fwrite($fp, base64_decode('IElmIHRoZSBub2RlIGlzIG5vdCBsb2FkZWQsIHRoZW4gd2UgdHJ5IHRvIHNlYXJjaCBpdC4KCQkJCS8vIElmIGl0IGNhbiBiZSBmb3VuZCwgdGhlbiBvcGVuIGFsbCBwYXJlbnQgbm9kZXMgYW5kIHNlbGVjdCB0aGUgbm9kZQoJCQkJJC5hamF4KHsKCQkJCQl1cmw6'));
	@fwrite($fp, base64_decode('ImFqYXgucGhwIiwKCQkJCQltZXRob2Q6IlBPU1QiLAoJCQkJCWJlZm9yZVNlbmQ6IGZ1bmN0aW9uKGpxWEhSLCBzZXR0aW5ncykgewoJCQkJCQkvLyQueGhyUG9vbC5hYm9ydEFsbCgpOwoJCQkJCQkkLnhoclBvb2wuYWRkKGpxWEhSKTsKCQkJCQl9LAoJCQkJCWNv'));
	@fwrite($fp, base64_decode('bXBsZXRlOiBmdW5jdGlvbihqcVhIUiwgdGV4dCkgewoJCQkJCQkkLnhoclBvb2wucmVtb3ZlKGpxWEhSKTsKCQkJCQl9LAoJCQkJCWRhdGE6ewoJCQkJCQljc3JmX3Rva2VuOmNzcmZfdG9rZW4sCgkJCQkJCWFjdGlvbjoidHJlZV9zZWFyY2giLAoJCQkJCQlzZWFy'));
	@fwrite($fp, base64_decode('Y2g6aWQsCgkJCQkJCWFudGljYWNoZTpEYXRlLm5vdygpCgkJCQkJfSwKCQkJCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJCQkJaWYgKGVycm9yVGhyb3duID09ICJhYm9ydCIpIHJldHVybjsKCQkJCQkJY29uc29s'));
	@fwrite($fp, base64_decode('ZS5lcnJvcigiVHJlZSBzZWFyY2ggZmFpbGVkIik7CgkJCQkJCWNvbnNvbGUuZXJyb3IoX0woIkVycm9yOiAlMSIsZXJyb3JUaHJvd24pKTsKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQkJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkJCQljb25zb2xlLmVycm9yKCJUcmVlIHNlYXJjaCBmYWlsZWQiKTsKCQkJCQkJCWNvbnNvbGUuZXJyb3IoZGF0YSk7CgkJCQkJCX0gZWxzZSBpZiAoKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkgJiYgKGRhdGEubGVuZ3RoID4gMCkpIHsKCQkJCQkJCXhfcmVjKGRh'));
	@fwrite($fp, base64_decode('dGEsIDApOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJY29uc29sZS5lcnJvcigiVHJlZSBzZWFyY2ggZmFpbGVkIik7CgkJCQkJCQljb25zb2xlLmVycm9yKGRhdGEpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSk7CgkJCX0KCQl9IGNhdGNoIChlcnIpIHsKCQkJcG9wc3Rh'));
	@fwrite($fp, base64_decode('dGVfcnVubmluZyA9IGZhbHNlOwoJCX0gZmluYWxseSB7CgkJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCQl9Cgl9CgoJLy8gVGhpcyBsb2FkcyB0aGUgYWN0dWFsIGNvbnRlbnQKCgkvLyBkb2N1bWVudC50aXRsZSA9ICIiOyAvLyA8LS0gd2UgbWF5IG5vdCBk'));
	@fwrite($fp, base64_decode('byB0aGlzLCBvdGhlcndpc2UgRmlyZWZveCB3b24ndAoJLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdyB0aXRsZXMgaW4gdGhlIGJyb3dzZXIgaGlzdG9yeSAocmlnaHQtY2xpY2sKCS8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uIGJhY2st'));
	@fwrite($fp, base64_decode('YnV0dG9uKSwgYWx0aG91Z2ggZG9jdW1lbnQudGl0bGUoKSBpcwoJLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0IGluc2lkZSB0aGUgQUpBWC1jYWxsYmFjayBbRmlyZWZveCBidWc/IV0KCgkkKCcjcmVhbF90aXRsZScpLmh0bWwoIiZuYnNwOyIpOwoJ'));
	@fwrite($fp, base64_decode('JCgnI3JlYWxfY29udGVudCcpLmh0bWwoX0woIkxvYWRpbmcuLi4iKSk7CgkkKCcjc3RhdGljX2xpbmsnKS5hdHRyKCJocmVmIiwgb2lkcGx1c193ZWJwYXRoX2Fic29sdXRlX2Nhbm9uaWNhbCsiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoaWQpKTsKCSQoIiNn'));
	@fwrite($fp, base64_decode('b3RvZWRpdCIpLnZhbChpZCk7CgoJLy8gTm9ybWFsIG9wZW5pbmcgb2YgYSBkZXNjcmlwdGlvbgoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IkdFVCIsCgkJYmVmb3JlU2VuZDogZnVuY3Rpb24oanFYSFIsIHNldHRpbmdzKSB7CgkJCS8vJC54'));
	@fwrite($fp, base64_decode('aHJQb29sLmFib3J0QWxsKCk7CgkJCSQueGhyUG9vbC5hZGQoanFYSFIpOwoJCX0sCgkJY29tcGxldGU6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0KSB7CgkJCSQueGhyUG9vbC5yZW1vdmUoanFYSFIpOwoJCX0sCgkJZGF0YTp7CgkJCWNzcmZfdG9rZW46Y3NyZl90b2tl'));
	@fwrite($fp, base64_decode('biwKCQkJYWN0aW9uOiJnZXRfZGVzY3JpcHRpb24iLAoJCQlpZDppZCwKCQkJYW50aWNhY2hlOkRhdGUubm93KCkKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlpZiAoZXJyb3JUaHJvd24gPT0gImFib3J0'));
	@fwrite($fp, base64_decode('IikgcmV0dXJuOwoJCQlhbGVydEVycm9yKF9MKCJGYWlsZWQgdG8gbG9hZCBjb250ZW50OiAlMSIsZXJyb3JUaHJvd24pKTsKCQkJY29uc29sZS5lcnJvcihfTCgiRXJyb3I6ICUxIixlcnJvclRocm93bikpOwoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7'));
	@fwrite($fp, base64_decode('CgkJCS8vIFRPRE86IFVzZSBvaWRwbHVzX2FqYXhfc3VjY2VzcygpLCBzaW5jZSB0aGlzIGNoZWNrcyB0aGUgZXhpc3RhbmNlIG9mICJlcnJvciIgaW4gZGF0YSwgYW5kIGNoZWNrcyBpZiBzdGF0dXM+PTAKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxl'));
	@fwrite($fp, base64_decode('cnRFcnJvcihfTCgiRmFpbGVkIHRvIGxvYWQgY29udGVudDogJTEiLGRhdGEuZXJyb3IpKTsKCQkJCWNvbnNvbGUuZXJyb3IoZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPj0gMCkgewoJCQkJaWYgKCEoImlkIiBpbiBkYXRhKSkgZGF0YS5p'));
	@fwrite($fp, base64_decode('ZCA9IGlkOwoKCQkJCXZhciBzdGF0ZSA9IHsKCQkJCQkibm9kZV9pZCI6ZGF0YS5pZCwKCQkJCQkidGl0bGVIVE1MIjooZGF0YS5pY29uID8gJzxpbWcgc3JjPSInK2RhdGEuaWNvbisnIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFsdD0iJytkYXRhLnRpdGxlLmh0'));
	@fwrite($fp, base64_decode('bWxlbnRpdGllcygpKyciPiAnIDogJycpICsgZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSwKCQkJCQkidGV4dEhUTUwiOmRhdGEudGV4dCwKCQkJCQkic3RhdGljbGlua0hSRUYiOm9pZHBsdXNfd2VicGF0aF9hYnNvbHV0ZV9jYW5vbmljYWwrIj9nb3RvPSIrZW5j'));
	@fwrite($fp, base64_decode('b2RlVVJJQ29tcG9uZW50KGRhdGEuaWQpLAoJCQkJfTsKCQkJCWlmIChjdXJyZW50X25vZGUgIT0gZGF0YS5pZCkgewoJCQkJCXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgZGF0YS50aXRsZSwgIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGRhdGEu'));
	@fwrite($fp, base64_decode('aWQpKTsKCQkJCX0gZWxzZSB7CgkJCQkJd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCBkYXRhLnRpdGxlLCAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoZGF0YS5pZCkpOwoJCQkJfQoKCQkJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0'));
	@fwrite($fp, base64_decode('ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlKTsKCgkJCQlpZiAoZGF0YS5pY29uKSB7CgkJCQkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKCc8aW1nIHNyYz0iJytkYXRhLmljb24rJyIgd2lkdGg9IjQ4IiBoZWln'));
	@fwrite($fp, base64_decode('aHQ9IjQ4IiBhbHQ9IicrZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSsnIj4gJyArIGRhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkpOwoJCQkJfSBlbHNlIHsKCQkJCQkkKCcjcmVhbF90aXRsZScpLmh0bWwoZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSk7CgkJCQl9'));
	@fwrite($fp, base64_decode('CgkJCQkkKCcjcmVhbF9jb250ZW50JykuaHRtbChkYXRhLnRleHQpOwoJCQkJZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoZ2V0T2lkUGx1c1N5c3RlbVRpdGxlKCksIGRhdGEudGl0bGUpOwoJCQkJY3VycmVudF9ub2Rl'));
	@fwrite($fp, base64_decode('ID0gZGF0YS5pZDsKCgkJCQlleGVjdXRlQWxsQ2FsbGJhY2tzKHBhZ2VMb2FkZWRDYWxsYmFja3MuYW55UGFnZUxvYWQpOwoJCQkJZXhlY3V0ZUFsbENhbGxiYWNrcyhwYWdlTG9hZGVkQ2FsbGJhY2tzLmFqYXhQYWdlTG9hZCk7CgoJCQkJaWYgKGFuY2hvciAhPSAn'));
	@fwrite($fp, base64_decode('JykgewoJCQkJCWp1bXBUb0FuY2hvcihhbmNob3IpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJYWxlcnRFcnJvcihfTCgiRmFpbGVkIHRvIGxvYWQgY29udGVudDogJTEiLGRhdGEuc3RhdHVzKSk7CgkJCQljb25zb2xlLmVycm9yKGRhdGEpOwoJCQl9CgkJfQoJfSk7'));
	@fwrite($fp, base64_decode('CgoJcmV0dXJuIHRydWU7Cn0KCi8vIFRoaXMgZnVuY3Rpb24gb3BlbnMgdGhlICJwYXJlbnRJRCIgbm9kZSwgYW5kIHRoZW4gc2VsZWN0cyB0aGUgImNoaWxkSUQiIG5vZGUgKHdoaWNoIHNob3VsZCBiZSBiZW5lYXRoIHRoZSBwYXJlbnQgbm9kZSkKZnVuY3Rpb24g'));
	@fwrite($fp, base64_decode('b3BlbkFuZFNlbGVjdE5vZGUoY2hpbGRJRCwgcGFyZW50SUQpIHsKCWlmICgkKCcjb2lkdHJlZScpLmpzdHJlZSh0cnVlKS5nZXRfbm9kZShwYXJlbnRJRCkpIHsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnb3Blbl9ub2RlJywgcGFyZW50SUQsIGZ1bmN0aW9uKGUs'));
	@fwrite($fp, base64_decode('IGRhdGEpIHsgLy8gb3BlbiBwYXJlbnQgbm9kZQoJCQlpZiAoJCgnI29pZHRyZWUnKS5qc3RyZWUodHJ1ZSkuZ2V0X25vZGUoY2hpbGRJRCkpIHsgLy8gaXMgdGhlIGNoaWxkIHRoZXJlPwoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpLmpz'));
	@fwrite($fp, base64_decode('dHJlZSgnc2VsZWN0X25vZGUnLCBjaGlsZElEKTsgLy8gc2VsZWN0IGl0CgkJCX0gZWxzZSB7CgkJCQkvLyBUaGlzIGNhbiBoYXBwZW4gaWYgdGhlIGNvbnRlbnQgcGFnZSBjb250YWlucyBicmFuZCBuZXcgaXRlbXMgd2hpY2ggYXJlIG5vdCBpbiB0aGUgdHJlZXZp'));
	@fwrite($fp, base64_decode('ZXcgeWV0CgkJCQkkKCIjZ290b2VkaXQiKS52YWwoY2hpbGRJRCk7CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChjaGlsZElEKTsKCQkJfQoJCX0sIHRydWUpOwoJfSBlbHNlIHsKCQkvLyBUaGlzIHNob3VsZCB1'));
	@fwrite($fp, base64_decode('c3VhbGx5IG5vdCBoYXBwZW4KCQkkKCIjZ290b2VkaXQiKS52YWwoY2hpbGRJRCk7CgkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoY2hpbGRJRCk7Cgl9Cn0KCiQod2luZG93KS5vbigicG9wc3RhdGUiLCBmdW5jdGlv'));
	@fwrite($fp, base64_decode('bihlKSB7CglpZiAoIXBlcmZvcm1DbG9zZVF1ZXJ5Q0IoKSkgewoJCS8vIFRPRE86IGRvZXMgbm90IHdvcmshISEgVGhlICJiYWNrL2ZvcndhcmQiIGFjdGlvbiB3aWxsIGJlIGNhbmNlbGxlZCwgYnV0IHRoZSBicm93c2VyIHN0aWxsIHRoaW5rcyBpdCB3YXMgc3Vj'));
	@fwrite($fp, base64_decode('Y2Vzc2Z1bCwKCQkvLyBzbyBpZiB5b3UgZG8gaXQgYWdhaW4sIHlvdSB3aWxsIHRoZW4ganVtcCAyIHBhZ2VzIGJhY2ssIGV0YyEKCQkvLyBUaGlzIGRvZXMgYWxzbyBub3QgaGVscDoKCQkvL3dpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShlLm9yaWdpbmFsRXZlbnQu'));
	@fwrite($fp, base64_decode('c3RhdGUsIGUub3JpZ2luYWxFdmVudC50aXRsZSwgZS5vcmlnaW5hbEV2ZW50LnVybCk7CgkJLy93aW5kb3cuaGlzdG9yeS5mb3J3YXJkKCk7CgkJcmV0dXJuOwoJfQoKCXBvcHN0YXRlX3J1bm5pbmcgPSB0cnVlOwoJdHJ5IHsKCQl2YXIgZGF0YSA9IGUub3JpZ2lu'));
	@fwrite($fp, base64_decode('YWxFdmVudC5zdGF0ZTsKCgkJY3VycmVudF9ub2RlID0gZGF0YS5ub2RlX2lkOwoJCSQoIiNnb3RvZWRpdCIpLnZhbChjdXJyZW50X25vZGUpOwoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdkZXNlbGVjdF9hbGwnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywgZGF0YS5u'));
	@fwrite($fp, base64_decode('b2RlX2lkKTsKCQkkKCcjcmVhbF90aXRsZScpLmh0bWwoZGF0YS50aXRsZUhUTUwpOwoJCSQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKGRhdGEudGV4dEhUTUwpOwoJCSQoJyNzdGF0aWNfbGluaycpLmF0dHIoImhyZWYiLCBkYXRhLnN0YXRpY2xpbmtIUkVGKTsKCQlk'));
	@fwrite($fp, base64_decode('b2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSwgZGF0YS50aXRsZUhUTUwuaHRtbF9lbnRpdHlfZGVjb2RlKCkpOwoJfSBjYXRjaCAoZXJyKSB7CgkJcG9wc3RhdGVfcnVubmluZyA9'));
	@fwrite($fp, base64_decode('IGZhbHNlOwoJfSBmaW5hbGx5IHsKCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7Cgl9Cn0pOwoKJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkgewoKCWV4ZWN1dGVBbGxDYWxsYmFja3MocGFnZUxvYWRlZENhbGxiYWNrcy5kb2N1bWVudFJlYWR5QmVmb3Jl'));
	@fwrite($fp, base64_decode('KTsKCgkvKgoJd2luZG93Lm9uYmVmb3JldW5sb2FkID0gZnVuY3Rpb24oZSkgewoJCS8vIFRPRE86IFRoaXMgd29uJ3QgYmUgY2FsbGVkIGJlY2F1c2UgVGlueU1DRSBvdmVycmlkZXMgaXQ/PwoJCS8vIFRPRE86IHdoZW4gdGhlIHVzZXIgYWNjZXB0ZWQgdGhlIHF1'));
	@fwrite($fp, base64_decode('ZXJ5IGluIHBlcmZvcm1DbG9zZVF1ZXJ5Q0IoKSwgdGhlbiB0aGUgbWVzc2FnZSB3aWxsIGJlIHNob3duIGFnYWluIGJ5IHRoZSBicm93c2VyIQoJCWlmICghcGVyZm9ybUNsb3NlUXVlcnlDQigpKSB7CgkJCS8vIENhbmNlbCB0aGUgZXZlbnQKCQkJZS5wcmV2ZW50'));
	@fwrite($fp, base64_decode('RGVmYXVsdCgpOyAvLyBJZiB5b3UgcHJldmVudCBkZWZhdWx0IGJlaGF2aW9yIGluIE1vemlsbGEgRmlyZWZveCBwcm9tcHQgd2lsbCBhbHdheXMgYmUgc2hvd24KCQkJLy8gQ2hyb21lIHJlcXVpcmVzIHJldHVyblZhbHVlIHRvIGJlIHNldAoJCQllLnJldHVyblZh'));
	@fwrite($fp, base64_decode('bHVlID0gJyc7CgkJfSBlbHNlIHsKCQkJLy8gdGhlIGFic2VuY2Ugb2YgYSByZXR1cm5WYWx1ZSBwcm9wZXJ0eSBvbiB0aGUgZXZlbnQgd2lsbCBndWFyYW50ZWUgdGhlIGJyb3dzZXIgdW5sb2FkIGhhcHBlbnMKCQkJZGVsZXRlIGVbJ3JldHVyblZhbHVlJ107CgkJ'));
	@fwrite($fp, base64_decode('fQoJfTsKCSovCgoJaWYgKHR5cGVvZiBvaWRwbHVzX21lbnVfd2lkdGhfdXNlcnZhbHVlICE9PSAndW5kZWZpbmVkJykgewoJCW9pZHBsdXNfbWVudV93aWR0aCA9IG9pZHBsdXNfbWVudV93aWR0aF91c2VydmFsdWU7Cgl9CgoJLy8gLS0tIEpzVHJlZQoKCWlmICgk'));
	@fwrite($fp, base64_decode('KCcjb2lkdHJlZScpLmxlbmd0aCA+IDApICQoJyNvaWR0cmVlJykKCS5qc3RyZWUoewoJCXBsdWdpbnM6IFsnbWFzc2xvYWQnLCdzZWFyY2gnLCdjb25kaXRpb25hbHNlbGVjdCddLAoJCSdjb3JlJyA6IHsKCQkJJ2RhdGEnIDogewoJCQkJInVybCIgOiBnZXRUcmVl'));
	@fwrite($fp, base64_decode('TG9hZFVSTCgpLAoJCQkJImRhdGEiIDogZnVuY3Rpb24gKG5vZGUpIHsKCQkJCQlyZXR1cm4geyAiaWQiIDogbm9kZS5pZCB9OwoJCQkJfQoJCQl9LAoJCQkibXVsdGlwbGUiOiBmYWxzZQoJCX0sCgkJJ2NvbmRpdGlvbmFsc2VsZWN0JyA6IGZ1bmN0aW9uIChub2Rl'));
	@fwrite($fp, base64_decode('KSB7CgkJCWlmIChub2RlLm9yaWdpbmFsLmNvbmRpdGlvbmFsc2VsZWN0ICE9PSB1bmRlZmluZWQpIHsKCQkJCXJldHVybiBldmFsKG5vZGUub3JpZ2luYWwuY29uZGl0aW9uYWxzZWxlY3QpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHBlcmZvcm1DbG9zZVF1ZXJ5'));
	@fwrite($fp, base64_decode('Q0IoKTsKCQkJfQoJCX0sCgl9KQoJLm9uKCdyZWFkeS5qc3RyZWUnLCBmdW5jdGlvbiAoZSwgZGF0YSkgewoJCXZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKCQl2YXIgZ290byA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJnb3RvIik7CgkJ'));
	@fwrite($fp, base64_decode('aWYgKGdvdG8gPT0gbnVsbCkgZ290byA9ICJvaWRwbHVzOnN5c3RlbSI7IC8vIHRoZSBwYWdlIHdhcyBub3QgY2FsbGVkIHdpdGggP2dvdG89Li4uCgkJaWYgKCQoJyNnb3RvZWRpdCcpLmxlbmd0aCA+IDApICQoIiNnb3RvZWRpdCIpLnZhbChnb3RvKTsKCgkJLy8g'));
	@fwrite($fp, base64_decode('Qnkgc2V0dGluZyBjdXJyZW50X25vZGUsIHNlbGVjdF9ub2RlKCkgd2lsbCBub3QgY2F1c2UgYWpheC5waHA/YWN0aW9uPWdldF9kZXNjcmlwdGlvbiB0byBsb2FkIChzaW5jZSB3ZSBhbHJlYWR5IGxvYWRlZCB0aGUgZmlyc3Qgc3RhdGljIGNvbnRlbnQgdmlhIFBI'));
	@fwrite($fp, base64_decode('UCwgZm9yIHNlYXJjaCBlbmdpbmVzIG1haW5seSkKCQkvLyBCdXQgdGhlbiB3ZSBuZWVkIHRvIHNldCB0aGUgaGlzdG9yeSBzdGF0ZSBtYW51YWxseQoJCWN1cnJlbnRfbm9kZSA9IGdvdG87CgkJd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHsKCQkJIm5vZGVf'));
	@fwrite($fp, base64_decode('aWQiOmdvdG8sCgkJCSJ0aXRsZUhUTUwiOiQoJyNyZWFsX3RpdGxlJykuaHRtbCgpLAoJCQkidGV4dEhUTUwiOiQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKCksCgkJCSJzdGF0aWNsaW5rSFJFRiI6b2lkcGx1c193ZWJwYXRoX2Fic29sdXRlX2Nhbm9uaWNhbCsiP2dv'));
	@fwrite($fp, base64_decode('dG89IitlbmNvZGVVUklDb21wb25lbnQoZ290byksCgkJfSwgJCgnI3JlYWxfdGl0bGUnKS5odG1sKCksICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChnb3RvKSk7CgoJCWlmIChnb3RvICE9IG51bGwpIGRhdGEuaW5zdGFuY2Uuc2VsZWN0X25vZGUoW2dvdG9d'));
	@fwrite($fp, base64_decode('KTsKCgkJc2V0VGltZW91dChnbGF5b3V0V29ya2Fyb3VuZEFDLCAxMDApOwoJCXNldFRpbWVvdXQoZ2xheW91dFdvcmthcm91bmRCLCAxMDApOwoJfSkKCS5vbignc2VsZWN0X25vZGUuanN0cmVlJywgZnVuY3Rpb24gKG5vZGUsIHNlbGVjdGVkLCBldmVudCkgewoJ'));
	@fwrite($fp, base64_decode('CW1vYmlsZU5hdkNsb3NlKCk7CgoJCXZhciBpZCA9IHNlbGVjdGVkLm5vZGUuaWQ7CgkJaWYgKCghcG9wc3RhdGVfcnVubmluZykgJiYgKGN1cnJlbnRfbm9kZSAhPSBpZCkpIHsKCQkJLy8gNHRoIGFyZ3VtZW50OiB3ZSBmb3JjZSB0aGUgcmVsb2FkIChiZWNhdXNl'));
	@fwrite($fp, base64_decode('IGluIHRoZQoJCQkvLyBjb25kaXRpb25hbCBzZWxlY3QgYWJvdmUsIHdlIGFscmVhZHkgYXNrZWQgaWYKCQkJLy8gdGlueU1DRSBuZWVkcyB0byBiZSBzYXZlZCkKCQkJb3Blbk9pZEluUGFuZWwoaWQsIGZhbHNlLCAnJywgdHJ1ZSk7CgkJfQoJfSk7CgoJLy8gLS0t'));
	@fwrite($fp, base64_decode('IExheW91dAoKCWlmICgkKCcjc3lzdGVtX3RpdGxlX21lbnUnKS5sZW5ndGggPiAwKSAkKCIjc3lzdGVtX3RpdGxlX21lbnUiKVswXS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCgl2YXIgdG1wT2JqZWN0VHJlZSA9IF9MKCJPQkpFQ1QgVFJFRSIpLnJlcGxhY2Uo'));
	@fwrite($fp, base64_decode('LyguezF9KS9nLCIkMTxicj4iKTsKCXRtcE9iamVjdFRyZWUgPSB0bXBPYmplY3RUcmVlLnN1YnN0cmluZygwLCB0bXBPYmplY3RUcmVlLmxlbmd0aC0iPGJyPiIubGVuZ3RoKTsKCglpZiAoJCgnI29pZHRyZWUnKS5sZW5ndGggPiAwKSAkKCcjb2lkdHJlZScpLmFk'));
	@fwrite($fp, base64_decode('ZENsYXNzKCd1aS1sYXlvdXQtd2VzdCcpOwoJaWYgKCQoJyNjb250ZW50X3dpbmRvdycpLmxlbmd0aCA+IDApICQoJyNjb250ZW50X3dpbmRvdycpLmFkZENsYXNzKCd1aS1sYXlvdXQtY2VudGVyJyk7CglpZiAoJCgnI3N5c3RlbV90aXRsZV9iYXInKS5sZW5ndGgg'));
	@fwrite($fp, base64_decode('PiAwKSAkKCcjc3lzdGVtX3RpdGxlX2JhcicpLmFkZENsYXNzKCd1aS1sYXlvdXQtbm9ydGgnKTsKCWlmICgkKCcjZnJhbWVzJykubGVuZ3RoID4gMCkgZ2xheW91dCA9ICQoJyNmcmFtZXMnKS5sYXlvdXQoewoJCW5vcnRoX19zaXplOiAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('IDQwLAoJCW5vcnRoX19zbGlkYWJsZTogICAgICAgICAgICAgIGZhbHNlLAoJCW5vcnRoX19jbG9zYWJsZTogICAgICAgICAgICAgIGZhbHNlLAoJCW5vcnRoX19yZXNpemFibGU6ICAgICAgICAgICAgIGZhbHNlLAoJCXdlc3RfX3NpemU6ICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgIG9pZHBsdXNfbWVudV93aWR0aCwKCQl3ZXN0X19zcGFjaW5nX2Nsb3NlZDogICAgICAgICAyMCwKCQl3ZXN0X190b2dnbGVyTGVuZ3RoX2Nsb3NlZDogICAyMzAsCgkJd2VzdF9fdG9nZ2xlckFsaWduX2Nsb3NlZDogICAgImNlbnRlciIsCgkJd2VzdF9fdG9n'));
	@fwrite($fp, base64_decode('Z2xlckNvbnRlbnRfY2xvc2VkOiAgdG1wT2JqZWN0VHJlZSwKCQl3ZXN0X190b2dnbGVyVGlwX2Nsb3NlZDogICAgICBfTCgiT3BlbiAmIFBpbiBNZW51IiksCgkJd2VzdF9fc2xpZGVyVGlwOiAgICAgICAgICAgICAgX0woIlNsaWRlIE9wZW4gTWVudSIpLAoJCXdl'));
	@fwrite($fp, base64_decode('c3RfX3NsaWRlVHJpZ2dlcl9vcGVuOiAgICAgICJtb3VzZW92ZXIiLAoJCXdlc3RfX2VuYWJsZUN1cnNvckhvdGtleTogICAgIGZhbHNlLCAvLyBkaXNhYmxlIEN0cmwrU2hpZnQrTGVmdEFycm93IGhvdGtleSAoIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZGFuaWVs'));
	@fwrite($fp, base64_decode('bWFyc2NoYWxsL29pZHBsdXMvaXNzdWVzLzI4ICkKCQljZW50ZXJfX21hc2tDb250ZW50czogICAgICAgICB0cnVlLCAvLyBJTVBPUlRBTlQgLSBlbmFibGUgaWZyYW1lIG1hc2tpbmcKCQlvbnJlc2l6ZV9zdGFydDogICAgICAgICAgICAgICBmdW5jdGlvbigpIHsg'));
	@fwrite($fp, base64_decode('aWYgKHR5cGVvZiBoYW5kbGVfZ2xheW91dF9vbnJlc2l6ZV9zdGFydCA9PSAnZnVuY3Rpb24nKSBoYW5kbGVfZ2xheW91dF9vbnJlc2l6ZV9zdGFydCgpOyB9Cgl9KTsKCglpZiAoJCgnI2dvdG9ib3gnKS5sZW5ndGggPT0gMCkgJCgiI2xhbmd1YWdlQm94IikuY3Nz'));
	@fwrite($fp, base64_decode('KCdyaWdodCcsICcyMHB4Jyk7IC8vIExhbmd1YWdlIEJveCB0byB0aGUgcmlnaHQgaWYgdGhlcmUgaXMgbm8gZ290by1ib3gKCglpZiAoJCgnI2dvdG9ib3gnKS5sZW5ndGggPiAwKSAkKCIjZ290b2JveCIpLmFkZENsYXNzKCJtb2JpbGVoaWRkZW4iKTsKCWlmICgk'));
	@fwrite($fp, base64_decode('KCcjbGFuZ3VhZ2VCb3gnKS5sZW5ndGggPiAwKSAkKCIjbGFuZ3VhZ2VCb3giKS5hZGRDbGFzcygibW9iaWxlaGlkZGVuIik7CglpZiAoJCgnI2dvdG9ib3gnKS5sZW5ndGggPiAwKSAkKCIjZ290b2JveCIpWzBdLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoJaWYg'));
	@fwrite($fp, base64_decode('KCQoJyNnb3RvZWRpdCcpLmxlbmd0aCA+IDApICQoJyNnb3RvZWRpdCcpLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CgkJdmFyIGtleWNvZGUgPSAoZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC53aGljaCk7CgkJaWYgKGtleWNvZGUgPT0g'));
	@fwrite($fp, base64_decode('JzEzJykgewoJCQlnb3RvQnV0dG9uQ2xpY2tlZCgpOwoJCX0KCX0pOwoKCWlmICh0eXBlb2YgQnM1VXRpbHMgIT09ICJ1bmRlZmluZWQiKSB7CgkJQnM1VXRpbHMuZGVmYXVsdHMudG9hc3RzLnBvc2l0aW9uID0gJ3RvcC1jZW50ZXInOwoJCUJzNVV0aWxzLmRlZmF1'));
	@fwrite($fp, base64_decode('bHRzLnRvYXN0cy5zdGFja2luZyA9IHRydWU7CgkJYnM1VXRpbHMgPSBuZXcgQnM1VXRpbHMoKTsKCX0KCglleGVjdXRlQWxsQ2FsbGJhY2tzKHBhZ2VMb2FkZWRDYWxsYmFja3MuYW55UGFnZUxvYWQpOwoJZXhlY3V0ZUFsbENhbGxiYWNrcyhwYWdlTG9hZGVkQ2Fs'));
	@fwrite($fp, base64_decode('bGJhY2tzLmRvY3VtZW50UmVhZHlBZnRlcik7Cn0pOwoKLy8gY2FuIGJlIG92ZXJyaWRkZW4gaWYgbmVjZXNzYXJ5CnZhciBoYW5kbGVfZ2xheW91dF9vbnJlc2l6ZV9zdGFydCA9IHVuZGVmaW5lZDsKCmZ1bmN0aW9uIGdsYXlvdXRXb3JrYXJvdW5kQUMoKSB7Cgkv'));
	@fwrite($fp, base64_decode('LyAiQnVnIEEiOiBTb21ldGltZXMsIHRoZSBkZXNpZ24gaXMgY29tcGxldGVseSBkZXN0cm95ZWQgYWZ0ZXIgcmVsb2FkaW5nIHRoZSBwYWdlLiBJdCBkb2VzIG5vdCBoZWxwIHdoZW4gZ2xheW91dC5yZXNpemVBbGwoKQoJLy8gICAgICAgICAgaXMgY2FsbGVkIGF0'));
	@fwrite($fp, base64_decode('IHRoZSBiZWdpbm5pbmcgKGUuZy4gZHVyaW5nIHRoZSByZWFkeSBmdW5jdGlvbiksIGFuZCBpdCBkb2VzIG5vdCBoZWxwIGlmIHdlIHdhaXQgNTAwbXMuCgkvLyAgICAgICAgICBTbyB3ZSBkbyBpdCBhbGwgdGhlIHRpbWUuIEl0IGhhcyBwcm9iYWJseSBzb21ldGhp'));
	@fwrite($fp, base64_decode('bmcgdG8gZG8gd2l0aCBzbG93IGxvYWRpbmcgdGltZXMsIHNpbmNlIHRoZSBlcnJvcgoJLy8gICAgICAgICAgZG9lcyBvbmx5IGFwcGVhciB3aGVuIHRoZSBwYWdlIGlzICJibGFuayIgZm9yIGEgc2hvcnQgd2hpbGUgd2hpbGUgaXQgaXMgbG9hZGluZy4KCWdsYXlv'));
	@fwrite($fp, base64_decode('dXQucmVzaXplQWxsKCk7CgoJLy8gIkJ1ZyBDIjogV2l0aCBGaXJlZm94IChBbmQgc29tZXRpbWVzIHdpdGggQ2hyb21lKSwgdGhlcmUgaXMgYSBnYXAgYmV0d2VlbiB0aGUgY29udGVudC13aW5kb3cgKGluY2x1ZGluZyBzY3JvbGwgYmFycykKCS8vICAgICAgICAg'));
	@fwrite($fp, base64_decode('IGFuZCB0aGUgcmlnaHQgY29ybmVyIG9mIHRoZSBzY3JlZW4uIFJlbW92aW5nIHRoZSBleHBsaWNpdCB3aWR0aCBzb2x2ZXMgdGhpcyBwcm9ibGVtLgoJJCgiI2NvbnRlbnRfd2luZG93IilbMF0uc3R5bGUucmVtb3ZlUHJvcGVydHkoIndpZHRoIik7CgoJc2V0VGlt'));
	@fwrite($fp, base64_decode('ZW91dChnbGF5b3V0V29ya2Fyb3VuZEFDLCAxMDApOwp9CgpmdW5jdGlvbiBnbGF5b3V0V29ya2Fyb3VuZEIoKSB7CgkvLyAiQnVnIEIiOiBTb21ldGltZXMsIGFmdGVyIHJlbG9hZCwgd2VpcmQgc3BhY2UgYmV0d2VlbiBvaWR0cmVlIGFuZCBjb250ZW50IHdpbmRv'));
	@fwrite($fp, base64_decode('dywgYmVjYXVzZSBvaWR0cmVlIGhhcyBzaXplIG9mIDQzOHB4CgkkKCIjb2lkdHJlZSIpWzBdLnN0eWxlLndpZHRoID0gb2lkcGx1c19tZW51X3dpZHRoICsgInB4IjsKfQoKZnVuY3Rpb24gbW9iaWxlTmF2Q2xvc2UoKSB7CglpZiAoJCgiI3N5c3RlbV90aXRsZV9t'));
	@fwrite($fp, base64_decode('ZW51IikuaXMoIjpoaWRkZW4iKSkgewoJCXJldHVybjsKCX0KCgkkKCIjb2lkdHJlZSIpLnNsaWRlVXAoIm1lZGl1bSIpLnByb21pc2UoKS5kb25lKGZ1bmN0aW9uKCkgewoJCSQoIiNvaWR0cmVlIikuYWRkQ2xhc3MoInVpLWxheW91dC13ZXN0Iik7CgkJJCgiI29p'));
	@fwrite($fp, base64_decode('ZHRyZWUiKS5zaG93KCk7Ci8vCQkkKCIjZ290b2JveCIpLmhpZGUoKTsKLy8JCSQoIiNsYW5ndWFnZUJveCIpLmhpZGUoKTsKCQkkKCIjZ290b2JveCIpLmFkZENsYXNzKCJtb2JpbGVoaWRkZW4iKTsKCQkkKCIjbGFuZ3VhZ2VCb3giKS5hZGRDbGFzcygibW9iaWxl'));
	@fwrite($fp, base64_decode('aGlkZGVuIik7Cgl9KTsKCSQoIiNzeXN0ZW1fdGl0bGVfbWVudSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTsKfQoKZnVuY3Rpb24gbW9iaWxlTmF2T3BlbigpIHsKCSQoIiNvaWR0cmVlIikuaGlkZSgpOwoJJCgiI29pZHRyZWUiKS5yZW1vdmVDbGFzcygidWktbGF5'));
	@fwrite($fp, base64_decode('b3V0LXdlc3QiKTsKCSQoIiNvaWR0cmVlIikuc2xpZGVEb3duKCJtZWRpdW0iKTsKLy8JJCgiI2dvdG9ib3giKS5zaG93KCk7Ci8vCSQoIiNsYW5ndWFnZUJveCIpLnNob3coKTsKCSQoIiNnb3RvYm94IikucmVtb3ZlQ2xhc3MoIm1vYmlsZWhpZGRlbiIpOwoJJCgi'));
	@fwrite($fp, base64_decode('I2xhbmd1YWdlQm94IikucmVtb3ZlQ2xhc3MoIm1vYmlsZWhpZGRlbiIpOwoJJCgiI3N5c3RlbV90aXRsZV9tZW51IikuYWRkQ2xhc3MoImFjdGl2ZSIpOwp9CgpmdW5jdGlvbiBtb2JpbGVOYXZCdXR0b25DbGljayhzZW5kZXIpIHsKCWlmICgkKCIjb2lkdHJlZSIp'));
	@fwrite($fp, base64_decode('Lmhhc0NsYXNzKCJ1aS1sYXlvdXQtd2VzdCIpKSB7CgkJbW9iaWxlTmF2T3BlbigpOwoJfSBlbHNlIHsKCQltb2JpbGVOYXZDbG9zZSgpOwoJfQp9CgpmdW5jdGlvbiBtb2JpbGVOYXZCdXR0b25Ib3ZlcihzZW5kZXIpIHsKCXNlbmRlci5jbGFzc0xpc3QudG9nZ2xl'));
	@fwrite($fp, base64_decode('KCJob3ZlciIpOwp9CgpmdW5jdGlvbiBnb3RvQnV0dG9uQ2xpY2tlZCgpIHsKCW9wZW5PaWRJblBhbmVsKCQoIiNnb3RvZWRpdCIpLnZhbCgpLCB0cnVlKTsKfQoKZnVuY3Rpb24gc2V0TGFuZ3VhZ2UobG5naWQpIHsKCXNldENvb2tpZSgnTEFOR1VBR0UnLCBsbmdp'));
	@fwrite($fp, base64_decode('ZCwgMC8qVW50aWwgYnJvd3NlciBjbG9zZXMqLywgb2lkcGx1c193ZWJwYXRoX3JlbGF0aXZlKTsKCglpZiAoY3VycmVudF9ub2RlID09ICIiKSByZXR1cm4gZmFsc2U7IC8vIEhhcHBlbnMgZm9yIFNldHVwLiBPcGVuIFVSTCBpbnN0ZWFkLgoKCSQoIi5sbmdfZmxh'));
	@fwrite($fp, base64_decode('ZyIpLmVhY2goZnVuY3Rpb24oKXsKCQkkKHRoaXMpLmFkZENsYXNzKCJwaWN0dXJlX2dob3N0Iik7Cgl9KTsKCSQoIiNsbmdfZmxhZ18iKyQuZXNjYXBlU2VsZWN0b3IobG5naWQpKS5yZW1vdmVDbGFzcygicGljdHVyZV9naG9zdCIpOwoKCS8vIFRPRE86IFNtYWxs'));
	@fwrite($fp, base64_decode('IGRldGFpbDogVGhlICJHbyIgYnV0dG9uIGFsc28gbmVlZHMgdG8gYmUgcmUtdHJhbnNsYXRlZAoJcmVsb2FkQ29udGVudCgpOwoJbW9iaWxlTmF2Q2xvc2UoKTsKCglyZXR1cm4gdHJ1ZTsgLy8gd2UgaGF2ZSBoYW5kbGVkIGl0LiBEbyBub3QgZm9sbG93IGhyZWY9'));
	@fwrite($fp, base64_decode('IiIKfQoKZnVuY3Rpb24gc2hvd193YWl0aW5nX2FuaW0oKSB7CgkkKCIjbG9hZGluZyIpLnNob3coKTsKfQoKZnVuY3Rpb24gaGlkZV93YWl0aW5nX2FuaW0oKSB7CgkkKCIjbG9hZGluZyIpLmhpZGUoKTsKfQoKLyogTWluaS1mcmFtZXdvcmsgdG8gYWJvcnQgYWxs'));
	@fwrite($fp, base64_decode('IEFKQVggcmVxdWVzdHMgaWYgYSBuZXcgcmVxdWVzdCBpcyBtYWRlICovCgokLnhoclBvb2wgPSBbXTsKJC54aHJQb29sLmFkZCA9IGZ1bmN0aW9uKGpxWEhSKSB7CgkkLnhoclBvb2wucHVzaChqcVhIUik7Cn0KJC54aHJQb29sLnJlbW92ZSA9IGZ1bmN0aW9uKGpx'));
	@fwrite($fp, base64_decode('WEhSKSB7Cgl2YXIgaW5kZXggPSAkLnhoclBvb2wuaW5kZXhPZihqcVhIUik7CglpZiAoaW5kZXggPiAtMSkgewoJCSQueGhyUG9vbC5zcGxpY2UoaW5kZXgsIDEpOwoJfQp9OwokLnhoclBvb2wuYWJvcnRBbGwgPSBmdW5jdGlvbigpIHsKCXZhciBjYWxscyA9IEFy'));
	@fwrite($fp, base64_decode('cmF5LmZyb20oJC54aHJQb29sKTsKCSQuZWFjaChjYWxscywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewoJCXZhbHVlLmFib3J0KCk7Cgl9KTsKfQoKLyogSW5kaXZpZHVhbCBhbGVydCB0eXBlcyAqLwovKiBUT0RPOiBhbGVydCgpIGJsb2NrcyBwcm9ncmFtIGZsb3cs'));
	@fwrite($fp, base64_decode('IGJ1dCBhbGVydFN1Y2Nlc3MoKSBub3QhIFdpbGwgdGhlIG1hc3MgY2hhbmdlIGhhdmUgbmVnYXRpdmUgZWZmZWN0cyAoZS5nLiBhIHJlZGlyZWN0IHdpdGhvdXQgdGhlIHVzZXIgc2VlaW5nIHRoZSB0b2FzdCk/ICovCgpmdW5jdGlvbiBhbGVydFN1Y2Nlc3ModHh0'));
	@fwrite($fp, base64_decode('KSB7CglpZiAodHlwZW9mIGJzNVV0aWxzICE9PSAidW5kZWZpbmVkIikgewoJCWJzNVV0aWxzLlNuYWNrLnNob3coJ3N1Y2Nlc3MnLCBfTCh0eHQpLCBkZWxheSA9IDUwMDAsIGRpc21pc3NpYmxlID0gdHJ1ZSk7Cgl9IGVsc2UgewoJCWFsZXJ0KHR4dCk7Cgl9Cn0K'));
	@fwrite($fp, base64_decode('CmZ1bmN0aW9uIGFsZXJ0V2FybmluZyh0eHQpIHsKCS8vIFRPRE86IGFzIHRvYXN0PwoJYWxlcnQodHh0KTsKfQoKZnVuY3Rpb24gYWxlcnRFcnJvcih0eHQpIHsKCS8vIFRPRE86IGFzIHRvYXN0PwoJYWxlcnQodHh0KTsKfQoKLyogQUpBWCBzdWNjZXNzL2Vycm9y'));
	@fwrite($fp, base64_decode('LWhhbmRsaW5nICovCgpmdW5jdGlvbiBvaWRwbHVzX2FqYXhfZXJyb3IoanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CglpZiAoZXJyb3JUaHJvd24gPT0gImFib3J0IikgcmV0dXJuOwoJY29uc29sZS5lcnJvcihlcnJvclRocm93biwganFYSFIpOwoJ'));
	@fwrite($fp, base64_decode('YWxlcnRFcnJvcihfTCgiRXJyb3I6ICUxIiwgZXJyb3JUaHJvd24pKTsKfQoKZnVuY3Rpb24gb2lkcGx1c19hamF4X3N1Y2Nlc3MoZGF0YSwgY2IpIHsKCWlmICh0eXBlb2YgZGF0YSA9PT0gIm9iamVjdCIgJiYgImVycm9yIiBpbiBkYXRhKSB7CgkJYWxlcnRFcnJv'));
	@fwrite($fp, base64_decode('cihfTCgiRXJyb3I6ICUxIiwgZGF0YS5lcnJvcikpOwoJfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gIm9iamVjdCIgJiYgZGF0YS5zdGF0dXMgPj0gMCkgewoJCWNiKGRhdGEpOwoJfSBlbHNlIHsKCQlhbGVydEVycm9yKF9MKCJFcnJvcjogJTEiLCBkYXRhKSk7'));
	@fwrite($fp, base64_decode('Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('includes/oidplus_base.js')) {
	warn('File has vanished! Will re-create it: includes/oidplus_base.js');
	writefile_1();
	if (!is_file('includes/oidplus_base.js')) {
		warn('File cannot be created (not existing): includes/oidplus_base.js');
	} else if (sha1_file('includes/oidplus_base.js') != '4ef1854efcc3ba4d369f28deb5159836237ad925') {
		warn('File cannot be created (checksum mismatch): includes/oidplus_base.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/oidplus_base.js', 0644)) {
		warn('Could not change file permissions of includes/oidplus_base.js');
	}
} else {
	if (@sha1_file('includes/oidplus_base.js') !== '4ef1854efcc3ba4d369f28deb5159836237ad925') {
		if (@sha1_file('includes/oidplus_base.js') !== '204b013158b0a6b45c2f8ab2aa74edf9aa563a61') {
			warn('File was modified. Will overwrite the changes now: includes/oidplus_base.js');
			$tmp = pathinfo('includes/oidplus_base.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/oidplus_base.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/oidplus_base.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/oidplus_base.js') !== '4ef1854efcc3ba4d369f28deb5159836237ad925') {
			warn('File cannot be written (checksum mismatch): includes/oidplus_base.js');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1408\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1408') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

