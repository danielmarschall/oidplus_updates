<?php /* <ViaThinkSoftSignature>
eDQ9jWvd0vU8jhmHgtn6amGqjM0jZGco7Ru/YxhFDY0wG7A9A1q/rsSwCssVd5OgR
6FKBBZzmRh+azCZYdjruhAPQj0eWaQPwmRPbO2vwEKcnOwvZYbbLvE9QkAlFLrNsd
SeOfxBzfFczF6owE0sfRSLoUNaLjfI6mY7BPpufqQJr1BVfBrvkKY0T6Lt3/r6YVz
+3s41z29Q4VFvhNptXA2CazmId922CsNjXck/F5CobVmc3ZlVWXevOTJv/SB5YKyk
Lv/PI4TWDy1mTSAmkupI1ke5xS7sXycw/4UoyzE2bPPUiVaDWNvLDK3RixAs4c4Rg
5P6AAkWCpD9u2Os2kIgNjUrSCTueR9iZaYplxRrdQN6rE4RAFCa6xIWaKdAI0HbJQ
t7+lG+1KBe05VxZCK+DdR5MmuE7HJbiNUKAuiFyPyI8NSViDXBV265UC98cSxvVpI
Efx1VGdUi8IPU0rq3ad3k1pCUObYUeH098dWsXof14/uvfVUVc6L0GVvGIPddnF7w
o16t9e+WGSt6y0k4Ocr5e95oceGQ6DiKPm76vTe6pp8xW+EoC9UQVO6Z4L8t59BFr
YkCqaCk+0vVUy1spZ54Sce6rk3qzNp2VzkURZJzp4MwzwIm9+ISbDuCiXw0mnt8sV
Sz/tMk625KfJiW02OahKWTMtGNpBTaxum0UIv5++fV2oaUwpU54Pg+Vw/2iKt/Bs7
qtH4tXhGawrG8Vkb2s9NQrtZ8fEkvmXTx5tcudDVvDUPswNVchFTaAvuhTqaxNn5J
YRGg6Z3xks2V65FQs9hUY3nvIPVZNaroNwcnXAeTbdnqmKsk8WzCROk6NDGRWdXv3
yPf+tVpgzSizLm04WvvhMgtYXSQs6AaOH6gc0IbTSjLqpmZqEYljMNGbAVFviQx8f
QuAgMYc3VLXksTN9yl/55eC4dH0v5H0T6U8sJcjSaJf1ZpJ6uJAbi3v+qh7kiWvbj
2GhqidHxZdvpiKYXDapgJ0iNpNOGJDXx+ccNAo8mAqiyOa9JxaoKWVEcplfYYX7J6
wVHk0pZLkyJQ5g4y0bi5Lls0kunkkH0BXxfOfRAn02ENRTCfOLMYzjOFDCR6I6CEK
M/N2l+KNzMlCRanW5FtU1tQrDIaH26Bd51EdmYUyiH5o/cbNmUGUYLETM7ZOyELHQ
c0nXtuMraXxz+SZwVWRIj8ppMVBTq7sH4dHh1X9xj9Ff7VBuwWRTGKZUJ5FbgJDWw
4FON8k6w1VOtglSZ9cHRVAJNKbhDVaHVKdwYbjQcQ94EnFO1zxdKERd6/vhfo66v7
URJNOeawGC5YRg0t1hwh+VyeBa0HpTK2GWQFrDIyVB/RCqSjgrwy6ERqfKStyXhLB
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 211') {
	err('This update can only be applied to OIDplus version 2.0.0.211!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/gmp_supplement.inc.php
function writefile_1() {
	@$fp = fopen('includes/gmp_supplement.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHANCg0KLyoNCiAqIFBIUCBHTVAtU3VwcGxlbWVudCBpbXBsZW1lbnRlZCB1c2luZyBCQ01hdGgNCiAqIENvcHlyaWdodCAyMDIwIERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdA0KICogVmVyc2lvbiAyMDIwLTAyLTI5DQogKg0KICogTGljZW5zZWQg'));
	@fwrite($fp, base64_decode('dW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7DQogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuDQogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkg'));
	@fwrite($fp, base64_decode('b2YgdGhlIExpY2Vuc2UgYXQNCiAqDQogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wDQogKg0KICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0K'));
	@fwrite($fp, base64_decode('ICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywNCiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KICog'));
	@fwrite($fp, base64_decode('U2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogKi8NCg0KaWYgKGZ1bmN0aW9uX2V4aXN0cygnYmNhZGQnKSkgew0KCS8vIC0t'));
	@fwrite($fp, base64_decode('LS0tLS0tLS0tLS0tLS0tIEltcGxlbWVudGF0aW9uIG9mIEdNUCBmdW5jdGlvbnMgdXNpbmcgQkNNYXRoIC0tLS0tLS0tLS0tLS0tLS0tIA0KDQoJaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2dtcF9pbml0JykgKSB7DQoJCWRlZmluZSgnR01QX1JPVU5EX1pFUk8nLCAg'));
	@fwrite($fp, base64_decode('ICAgMCk7DQoJCWRlZmluZSgnR01QX1JPVU5EX1BMVVNJTkYnLCAgMSk7DQoJCWRlZmluZSgnR01QX1JPVU5EX01JTlVTSU5GJywgMik7DQoJCWRlZmluZSgnR01QX01TV19GSVJTVCcsICAgICAgMSk7DQoJCWRlZmluZSgnR01QX0xTV19GSVJTVCcsICAgICAgMik7'));
	@fwrite($fp, base64_decode('DQoJCWRlZmluZSgnR01QX0xJVFRMRV9FTkRJQU4nLCAgNCk7DQoJCWRlZmluZSgnR01QX0JJR19FTkRJQU4nLCAgICAgOCk7DQoJCWRlZmluZSgnR01QX05BVElWRV9FTkRJQU4nLCAxNik7DQoJCWRlZmluZSgnR01QX1ZFUlNJT04nLCAgJzYuMC4wJyk7DQoJDQoJ'));
	@fwrite($fp, base64_decode('CS8vIGdtcF9hYnMgKCBHTVAgJGEgKSA6IEdNUA0KCQkvLyBBYnNvbHV0ZSB2YWx1ZQ0KCQlmdW5jdGlvbiBnbXBfYWJzKCRhKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJaWYgKGJjY29tcCgkYSwgIjAiKSA9PSAxKSB7DQoJCQkJcmV0dXJuICRhOw0KCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IHsNCgkJCQlyZXR1cm4gYmNtdWwoJGEsICItMSIpOw0KCQkJfQ0KCQl9DQoJDQoJCS8vIGdtcF9hZGQgKCBHTVAgJGEgLCBHTVAgJGIgKSA6IEdNUA0KCQkvLyBBZGQgbnVtYmVycw0KCQlmdW5jdGlvbiBnbXBfYWRkKCRhLCAkYikgew0KCQkJYmNzY2FsZSgwKTsN'));
	@fwrite($fp, base64_decode('CgkJCQ0KCQkJLy8gYmNhZGQgKCBzdHJpbmcgJGxlZnRfb3BlcmFuZCAsIHN0cmluZyAkcmlnaHRfb3BlcmFuZCBbLCBpbnQgJHNjYWxlID0gMCBdICkgOiBzdHJpbmcNCgkJCXJldHVybiBiY2FkZCgkYSwgJGIpOw0KCQl9DQoJDQoJCS8vIGdtcF9hbmQgKCBHTVAg'));
	@fwrite($fp, base64_decode('JGEgLCBHTVAgJGIgKSA6IEdNUA0KCQkvLyBCaXR3aXNlIEFORA0KCQlmdW5jdGlvbiBnbXBfYW5kKCRhLCAkYikgew0KCQkJYmNzY2FsZSgwKTsNCgkJCS8vIENvbnZlcnQgJGEgYW5kICRiIHRvIGEgYmluYXJ5IHN0cmluZw0KCQkJJGFiID0gYmNfZGVjMmJpbigk'));
	@fwrite($fp, base64_decode('YSk7DQoJCQkkYmIgPSBiY19kZWMyYmluKCRiKTsNCgkJCSRsZW5ndGggPSBtYXgoc3RybGVuKCRhYiksIHN0cmxlbigkYmIpKTsNCgkJCSRhYiA9IHN0cl9wYWQoJGFiLCAkbGVuZ3RoLCAiMCIsIFNUUl9QQURfTEVGVCk7DQoJCQkkYmIgPSBzdHJfcGFkKCRiYiwg'));
	@fwrite($fp, base64_decode('JGxlbmd0aCwgIjAiLCBTVFJfUEFEX0xFRlQpOw0KCQkNCgkJCS8vIERvIHRoZSBiaXR3aXNlIGJpbmFyeSBvcGVyYXRpb24NCgkJCSRjYiA9ICcnOw0KCQkJZm9yICgkaT0wOyAkaTwkbGVuZ3RoOyAkaSsrKSB7DQoJCQkJJGNiIC49ICgoJGFiWyRpXSA9PSAxKSBh'));
	@fwrite($fp, base64_decode('bmQgKCRiYlskaV0gPT0gMSkpID8gJzEnIDogJzAnOw0KCQkJfQ0KCQkNCgkJCS8vIENvbnZlcnQgYmFjayB0byBhIGRlY2ltYWwgbnVtYmVyDQoJCQlyZXR1cm4gYmNfYmluMmRlYygkY2IpOw0KCQl9DQoJDQoJCS8vIGdtcF9iaW5vbWlhbCAoIG1peGVkICRuICwg'));
	@fwrite($fp, base64_decode('aW50ICRrICkgOiBHTVANCgkJLy8gQ2FsY3VsYXRlcyBiaW5vbWlhbCBjb2VmZmljaWVudA0KCQlmdW5jdGlvbiBnbXBfYmlub21pYWwoJG4sICRrKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiZ21wX2Jpbm9taWFsKCkgTk9UIElN'));
	@fwrite($fp, base64_decode('UExFTUVOVEVEIik7DQoJCX0NCgkNCgkJLy8gZ21wX2NscmJpdCAoIEdNUCAkYSAsIGludCAkaW5kZXggKSA6IHZvaWQNCgkJLy8gQ2xlYXIgYml0DQoJCWZ1bmN0aW9uIGdtcF9jbHJiaXQoJGEsICRpbmRleCkgew0KCQkJYmNzY2FsZSgwKTsNCgkJCXJldHVybiBn'));
	@fwrite($fp, base64_decode('bXBfc2V0Yml0KCRhLCAkaW5kZXgsIGZhbHNlKTsNCgkJfQ0KCQ0KCQkvLyBnbXBfY21wICggR01QICRhICwgR01QICRiICkgOiBpbnQNCgkJLy8gQ29tcGFyZSBudW1iZXJzDQoJCWZ1bmN0aW9uIGdtcF9jbXAoJGEsICRiKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJ'));
	@fwrite($fp, base64_decode('DQoJCQkvLyBiY2NvbXAgKCBzdHJpbmcgJGxlZnRfb3BlcmFuZCAsIHN0cmluZyAkcmlnaHRfb3BlcmFuZCBbLCBpbnQgJHNjYWxlID0gMCBdICkgOiBpbnQNCgkJCXJldHVybiBiY2NvbXAoJGEsICRiKTsNCgkJfQ0KCQ0KCQkvLyBnbXBfY29tICggR01QICRhICkg'));
	@fwrite($fp, base64_decode('OiBHTVANCgkJLy8gQ2FsY3VsYXRlcyBvbmUncyBjb21wbGVtZW50DQoJCWZ1bmN0aW9uIGdtcF9jb20oJGEpIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQkvLyBDb252ZXJ0ICRhIGFuZCAkYiB0byBhIGJpbmFyeSBzdHJpbmcNCgkJCSRhYiA9IGJjX2RlYzJiaW4oJGEp'));
	@fwrite($fp, base64_decode('Ow0KCQkNCgkJCS8vIFN3YXAgZXZlcnkgYml0DQoJCQlmb3IgKCRpPTA7ICRpPHN0cmxlbigkYWIpOyAkaSsrKSB7DQoJCQkJJGFiWyRpXSA9ICgkYWJbJGldID09ICcxJyA/ICcwJyA6ICcxJyk7DQoJCQl9DQoJCQ0KCQkJLy8gQ29udmVydCBiYWNrIHRvIGEgZGVj'));
	@fwrite($fp, base64_decode('aW1hbCBudW1iZXINCgkJCXJldHVybiBiY19iaW4yZGVjKCRhYik7DQoJCX0NCgkNCgkJLy8gZ21wX2Rpdl9xICggR01QICRhICwgR01QICRiIFssIGludCAkcm91bmQgPSBHTVBfUk9VTkRfWkVSTyBdICkgOiBHTVANCgkJLy8gRGl2aWRlIG51bWJlcnMNCgkJZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gZ21wX2Rpdl9xKCRhLCAkYiwgJHJvdW5kID0gR01QX1JPVU5EX1pFUk8vKiRyb3VuZCBub3QgaW1wbGVtZW50ZWQqLykgew0KCQkJYmNzY2FsZSgwKTsNCgkJCQ0KCQkJLy8gYmNkaXYgKCBzdHJpbmcgJGRpdmlkZW5kICwgc3RyaW5nICRkaXZpc29yIFss'));
	@fwrite($fp, base64_decode('IGludCAkc2NhbGUgPSAwIF0gKSA6IHN0cmluZw0KCQkJcmV0dXJuIGJjZGl2KCRhLCAkYik7DQoJCX0NCgkNCgkJLy8gRGl2aWRlIG51bWJlcnMgYW5kIGdldCBxdW90aWVudCBhbmQgcmVtYWluZGVyDQoJCS8vIGdtcF9kaXZfcXIgKCBHTVAgJG4gLCBHTVAgJGQg'));
	@fwrite($fp, base64_decode('WywgaW50ICRyb3VuZCA9IEdNUF9ST1VORF9aRVJPIF0gKSA6IGFycmF5DQoJCWZ1bmN0aW9uIGdtcF9kaXZfcXIoJG4sICRkLCAkcm91bmQgPSBHTVBfUk9VTkRfWkVSTy8qJHJvdW5kIG5vdCBpbXBsZW1lbnRlZCovKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJcmV0'));
	@fwrite($fp, base64_decode('dXJuIGFycmF5KA0KCQkJCWdtcF9kaXZfcSgkbiwgJGQsICRyb3VuZCksDQoJCQkJZ21wX2Rpdl9yKCRuLCAkZCwgJHJvdW5kKQ0KCQkJKTsNCgkJfQ0KCQ0KCQkvLyBSZW1haW5kZXIgb2YgdGhlIGRpdmlzaW9uIG9mIG51bWJlcnMNCgkJLy8gZ21wX2Rpdl9yICgg'));
	@fwrite($fp, base64_decode('R01QICRuICwgR01QICRkIFssIGludCAkcm91bmQgPSBHTVBfUk9VTkRfWkVSTyBdICkgOiBHTVANCgkJZnVuY3Rpb24gZ21wX2Rpdl9yKCRuLCAkZCwgJHJvdW5kID0gR01QX1JPVU5EX1pFUk8vKiRyb3VuZCBub3QgaW1wbGVtZW50ZWQqLykgew0KCQkJYmNzY2Fs'));
	@fwrite($fp, base64_decode('ZSgwKTsNCgkJCS8vIFRoZSByZW1haW5kZXIgb3BlcmF0b3IgY2FuIGJlIHVzZWQgd2l0aCBuZWdhdGl2ZSBpbnRlZ2Vycy4gVGhlIHJ1bGUgaXM6DQoJCQkvLyAtIFBlcmZvcm0gdGhlIG9wZXJhdGlvbiBhcyBpZiBib3RoIG9wZXJhbmRzIHdlcmUgcG9zaXRpdmUu'));
	@fwrite($fp, base64_decode('DQoJCQkvLyAtIElmIHRoZSBsZWZ0IG9wZXJhbmQgaXMgbmVnYXRpdmUsIHRoZW4gbWFrZSB0aGUgcmVzdWx0IG5lZ2F0aXZlLg0KCQkJLy8gLSBJZiB0aGUgbGVmdCBvcGVyYW5kIGlzIHBvc2l0aXZlLCB0aGVuIG1ha2UgdGhlIHJlc3VsdCBwb3NpdGl2ZS4NCgkJ'));
	@fwrite($fp, base64_decode('CS8vIC0gSWdub3JlIHRoZSBzaWduIG9mIHRoZSByaWdodCBvcGVyYW5kIGluIGFsbCBjYXNlcy4NCgkJCSRyID0gYmNtb2QoJG4sICRkKTsNCgkJCWlmIChiY2NvbXAoJG4sICIwIikgPCAwKSAkciA9IGJjbXVsKCRyLCAiLTEiKTsNCgkJCXJldHVybiAkcjsNCgkJ'));
	@fwrite($fp, base64_decode('fQ0KCQ0KCQkvLyBnbXBfZGl2ICggR01QICRhICwgR01QICRiIFssIGludCAkcm91bmQgPSBHTVBfUk9VTkRfWkVSTyBdICkgOiBHTVANCgkJLy8gRGl2aWRlIG51bWJlcnMNCgkJZnVuY3Rpb24gZ21wX2RpdigkYSwgJGIsICRyb3VuZCA9IEdNUF9ST1VORF9aRVJP'));
	@fwrite($fp, base64_decode('Lyokcm91bmQgbm90IGltcGxlbWVudGVkKi8pIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQlyZXR1cm4gZ21wX2Rpdl9xKCRhLCAkYiwgJHJvdW5kKTsgLy8gQWxpYXMgdm9uIGdtcF9kaXZfcQ0KCQl9DQoJDQoJCS8vIGdtcF9kaXZleGFjdCAoIEdNUCAkbiAsIEdNUCAk'));
	@fwrite($fp, base64_decode('ZCApIDogR01QDQoJCS8vIEV4YWN0IGRpdmlzaW9uIG9mIG51bWJlcnMNCgkJZnVuY3Rpb24gZ21wX2RpdmV4YWN0KCRuLCAkZCkgew0KCQkJYmNzY2FsZSgwKTsNCgkJCXJldHVybiBiY2RpdigkYSwgJGIpOw0KCQl9DQoJDQoJCS8vIGdtcF9leHBvcnQgKCBHTVAg'));
	@fwrite($fp, base64_decode('JGdtcG51bWJlciBbLCBpbnQgJHdvcmRfc2l6ZSA9IDEgWywgaW50ICRvcHRpb25zID0gR01QX01TV19GSVJTVCB8IEdNUF9OQVRJVkVfRU5ESUFOIF1dICkgOiBzdHJpbmcNCgkJLy8gRXhwb3J0IHRvIGEgYmluYXJ5IHN0cmluZw0KCQlmdW5jdGlvbiBnbXBfZXhw'));
	@fwrite($fp, base64_decode('b3J0KCRnbXBudW1iZXIsICR3b3JkX3NpemUgPSAxLCAkb3B0aW9ucyA9IEdNUF9NU1dfRklSU1QgfCBHTVBfTkFUSVZFX0VORElBTikgew0KCQkJaWYgKCR3b3JkX3NpemUgIT0gMSkgZGllKCJXb3JkIHNpemUgIT0gMSBub3QgaW1wbGVtZW50ZWQiKTsNCgkJCWlm'));
	@fwrite($fp, base64_decode('ICgkb3B0aW9ucyAhPSBHTVBfTVNXX0ZJUlNUIHwgR01QX05BVElWRV9FTkRJQU4pIGRpZSgiRGlmZmVyZW50IG9wdGlvbnMgbm90IGltcGxlbWVudGVkIik7DQoNCgkJCWJjc2NhbGUoMCk7DQoJCQkkZ21wbnVtYmVyID0gYmNtdWwoJGdtcG51bWJlciwiMSIpOyAv'));
	@fwrite($fp, base64_decode('LyBub3JtYWxpemUNCgkJCXJldHVybiBnbXBfaW5pdChiaW4yaGV4KCRnbXBudW1iZXIpLCAxNik7DQoJCX0NCgkNCgkJLy8gZ21wX2ZhY3QgKCBtaXhlZCAkYSApIDogR01QDQoJCS8vIEZhY3RvcmlhbA0KCQlmdW5jdGlvbiBnbXBfZmFjdCgkYSkgew0KCQkJYmNz'));
	@fwrite($fp, base64_decode('Y2FsZSgwKTsNCgkJCXJldHVybiBiY2ZhY3QoJGEpOw0KCQl9DQoJDQoJCS8vIGdtcF9nY2QgKCBHTVAgJGEgLCBHTVAgJGIgKSA6IEdNUA0KCQkvLyBDYWxjdWxhdGUgR0NEDQoJCWZ1bmN0aW9uIGdtcF9nY2QoJGEsICRiKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIGdtcF9nY2RleHQoJGEsICRiKVsnZyddOw0KCQl9DQoJDQoJCS8vIGdtcF9nY2RleHQgKCBHTVAgJGEgLCBHTVAgJGIgKSA6IGFycmF5DQoJCS8vIENhbGN1bGF0ZSBHQ0QgYW5kIG11bHRpcGxpZXJzDQoJCWZ1bmN0aW9uIGdtcF9nY2RleHQoJGEsICRi'));
	@fwrite($fp, base64_decode('KSB7DQoJCQliY3NjYWxlKDApOw0KDQoJCQkvLyBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9waHBzZWNsaWIvcGhwc2VjbGliL2Jsb2IvbWFzdGVyL3BocHNlY2xpYi9NYXRoL0JpZ0ludGVnZXIvRW5naW5lcy9CQ01hdGgucGhwI0wyODUNCgkJCS8vIG1vZGlm'));
	@fwrite($fp, base64_decode('aWVkIHRvIG1ha2UgaXQgZml0IGhlcmUgYW5kIHRvIGJlIGNvbXBhdGlibGUgd2l0aCBnbXBfZ2NkZXh0DQoJCQ0KCQkJJHMgPSAnMSc7DQoJCQkkdCA9ICcwJzsNCgkJCSRzXyA9ICcwJzsNCgkJCSR0XyA9ICcxJzsNCgkJDQoJCQl3aGlsZSAoYmNjb21wKCRiLCAn'));
	@fwrite($fp, base64_decode('MCcsIDApICE9IDApIHsNCgkJCQkkcSA9IGJjZGl2KCRhLCAkYiwgMCk7DQoJCQ0KCQkJCSR0ZW1wID0gJGE7DQoJCQkJJGEgPSAkYjsNCgkJCQkkYiA9IGJjc3ViKCR0ZW1wLCBiY211bCgkYiwgJHEsIDApLCAwKTsNCgkJDQoJCQkJJHRlbXAgPSAkczsNCgkJCQkk'));
	@fwrite($fp, base64_decode('cyA9ICRzXzsNCgkJCQkkc18gPSBiY3N1YigkdGVtcCwgYmNtdWwoJHMsICRxLCAwKSwgMCk7DQoJCQ0KCQkJCSR0ZW1wID0gJHQ7DQoJCQkJJHQgPSAkdF87DQoJCQkJJHRfID0gYmNzdWIoJHRlbXAsIGJjbXVsKCR0LCAkcSwgMCksIDApOw0KCQkJfQ0KCQkNCgkJ'));
	@fwrite($fp, base64_decode('CXJldHVybiBbDQoJCQkJJ2cnID0+ICR0aGlzLT5ub3JtYWxpemUoJGEpLA0KCQkJCSdzJyA9PiAkdGhpcy0+bm9ybWFsaXplKCRzKSwNCgkJCQkndCcgPT4gJHRoaXMtPm5vcm1hbGl6ZSgkdCkNCgkJCV07DQoJCX0NCgkNCgkJLy8gZ21wX2hhbWRpc3QgKCBHTVAg'));
	@fwrite($fp, base64_decode('JGEgLCBHTVAgJGIgKSA6IGludA0KCQkvLyBIYW1taW5nIGRpc3RhbmNlDQoJCWZ1bmN0aW9uIGdtcF9oYW1kaXN0KCRhLCAkYikgew0KCQkJYmNzY2FsZSgwKTsNCgkJCXRocm93IG5ldyBFeGNlcHRpb24oImdtcF9oYW1kaXN0KCkgTk9UIElNUExFTUVOVEVEIik7'));
	@fwrite($fp, base64_decode('DQoJCX0NCgkNCgkJLy8gZ21wX2ltcG9ydCAoIHN0cmluZyAkZGF0YSBbLCBpbnQgJHdvcmRfc2l6ZSA9IDEgWywgaW50ICRvcHRpb25zID0gR01QX01TV19GSVJTVCB8IEdNUF9OQVRJVkVfRU5ESUFOIF1dICkgOiBHTVANCgkJLy8gSW1wb3J0IGZyb20gYSBiaW5h'));
	@fwrite($fp, base64_decode('cnkgc3RyaW5nDQoJCWZ1bmN0aW9uIGdtcF9pbXBvcnQoJGRhdGEsICR3b3JkX3NpemU9MSwgJG9wdGlvbnM9R01QX01TV19GSVJTVCB8IEdNUF9OQVRJVkVfRU5ESUFOKSB7DQoJCQliY3NjYWxlKDApOw0KDQoJCQlpZiAoJHdvcmRfc2l6ZSAhPSAxKSBkaWUoIldv'));
	@fwrite($fp, base64_decode('cmQgc2l6ZSAhPSAxIG5vdCBpbXBsZW1lbnRlZCIpOw0KCQkJaWYgKCRvcHRpb25zICE9IEdNUF9NU1dfRklSU1QgfCBHTVBfTkFUSVZFX0VORElBTikgZGllKCJEaWZmZXJlbnQgb3B0aW9ucyBub3QgaW1wbGVtZW50ZWQiKTsNCg0KCQkJcmV0dXJuIGdtcF9pbml0'));
	@fwrite($fp, base64_decode('KGhleDJiaW4oZ21wX3N0cnZhbChnbXBfaW5pdCgkZGF0YSksIDE2KSkpOw0KCQl9DQoJDQoJCS8vIGdtcF9pbml0ICggbWl4ZWQgJG51bWJlciBbLCBpbnQgJGJhc2UgPSAwIF0gKSA6IEdNUA0KCQkvLyBDcmVhdGUgR01QIG51bWJlcg0KCQlmdW5jdGlvbiBnbXBf'));
	@fwrite($fp, base64_decode('aW5pdCgkbnVtYmVyLCAkYmFzZT0wKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJaWYgKCRiYXNlID09IDApIHsNCgkJCQkvLyBJZiBiYXNlIGlzIDAgKGRlZmF1bHQgdmFsdWUpLCB0aGUgYWN0dWFsIGJhc2UgaXMgZGV0ZXJtaW5lZCBmcm9tIHRoZSBsZWFkaW5nIGNo'));
	@fwrite($fp, base64_decode('YXJhY3RlcnM6DQoJCQkJLy8gaWYgdGhlIGZpcnN0IHR3byBjaGFyYWN0ZXJzIGFyZSAweCBvciAwWCwgaGV4YWRlY2ltYWwgaXMgYXNzdW1lZCwNCgkJCQkvLyBvdGhlcndpc2UgaWYgdGhlIGZpcnN0IGNoYXJhY3RlciBpcyAiMCIsIG9jdGFsIGlzIGFzc3VtZWQs'));
	@fwrite($fp, base64_decode('DQoJCQkJLy8gb3RoZXJ3aXNlIGRlY2ltYWwgaXMgYXNzdW1lZC4NCgkJCQlpZiAoc3RydG91cHBlcihzdWJzdHIoJG51bWJlciwgMCwgMikpID09ICcwWCcpIHsNCgkJCQkJJGJhc2UgPSAxNjsNCgkJCQl9IGVsc2UgaWYgKHN0cnRvdXBwZXIoc3Vic3RyKCRudW1i'));
	@fwrite($fp, base64_decode('ZXIsIDAsIDEpKSA9PSAnMCcpIHsNCgkJCQkJJGJhc2UgPSA4Ow0KCQkJCX0gZWxzZSB7DQoJCQkJCSRiYXNlID0gMTA7DQoJCQkJfQ0KCQkJfQ0KCQkJDQoJCQlpZiAoJGJhc2UgPT0gMTApIHsNCgkJCQlyZXR1cm4gJG51bWJlcjsNCgkJCX0gZWxzZSB7DQoJCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIGJhc2VfY29udmVydF9iaWdpbnQoJG51bWJlciwgJGJhc2UsIDEwKTsNCgkJCX0NCgkJfQ0KCQ0KCQkvLyBnbXBfaW50dmFsICggR01QICRnbXBudW1iZXIgKSA6IGludA0KCQkvLyBDb252ZXJ0IEdNUCBudW1iZXIgdG8gaW50ZWdlcg0KCQlmdW5jdGlv'));
	@fwrite($fp, base64_decode('biBnbXBfaW50dmFsKCRnbXBudW1iZXIpIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQlyZXR1cm4gKGludCkkZ21wbnVtYmVyOw0KCQl9DQoJDQoJCS8vIGdtcF9pbnZlcnQgKCBHTVAgJGEgLCBHTVAgJGIgKSA6IEdNUA0KCQkvLyBJbnZlcnNlIGJ5IG1vZHVsbw0KCQlm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBnbXBfaW52ZXJ0KCRhLCAkYikgew0KCQkJYmNzY2FsZSgwKTsNCgkJCQ0KCQkJLy8gU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vQ2l0eU9mWmlvbi9uZW8tcGhwL2Jsb2IvbWFzdGVyL3NyYy9DcnlwdG8vTnVtYmVyVGhlb3J5LnBocCNMMjQ2DQoN'));
	@fwrite($fp, base64_decode('CgkJCXdoaWxlIChiY2NvbXAoJGEsIDApPT0tMSkgew0KCQkJCSRhPWJjYWRkKCRtLCAkYSk7DQoJCQl9DQoJCQl3aGlsZSAoYmNjb21wKCRtLCAkYSk9PS0xKSB7DQoJCQkJJGE9YmNtb2QoJGEsICRtKTsNCgkJCX0NCgkJCSRjPSRhOw0KCQkJJGQ9JG07DQoJCQkk'));
	@fwrite($fp, base64_decode('dWM9MTsNCgkJCSR2Yz0wOw0KCQkJJHVkPTA7DQoJCQkkdmQ9MTsNCgkJCXdoaWxlIChiY2NvbXAoJGMsIDApIT0wKSB7DQoJCQkJJHRlbXAxPSRjOw0KCQkJCSRxPWJjZGl2KCRkLCAkYywgMCk7DQoJCQkJJGM9YmNtb2QoJGQsICRjKTsNCgkJCQkkZD0kdGVtcDE7'));
	@fwrite($fp, base64_decode('DQoJCQkJJHRlbXAyPSR1YzsNCgkJCQkkdGVtcDM9JHZjOw0KCQkJCSR1Yz1iY3N1YigkdWQsIGJjbXVsKCRxLCAkdWMpKTsNCgkJCQkkdmM9YmNzdWIoJHZkLCBiY211bCgkcSwgJHZjKSk7DQoJCQkJJHVkPSR0ZW1wMjsNCgkJCQkkdmQ9JHRlbXAzOw0KCQkJfQ0K'));
	@fwrite($fp, base64_decode('CQkJJHJlc3VsdD0nJzsNCgkJCWlmIChiY2NvbXAoJGQsIDEpPT0wKSB7DQoJCQkJaWYgKGJjY29tcCgkdWQsIDApPT0xKSB7DQoJCQkJCSRyZXN1bHQ9JHVkOw0KCQkJCX0gZWxzZSB7DQoJCQkJCSRyZXN1bHQ9YmNhZGQoJHVkLCAkbSk7DQoJCQkJfQ0KCQkJfSBl'));
	@fwrite($fp, base64_decode('bHNlIHsNCgkJCQl0aHJvdyBuZXcgRXJyb3JFeGNlcHRpb24oIkVSUk9SOiAkYSBhbmQgJG0gYXJlIE5PVCByZWxhdGl2ZWx5IHByaW1lLiIpOw0KCQkJfQ0KCQkJcmV0dXJuICRyZXN1bHQ7DQoJCX0NCgkNCgkJLy8gZ21wX2phY29iaSAoIEdNUCAkYSAsIEdNUCAk'));
	@fwrite($fp, base64_decode('cCApIDogaW50DQoJCS8vIEphY29iaSBzeW1ib2wNCgkJZnVuY3Rpb24gZ21wX2phY29iaSgkYSwgJHApIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQkNCgkJCS8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL0NpdHlPZlppb24vbmVvLXBocC9ibG9iL21hc3Rlci9z'));
	@fwrite($fp, base64_decode('cmMvQ3J5cHRvL051bWJlclRoZW9yeS5waHAjTDEzNg0KDQoJCQlpZiAoJG4+PTMgJiYgJG4lMj09MSkgew0KCQkJCSRhID0gYmNtb2QoJGEsICRuKTsNCgkJCQlpZiAoJGEgPT0gMCkgcmV0dXJuIDA7DQoJCQkJaWYgKCRhID09IDEpIHJldHVybiAxOw0KCQkJCSRh'));
	@fwrite($fp, base64_decode('MSA9ICRhOw0KCQkJCSRlID0gMDsNCgkJCQl3aGlsZSAoYmNtb2QoJGExLCAyKSA9PSAwKSB7DQoJCQkJCSRhMSA9IGJjZGl2KCRhMSwgMik7DQoJCQkJCSRlID0gYmNhZGQoJGUsIDEpOw0KCQkJCX0NCgkJCQkkcyA9IChiY21vZCgkZSwgMik9PTAgfHwgYmNtb2Qo'));
	@fwrite($fp, base64_decode('JG4sIDgpPT0xIHx8IGJjbW9kKCRuLCA4KT09NykgPyAxIDogLTE7DQoJCQkJaWYgKCRhMSA9PSAxKSByZXR1cm4gJHM7DQoJCQkJaWYgKGJjbW9kKCRuLCA0KT09MyAmJiBiY21vZCgkYTEsIDQpPT0zKSAkcyA9IC0kczsNCgkJCQlyZXR1cm4gYmNtdWwoJHMsIGdt'));
	@fwrite($fp, base64_decode('cF9qYWNvYmkoYmNtb2QoJG4sICRhMSksICRhMSkpOw0KCQkJfSBlbHNlIHsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCX0NCgkNCgkJLy8gZ21wX2tyb25lY2tlciAoIG1peGVkICRhICwgbWl4ZWQgJGIgKSA6IGludA0KCQkvLyBLcm9uZWNrZXIgc3ltYm9s'));
	@fwrite($fp, base64_decode('DQoJCWZ1bmN0aW9uIGdtcF9rcm9uZWNrZXIoJGEsICRiKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiZ21wX2tyb25lY2tlcigpIE5PVCBJTVBMRU1FTlRFRCIpOw0KCQl9DQoJDQoJCS8vIGdtcF9sY20gKCBtaXhlZCAkYSAsIG1p'));
	@fwrite($fp, base64_decode('eGVkICRiICkgOiBHTVANCgkJLy8gQ2FsY3VsYXRlIExDTQ0KCQlmdW5jdGlvbiBnbXBfbGNtKCRhLCAkYikgew0KCQkJYmNzY2FsZSgwKTsNCgkJCQ0KCQkJaWYgKChiY2NvbXAoJGEsJzAnKT09MCkgJiYgKGJjY29tcCgkYiwnMCcpPT0wKSkgew0KCQkJCXJldHVy'));
	@fwrite($fp, base64_decode('biAwOw0KCQkJfSBlbHNlIHsNCgkJCQlyZXR1cm4gZ21wX2RpdihnbXBfYWJzKGdtcF9tdWwoJGEsJGIpKSwgZ21wX2djZCgkYSwkYikpOw0KCQkJfQ0KCQl9DQoJDQoJCS8vIGdtcF9sZWdlbmRyZSAoIEdNUCAkYSAsIEdNUCAkcCApIDogaW50DQoJCS8vIExlZ2Vu'));
	@fwrite($fp, base64_decode('ZHJlIHN5bWJvbA0KCQlmdW5jdGlvbiBnbXBfbGVnZW5kcmUoJGEsICRwKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiZ21wX2xlZ2VuZHJlKCkgTk9UIElNUExFTUVOVEVEIik7DQoJCX0NCgkNCgkJLy8gZ21wX21vZCAoIEdNUCAk'));
	@fwrite($fp, base64_decode('biAsIEdNUCAkZCApIDogR01QDQoJCS8vIE1vZHVsbyBvcGVyYXRpb24NCgkJZnVuY3Rpb24gZ21wX21vZCgkbiwgJGQpIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQkNCgkJCS8vIGJjbW9kICggc3RyaW5nICRkaXZpZGVuZCAsIHN0cmluZyAkZGl2aXNvciBbLCBpbnQg'));
	@fwrite($fp, base64_decode('JHNjYWxlID0gMCBdICkgOiBzdHJpbmcNCgkJCXJldHVybiBiY21vZCgkbiwgJGQpOw0KCQl9DQoJDQoJCS8vIGdtcF9tdWwgKCBHTVAgJGEgLCBHTVAgJGIgKSA6IEdNUA0KCQkvLyBNdWx0aXBseSBudW1iZXJzDQoJCWZ1bmN0aW9uIGdtcF9tdWwoJGEsICRiKSB7'));
	@fwrite($fp, base64_decode('DQoJCQliY3NjYWxlKDApOw0KDQoJCQkvLyBiY211bCAoIHN0cmluZyAkbGVmdF9vcGVyYW5kICwgc3RyaW5nICRyaWdodF9vcGVyYW5kIFssIGludCAkc2NhbGUgPSAwIF0gKSA6IHN0cmluZw0KCQkJcmV0dXJuIGJjbXVsKCRhLCAkYik7DQoJCX0NCgkNCgkJLy8g'));
	@fwrite($fp, base64_decode('Z21wX25lZyAoIEdNUCAkYSApIDogR01QDQoJCS8vIE5lZ2F0ZSBudW1iZXINCgkJZnVuY3Rpb24gZ21wX25lZygkYSkgew0KCQkJYmNzY2FsZSgwKTsNCgkJCXJldHVybiBiY211bCgkYSwgIi0xIik7DQoJCX0NCgkNCgkJLy8gZ21wX25leHRwcmltZSAoIGludCAk'));
	@fwrite($fp, base64_decode('YSApIDogR01QDQoJCS8vIEZpbmQgbmV4dCBwcmltZSBudW1iZXINCgkJZnVuY3Rpb24gZ21wX25leHRwcmltZSgkYSkgew0KCQkJYmNzY2FsZSgwKTsNCgkJCQ0KCQkJLy8gU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vQ2l0eU9mWmlvbi9uZW8tcGhwL2Jsb2Iv'));
	@fwrite($fp, base64_decode('bWFzdGVyL3NyYy9DcnlwdG8vTnVtYmVyVGhlb3J5LnBocCNMNjkyDQoJCQkNCgkJCWlmIChiY2NvbXAoJHN0YXJ0aW5nX3ZhbHVlLCAyKSA9PSAtMSkgew0KCQkJCXJldHVybiAyOw0KCQkJfQ0KCQkJJHJlc3VsdCA9IGdtcF9vcihiY2FkZCgkc3RhcnRpbmdfdmFs'));
	@fwrite($fp, base64_decode('dWUsIDEpLCAxKTsNCgkJCXdoaWxlICghZ21wX3Byb2JfcHJpbWUoJHJlc3VsdCkpIHsNCgkJCQkkcmVzdWx0ID0gYmNhZGQoJHJlc3VsdCwgMik7DQoJCQl9DQoJCQlyZXR1cm4gJHJlc3VsdDsJCQkNCgkJfQ0KCQ0KCQkvLyBnbXBfb3IgKCBHTVAgJGEgLCBHTVAg'));
	@fwrite($fp, base64_decode('JGIgKSA6IEdNUA0KCQkvLyBCaXR3aXNlIE9SDQoJCWZ1bmN0aW9uIGdtcF9vcigkYSwgJGIpIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQkvLyBDb252ZXJ0ICRhIGFuZCAkYiB0byBhIGJpbmFyeSBzdHJpbmcNCgkJCSRhYiA9IGJjX2RlYzJiaW4oJGEpOw0KCQkJJGJi'));
	@fwrite($fp, base64_decode('ID0gYmNfZGVjMmJpbigkYik7DQoJCQkkbGVuZ3RoID0gbWF4KHN0cmxlbigkYWIpLCBzdHJsZW4oJGJiKSk7DQoJCQkkYWIgPSBzdHJfcGFkKCRhYiwgJGxlbmd0aCwgIjAiLCBTVFJfUEFEX0xFRlQpOw0KCQkJJGJiID0gc3RyX3BhZCgkYmIsICRsZW5ndGgsICIw'));
	@fwrite($fp, base64_decode('IiwgU1RSX1BBRF9MRUZUKTsNCgkJDQoJCQkvLyBEbyB0aGUgYml0d2lzZSBiaW5hcnkgb3BlcmF0aW9uDQoJCQkkY2IgPSAnJzsNCgkJCWZvciAoJGk9MDsgJGk8JGxlbmd0aDsgJGkrKykgew0KCQkJCSRjYiAuPSAoKCRhYlskaV0gPT0gMSkgb3IgKCRiYlskaV0g'));
	@fwrite($fp, base64_decode('PT0gMSkpID8gJzEnIDogJzAnOw0KCQkJfQ0KCQkNCgkJCS8vIENvbnZlcnQgYmFjayB0byBhIGRlY2ltYWwgbnVtYmVyDQoJCQlyZXR1cm4gYmNfYmluMmRlYygkY2IpOw0KCQl9DQoJDQoJCS8vIGdtcF9wZXJmZWN0X3Bvd2VyICggbWl4ZWQgJGEgKSA6IGJvb2wN'));
	@fwrite($fp, base64_decode('CgkJLy8gUGVyZmVjdCBwb3dlciBjaGVjaw0KCQlmdW5jdGlvbiBnbXBfcGVyZmVjdF9wb3dlcigkYSkgew0KCQkJYmNzY2FsZSgwKTsNCgkJCXRocm93IG5ldyBFeGNlcHRpb24oImdtcF9wZXJmZWN0X3Bvd2VyKCkgTk9UIElNUExFTUVOVEVEIik7DQoJCX0NCgkN'));
	@fwrite($fp, base64_decode('CgkJLy8gZ21wX3BlcmZlY3Rfc3F1YXJlICggR01QICRhICkgOiBib29sDQoJCS8vIFBlcmZlY3Qgc3F1YXJlIGNoZWNrDQoJCWZ1bmN0aW9uIGdtcF9wZXJmZWN0X3NxdWFyZSgkYSkgew0KCQkJYmNzY2FsZSgwKTsNCgkJCXRocm93IG5ldyBFeGNlcHRpb24oImdt'));
	@fwrite($fp, base64_decode('cF9wZXJmZWN0X3NxdWFyZSgpIE5PVCBJTVBMRU1FTlRFRCIpOw0KCQl9DQoJDQoJCS8vIGdtcF9wb3Bjb3VudCAoIEdNUCAkYSApIDogaW50DQoJCS8vIFBvcHVsYXRpb24gY291bnQNCgkJZnVuY3Rpb24gZ21wX3BvcGNvdW50KCRhKSB7DQoJCQliY3NjYWxlKDAp'));
	@fwrite($fp, base64_decode('Ow0KCQkJJGFiID0gYmNfZGVjMmJpbigkYSk7DQoJCQlyZXR1cm4gc3Vic3RyX2NvdW50KCRhYiwgJzEnKTsNCgkJfQ0KCQ0KCQkvLyBnbXBfcG93ICggR01QICRiYXNlICwgaW50ICRleHAgKSA6IEdNUA0KCQkvLyBSYWlzZSBudW1iZXIgaW50byBwb3dlcg0KCQlm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBnbXBfcG93KCRiYXNlLCAkZXhwKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJDQoJCQkvLyBiY3BvdyAoIHN0cmluZyAkYmFzZSAsIHN0cmluZyAkZXhwb25lbnQgWywgaW50ICRzY2FsZSA9IDAgXSApIDogc3RyaW5nDQoJCQlyZXR1cm4gYmNwb3coJGJh'));
	@fwrite($fp, base64_decode('c2UsICRleHApOw0KCQl9DQoJDQoJCS8vIGdtcF9wb3dtICggR01QICRiYXNlICwgR01QICRleHAgLCBHTVAgJG1vZCApIDogR01QDQoJCS8vIFJhaXNlIG51bWJlciBpbnRvIHBvd2VyIHdpdGggbW9kdWxvDQoJCWZ1bmN0aW9uIGdtcF9wb3dtKCRiYXNlLCAkZXhw'));
	@fwrite($fp, base64_decode('LCAkbW9kKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJDQoJCQkvLyBiY3Bvd21vZCAoIHN0cmluZyAkYmFzZSAsIHN0cmluZyAkZXhwb25lbnQgLCBzdHJpbmcgJG1vZHVsdXMgWywgaW50ICRzY2FsZSA9IDAgXSApIDogc3RyaW5nDQoJCQlyZXR1cm4gYmNwb3dtb2Qo'));
	@fwrite($fp, base64_decode('JGJhc2UsICRleHAsICRtb2QpOw0KCQl9DQoJDQoJCS8vIGdtcF9wcm9iX3ByaW1lICggR01QICRhIFssIGludCAkcmVwcyA9IDEwIF0gKSA6IGludA0KCQkvLyBDaGVjayBpZiBudW1iZXIgaXMgInByb2JhYmx5IHByaW1lIg0KCQlmdW5jdGlvbiBnbXBfcHJvYl9w'));
	@fwrite($fp, base64_decode('cmltZSgkYSwgJHJlcHM9MTApIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQkNCgkJCS8vIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL0NpdHlPZlppb24vbmVvLXBocC9ibG9iL21hc3Rlci9zcmMvQ3J5cHRvL051bWJlclRoZW9yeS5waHAjTDY1NQ0KDQoJCQkkdCA9'));
	@fwrite($fp, base64_decode('IDQwOw0KCQkJJGsgPSAwOw0KCQkJJG0gPSBiY3N1YigkbiwgMSk7DQoJCQl3aGlsZSAoYmNtb2QoJG0sIDIpID09IDApIHsNCgkJCQkkayA9IGJjYWRkKCRrLCAxKTsNCgkJCQkkbSA9IGJjZGl2KCRtLCAyKTsNCgkJCX0NCgkJCWZvciAoJGk9MDsgJGk8JHQ7ICRp'));
	@fwrite($fp, base64_decode('KyspIHsNCgkJCQkkYSA9IGJjcmFuZCgxLCBiY3N1YigkbiwgMSkpOw0KCQkJCWlmICgkbSA8IDApIHsNCgkJCQkJcmV0dXJuIG5ldyBFcnJvckV4Y2VwdGlvbigiTmVnYXRpdmUgZXhwb25lbnRzICgkbSkgbm90IGFsbG93ZWQiKTsNCgkJCQl9IGVsc2Ugew0KCQkJ'));
	@fwrite($fp, base64_decode('CQkkYjAgPSBiY3Bvd21vZCgkYSwgJG0sICRuKTsNCgkJCQl9CQkJCQ0KCQkJCWlmICgkYjAhPTEgJiYgJGIwIT1iY3N1YigkbiwgMSkpIHsNCgkJCQkJJGogPSAxOw0KCQkJCQl3aGlsZSAoJGo8PSRrLTEgJiYgJGIwIT1iY3N1YigkbiwgMSkpIHsNCgkJCQkJCSRi'));
	@fwrite($fp, base64_decode('MCA9IGJjcG93bW9kKCRiMCwgMiwgJG4pOw0KCQkJCQkJaWYgKCRiMCA9PSAxKSB7DQoJCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQkJfQ0KCQkJCQkJJGorKzsNCgkJCQkJfQ0KCQkJCQlpZiAoJGIwICE9IGJjc3ViKCRuLCAxKSkgew0KCQkJCQkJcmV0dXJuIGZh'));
	@fwrite($fp, base64_decode('bHNlOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJcmV0dXJuIHRydWU7CQkJDQoJCX0NCgkNCgkJLy8gZ21wX3JhbmRvbV9iaXRzICggaW50ICRiaXRzICkgOiBHTVANCgkJLy8gUmFuZG9tIG51bWJlcg0KCQlmdW5jdGlvbiBnbXBfcmFuZG9tX2JpdHMoJGJpdHMp'));
	@fwrite($fp, base64_decode('IHsNCgkJCWJjc2NhbGUoMCk7CQkJDQoJCQkkbWluID0gMDsNCgkJCSRtYXggPSBiY3N1YihiY3BvdygnMicsICRiaXRzKSwgJzEnKTsNCgkJCXJldHVybiBiY3JhbmQoJG1pbiwgJG1heCk7DQoJCX0NCgkNCgkJLy8gZ21wX3JhbmRvbV9yYW5nZSAoIEdNUCAkbWlu'));
	@fwrite($fp, base64_decode('ICwgR01QICRtYXggKSA6IEdNUA0KCQkvLyBSYW5kb20gbnVtYmVyDQoJCWZ1bmN0aW9uIGdtcF9yYW5kb21fcmFuZ2UoJG1pbiwgJG1heCkgew0KCQkJYmNzY2FsZSgwKTsNCgkJCXJldHVybiBiY3JhbmQoJG1pbiwgJG1heCk7DQoJCX0NCgkNCgkJLy8gZ21wX3Jh'));
	@fwrite($fp, base64_decode('bmRvbV9zZWVkICggbWl4ZWQgJHNlZWQgKSA6IHZvaWQNCgkJLy8gU2V0cyB0aGUgUk5HIHNlZWQNCgkJZnVuY3Rpb24gZ21wX3JhbmRvbV9zZWVkKCRzZWVkKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJYmNyYW5kX3NlZWQoJHNlZWQpOw0KCQl9DQoJDQoJCS8vIGdt'));
	@fwrite($fp, base64_decode('cF9yYW5kb20gKFsgaW50ICRsaW1pdGVyID0gMjAgXSApIDogR01QDQoJCS8vIFJhbmRvbSBudW1iZXIgKGRlcHJlY2F0ZWQpDQoJCWZ1bmN0aW9uIGdtcF9yYW5kb20oJGxpbWl0ZXI9MjApIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQl0aHJvdyBuZXcgRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KCJnbXBfcmFuZG9tKCkgaXMgZGVwcmVjYXRlZCEgUGxlYXNlIHVzZSBnbXBfcmFuZG9tX2JpdHMoKSBvciBnbXBfcmFuZG9tX3JhbmdlKCkgaW5zdGVhZC4iKTsNCgkJfQ0KCQ0KCQkvLyBnbXBfcm9vdCAoIEdNUCAkYSAsIGludCAkbnRoICkgOiBHTVANCgkJLy8g'));
	@fwrite($fp, base64_decode('VGFrZSB0aGUgaW50ZWdlciBwYXJ0IG9mIG50aCByb290DQoJCWZ1bmN0aW9uIGdtcF9yb290KCRhLCAkbnRoKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiZ21wX3Jvb3QoKSBOT1QgSU1QTEVNRU5URUQiKTsNCgkJfQ0KCQ0KCQkv'));
	@fwrite($fp, base64_decode('LyBnbXBfcm9vdHJlbSAoIEdNUCAkYSAsIGludCAkbnRoICkgOiBhcnJheQ0KCQkvLyBUYWtlIHRoZSBpbnRlZ2VyIHBhcnQgYW5kIHJlbWFpbmRlciBvZiBudGggcm9vdA0KCQlmdW5jdGlvbiBnbXBfcm9vdHJlbSgkYSwgJG50aCkgew0KCQkJYmNzY2FsZSgwKTsN'));
	@fwrite($fp, base64_decode('CgkJCXRocm93IG5ldyBFeGNlcHRpb24oImdtcF9yb290cmVtKCkgTk9UIElNUExFTUVOVEVEIik7DQoJCX0NCgkNCgkJLy8gZ21wX3NjYW4wICggR01QICRhICwgaW50ICRzdGFydCApIDogaW50DQoJCS8vIFNjYW4gZm9yIDANCgkJZnVuY3Rpb24gZ21wX3NjYW4w'));
	@fwrite($fp, base64_decode('KCRhLCAkc3RhcnQpIHsNCgkJCWJjc2NhbGUoMCk7DQoNCgkJCSRhYiA9IGJjX2RlYzJiaW4oJGEpOw0KCQkJDQoJCQlpZiAoJHN0YXJ0IDwgMCkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiU3RhcnRpbmcgaW5kZXggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwg'));
	@fwrite($fp, base64_decode('dG8gemVybyIpOw0KCQkJaWYgKCRzdGFydCA+PSBzdHJsZW4oJGFiKSkgcmV0dXJuICRzdGFydDsNCg0KCQkJZm9yICgkaT0kc3RhcnQ7ICRpPHN0cmxlbigkYWIpOyAkaSsrKSB7DQoJCQkJaWYgKCRhYltzdHJsZW4oJGFiKS0xLSRpXSA9PSAnMCcpIHsNCgkJCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuICRpOw0KCQkJCX0NCgkJCX0NCgkJCQ0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoJDQoJCS8vIGdtcF9zY2FuMSAoIEdNUCAkYSAsIGludCAkc3RhcnQgKSA6IGludA0KCQkvLyBTY2FuIGZvciAxDQoJCWZ1bmN0aW9uIGdtcF9zY2FuMSgkYSwgJHN0YXJ0'));
	@fwrite($fp, base64_decode('KSB7DQoJCQliY3NjYWxlKDApOw0KDQoJCQkkYWIgPSBiY19kZWMyYmluKCRhKTsNCgkJCQ0KCQkJaWYgKCRzdGFydCA8IDApIHRocm93IG5ldyBFeGNlcHRpb24oIlN0YXJ0aW5nIGluZGV4IG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHplcm8iKTsN'));
	@fwrite($fp, base64_decode('CgkJCWlmICgkc3RhcnQgPj0gc3RybGVuKCRhYikpIHJldHVybiAtMTsNCg0KCQkJZm9yICgkaT0kc3RhcnQ7ICRpPHN0cmxlbigkYWIpOyAkaSsrKSB7DQoJCQkJaWYgKCRhYltzdHJsZW4oJGFiKS0xLSRpXSA9PSAnMScpIHsNCgkJCQkJcmV0dXJuICRpOw0KCQkJ'));
	@fwrite($fp, base64_decode('CX0NCgkJCX0NCgkJCQ0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9DQoJDQoJCS8vIGdtcF9zZXRiaXQgKCBHTVAgJGEgLCBpbnQgJGluZGV4IFssIGJvb2wgJGJpdF9vbiA9IFRSVUUgXSApIDogdm9pZA0KCQkvLyBTZXQgYml0DQoJCWZ1bmN0aW9uIGdtcF9zZXRiaXQo'));
	@fwrite($fp, base64_decode('JGEsICRpbmRleCwgJGJpdF9vbj1UUlVFKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJJGFiID0gYmNfZGVjMmJpbigkYSk7DQoJCQkNCgkJCWlmICgkaW5kZXggPCAwKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIGluZGV4Iik7CQkNCgkJCWlmICgkaW5kZXgg'));
	@fwrite($fp, base64_decode('Pj0gc3RybGVuKCRhYikpIHsNCgkJCQkkYWIgPSBzdHJfcGFkKCRhYiwgJGluZGV4KzEsICcwJywgU1RSX1BBRF9MRUZUKTsNCgkJCX0NCgkJCQ0KCQkJJGFiW3N0cmxlbigkYWIpLTEtJGluZGV4XSA9ICRiaXRfb24gPyAnMScgOiAnMCc7IA0KCQkJDQoJCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gYmNfYmluMmRlYygkYWIpOw0KCQl9DQoJDQoJCS8vIGdtcF9zaWduICggR01QICRhICkgOiBpbnQNCgkJLy8gU2lnbiBvZiBudW1iZXINCgkJZnVuY3Rpb24gZ21wX3NpZ24oJGEpIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQlyZXR1cm4gYmNjb21wKCRhLCAiMCIp'));
	@fwrite($fp, base64_decode('Ow0KCQl9DQoJDQoJCS8vIGdtcF9zcXJ0ICggR01QICRhICkgOiBHTVANCgkJLy8gQ2FsY3VsYXRlIHNxdWFyZSByb290DQoJCWZ1bmN0aW9uIGdtcF9zcXJ0KCRhKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJDQoJCQkvLyBiY3NxcnQgKCBzdHJpbmcgJG9wZXJhbmQg'));
	@fwrite($fp, base64_decode('WywgaW50ICRzY2FsZSA9IDAgXSApIDogc3RyaW5nDQoJCQlyZXR1cm4gYmNzcXJ0KCRhKTsNCgkJfQ0KCQ0KCQkvLyBnbXBfc3FydHJlbSAoIEdNUCAkYSApIDogYXJyYXkNCgkJLy8gU3F1YXJlIHJvb3Qgd2l0aCByZW1haW5kZXINCgkJZnVuY3Rpb24gZ21wX3Nx'));
	@fwrite($fp, base64_decode('cnRyZW0oJGEpIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJnbXBfc3FydHJlbSgpIE5PVCBJTVBMRU1FTlRFRCIpOw0KCQl9DQoJDQoJCS8vIGdtcF9zdHJ2YWwgKCBHTVAgJGdtcG51bWJlciBbLCBpbnQgJGJhc2UgPSAxMCBdICkg'));
	@fwrite($fp, base64_decode('OiBzdHJpbmcNCgkJLy8gQ29udmVydCBHTVAgbnVtYmVyIHRvIHN0cmluZw0KCQlmdW5jdGlvbiBnbXBfc3RydmFsKCRnbXBudW1iZXIsICRiYXNlPTEwKSB7DQoJCQliY3NjYWxlKDApOw0KCQkJaWYgKCRiYXNlID09IDEwKSB7DQoJCQkJcmV0dXJuICRnbXBudW1i'));
	@fwrite($fp, base64_decode('ZXI7DQoJCQl9IGVsc2Ugew0KCQkJCXJldHVybiBiYXNlX2NvbnZlcnRfYmlnaW50KCRnbXBudW1iZXIsIDEwLCAkYmFzZSk7DQoJCQl9DQoJCX0NCgkNCgkJLy8gZ21wX3N1YiAoIEdNUCAkYSAsIEdNUCAkYiApIDogR01QDQoJCS8vIFN1YnRyYWN0IG51bWJlcnMN'));
	@fwrite($fp, base64_decode('CgkJZnVuY3Rpb24gZ21wX3N1YigkYSwgJGIpIHsNCgkJCWJjc2NhbGUoMCk7DQoJCQkNCgkJCS8vIGJjc3ViICggc3RyaW5nICRsZWZ0X29wZXJhbmQgLCBzdHJpbmcgJHJpZ2h0X29wZXJhbmQgWywgaW50ICRzY2FsZSA9IDAgXSApIDogc3RyaW5nDQoJCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gYmNzdWIoJGEsICRiKTsNCgkJfQ0KCQ0KCQkvLyBnbXBfdGVzdGJpdCAoIEdNUCAkYSAsIGludCAkaW5kZXggKSA6IGJvb2wNCgkJLy8gVGVzdHMgaWYgYSBiaXQgaXMgc2V0DQoJCWZ1bmN0aW9uIGdtcF90ZXN0Yml0KCRhLCAkaW5kZXgpIHsNCgkJCWJjc2Nh'));
	@fwrite($fp, base64_decode('bGUoMCk7DQoJCQkkYWIgPSBiY19kZWMyYmluKCRhKTsNCgkJCQ0KCQkJaWYgKCRpbmRleCA8IDApIHRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgaW5kZXgiKTsJCQ0KCQkJaWYgKCRpbmRleCA+PSBzdHJsZW4oJGFiKSkgcmV0dXJuICgnMCcgPT0gJzEnKTsg'));
	@fwrite($fp, base64_decode('DQoJCQkNCgkJCXJldHVybiAkYWJbc3RybGVuKCRhYiktMS0kaW5kZXhdID09ICcxJzsNCgkJfQ0KCQ0KCQkvLyBnbXBfeG9yICggR01QICRhICwgR01QICRiICkgOiBHTVANCgkJLy8gQml0d2lzZSBYT1INCgkJZnVuY3Rpb24gZ21wX3hvcigkYSwgJGIpIHsNCgkJ'));
	@fwrite($fp, base64_decode('CWJjc2NhbGUoMCk7DQoJCQkvLyBDb252ZXJ0ICRhIGFuZCAkYiB0byBhIGJpbmFyeSBzdHJpbmcNCgkJCSRhYiA9IGJjX2RlYzJiaW4oJGEpOw0KCQkJJGJiID0gYmNfZGVjMmJpbigkYik7DQoJCQkkbGVuZ3RoID0gbWF4KHN0cmxlbigkYWIpLCBzdHJsZW4oJGJi'));
	@fwrite($fp, base64_decode('KSk7DQoJCQkkYWIgPSBzdHJfcGFkKCRhYiwgJGxlbmd0aCwgIjAiLCBTVFJfUEFEX0xFRlQpOw0KCQkJJGJiID0gc3RyX3BhZCgkYmIsICRsZW5ndGgsICIwIiwgU1RSX1BBRF9MRUZUKTsNCgkJDQoJCQkvLyBEbyB0aGUgYml0d2lzZSBiaW5hcnkgb3BlcmF0aW9u'));
	@fwrite($fp, base64_decode('DQoJCQkkY2IgPSAnJzsNCgkJCWZvciAoJGk9MDsgJGk8JGxlbmd0aDsgJGkrKykgew0KCQkJCSRjYiAuPSAoKCRhYlskaV0gPT0gMSkgeG9yICgkYmJbJGldID09IDEpKSA/ICcxJyA6ICcwJzsNCgkJCX0NCgkJDQoJCQkvLyBDb252ZXJ0IGJhY2sgdG8gYSBkZWNp'));
	@fwrite($fp, base64_decode('bWFsIG51bWJlcg0KCQkJcmV0dXJuIGJjX2JpbjJkZWMoJGNiKTsNCgkJfQ0KCX0NCgkNCgkvLyAtLS0tLS0tLS0tLS0tLS0tLSBIZWxwZXIgZnVuY3Rpb25zIC0tLS0tLS0tLS0tLS0tLS0tDQoJDQoJZnVuY3Rpb24gYmFzZV9jb252ZXJ0X2JpZ2ludCgkbnVtc3Ry'));
	@fwrite($fp, base64_decode('aW5nLCAkZnJvbWJhc2UsICR0b2Jhc2UpIHsNCgkJJGZyb21iYXNlX3N0ciA9ICcnOw0KCQlmb3IgKCRpPTA7ICRpPCRmcm9tYmFzZTsgJGkrKykgew0KCQkJJGZyb21iYXNlX3N0ciAuPSBzdHJ0b3VwcGVyKGJhc2VfY29udmVydCgkaSwgMTAsIDM2KSk7DQoJCX0N'));
	@fwrite($fp, base64_decode('Cg0KCQkkdG9iYXNlX3N0ciA9ICcnOw0KCQlmb3IgKCRpPTA7ICRpPCR0b2Jhc2U7ICRpKyspIHsNCgkJCSR0b2Jhc2Vfc3RyIC49IHN0cnRvdXBwZXIoYmFzZV9jb252ZXJ0KCRpLCAxMCwgMzYpKTsNCgkJfQ0KDQoJCSRsZW5ndGggPSBzdHJsZW4oJG51bXN0cmlu'));
	@fwrite($fp, base64_decode('Zyk7DQoJCSRyZXN1bHQgPSAnJzsNCgkJJG51bWJlciA9IGFycmF5KCk7DQoJCWZvciAoJGkgPSAwOyAkaSA8ICRsZW5ndGg7ICRpKyspIHsNCgkJCSRudW1iZXJbJGldID0gc3RyaXBvcygkZnJvbWJhc2Vfc3RyLCAkbnVtc3RyaW5nWyRpXSk7DQoJCX0NCgkJZG8g'));
	@fwrite($fp, base64_decode('eyAvLyBMb29wIHVudGlsIHdob2xlIG51bWJlciBpcyBjb252ZXJ0ZWQNCgkJCSRkaXZpZGUgPSAwOw0KCQkJJG5ld2xlbiA9IDA7DQoJCQlmb3IgKCRpID0gMDsgJGkgPCAkbGVuZ3RoOyAkaSsrKSB7IC8vIFBlcmZvcm0gZGl2aXNpb24gbWFudWFsbHkgKHdoaWNo'));
	@fwrite($fp, base64_decode('IGlzIHdoeSB0aGlzIHdvcmtzIHdpdGggYmlnIG51bWJlcnMpDQoJCQkJJGRpdmlkZSA9ICRkaXZpZGUgKiAkZnJvbWJhc2UgKyAkbnVtYmVyWyRpXTsNCgkJCQlpZiAoJGRpdmlkZSA+PSAkdG9iYXNlKSB7DQoJCQkJCSRudW1iZXJbJG5ld2xlbisrXSA9IChpbnQp'));
	@fwrite($fp, base64_decode('KCRkaXZpZGUgLyAkdG9iYXNlKTsNCgkJCQkJJGRpdmlkZSA9ICRkaXZpZGUgJSAkdG9iYXNlOw0KCQkJCX0gZWxzZSBpZiAoJG5ld2xlbiA+IDApIHsNCgkJCQkJJG51bWJlclskbmV3bGVuKytdID0gMDsNCgkJCQl9DQoJCQl9DQoJCQkkbGVuZ3RoID0gJG5ld2xl'));
	@fwrite($fp, base64_decode('bjsNCgkJCSRyZXN1bHQgPSAkdG9iYXNlX3N0clskZGl2aWRlXSAuICRyZXN1bHQ7IC8vIERpdmlkZSBpcyBiYXNpY2FsbHkgJG51bXN0cmluZyAlICR0b2Jhc2UgKGkuZS4gdGhlIG5ldyBjaGFyYWN0ZXIpDQoJCX0NCgkJd2hpbGUgKCRuZXdsZW4gIT0gMCk7DQoN'));
	@fwrite($fp, base64_decode('CgkJcmV0dXJuICRyZXN1bHQ7DQoJfQ0KCQ0KCWZ1bmN0aW9uIGJjX2RlYzJiaW4oJGRlY2ltYWxfaSkgew0KCQkvLyBodHRwczovL3d3dy5leHBsb3JpbmdiaW5hcnkuY29tL2Jhc2UtY29udmVyc2lvbi1pbi1waHAtdXNpbmctYmNtYXRoLw0KCQ0KCQliY3NjYWxl'));
	@fwrite($fp, base64_decode('KDApOw0KCQ0KCQkkYmluYXJ5X2kgPSAnJzsNCgkJZG8gew0KCQkJJGJpbmFyeV9pID0gYmNtb2QoJGRlY2ltYWxfaSwnMicpIC4gJGJpbmFyeV9pOw0KCQkJJGRlY2ltYWxfaSA9IGJjZGl2KCRkZWNpbWFsX2ksJzInKTsNCgkJfSB3aGlsZSAoYmNjb21wKCRkZWNp'));
	@fwrite($fp, base64_decode('bWFsX2ksJzAnKSk7DQoJDQoJCXJldHVybiAkYmluYXJ5X2k7DQoJfQ0KCQ0KCWZ1bmN0aW9uIGJjX2JpbjJkZWMoJGJpbmFyeV9pKSB7DQoJCS8vIGh0dHBzOi8vd3d3LmV4cGxvcmluZ2JpbmFyeS5jb20vYmFzZS1jb252ZXJzaW9uLWluLXBocC11c2luZy1iY21h'));
	@fwrite($fp, base64_decode('dGgvDQoJDQoJCWJjc2NhbGUoMCk7DQoJDQoJCSRkZWNpbWFsX2kgPSAnMCc7DQoJCWZvciAoJGkgPSAwOyAkaSA8IHN0cmxlbigkYmluYXJ5X2kpOyAkaSsrKSB7DQoJCQkkZGVjaW1hbF9pID0gYmNtdWwoJGRlY2ltYWxfaSwnMicpOw0KCQkJJGRlY2ltYWxfaSA9'));
	@fwrite($fp, base64_decode('IGJjYWRkKCRkZWNpbWFsX2ksJGJpbmFyeV9pWyRpXSk7DQoJCX0NCgkNCgkJcmV0dXJuICRkZWNpbWFsX2k7DQoJfQ0KCQ0KCS8vIC0tLS0tLS0tLS0tLS0tLS0tIE5ldyBmdW5jdGlvbnMgLS0tLS0tLS0tLS0tLS0tLS0gDQoJDQoJLy8gTmV3bHkgYWRkZWQ6IGdt'));
	@fwrite($fp, base64_decode('cF9ub3QgLyBiY25vdA0KCWZ1bmN0aW9uIGJjbm90KCRhKSB7DQoJCWJjc2NhbGUoMCk7DQoJCS8vIENvbnZlcnQgJGEgYW5kICRiIHRvIGEgYmluYXJ5IHN0cmluZw0KCQkkYWIgPSBiY19kZWMyYmluKCRhKTsNCgkJJGJiID0gYmNfZGVjMmJpbigkYik7DQoJCSRs'));
	@fwrite($fp, base64_decode('ZW5ndGggPSBtYXgoc3RybGVuKCRhYiksIHN0cmxlbigkYmIpKTsNCgkJJGFiID0gc3RyX3BhZCgkYWIsICRsZW5ndGgsICIwIiwgU1RSX1BBRF9MRUZUKTsNCgkJJGJiID0gc3RyX3BhZCgkYmIsICRsZW5ndGgsICIwIiwgU1RSX1BBRF9MRUZUKTsNCgkNCgkJLy8g'));
	@fwrite($fp, base64_decode('RG8gdGhlIGJpdHdpc2UgYmluYXJ5IG9wZXJhdGlvbg0KCQkkY2IgPSAnJzsNCgkJZm9yICgkaT0wOyAkaTwkbGVuZ3RoOyAkaSsrKSB7DQoJCQlpZiAoJGFiWyRpXSA9PSAxKSByZXR1cm4gZmFsc2U7DQoJCX0NCgkJDQoJCXJldHVybiB0cnVlOw0KCX0NCglmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiBnbXBfbm90KCRhKSB7DQoJCWJjc2NhbGUoMCk7DQoJCXJldHVybiBiY25vdCgkYSk7DQoJfQ0KCQ0KCS8vIE5ld2x5IGFkZGVkOiBiY3NoaWZ0bCAvIGdtcF9zaGlmdGwgICANCglmdW5jdGlvbiBiY3NoaWZ0bCgkbnVtLCAkYml0cykgew0KCQliY3NjYWxl'));
	@fwrite($fp, base64_decode('KDApOw0KCQlyZXR1cm4gYmNtdWwoJG51bSwgYmNwb3coJzInLCAkYml0cykpOw0KCX0NCglmdW5jdGlvbiBnbXBfc2hpZnRsKCRudW0sICRiaXRzKSB7DQoJCWJjc2NhbGUoMCk7DQoJCXJldHVybiBiY3NoaWZ0bCgkbnVtLCAkYml0cyk7DQoJfQ0KCQ0KCS8vIE5l'));
	@fwrite($fp, base64_decode('d2x5IGFkZGVkOiBiY3NoaWZ0ciAvIGdtcF9zaGlmdHIgICANCglmdW5jdGlvbiBiY3NoaWZ0cigkbnVtLCAkYml0cykgew0KCQliY3NjYWxlKDApOw0KCQlyZXR1cm4gYmNkaXYoJG51bSwgYmNwb3coJzInLCAkYml0cykpOw0KCX0NCglmdW5jdGlvbiBnbXBfc2hp'));
	@fwrite($fp, base64_decode('ZnRyKCRudW0sICRiaXRzKSB7DQoJCWJjc2NhbGUoMCk7DQoJCXJldHVybiBiY3NoaWZ0cigkbnVtLCAkYml0cyk7DQoJfQ0KCQ0KCS8vIE5ld2x5IGFkZGVkOiBiY2ZhY3QgKHVzZWQgYnkgZ21wX2ZhY3QpDQoJZnVuY3Rpb24gYmNmYWN0KCRhKSB7DQoJCWJjc2Nh'));
	@fwrite($fp, base64_decode('bGUoMCk7DQoJCQ0KCQkvLyBTb3VyY2U6IGh0dHBzOi8vd3d3LnBocC5uZXQvbWFudWFsL2RlL2Jvb2suYmMucGhwIzExNjUxMA0KCQ0KCQlpZiAoIWZpbHRlcl92YXIoJGEsIEZJTFRFUl9WQUxJREFURV9JTlQpIHx8ICRhIDw9IDApIHsNCgkJCXRocm93IG5ldyBJ'));
	@fwrite($fp, base64_decode('bnZhbGlkQXJndW1lbnRFeGNlcHRpb24oc3ByaW50ZignQXJndW1lbnQgbXVzdCBiZSBuYXR1cmFsIG51bWJlciwgIiVzIiBnaXZlbi4nLCAkYSkpOw0KCQl9DQoJDQoJCWZvciAoJHJlc3VsdCA9ICcxJzsgJGEgPiAwOyAkYS0tKSB7DQoJCQkkcmVzdWx0ID0gYmNt'));
	@fwrite($fp, base64_decode('dWwoJHJlc3VsdCwgJGEpOw0KCQl9DQoJDQoJCXJldHVybiAkcmVzdWx0Ow0KCX0NCg0KCS8vIE5ld2x5IGFkZGVkICh1c2VkIGJ5IGdtcF9wcm9iX3ByaW1lLCBnbXBfcmFuZG9tX3JhbmdlIGFuZCBnbXBfcmFuZG9tX2JpdHMpDQoJZnVuY3Rpb24gYmNyYW5kKCRt'));
	@fwrite($fp, base64_decode('aW4sICRtYXggPSBmYWxzZSkgew0KCQliY3NjYWxlKDApOw0KCQkvLyBTb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9DaXR5T2ZaaW9uL25lby1waHAvYmxvYi9tYXN0ZXIvc3JjL0NyeXB0by9CQ01hdGhVdGlscy5waHAjTDcNCgkJLy8gRml4ZWQ6IGh0dHBzOi8v'));
	@fwrite($fp, base64_decode('Z2l0aHViLmNvbS9DaXR5T2ZaaW9uL25lby1waHAvaXNzdWVzLzE2DQoJCWlmICghJG1heCkgew0KCQkJJG1heCA9ICRtaW47DQoJCQkkbWluID0gMDsNCgkJfQ0KCQlyZXR1cm4gYmNhZGQoYmNtdWwoYmNkaXYobXRfcmFuZCgpLCBtdF9nZXRyYW5kbWF4KCksIHN0'));
	@fwrite($fp, base64_decode('cmxlbigkbWF4KSksIGJjc3ViKGJjYWRkKCRtYXgsIDEpLCAkbWluKSksICRtaW4pOw0KCX0NCgkNCgkvLyBOZXdseSBhZGRlZCAodXNlZCBieSBnbXBfcmFuZG9tX3NlZWQpDQoJZnVuY3Rpb24gYmNyYW5kX3NlZWQoJHNlZWQpIHsNCgkJYmNzY2FsZSgwKTsNCgkJ'));
	@fwrite($fp, base64_decode('bXRfc3JhbmQoJHNlZWQpOw0KCX0NCn0NCg=='));
	@fclose($fp);
}
if (!is_file('includes/gmp_supplement.inc.php')) {
	warn('File has vanished! Will re-create it: includes/gmp_supplement.inc.php');
	writefile_1();
	if (!is_file('includes/gmp_supplement.inc.php')) {
		warn('File cannot be created (not existing): includes/gmp_supplement.inc.php');
	} else if (sha1_file('includes/gmp_supplement.inc.php') != '1ee9e24e87cf01ec294f45df0833c4c284af20de') {
		warn('File cannot be created (checksum mismatch): includes/gmp_supplement.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/gmp_supplement.inc.php', 0644)) {
		warn('Could not change file permissions of includes/gmp_supplement.inc.php');
	}
} else {
	if (@sha1_file('includes/gmp_supplement.inc.php') !== '1ee9e24e87cf01ec294f45df0833c4c284af20de') {
		if (@sha1_file('includes/gmp_supplement.inc.php') !== 'dabcfe04d18b35d01064daf2126a20b60ebd244b') {
			warn('File was modified. Will overwrite the changes now: includes/gmp_supplement.inc.php');
			$tmp = pathinfo('includes/gmp_supplement.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/gmp_supplement.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/gmp_supplement.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/gmp_supplement.inc.php') !== '1ee9e24e87cf01ec294f45df0833c4c284af20de') {
			warn('File cannot be written (checksum mismatch): includes/gmp_supplement.inc.php');
		}
	}
}

// Files different: plugins/database/mysqli/plugin.inc.php
function writefile_2() {
	@$fp = fopen('plugins/database/mysqli/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmRlZmluZSgnT0lEUExVU19NWVNRTF9RVUVSWUxPRycsIGZhbHNlKTsKZGVmaW5lKCdNWVNRTE5EX0FWQUlMQUJMRScsIGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('X2V4aXN0cygnbXlzcWxpX2ZldGNoX2FsbCcpKTsKCmlmIChPSURQTFVTX01ZU1FMX1FVRVJZTE9HKSB7CglmdW5jdGlvbiBDYWxsaW5nRnVuY3Rpb25OYW1lKCkgewoJCSRleCA9IG5ldyBFeGNlcHRpb24oKTsKCQkkdHJhY2UgPSAkZXgtPmdldFRyYWNlKCk7CgkJ'));
	@fwrite($fp, base64_decode('aWYgKCFpc3NldCgkdHJhY2VbMl0pKSByZXR1cm4gJyhtYWluKSc7CgkJJGZpbmFsX2NhbGwgPSAkdHJhY2VbMl07CgkJcmV0dXJuICRmaW5hbF9jYWxsWydmaWxlJ10uJzonLiRmaW5hbF9jYWxsWydsaW5lJ10uJy8nLiRmaW5hbF9jYWxsWydmdW5jdGlvbiddLico'));
	@fwrite($fp, base64_decode('KSc7Cgl9Cn0KCmNsYXNzIE9JRHBsdXNEYXRhQmFzZU15U1FMaSBleHRlbmRzIE9JRHBsdXNEYXRhQmFzZSB7Cglwcml2YXRlICRteXNxbGk7Cglwcml2YXRlICRsYXN0X3F1ZXJ5OwoJcHJpdmF0ZSAkcHJlcGFyZV9jYWNoZSA9IGFycmF5KCk7CgoJcHVibGljIHN0'));
	@fwrite($fp, base64_decode('YXRpYyBmdW5jdGlvbiBuYW1lKCkgewoJCXJldHVybiAiTXlTUUwiOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBxdWVyeSgkc3FsLCAkcHJlcGFyZWRfYXJncz1udWxsKSB7CgkJJHRoaXMtPmxhc3RfcXVlcnkgPSAkc3FsOwoJCWlmIChPSURQTFVTX01ZU1FMX1FVRVJZ'));
	@fwrite($fp, base64_decode('TE9HKSBmaWxlX3B1dF9jb250ZW50cygicXVlcnkubG9nIiwgIiRzcWwgPD09ICIuQ2FsbGluZ0Z1bmN0aW9uTmFtZSgpLiJcbiIsIEZJTEVfQVBQRU5EKTsKCQlpZiAoaXNfbnVsbCgkcHJlcGFyZWRfYXJncykpIHsKCQkJcmV0dXJuICR0aGlzLT5teXNxbGktPnF1'));
	@fwrite($fp, base64_decode('ZXJ5KCRzcWwsIE1ZU1FMSV9TVE9SRV9SRVNVTFQpOwoJCX0gZWxzZSB7CgkJCWlmICghaXNfYXJyYXkoJHByZXBhcmVkX2FyZ3MpKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCIncHJlcGFyZWRfYXJncycgbXVzdCBiZSBlaXRoZXIgTlVMTCBvciBhbiBBUlJB'));
	@fwrite($fp, base64_decode('WS4iKTsKCQkJfQoJCQlpZiAoaXNzZXQoJHRoaXMtPnByZXBhcmVfY2FjaGVbJHNxbF0pKSB7CgkJCQkkcHMgPSAkdGhpcy0+cHJlcGFyZV9jYWNoZVskc3FsXTsKCQkJfSBlbHNlIHsKCQkJCSRwcyA9ICR0aGlzLT5teXNxbGktPnByZXBhcmUoJHNxbCk7CgkJCQlp'));
	@fwrite($fp, base64_decode('ZiAoISRwcykgewoJCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIkNhbm5vdCBwcmVwYXJlIHN0YXRlbWVudCAnJHNxbCciKTsKCQkJCX0KCQkJCSR0aGlzLT5wcmVwYXJlX2NhY2hlWyRzcWxdID0gJHBzOwoJCQl9CgoJCQliaW5kX3BsYWNlaG9sZGVyX3ZhcnMoJHBz'));
	@fwrite($fp, base64_decode('LCRwcmVwYXJlZF9hcmdzKTsKCQkJaWYgKCEkcHMtPmV4ZWN1dGUoKSkgcmV0dXJuIGZhbHNlOwoKCQkJJHJlcyA9IE1ZU1FMTkRfQVZBSUxBQkxFID8gJHBzLT5nZXRfcmVzdWx0KCkgOiBpaW15c3FsaV9zdG10X2dldF9yZXN1bHQoJHBzKTsKCQkJCgkJCWlmICgk'));
	@fwrite($fp, base64_decode('cmVzID09PSBmYWxzZSkgcmV0dXJuIHRydWU7IC8vIEEgbm9uLVNFTEVDVCBzdGF0ZW1lbnQgZG9lcyBub3QgZ2l2ZSBhIHJlc3VsdC1zZXQsIGJ1dCBpdCBpcyBzdGlsbCBzdWNjZXNzZnVsCgkJCXJldHVybiAkcmVzOwoJCX0KCX0KCXB1YmxpYyBmdW5jdGlvbiBu'));
	@fwrite($fp, base64_decode('dW1fcm93cygkcmVzKSB7CgkJaWYgKCFpc19vYmplY3QoJHJlcykpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigibnVtX3Jvd3MgY2FsbGVkIG9uIG5vbiBvYmplY3QuIExhc3QgcXVlcnk6ICIuJHRoaXMtPmxhc3RfcXVlcnkpOwoJCX0gZWxzZSB7CgkJCXJldHVy'));
	@fwrite($fp, base64_decode('biAoZ2V0X2NsYXNzKCRyZXMpPT0nbXlzcWxpX3Jlc3VsdCcpIHx8IE1ZU1FMTkRfQVZBSUxBQkxFID8gJHJlcy0+bnVtX3Jvd3MgOiAkcmVzLT5udW1fcm93cygpOwoJCX0KCX0KCXB1YmxpYyBmdW5jdGlvbiBmZXRjaF9hcnJheSgkcmVzKSB7CgkJaWYgKCFpc19v'));
	@fwrite($fp, base64_decode('YmplY3QoJHJlcykpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiZmV0Y2hfYXJyYXkgY2FsbGVkIG9uIG5vbiBvYmplY3QuIExhc3QgcXVlcnk6ICIuJHRoaXMtPmxhc3RfcXVlcnkpOwoJCX0gZWxzZSB7CgkJCXJldHVybiAoZ2V0X2NsYXNzKCRyZXMpPT0nbXlz'));
	@fwrite($fp, base64_decode('cWxpX3Jlc3VsdCcpIHx8IE1ZU1FMTkRfQVZBSUxBQkxFID8gJHJlcy0+ZmV0Y2hfYXJyYXkoTVlTUUxJX0JPVEgpIDogJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQl9Cgl9CglwdWJsaWMgZnVuY3Rpb24gZmV0Y2hfb2JqZWN0KCRyZXMpIHsKCQlpZiAoIWlzX29iamVj'));
	@fwrite($fp, base64_decode('dCgkcmVzKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJmZXRjaF9vYmplY3QgY2FsbGVkIG9uIG5vbiBvYmplY3QuIExhc3QgcXVlcnk6ICIuJHRoaXMtPmxhc3RfcXVlcnkpOwoJCX0gZWxzZSB7CgkJCXJldHVybiAoZ2V0X2NsYXNzKCRyZXMpPT0nbXlzcWxp'));
	@fwrite($fp, base64_decode('X3Jlc3VsdCcpIHx8IE1ZU1FMTkRfQVZBSUxBQkxFID8gJHJlcy0+ZmV0Y2hfb2JqZWN0KCJzdGRDbGFzcyIpIDogJHJlcy0+ZmV0Y2hfb2JqZWN0KCk7CgkJfQoJfQoJcHVibGljIGZ1bmN0aW9uIGluc2VydF9pZCgpIHsKCQlyZXR1cm4gJHRoaXMtPm15c3FsaS0+'));
	@fwrite($fp, base64_decode('aW5zZXJ0X2lkOwoJfQoJcHVibGljIGZ1bmN0aW9uIGVycm9yKCkgewoJCXJldHVybiAhZW1wdHkoJHRoaXMtPm15c3FsaS0+Y29ubmVjdF9lcnJvcikgPyAkdGhpcy0+bXlzcWxpLT5jb25uZWN0X2Vycm9yIDogJHRoaXMtPm15c3FsaS0+ZXJyb3I7Cgl9CgoJcHVi'));
	@fwrite($fp, base64_decode('bGljIGZ1bmN0aW9uIGNvbm5lY3QoKSB7CgkJaWYgKE9JRFBMVVNfTVlTUUxfUVVFUllMT0cpIGZpbGVfcHV0X2NvbnRlbnRzKCJxdWVyeS5sb2ciLCAnJyk7CgoJCSRodG1sID0gT0lEUExVU19IVE1MX09VVFBVVDsKCgkJLy8gVHJ5IGNvbm5lY3RpbmcgdG8gdGhl'));
	@fwrite($fp, base64_decode('IGRhdGFiYXNlCgkJbGlzdCgkaG9zdG5hbWUsJHBvcnQpID0gZXhwbG9kZSgnOicsIE9JRFBMVVNfTVlTUUxfSE9TVC4nOicuaW5pX2dldCgibXlzcWxpLmRlZmF1bHRfcG9ydCIpKTsKCQkkdGhpcy0+bXlzcWxpID0gQG5ldyBteXNxbGkoJGhvc3RuYW1lLCBPSURQ'));
	@fwrite($fp, base64_decode('TFVTX01ZU1FMX1VTRVJOQU1FLCBiYXNlNjRfZGVjb2RlKE9JRFBMVVNfTVlTUUxfUEFTU1dPUkQpLCBPSURQTFVTX01ZU1FMX0RBVEFCQVNFLCAkcG9ydCk7CgkJaWYgKCFlbXB0eSgkdGhpcy0+bXlzcWxpLT5jb25uZWN0X2Vycm9yKSB8fCAoJHRoaXMtPm15c3Fs'));
	@fwrite($fp, base64_decode('aS0+Y29ubmVjdF9lcnJubyAhPSAwKSkgewoJCQlpZiAoJGh0bWwpIHsKCQkJCWVjaG8gIjxoMT5FcnJvcjwvaDE+PHA+RGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQhICgiLiR0aGlzLT5lcnJvcigpLiIpPC9wPiI7CgkJCQlpZiAoaXNfZGlyKF9fRElSX18uJy8u'));
	@fwrite($fp, base64_decode('Li8uLi8uLi9zZXR1cCcpKSB7CgkJCQkJZWNobyAnPHA+SWYgeW91IGJlbGlldmUgdGhhdCB0aGUgbG9naW4gY3JlZGVudGlhbHMgYXJlIHdyb25nLCBwbGVhc2UgcnVuIDxhIGhyZWY9InNldHVwLyI+c2V0dXA8L2E+IGFnYWluLjwvcD4nOwoJCQkJfQoJCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCQkJZWNobyAiRXJyb3I6IERhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkISAoIi4kdGhpcy0+ZXJyb3IoKS4iKSI7CgkJCQlpZiAoaXNfZGlyKF9fRElSX18uJy8uLi8uLi8uLi9zZXR1cCcpKSB7CgkJCQkJZWNobyAnIElmIHlvdSBiZWxpZXZlIHRoYXQg'));
	@fwrite($fp, base64_decode('dGhlIGxvZ2luIGNyZWRlbnRpYWxzIGFyZSB3cm9uZywgcGxlYXNlIHJ1biBzZXR1cCBhZ2Fpbi4nOwoJCQkJfQoJCQl9CgkJCWRpZSgpOwoJCX0KCgkJJHRoaXMtPnF1ZXJ5KCJTRVQgTkFNRVMgJ3V0ZjgnIik7CgkJJHRoaXMtPmFmdGVyQ29ubmVjdCgkaHRtbCk7'));
	@fwrite($fp, base64_decode('CgkJJHRoaXMtPmNvbm5lY3RlZCA9IHRydWU7Cgl9CgoJcHJpdmF0ZSAkaW50cmFuc2FjdGlvbiA9IGZhbHNlOwoKCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9iZWdpbigpIHsKCQlpZiAoJHRoaXMtPmludHJhbnNhY3Rpb24pIHRocm93IG5ldyBFeGNlcHRp'));
	@fwrite($fp, base64_decode('b24oIk5lc3RlZCB0cmFuc2FjdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkYXRhYmFzZSBwbHVnaW4uIik7CgkJJHRoaXMtPm15c3FsaS0+YXV0b2NvbW1pdCh0cnVlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IHRydWU7Cgl9CgoJcHVibGljIGZ1'));
	@fwrite($fp, base64_decode('bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpIHsKCQkkdGhpcy0+bXlzcWxpLT5jb21taXQoKTsKCQkkdGhpcy0+bXlzcWxpLT5hdXRvY29tbWl0KGZhbHNlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZhbHNlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmFu'));
	@fwrite($fp, base64_decode('c2FjdGlvbl9yb2xsYmFjaygpIHsKCQkkdGhpcy0+bXlzcWxpLT5yb2xsYmFjaygpOwoJCSR0aGlzLT5teXNxbGktPmF1dG9jb21taXQoZmFsc2UpOwoJCSR0aGlzLT5pbnRyYW5zYWN0aW9uID0gZmFsc2U7Cgl9Cgp9CgpmdW5jdGlvbiBiaW5kX3BsYWNlaG9sZGVy'));
	@fwrite($fp, base64_decode('X3ZhcnMoJiRzdG10LCRwYXJhbXMsJGRlYnVnPTApIHsKCS8vIENyZWRpdCB0bzogRGF2ZSBNb3JnYW4KCS8vIENvZGUgcmlwcGVkIGZyb206IGh0dHA6Ly93d3cuZGV2bW9yZ2FuLmNvbS9ibG9nLzIwMDkvMDMvMjcvZHlkbC1wYXJ0LTMtZHluYW1pYy1iaW5kaW5n'));
	@fwrite($fp, base64_decode('LXdpdGgtbXlzcWxpLXBocC8KCS8vICAgICAgICAgICAgICAgICAgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE3MjE5MjE0L2hvdy10by1iaW5kLWluLW15c3FsaS1keW5hbWljYWxseQoJaWYgKCRwYXJhbXMgIT0gbnVsbCkgewoJCSR0eXBl'));
	@fwrite($fp, base64_decode('cyA9ICcnOyAgICAgICAgICAgICAgICAgICAgICAgIC8vaW5pdGlhbCBzdGluZyB3aXRoIHR5cGVzCgkJZm9yZWFjaCAoJHBhcmFtcyBhcyAkcGFyYW0pIHsgICAgICAgIC8vZm9yIGVhY2ggZWxlbWVudCwgZGV0ZXJtaW5lIHR5cGUgYW5kIGFkZAoJCQlpZiAoaXNf'));
	@fwrite($fp, base64_decode('aW50KCRwYXJhbSkpIHsKCQkJCSR0eXBlcyAuPSAnaSc7ICAgICAgICAgICAgICAvL2ludGVnZXIKCQkJfSBlbHNlaWYgKGlzX2Zsb2F0KCRwYXJhbSkpIHsKCQkJCSR0eXBlcyAuPSAnZCc7ICAgICAgICAgICAgICAvL2RvdWJsZQoJCQl9IGVsc2VpZiAoaXNfc3Ry'));
	@fwrite($fp, base64_decode('aW5nKCRwYXJhbSkpIHsKCQkJCSR0eXBlcyAuPSAncyc7ICAgICAgICAgICAgICAvL3N0cmluZwoJCQl9IGVsc2UgewoJCQkJJHR5cGVzIC49ICdiJzsgICAgICAgICAgICAgIC8vYmxvYiBhbmQgdW5rbm93bgoJCQl9CgkJfQoKCQkkYmluZF9uYW1lcyA9IGFycmF5'));
	@fwrite($fp, base64_decode('KCk7CgkJJGJpbmRfbmFtZXNbXSA9ICR0eXBlczsgICAgICAgICAgICAgLy9maXJzdCBwYXJhbSBuZWVkZWQgaXMgdGhlIHR5cGUgc3RyaW5nCgkJCQkJCQkJLy8gZWc6ICAnaXNzc3MnCgoJCWZvciAoJGk9MDsgJGk8Y291bnQoJHBhcmFtcyk7JGkrKykgeyAgICAv'));
	@fwrite($fp, base64_decode('L2dvIHRocm91Z2ggaW5jb21pbmcgcGFyYW1zIGFuZCBhZGRlZCBlbSB0byBhcnJheQoJCQkkYmluZF9uYW1lID0gJ2JpbmQnIC4gJGk7ICAgICAgIC8vZ2l2ZSB0aGVtIGFuIGFyYml0cmFyeSBuYW1lCgkJCSQkYmluZF9uYW1lID0gJHBhcmFtc1skaV07ICAgICAg'));
	@fwrite($fp, base64_decode('Ly9hZGQgdGhlIHBhcmFtZXRlciB0byB0aGUgdmFyaWFibGUgdmFyaWFibGUKCQkJJGJpbmRfbmFtZXNbXSA9ICYkJGJpbmRfbmFtZTsgICAvL25vdyBhc3NvY2lhdGUgdGhlIHZhcmlhYmxlIGFzIGFuIGVsZW1lbnQgaW4gYW4gYXJyYXkKCQl9CgoJCWlmICgkZGVi'));
	@fwrite($fp, base64_decode('dWcpIHsKCQkJZWNobyAiXCRiaW5kX25hbWVzOjxiciAvPlxuIjsKCQkJdmFyX2R1bXAoJGJpbmRfbmFtZXMpOwoJCQllY2hvICI8YnIgLz5cbiI7CgkJfQoJCS8vZXJyb3JfbG9nKCJiZXR0ZXJfbXlzcWxpIGhhcyBwYXJhbXMgIi5wcmludF9yKCRiaW5kX25hbWVz'));
	@fwrite($fp, base64_decode('LCAxKSk7CgkJLy9jYWxsIHRoZSBmdW5jdGlvbiBiaW5kX3BhcmFtIHdpdGggZHluYW1pYyBwYXJhbXMKCQljYWxsX3VzZXJfZnVuY19hcnJheShhcnJheSgkc3RtdCwnYmluZF9wYXJhbScpLCRiaW5kX25hbWVzKTsKCQlyZXR1cm4gdHJ1ZTsKCX1lbHNlewoJCXJl'));
	@fwrite($fp, base64_decode('dHVybiBmYWxzZTsKCX0KfQoKZnVuY3Rpb24gYmluZF9yZXN1bHRfYXJyYXkoJHN0bXQsICYkcm93KSB7CgkvLyBDcmVkaXQgdG86IERhdmUgTW9yZ2FuCgkvLyBDb2RlIHJpcHBlZCBmcm9tOiBodHRwOi8vd3d3LmRldm1vcmdhbi5jb20vYmxvZy8yMDA5LzAzLzI3'));
	@fwrite($fp, base64_decode('L2R5ZGwtcGFydC0zLWR5bmFtaWMtYmluZGluZy13aXRoLW15c3FsaS1waHAvCgkkbWV0YSA9ICRzdG10LT5yZXN1bHRfbWV0YWRhdGEoKTsKCXdoaWxlICgkZmllbGQgPSAkbWV0YS0+ZmV0Y2hfZmllbGQoKSkgewoJCSRwYXJhbXNbXSA9ICYkcm93WyRmaWVsZC0+'));
	@fwrite($fp, base64_decode('bmFtZV07Cgl9CgljYWxsX3VzZXJfZnVuY19hcnJheShhcnJheSgkc3RtdCwgJ2JpbmRfcmVzdWx0JyksICRwYXJhbXMpOwoJcmV0dXJuIHRydWU7Cn0KCmlmICghTVlTUUxORF9BVkFJTEFCTEUpIHsKCWNsYXNzIGlpbXlzcWxpX3Jlc3VsdCB7CgkJLy8gU291cmNl'));
	@fwrite($fp, base64_decode('OiBodHRwczovL3d3dy5waHAubmV0L21hbnVhbC9kZS9teXNxbGktc3RtdC5nZXQtcmVzdWx0LnBocCMxMTMzOTgKCQkKCQlwdWJsaWMgJHN0bXQsICRuQ29sczsKCgkJZnVuY3Rpb24gZmV0Y2hfYXJyYXkoKSB7CgkJCS8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5j'));
	@fwrite($fp, base64_decode('b20vcXVlc3Rpb25zLzEwNzUyODE1L215c3FsaS1nZXQtcmVzdWx0LWFsdGVybmF0aXZlICwgbW9kaWZpZWQKCQkJJHN0bXQgPSAkdGhpcy0+c3RtdDsKCQkJJHN0bXQtPnN0b3JlX3Jlc3VsdCgpOwoJCQkkcmVzdWx0a2V5cyA9IGFycmF5KCk7CgkJCSR0aGlzTmFt'));
	@fwrite($fp, base64_decode('ZSA9ICIiOwoJCQkKCQkJaWYgKCRzdG10LT5udW1fcm93cz09MCkgcmV0dXJuIGZhbHNlOwoJCQkKCQkJZm9yICggJGkgPSAwOyAkaSA8ICRzdG10LT5udW1fcm93czsgJGkrKyApIHsKCQkJCSRtZXRhZGF0YSA9ICRzdG10LT5yZXN1bHRfbWV0YWRhdGEoKTsKCQkJ'));
	@fwrite($fp, base64_decode('CXdoaWxlICggJGZpZWxkID0gJG1ldGFkYXRhLT5mZXRjaF9maWVsZCgpICkgewoJCQkJCSR0aGlzTmFtZSA9ICRmaWVsZC0+bmFtZTsKCQkJCQkkcmVzdWx0a2V5c1tdID0gJHRoaXNOYW1lOwoJCQkJfQoJCQl9CgoJCQkkcmV0ID0gYXJyYXkoKTsKCQkJJGNvZGUg'));
	@fwrite($fp, base64_decode('PSAicmV0dXJuIG15c3FsaV9zdG10X2JpbmRfcmVzdWx0KFwkdGhpcy0+c3RtdCAiOwoJCQlmb3IgKCRpPTA7ICRpPCR0aGlzLT5uQ29sczsgJGkrKykgewoJCQkJJHJldFskaV0gPSBOVUxMOwoJCQkJJHRoZVZhbHVlID0gJHJlc3VsdGtleXNbJGldOwoJCQkJJGNv'));
	@fwrite($fp, base64_decode('ZGUgLj0gIiwgXCRyZXRbJyR0aGVWYWx1ZSddIjsKCQkJfQoKCQkJJGNvZGUgLj0gIik7IjsKCQkJaWYgKCFldmFsKCRjb2RlKSkgeyAKCQkJCXJldHVybiBOVUxMOyAKCQkJfQoKCQkJLy8gVGhpcyBzaG91bGQgYWR2YW5jZSB0aGUgIiRzdG10IiBjdXJzb3IuCgkJ'));
	@fwrite($fp, base64_decode('CWlmICghbXlzcWxpX3N0bXRfZmV0Y2goJHRoaXMtPnN0bXQpKSB7CgkJCQlyZXR1cm4gTlVMTDsgCgkJCX0KCgkJCS8vIFJldHVybiB0aGUgYXJyYXkgd2UgYnVpbHQuCgkJCXJldHVybiAkcmV0OwoJCX0JCQoJCQoJCXB1YmxpYyBmdW5jdGlvbiBudW1fcm93cygp'));
	@fwrite($fp, base64_decode('IHsKCQkJJHRoaXMtPnN0bXQtPnN0b3JlX3Jlc3VsdCgpOwoJCQlyZXR1cm4gJHRoaXMtPnN0bXQtPm51bV9yb3dzOwoJCX0KCQkKCQlwdWJsaWMgZnVuY3Rpb24gZmV0Y2hfb2JqZWN0KCkgewoJCQkkb2JqID0gbmV3IHN0ZENsYXNzOwoJCQkkYXJ5ID0gJHRoaXMt'));
	@fwrite($fp, base64_decode('PmZldGNoX2FycmF5KCk7CgkJCWlmICghJGFyeSkgcmV0dXJuIGZhbHNlOwoJCQlmb3JlYWNoICgkYXJ5IGFzICRuYW1lID0+ICR2YWwpIHsKCQkJCSRvYmotPiRuYW1lID0gJHZhbDsKCQkJfQoJCQlyZXR1cm4gJG9iajsKCQl9Cgl9ICAgCgkKCWZ1bmN0aW9uIGlp'));
	@fwrite($fp, base64_decode('bXlzcWxpX3N0bXRfZ2V0X3Jlc3VsdCgkc3RtdCkgewoJCS8vIFNvdXJjZTogaHR0cHM6Ly93d3cucGhwLm5ldC9tYW51YWwvZGUvbXlzcWxpLXN0bXQuZ2V0LXJlc3VsdC5waHAjMTEzMzk4CgkJCgkJLyoqICAgIEVYUExBTkFUSU9OOgoJCSAqIFdlIGFyZSBjcmVh'));
	@fwrite($fp, base64_decode('dGluZyBhIGZha2UgInJlc3VsdCIgc3RydWN0dXJlIHRvIGVuYWJsZSB1cyB0byBoYXZlCgkJICogc291cmNlLWxldmVsIGVxdWl2YWxlbnQgc3ludGF4IHRvIGEgcXVlcnkgZXhlY3V0ZWQgdmlhCgkJICogbXlzcWxpX3F1ZXJ5KCkuCgkJICoKCQkgKiAgICAkc3Rt'));
	@fwrite($fp, base64_decode('dCA9IG15c3FsaV9wcmVwYXJlKCRjb25uLCAiIik7CgkJICogICAgbXlzcWxpX2JpbmRfcGFyYW0oJHN0bXQsICJ0eXBlcyIsIC4uLik7CgkJICoKCQkgKiAgICAkcGFyYW0xID0gMDsKCQkgKiAgICAkcGFyYW0yID0gJ2Zvbyc7CgkJICogICAgJHBhcmFtMyA9ICdi'));
	@fwrite($fp, base64_decode('YXInOwoJCSAqICAgIG15c3FsaV9leGVjdXRlKCRzdG10KTsKCQkgKiAgICAkcmVzdWx0IF9teXNxbGlfc3RtdF9nZXRfcmVzdWx0KCRzdG10KTsKCQkgKiAgICAgICAgWyAkYXJyID0gX215c3FsaV9yZXN1bHRfZmV0Y2hfYXJyYXkoJHJlc3VsdCk7CgkJICogICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICB8fCAkYXNzb2MgPSBfbXlzcWxpX3Jlc3VsdF9mZXRjaF9hc3NvYygkcmVzdWx0KTsgXQoJCSAqICAgIG15c3FsaV9zdG10X2Nsb3NlKCRzdG10KTsKCQkgKiAgICBteXNxbGlfY2xvc2UoJGNvbm4pOwoJCSAqCgkJICogQXQgdGhlIHNvdXJjZSBsZXZl'));
	@fwrite($fp, base64_decode('bCwgdGhlcmUgaXMgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuIHRoaXMgYW5kIG15c3FsbmQuCgkJICoqLwoJCSRtZXRhZGF0YSA9IG15c3FsaV9zdG10X3Jlc3VsdF9tZXRhZGF0YSgkc3RtdCk7CgkJJHJldCA9IG5ldyBpaW15c3FsaV9yZXN1bHQ7CgkJaWYgKCEkcmV0'));
	@fwrite($fp, base64_decode('KSByZXR1cm4gTlVMTDsKCQkKCQlpZiAoaXNfYm9vbCgkbWV0YWRhdGEpKSB7CgkJCXJldHVybiAkbWV0YWRhdGE7CgkJfQoJCgkJJHJldC0+bkNvbHMgPSBteXNxbGlfbnVtX2ZpZWxkcygkbWV0YWRhdGEpOwoJCSRyZXQtPnN0bXQgPSAkc3RtdDsKCQoJCW15c3Fs'));
	@fwrite($fp, base64_decode('aV9mcmVlX3Jlc3VsdCgkbWV0YWRhdGEpOwoJCXJldHVybiAkcmV0OwoJfQp9CgpPSURwbHVzOjpyZWdpc3RlckRhdGFiYXNlUGx1Z2luKG5ldyBPSURwbHVzRGF0YUJhc2VNeVNRTGkoKSk7Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/database/mysqli/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/mysqli/plugin.inc.php');
	writefile_2();
	if (!is_file('plugins/database/mysqli/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/mysqli/plugin.inc.php');
	} else if (sha1_file('plugins/database/mysqli/plugin.inc.php') != '94690362e8dc9308d92ced42cd036e1fb470f03b') {
		warn('File cannot be created (checksum mismatch): plugins/database/mysqli/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/mysqli/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/mysqli/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== '94690362e8dc9308d92ced42cd036e1fb470f03b') {
		if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== '0f53bad7bf92079ac333a77bc984bf0c8d0775df') {
			warn('File was modified. Will overwrite the changes now: plugins/database/mysqli/plugin.inc.php');
			$tmp = pathinfo('plugins/database/mysqli/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/mysqli/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/mysqli/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== '94690362e8dc9308d92ced42cd036e1fb470f03b') {
			warn('File cannot be written (checksum mismatch): plugins/database/mysqli/plugin.inc.php');
		}
	}
}

// Files different: plugins/files
function writefile_3() {
	@$fp = fopen('plugins/files', 'w');
	@fwrite($fp, base64_decode('VHlwZXMgInJhUGFnZXMiLCAicHVibGljUGFnZXMiIGFuZCAiYWRtaW5QYWdlcyIKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCglzY3JpcHQuanMgKG9wdGlvbmFsKQoJc3R5bGUuY3NzIChvcHRpb25hbCkKCXBsdWdpbi5p'));
	@fwrite($fp, base64_decode('bmMucGhwCgl0cmVlaWNvbi5wbmcgKG9wdGlvbmFsKQoKVHlwZSAib2JqZWN0VHlwZXMiCi0tLS0tLS0tLS0tLS0tLS0tLQoKCWljb25fYmlnLnBuZwoJKi5jbGFzcy5waHAKClR5cGUgImRhdGFiYXNlIgotLS0tLS0tLS0tLS0tLS0KCglwbHVnaW4uaW5jLnBocAoJ'));
	@fwrite($fp, base64_decode('c2V0dXAucGFydC5odG1sCg=='));
	@fclose($fp);
}
if (!is_file('plugins/files')) {
	warn('File has vanished! Will re-create it: plugins/files');
	writefile_3();
	if (!is_file('plugins/files')) {
		warn('File cannot be created (not existing): plugins/files');
	} else if (sha1_file('plugins/files') != '6e3f1dde34d1095d4f587b79a0c150999e0b1cc6') {
		warn('File cannot be created (checksum mismatch): plugins/files');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/files', 0644)) {
		warn('Could not change file permissions of plugins/files');
	}
} else {
	if (@sha1_file('plugins/files') !== '6e3f1dde34d1095d4f587b79a0c150999e0b1cc6') {
		if (@sha1_file('plugins/files') !== '696e3de11056a71663bec34ccf721c315fd5ce7e') {
			warn('File was modified. Will overwrite the changes now: plugins/files');
			$tmp = pathinfo('plugins/files');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/files')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/files', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/files') !== '6e3f1dde34d1095d4f587b79a0c150999e0b1cc6') {
			warn('File cannot be written (checksum mismatch): plugins/files');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 212\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 212') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

