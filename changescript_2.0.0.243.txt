<?php /* <ViaThinkSoftSignature>
h0NoxcNoCKVfTO+phkVW9Qzp0EfntjG53HBFaQMqDBC58IRm7d1UYkc8Nyyy3D+5k
nb/K/hsKiQjXWw6HTWIx4frCBsc8QGPlGTyM9iOVvKBS6a+pID+FWQ601WGPsb2Mg
Ma1Zvoh+dd6Nxr7F4jMAcX6OSgWKOPR4skPN+2beWMRewy2STPI9Ql1RYlxnUTt0v
xVIPMdLhif9zbm0/q189thCGdCKBTrBK6T9a29vnQZh85KQ8a3dEGkh/YHdFux7+p
gHZX0qUki6csyly3/zRdAud+5EiFvG66NfOh8nt9pJNUmmfIVuVBj8m/3UdPbhni1
APkw3Hpgrx/1HK1R9u9F0xLo9SeFiY3nzjMfJ4z3YcQ3Sh7wF0Zk+S643qN3CwwNE
MujpyDvBFcJW1X+CRE/P6r59zhAs5v7c+9bscqtgZg/cuCvB053pmEkkp4iz7DinH
HIcog3pgV8axlh/kBuBzAH4NUlf+d8PZHgrOSLBDFN6hilcibV3t93b5tHOuB71yG
eFEEPxYUdIMgUPcagji+ry5+/RMmXcDpMCKsRtIpBXP9CHAMJHrYENHWhQqiz1B6m
u58jwds4b+ZOF9kSDgDVI189r8q5EAFi1h2uJkIWjs1SenFTOcl3oGNw5V4GvKpa1
ITSzrYGd8pqFBUySlHXzNdhO4S3lldrHkYltGvxq0/CVYxUk3di8efcxryyenMx5t
nxwM3oKjyBVA45eSGDLO3YqYgyHtnxFwAW7LMNvMhi7RuO3xnw30XXNdTGf17JLfj
zjDoj9raYDb6lwImvPJc2eRuiQAx3mCFLba6A0KbXyneEfB2Q33XYBcMyvkb70fBS
cK5P4hcv/az9R5OFTp6w1XKEvC8ZpPrGSZyMWvpyfdqLwqM2SGFLddS17CARqFmCd
+fNt8clkD+fSpOq49pGiy/1FA7Gcvg8yREdagoHCJdj9zzCupUYNdGlK4gyrfhS1q
zd436dvSlIntibIuAQpRsnC2daPRDZ0R1Secxs/gbc2VkGI5BwPo+ly9u4JwnbkD2
rrtt8K1LezMOTlv6YC3GagNMViC33WipE29wFN6ittlUMhjX/zVHAMl7qD8VUbRll
lWGafEOTTGSuj5f1x/NucrNjk4lSVZR3KFTGF0fDShHplivrGIgzEqEgXibdg6j07
zzw3ltrZlr7U0YIcCP/OUWhN2SCtjMljYbLD6oNA3uwRoG7hUcgYR4j8w8JDBQlHx
reKn3U3iscXXX3ItfmJY6BH7muFNOOHgiE50NHQeZY6BgWlLqIWGtatywP5/1AOoX
J2Y5OPFhviCb+khdko/5n68pK01604luxyxi5iMpPJW1bp6QEiYx14HlMXLmU5GQd
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 242') {
	err('This update can only be applied to OIDplus version 2.0.0.242!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: ajax.php
function writefile_1() {
	@$fp = fopen('ajax.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKT0lEcGx1czo6aW5pdChmYWxzZSk7CgpoZWFkZXIoJ0NvbnRlbnQtVHlwZTphcHBsaWNhdGlvbi9qc29u'));
	@fwrite($fp, base64_decode('OyBjaGFyc2V0PXV0Zi04Jyk7Cgp0cnkgewoJT0lEcGx1czo6ZGIoKS0+dHJhbnNhY3Rpb25fYmVnaW4oKTsKCSRoYW5kbGVkID0gZmFsc2U7CgoJLy8gQWN0aW9uOiAgICAgKGFjdGlvbnMgZGVmaW5lZCBieSBwbHVnaW5zKQoJLy8gTWV0aG9kOiAgICAgR0VUIC8g'));
	@fwrite($fp, base64_decode('UE9TVAoJLy8gUGFyYW1ldGVyczogLi4uCgkvLyBPdXRwdXRzOiAgICAuLi4KCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCcqJykgYXMgJHBsdWdpbikgewoJCSRwbHVnaW4tPmFjdGlvbigkaGFuZGxlZCk7Cgl9CgoJLy8gQWN0aW9uOiAgICAgZ2V0'));
	@fwrite($fp, base64_decode('X2Rlc2NyaXB0aW9uCgkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBpZAoJLy8gT3V0cHV0czogICAgSlNPTgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsiYWN0aW9uIl0pICYmICgkX1JFUVVFU1RbJ2FjdGlvbiddID09ICdnZXRfZGVzY3Jp'));
	@fwrite($fp, base64_decode('cHRpb24nKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnaWQnXSkpIHRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgYXJncyIpOwoJCXRyeSB7CgkJCSRvdXQgPSBPSURwbHVzOjpndWkoKTo6Z2VuZXJhdGVDb250ZW50UGFn'));
	@fwrite($fp, base64_decode('ZSgkX1JFUVVFU1RbJ2lkJ10pOwoJCX0gY2F0Y2goRXhjZXB0aW9uICRlKSB7CgkJCSRvdXQgPSBhcnJheSgpOwoJCQkkb3V0Wyd0aXRsZSddID0gJ0Vycm9yJzsKCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJJG91dFsndGV4dCddID0g'));
	@fwrite($fp, base64_decode('JGUtPmdldE1lc3NhZ2UoKTsKCQl9CgkJZWNobyBqc29uX2VuY29kZSgkb3V0KTsKCX0KCgkvLyA9PT0ganNUcmVlID09PQoKCS8vIEFjdGlvbjogICAgIHRyZWVfc2VhcmNoCgkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBzZWFyY2gK'));
	@fwrite($fp, base64_decode('CS8vIE91dHB1dHM6ICAgIEpTT04KCWlmIChpc3NldCgkX1JFUVVFU1RbImFjdGlvbiJdKSAmJiAoJF9SRVFVRVNUWydhY3Rpb24nXSA9PSAndHJlZV9zZWFyY2gnKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnc2VhcmNoJ10p'));
	@fwrite($fp, base64_decode('KSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIGFyZ3MiKTsKCgkJJGZvdW5kID0gZmFsc2U7CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoJyonKSBhcyAkcGx1Z2luKSB7CgkJCSRyZXMgPSAkcGx1Z2luLT50cmVlX3NlYXJjaCgkX1JFUVVF'));
	@fwrite($fp, base64_decode('U1RbJ3NlYXJjaCddKTsKCQkJaWYgKCRyZXMpIHsKCQkJCWVjaG8ganNvbl9lbmNvZGUoJHJlcyk7CgkJCQkkZm91bmQgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgoJCWlmICghJGZvdW5kKSB7CgkJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoKSk7CgkJfQoJ'));
	@fwrite($fp, base64_decode('fQoKCS8vIEFjdGlvbjogICAgIHRyZWVfbG9hZAoJLy8gTWV0aG9kOiAgICAgR0VUIC8gUE9TVAoJLy8gUGFyYW1ldGVyczogaWQ7IGdvdG8gKG9wdGlvbmFsKQoJLy8gT3V0cHV0czogICAgSlNPTgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsiYWN0aW9uIl0pICYmICgk'));
	@fwrite($fp, base64_decode('X1JFUVVFU1RbJ2FjdGlvbiddID09ICd0cmVlX2xvYWQnKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnaWQnXSkpIHRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgYXJncyIpOwoJCSRqc29uID0gT0lEcGx1c1RyZWU6Ompz'));
	@fwrite($fp, base64_decode('b25fdHJlZSgkX1JFUVVFU1RbJ2lkJ10sIGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJycpOwoJCWVjaG8gJGpzb247Cgl9CgoJLy8gPT09IEFkbWluIC8gUkEgYWN0aW9ucyA9PT0KCgkvLyBBY3Rpb246ICAgICBkZWxldGVf'));
	@fwrite($fp, base64_decode('cmEKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRlcnM6IGVtYWlsCgkvLyBPdXRwdXRzOiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gImRlbGV0ZV9yYSIpKSB7CgkJJGhhbmRsZWQgPSB0'));
	@fwrite($fp, base64_decode('cnVlOwoKCQkkZW1haWwgPSAkX1BPU1RbJ2VtYWlsJ107CgoJCSRyYV9sb2dnZWRfaW4gPSBPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNSYUxvZ2dlZEluKCRlbWFpbCk7CgoJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpICYmICEk'));
	@fwrite($fp, base64_decode('cmFfbG9nZ2VkX2luKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oJ0F1dGhlbnRpZmljYXRpb24gZXJyb3IuIFBsZWFzZSBsb2cgaW4uJyk7CgkJfQoKCQlpZiAoJHJhX2xvZ2dlZF9pbikgT0lEcGx1czo6YXV0aFV0aWxzKCktPnJhTG9nb3V0KCRlbWFpbCk7CgoJ'));
	@fwrite($fp, base64_decode('CSRyYSA9IG5ldyBPSURwbHVzUkEoJGVtYWlsKTsKCQkkcmEtPmRlbGV0ZSgpOwoKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkZW1haWwpPy9BPyIsICJSQSAnJGVtYWlsJyBkZWxldGVkIik7CgoJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIg'));
	@fwrite($fp, base64_decode('PT4gMCkpOwoJfQoKCS8vID09PSBPSUQgQ1JVRCA9PT0KCgkvLyBBY3Rpb246ICAgICBEZWxldGUKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRlcnM6IGlkCgkvLyBPdXRwdXRzOiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYg'));
	@fwrite($fp, base64_decode('KCRfUE9TVFsiYWN0aW9uIl0gPT0gIkRlbGV0ZSIpKSB7CgkJJGhhbmRsZWQgPSB0cnVlOwoKCQkkaWQgPSAkX1BPU1RbJ2lkJ107CgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRpZCk7CgkJaWYgKCRvYmogPT09IG51bGwpIHRocm93IG5ldyBFeGNlcHRp'));
	@fwrite($fp, base64_decode('b24oIkRFTEVURSBhY3Rpb24gZmFpbGVkIGJlY2F1c2Ugb2JqZWN0ICckaWQnIGNhbm5vdCBiZSBwYXJzZWQhIik7CgoJCS8vIENoZWNrIGlmIHBlcm1pdHRlZAoJCWlmICghJG9iai0+dXNlckhhc1BhcmVudGFsV3JpdGVSaWdodHMoKSkgdGhyb3cgbmV3IEV4Y2Vw'));
	@fwrite($fp, base64_decode('dGlvbignQXV0aGVudGlmaWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhcyB0aGUgc3VwZXJpb3IgUkEgdG8gZGVsZXRlIHRoaXMgT0lELicpOwoKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJGlkKStTVVBPSURSQSgkaWQpPy9BPyIsICJPYmplY3Qg'));
	@fwrite($fp, base64_decode('JyRpZCcgKHJlY3Vyc2l2ZWx5KSBkZWxldGVkIik7CgkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEUkEoJGlkKSEiLCAiTG9zdCBvd25lcnNoaXAgb2Ygb2JqZWN0ICckaWQnIGJlY2F1c2UgaXQgd2FzIGRlbGV0ZWQiKTsKCgkJaWYgKCRwYXJlbnRPYmogPSAk'));
	@fwrite($fp, base64_decode('b2JqLT5nZXRQYXJlbnQoKSkgewoJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoIi4kcGFyZW50T2JqLT5ub2RlSWQoKS4iKSIsICJPYmplY3QgJyRpZCcgKHJlY3Vyc2l2ZWx5KSBkZWxldGVkIik7CgkJfQoKCQkvLyBEZWxldGUgb2JqZWN0CgkJT0lEcGx1'));
	@fwrite($fp, base64_decode('czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJlIGlkID0gPyIsIGFycmF5KCRpZCkpOwoKCQkvLyBEZWxldGUgb3JwaGFuIHN0dWZmCgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0RW5hYmxlZE9i'));
	@fwrite($fp, base64_decode('amVjdFR5cGVzKCkgYXMgJG90KSB7CgkJCWRvIHsKCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IHRjaGlsZC5pZCBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHRjaGlsZCAiIC4KCQkJCSAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAibGVmdCBqb2luICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHRwYXJlbnQgb24gdHBhcmVudC5pZCA9IHRjaGlsZC5wYXJlbnQgIiAuCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndoZXJlIHRjaGlsZC5w'));
	@fwrite($fp, base64_decode('YXJlbnQgPD4gPyBhbmQgdGNoaWxkLmlkIGxpa2UgPyBhbmQgdHBhcmVudC5pZCBpcyBudWxsOyIsIGFycmF5KCRvdDo6cm9vdCgpLCAkb3Q6OnJvb3QoKS4nJScpKTsKCQkJCWlmICgkcmVzLT5udW1fcm93cygpID09IDApIGJyZWFrOyAvLyB3ZSBuZWVkIHRvIGNh'));
	@fwrite($fp, base64_decode('bGwgbnVtX3Jvd3MoKSBiZWZvcmUgZmV0Y2hfYXJyYXkoKSAgIFtQcm9ibGVtIHdpdGggT0RCQy9Nc1NRTF0KCgkJCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkpIHsKCQkJCQkkaWRfdG9fZGVsZXRlID0gJHJvd1snaWQnXTsKCQkJCQlPSURwbHVz'));
	@fwrite($fp, base64_decode('Ojpsb2dnZXIoKS0+bG9nKCJPSURSQSgkaWRfdG9fZGVsZXRlKSEiLCAiTG9zdCBvd25lcnNoaXAgb2Ygb2JqZWN0ICckaWRfdG9fZGVsZXRlJyBiZWNhdXNlIG9uZSBvZiB0aGUgc3VwZXJpb3Igb2JqZWN0cyAoJyRpZCcpIHdhcyByZWN1cnNpdmVseSBkZWxldGVk'));
	@fwrite($fp, base64_decode('Iik7CgkJCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJlIGlkID0gPyIsIGFycmF5KCRpZF90b19kZWxldGUpKTsKCQkJCX0KCQkJfSB3aGlsZSAodHJ1ZSk7CgkJfQoJCU9J'));
	@fwrite($fp, base64_decode('RHBsdXM6OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkIHdoZXJlIHdlbGxfa25vd24gPSAnMCcgYW5kIG9pZCBub3QgaW4gKHNlbGVjdCBpZCBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJv'));
	@fwrite($fp, base64_decode('YmplY3RzIHdoZXJlIGlkIGxpa2UgJ29pZDolJykiKTsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSAgICB3aGVyZSB3ZWxsX2tub3duID0gJzAnIGFuZCBvaWQgbm90IGluIChzZWxlY3Qg'));
	@fwrite($fp, base64_decode('aWQgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCBsaWtlICdvaWQ6JScpIik7CgoJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gMCkpOwoJfQoKCS8vIEFjdGlvbjogICAgIFVwZGF0ZQoJLy8gTWV0aG9k'));
	@fwrite($fp, base64_decode('OiAgICAgUE9TVAoJLy8gUGFyYW1ldGVyczogaWQsIHJhX2VtYWlsLCBjb21tZW50LCBpcmlzLCBhc24xaWRzLCBjb25maWRlbnRpYWwKCS8vIE91dHB1dHM6ICAgIFRleHQKCWlmIChpc3NldCgkX1BPU1RbImFjdGlvbiJdKSAmJiAoJF9QT1NUWyJhY3Rpb24iXSA9'));
	@fwrite($fp, base64_decode('PSAiVXBkYXRlIikpIHsKCQkkaGFuZGxlZCA9IHRydWU7CgoJCSRpZCA9ICRfUE9TVFsnaWQnXTsKCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJGlkKTsKCQlpZiAoJG9iaiA9PT0gbnVsbCkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVVBEQVRFIGFjdGlvbiBm'));
	@fwrite($fp, base64_decode('YWlsZWQgYmVjYXVzZSBvYmplY3QgJyRpZCcgY2Fubm90IGJlIHBhcnNlZCEiKTsKCgkJLy8gQ2hlY2sgaWYgcGVybWl0dGVkCgkJaWYgKCEkb2JqLT51c2VySGFzUGFyZW50YWxXcml0ZVJpZ2h0cygpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBdXRoZW50aWZpY2F0'));
	@fwrite($fp, base64_decode('aW9uIGVycm9yLiBQbGVhc2UgbG9nIGluIGFzIHRoZSBzdXBlcmlvciBSQSB0byB1cGRhdGUgdGhpcyBPSUQuJyk7CgoJCS8vIFZhbGlkYXRlIFJBIGVtYWlsIGFkZHJlc3MKCQkkbmV3X3JhID0gJF9QT1NUWydyYV9lbWFpbCddOwoJCWlmICghZW1wdHkoJG5ld19y'));
	@fwrite($fp, base64_decode('YSkgJiYgIW9pZHBsdXNfdmFsaWRfZW1haWwoJG5ld19yYSkpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbignSW52YWxpZCBSQSBlbWFpbCBhZGRyZXNzJyk7CgkJfQoKCQkvLyBGaXJzdCwgZG8gYSBzaW11bGF0aW9uIGZvciBBU04uMSBJRHMgYW5kIElSSXMgdG8g'));
	@fwrite($fp, base64_decode('Y2hlY2sgaWYgdGhlcmUgYXJlIGFueSBwcm9ibGVtcyAodGhlbiBhbiBFeGNlcHRpb24gd2lsbCBiZSB0aHJvd24pCgkJaWYgKCRvYmo6Om5zKCkgPT0gJ29pZCcpIHsKCQkJJG9pZCA9ICRvYmo7CgoJCQkkaWRzID0gKCRfUE9TVFsnaXJpcyddID09ICcnKSA/IGFy'));
	@fwrite($fp, base64_decode('cmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2lyaXMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkkb2lkLT5yZXBsYWNlSXJpcygkaWRzLCB0cnVlKTsKCgkJCSRpZHMgPSAoJF9QT1NUWydhc24xaWRzJ10gPT0gJycpID8gYXJyYXko'));
	@fwrite($fp, base64_decode('KSA6IGV4cGxvZGUoJywnLCRfUE9TVFsnYXNuMWlkcyddKTsKCQkJJGlkcyA9IGFycmF5X21hcCgndHJpbScsJGlkcyk7CgkJCSRvaWQtPnJlcGxhY2VBc24xSWRzKCRpZHMsIHRydWUpOwoJCX0KCgkJLy8gQ2hhbmdlIFJBIHJlY3Vyc2l2ZWx5CgkJJHJlcyA9IE9J'));
	@fwrite($fp, base64_decode('RHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcmFfZW1haWwgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkaWQpKTsKCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkkY3VycmVudF9yYSA9'));
	@fwrite($fp, base64_decode('ICRyb3dbJ3JhX2VtYWlsJ107CgkJaWYgKCRuZXdfcmEgIT0gJGN1cnJlbnRfcmEpIHsKCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCRpZCkrU1VQT0lEUkEoJGlkKT8vQT8iLCAiUkEgb2Ygb2JqZWN0ICckaWQnIGNoYW5nZWQgZnJvbSAnJGN1cnJlbnRf'));
	@fwrite($fp, base64_decode('cmEnIHRvICckbmV3X3JhJyIpOwoJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkY3VycmVudF9yYSkhIiwgICAgICAgICAgICJMb3N0IG93bmVyc2hpcCBvZiBvYmplY3QgJyRpZCcgZHVlIHRvIFJBIHRyYW5zZmVyIG9mIHN1cGVyaW9yIFJBIC8gYWRtaW4u'));
	@fwrite($fp, base64_decode('Iik7CgkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIlJBKCRuZXdfcmEpISIsICAgICAgICAgICAgICAgIkdhaW5lZCBvd25lcnNoaXAgb2Ygb2JqZWN0ICckaWQnIGR1ZSB0byBSQSB0cmFuc2ZlciBvZiBzdXBlcmlvciBSQSAvIGFkbWluLiIpOwoJCQlpZiAoJHBh'));
	@fwrite($fp, base64_decode('cmVudE9iaiA9ICRvYmotPmdldFBhcmVudCgpKSB7CgkJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoIi4kcGFyZW50T2JqLT5ub2RlSWQoKS4iKSIsICJSQSBvZiBvYmplY3QgJyRpZCcgY2hhbmdlZCBmcm9tICckY3VycmVudF9yYScgdG8gJyRuZXdfcmEn'));
	@fwrite($fp, base64_decode('Iik7CgkJCX0KCQkJX3JhX2NoYW5nZV9yZWMoJGlkLCAkY3VycmVudF9yYSwgJG5ld19yYSk7IC8vIEluaGVyaXRlZCBSQXMgcmVrdXJzaXYgbWl05G5kZXJuCgkJfQoKCQkvLyBMb2cgaWYgY29uZmlkZW50aWFsbHkgZmxhZyB3YXMgY2hhbmdlZAoJCU9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmxvZ2dlcigpLT5sb2coIk9JRCgkaWQpK1NVUE9JRFJBKCRpZCk/L0E/IiwgIklkZW50aWZpZXJzL0NvbmZpZGVudGlhbCBmbGFnIG9mIG9iamVjdCAnJGlkJyB1cGRhdGVkIik7IC8vIFRPRE86IENoZWNrIGlmIHRoZXkgd2VyZSBBQ1RVQUxMWSB1cGRhdGVkIQoJ'));
	@fwrite($fp, base64_decode('CWlmICgkcGFyZW50T2JqID0gJG9iai0+Z2V0UGFyZW50KCkpIHsKCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCIuJHBhcmVudE9iai0+bm9kZUlkKCkuIikiLCAiSWRlbnRpZmllcnMvQ29uZmlkZW50aWFsIGZsYWcgb2Ygb2JqZWN0ICckaWQnIHVwZGF0'));
	@fwrite($fp, base64_decode('ZWQiKTsgLy8gVE9ETzogQ2hlY2sgaWYgdGhleSB3ZXJlIEFDVFVBTExZIHVwZGF0ZWQhCgkJfQoKCQkvLyBSZXBsYWNlIEFTTi4xIElEcyB1bmQgSVJJcwoJCWlmICgkb2JqOjpucygpID09ICdvaWQnKSB7CgkJCSRvaWQgPSAkb2JqOwoKCQkJJGlkcyA9ICgkX1BP'));
	@fwrite($fp, base64_decode('U1RbJ2lyaXMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydpcmlzJ10pOwoJCQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJJG9pZC0+cmVwbGFjZUlyaXMoJGlkcywgZmFsc2UpOwoKCQkJJGlkcyA9ICgkX1BPU1RbJ2Fz'));
	@fwrite($fp, base64_decode('bjFpZHMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydhc24xaWRzJ10pOwoJCQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJJG9pZC0+cmVwbGFjZUFzbjFJZHMoJGlkcywgZmFsc2UpOwoKCQkJLy8gVE9ETzogQ2hlY2sg'));
	@fwrite($fp, base64_decode('aWYgYW55IGlkZW50aWZpZXJzIGhhdmUgYmVlbiBhY3R1YWxseSBjaGFuZ2VkLAoJCQkvLyBhbmQgbG9nIGl0IHRvIE9JRCgkaWQpLCBPSUQoJHBhcmVudCksIC4uLiAoc2VlIGFib3ZlKQoJCX0KCgkJJGNvbmZpZGVudGlhbCA9ICRfUE9TVFsnY29uZmlkZW50aWFs'));
	@fwrite($fp, base64_decode('J10gPT0gJ3RydWUnOwoJCSRjb21tZW50ID0gJF9QT1NUWydjb21tZW50J107CgkJaWYgKE9JRHBsdXM6OmRiKCktPnNsYW5nKCkgPT0gJ21zc3FsJykgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiVVBEQVRFICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJv'));
	@fwrite($fp, base64_decode('YmplY3RzIFNFVCBjb25maWRlbnRpYWwgPSA/LCBjb21tZW50ID0gPywgdXBkYXRlZCA9IGdldGRhdGUoKSBXSEVSRSBpZCA9ID8iLCBhcnJheSgkY29uZmlkZW50aWFsLCAkY29tbWVudCwgJGlkKSk7CgkJfSBlbHNlIHsKCQkJLy8gTXlTUUwgKyBQZ1NRTAoJCQlP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT5xdWVyeSgiVVBEQVRFICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIFNFVCBjb25maWRlbnRpYWwgPSA/LCBjb21tZW50ID0gPywgdXBkYXRlZCA9IG5vdygpIFdIRVJFIGlkID0gPyIsIGFycmF5KCRjb25maWRlbnRpYWws'));
	@fwrite($fp, base64_decode('ICRjb21tZW50LCAkaWQpKTsKCQl9CgoJCSRzdGF0dXMgPSAwOwoKCQlpZiAoIWVtcHR5KCRuZXdfcmEpKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IHJhX25hbWUgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hl'));
	@fwrite($fp, base64_decode('cmUgZW1haWwgPSA/IiwgYXJyYXkoJG5ld19yYSkpOwoJCQlpZiAoJHJlcy0+bnVtX3Jvd3MoKSA9PSAwKSAkc3RhdHVzID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyYV9pbnZpdGF0aW9uX2VuYWJsZWQnKSA/IDEgOiAyOwoJCX0KCgkJZWNobyBqc29u'));
	@fwrite($fp, base64_decode('X2VuY29kZShhcnJheSgic3RhdHVzIiA9PiAkc3RhdHVzKSk7Cgl9CgoJLy8gQWN0aW9uOiAgICAgVXBkYXRlMgoJLy8gTWV0aG9kOiAgICAgUE9TVAoJLy8gUGFyYW1ldGVyczogaWQsIHRpdGxlLCBkZXNjcmlwdGlvbgoJLy8gT3V0cHV0czogICAgVGV4dAoJaWYg'));
	@fwrite($fp, base64_decode('KGlzc2V0KCRfUE9TVFsiYWN0aW9uIl0pICYmICgkX1BPU1RbImFjdGlvbiJdID09ICJVcGRhdGUyIikpIHsKCQkkaGFuZGxlZCA9IHRydWU7CgoJCSRpZCA9ICRfUE9TVFsnaWQnXTsKCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJGlkKTsKCQlpZiAoJG9i'));
	@fwrite($fp, base64_decode('aiA9PT0gbnVsbCkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVVBEQVRFMiBhY3Rpb24gZmFpbGVkIGJlY2F1c2Ugb2JqZWN0ICckaWQnIGNhbm5vdCBiZSBwYXJzZWQhIik7CgoJCS8vIENoZWNrIGlmIGFsbG93ZWQKCQlpZiAoISRvYmotPnVzZXJIYXNXcml0ZVJpZ2h0'));
	@fwrite($fp, base64_decode('cygpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBdXRoZW50aWZpY2F0aW9uIGVycm9yLiBQbGVhc2UgbG9nIGluIGFzIHRoZSBSQSB0byB1cGRhdGUgdGhpcyBPSUQuJyk7CgoJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIk9JRCgkaWQpK09JRFJBKCRpZCk/L0E/Iiwg'));
	@fwrite($fp, base64_decode('IlRpdGxlL0Rlc2NyaXB0aW9uIG9mIG9iamVjdCAnJGlkJyB1cGRhdGVkIik7CgoJCWlmIChPSURwbHVzOjpkYigpLT5zbGFuZygpID09ICdtc3NxbCcpIHsKCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlVQREFURSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4i'));
	@fwrite($fp, base64_decode('b2JqZWN0cyBTRVQgdGl0bGUgPSA/LCBkZXNjcmlwdGlvbiA9ID8sIHVwZGF0ZWQgPSBnZXRkYXRlKCkgV0hFUkUgaWQgPSA/IiwgYXJyYXkoJF9QT1NUWyd0aXRsZSddLCAkX1BPU1RbJ2Rlc2NyaXB0aW9uJ10sICRpZCkpOwoJCX0gZWxzZSB7CgkJCS8vIE15U1FM'));
	@fwrite($fp, base64_decode('ICsgUGdTUUwKCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlVQREFURSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyBTRVQgdGl0bGUgPSA/LCBkZXNjcmlwdGlvbiA9ID8sIHVwZGF0ZWQgPSBub3coKSBXSEVSRSBpZCA9ID8iLCBhcnJheSgkX1BP'));
	@fwrite($fp, base64_decode('U1RbJ3RpdGxlJ10sICRfUE9TVFsnZGVzY3JpcHRpb24nXSwgJGlkKSk7CgkJfQoKCQllY2hvIGpzb25fZW5jb2RlKGFycmF5KCJzdGF0dXMiID0+IDApKTsKCX0KCgkvLyBBY3Rpb246ICAgICBJbnNlcnQKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRl'));
	@fwrite($fp, base64_decode('cnM6IHBhcmVudCwgaWQsIHJhX2VtYWlsLCBjb25maWRlbnRpYWwsIGlyaXMsIGFzbjFpZHMKCS8vIE91dHB1dHM6ICAgIFRleHQKCWlmIChpc3NldCgkX1BPU1RbImFjdGlvbiJdKSAmJiAoJF9QT1NUWyJhY3Rpb24iXSA9PSAiSW5zZXJ0IikpIHsKCQkkaGFuZGxl'));
	@fwrite($fp, base64_decode('ZCA9IHRydWU7CgoJCS8vIFZhbGlkYXRlZCBhcmU6IElELCByYSBlbWFpbCwgYXNuMSBpZHMsIGlyaSBpZHMKCgkJLy8gQ2hlY2sgaWYgeW91IGhhdmUgd3JpdGUgcmlnaHRzIG9uIHRoZSBwYXJlbnQgKHRvIGNyZWF0ZSBhIG5ldyBvYmplY3QpCgkJJG9ialBhcmVu'));
	@fwrite($fp, base64_decode('dCA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRfUE9TVFsncGFyZW50J10pOwoJCWlmICgkb2JqUGFyZW50ID09PSBudWxsKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJTlNFUlQgYWN0aW9uIGZhaWxlZCBiZWNhdXNlIHBhcmVudCBvYmplY3QgJyIuJF9QT1NUWydwYXJl'));
	@fwrite($fp, base64_decode('bnQnXS4iJyBjYW5ub3QgYmUgcGFyc2VkISIpOwoJCWlmICghJG9ialBhcmVudC0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHRocm93IG5ldyBFeGNlcHRpb24oJ0F1dGhlbnRpZmljYXRpb24gZXJyb3IuIFBsZWFzZSBsb2cgaW4gYXMgdGhlIGNvcnJlY3QgUkEgdG8g'));
	@fwrite($fp, base64_decode('aW5zZXJ0IGFuIE9JRCBhdCB0aGlzIGFyYy4nKTsKCgkJLy8gQ2hlY2sgaWYgdGhlIElEIGlzIHZhbGlkCgkJaWYgKCRfUE9TVFsnaWQnXSA9PSAnJykgdGhyb3cgbmV3IEV4Y2VwdGlvbignSUQgbWF5IG5vdCBiZSBlbXB0eScpOwoKCQkvLyBEZXRlcm1pbmUgYWJz'));
	@fwrite($fp, base64_decode('b2x1dGUgT0lEIG5hbWUKCQkvLyBOb3RlOiBBdCBhZGRTdHJpbmcoKSBhbmQgcGFyc2UoKSwgdGhlIHN5bnRheCBvZiB0aGUgSUQgd2lsbCBiZSBjaGVja2VkCgkJJGlkID0gJG9ialBhcmVudC0+YWRkU3RyaW5nKCRfUE9TVFsnaWQnXSk7CgoJCS8vIENoZWNrLCBp'));
	@fwrite($fp, base64_decode('ZiB0aGUgT0lEIGV4aXN0cwoJCSR0ZXN0ID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBpZCBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJlIGlkID0gPyIsIGFycmF5KCRpZCkpOwoJCWlmICgkdGVzdC0+bnVtX3Jvd3Mo'));
	@fwrite($fp, base64_decode('KSA+PSAxKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIk9iamVjdCAkaWQgYWxyZWFkeSBleGlzdHMhIik7CgkJfQoKCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJGlkKTsKICAgICAgICAgICAgICAgIGlmICgkb2JqID09PSBudWxsKSB0aHJvdyBuZXcg'));
	@fwrite($fp, base64_decode('RXhjZXB0aW9uKCJJTlNFUlQgYWN0aW9uIGZhaWxlZCBiZWNhdXNlIG9iamVjdCAnJGlkJyBjYW5ub3QgYmUgcGFyc2VkISIpOwoKCQkvLyBGaXJzdCBzaW11bGF0ZSBpZiB0aGVyZSBhcmUgYW55IHByb2JsZW1zIG9mIEFTTi4xIElEcyB1bmQgSVJJcwoJCWlmICgk'));
	@fwrite($fp, base64_decode('b2JqOjpucygpID09ICdvaWQnKSB7CgkJCSRvaWQgPSAkb2JqOwoKCQkJJGlkcyA9ICgkX1BPU1RbJ2lyaXMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydpcmlzJ10pOwoJCQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJ'));
	@fwrite($fp, base64_decode('JG9pZC0+cmVwbGFjZUlyaXMoJGlkcywgdHJ1ZSk7CgoJCQkkaWRzID0gKCRfUE9TVFsnYXNuMWlkcyddID09ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2FzbjFpZHMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkk'));
	@fwrite($fp, base64_decode('b2lkLT5yZXBsYWNlQXNuMUlkcygkaWRzLCB0cnVlKTsKCQl9CgoJCS8vIEFwcGx5IHN1cGVyaW9yIFJBIGNoYW5nZQoJCSRwYXJlbnQgPSAkX1BPU1RbJ3BhcmVudCddOwoJCSRyYV9lbWFpbCA9ICRfUE9TVFsncmFfZW1haWwnXTsKCQlpZiAoIWVtcHR5KCRyYV9l'));
	@fwrite($fp, base64_decode('bWFpbCkgJiYgIW9pZHBsdXNfdmFsaWRfZW1haWwoJHJhX2VtYWlsKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCdJbnZhbGlkIFJBIGVtYWlsIGFkZHJlc3MnKTsKCQl9CgoJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIk9JRCgkcGFyZW50KStPSUQoJGlkKStP'));
	@fwrite($fp, base64_decode('SURSQSgkcGFyZW50KT8vQT8iLCAiT2JqZWN0ICckaWQnIGNyZWF0ZWQsICIuKGVtcHR5KCRyYV9lbWFpbCkgPyAid2l0aG91dCBkZWZpbmVkIFJBIiA6ICJnaXZlbiB0byBSQSAnJHJhX2VtYWlsJyIpKS4iLCBzdXBlcmlvciBvYmplY3QgaXMgJyRwYXJlbnQnIjsK'));
	@fwrite($fp, base64_decode('CQlpZiAoIWVtcHR5KCRyYV9lbWFpbCkpIHsKCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJHJhX2VtYWlsKSEiLCAiR2FpbmVkIG93bmVyc2hpcCBvZiBuZXdseSBjcmVhdGVkIG9iamVjdCAnJGlkJyIpOwoJCX0KCgkJJGNvbmZpZGVudGlhbCA9ICRfUE9T'));
	@fwrite($fp, base64_decode('VFsnY29uZmlkZW50aWFsJ10gPT0gJ3RydWUnOwoJCSRjb21tZW50ID0gJF9QT1NUWydjb21tZW50J107CgkJJHRpdGxlID0gJyc7CgkJJGRlc2NyaXB0aW9uID0gJyc7CgkKCQlpZiAoT0lEcGx1czo6ZGIoKS0+c2xhbmcoKSA9PSAnbXNzcWwnKSB7CgkJCU9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmRiKCktPnF1ZXJ5KCJJTlNFUlQgSU5UTyAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyAoaWQsIHBhcmVudCwgcmFfZW1haWwsIGNvbmZpZGVudGlhbCwgY29tbWVudCwgY3JlYXRlZCwgdGl0bGUsIGRlc2NyaXB0aW9uKSBWQUxVRVMgKD8s'));
	@fwrite($fp, base64_decode('ID8sID8sID8sID8sIGdldGRhdGUoKSwgPywgPykiLCBhcnJheSgkaWQsICRwYXJlbnQsICRyYV9lbWFpbCwgJGNvbmZpZGVudGlhbCwgJGNvbW1lbnQsICR0aXRsZSwgJGRlc2NyaXB0aW9uKSk7CgkJfSBlbHNlIHsKCQkJLy8gTXlTUUwgKyBQZ1NRTAoJCQlPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpkYigpLT5xdWVyeSgiSU5TRVJUIElOVE8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgKGlkLCBwYXJlbnQsIHJhX2VtYWlsLCBjb25maWRlbnRpYWwsIGNvbW1lbnQsIGNyZWF0ZWQsIHRpdGxlLCBkZXNjcmlwdGlvbikgVkFMVUVTICg/'));
	@fwrite($fp, base64_decode('LCA/LCA/LCA/LCA/LCBub3coKSwgPywgPykiLCBhcnJheSgkaWQsICRwYXJlbnQsICRyYV9lbWFpbCwgJGNvbmZpZGVudGlhbCwgJGNvbW1lbnQsICR0aXRsZSwgJGRlc2NyaXB0aW9uKSk7CgkJfQoKCQkvLyBTZXQgQVNOLjEgSURzIHVuZCBJUklzCgkJaWYgKCRv'));
	@fwrite($fp, base64_decode('Ymo6Om5zKCkgPT0gJ29pZCcpIHsKCQkJJG9pZCA9ICRvYmo7CgoJCQkkaWRzID0gKCRfUE9TVFsnaXJpcyddID09ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2lyaXMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkk'));
	@fwrite($fp, base64_decode('b2lkLT5yZXBsYWNlSXJpcygkaWRzLCBmYWxzZSk7CgoJCQkkaWRzID0gKCRfUE9TVFsnYXNuMWlkcyddID09ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2FzbjFpZHMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkk'));
	@fwrite($fp, base64_decode('b2lkLT5yZXBsYWNlQXNuMUlkcygkaWRzLCBmYWxzZSk7CgkJfQoKCQkkc3RhdHVzID0gMDsKCgkJaWYgKCFlbXB0eSgkcmFfZW1haWwpKSB7CgkJCS8vIERvIHdlIG5lZWQgdG8gbm90aWZ5IHRoYXQgdGhlIFJBIGRvZXMgbm90IGV4aXN0PwoJCQkkcmVzID0gT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCByYV9uYW1lIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gPyIsIGFycmF5KCRyYV9lbWFpbCkpOwoJCQlpZiAoJHJlcy0+bnVtX3Jvd3MoKSA9PSAwKSAkc3RhdHVzID0gT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyYV9pbnZpdGF0aW9uX2VuYWJsZWQnKSA/IDEgOiAyOwoJCX0KCgkJZWNobyBqc29uX2VuY29kZShhcnJheSgic3RhdHVzIiA9PiAkc3RhdHVzKSk7Cgl9CgoJaWYgKCEkaGFuZGxlZCkgewoJCXRocm93IG5ldyBFeGNl'));
	@fwrite($fp, base64_decode('cHRpb24oJ0ludmFsaWQgYWN0aW9uIElEJyk7Cgl9CgoJT0lEcGx1czo6ZGIoKS0+dHJhbnNhY3Rpb25fY29tbWl0KCk7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJdHJ5IHsKCQlPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9yb2xsYmFjaygpOwoJfSBjYXRj'));
	@fwrite($fp, base64_decode('aCAoRXhjZXB0aW9uICRlMSkgewoJfQoJCgkkYXJ5ID0gYXJyYXkoKTsKCSRhcnlbJ2Vycm9yJ10gPSAkZS0+Z2V0TWVzc2FnZSgpOwoJJG91dCA9IGpzb25fZW5jb2RlKCRhcnkpOwoKCWlmICgkb3V0ID09PSBmYWxzZSkgewoJCS8vIFNvbWUgbW9kdWxlcyAobGlr'));
	@fwrite($fp, base64_decode('ZSBPREJDKSBtaWdodCBvdXRwdXQgbm9uLVVURjggZGF0YQoJCSRhcnlbJ2Vycm9yJ10gPSB1dGY4X2VuY29kZSgkZS0+Z2V0TWVzc2FnZSgpKTsKCQkkb3V0ID0ganNvbl9lbmNvZGUoJGFyeSk7Cgl9CgkKCWRpZSgkb3V0KTsKfQoKIyAtLS0KCmZ1bmN0aW9uIF9y'));
	@fwrite($fp, base64_decode('YV9jaGFuZ2VfcmVjKCRpZCwgJG9sZF9yYSwgJG5ld19yYSkgewoJaWYgKE9JRHBsdXM6OmRiKCktPnNsYW5nKCkgPT0gJ21zc3FsJykgewoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJ1cGRhdGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgc2V0'));
	@fwrite($fp, base64_decode('IHJhX2VtYWlsID0gPywgdXBkYXRlZCA9IGdldGRhdGUoKSB3aGVyZSBpZCA9ID8gYW5kIGlmbnVsbChyYV9lbWFpbCwnJykgPSA/IiwgYXJyYXkoJG5ld19yYSwgJGlkLCAkb2xkX3JhKSk7Cgl9IGVsc2UgewoJCS8vIE15U1FMICsgUGdTUUwKCQlPSURwbHVzOjpk'));
	@fwrite($fp, base64_decode('YigpLT5xdWVyeSgidXBkYXRlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHNldCByYV9lbWFpbCA9ID8sIHVwZGF0ZWQgPSBub3coKSB3aGVyZSBpZCA9ID8gYW5kIGlmbnVsbChyYV9lbWFpbCwnJykgPSA/IiwgYXJyYXkoJG5ld19yYSwgJGlk'));
	@fwrite($fp, base64_decode('LCAkb2xkX3JhKSk7Cgl9CgoJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IGFuZCBpZm51bGwocmFfZW1haWwsJycpID0gPyIsIGFycmF5'));
	@fwrite($fp, base64_decode('KCRpZCwgJG9sZF9yYSkpOwoJd2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpKSB7CgkJX3JhX2NoYW5nZV9yZWMoJHJvd1snaWQnXSwgJG9sZF9yYSwgJG5ld19yYSk7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('ajax.php')) {
	warn('File has vanished! Will re-create it: ajax.php');
	writefile_1();
	if (!is_file('ajax.php')) {
		warn('File cannot be created (not existing): ajax.php');
	} else if (sha1_file('ajax.php') != '5ec5d86bd222c7bc672b2e6107d4aabed671d798') {
		warn('File cannot be created (checksum mismatch): ajax.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('ajax.php', 0644)) {
		warn('Could not change file permissions of ajax.php');
	}
} else {
	if (@sha1_file('ajax.php') !== '5ec5d86bd222c7bc672b2e6107d4aabed671d798') {
		if (@sha1_file('ajax.php') !== '7ef29ac69a7330ad838e1772d09b7d9cc4a66c4c') {
			warn('File was modified. Will overwrite the changes now: ajax.php');
			$tmp = pathinfo('ajax.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('ajax.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('ajax.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('ajax.php') !== '5ec5d86bd222c7bc672b2e6107d4aabed671d798') {
			warn('File cannot be written (checksum mismatch): ajax.php');
		}
	}
}

// Files different: includes/classes/OIDplusDataBasePlugin.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplusDataBasePlugin.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmFic3RyYWN0IGNsYXNzIE9JRHBsdXNEYXRhQmFzZVBsdWdpbiBleHRlbmRzIE9JRHBsdXNQbHVnaW4gewoJcHJvdGVjdGVkICRjb25u'));
	@fwrite($fp, base64_decode('ZWN0ZWQgPSBmYWxzZTsKCXByb3RlY3RlZCAkaHRtbCA9IG51bGw7CgoJcHVibGljIGFic3RyYWN0IHN0YXRpYyBmdW5jdGlvbiBuYW1lKCk6IHN0cmluZzsgLy8gdGhpcyBpcyB0aGUgbmFtZSB0aGF0IGlzIHNldCB0byB0aGUgY29uZmlndXJhdGlvbiB2YWx1ZSBP'));
	@fwrite($fp, base64_decode('SURQTFVTX0RBVEFCQVNFX1BMVUdJTiB0byBpZGVudGlmeSB0aGUgZGF0YWJhc2UgcGx1Z2luCglwdWJsaWMgYWJzdHJhY3QgZnVuY3Rpb24gcXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3Vs'));
	@fwrite($fp, base64_decode('dDsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiBpbnNlcnRfaWQoKTogaW50OwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGVycm9yKCk6IHN0cmluZzsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiB0cmFuc2FjdGlvbl9iZWdpbigpOiB2b2lkOwoJcHVibGlj'));
	@fwrite($fp, base64_decode('IGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpOiB2b2lkOwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3JvbGxiYWNrKCk6IHZvaWQ7CgoJcHVibGljIGZ1bmN0aW9uIG5hdE9yZGVyKCRmaWVsZG5hbWUsICRvcmRlcj0n'));
	@fwrite($fp, base64_decode('YXNjJyk6IHN0cmluZyB7CgkKCQkkb3JkZXIgPSBzdHJ0b2xvd2VyKCRvcmRlcik7CgkJaWYgKCgkb3JkZXIgIT0gJ2FzYycpICYmICgkb3JkZXIgIT0gJ2Rlc2MnKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIG9yZGVyICckb3JkZXInIChuZWVk'));
	@fwrite($fp, base64_decode('cyB0byBiZSAnYXNjJyBvciAnZGVzYycpIik7CgkJfQoKCQkkbWF4ZGVwdGggPSAxMDA7IC8vIGFkanVzdCB0aGlzIGlmIHlvdSBoYXZlIHBlcmZvcm1hbmNlIGlzc3VlcyAob25seSBNeVNRTCkKCQkkbWF4X2FyY19sZW4gPSAxMDAwOwoJCQoJCSRvdXQgPSBhcnJh'));
	@fwrite($fp, base64_decode('eSgpOwoJCQoJCWlmICgkdGhpcy0+c2xhbmcoKSA9PSAncGdzcWwnKSB7CgkJCQoJCQkvLyAxLiBTb3J0IGJ5IG5hbWVzcGFjZSAob2lkLCBndWlkLCAuLi4pCgkJCSRvdXRbXSA9ICJTUExJVF9QQVJUKCRmaWVsZG5hbWUsICc6JywgMSkgJG9yZGVyIjsKCQkJCgkJ'));
	@fwrite($fp, base64_decode('CS8vIDIuIE9ubHkgaWYgbmFtZXNwYWNlIGlzICdvaWQ6JzogU29ydCBPSUQgYXMgaW50ZWdlciBhcnJheQoJCQkkb3V0W10gPSAiU1RSSU5HX1RPX0FSUkFZKFNQTElUX1BBUlQoJGZpZWxkbmFtZSwgJ29pZDonLCAyKSwgJy4nKTo6bnVtZXJpYygkbWF4X2FyY19s'));
	@fwrite($fp, base64_decode('ZW4pW10gJG9yZGVyIjsKCQkJCgkJCS8vIDMuIE90aGVyd2lzZSBvcmRlciBieSBJRAoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoJCQkKCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdteXNxbCcpIHsKCQkJCgkJCS8vIDEuIHNvcnQgYnkg'));
	@fwrite($fp, base64_decode('bmFtZXNwYWNlIChvaWQsIGd1aWQsIC4uLikKCQkJJG91dFtdID0gIlNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCc6JywxKSAkb3JkZXIiOwoJCQkKCQkJLy8gMi4gc29ydCBieSBmaXJzdCBhcmMgKDAsMSwyKQoJCQkkb3V0W10gPSAiU1VCU1RSSU5HKFNVQlNU'));
	@fwrite($fp, base64_decode('UklOR19JTkRFWCgkZmllbGRuYW1lLCcuJywxKSwgTEVOR1RIKFNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCc6JywxKSkrMiwgJG1heF9hcmNfbGVuKSAkb3JkZXIiOwoJCQkKCQkJZm9yICgkaT0yOyAkaTw9JG1heGRlcHRoOyAkaSsrKSB7CgkJCQkvLyAzLiBT'));
	@fwrite($fp, base64_decode('b3J0IGJ5IHRoZSByZXN0IGFyY3Mgb25lIGJ5IG9uZSwgbm90IHRoYXQgTXlTUUwgY2FuIG9ubHkgaGFuZGxlIGRlY2ltYWwoNjUpLCBub3QgZGVjaW1hbCgkbWF4X2FyY19sZW4pCgkJCQkkb3V0W10gPSAiY2FzdChTVUJTVFJJTkcoU1VCU1RSSU5HX0lOREVYKCRm'));
	@fwrite($fp, base64_decode('aWVsZG5hbWUsJy4nLCRpKSwgTEVOR1RIKFNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCcuJywiLigkaS0xKS4iKSkrMiwgJG1heF9hcmNfbGVuKSBhcyBkZWNpbWFsKDY1KSkgJG9yZGVyIjsKCQkJfQoKCQkJLy8gNC4gYXMgbGFzdCByZXNvcnQsIHNvcnQgYnkg'));
	@fwrite($fp, base64_decode('dGhlIGlkZW50aWZpZXIgaXRzZWxmLCBlLmcuIGlmIHRoZSBjYXN0cyBhYm92ZSBkaWQgZmFpbCAoaGFwcGVucyBpZiBpdCBpcyBub3QgYW4gT0lEKQkJCQoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoJCQkKCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFu'));
	@fwrite($fp, base64_decode('ZygpID09ICdtc3NxbCcpIHsKCQkKCQkJLy8gMS4gc29ydCBieSBuYW1lc3BhY2UgKG9pZCwgZ3VpZCwgLi4uKQoJCQkkb3V0W10gPSAic3Vic3RyaW5nKCRmaWVsZG5hbWUsMSxjaGFyaW5kZXgoJzonLCRmaWVsZG5hbWUpLTEpICRvcmRlciI7CgkJCQoJCQlmb3Ig'));
	@fwrite($fp, base64_decode('KCRpPTE7ICRpPD0kbWF4ZGVwdGg7ICRpKyspIHsKCQkJCS8vIDIuIFNvcnQgYnkgdGhlIHJlc3QgYXJjcyBvbmUgYnkgb25lLCBub3QgdGhhdCBNeVNRTCBjYW4gb25seSBoYW5kbGUgZGVjaW1hbCg2NSksIG5vdCBkZWNpbWFsKCRtYXhfYXJjX2xlbikKCQkJCSRv'));
	@fwrite($fp, base64_decode('dXRbXSA9ICJkYm8uZ2V0T2lkQXJjKCRmaWVsZG5hbWUsICcuJywgJGkpICRvcmRlciI7CgkJCX0KCgkJCS8vIDMuIGFzIGxhc3QgcmVzb3J0LCBzb3J0IGJ5IHRoZSBpZGVudGlmaWVyIGl0c2VsZiwgZS5nLiBpZiB0aGUgZnVuY3Rpb24gZ2V0T2lkQXJjIGFsd2F5'));
	@fwrite($fp, base64_decode('cyByZXR1cm4gMCAoaGFwcGVucyBpZiBpdCBpcyBub3QgYW4gT0lEKQkJCQoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoJCX0gZWxzZSB7CgkJCgkJCS8vIEZvciAoeWV0KSB1bnN1cHBvcnRlZCBEQk1TLCB3ZSBkbyBub3Qgb2ZmZXIgbmF0dXJhbCBz'));
	@fwrite($fp, base64_decode('b3J0CgkJCSRvdXRbXSA9ICIkZmllbGRuYW1lICRvcmRlciI7CgoJCX0KCgkJcmV0dXJuIGltcGxvZGUoJywgJywgJG91dCk7IAoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBhZnRlckNvbm5lY3QoKTogdm9pZCB7CgkJLy8gQ2hlY2sgaWYgZGF0YWJhc2UgdGFibGVz'));
	@fwrite($fp, base64_decode('IGFyZSBleGlzdGluZwoJCSR0YWJsZV9uYW1lcyA9IGFycmF5KCdvYmplY3RzJywgJ2FzbjFpZCcsICdpcmknLCAncmEnLCAnY29uZmlnJyk7CgkJZm9yZWFjaCAoJHRhYmxlX25hbWVzIGFzICR0YWJsZW5hbWUpIHsKCQkJdHJ5IHsKCQkJCSR0aGlzLT5xdWVyeSgi'));
	@fwrite($fp, base64_decode('c2VsZWN0IDAgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4kdGFibGVuYW1lLiIgd2hlcmUgMT0wIik7CgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignVGFi'));
	@fwrite($fp, base64_decode('bGUgJy5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguJHRhYmxlbmFtZS4nIGlzIG1pc3NpbmchJyk7CgkJCX0KCQl9CgoJCS8vIERvIHRoZSBkYXRhYmFzZSB0YWJsZSB0YWJsZXMgbmVlZCBhbiB1cGRhdGU/CgkJLy8gTm90ZTogVGhlIGNvbmZpZyBzZXR0aW5nICJk'));
	@fwrite($fp, base64_decode('YXRhYmFzZV92ZXJzaW9uIiBpcyBpbnNlcnRlZCBpbiBzZXR1cC9zcWwvLi4uc3FsLCBub3QgaW4gdGhlIE9JRHBsdXMgY29yZSBpbml0CgoJCSRyZXMgPSAkdGhpcy0+cXVlcnkoIlNFTEVDVCB2YWx1ZSBGUk9NICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJj'));
	@fwrite($fp, base64_decode('b25maWcgV0hFUkUgbmFtZSA9ICdkYXRhYmFzZV92ZXJzaW9uJyIpOwoJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCQoJCWlmICgkcm93ID09IG51bGwpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignQ2Fu'));
	@fwrite($fp, base64_decode('bm90IGRldGVybWluZSBkYXRhYmFzZSB2ZXJzaW9uICh0aGUgZW50cnkgImRhdGFiYXNlX3ZlcnNpb24iIGluc2lkZSB0aGUgdGFibGUgIicuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLidjb25maWciIGlzIHByb2JhYmx5IG1pc3NpbmcpJyk7CgkJfQoJCQoJCSR2'));
	@fwrite($fp, base64_decode('ZXJzaW9uID0gJHJvd1sndmFsdWUnXTsKCQlpZiAoJHZlcnNpb24gPT0gMjAwKSB7CgkJCSR0aGlzLT50cmFuc2FjdGlvbl9iZWdpbigpOwoJCQkkdGhpcy0+cXVlcnkoIkFMVEVSIFRBQkxFICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIEFERCBj'));
	@fwrite($fp, base64_decode('b21tZW50IHZhcmNoYXIoMjU1KSBOVUxMIik7CgkJCSR2ZXJzaW9uID0gMjAxOwoJCQkkdGhpcy0+cXVlcnkoIlVQREFURSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIFNFVCB2YWx1ZSA9ID8gV0hFUkUgbmFtZSA9ICdkYXRhYmFzZV92ZXJzaW9u'));
	@fwrite($fp, base64_decode('JyIsIGFycmF5KCR2ZXJzaW9uKSk7CgkJCSR0aGlzLT50cmFuc2FjdGlvbl9jb21taXQoKTsKCQl9CgkJaWYgKCR2ZXJzaW9uID09IDIwMSkgewoJCQkvLyBDaGFuZ2UgYml0KDEpIHR5cGVzIHRvIGJvb2xlYW4vdGlueWludCgxKQoJCQkkdGhpcy0+dHJhbnNhY3Rp'));
	@fwrite($fp, base64_decode('b25fYmVnaW4oKTsKCQkJaWYgKCR0aGlzLT5zbGFuZygpID09ICdwZ3NxbCcpIHsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgYWx0ZXIgcHJvdGVjdGVkICAgIGRyb3AgZGVmYXVsdCIpOwoJ'));
	@fwrite($fp, base64_decode('CQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnICBhbHRlciBwcm90ZWN0ZWQgICAgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQocHJvdGVjdGVkICAgLDApOjpib29sZWFuIik7CgkJCQkkdGhpcy0+'));
	@fwrite($fp, base64_decode('cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgIGFsdGVyIHByb3RlY3RlZCAgICBzZXQgZGVmYXVsdCBmYWxzZSIpOwoJCQkJCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVf'));
	@fwrite($fp, base64_decode('UFJFRklYLiJjb25maWcgIGFsdGVyIHZpc2libGUgICAgICBkcm9wIGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgYWx0ZXIgdmlzaWJsZSAgICAgIHR5cGUgYm9vbGVhbiB1'));
	@fwrite($fp, base64_decode('c2luZyBnZXRfYml0KHZpc2libGUgICAgICwwKTo6Ym9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnICBhbHRlciB2aXNpYmxlICAgICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCgkJ'));
	@fwrite($fp, base64_decode('CQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgIGFsdGVyIHN0YW5kYXJkaXplZCBkcm9wIGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9Q'));
	@fwrite($fp, base64_decode('UkVGSVguImFzbjFpZCAgYWx0ZXIgc3RhbmRhcmRpemVkIHR5cGUgYm9vbGVhbiB1c2luZyBnZXRfYml0KHN0YW5kYXJkaXplZCwwKTo6Ym9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNu'));
	@fwrite($fp, base64_decode('MWlkICBhbHRlciBzdGFuZGFyZGl6ZWQgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgIGFsdGVyIHdlbGxfa25vd24gICBkcm9wIGRlZmF1bHQiKTsKCQkJ'));
	@fwrite($fp, base64_decode('CSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAgYWx0ZXIgd2VsbF9rbm93biAgIHR5cGUgYm9vbGVhbiB1c2luZyBnZXRfYml0KHdlbGxfa25vd24gICwwKTo6Ym9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1'));
	@fwrite($fp, base64_decode('ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkICBhbHRlciB3ZWxsX2tub3duICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklY'));
	@fwrite($fp, base64_decode('LiJpcmkgICAgIGFsdGVyIGxvbmdhcmMgICAgICBkcm9wIGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSAgICAgYWx0ZXIgbG9uZ2FyYyAgICAgIHR5cGUgYm9vbGVhbiB1c2luZyBn'));
	@fwrite($fp, base64_decode('ZXRfYml0KGxvbmdhcmMgICAgICwwKTo6Ym9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBhbHRlciBsb25nYXJjICAgICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCgkJCQkkdGhp'));
	@fwrite($fp, base64_decode('cy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgICAgIGFsdGVyIHdlbGxfa25vd24gICBkcm9wIGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVgu'));
	@fwrite($fp, base64_decode('ImlyaSAgICAgYWx0ZXIgd2VsbF9rbm93biAgIHR5cGUgYm9vbGVhbiB1c2luZyBnZXRfYml0KHdlbGxfa25vd24gICwwKTo6Ym9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBh'));
	@fwrite($fp, base64_decode('bHRlciB3ZWxsX2tub3duICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIGFsdGVyIGNvbmZpZGVudGlhbCB0eXBlIGJvb2xlYW4gdXNpbmcgZ2V0X2Jp'));
	@fwrite($fp, base64_decode('dChjb25maWRlbnRpYWwsMCk6OmJvb2xlYW4iKTsKCgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSAgICAgIGFsdGVyIHByaXZhY3kgICAgICBkcm9wIGRlZmF1bHQiKTsKCQkJCSR0aGlzLT5xdWVyeSgi'));
	@fwrite($fp, base64_decode('YWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhICAgICAgYWx0ZXIgcHJpdmFjeSAgICAgIHR5cGUgYm9vbGVhbiB1c2luZyBnZXRfYml0KHByaXZhY3kgICAgICwwKTo6Ym9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJs'));
	@fwrite($fp, base64_decode('ZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgICAgICBhbHRlciBwcml2YWN5ICAgICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsKCQkJfSBlbHNlIGlmICgkdGhpcy0+c2xhbmcoKSA9PSAnbXlzcWwnKSB7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxl'));
	@fwrite($fp, base64_decode('ICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgIG1vZGlmeSBwcm90ZWN0ZWQgICAgYm9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnICBtb2RpZnkgdmlzaWJsZSAg'));
	@fwrite($fp, base64_decode('ICAgIGJvb2xlYW4iKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAgbW9kaWZ5IHN0YW5kYXJkaXplZCBib29sZWFuIik7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExV'));
	@fwrite($fp, base64_decode('U19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgIG1vZGlmeSB3ZWxsX2tub3duICAgYm9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBtb2RpZnkgbG9uZ2FyYyAgICAgIGJvb2xl'));
	@fwrite($fp, base64_decode('YW4iKTsKCQkJCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSAgICAgbW9kaWZ5IHdlbGxfa25vd24gICBib29sZWFuIik7CgkJCQkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5B'));
	@fwrite($fp, base64_decode('TUVfUFJFRklYLiJvYmplY3RzIG1vZGlmeSBjb25maWRlbnRpYWwgYm9vbGVhbiIpOwoJCQkJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgICAgICBtb2RpZnkgcHJpdmFjeSAgICAgIGJvb2xlYW4iKTsKCQkJ'));
	@fwrite($fp, base64_decode('fQoJCQkKCQkJLy8gUmVuYW1lIGxvZ191c2VyLnVzZXIgdG8gbG9nX3VzZXIudXNlcm5hbWUsIHNpbmNlIHVzZXIgaXMgYSBrZXl3b3JkIGluIFBvc3RncmVTUUwgYW5kIE1TU1FMCgkJCWlmICgkdGhpcy0+c2xhbmcoKSA9PSAncGdzcWwnKSB7CgkJCQkkdGhpcy0+'));
	@fwrite($fp, base64_decode('cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJsb2dfdXNlciByZW5hbWUgY29sdW1uIFwidXNlclwiIHRvIFwidXNlcm5hbWVcIiIpOwoJCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdteXNxbCcpIHsKCQkJCSR0aGlz'));
	@fwrite($fp, base64_decode('LT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImxvZ191c2VyIGNoYW5nZSBgdXNlcmAgYHVzZXJuYW1lYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwiKTsKCQkJfQogIAoJCQkkdmVyc2lvbiA9IDIwMjsKCQkJJHRoaXMtPnF1ZXJ5'));
	@fwrite($fp, base64_decode('KCJVUERBVEUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyBTRVQgdmFsdWUgPSA/IFdIRVJFIG5hbWUgPSAnZGF0YWJhc2VfdmVyc2lvbiciLCBhcnJheSgkdmVyc2lvbikpOwoJCQkkdGhpcy0+dHJhbnNhY3Rpb25fY29tbWl0KCk7CgkJfQoJCWlm'));
	@fwrite($fp, base64_decode('ICgkdmVyc2lvbiA9PSAyMDIpIHsKCQkJJHRoaXMtPnRyYW5zYWN0aW9uX2JlZ2luKCk7CgkJCWlmICgkdGhpcy0+c2xhbmcoKSA9PSAnbXNzcWwnKSB7CgkJCQkkc3FsID0gIkNSRUFURSBGVU5DVElPTiBbZGJvXS5bZ2V0T2lkQXJjXSAoQHN0ckxpc3QgdmFyY2hh'));
	@fwrite($fp, base64_decode('cig1MTIpLCBAc2VwYXJhdG9yIHZhcmNoYXIoMSksIEBvY2N1cmVuY2UgdGlueWludCkKCQkJCVJFVFVSTlMgYmlnaW50IEFTCgkJCQlCRUdJTiAKCQkJCQlERUNMQVJFIEBpbnRQb3MgdGlueWludAoJCQkJCgkJCQkJREVDTEFSRSBAY250IHRpbnlpbnQKCQkJCQlT'));
	@fwrite($fp, base64_decode('RVQgQGNudCA9IDAKCQkJCQoJCQkJCWlmIHN1YnN0cmluZyhAc3RyTGlzdCwgMSwgNCkgPD4gJ29pZDonCgkJCQkJYmVnaW4KCQkJCQkJcmV0dXJuIDAKCQkJCQllbmQKCQkJCQoJCQkJCVNFVCBAc3RyTGlzdCA9IFJJR0hUKEBzdHJMaXN0LCBMRU4oQHN0ckxpc3Qp'));
	@fwrite($fp, base64_decode('LTQpOwoJCQkJCgkJCQkJV0hJTEUgQ0hBUklOREVYKEBzZXBhcmF0b3IsQHN0ckxpc3QpID4gMAoJCQkJCUJFR0lOCgkJCQkJCVNFVCBAaW50UG9zID0gQ0hBUklOREVYKEBzZXBhcmF0b3IsQHN0ckxpc3QpIAoJCQkJCQlTRVQgQGNudCA9IEBjbnQgKyAxCgkJCQkJ'));
	@fwrite($fp, base64_decode('CUlGIEBjbnQgPSBAb2NjdXJlbmNlCgkJCQkJCUJFR0lOCgkJCQkJCQlSRVRVUk4gQ09OVkVSVChiaWdpbnQsIExFRlQoQHN0ckxpc3QsQGludFBvcy0xKSk7CgkJCQkJCUVORAoJCQkJCQlTRVQgQHN0ckxpc3QgPSBSSUdIVChAc3RyTGlzdCwgTEVOKEBzdHJMaXN0'));
	@fwrite($fp, base64_decode('KS1AaW50UG9zKQoJCQkJCUVORAoJCQkJCUlGIExFTihAc3RyTGlzdCkgPiAwCgkJCQkJQkVHSU4KCQkJCQkJU0VUIEBjbnQgPSBAY250ICsgMQoJCQkJCQlJRiBAY250ID0gQG9jY3VyZW5jZQoJCQkJCQlCRUdJTgoJCQkJCQkJUkVUVVJOIENPTlZFUlQoYmlnaW50'));
	@fwrite($fp, base64_decode('LCBAc3RyTGlzdCk7CgkJCQkJCUVORAoJCQkJCUVORAoJCQkJCgkJCQkJUkVUVVJOIC0xCgkJCQlFTkQiOwoJCQkJJHRoaXMtPnF1ZXJ5KCRzcWwpOwoJCQl9CgkJCQkKCQkJJHZlcnNpb24gPSAyMDM7CgkJCSR0aGlzLT5xdWVyeSgiVVBEQVRFICIuT0lEUExVU19U'));
	@fwrite($fp, base64_decode('QUJMRU5BTUVfUFJFRklYLiJjb25maWcgU0VUIHZhbHVlID0gPyBXSEVSRSBuYW1lID0gJ2RhdGFiYXNlX3ZlcnNpb24nIiwgYXJyYXkoJHZlcnNpb24pKTsKCQkJJHRoaXMtPnRyYW5zYWN0aW9uX2NvbW1pdCgpOwoJCX0KCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24g'));
	@fwrite($fp, base64_decode('c2hvd0Nvbm5lY3RFcnJvcigkbWVzc2FnZSk6IHZvaWQgewoJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Nvbm5lY3Rpb24gdG8gdGhlIGRhdGFiYXNlIGZhaWxlZCEgJy4kbWVzc2FnZSk7Cgl9CgoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGlzQ29ubmVjdGVkKCk6IGJvb2wgewoJCXJldHVybiAkdGhpcy0+Y29ubmVjdGVkOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpbml0KCRodG1sID0gdHJ1ZSk6IHZvaWQgewoJCSR0aGlzLT5odG1sID0gJGh0bWw7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNsYW5n'));
	@fwrite($fp, base64_decode('KCk6IHN0cmluZyB7CgkJLy8gVGhlIGNvbnN0YW50IE9JRFBMVVNfREJNU19TTEFORyBpcyB1c2VkIGFzIGNhY2hlLgoJCS8vIFlvdSBjYW4gYWxzbyBwdXQgaXQgaW4geW91ciBjb25maWcuaW5jLnBocCBpZiB5b3Ugd2FudCB0byBlbmZvcmNlIGEgc2xhbmcgdG8g'));
	@fwrite($fp, base64_decode('YmUgdXNlZAoKCQlpZiAoZGVmaW5lZCgnT0lEUExVU19EQk1TX1NMQU5HJykpIHsKCQkJcmV0dXJuIE9JRFBMVVNfREJNU19TTEFORzsKCQl9IGVsc2UgewoJCQl0cnkgewoJCQkJLy8gTXlTUUwsIE1hcmlhREIgYW5kIFBvc3RncmVTUUwKCQkJCSR2ZXJzID0gJHRo'));
	@fwrite($fp, base64_decode('aXMtPnF1ZXJ5KCJzZWxlY3QgdmVyc2lvbigpIGFzIGRibXNfdmVyc2lvbiIpLT5mZXRjaF9vYmplY3QoKS0+ZGJtc192ZXJzaW9uOwoJCQkJJHZlcnMgPSBzdHJ0b2xvd2VyKCR2ZXJzKTsKCQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCQl0cnkgewoJCQkJ'));
	@fwrite($fp, base64_decode('CS8vIE1pY3Jvc29mdCBTUUwgU2VydmVyCgkJCQkJJHZlcnMgPSAkdGhpcy0+cXVlcnkoInNlbGVjdCBAQHZlcnNpb24gYXMgZGJtc192ZXJzaW9uIiktPmZldGNoX29iamVjdCgpLT5kYm1zX3ZlcnNpb247CgkJCQkJJHZlcnMgPSBzdHJ0b2xvd2VyKCR2ZXJzKTsK'));
	@fwrite($fp, base64_decode('CQkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIkNhbm5vdCBkZXRlcm1pbmUgdGhlIHNsYW5nIG9mIHlvdXIgREJNUyAoZnVuY3Rpb24gJ3ZlcnNpb24oKScgY291bGQgbm90IGJlIGNhbGxlZCkuIFlvdXIgREJNUyBp'));
	@fwrite($fp, base64_decode('cyBwcm9iYWJseSBub3Qgc3VwcG9ydGVkLiIpOwoJCQkJfQoJCQl9CgoJCQkkc2xhbmcgPSBudWxsOwoJCQlpZiAoc3RycG9zKCR2ZXJzLCAncG9zdGdyZXNxbCcpICAgICAgICAgICAhPT0gZmFsc2UpICRzbGFuZyA9ICdwZ3NxbCc7CgkJCWlmIChzdHJwb3MoJHZl'));
	@fwrite($fp, base64_decode('cnMsICdteXNxbCcpICAgICAgICAgICAgICAgICE9PSBmYWxzZSkgJHNsYW5nID0gJ215c3FsJzsKCQkJaWYgKHN0cnBvcygkdmVycywgJ21hcmlhZGInKSAgICAgICAgICAgICAgIT09IGZhbHNlKSAkc2xhbmcgPSAnbXlzcWwnOwoJCQlpZiAoc3RycG9zKCR2ZXJz'));
	@fwrite($fp, base64_decode('LCAnbWljcm9zb2Z0IHNxbCBzZXJ2ZXInKSAhPT0gZmFsc2UpICRzbGFuZyA9ICdtc3NxbCc7CgkJCWlmICghaXNfbnVsbCgkc2xhbmcpKSB7CgkJCQlkZWZpbmUoJ09JRFBMVVNfREJNU19TTEFORycsICRzbGFuZyk7CgkJCQlyZXR1cm4gJHNsYW5nOwoJCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiQ2Fubm90IGRldGVybWluZSB0aGUgc2xhbmcgb2YgeW91ciBEQk1TICh3ZSBkb24ndCBrbm93IHdoYXQgdG8gZG8gd2l0aCB0aGUgREJNUyAnJHZlcnMnKS4gWW91ciBEQk1TIGlzIHByb2JhYmx5IG5vdCBzdXBw'));
	@fwrite($fp, base64_decode('b3J0ZWQuIik7CgkJCX0KCQl9Cgl9Cn0KCg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusDataBasePlugin.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusDataBasePlugin.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplusDataBasePlugin.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusDataBasePlugin.class.php');
	} else if (sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') != '0a58fedda6c046046a44a0fe504234a59f675add') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusDataBasePlugin.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusDataBasePlugin.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusDataBasePlugin.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') !== '0a58fedda6c046046a44a0fe504234a59f675add') {
		if (@sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') !== 'fae9df1d1b8102a6a5999e4e1618177ef5bca6b5') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusDataBasePlugin.class.php');
			$tmp = pathinfo('includes/classes/OIDplusDataBasePlugin.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusDataBasePlugin.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusDataBasePlugin.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplusDataBasePlugin.class.php') !== '0a58fedda6c046046a44a0fe504234a59f675add') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusDataBasePlugin.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 243\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 243') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

