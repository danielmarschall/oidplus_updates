<?php /* <ViaThinkSoftSignature>
f2g4DkDY2tWqRWQ+MBMPQxchUMEdDLwapb4JnvZwnkFdIcoT8WKqHGlSKS11dyxxl
91UiJYpU5ksFwccig9610jiDIeZizXuqUbj9RwPWaY3BICtqMrMm2dsU6m0f2Gto2
TEab7PBGnTS7C2tFRG6qN8tSGmhNSFCI9OFktdUnUOnuDFVELe/fJm+IvRI7qKQ2+
JU8r2/56sn6zRWFlgoAj0zjDYMPC2gpRvtuyIcAVnKb0P3RZ+a4bmwsU82rYxi81X
22nuppM9HbemTGO8dNbyrKzZRVVPCJVZYuZn80Y0GI1vD/TYuYm9Oamdm7G+b9J5B
0ceB3yci+bebHGeZ9fYm8kc/BDaQRB0Oz95cMtbTgrHze/9gZdEIv/BAX+A2Sps0h
itaMOU0fNLbYHrAum0gzdtRIFI0xXtXma2LdrNnlrL2SXA5x614/DWxM/ankASWHV
rz8oBZbDpHGMaTSGtg5hRq8Qw0NuUvh5xcJRAhVe+XFapt1oOG/V0R8nJQnTeTqo4
iZSfnldMN/s3ay+dPEtwabdbkmhtcY2OYrVTYxZPC1F8AT1OM4+z/LTJ47Tp6U4vo
+XCcvtNXYIcwrSxYSF6C3zpJf6p9R3leT5aXfepnbFSkHGwYAnBMKRMjEASk5Yfc6
DmnRuL/M308hRgDedCDEDXbha7DuUEOSikNRQCUfHusXWuT11TVKMlX6NCQsYf+yd
ildYjYl46uaij3AAGStCQsyJHyY3+a0xM3XZUz0fqjjcdN7uZnjrNfStIYfwQ/ZBq
yukmOevryE9tATTSezyTv4Yw3NwpGeccbfg2Y1ghIUZC1I33uKo1ECjl20qu6xJkA
hQhWWLwukLxvakkpuumrf3s/Q6D1mGciLxwtxoSvZj8hY+kwOBkay6rxxNUJYuFKF
w4raRWclW8mIePwupugsOF/BdsQyFRzpdlqJVWU/VQazPKhbgmOIGlV/L85cM9r6k
01QTs3dZTTuvgc7VEyx0Cm585mk1RRM13BKVabGxAZmbB1WFGL7AxmPJ4sQks8WdP
NbbLFymSvfLutsIGVGEgkN/kbQejFFYnRspOzihjf0a1Ede9Om0saJQsjnzZGHvCq
25blM4Uc49+b1glzh9Q5sU6/53qlVAgstxpWcKCOSpq8gZyqTBcq5VZyhe0qnw4U3
xy7asgAp1dx2TAoxMaribn9BDUi9L/tHM/qXE2APlHEPc+Xyqw64TRilkAI6iU4yf
9FWJNiSzlQ8dKQB4HQ5XG8mpZfVaWXdlaGne8CZW7hITw8sSVyVLTqmjCtA0Yqu8W
kznB7AiAlWmwGvoN9FZIAAw8R0N+HgR90Utli9RoeuYFfRRoX9O1MEZcLyurFP40z
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 305') {
	err('This update can only be applied to OIDplus version 2.0.0.305!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: update/check.php
function writefile_1() {
	@$fp = fopen('update/check.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmRlY2xhcmUodGlja3M9MSk7CgpzZXRfdGltZV9saW1pdCgwKTsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKLy8gTm90ZTogd2UgZG9uJ3Qg'));
	@fwrite($fp, base64_decode('d2FudCB0byB1c2UgT0lEcGx1czo6aW5pdCgpIGluIHRoaXMgdXBkYXRlciAoaXQgc2hvdWxkIGJlIGluZGVwZW5kZW50IGFzIG11Y2ggYXMgcG9zc2libGUpCk9JRHBsdXM6OmJhc2VDb25maWcoKTsgLy8gVGhpcyBjYWxsIHdpbGwgcmVkaXJlY3QgdG8gc2V0dXAg'));
	@fwrite($fp, base64_decode('aWYgdXNlcmRhdGEvYmFzZWNvbmZpZy9jb25maWcuaW5jLnBocCBpcyBtaXNzaW5nCgpkZWZpbmUoJ09JRFBMVVNfUkVQTycsICdodHRwczovL3N2bi52aWF0aGlua3NvZnQuY29tL3N2bi9vaWRwbHVzJyk7Cgo/PjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJl'));
	@fwrite($fp, base64_decode('biI+Cgo8aGVhZD4KCTx0aXRsZT5PSURwbHVzIEZpbGUgQ29tcGxldGVuZXNzIENoZWNrPC90aXRsZT4KCTxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCI+Cgk8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRo'));
	@fwrite($fp, base64_decode('LCBpbml0aWFsLXNjYWxlPTEuMCI+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4uL3NldHVwL3NldHVwLmNzcyI+Cgk8P3BocAoJaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9FTkFCTEVEJywgZmFsc2UpKSB7Cgk/'));
	@fwrite($fp, base64_decode('PgoJPHNjcmlwdCBzcmM9Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS5qcyI+PC9zY3JpcHQ+Cgk8P3BocAoJfQoJPz4KPC9oZWFkPgoKPGJvZHk+Cgo8aDE+T0lEcGx1cyBGaWxlIENvbXBsZXRlbmVzcyBDaGVjazwvaDE+Cgo8P3BocAoKZWNo'));
	@fwrite($fp, base64_decode('byAnPHA+PGlucHV0IHR5cGU9ImJ1dHRvbiIgb25jbGljaz0iZG9jdW1lbnQubG9jYXRpb249XCdpbmRleC5waHBcJyIgdmFsdWU9IkdvIGJhY2sgdG8gdXBkYXRlciI+PC9wPic7CgppZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hB'));
	@fwrite($fp, base64_decode('X0VOQUJMRUQnLCBmYWxzZSkpIHsKCSRzZWNyZXQgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdSRUNBUFRDSEFfUFJJVkFURScsICcnKTsKCSRyZXNwb25zZSA9ICRfUE9TVFsiZy1yZWNhcHRjaGEtcmVzcG9uc2UiXTsKCSR2ZXJpZnkgPSBmaWxl'));
	@fwrite($fp, base64_decode('X2dldF9jb250ZW50cygiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpL3NpdGV2ZXJpZnk/c2VjcmV0PXskc2VjcmV0fSZyZXNwb25zZT17JHJlc3BvbnNlfSIpOwoJJGNhcHRjaGFfc3VjY2VzcyA9IGpzb25fZGVjb2RlKCR2ZXJpZnkpOwp9Cgpp'));
	@fwrite($fp, base64_decode('ZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX0VOQUJMRUQnLCBmYWxzZSkgJiYgKCRjYXB0Y2hhX3N1Y2Nlc3MtPnN1Y2Nlc3M9PWZhbHNlKSkgewoJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+PGI+Q0FQVENIQSBub3Qgc3Vj'));
	@fwrite($fp, base64_decode('ZXNzZnVsbHkgdmVyaWZpZWQ8L2I+PC9mb250PjwvcD4nOwoJLy9lY2hvICc8cD48YSBocmVmPSJpbmRleC5waHAiPlRyeSBhZ2FpbjwvYT48L3A+JzsKfSBlbHNlIHsKCWlmICghT0lEcGx1c0F1dGhVdGlsczo6YWRtaW5DaGVja1Bhc3N3b3JkKCRfUkVRVUVTVFsn'));
	@fwrite($fp, base64_decode('YWRtaW5fcGFzc3dvcmQnXSkpIHsKCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj48Yj5Xcm9uZyBwYXNzd29yZDwvYj48L2ZvbnQ+PC9wPic7CgkJLy9lY2hvICc8cD48YSBocmVmPSJpbmRleC5waHAiPlRyeSBhZ2FpbjwvYT48L3A+JzsKCX0gZWxzZSB7CgkJ'));
	@fwrite($fp, base64_decode('JHN2biA9IG5ldyBwaHBzdm5jbGllbnQoT0lEUExVU19SRVBPKTsKCgkJJHN2bl9yZXYgPSBpc3NldCgkX1JFUVVFU1RbJ3N2bl92ZXJzaW9uJ10pICYmIGlzX251bWVyaWMoJF9SRVFVRVNUWydzdm5fdmVyc2lvbiddKSA/IChpbnQpJF9SRVFVRVNUWydzdm5fdmVy'));
	@fwrite($fp, base64_decode('c2lvbiddIDogLTE7CgoJCWxpc3QoJHN2bl9jb250LCAkbG9jYWxfY29udCkgPSAkc3ZuLT5jb21wYXJlVG9EaXJlY3RvcnkoJy4uLycsICcvdHJ1bmsvJywgJHN2bl9yZXYpOwoJCWZvcmVhY2ggKCRsb2NhbF9jb250IGFzICRrZXkgPT4gJiRjKSB7CgkJCWlmICgo'));
	@fwrite($fp, base64_decode('c3RycG9zKCRjLCd1c2VyZGF0YS8nKSA9PT0gMCkgJiYgKCRjICE9PSAndXNlcmRhdGEvaW5mby50eHQnKSAmJiAoJGMgIT09ICd1c2VyZGF0YS8uaHRhY2Nlc3MnKSAmJiAoJGMgIT09ICd1c2VyZGF0YS9pbmRleC5odG1sJykgJiYgKHN1YnN0cigkYywtMSkgIT09'));
	@fwrite($fp, base64_decode('ICcvJykpIHVuc2V0KCRsb2NhbF9jb250WyRrZXldKTsKCQl9CgkJZm9yZWFjaCAoJHN2bl9jb250IGFzICRrZXkgPT4gJiRjKSB7CgkJCWlmICgoc3RycG9zKCRjLCd1c2VyZGF0YS8nKSA9PT0gMCkgJiYgKCRjICE9PSAndXNlcmRhdGEvaW5mby50eHQnKSAmJiAo'));
	@fwrite($fp, base64_decode('JGMgIT09ICd1c2VyZGF0YS8uaHRhY2Nlc3MnKSAmJiAoJGMgIT09ICd1c2VyZGF0YS9pbmRleC5odG1sJykgJiYgKHN1YnN0cigkYywtMSkgIT09ICcvJykpIHVuc2V0KCRzdm5fY29udFska2V5XSk7CgkJfQoJCWVjaG8gJzxwcmU+JzsKCQllY2hvICJDb21wYXJl'));
	@fwrite($fp, base64_decode('IGxvY2FsIDwtLT4gc3ZuLSRzdm5fcmV2XG5cbiI7CgkJZWNobyAiPT09IEZJTEVTIE1JU1NJTkcgPT09XG4iOwoJCSRkaWZmID0gYXJyYXlfZGlmZigkc3ZuX2NvbnQsICRsb2NhbF9jb250KTsKCQlpZiAoY291bnQoJGRpZmYpID09PSAwKSBlY2hvICJFdmVyeXRo'));
	@fwrite($fp, base64_decode('aW5nIE9LXG4iOwoJCWZvcmVhY2ggKCRkaWZmIGFzICRjKSBlY2hvICIkY1xuIjsKCQllY2hvICJcbiI7CgoJCWVjaG8gIj09PSBBRERJVElPTkFMIEZJTEVTID09PVxuIjsKCQkkZGlmZiA9IGFycmF5X2RpZmYoJGxvY2FsX2NvbnQsICRzdm5fY29udCk7CgkJaWYg'));
	@fwrite($fp, base64_decode('KGNvdW50KCRkaWZmKSA9PT0gMCkgZWNobyAiRXZlcnl0aGluZyBPS1xuIjsKCQlmb3JlYWNoICgkZGlmZiBhcyAkYykgZWNobyAiJGNcbiI7CgkJZWNobyAiXG4iOwoJCWVjaG8gJzwvcHJlPic7Cgl9Cn0KCj8+Cgo8L2JvZHk+CjwvaHRtbD4K'));
	@fclose($fp);
}
if (is_file('update/check.php') && (sha1_file('update/check.php') != '11d54556a565d84562b13cb74ebfd518f384e987')) {
	warn('File was created by someone else. Will overwrite the changes now: update/check.php');
	$tmp = pathinfo('update/check.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/check.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('update/check.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('update/check.php')) {
	warn('File cannot be created (not existing): update/check.php');
} else if (sha1_file('update/check.php') != '11d54556a565d84562b13cb74ebfd518f384e987') {
	warn('File cannot be created (checksum mismatch): update/check.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/check.php', 0644)) {
	warn('Could not change file permissions of update/check.php');
}

// Files different: includes/classes/phpsvnclient.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/phpsvnclient.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIFRoaXMgZmlsZSBpbmNsdWRlczoKICoKICogMS4gIlBIUCBTVk4gQ0xJRU5UIiBjbGFzcwogKiAgICBDb3B5cmlnaHQgKEMpIDIwMDctMjAwOCBieSBTaXhkZWdyZWVzIDxjZXNhckBzaXhkZWdyZWVzLmNvbS5icj4KICogICAgQ2VzYXIgRC4g'));
	@fwrite($fp, base64_decode('Um9kYXMKICogICAgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vYXJjaGl2ZS9wL3BocHN2bmNsaWVudC8KICogICAgTGljZW5zZTogQlNEIExpY2Vuc2UKICogICAgQ0hBTkdFUyBieSBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQgaW4gMjAxOToKICogICAg'));
	@fwrite($fp, base64_decode('LSBUaGUgY2xhc3MgaGFzIGJlZW4gY3VzdG9taXplZCBhbmQgY29udGFpbnMgc3BlY2lmaWMgY2hhbmdlcyBmb3IgdGhlIHNvZnR3YXJlICJPSURwbHVzIgogKiAgICAtIEZ1bmN0aW9ucyB3aGljaCBhcmUgbm90IHVzZWQgaW4gdGhlICJTVk4gY2hlY2tvdXQiIHdl'));
	@fwrite($fp, base64_decode('cmUgcmVtb3ZlZC4KICogICAgICBUaGUgb25seSBpbXBvcnRhbnQgZnVuY3Rpb25zIGFyZSBnZXRWZXJzaW9uKCkgYW5kIHVwZGF0ZVdvcmtpbmdDb3B5KCkKICogICAgLSBUaGUgZGVwZW5kZW5jeSBjbGFzcyB4bWwyYXJyYXkgd2FzIGNvbnZlcnRlZCBmcm9tIGEg'));
	@fwrite($fp, base64_decode('Y2xhc3MgaW50byBhIGZ1bmN0aW9uIGFuZAogKiAgICAgIGluY2x1ZGVkIGludG8gdGhpcyBjbGFzcwogKiAgICAtIEFkZGVkICJyZXZpc2lvbiBsb2cvY29tbWVudCIgZnVuY3Rpb25hbGl0eQogKgogKiAyLiAieG1sMmFycmF5IiBjbGFzcwogKiAgICBUYWtlbiBm'));
	@fwrite($fp, base64_decode('cm9tIGh0dHA6Ly93d3cucGhwLm5ldC9tYW51YWwvZW4vZnVuY3Rpb24ueG1sLXBhcnNlLnBocCM1MjU2NwogKiAgICBNb2RpZmllZCBieSBNYXJ0aW4gR3VwcHkgPGh0dHA6Ly93d3cuZGVhZHBhbjExMC5jb20vPgogKiAgICBDSEFOR0VTIGJ5IERhbmllbCBNYXJz'));
	@fwrite($fp, base64_decode('Y2hhbGwsIFZpYVRoaW5rU29mdCBpbiAyMDE5OgogKiAgICAtIENvbnZlcnRlZCBjbGFzcyBpbnRvIGEgc2luZ2xlIGZ1bmN0aW9uIGFuZCBhZGRlZCB0aGF0IGZ1bmN0aW9uIGludG8gdGhlIHBocHN2bmNsaWVudCBjbGFzcwogKi8KCi8qKgogKiAgUEhQIFNWTiBD'));
	@fwrite($fp, base64_decode('TElFTlQKICoKICogIFRoaXMgY2xhc3MgaXMgYSBTVk4gY2xpZW50LiBJdCBjYW4gcGVyZm9ybSByZWFkIG9wZXJhdGlvbnMKICogIHRvIGEgU1ZOIHNlcnZlciAob3ZlciBXZWItREFWKS4KICogIEl0IGNhbiBnZXQgZGlyZWN0b3J5IGZpbGVzLCBmaWxlIGNvbnRl'));
	@fwrite($fp, base64_decode('bnRzLCBsb2dzLiBBbGwgdGhlIG9wZXJhcmF0aW9uCiAqICBjb3VsZCBiZSBkb25lIGZvciBhIHNwZWNpZmljIHZlcnNpb24gb3IgZm9yIHRoZSBsYXN0IHZlcnNpb24uCiAqCiAqICBAYXV0aG9yIENlc2FyIEQuIFJvZGFzIDxjZXNhckBzaXhkZWdyZWVzLmNvbS5i'));
	@fwrite($fp, base64_decode('cj4KICogIEBsaWNlbnNlIEJTRCBMaWNlbnNlCiAqLwpjbGFzcyBwaHBzdm5jbGllbnQgewoKCS8qcHJvdGVjdGVkKi8gY29uc3QgUEhQU1ZOX05PUk1BTF9SRVFVRVNUID0gJzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9InV0Zi04Ij8+PHByb3BmaW5kIHht'));
	@fwrite($fp, base64_decode('bG5zPSJEQVY6Ij48cHJvcD48Z2V0bGFzdG1vZGlmaWVkIHhtbG5zPSJEQVY6Ii8+IDxjaGVja2VkLWluIHhtbG5zPSJEQVY6Ii8+PHZlcnNpb24tbmFtZSB4bWxucz0iREFWOiIvPjx2ZXJzaW9uLWNvbnRyb2xsZWQtY29uZmlndXJhdGlvbiB4bWxucz0iREFWOiIv'));
	@fwrite($fp, base64_decode('PjxyZXNvdXJjZXR5cGUgeG1sbnM9IkRBVjoiLz48YmFzZWxpbmUtcmVsYXRpdmUtcGF0aCB4bWxucz0iaHR0cDovL3N1YnZlcnNpb24udGlncmlzLm9yZy94bWxucy9kYXYvIi8+PHJlcG9zaXRvcnktdXVpZCB4bWxucz0iaHR0cDovL3N1YnZlcnNpb24udGlncmlz'));
	@fwrite($fp, base64_decode('Lm9yZy94bWxucy9kYXYvIi8+PC9wcm9wPjwvcHJvcGZpbmQ+JzsKCgkvKnByb3RlY3RlZCovIGNvbnN0IFBIUFNWTl9WRVJTSU9OX1JFUVVFU1QgPSAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48cHJvcGZpbmQgeG1sbnM9IkRBVjoiPjxw'));
	@fwrite($fp, base64_decode('cm9wPjxjaGVja2VkLWluIHhtbG5zPSJEQVY6Ii8+PC9wcm9wPjwvcHJvcGZpbmQ+JzsKCgkvKnByb3RlY3RlZCovIGNvbnN0IFBIUFNWTl9MT0dTX1JFUVVFU1QgPSAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4gPFM6bG9nLXJlcG9ydCB4'));
	@fwrite($fp, base64_decode('bWxuczpTPSJzdm46Ij4gPFM6c3RhcnQtcmV2aXNpb24+JWQ8L1M6c3RhcnQtcmV2aXNpb24+PFM6ZW5kLXJldmlzaW9uPiVkPC9TOmVuZC1yZXZpc2lvbj48UzpwYXRoPjwvUzpwYXRoPjxTOmRpc2NvdmVyLWNoYW5nZWQtcGF0aHMvPjwvUzpsb2ctcmVwb3J0Pic7'));
	@fwrite($fp, base64_decode('CgoJLypwcm90ZWN0ZWQqLyBjb25zdCBOT19FUlJPUiA9IDE7CgkvKnByb3RlY3RlZCovIGNvbnN0IE5PVF9GT1VORCA9IDI7CgkvKnByb3RlY3RlZCovIGNvbnN0IEFVVEhfUkVRVUlSRUQgPSAzOwoJLypwcm90ZWN0ZWQqLyBjb25zdCBVTktOT1dOX0VSUk9SID0g'));
	@fwrite($fp, base64_decode('NDsKCgkvKioKCSAqICBTVk4gUmVwb3NpdG9yeSBVUkwKCSAqCgkgKiAgQHZhciBzdHJpbmcKCSAqICBAYWNjZXNzIHByaXZhdGUKCSAqLwoJcHJpdmF0ZSAkX3VybDsKCgkvKioKCSAqICBIVFRQIENsaWVudCBvYmplY3QKCSAqCgkgKiAgQHZhciBvYmplY3QKCSAq'));
	@fwrite($fp, base64_decode('ICBAYWNjZXNzIHByaXZhdGUKCSAqLwoJcHJpdmF0ZSAkX2h0dHA7CgoJLyoqCgkgKiAgUmVzcG9zaXRvcnkgVmVyc2lvbi4KCSAqCgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKiAgQHZhciBpbnRlcmdlcgoJICovCglwcml2YXRlICRfcmVwVmVyc2lvbjsKCgkvKioK'));
	@fwrite($fp, base64_decode('CSAqICBMYXN0IGVycm9yIG51bWJlcgoJICoKCSAqICBQb3NzaWJsZSB2YWx1ZXMgYXJlIE5PVF9FUlJPUiwgTk9UX0ZPVU5ELCBBVVRIX1JFUVVJUkVELCBVTktPV05fRVJST1IKCSAqCgkgKiAgQGFjY2VzcyBwdWJsaWMKCSAqICBAdmFyIGludGVnZXIKCSAqLwoJ'));
	@fwrite($fp, base64_decode('cHVibGljICRlcnJOcm87CgoJLyoqCgkgKiBOdW1iZXIgb2YgYWN0dWFsIHJldmlzaW9uIGxvY2FsIHJlcG9zaXRvcnkuCgkgKiBAdmFyIEludGVnZXIsIExvbmcKCSAqLwoJcHJpdmF0ZSAkYWN0VmVyc2lvbjsKCXByaXZhdGUgJHN0b3JlRGlyZWN0b3J5RmlsZXMg'));
	@fwrite($fp, base64_decode('PSBhcnJheSgpOwoJcHJpdmF0ZSAkbGFzdERpcmVjdG9yeUZpbGVzOwoJcHJpdmF0ZSAkZmlsZV9zaXplOwoJcHJpdmF0ZSAkZmlsZV9zaXplX2ZvdW5kZWQgPSBmYWxzZTsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHVybCkKCXsKCQkkaHR0cCA9JiAk'));
	@fwrite($fp, base64_decode('dGhpcy0+X2h0dHA7CgkJJGh0dHAgICAgICAgICAgICAgPSBuZXcgaHR0cF9jbGFzczsKCQkkaHR0cC0+dXNlcl9hZ2VudCA9ICJwaHBzdm5jbGllbnQgKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL2FyY2hpdmUvcC9waHBzdm5jbGllbnQvKSI7CgoJCSR0aGlzLT5f'));
	@fwrite($fp, base64_decode('dXJsID0gJHVybDsKCgkJJHRoaXMtPmFjdFZlcnNpb24gPSAkdGhpcy0+Z2V0VmVyc2lvbigpOwoJfQoKCS8qKgoJICogRnVuY3Rpb24gZm9yIGNyZWF0aW5nIGRpcmVjdG9yaWVzLgoJICogQHBhcmFtIHR5cGUgJHBhdGggVGhlIHBhdGggdG8gdGhlIGRpcmVjdG9y'));
	@fwrite($fp, base64_decode('eSB0aGF0IHdpbGwgYmUgY3JlYXRlZC4KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBjcmVhdGVEaXJzKCRwYXRoKQoJewoJCSRkaXJzID0gZXhwbG9kZSgiLyIsICRwYXRoKTsKCgkJZm9yZWFjaCAoJGRpcnMgYXMgJGRpcikgewoJCQlpZiAoJGRpciAhPSAiIikgewoJ'));
	@fwrite($fp, base64_decode('CQkJJGNyZWF0ZURpciA9IHN1YnN0cigkcGF0aCwgMCwgc3RycG9zKCRwYXRoLCAkZGlyKSArIHN0cmxlbigkZGlyKSk7CgkJCQlAbWtkaXIoJGNyZWF0ZURpcik7CgkJCX0KCQl9Cgl9CgoJLyoqCgkgKiBGdW5jdGlvbiBmb3IgdGhlIHJlY3Vyc2l2ZSByZW1vdmFs'));
	@fwrite($fp, base64_decode('IG9mIGRpcmVjdG9yaWVzLgoJICogQHBhcmFtIHR5cGUgJHBhdGggVGhlIHBhdGggdG8gdGhlIGRpcmVjdG9yeSB0byBiZSBkZWxldGVkLgoJICogQHJldHVybiB0eXBlIFJldHVybnMgdGhlIHN0YXR1cyBvZiBhIGZ1bmN0aW9uIG9yIGZ1bmN0aW9uIHJtZGlyIHVu'));
	@fwrite($fp, base64_decode('bGluay4KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiByZW1vdmVEaXJzKCRwYXRoKQoJewoJCWlmIChpc19kaXIoJHBhdGgpKSB7CgkJCSRlbnRyaWVzID0gc2NhbmRpcigkcGF0aCk7CgkJCWlmICgkZW50cmllcyA9PT0gZmFsc2UpIHsKCQkJCSRlbnRyaWVzID0gYXJy'));
	@fwrite($fp, base64_decode('YXkoKTsKCQkJfQoJCQlmb3JlYWNoICgkZW50cmllcyBhcyAkZW50cnkpIHsKCQkJCWlmICgkZW50cnkgIT0gJy4nICYmICRlbnRyeSAhPSAnLi4nKSB7CgkJCQkJJHRoaXMtPnJlbW92ZURpcnMoJHBhdGggLiAnLycgLiAkZW50cnkpOwoJCQkJfQoJCQl9CgkJCXJl'));
	@fwrite($fp, base64_decode('dHVybiBAcm1kaXIoJHBhdGgpOwoJCX0gZWxzZSB7CgkJCXJldHVybiBAdW5saW5rKCRwYXRoKTsKCQl9Cgl9CgoJLyoqCgkgKiAgUHVibGljIEZ1bmN0aW9ucwoJICovCgoJLyoqCgkqIFVwZGF0ZXMgYSB3b3JraW5nIGNvcHkKCSogQHBhcmFtICRmcm9tX3Jldmlz'));
	@fwrite($fp, base64_decode('aW9uIEVpdGhlciBhIHJldmlzaW9uIG51bWJlciBvciBhIHRleHQgZmlsZSB3aXRoIHRoZQoJKiAgICAgICAgICAgICAgICAgICAgICAgY29udGVudHMgIlJldmlzaW9uIC4uLiIgKGlmIGl0IGlzIGEgZmlsZSwKCSogICAgICAgICAgICAgICAgICAgICAgIHRoZSBm'));
	@fwrite($fp, base64_decode('aWxlIHJldmlzaW9uIHdpbGwgYmUgdXBkYXRlZCBpZiBldmVyeXRoaW5nCgkqICAgICAgICAgICAgICAgICAgICAgICB3YXMgc3VjY2Vzc2Z1bCkKCSogQHBhcmFtICRmb2xkZXIgICAgICAgIFNWTiByZW1vdGUgZm9sZGVyCgkqIEBwYXJhbSAkb3V0cGF0aCAgICAg'));
	@fwrite($fp, base64_decode('ICBMb2NhbCBwYXRoIG9mIHRoZSB3b3JraW5nIGNvcHkKCSogQHBhcmFtICRwcmV2aWV3ICAgICAgIE9ubHkgc2ltdWxhdGUsIGRvIG5vdCB3cml0ZSB0byBmaWxlcwoJKiovCglwdWJsaWMgZnVuY3Rpb24gdXBkYXRlV29ya2luZ0NvcHkoJGZyb21fcmV2aXNpb249'));
	@fwrite($fp, base64_decode('J3ZlcnNpb24udHh0JywgJGZvbGRlciA9ICcvdHJ1bmsvJywgJG91dFBhdGggPSAnLicsICRwcmV2aWV3ID0gZmFsc2UpCgl7CgkJaWYgKCFpc19kaXIoJG91dFBhdGgpKSB7CgkJCWVjaG8gIkVSUk9SOiBMb2NhbCBwYXRoICRvdXRQYXRoIG5vdCBleGlzdGluZ1xu'));
	@fwrite($fp, base64_decode('IjsKCQkJZmx1c2goKTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHdlYmJyb3dzZXJfdXBkYXRlID0gIWlzX251bWVyaWMoJGZyb21fcmV2aXNpb24pOwoKCQlpZiAoIWlzX251bWVyaWMoJGZyb21fcmV2aXNpb24pKSB7CgkJCSR2ZXJzaW9uX2ZpbGUgPSAkZnJv'));
	@fwrite($fp, base64_decode('bV9yZXZpc2lvbjsKICAgICAgICAgICAgICAgICAgICAgICAgJGZyb21fcmV2aXNpb24gPSAtMTsKCgkJCWlmICghZmlsZV9leGlzdHMoJHZlcnNpb25fZmlsZSkpIHsKCQkJCWVjaG8gIkVSUk9SOiAkdmVyc2lvbl9maWxlIG1pc3NpbmdcbiI7CgkJCQlmbHVzaCgp'));
	@fwrite($fp, base64_decode('OwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9IGVsc2UgewoJCQkJLy9PYnRhaW4gdGhlIG51bWJlciBvZiBjdXJyZW50IHZlcnNpb24gbnVtYmVyIG9mIHRoZSBsb2NhbCBjb3B5LgoJCQkJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygkdmVyc2lvbl9maWxlKTsKCQkJ'));
	@fwrite($fp, base64_decode('CWlmICghcHJlZ19tYXRjaCgnQFJldmlzaW9uIChcZCspQCcsICRjb250LCAkbSkpIHsKCQkJCQllY2hvICJFUlJPUjogJHZlcnNpb25fZmlsZSB1bmtub3duIGZvcm1hdFxuIjsKCQkJCQlmbHVzaCgpOwoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJCSRmcm9t'));
	@fwrite($fp, base64_decode('X3JldmlzaW9uID0gJG1bMV07CgoJCQkJZWNobyAiRm91bmQgJHZlcnNpb25fZmlsZSB3aXRoIHJldmlzaW9uIGluZm9ybWF0aW9uICRmcm9tX3JldmlzaW9uXG4iOwoJCQkJZmx1c2goKTsKCQkJfQoJCX0gZWxzZSB7CgkJCSR2ZXJzaW9uX2ZpbGUgPSAnJzsKCQl9'));
	@fwrite($fp, base64_decode('CgoJCSRlcnJvcnNfaGFwcGVuZWQgPSBmYWxzZTsKCgkJaWYgKCR3ZWJicm93c2VyX3VwZGF0ZSkgewoJCQkvLyBGaXJzdCwgZG8gc29tZSByZWFkL3dyaXRlIHRlc3QgKGV2ZW4gaWYgd2UgYXJlIGluIHByZXZpZXcgbW9kZSwgYmVjYXVzZSB3ZSB3YW50IHRvIGRl'));
	@fwrite($fp, base64_decode('dGVjdCBlcnJvcnMgYmVmb3JlIGl0IGlzIHRvbyBsYXRlKQoJCQkkZmlsZSA9ICRvdXRQYXRoIC4gJy9kdW1teV8nLnVuaXFpZCgpLicudG1wJzsKCQkJJGZpbGUgPSBzdHJfcmVwbGFjZSgiLy8vIiwgIi8iLCAkZmlsZSk7CgkJCWlmIChAZmlsZV9wdXRfY29udGVu'));
	@fwrite($fp, base64_decode('dHMoJGZpbGUsICdXcml0ZSBUZXN0JykgPT09IGZhbHNlKSB7CgkJCQllY2hvICghJHByZXZpZXcgPyAiRVJST1IiIDogIldBUk5JTkciKS4iOiBDYW5ub3Qgd3JpdGUgdGVzdCBmaWxlICRmaWxlICEgQW4gdXBkYXRlIHRocm91Z2ggdGhlIHdlYiBicm93c2VyIHdp'));
	@fwrite($fp, base64_decode('bGwgTk9UIGJlIHBvc3NpYmxlLlxuIjsKCQkJCWZsdXNoKCk7CgkJCQlpZiAoISRwcmV2aWV3KSByZXR1cm4gZmFsc2U7CgkJCX0KCQkJQHVubGluaygkZmlsZSk7CgkJCWlmIChmaWxlX2V4aXN0cygkZmlsZSkpIHsKCQkJCWVjaG8gKCEkcHJldmlldyA/ICJFUlJP'));
	@fwrite($fp, base64_decode('UiIgOiAiV0FSTklORyIpLiI6IENhbm5vdCBkZWxldGUgdGVzdCBmaWxlICRmaWxlICEgQW4gdXBkYXRlIHRocm91Z2ggdGhlIHdlYiBicm93c2VyIHdpbGwgTk9UIGJlIHBvc3NpYmxlLlxuIjsKCQkJCWZsdXNoKCk7CgkJCQlpZiAoISRwcmV2aWV3KSByZXR1cm4g'));
	@fwrite($fp, base64_decode('ZmFsc2U7CgkJCX0KCQl9CgoJCS8vR2V0IGEgbGlzdCBvZiBvYmplY3RzIHRvIGJlIHVwZGF0ZWQuCgkJJG9iamVjdHNfbGlzdCA9ICR0aGlzLT5nZXRMb2dzRm9yVXBkYXRlKCRmb2xkZXIsICRmcm9tX3JldmlzaW9uICsgMSk7CgkJaWYgKCFpc19udWxsKCRvYmpl'));
	@fwrite($fp, base64_decode('Y3RzX2xpc3QpKSB7CgkJCS8vIE91dHB1dCB2ZXJzaW9uIGluZm9ybWF0aW9uCgkJCWZvcmVhY2ggKCRvYmplY3RzX2xpc3RbJ3JldmlzaW9ucyddIGFzICRyZXZpc2lvbikgewoJCQkJJGNvbW1lbnQgPSBlbXB0eSgkcmV2aXNpb25bJ2NvbW1lbnQnXSkgPyAnTm8g'));
	@fwrite($fp, base64_decode('Y29tbWVudCcgOiAkcmV2aXNpb25bJ2NvbW1lbnQnXTsKCQkJCSR0ZXggPSAiTmV3IHJldmlzaW9uICIuJHJldmlzaW9uWyd2ZXJzaW9uTmFtZSddLiIgYnkgIi4kcmV2aXNpb25bJ2NyZWF0b3InXS4iICgiLmRhdGUoJ1ktbS1kIEg6aTpzJywgc3RydG90aW1lKCRy'));
	@fwrite($fp, base64_decode('ZXZpc2lvblsnZGF0ZSddKSkuIikgIjsKCQkJCWVjaG8gdHJpbSgkdGV4IC4gc3RyX3JlcGxhY2UoIlxuIiwgIlxuIi5zdHJfcmVwZWF0KCcgJywgc3RybGVuKCR0ZXgpKSwgJGNvbW1lbnQpKTsKCQkJCWVjaG8gIlxuIjsKCQkJfQoKCQkJLy8gQWRkIGRpcnMKCQkJ'));
	@fwrite($fp, base64_decode('c29ydCgkb2JqZWN0c19saXN0WydkaXJzJ10pOyAvLyA8LS0gYWRkZWQgYnkgRGFuaWVsIE1hcnNjaGFsbDogU29ydCBmb2xkZXIgbGlzdCwgc28gdGhhdCBkaXJlY3RvcmllcyB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhlIGNvcnJlY3QgaGllcmFyY2hpY2FsIG9yZGVy'));
	@fwrite($fp, base64_decode('CgkJCWZvcmVhY2ggKCRvYmplY3RzX2xpc3RbJ2RpcnMnXSBhcyAkZmlsZSkgewoJCQkJaWYgKCRmaWxlICE9ICcnKSB7CgkJCQkJJGxvY2FsUGF0aCA9IHN0cl9yZXBsYWNlKCRmb2xkZXIsICIiLCAkZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAkbG9jYWxQYXRoID0gcnRyaW0oJG91dFBhdGgsRElSRUNUT1JZX1NFUEFSQVRPUikgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gbHRyaW0oJGxvY2FsUGF0aCxESVJFQ1RPUllfU0VQQVJBVE9SKTsKCgkJCQkJZWNobyAiQWRkZWQgb3IgbW9kaWZp'));
	@fwrite($fp, base64_decode('ZWQgZGlyZWN0b3J5OiAkZmlsZVxuIjsKCQkJCQlmbHVzaCgpOwoJCQkJCWlmICghJHByZXZpZXcpIHsKCQkJCQkJJHRoaXMtPmNyZWF0ZURpcnMoJGxvY2FsUGF0aCk7CgkJCQkJCWlmICghaXNfZGlyKCRsb2NhbFBhdGgpKSB7CgkJCQkJCQkkZXJyb3JzX2hhcHBl'));
	@fwrite($fp, base64_decode('bmVkID0gdHJ1ZTsKCQkJCQkJCWVjaG8gIj0+IEZBSUxFRFxuIjsKCQkJCQkJCWZsdXNoKCk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIEFkZCBmaWxlcwoJCQlzb3J0KCRvYmplY3RzX2xpc3RbJ2ZpbGVzJ10pOyAvLyA8LS0gYWRkZWQgYnkgRGFu'));
	@fwrite($fp, base64_decode('aWVsIE1hcnNjaGFsbDogU29ydCBsaXN0LCBqdXN0IGZvciBjb3NtZXRpYyBpbXByb3ZlbWVudAoJCQlmb3JlYWNoICgkb2JqZWN0c19saXN0WydmaWxlcyddIGFzICRmaWxlKSB7CgkJCQlpZiAoJGZpbGUgIT0gJycpIHsKCQkJCQkkbG9jYWxGaWxlID0gc3RyX3Jl'));
	@fwrite($fp, base64_decode('cGxhY2UoJGZvbGRlciwgIiIsICRmaWxlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhbEZpbGUgPSBydHJpbSgkb3V0UGF0aCxESVJFQ1RPUllfU0VQQVJBVE9SKSAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiBsdHJpbSgkbG9j'));
	@fwrite($fp, base64_decode('YWxGaWxlLERJUkVDVE9SWV9TRVBBUkFUT1IpOwoKCQkJCQllY2hvICJBZGRlZCBvciBtb2RpZmllZCBmaWxlOiAkZmlsZVxuIjsKCQkJCQlmbHVzaCgpOwoJCQkJCWlmICghJHByZXZpZXcpIHsKCQkJCQkJJGNvbnRlbnRzID0gJHRoaXMtPmdldEZpbGUoJGZpbGUp'));
	@fwrite($fp, base64_decode('OwoJCQkJCQlpZiAoQGZpbGVfcHV0X2NvbnRlbnRzKCRsb2NhbEZpbGUsICRjb250ZW50cykgPT09IGZhbHNlKSB7CgkJCQkJCQkkZXJyb3JzX2hhcHBlbmVkID0gdHJ1ZTsKCQkJCQkJCWVjaG8gIj0+IEZBSUxFRFxuIjsKCQkJCQkJCWZsdXNoKCk7CgkJCQkJCX0K'));
	@fwrite($fp, base64_decode('CQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIFJlbW92ZSBmaWxlcwoJCQlzb3J0KCRvYmplY3RzX2xpc3RbJ2ZpbGVzRGVsZXRlJ10pOyAvLyA8LS0gYWRkZWQgYnkgRGFuaWVsIE1hcnNjaGFsbDogU29ydCBsaXN0LCBqdXN0IGZvciBjb3NtZXRpYyBpbXByb3ZlbWVu'));
	@fwrite($fp, base64_decode('dAoJCQlmb3JlYWNoICgkb2JqZWN0c19saXN0WydmaWxlc0RlbGV0ZSddIGFzICRmaWxlKSB7CgkJCQlpZiAoJGZpbGUgIT0gJycpIHsKCQkJCQkkbG9jYWxGaWxlID0gc3RyX3JlcGxhY2UoJGZvbGRlciwgIiIsICRmaWxlKTsKICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICRsb2NhbEZpbGUgPSBydHJpbSgkb3V0UGF0aCxESVJFQ1RPUllfU0VQQVJBVE9SKSAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiBsdHJpbSgkbG9jYWxGaWxlLERJUkVDVE9SWV9TRVBBUkFUT1IpOwoKCQkJCQllY2hvICJSZW1vdmVk'));
	@fwrite($fp, base64_decode('IGZpbGU6ICRmaWxlXG4iOwoJCQkJCWZsdXNoKCk7CgoJCQkJCWlmICghJHByZXZpZXcpIHsKCQkJCQkJQHVubGluaygkbG9jYWxGaWxlKTsKCQkJCQkJaWYgKGZpbGVfZXhpc3RzKCRsb2NhbEZpbGUpKSB7CgkJCQkJCQkkZXJyb3JzX2hhcHBlbmVkID0gdHJ1ZTsK'));
	@fwrite($fp, base64_decode('CQkJCQkJCWVjaG8gIj0+IEZBSUxFRFxuIjsKCQkJCQkJCWZsdXNoKCk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIFJlbW92ZSBkaXJzCgkJCS8vIENoYW5nZWQgYnkgRGFuaWVsIE1hcnNjaGFsbDogbW92ZWQgdGhpcyB0byB0aGUgZW5kLCBiZWNh'));
	@fwrite($fp, base64_decode('dXNlICJhZGQvdXBkYXRlIiByZXF1ZXN0cyBmb3IgdGhpcyBkaXJlY3RvcnkgbWlnaHQgaGFwcGVuIGJlZm9yZSB0aGUgZGlyZWN0b3J5IGdldHMgcmVtb3ZlZAoJCQlyc29ydCgkb2JqZWN0c19saXN0WydkaXJzRGVsZXRlJ10pOyAvLyA8LS0gYWRkZWQgYnkgRGFu'));
	@fwrite($fp, base64_decode('aWVsIE1hcnNjaGFsbDogU29ydCBsaXN0IGluIHJldmVyc2Ugb3JkZXIsIHNvIHRoYXQgZGlyZWN0b3JpZXMgZ2V0IGRlbGV0ZWQgaW4gdGhlIGNvcnJlY3QgaGllcmFyY2hpY2FsIG9yZGVyCgkJCWZvcmVhY2ggKCRvYmplY3RzX2xpc3RbJ2RpcnNEZWxldGUnXSBh'));
	@fwrite($fp, base64_decode('cyAkZmlsZSkgewoJCQkJaWYgKCRmaWxlICE9ICcnKSB7CgkJCQkJJGxvY2FsUGF0aCA9IHN0cl9yZXBsYWNlKCRmb2xkZXIsICIiLCAkZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYWxQYXRoID0gcnRyaW0oJG91dFBh'));
	@fwrite($fp, base64_decode('dGgsRElSRUNUT1JZX1NFUEFSQVRPUikgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gbHRyaW0oJGxvY2FsUGF0aCxESVJFQ1RPUllfU0VQQVJBVE9SKTsKCgkJCQkJZWNobyAiUmVtb3ZlZCBkaXJlY3Rvcnk6ICRmaWxlXG4iOwoJCQkJCWZsdXNoKCk7CgoJCQkJCWlm'));
	@fwrite($fp, base64_decode('ICghJHByZXZpZXcpIHsKCQkJCQkJJHRoaXMtPnJlbW92ZURpcnMoJGxvY2FsUGF0aCk7CgkJCQkJCWlmIChpc19kaXIoJGxvY2FsUGF0aCkpIHsKCQkJCQkJCSRlcnJvcnNfaGFwcGVuZWQgPSB0cnVlOwoJCQkJCQkJZWNobyAiPT4gRkFJTEVEXG4iOwoJCQkJCQkJ'));
	@fwrite($fp, base64_decode('Zmx1c2goKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJLy8gVXBkYXRlIHZlcnNpb24gZmlsZQoJCQkvLyBDaGFuZ2VkIGJ5IERhbmllbCBNYXJzY2hhbGw6IEFkZGVkICRlcnJvcnNfaGFwcGVuZWQKCQkJaWYgKCEkcHJldmlldyAmJiAhZW1wdHkoJHZl'));
	@fwrite($fp, base64_decode('cnNpb25fZmlsZSkpIHsKCQkJCWlmICghJGVycm9yc19oYXBwZW5lZCkgewoJCQkJCWlmIChAZmlsZV9wdXRfY29udGVudHMoJHZlcnNpb25fZmlsZSwgIlJldmlzaW9uICIgLiAkdGhpcy0+YWN0VmVyc2lvbiAuICJcbiIpID09PSBmYWxzZSkgewoJCQkJCQllY2hv'));
	@fwrite($fp, base64_decode('ICJFUlJPUjogQ291bGQgbm90IHNldCB0aGUgcmV2aXNpb25cbiI7CgkJCQkJCWZsdXNoKCk7CgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9IGVsc2UgewoJCQkJCQllY2hvICJTZXQgcmV2aXNpb24gdG8gIiAuICR0aGlzLT5hY3RWZXJzaW9uIC4gIlxuIjsKCQkJ'));
	@fwrite($fp, base64_decode('CQkJZmx1c2goKTsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQllY2hvICJSZXZpc2lvbiBOT1Qgc2V0IHRvICIgLiAkdGhpcy0+YWN0VmVyc2lvbiAuICIgYmVjYXVzZSBzb21lIGZpbGVzL2RpcnMgY291bGQgbm90IGJlIHVwZGF0'));
	@fwrite($fp, base64_decode('ZWQuIFBsZWFzZSB0cnkgYWdhaW4uXG4iOwoJCQkJCWZsdXNoKCk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9Cgl9CgoJLyoqCgkgKiAgcmF3RGlyZWN0b3J5RHVtcAoJICoKCSAqIER1bXBzIFNW'));
	@fwrite($fp, base64_decode('TiBkYXRhIGZvciAkZm9sZGVyIGluIHRoZSB2ZXJzaW9uICR2ZXJzaW9uIG9mIHRoZSByZXBvc2l0b3J5LgoJICoKCSAqICBAcGFyYW0gc3RyaW5nICAkZm9sZGVyIEZvbGRlciB0byBnZXQgZGF0YQoJICogIEBwYXJhbSBpbnRlZ2VyICR2ZXJzaW9uIFJlcG9zaXRv'));
	@fwrite($fp, base64_decode('cnkgdmVyc2lvbiwgLTEgbWVhbnMgYWN0dWFsCgkgKiAgQHJldHVybiBhcnJheSBTVk4gZGF0YSBkdW1wLgoJICovCglwcml2YXRlIGZ1bmN0aW9uIHJhd0RpcmVjdG9yeUR1bXAoJGZvbGRlciA9ICcvdHJ1bmsvJywgJHZlcnNpb24gPSAtMSkKCXsKCQlpZiAoJHZl'));
	@fwrite($fp, base64_decode('cnNpb24gPT0gLTEgfHwgJHZlcnNpb24gPiAkdGhpcy0+YWN0VmVyc2lvbikgewoJCQkkdmVyc2lvbiA9ICR0aGlzLT5hY3RWZXJzaW9uOwoJCX0KCQkkdXJsID0gJHRoaXMtPmNsZWFuVVJMKCR0aGlzLT5fdXJsIC4gIi8hc3ZuL2JjLyIgLiAkdmVyc2lvbiAuICIv'));
	@fwrite($fp, base64_decode('IiAuICRmb2xkZXIgLiAiLyIpOwoJCSR0aGlzLT5pbml0UXVlcnkoJGFyZ3MsICJQUk9QRklORCIsICR1cmwpOwoJCSRhcmdzWydCb2R5J10gICAgICAgICAgICAgICAgICAgICAgPSBzZWxmOjpQSFBTVk5fTk9STUFMX1JFUVVFU1Q7CgkJJGFyZ3NbJ0hlYWRlcnMn'));
	@fwrite($fp, base64_decode('XVsnQ29udGVudC1MZW5ndGgnXSA9IHN0cmxlbihzZWxmOjpQSFBTVk5fTk9STUFMX1JFUVVFU1QpOwoKCQlpZiAoISR0aGlzLT5SZXF1ZXN0KCRhcmdzLCAkaGVhZGVycywgJGJvZHkpKQoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiQ2Fubm90IGdldCBy'));
	@fwrite($fp, base64_decode('YXdEaXJlY3RvcnlEdW1wIChSZXF1ZXN0IGZhaWxlZCkiKTsKCgkJcmV0dXJuIHNlbGY6OnhtbFBhcnNlKCRib2R5KTsKCX0KCgkvKioKCSAqICBnZXREaXJlY3RvcnlGaWxlcwoJICoKCSAqICBSZXR1cm5zIGFsbCB0aGUgZmlsZXMgaW4gJGZvbGRlciBpbiB0aGUg'));
	@fwrite($fp, base64_decode('dmVyc2lvbiAkdmVyc2lvbiBvZgoJICogIHRoZSByZXBvc2l0b3J5LgoJICoKCSAqICBAcGFyYW0gc3RyaW5nICAkZm9sZGVyIEZvbGRlciB0byBnZXQgZmlsZXMKCSAqICBAcGFyYW0gaW50ZWdlciAkdmVyc2lvbiBSZXBvc2l0b3J5IHZlcnNpb24sIC0xIG1lYW5z'));
	@fwrite($fp, base64_decode('IGFjdHVhbAoJICogIEByZXR1cm4gYXJyYXkgTGlzdCBvZiBmaWxlcy4KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXREaXJlY3RvcnlGaWxlcygkZm9sZGVyID0gJy90cnVuay8nLCAkdmVyc2lvbiA9IC0xKQoJewoJCWlmICgkYXJyT3V0cHV0ID0gJHRoaXMtPnJh'));
	@fwrite($fp, base64_decode('d0RpcmVjdG9yeUR1bXAoJGZvbGRlciwgJHZlcnNpb24pKSB7CgkJCSRmaWxlcyA9IGFycmF5KCk7CgkJCWZvcmVhY2ggKCRhcnJPdXRwdXRbJ2NoaWxkcmVuJ10gYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCWFycmF5X3dhbGtfcmVjdXJzaXZlKCR2YWx1ZSwKCQkJ'));
	@fwrite($fp, base64_decode('CQlmdW5jdGlvbiAoJGl0ZW0sICRrZXkpIHsKCQkJCQkJaWYgKCRrZXkgPT0gJ25hbWUnKSB7CgkJCQkJCQlpZiAoKCRpdGVtID09ICdEOkhSRUYnKSB8fCAoJGl0ZW0gPT0gJ0xQMTpHRVRMQVNUTU9ESUZJRUQnKSB8fCAoJGl0ZW0gPT0gJ0xQMTpWRVJTSU9OLU5B'));
	@fwrite($fp, base64_decode('TUUnKSB8fCAoJGl0ZW0gPT0gJ0xQMjpCQVNFTElORS1SRUxBVElWRS1QQVRIJykgfHwgKCRpdGVtID09ICdMUDM6QkFTRUxJTkUtUkVMQVRJVkUtUEFUSCcpIHx8ICgkaXRlbSA9PSAnRDpTVEFUVVMnKSkgewoJCQkJCQkJCSR0aGlzLT5sYXN0RGlyZWN0b3J5Rmls'));
	@fwrite($fp, base64_decode('ZXMgPSAkaXRlbTsKCQkJCQkJCX0KCQkJCQkJfSBlbHNlaWYgKCgka2V5ID09ICd0YWdEYXRhJykgJiYgKCR0aGlzLT5sYXN0RGlyZWN0b3J5RmlsZXMgIT0gJycpKSB7CgoJCQkJCQkJLy8gVW5zdXJlIGlmIHRoZSAxc3Qgb2YgdHdvIEQ6SFJFRidzIGFsd2F5cyBy'));
	@fwrite($fp, base64_decode('ZXR1cm5zIHRoZSByZXN1bHQgd2Ugd2FudCwgYnV0IGZvciBub3cuLi4KCQkJCQkJCWlmICgoJHRoaXMtPmxhc3REaXJlY3RvcnlGaWxlcyA9PSAnRDpIUkVGJykgJiYgKGlzc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWyd0eXBlJ10pKSkKCQkJCQkJCQly'));
	@fwrite($fp, base64_decode('ZXR1cm47CgoJCQkJCQkJLy8gRHVtcCBpbnRvIHRoZSBhcnJheQoJCQkJCQkJc3dpdGNoICgkdGhpcy0+bGFzdERpcmVjdG9yeUZpbGVzKSB7CgkJCQkJCQkJY2FzZSAnRDpIUkVGJzoKCQkJCQkJCQkJJHZhciA9ICd0eXBlJzsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJ'));
	@fwrite($fp, base64_decode('CQkJY2FzZSAnTFAxOlZFUlNJT04tTkFNRSc6CgkJCQkJCQkJCSR2YXIgPSAndmVyc2lvbic7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgJ0xQMTpHRVRMQVNUTU9ESUZJRUQnOgoJCQkJCQkJCQkkdmFyID0gJ2xhc3QtbW9kJzsKCQkJCQkJCQkJYnJlYWs7'));
	@fwrite($fp, base64_decode('CgkJCQkJCQkJY2FzZSAnTFAyOkJBU0VMSU5FLVJFTEFUSVZFLVBBVEgnOgoJCQkJCQkJCWNhc2UgJ0xQMzpCQVNFTElORS1SRUxBVElWRS1QQVRIJzoKCQkJCQkJCQkJJHZhciA9ICdwYXRoJzsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAnRDpTVEFUVVMn'));
	@fwrite($fp, base64_decode('OgoJCQkJCQkJCQkkdmFyID0gJ3N0YXR1cyc7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJHZhcl0gPSAkaXRlbTsKCQkJCQkJCSR0aGlzLT5sYXN0RGlyZWN0b3J5RmlsZXMgICAgICAgID0gJyc7CgoJ'));
	@fwrite($fp, base64_decode('CQkJCQkJLy8gRGV0ZWN0ICd0eXBlJyBhcyBlaXRoZXIgYSAnZGlyZWN0b3J5JyBvciAnZmlsZScKCQkJCQkJCWlmICgoaXNzZXQoJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3R5cGUnXSkpICYmIChpc3NldCgkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sn'));
	@fwrite($fp, base64_decode('bGFzdC1tb2QnXSkpICYmIChpc3NldCgkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sncGF0aCddKSkgJiYgKGlzc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWydzdGF0dXMnXSkpKSB7CgkJCQkJCQkJJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3Bh'));
	@fwrite($fp, base64_decode('dGgnXSA9IHN0cl9yZXBsYWNlKCcgJywgJyUyMCcsICR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWydwYXRoJ10pOyAvL0hhY2sgdG8gbWFrZSBmaWxlbmFtZXMgd2l0aCBzcGFjZXMgd29yay4KCQkJCQkJCQkkbGVuICAgICAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgID0gc3RybGVuKCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWydwYXRoJ10pOwoJCQkJCQkJCWlmIChzdWJzdHIoJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3R5cGUnXSwgc3RybGVuKCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWyd0eXBlJ10pIC0g'));
	@fwrite($fp, base64_decode('JGxlbikgPT0gJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3BhdGgnXSkgewoJCQkJCQkJCQkkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sndHlwZSddID0gJ2ZpbGUnOwoJCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJCSR0aGlzLT5zdG9yZURpcmVjdG9yeUZp'));
	@fwrite($fp, base64_decode('bGVzWyd0eXBlJ10gPSAnZGlyZWN0b3J5JzsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkkdGhpcy0+bGFzdERpcmVjdG9yeUZpbGVzID0gJyc7CgkJCQkJCX0KCQkJCQl9CgkJCQkpOwoJCQkJYXJyYXlfcHVzaCgkZmlsZXMsICR0aGlz'));
	@fwrite($fp, base64_decode('LT5zdG9yZURpcmVjdG9yeUZpbGVzKTsKCQkJCXVuc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzKTsKCQkJfQoJCQlyZXR1cm4gJGZpbGVzOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZGlyVG9BcnJheSgkZGly'));
	@fwrite($fp, base64_decode('LCAmJHJlc3VsdCkgewoJCSRjZGlyID0gc2NhbmRpcigkZGlyKTsKCQlmb3JlYWNoICgkY2RpciBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQlpZiAoIWluX2FycmF5KCR2YWx1ZSxhcnJheSgnLicsJy4uJykpKSB7CgkJCQlpZiAoaXNfZGlyKCRkaXIgLiBESVJFQ1RP'));
	@fwrite($fp, base64_decode('UllfU0VQQVJBVE9SIC4gJHZhbHVlKSkgewoJCQkJCSRyZXN1bHRbXSA9ICRkaXIuRElSRUNUT1JZX1NFUEFSQVRPUi4kdmFsdWUuRElSRUNUT1JZX1NFUEFSQVRPUjsKCQkJCQlzZWxmOjpkaXJUb0FycmF5KCRkaXIuRElSRUNUT1JZX1NFUEFSQVRPUi4kdmFsdWUs'));
	@fwrite($fp, base64_decode('ICRyZXN1bHQpOwoJCQkJfSBlbHNlIHsKCQkJCQkkcmVzdWx0W10gPSAkZGlyLkRJUkVDVE9SWV9TRVBBUkFUT1IuJHZhbHVlOwoJCQkJfQoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjb21wYXJlVG9EaXJlY3RvcnkoJGxvY2FsX2ZvbGRlciwgJHN2bl9m'));
	@fwrite($fp, base64_decode('b2xkZXI9Jy90cnVuay8nLCAkdmVyc2lvbj0tMSkgewoJCSRsb2NhbF9jb250ID0gYXJyYXkoKTsKCQlzZWxmOjpkaXJUb0FycmF5KCRsb2NhbF9mb2xkZXIsICRsb2NhbF9jb250KTsKCQlmb3JlYWNoICgkbG9jYWxfY29udCBhcyAka2V5ID0+ICYkYykgewoJCQkk'));
	@fwrite($fp, base64_decode('YyA9IHN1YnN0cigkYywgc3RybGVuKCRsb2NhbF9mb2xkZXIpKTsKCQkJaWYgKHN1YnN0cigkYywwLDEpID09PSAnLycpICRjID0gc3Vic3RyKCRjLCAxKTsKCQkJaWYgKCRjID09PSAnJykgdW5zZXQoJGxvY2FsX2NvbnRbJGtleV0pOwoJCQlpZiAoc3RycG9zKCRj'));
	@fwrite($fp, base64_decode('LCcuc3ZuLycpID09PSAwKSB1bnNldCgkbG9jYWxfY29udFska2V5XSk7CgkJCWlmICgoc3RycG9zKCRjLCd1c2VyZGF0YS8nKSA9PT0gMCkgJiYgKCRjICE9PSAndXNlcmRhdGEvaW5mby50eHQnKSAmJiAoJGMgIT09ICd1c2VyZGF0YS8uaHRhY2Nlc3MnKSAmJiAo'));
	@fwrite($fp, base64_decode('JGMgIT09ICd1c2VyZGF0YS9pbmRleC5odG1sJykgJiYgKHN1YnN0cigkYywtMSkgIT09ICcvJykpIHVuc2V0KCRsb2NhbF9jb250WyRrZXldKTsKCQl9CgkJdW5zZXQoJGtleSk7CgkJdW5zZXQoJGMpOwoJCW5hdHNvcnQoJGxvY2FsX2NvbnQpOwoKCQkkc3ZuX2Nv'));
	@fwrite($fp, base64_decode('bnQgPSBhcnJheSgpOwoJCSRjb250ZW50cyA9ICR0aGlzLT5nZXREaXJlY3RvcnlUcmVlKCRzdm5fZm9sZGVyLCAkdmVyc2lvbiwgdHJ1ZSk7CgkJZm9yZWFjaCAoJGNvbnRlbnRzIGFzICRjb250KSB7CgkJCWlmICgkY29udFsndHlwZSddID09ICdkaXJlY3Rvcnkn'));
	@fwrite($fp, base64_decode('KSB7CgkJCQkkc3ZuX2NvbnRbXSA9ICcvJy4kY29udFsncGF0aCddLicvJzsKCQkJfSBlbHNlIGlmICgkY29udFsndHlwZSddID09ICdmaWxlJykgewoJCQkJJHN2bl9jb250W10gPSAnLycuJGNvbnRbJ3BhdGgnXTsKCQkJfQoJCX0KCQlmb3JlYWNoICgkc3ZuX2Nv'));
	@fwrite($fp, base64_decode('bnQgYXMgJGtleSA9PiAmJGMpIHsKCQkJJGMgPSB1cmxkZWNvZGUoJGMpOwoJCQkkYyA9IHN1YnN0cigkYywgc3RybGVuKCRzdm5fZm9sZGVyKSk7CgkJCWlmIChzdWJzdHIoJGMsMCwxKSA9PT0gJy8nKSAkYyA9IHN1YnN0cigkYywgMSk7CgkJCWlmICgkYyA9PT0g'));
	@fwrite($fp, base64_decode('JycpIHVuc2V0KCRzdm5fY29udFska2V5XSk7CgkJCWlmICgoc3RycG9zKCRjLCd1c2VyZGF0YS8nKSA9PT0gMCkgJiYgKCRjICE9PSAndXNlcmRhdGEvaW5mby50eHQnKSAmJiAoJGMgIT09ICd1c2VyZGF0YS8uaHRhY2Nlc3MnKSAmJiAoJGMgIT09ICd1c2VyZGF0'));
	@fwrite($fp, base64_decode('YS9pbmRleC5odG1sJykgJiYgKHN1YnN0cigkYywtMSkgIT09ICcvJykpIHVuc2V0KCRzdm5fY29udFska2V5XSk7CgkJfQoJCXVuc2V0KCRrZXkpOwoJCXVuc2V0KCRjKTsKCQl1bnNldCgkY29udGVudHMpOwoJCXVuc2V0KCRjb250KTsKCQluYXRzb3J0KCRzdm5f'));
	@fwrite($fp, base64_decode('Y29udCk7CgoJCSRvbmx5X3N2biA9IGFycmF5X2RpZmYoJHN2bl9jb250LCAkbG9jYWxfY29udCk7CgkJJG9ubHlfbG9jYWwgPSBhcnJheV9kaWZmKCRsb2NhbF9jb250LCAkc3ZuX2NvbnQpOwoJCXJldHVybiBhcnJheSgkc3ZuX2NvbnQsICRsb2NhbF9jb250KTsK'));
	@fwrite($fp, base64_decode('CX0KCgkvKioKCSAqICBnZXREaXJlY3RvcnlUcmVlCgkgKgoJICogIFJldHVybnMgdGhlIGNvbXBsZXRlIHRyZWUgb2YgZmlsZXMgYW5kIGRpcmVjdG9yaWVzIGluICRmb2xkZXIgZnJvbSB0aGUKCSAqICB2ZXJzaW9uICR2ZXJzaW9uIG9mIHRoZSByZXBvc2l0b3J5'));
	@fwrite($fp, base64_decode('LiBDYW4gYWxzbyBiZSB1c2VkIHRvIGdldCB0aGUgaW5mbwoJICogIGZvciBhIHNpbmdsZSBmaWxlIG9yIGRpcmVjdG9yeS4KCSAqCgkgKiAgQHBhcmFtIHN0cmluZyAgJGZvbGRlciBGb2xkZXIgdG8gZ2V0IHRyZWUKCSAqICBAcGFyYW0gaW50ZWdlciAkdmVyc2lv'));
	@fwrite($fp, base64_decode('biBSZXBvc2l0b3J5IHZlcnNpb24sIC0xIG1lYW5zIGN1cnJlbnQKCSAqICBAcGFyYW0gYm9vbGVhbiAkcmVjdXJzaXZlIFdoZXRoZXIgdG8gZ2V0IHRoZSB0cmVlIHJlY3Vyc2l2ZWx5LCBvciBqdXN0CgkgKiAgdGhlIHNwZWNpZmllZCBkaXJlY3RvcnkvZmlsZS4K'));
	@fwrite($fp, base64_decode('CSAqCgkgKiAgQHJldHVybiBhcnJheSBMaXN0IG9mIGZpbGVzIGFuZCBkaXJlY3Rvcmllcy4KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXREaXJlY3RvcnlUcmVlKCRmb2xkZXIgPSAnL3RydW5rLycsICR2ZXJzaW9uID0gLTEsICRyZWN1cnNpdmUgPSB0cnVlKQoJ'));
	@fwrite($fp, base64_decode('ewoJCSRkaXJlY3RvcnlUcmVlID0gYXJyYXkoKTsKCgkJaWYgKCEoJGFyck91dHB1dCA9ICR0aGlzLT5nZXREaXJlY3RvcnlGaWxlcygkZm9sZGVyLCAkdmVyc2lvbikpKQoJCQlyZXR1cm4gZmFsc2U7CgoJCWlmICghJHJlY3Vyc2l2ZSkKCQkJcmV0dXJuICRhcnJP'));
	@fwrite($fp, base64_decode('dXRwdXRbMF07CgoJCXdoaWxlIChjb3VudCgkYXJyT3V0cHV0KSAmJiBpc19hcnJheSgkYXJyT3V0cHV0KSkgewoJCQkkYXJyYXkgPSBhcnJheV9zaGlmdCgkYXJyT3V0cHV0KTsKCgkJCWFycmF5X3B1c2goJGRpcmVjdG9yeVRyZWUsICRhcnJheSk7CgoJCQlpZiAo'));
	@fwrite($fp, base64_decode('dHJpbSgkYXJyYXlbJ3BhdGgnXSwgJy8nKSA9PSB0cmltKCRmb2xkZXIsICcvJykpCgkJCQljb250aW51ZTsKCgkJCWlmICgkYXJyYXlbJ3R5cGUnXSA9PSAnZGlyZWN0b3J5JykgewoJCQkJJHdhbGsgPSAkdGhpcy0+Z2V0RGlyZWN0b3J5RmlsZXMoJGFycmF5Wydw'));
	@fwrite($fp, base64_decode('YXRoJ10sICR2ZXJzaW9uKTsKCQkJCWFycmF5X3NoaWZ0KCR3YWxrKTsKCgkJCQlmb3JlYWNoICgkd2FsayBhcyAkc3RlcCkgewoJCQkJCWFycmF5X3Vuc2hpZnQoJGFyck91dHB1dCwgJHN0ZXApOwoJCQkJfQoJCQl9CgkJfQoJCXJldHVybiAkZGlyZWN0b3J5VHJl'));
	@fwrite($fp, base64_decode('ZTsKCX0KCgkvKioKCSAqICBSZXR1cm5zIGZpbGUgY29udGVudHMKCSAqCgkgKiAgQHBhcmFtCXN0cmluZyAgJGZpbGUgRmlsZSBwYXRobmFtZQoJICogIEBwYXJhbQlpbnRlZ2VyCSR2ZXJzaW9uIEZpbGUgVmVyc2lvbgoJICogIEByZXR1cm4Jc3RyaW5nCUZpbGUg'));
	@fwrite($fp, base64_decode('Y29udGVudCBhbmQgaW5mb3JtYXRpb24sIGZhbHNlIG9uIGVycm9yLCBvciBpZiBhCgkgKiAgICAgICAgICAgICAgZGlyZWN0b3J5IGlzIHJlcXVlc3RlZAoJICovCglwcml2YXRlIGZ1bmN0aW9uIGdldEZpbGUoJGZpbGUsICR2ZXJzaW9uID0gLTEpCgl7CgkJaWYg'));
	@fwrite($fp, base64_decode('KCR2ZXJzaW9uID09IC0xIHx8ICR2ZXJzaW9uID4gJHRoaXMtPmFjdFZlcnNpb24pIHsKCQkJJHZlcnNpb24gPSAkdGhpcy0+YWN0VmVyc2lvbjsKCQl9CgoJCS8vIGNoZWNrIGlmIHRoaXMgaXMgYSBkaXJlY3RvcnkuLi4gaWYgc28sIHJldHVybiBmYWxzZSwgb3Ro'));
	@fwrite($fp, base64_decode('ZXJ3aXNlIHdlCgkJLy8gZ2V0IHRoZSBIVE1MIG91dHB1dCBvZiB0aGUgZGlyZWN0b3J5IGxpc3RpbmcgZnJvbSB0aGUgU1ZOIHNlcnZlci4KCQkvLyBUaGlzIGlzIG1heWJlIGEgYml0IGhlYXZ5IHNpbmNlIGl0IG1ha2VzIGFub3RoZXIgY29ubmVjdGlvbiB0byB0'));
	@fwrite($fp, base64_decode('aGUKCQkvLyBTVk4gc2VydmVyLiBNYXliZSBhZGQgdGhpcyBhcyBhbiBvcHRpb24vcGFyYW1ldGVyPyBFUyAyMy8wNi8wOAoJCSRmaWxlSW5mbyA9ICR0aGlzLT5nZXREaXJlY3RvcnlUcmVlKCRmaWxlLCAkdmVyc2lvbiwgZmFsc2UpOwoJCWlmICgkZmlsZUluZm9b'));
	@fwrite($fp, base64_decode('InR5cGUiXSA9PSAiZGlyZWN0b3J5IikKCQkJcmV0dXJuIGZhbHNlOwoKCQkkdXJsID0gJHRoaXMtPmNsZWFuVVJMKCR0aGlzLT5fdXJsIC4gIi8hc3ZuL2JjLyIgLiAkdmVyc2lvbiAuICIvIiAuICRmaWxlIC4gIi8iKTsKCQkkdGhpcy0+aW5pdFF1ZXJ5KCRhcmdz'));
	@fwrite($fp, base64_decode('LCAiR0VUIiwgJHVybCk7CgkJaWYgKCEkdGhpcy0+UmVxdWVzdCgkYXJncywgJGhlYWRlcnMsICRib2R5KSkKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIkNhbm5vdCBjYWxsIGdldEZpbGUgKFJlcXVlc3QgZmFpbGVkKSIpOwoKCQlyZXR1cm4gJGJvZHk7'));
	@fwrite($fp, base64_decode('Cgl9CgoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRMb2dzRm9yVXBkYXRlKCRmaWxlLCAkdmluaSA9IDAsICR2ZW5kID0gLTEpCgl7CgkJJGZpbGVMb2dzID0gYXJyYXkoKTsKCgkJaWYgKCR2ZW5kID09IC0xKSB7CgkJCSR2ZW5kID0gJHRoaXMtPmFjdFZlcnNpb247CgkJ'));
	@fwrite($fp, base64_decode('fQoKCQlpZiAoJHZpbmkgPCAwKQoJCQkkdmluaSA9IDA7CgoJCWlmICgkdmluaSA+ICR2ZW5kKSB7CgkJCSR2aW5pID0gJHZlbmQ7CgkJCWVjaG8gIk5vdGhpbmcgdXBkYXRlZFxuIjsKCQkJZmx1c2goKTsKCQkJcmV0dXJuIG51bGw7CgkJfQoKCQkkdXJsID0gJHRo'));
	@fwrite($fp, base64_decode('aXMtPmNsZWFuVVJMKCR0aGlzLT5fdXJsIC4gIi8hc3ZuL2JjLyIgLiAkdGhpcy0+YWN0VmVyc2lvbiAuICIvIiAuICRmaWxlIC4gIi8iKTsKCQkkdGhpcy0+aW5pdFF1ZXJ5KCRhcmdzLCAiUkVQT1JUIiwgJHVybCk7CgkJJGFyZ3NbJ0JvZHknXSAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICA9IHNwcmludGYoc2VsZjo6UEhQU1ZOX0xPR1NfUkVRVUVTVCwgJHZpbmksICR2ZW5kKTsKCQkkYXJnc1snSGVhZGVycyddWydDb250ZW50LUxlbmd0aCddID0gc3RybGVuKCRhcmdzWydCb2R5J10pOwoJCSRhcmdzWydIZWFkZXJzJ11bJ0RlcHRo'));
	@fwrite($fp, base64_decode('J10gICAgICAgICAgPSAxOwoKCQlpZiAoISR0aGlzLT5SZXF1ZXN0KCRhcmdzLCAkaGVhZGVycywgJGJvZHkpKQoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiQ2Fubm90IGNhbGwgZ2V0TG9nc0ZvclVwZGF0ZSAoUmVxdWVzdCBmYWlsZWQpIik7CgoJCSRh'));
	@fwrite($fp, base64_decode('cnJPdXRwdXQgPSBzZWxmOjp4bWxQYXJzZSgkYm9keSk7CgoJCSRyZXZsb2dzID0gYXJyYXkoKTsKCgkJJGFycmF5ID0gYXJyYXkoKTsKCQlpZiAoIWlzc2V0KCRhcnJPdXRwdXRbJ2NoaWxkcmVuJ10pKSAkYXJyT3V0cHV0WydjaGlsZHJlbiddID0gYXJyYXkoKTsK'));
	@fwrite($fp, base64_decode('CQlmb3JlYWNoICgkYXJyT3V0cHV0WydjaGlsZHJlbiddIGFzICR2YWx1ZSkgewoJCQkvKgogICAgICAgICAgICAgICAgICAgICAgICA8Uzpsb2ctaXRlbT4KCQkJPEQ6dmVyc2lvbi1uYW1lPjE2NDwvRDp2ZXJzaW9uLW5hbWU+CgkJCTxTOmRhdGU+MjAxOS0wOC0x'));
	@fwrite($fp, base64_decode('M1QxMzoxMjoxMy45MTU5MjBaPC9TOmRhdGU+CgkJCTxEOmNvbW1lbnQ+VXBkYXRlIGFzc2lzdGFudCBidWdmaXg8L0Q6Y29tbWVudD4KCQkJPEQ6Y3JlYXRvci1kaXNwbGF5bmFtZT5kYW5pZWwtbWFyc2NoYWxsPC9EOmNyZWF0b3ItZGlzcGxheW5hbWU+CgkJCTxT'));
	@fwrite($fp, base64_decode('Om1vZGlmaWVkLXBhdGggbm9kZS1raW5kPSJmaWxlIiB0ZXh0LW1vZHM9InRydWUiIHByb3AtbW9kcz0iZmFsc2UiPi90cnVuay91cGRhdGUvaW5kZXgucGhwPC9TOm1vZGlmaWVkLXBhdGg+CgkJCTxTOm1vZGlmaWVkLXBhdGggbm9kZS1raW5kPSJmaWxlIiB0ZXh0'));
	@fwrite($fp, base64_decode('LW1vZHM9InRydWUiIHByb3AtbW9kcz0iZmFsc2UiPi90cnVuay91cGRhdGUvcGhwc3ZuY2xpZW50LmluYy5waHA8L1M6bW9kaWZpZWQtcGF0aD4KCQkJPC9TOmxvZy1pdGVtPgoJCQkqLwoKCQkJJHZlcnNpb25OYW1lID0gJyc7CgkJCSRkYXRlID0gJyc7CgkJCSRj'));
	@fwrite($fp, base64_decode('b21tZW50ID0gJyc7CgkJCWZvcmVhY2ggKCR2YWx1ZVsnY2hpbGRyZW4nXSBhcyAkZW50cnkpIHsKCQkJCWlmICgoJGVudHJ5WyduYW1lJ10gPT0gJ1M6QURERUQtUEFUSCcpIHx8ICgkZW50cnlbJ25hbWUnXSA9PSAnUzpNT0RJRklFRC1QQVRIJykgfHwgKCRlbnRy'));
	@fwrite($fp, base64_decode('eVsnbmFtZSddID09ICdTOkRFTEVURUQtUEFUSCcpKSB7CgkJCQkJaWYgKCRlbnRyeVsnYXR0cnMnXVsnTk9ERS1LSU5EJ10gPT0gImZpbGUiKSB7CgkJCQkJCSRhcnJheVsnb2JqZWN0cyddW10gPSBhcnJheSgKCQkJCQkJCSdvYmplY3RfbmFtZScgPT4gJGVudHJ5'));
	@fwrite($fp, base64_decode('Wyd0YWdEYXRhJ10sCgkJCQkJCQknYWN0aW9uJyA9PiAkZW50cnlbJ25hbWUnXSwKCQkJCQkJCSd0eXBlJyA9PiAnZmlsZScKCQkJCQkJKTsKCQkJCQl9IGVsc2UgaWYgKCRlbnRyeVsnYXR0cnMnXVsnTk9ERS1LSU5EJ10gPT0gImRpciIpIHsKCQkJCQkJJGFycmF5'));
	@fwrite($fp, base64_decode('WydvYmplY3RzJ11bXSA9IGFycmF5KAoJCQkJCQkJJ29iamVjdF9uYW1lJyA9PiAkZW50cnlbJ3RhZ0RhdGEnXSwKCQkJCQkJCSdhY3Rpb24nID0+ICRlbnRyeVsnbmFtZSddLAoJCQkJCQkJJ3R5cGUnID0+ICdkaXInCgkJCQkJCSk7CgkJCQkJfQoJCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IGlmICgkZW50cnlbJ25hbWUnXSA9PSAnRDpWRVJTSU9OLU5BTUUnKSB7CgkJCQkJJHZlcnNpb25OYW1lID0gaXNzZXQoJGVudHJ5Wyd0YWdEYXRhJ10pID8gJGVudHJ5Wyd0YWdEYXRhJ10gOiAnJzsKCQkJCX0gZWxzZSBpZiAoJGVudHJ5WyduYW1lJ10gPT0gJ1M6'));
	@fwrite($fp, base64_decode('REFURScpIHsKCQkJCQkkZGF0ZSA9IGlzc2V0KCRlbnRyeVsndGFnRGF0YSddKSA/ICRlbnRyeVsndGFnRGF0YSddIDogJyc7CgkJCQl9IGVsc2UgaWYgKCRlbnRyeVsnbmFtZSddID09ICdEOkNPTU1FTlQnKSB7CgkJCQkJJGNvbW1lbnQgPSBpc3NldCgkZW50cnlb'));
	@fwrite($fp, base64_decode('J3RhZ0RhdGEnXSkgPyAkZW50cnlbJ3RhZ0RhdGEnXSA6ICcnOwoJCQkJfSBlbHNlIGlmICgkZW50cnlbJ25hbWUnXSA9PSAnRDpDUkVBVE9SLURJU1BMQVlOQU1FJykgewoJCQkJCSRjcmVhdG9yID0gaXNzZXQoJGVudHJ5Wyd0YWdEYXRhJ10pID8gJGVudHJ5Wyd0'));
	@fwrite($fp, base64_decode('YWdEYXRhJ10gOiAnJzsKCQkJCX0KCQkJfQogICAgICAgICAgICAgICAgICAgICAgICAkcmV2bG9nc1tdID0gYXJyYXkoJ3ZlcnNpb25OYW1lJyA9PiAkdmVyc2lvbk5hbWUsCgkJCSAgICAgICAgICAgICAgICAgICAnZGF0ZScgPT4gJGRhdGUsCgkJCQkJICAgJ2Nv'));
	@fwrite($fp, base64_decode('bW1lbnQnID0+ICRjb21tZW50LAoJCQkJCSAgICdjcmVhdG9yJyA9PiAkY3JlYXRvcik7CgkJfQoJCSRmaWxlcyAgICAgICA9IGFycmF5KCk7CgkJJGZpbGVzRGVsZXRlID0gYXJyYXkoKTsKCQkkZGlycyAgICAgICAgPSBhcnJheSgpOwoJCSRkaXJzRGVsZXRlICA9'));
	@fwrite($fp, base64_decode('IGFycmF5KCk7CgoJCWlmICghaXNzZXQoJGFycmF5WydvYmplY3RzJ10pKSAkYXJyYXlbJ29iamVjdHMnXSA9IGFycmF5KCk7CgkJZm9yZWFjaCAoJGFycmF5WydvYmplY3RzJ10gYXMgJG9iamVjdHMpIHsKCQkJLy8gVGhpcyBzZWN0aW9uIHdhcyBjb21wbGV0ZWx5'));
	@fwrite($fp, base64_decode('IGNoYW5nZWQgYnkgRGFuaWVsIE1hcnNjaGFsbAoJCQlpZiAoJG9iamVjdHNbJ3R5cGUnXSA9PSAiZmlsZSIpIHsKCQkJCWlmICgkb2JqZWN0c1snYWN0aW9uJ10gPT0gIlM6QURERUQtUEFUSCIgfHwgJG9iamVjdHNbJ2FjdGlvbiddID09ICJTOk1PRElGSUVELVBB'));
	@fwrite($fp, base64_decode('VEgiKSB7CgkJCQkJc2VsZjo6eGFycmF5X2FkZCgkb2JqZWN0c1snb2JqZWN0X25hbWUnXSwgJGZpbGVzKTsKCQkJCQlzZWxmOjp4YXJyYXlfcmVtb3ZlKCRvYmplY3RzWydvYmplY3RfbmFtZSddLCAkZmlsZXNEZWxldGUpOwoJCQkJfQoJCQkJaWYgKCRvYmplY3Rz'));
	@fwrite($fp, base64_decode('WydhY3Rpb24nXSA9PSAiUzpERUxFVEVELVBBVEgiKSB7CgkJCQkJc2VsZjo6eGFycmF5X2FkZCgkb2JqZWN0c1snb2JqZWN0X25hbWUnXSwgJGZpbGVzRGVsZXRlKTsKCQkJCQlzZWxmOjp4YXJyYXlfcmVtb3ZlKCRvYmplY3RzWydvYmplY3RfbmFtZSddLCAkZmls'));
	@fwrite($fp, base64_decode('ZXMpOwoJCQkJfQoJCQl9CgkJCWlmICgkb2JqZWN0c1sndHlwZSddID09ICJkaXIiKSB7CgkJCQlpZiAoJG9iamVjdHNbJ2FjdGlvbiddID09ICJTOkFEREVELVBBVEgiIHx8ICRvYmplY3RzWydhY3Rpb24nXSA9PSAiUzpNT0RJRklFRC1QQVRIIikgewoJCQkJCXNl'));
	@fwrite($fp, base64_decode('bGY6OnhhcnJheV9hZGQoJG9iamVjdHNbJ29iamVjdF9uYW1lJ10sICRkaXJzKTsKCQkJCQlzZWxmOjp4YXJyYXlfcmVtb3ZlKCRvYmplY3RzWydvYmplY3RfbmFtZSddLCAkZGlyc0RlbGV0ZSk7CgkJCQl9CgkJCQlpZiAoJG9iamVjdHNbJ2FjdGlvbiddID09ICJT'));
	@fwrite($fp, base64_decode('OkRFTEVURUQtUEFUSCIpIHsKCQkJCQkvLyBEZWxldGUgZmlsZXMgZnJvbSBmaWxlbGlzdAoJCQkJCSRmaWxlc19jb3B5ID0gJGZpbGVzOwoJCQkJCWZvcmVhY2ggKCRmaWxlc19jb3B5IGFzICRmaWxlKSB7CgkJCQkJCWlmIChzdHJwb3MoJGZpbGUsICRvYmplY3Rz'));
	@fwrite($fp, base64_decode('WydvYmplY3RfbmFtZSddLicvJykgPT09IDApIHNlbGY6OnhhcnJheV9yZW1vdmUoJGZpbGUsICRmaWxlcyk7CgkJCQkJfQoJCQkJCS8vIEVORCBPRiBEZWxldGUgZmlsZXMgZnJvbSBmaWxlbGlzdAoJCQkJCS8vIERlbGV0ZSBkaXJzIGZyb20gZGlyc2xpc3QKCQkJ'));
	@fwrite($fp, base64_decode('CQlzZWxmOjp4YXJyYXlfYWRkKCRvYmplY3RzWydvYmplY3RfbmFtZSddLCAkZGlyc0RlbGV0ZSk7CgkJCQkJc2VsZjo6eGFycmF5X3JlbW92ZSgkb2JqZWN0c1snb2JqZWN0X25hbWUnXSwgJGRpcnMpOwoJCQkJCS8vIEVORCBPRiBEZWxldGUgZGlycyBmcm9tIGRp'));
	@fwrite($fp, base64_decode('cnNsaXN0CgkJCQl9CgkJCX0KCQl9CgkJZm9yZWFjaCAoJGRpcnMgYXMgJGRpcikgewoJCQkkY29udGVudHMgPSAkdGhpcy0+Z2V0RGlyZWN0b3J5VHJlZSgkZGlyLCAkdmVuZCwgdHJ1ZSk7CgkJCWZvcmVhY2ggKCRjb250ZW50cyBhcyAkY29udCkgewoJCQkJaWYg'));
	@fwrite($fp, base64_decode('KCRjb250Wyd0eXBlJ10gPT0gJ2RpcmVjdG9yeScpIHsKCQkJCQkkZGlybmFtZSA9ICcvJy4kY29udFsncGF0aCddOwoJCQkJCXNlbGY6OnhhcnJheV9hZGQoJGRpcm5hbWUsICRkaXJzKTsKCQkJCQlzZWxmOjp4YXJyYXlfcmVtb3ZlKCRkaXJuYW1lLCAkZGlyc0Rl'));
	@fwrite($fp, base64_decode('bGV0ZSk7CgkJCQl9IGVsc2UgaWYgKCRjb250Wyd0eXBlJ10gPT0gJ2ZpbGUnKSB7CgkJCQkJJGZpbGVuYW1lID0gJy8nLiRjb250WydwYXRoJ107CgkJCQkJc2VsZjo6eGFycmF5X2FkZCgkZmlsZW5hbWUsICRmaWxlcyk7CgkJCQkJc2VsZjo6eGFycmF5X3JlbW92'));
	@fwrite($fp, base64_decode('ZSgkZmlsZW5hbWUsICRmaWxlc0RlbGV0ZSk7CgkJCQl9CgkJCX0KCQl9CgkJJG91dCAgICAgICAgICAgICAgICA9IGFycmF5KCk7CgkJJG91dFsnZmlsZXMnXSAgICAgICA9ICRmaWxlczsKCQkkb3V0WydmaWxlc0RlbGV0ZSddID0gJGZpbGVzRGVsZXRlOwoJCSRv'));
	@fwrite($fp, base64_decode('dXRbJ2RpcnMnXSAgICAgICAgPSAkZGlyczsKCQkkb3V0WydkaXJzRGVsZXRlJ10gID0gJGRpcnNEZWxldGU7CgkJJG91dFsncmV2aXNpb25zJ10gICA9ICRyZXZsb2dzOwoJCXJldHVybiAkb3V0OwoJfQoKCS8qKgoJICogIFJldHVybnMgdGhlIHJlcG9zaXRvcnkg'));
	@fwrite($fp, base64_decode('dmVyc2lvbgoJICoKCSAqICBAcmV0dXJuIGludGVnZXIgUmVwb3NpdG9yeSB2ZXJzaW9uCgkgKiAgQGFjY2VzcyBwdWJsaWMKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldFZlcnNpb24oKQoJewoJCWlmICgkdGhpcy0+X3JlcFZlcnNpb24gPiAwKQoJCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('JHRoaXMtPl9yZXBWZXJzaW9uOwoKCQkkdGhpcy0+X3JlcFZlcnNpb24gPSAtMTsKCQkkdGhpcy0+aW5pdFF1ZXJ5KCRhcmdzLCAiUFJPUEZJTkQiLCAkdGhpcy0+Y2xlYW5VUkwoJHRoaXMtPl91cmwgLiAiLyFzdm4vdmNjL2RlZmF1bHQiKSk7CgkJJGFyZ3NbJ0Jv'));
	@fwrite($fp, base64_decode('ZHknXSAgICAgICAgICAgICAgICAgICAgICA9IHNlbGY6OlBIUFNWTl9WRVJTSU9OX1JFUVVFU1Q7CgkJJGFyZ3NbJ0hlYWRlcnMnXVsnQ29udGVudC1MZW5ndGgnXSA9IHN0cmxlbihzZWxmOjpQSFBTVk5fTk9STUFMX1JFUVVFU1QpOwoJCSRhcmdzWydIZWFkZXJz'));
	@fwrite($fp, base64_decode('J11bJ0RlcHRoJ10gICAgICAgICAgPSAwOwoKCQlpZiAoISR0aGlzLT5SZXF1ZXN0KCRhcmdzLCAkdG1wLCAkYm9keSkpCgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJDYW5ub3QgZ2V0IHJlcG9zaXRvcnkgcmV2aXNpb24gKFJlcXVlc3QgZmFpbGVkKSIp'));
	@fwrite($fp, base64_decode('OwoKCQkkdGhpcy0+X3JlcFZlcnNpb24gPSBudWxsOwoJCWlmIChwcmVnX21hdGNoKCdALyhcZCspXHMqPC9EOmhyZWY+QGlzbVUnLCAkYm9keSwgJG0pKSB7CgkJCSR0aGlzLT5fcmVwVmVyc2lvbiA9ICRtWzFdOwoJCX0gZWxzZSB7CgkJCXRocm93IG5ldyBPSURw'));
	@fwrite($fp, base64_decode('bHVzRXhjZXB0aW9uKCJDYW5ub3QgZ2V0IHJlcG9zaXRvcnkgcmV2aXNpb24gKFJlZ0V4IGZhaWxlZCkiKTsKCQl9CgoJCXJldHVybiAkdGhpcy0+X3JlcFZlcnNpb247Cgl9CgoJLyoqCgkgKiAgUHJpdmF0ZSBGdW5jdGlvbnMKCSAqLwoKCS8qKgoJICogIFByZXBh'));
	@fwrite($fp, base64_decode('cmUgSFRUUCBDTElFTlQgb2JqZWN0CgkgKgoJICogIEBwYXJhbSBhcnJheSAmJGFyZ3VtZW50cyBCeXJlZmVyZW5jZXMgdmFyaWFibGUuCgkgKiAgQHBhcmFtIHN0cmluZyAkbWV0aG9kIE1ldGhvZCBmb3IgdGhlIHJlcXVlc3QgKEdFVCxQT1NULFBST1BGSU5ELCBS'));
	@fwrite($fp, base64_decode('RVBPUlQsRVRDKS4KCSAqICBAcGFyYW0gc3RyaW5nICR1cmwgVVJMIGZvciB0aGUgYWN0aW9uLgoJICogIEBhY2Nlc3MgcHJpdmF0ZQoJICovCglwcml2YXRlIGZ1bmN0aW9uIGluaXRRdWVyeSgmJGFyZ3VtZW50cywgJG1ldGhvZCwgJHVybCkKCXsKCQkkaHR0cCA9'));
	@fwrite($fp, base64_decode('JiAkdGhpcy0+X2h0dHA7CgkJJGh0dHAtPkdldFJlcXVlc3RBcmd1bWVudHMoJHVybCwgJGFyZ3VtZW50cyk7CgkJJGFyZ3VtZW50c1siUmVxdWVzdE1ldGhvZCJdICAgICAgICAgICA9ICRtZXRob2Q7CgkJJGFyZ3VtZW50c1siSGVhZGVycyJdWyJDb250ZW50LVR5'));
	@fwrite($fp, base64_decode('cGUiXSA9ICJ0ZXh0L3htbCI7CgkJJGFyZ3VtZW50c1siSGVhZGVycyJdWyJEZXB0aCJdICAgICAgICA9IDE7Cgl9CgoJLyoqCgkgKiAgT3BlbiBhIGNvbm5lY3Rpb24sIHNlbmQgcmVxdWVzdCwgcmVhZCBoZWFkZXIKCSAqICBhbmQgYm9keS4KCSAqCgkgKiAgQHBh'));
	@fwrite($fp, base64_decode('cmFtIEFycmF5ICRhcmdzIENvbm5ldGlvbidzIGFyZ3VtZW50CgkgKiAgQHBhcmFtIEFycmF5ICYkaGVhZGVycyBBcnJheSB3aXRoIHRoZSBoZWFkZXIgcmVzcG9uc2UuCgkgKiAgQHBhcmFtIHN0cmluZyAmJGJvZHkgQm9keSByZXNwb25zZS4KCSAqICBAcmV0dXJu'));
	@fwrite($fp, base64_decode('IGJvb2xlYW4gVHJ1ZSBpcyBxdWVyeSBzdWNjZXNzCgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gUmVxdWVzdCgkYXJncywgJiRoZWFkZXJzLCAmJGJvZHkpCgl7CgkJJGFyZ3NbJ1JlcXVlc3RVUkknXSA9IHN0cl9yZXBsYWNlKCcg'));
	@fwrite($fp, base64_decode('JywgJyUyMCcsICRhcmdzWydSZXF1ZXN0VVJJJ10pOyAvL0hhY2sgdG8gbWFrZSBmaWxlbmFtZXMgd2l0aCBzcGFjZXMgd29yay4KCQkkaHR0cCA9JiAkdGhpcy0+X2h0dHA7CgkJJGh0dHAtPk9wZW4oJGFyZ3MpOwoJCSRodHRwLT5TZW5kUmVxdWVzdCgkYXJncyk7'));
	@fwrite($fp, base64_decode('CgkJJGh0dHAtPlJlYWRSZXBseUhlYWRlcnMoJGhlYWRlcnMpOwoJCWlmICgkaHR0cC0+cmVzcG9uc2Vfc3RhdHVzWzBdICE9IDIpIHsKCQkJc3dpdGNoICgkaHR0cC0+cmVzcG9uc2Vfc3RhdHVzKSB7CgkJCQljYXNlIDQwNDoKCQkJCQkkdGhpcy0+ZXJyTnJvID0g'));
	@fwrite($fp, base64_decode('c2VsZjo6Tk9UX0ZPVU5EOwoJCQkJCWJyZWFrOwoJCQkJY2FzZSA0MDE6CgkJCQkJJHRoaXMtPmVyck5ybyA9IHNlbGY6OkFVVEhfUkVRVUlSRUQ7CgkJCQkJYnJlYWs7CgkJCQlkZWZhdWx0OgoJCQkJCSR0aGlzLT5lcnJOcm8gPSBzZWxmOjpVTktOT1dOX0VSUk9S'));
	@fwrite($fp, base64_decode('OwoJCQkJCWJyZWFrOwoJCQl9CgkJCS8vICAgICAgICAgICAgdHJpZ2dlcl9lcnJvcigicmVxdWVzdCB0byAkYXJnc1tSZXF1ZXN0VVJJXSBmYWlsZWQ6ICRodHRwLT5yZXNwb25zZV9zdGF0dXMKCQkJLy9FcnJvcjogJGh0dHAtPmVycm9yIik7CgkJCSRodHRwLT5j'));
	@fwrite($fp, base64_decode('bG9zZSgpOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSR0aGlzLT5lcnJOcm8gPSBzZWxmOjpOT19FUlJPUjsKCQkkYm9keSAgICAgICAgID0gJyc7CgkJJHRib2R5ICAgICAgICA9ICcnOwoJCWZvciAoOzspIHsKCQkJJGVycm9yID0gJGh0dHAtPlJlYWRSZXBseUJv'));
	@fwrite($fp, base64_decode('ZHkoJHRib2R5LCAxMDAwKTsKCQkJaWYgKCRlcnJvciAhPSAiIiB8fCBzdHJsZW4oJHRib2R5KSA9PSAwKSB7CgkJCQlicmVhazsKCQkJfQoJCQkkYm9keSAuPSAoJHRib2R5KTsKCQl9CgkJJGh0dHAtPmNsb3NlKCk7CgkJcmV0dXJuIHRydWU7Cgl9CgoJLyoqCgkg'));
	@fwrite($fp, base64_decode('KiAgUmV0dXJucyAkdXJsIHN0cmlwcGVkIG9mICcvLycKCSAqCgkgKiAgRGVsZXRlICIvLyIgb24gVVJMIHJlcXVlc3RzLgoJICoKCSAqICBAcGFyYW0gc3RyaW5nICR1cmwgVVJMCgkgKiAgQHJldHVybiBzdHJpbmcgTmV3IGNsZWFuZWQgVVJMLgoJICogIEBhY2Nl'));
	@fwrite($fp, base64_decode('c3MgcHJpdmF0ZQoJICovCglwcml2YXRlIGZ1bmN0aW9uIGNsZWFuVVJMKCR1cmwpCgl7CgkJcmV0dXJuIHByZWdfcmVwbGFjZSgiLygoXjopXC9cLykvIiwgIi8vIiwgJHVybCk7Cgl9CgoJLyoKCSAgVGFrZW4gZnJvbSBodHRwOi8vd3d3LnBocC5uZXQvbWFudWFs'));
	@fwrite($fp, base64_decode('L2VuL2Z1bmN0aW9uLnhtbC1wYXJzZS5waHAjNTI1NjcKCSAgTW9kaWZpZWQgYnkgTWFydGluIEd1cHB5IDxodHRwOi8vd3d3LmRlYWRwYW4xMTAuY29tLz4KCSAgVXNhZ2UKCSAgR3JhYiBzb21lIFhNTCBkYXRhLCBlaXRoZXIgZnJvbSBhIGZpbGUsIFVSTCwgZXRj'));
	@fwrite($fp, base64_decode('LiBob3dldmVyIHlvdSB3YW50LgoJICBBc3N1bWUgc3RvcmFnZSBpbiAkc3RyWW91clhNTDsKCSAgQ29udmVydGVkICJjbGFzcyIgaW50byBhIHNpbmdsZSBmdW5jdGlvbiBieSBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKCSAqLwoJcHJpdmF0ZSBzdGF0'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24geG1sUGFyc2UoJHN0cklucHV0WE1MKSB7CgkJJGFyck91dHB1dCA9IGFycmF5KCk7CgoJCSRyZXNQYXJzZXIgPSB4bWxfcGFyc2VyX2NyZWF0ZSgpOwoJCXhtbF9zZXRfZWxlbWVudF9oYW5kbGVyKCRyZXNQYXJzZXIsCgkJCWZ1bmN0aW9uIC8q'));
	@fwrite($fp, base64_decode('dGFnT3BlbiovKCRwYXJzZXIsICRuYW1lLCAkYXR0cnMpIHVzZSAoJiRhcnJPdXRwdXQpIHsKCQkJCSR0YWcgPSBhcnJheSgibmFtZSIgPT4gJG5hbWUsICJhdHRycyIgPT4gJGF0dHJzKTsKCQkJCWFycmF5X3B1c2goJGFyck91dHB1dCwgJHRhZyk7CgkJCX0sCgkJ'));
	@fwrite($fp, base64_decode('CWZ1bmN0aW9uIC8qdGFnQ2xvc2VkKi8oJHBhcnNlciwgJG5hbWUpIHVzZSAoJiRhcnJPdXRwdXQpIHsKCQkJCSRhcnJPdXRwdXRbY291bnQoJGFyck91dHB1dCkgLSAyXVsnY2hpbGRyZW4nXVtdID0gJGFyck91dHB1dFtjb3VudCgkYXJyT3V0cHV0KSAtIDFdOwoJ'));
	@fwrite($fp, base64_decode('CQkJYXJyYXlfcG9wKCRhcnJPdXRwdXQpOwoJCQl9CgkJKTsKCQl4bWxfc2V0X2NoYXJhY3Rlcl9kYXRhX2hhbmRsZXIoJHJlc1BhcnNlciwKCQkJZnVuY3Rpb24gLyp0YWdEYXRhKi8oJHBhcnNlciwgJHRhZ0RhdGEpIHVzZSAoJiRhcnJPdXRwdXQpIHsKCQkJCWlm'));
	@fwrite($fp, base64_decode('ICh0cmltKCR0YWdEYXRhKSkgewoJCQkJCWlmIChpc3NldCgkYXJyT3V0cHV0W2NvdW50KCRhcnJPdXRwdXQpIC0gMV1bJ3RhZ0RhdGEnXSkpIHsKCQkJCQkJJGFyck91dHB1dFtjb3VudCgkYXJyT3V0cHV0KSAtIDFdWyd0YWdEYXRhJ10gLj0gJHRhZ0RhdGE7CgkJ'));
	@fwrite($fp, base64_decode('CQkJfSBlbHNlIHsKCQkJCQkJJGFyck91dHB1dFtjb3VudCgkYXJyT3V0cHV0KSAtIDFdWyd0YWdEYXRhJ10gPSAkdGFnRGF0YTsKCQkJCQl9CgkJCQl9CgkJCX0KCQkpOwoKCQlpZiAoIXhtbF9wYXJzZSgkcmVzUGFyc2VyLCAkc3RySW5wdXRYTUwpKSB7CgkJCWRp'));
	@fwrite($fp, base64_decode('ZShzcHJpbnRmKCJYTUwgZXJyb3I6ICVzIGF0IGxpbmUgJWQiLCB4bWxfZXJyb3Jfc3RyaW5nKHhtbF9nZXRfZXJyb3JfY29kZSgkcmVzUGFyc2VyKSksIHhtbF9nZXRfY3VycmVudF9saW5lX251bWJlcigkcmVzUGFyc2VyKSkpOwoJCX0KCgkJeG1sX3BhcnNlcl9m'));
	@fwrite($fp, base64_decode('cmVlKCRyZXNQYXJzZXIpOwoKCQlyZXR1cm4gJGFyck91dHB1dFswXTsKCX0KCgkvKgoJICBTbWFsbCBoZWxwZXIgZnVuY3Rpb25zCgkqLwoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHhhcnJheV9hZGQoJG5lZWRsZSwgJiRhcnJheSkgewoJCSRrZXkgPSBhcnJh'));
	@fwrite($fp, base64_decode('eV9zZWFyY2goJG5lZWRsZSwgJGFycmF5KTsKCQlpZiAoJGtleSA9PT0gZmFsc2UpIHsKCQkJJGFycmF5W10gPSAkbmVlZGxlOwoJCX0KCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiB4YXJyYXlfcmVtb3ZlKCRuZWVkbGUsICYkYXJyYXkpIHsKCQl3aGlsZSAo'));
	@fwrite($fp, base64_decode('dHJ1ZSkgewoJCQkka2V5ID0gYXJyYXlfc2VhcmNoKCRuZWVkbGUsICRhcnJheSk7CgkJCWlmICgka2V5ID09PSBmYWxzZSkgYnJlYWs7CgkJCXVuc2V0KCRhcnJheVska2V5XSk7CgkJfQoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/phpsvnclient.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/phpsvnclient.class.php');
	writefile_2();
	if (!is_file('includes/classes/phpsvnclient.class.php')) {
		warn('File cannot be created (not existing): includes/classes/phpsvnclient.class.php');
	} else if (sha1_file('includes/classes/phpsvnclient.class.php') != '597b66cdc36cbb23ccb5acd9ca5275b6d3c3dff7') {
		warn('File cannot be created (checksum mismatch): includes/classes/phpsvnclient.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/phpsvnclient.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/phpsvnclient.class.php');
	}
} else {
	if (@sha1_file('includes/classes/phpsvnclient.class.php') !== '597b66cdc36cbb23ccb5acd9ca5275b6d3c3dff7') {
		if (@sha1_file('includes/classes/phpsvnclient.class.php') !== '4a43c778e44689394573db2ca6835b93e8a7f909') {
			warn('File was modified. Will overwrite the changes now: includes/classes/phpsvnclient.class.php');
			$tmp = pathinfo('includes/classes/phpsvnclient.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/phpsvnclient.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/phpsvnclient.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/phpsvnclient.class.php') !== '597b66cdc36cbb23ccb5acd9ca5275b6d3c3dff7') {
			warn('File cannot be written (checksum mismatch): includes/classes/phpsvnclient.class.php');
		}
	}
}

// Files different: update/index.php
function writefile_3() {
	@$fp = fopen('update/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmRlY2xhcmUodGlja3M9MSk7CgpzZXRfdGltZV9saW1pdCgwKTsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKLy8gTm90ZTogd2UgZG9uJ3Qg'));
	@fwrite($fp, base64_decode('d2FudCB0byB1c2UgT0lEcGx1czo6aW5pdCgpIGluIHRoaXMgdXBkYXRlciAoaXQgc2hvdWxkIGJlIGluZGVwZW5kZW50IGFzIG11Y2ggYXMgcG9zc2libGUpCk9JRHBsdXM6OmJhc2VDb25maWcoKTsgLy8gVGhpcyBjYWxsIHdpbGwgcmVkaXJlY3QgdG8gc2V0dXAg'));
	@fwrite($fp, base64_decode('aWYgdXNlcmRhdGEvYmFzZWNvbmZpZy9jb25maWcuaW5jLnBocCBpcyBtaXNzaW5nCgpkZWZpbmUoJ09JRFBMVVNfUkVQTycsICdodHRwczovL3N2bi52aWF0aGlua3NvZnQuY29tL3N2bi9vaWRwbHVzJyk7Cgo/PjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJl'));
	@fwrite($fp, base64_decode('biI+Cgo8aGVhZD4KCTx0aXRsZT5PSURwbHVzIFVwZGF0ZTwvdGl0bGU+Cgk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgiPgoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0x'));
	@fwrite($fp, base64_decode('LjAiPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuLi9zZXR1cC9zZXR1cC5jc3MiPgoJPD9waHAKCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdSRUNBUFRDSEFfRU5BQkxFRCcsIGZhbHNlKSkgewoJPz4KCTxzY3JpcHQgc3JjPSJo'));
	@fwrite($fp, base64_decode('dHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMiPjwvc2NyaXB0PgoJPD9waHAKCX0KCT8+CjwvaGVhZD4KCjxib2R5PgoKPGgxPlVwZGF0ZSBPSURwbHVzPC9oMT4KCjw/cGhwCgppZiAoaXNzZXQoJF9SRVFVRVNUWyd1cGRhdGVfbm93J10pKSB7'));
	@fwrite($fp, base64_decode('CglpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX0VOQUJMRUQnLCBmYWxzZSkpIHsKCQkkc2VjcmV0ID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX1BSSVZBVEUnLCAnJyk7CgkJJHJlc3BvbnNl'));
	@fwrite($fp, base64_decode('ID0gJF9QT1NUWyJnLXJlY2FwdGNoYS1yZXNwb25zZSJdOwoJCSR2ZXJpZnkgPSBmaWxlX2dldF9jb250ZW50cygiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpL3NpdGV2ZXJpZnk/c2VjcmV0PXskc2VjcmV0fSZyZXNwb25zZT17JHJlc3BvbnNl'));
	@fwrite($fp, base64_decode('fSIpOwoJCSRjYXB0Y2hhX3N1Y2Nlc3MgPSBqc29uX2RlY29kZSgkdmVyaWZ5KTsKCX0KCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdSRUNBUFRDSEFfRU5BQkxFRCcsIGZhbHNlKSAmJiAoJGNhcHRjaGFfc3VjY2Vzcy0+c3VjY2Vzcz09ZmFs'));
	@fwrite($fp, base64_decode('c2UpKSB7CgkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+PGI+Q0FQVENIQSBub3Qgc3VjZXNzZnVsbHkgdmVyaWZpZWQ8L2I+PC9mb250PjwvcD4nOwoJCWVjaG8gJzxwPjxhIGhyZWY9ImluZGV4LnBocCI+VHJ5IGFnYWluPC9hPjwvcD4nOwoJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQlpZiAoIU9JRHBsdXNBdXRoVXRpbHM6OmFkbWluQ2hlY2tQYXNzd29yZCgkX1JFUVVFU1RbJ2FkbWluX3Bhc3N3b3JkJ10pKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPjxiPldyb25nIHBhc3N3b3JkPC9iPjwvZm9udD48L3A+JzsKCQkJZWNobyAn'));
	@fwrite($fp, base64_decode('PHA+PGEgaHJlZj0iaW5kZXgucGhwIj5UcnkgYWdhaW48L2E+PC9wPic7CgkJfSBlbHNlIHsKCQkJJHN2biA9IG5ldyBwaHBzdm5jbGllbnQoJ2h0dHBzOi8vc3ZuLnZpYXRoaW5rc29mdC5jb20vc3ZuL29pZHBsdXMnKTsKCQkJJHN2bi0+dmVyc2lvbkZpbGUgPSAn'));
	@fwrite($fp, base64_decode('b2lkcGx1c192ZXJzaW9uLnR4dCc7CgkJCWVjaG8gJzxoMj5VcGRhdGluZyAuLi48L2gyPic7CgoJCQlvYl9zdGFydCgpOwoJCQkkc3ZuLT51cGRhdGVXb3JraW5nQ29weShkaXJuYW1lKF9fRElSX18pLicvb2lkcGx1c192ZXJzaW9uLnR4dCcsICcvdHJ1bmsnLCBk'));
	@fwrite($fp, base64_decode('aXJuYW1lKF9fRElSX18pLCBmYWxzZSk7CgkJCSRjb250ID0gb2JfZ2V0X2NvbnRlbnRzKCk7CgkJCSRjb250ID0gc3RyX3JlcGxhY2UocmVhbHBhdGgoZGlybmFtZShfX0RJUl9fKSksICcuLi4nLCAkY29udCk7CgkJCW9iX2VuZF9jbGVhbigpOwoKCQkJZWNobyAn'));
	@fwrite($fp, base64_decode('PHByZT4nLiRjb250Lic8L3ByZT4nOwoKCQkJZWNobyAnPHA+PGEgaHJlZj0iaW5kZXgucGhwIj5CYWNrIHRvIHVwZGF0ZSBwYWdlPC9hPjwvcD4nOwoJCQllY2hvICc8aHI+JzsKCQl9Cgl9Cgp9IGVsc2UgewoKCWNsYXNzIFZOYWdNb25pdG9yRHVtbXkgZXh0ZW5k'));
	@fwrite($fp, base64_decode('cyBWTmFnIHsKCQlwcml2YXRlICRzdGF0dXM7CgkJcHJpdmF0ZSAkY29udGVudDsKCgkJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRzdGF0dXMsICRjb250ZW50KSB7CgkJCXBhcmVudDo6X19jb25zdHJ1Y3QoKTsKCQkJJHRoaXMtPnN0YXR1cyA9ICRzdGF0'));
	@fwrite($fp, base64_decode('dXM7CgkJCSR0aGlzLT5jb250ZW50ID0gJGNvbnRlbnQ7CgkJfQoKCQlwcm90ZWN0ZWQgZnVuY3Rpb24gY2JSdW4oJG9wdGlvbmFsX2FyZ3M9YXJyYXkoKSkgewoJCQkkdGhpcy0+c2V0U3RhdHVzKCR0aGlzLT5zdGF0dXMpOwoJCQkkdGhpcy0+c2V0SGVhZGxpbmUo'));
	@fwrite($fp, base64_decode('JHRoaXMtPmNvbnRlbnQpOwoJCX0KCX0KCgk/PgoKCTxwPjx1PlRoZXJlIGFyZSB0d28gcG9zc2liaWxpdGllcyBob3cgdG8ga2VlcCBPSURwbHVzIHVwLXRvLWRhdGU6PC91PjwvcD4KCgk8cD48Yj5NZXRob2QgQTwvYj46IEluc3RhbGwgT0lEcGx1cyB1c2luZyB0'));
	@fwrite($fp, base64_decode('aGUgc3VidmVyc2lvbiB0b29sIGluIHlvdXIgU1NIL0xpbnV4IHNoZWxsIHVzaW5nIHRoZSBjb21tYW5kIDxjb2RlPnN2biBjbyA8P3BocCBlY2hvIGh0bWxlbnRpdGllcyhPSURQTFVTX1JFUE8pOyA/Pi90cnVuazwvY29kZT4KCWFuZCB1cGRhdGUgaXQgcmVndWxh'));
	@fwrite($fp, base64_decode('cmx5IHdpdGggdGhlIGNvbW1hbmQgPGNvZGU+c3ZuIHVwZGF0ZTwvY29kZT4gLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseSBkb3dubG9hZCB0aGUgbGF0ZXN0IHZlcnNpb24gYW5kIGFsc28gY2hlY2sgZm9yCgljb25mbGljdHMuIEhpZ2hseSByZWNvbW1lbmRlZCBp'));
	@fwrite($fp, base64_decode('ZiB5b3UgaGF2ZSBhIFNoZWxsL1NTSCBhY2Nlc3MgdG8geW91ciB3ZWJzcGFjZSE8L3A+CgoJPHA+PGI+TWV0aG9kIEI6PC9iPiBJbnN0YWxsIE9JRHBsdXMgYnkgZG93bmxvYWRpbmcgYSBaSVAgZmlsZSBmcm9tIHd3dy52aWF0aGlua3NvZnQuY29tLCB3aGljaCBj'));
	@fwrite($fp, base64_decode('b250YWlucyBhIFNWTiBzbmFwc2hvdCwgYW5kIGV4dHJhY3QgaXQgdG8geW91ciB3ZWJzcGFjZS4KCVRoZSBaSVAgZmlsZSBjb250YWlucyBhIGZpbGUgbmFtZWQgIm9pZHBsdXNfdmVyc2lvbi50eHQiIHdoaWNoIGNvbnRhaW5zIHRoZSBTVk4gcmV2aXNpb24gb2Yg'));
	@fwrite($fp, base64_decode('dGhlIHNuYXBzaG90LiBUaGlzIHVwZGF0ZS10b29sIHdpbGwgdGhlbiB0cnkgdG8gdXBkYXRlIHlvdXIgZmlsZXMKCW9uLXRoZS1mbHkgYnkgZG93bmxvYWRpbmcgdGhlbSBmcm9tIHRoZSBWaWFUaGlua1NvZnQgU1ZOIHJlcG9zaXRvcnkgZGlyZWN0bHkgaW50byB5'));
	@fwrite($fp, base64_decode('b3VyIHdlYnNwYWNlIGRpcmVjdG9yeS4KCUEgY2hhbmdlIGNvbmZsaWN0IGRldGVjdGlvbiBpcyBOT1QgaW1wbGVtZW50ZWQuCglJdCBpcyByZXF1aXJlZCB0aGF0IHRoZSBmaWxlcyBvbiB5b3VyIHdlYnNwYWNlIGhhdmUKCWNyZWF0ZS93cml0ZS9kZWxldGUgcGVy'));
	@fwrite($fp, base64_decode('bWlzc2lvbnMuIE9ubHkgcmVjb21tZW5kZWQgaWYgeW91IGhhdmUgbm8gYWNjZXNzIHRvIHRoZSBTU0gvTGludXggc2hlbGwuPC9wPgoKCTxocj4KCgk8P3BocAoKCSRzdm5fd2NfZXhpc3RzID0gaXNfZGlyKE9JRHBsdXM6OmJhc2VQYXRoKCkuJy8uc3ZuJyk7Cgkk'));
	@fwrite($fp, base64_decode('c25hcHNob3RfZXhpc3RzID0gZmlsZV9leGlzdHMoT0lEcGx1czo6YmFzZVBhdGgoKS4nL29pZHBsdXNfdmVyc2lvbi50eHQnKTsKCglpZiAoJHN2bl93Y19leGlzdHMgJiYgJHNuYXBzaG90X2V4aXN0cykgewoJCWVjaG8gJzxmb250IGNvbG9yPSJyZWQiPkVSUk9S'));
	@fwrite($fp, base64_decode('OiBCb3RoLCBvaWRwbHVzX3ZlcnNpb24udHh0IGFuZCAuc3ZuIGRpcmVjdG9yeSBleGlzdCEgVGhlcmVmb3JlLCB0aGUgdmVyc2lvbiBpcyBhbWJpZ291cyE8L2ZvbnQ+JzsKCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX0NSSVRJQ0FM'));
	@fwrite($fp, base64_decode('LCAiRVJST1I6IEJvdGgsIG9pZHBsdXNfdmVyc2lvbi50eHQgYW5kIC5zdm4gZGlyZWN0b3J5IGV4aXN0ISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGlzIGFtYmlnb3VzISIpOwoJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IFZOYWc6Ok9VVFBVVF9ORVZFUjsK'));
	@fwrite($fp, base64_decode('CQkkam9iLT5ydW4oKTsKCQl1bnNldCgkam9iKTsKCX0gZWxzZSBpZiAoISRzdm5fd2NfZXhpc3RzICYmICEkc25hcHNob3RfZXhpc3RzKSB7CgkJZWNobyAnPGZvbnQgY29sb3I9InJlZCI+RVJST1I6IE5laXRoZXIgb2lkcGx1c192ZXJzaW9uLnR4dCwgbm9yIC5z'));
	@fwrite($fp, base64_decode('dm4gZGlyZWN0b3J5IGV4aXN0ISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGNhbm5vdCBiZSBkZXRlcm1pbmVkIGFuZCB0aGUgdXBkYXRlIG5lZWRzIHRvIGJlIGFwcGxpZWQgbWFudWFsbHkhPC9mb250Pic7CgkJJGpvYiA9IG5ldyBWTmFnTW9uaXRvckR1bW15KFZO'));
	@fwrite($fp, base64_decode('YWc6OlNUQVRVU19DUklUSUNBTCwgIk5laXRoZXIgb2lkcGx1c192ZXJzaW9uLnR4dCwgbm9yIC5zdm4gZGlyZWN0b3J5IGV4aXN0ISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGNhbm5vdCBiZSBkZXRlcm1pbmVkIGFuZCB0aGUgdXBkYXRlIG5lZWRzIHRvIGJlIGFw'));
	@fwrite($fp, base64_decode('cGxpZWQgbWFudWFsbHkhIik7CgkJJGpvYi0+aHR0cF92aXN1YWxfb3V0cHV0ID0gVk5hZzo6T1VUUFVUX05FVkVSOwoJCSRqb2ItPnJ1bigpOwoJCXVuc2V0KCRqb2IpOwoJfSBlbHNlIGlmICgkc3ZuX3djX2V4aXN0cykgewoJCWVjaG8gJzxwPllvdSBhcmUgdXNp'));
	@fwrite($fp, base64_decode('bmcgPGI+bWV0aG9kIEE8L2I+IChTVk4gd29ya2luZyBjb3B5KS48L3A+JzsKCgkJJGxvY2FsX2luc3RhbGxhdGlvbiA9IE9JRHBsdXM6OmdldFZlcnNpb24oKTsKCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQTFVTX1JFUE8pOwoJCSRuZXdlc3RfdmVyc2lv'));
	@fwrite($fp, base64_decode('biA9ICdzdm4tJy4kc3ZuLT5nZXRWZXJzaW9uKCk7CgkJCgkJZWNobyAnTG9jYWwgaW5zdGFsbGF0aW9uOiAnIC4gKCRsb2NhbF9pbnN0YWxsYXRpb24gPyAkbG9jYWxfaW5zdGFsbGF0aW9uIDogJ3Vua25vd24nKSAuICc8YnI+JzsKCQllY2hvICdMYXRlc3QgcHVi'));
	@fwrite($fp, base64_decode('bGlzaGVkIHZlcnNpb246ICcgLiAoJG5ld2VzdF92ZXJzaW9uID8gJG5ld2VzdF92ZXJzaW9uIDogJ3Vua25vd24nKSAuICc8YnI+JzsKCgkJaWYgKCEkbG9jYWxfaW5zdGFsbGF0aW9uKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPlRoZSBzeXN0ZW0g'));
	@fwrite($fp, base64_decode('Y291bGQgbm90IGRldGVybWluZSB0aGUgdmVyc2lvbiBvZiB5b3VyIHN5c3RlbS4gKFJlcXVpcmVkOiBzdm51cGRhdGUgc2hlbGwgYWNjZXNzIG9yIFNRTGl0ZTMpLiBQbGVhc2UgdXBkYXRlIHlvdXIgc3lzdGVtIG1hbnVhbGx5IHZpYSB0aGUgU1ZOICJ1cGRhdGUi'));
	@fwrite($fp, base64_decode('IGNvbW1hbmQgcmVndWxhcmx5LjwvZm9udD48L3A+JzsKCgkJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfV0FSTklORywgJ1RoZSBzeXN0ZW0gY291bGQgbm90IGRldGVybWluZSB0aGUgdmVyc2lvbiBvZiB5b3VyIHN5c3RlbS4gKFJl'));
	@fwrite($fp, base64_decode('cXVpcmVkOiBzdm51cGRhdGUgc2hlbGwgYWNjZXNzIG9yIFNRTGl0ZTMpLiBQbGVhc2UgdXBkYXRlIHlvdXIgc3lzdGVtIG1hbnVhbGx5IHZpYSB0aGUgU1ZOICJ1cGRhdGUiIGNvbW1hbmQgcmVndWxhcmx5LicpOwoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQg'));
	@fwrite($fp, base64_decode('PSBWTmFnOjpPVVRQVVRfTkVWRVI7CgkJCSRqb2ItPnJ1bigpOwoJCQl1bnNldCgkam9iKTsKCQl9IGVsc2UgaWYgKCRsb2NhbF9pbnN0YWxsYXRpb24gPT0gJG5ld2VzdF92ZXJzaW9uKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJncmVlbiI+WW91IGFyZSBh'));
	@fwrite($fp, base64_decode('bHJlYWR5IHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzLjwvZm9udD48L3A+JzsKCgkJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfT0ssICJZb3UgYXJlIHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVz'));
	@fwrite($fp, base64_decode('ICgkbG9jYWxfaW5zdGFsbGF0aW9uIGxvY2FsIC8gJG5ld2VzdF92ZXJzaW9uIHJlbW90ZSkiKTsKCQkJJGpvYi0+aHR0cF92aXN1YWxfb3V0cHV0ID0gVk5hZzo6T1VUUFVUX05FVkVSOwoJCQkkam9iLT5ydW4oKTsKCQkJdW5zZXQoJGpvYik7CgkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJZWNobyAnPHA+PGZvbnQgY29sb3I9ImJsdWUiPlBsZWFzZSBlbnRlciA8Y29kZT5zdm4gdXBkYXRlPC9jb2RlPiBpbnRvIHRoZSBTU0ggc2hlbGwgdG8gdXBkYXRlIE9JRHBsdXMgdG8gdGhlIGxhdGVzdCB2ZXJzaW9uLjwvZm9udD48L3A+JzsKCgkJCWVjaG8g'));
	@fwrite($fp, base64_decode('JzxoMj5QcmV2aWV3IG9mIHVwZGF0ZSAnLiRsb2NhbF9pbnN0YWxsYXRpb24uJyAmcmFycjsgJy4kbmV3ZXN0X3ZlcnNpb24uJzwvaDI+JzsKCQkJJHN2biA9IG5ldyBwaHBzdm5jbGllbnQoT0lEUExVU19SRVBPKTsKCgkJCW9iX3N0YXJ0KCk7CgkJCSRzdm4tPnVw'));
	@fwrite($fp, base64_decode('ZGF0ZVdvcmtpbmdDb3B5KHN0cl9yZXBsYWNlKCdzdm4tJywgJycsICRsb2NhbF9pbnN0YWxsYXRpb24pLCAnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgdHJ1ZSk7CgkJCSRjb250ID0gb2JfZ2V0X2NvbnRlbnRzKCk7CgkJCSRjb250ID0gc3RyX3JlcGxhY2Uo'));
	@fwrite($fp, base64_decode('cmVhbHBhdGgoZGlybmFtZShfX0RJUl9fKSksICcuLi4nLCAkY29udCk7CgkJCW9iX2VuZF9jbGVhbigpOwoKCQkJZWNobyAnPHByZT4nLiRjb250Lic8L3ByZT4nOwoKCQkJJGpvYiA9IG5ldyBWTmFnTW9uaXRvckR1bW15KFZOYWc6OlNUQVRVU19XQVJOSU5HLCAi'));
	@fwrite($fp, base64_decode('T0lEcGx1cyBpcyBvdXRkYXRlZC4gKCRsb2NhbF9pbnN0YWxsYXRpb24gbG9jYWwgLyAkbmV3ZXN0X3ZlcnNpb24gcmVtb3RlKSIpOwoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBWTmFnOjpPVVRQVVRfTkVWRVI7CgkJCSRqb2ItPnJ1bigpOwoJCQl1bnNl'));
	@fwrite($fp, base64_decode('dCgkam9iKTsKCQl9Cgl9IGVsc2UgaWYgKCRzbmFwc2hvdF9leGlzdHMpIHsKCQllY2hvICc8cD5Zb3UgYXJlIHVzaW5nIDxiPm1ldGhvZCBCPC9iPiAoU25hcHNob3QgWklQIGZpbGUgd2l0aCBvaWRwbHVzX3ZlcnNpb24udHh0IGZpbGUpLjwvcD4nOwoKCQkkbG9j'));
	@fwrite($fp, base64_decode('YWxfaW5zdGFsbGF0aW9uID0gT0lEcGx1czo6Z2V0VmVyc2lvbigpOwoJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9JRFBMVVNfUkVQTyk7CgkJJG5ld2VzdF92ZXJzaW9uID0gJ3N2bi0nLiRzdm4tPmdldFZlcnNpb24oKTsKCgkJZWNobyAnTG9jYWwgaW5zdGFs'));
	@fwrite($fp, base64_decode('bGF0aW9uOiAnIC4gJGxvY2FsX2luc3RhbGxhdGlvbi4nPGJyPic7CgkJZWNobyAnTGF0ZXN0IHB1Ymxpc2hlZCB2ZXJzaW9uOiAnIC4gJG5ld2VzdF92ZXJzaW9uLic8YnI+JzsKCgkJaWYgKCRsb2NhbF9pbnN0YWxsYXRpb24gPT0gJG5ld2VzdF92ZXJzaW9uKSB7'));
	@fwrite($fp, base64_decode('CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJncmVlbiI+WW91IGFyZSBhbHJlYWR5IHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzLjwvZm9udD48L3A+JzsKCgkJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfT0ssICJZ'));
	@fwrite($fp, base64_decode('b3UgYXJlIHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzICgkbG9jYWxfaW5zdGFsbGF0aW9uIGxvY2FsIC8gJG5ld2VzdF92ZXJzaW9uIHJlbW90ZSkiKTsKCQkJJGpvYi0+aHR0cF92aXN1YWxfb3V0cHV0ID0gVk5hZzo6T1VUUFVUX05FVkVSOwoJ'));
	@fwrite($fp, base64_decode('CQkkam9iLT5ydW4oKTsKCQkJdW5zZXQoJGpvYik7CgkJfSBlbHNlIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9ImJsdWUiPlRvIHVwZGF0ZSB5b3VyIE9JRHBsdXMgaW5zdGFsbGF0aW9uLCBwbGVhc2UgZW50ZXIgeW91ciBwYXNzd29yZCBhbmQgY2xpY2sgdGhl'));
	@fwrite($fp, base64_decode('IGJ1dHRvbiAiVXBkYXRlIE5PVyIuPC9mb250PjwvcD4nOwoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj5XQVJOSU5HOiBQbGVhc2UgbWFrZSBhIGJhY2t1cCBvZiB5b3VyIGZpbGVzIGJlZm9yZSB1cGRhdGluZy4gSW4gY2FzZSBvZiBhbiBlcnJvciwgdGhl'));
	@fwrite($fp, base64_decode('IE9JRHBsdXMgaW5zdGFsbGF0aW9uIChpbmNsdWRpbmcgdGhpcyB1cGRhdGUtYXNzaXN0YW50KSBtaWdodCBiZWNvbWUgdW5hdmFpbGFibGUuIEFsc28sIHNpbmNlIHRoZSB3ZWItdXBkYXRlIGRvZXMgbm90IGNvbnRhaW4gY29sbGlzc2lvbi1kZXRlY3Rpb24sIGNo'));
	@fwrite($fp, base64_decode('YW5nZXMgeW91IGhhdmUgYXBwbGllZCAobGlrZSBhZGRpbmcsIHJlbW92aW5nIG9yIG1vZGlmaWVkIGZpbGVzKSBtaWdodCBnZXQgcmV2ZXJ0ZWQvbG9zdCE8L2ZvbnQ+PC9wPic7CgkJCWVjaG8gJzxmb3JtIG1ldGhvZD0iUE9TVCIgYWN0aW9uPSJpbmRleC5waHAi'));
	@fwrite($fp, base64_decode('Pic7CgoJCQlpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX0VOQUJMRUQnLCBmYWxzZSkpIHsKCQkJCWVjaG8gJzxub3NjcmlwdD4nOwoJCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+WW91IG5lZWQgdG8gZW5hYmxlIEph'));
	@fwrite($fp, base64_decode('dmFTY3JpcHQgdG8gc29sdmUgdGhlIENBUFRDSEEuPC9mb250PjwvcD4nOwoJCQkJZWNobyAnPC9ub3NjcmlwdD4nOwoJCQkJZWNobyAnPHNjcmlwdD4gZ3JlY2FwdGNoYS5yZW5kZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImctcmVjYXB0Y2hhIiksIHsgInNp'));
	@fwrite($fp, base64_decode('dGVrZXkiIDogIicuT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX1BVQkxJQycsICcnKS4nIiB9KTsgPC9zY3JpcHQ+JzsKCQkJCWVjaG8gJzxkaXYgaWQ9ImctcmVjYXB0Y2hhIiBjbGFzcz0iZy1yZWNhcHRjaGEiIGRhdGEtc2l0ZWtl'));
	@fwrite($fp, base64_decode('eT0iJy5PSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdSRUNBUFRDSEFfUFVCTElDJywgJycpLiciPjwvZGl2Pic7CgkJCX0KCgkJCWVjaG8gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InVwZGF0ZV9ub3ciIHZhbHVlPSIxIj4nOwoJCQllY2hvICc8'));
	@fwrite($fp, base64_decode('aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9ImFkbWluX3Bhc3N3b3JkIj4nOwoJCQllY2hvICc8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iVXBkYXRlIE5PVyI+JzsKCQkJZWNobyAnPC9mb3JtPic7CgoJCQllY2hvICc8aDI+UHJldmlldyBvZiB1cGRhdGUg'));
	@fwrite($fp, base64_decode('Jy4kbG9jYWxfaW5zdGFsbGF0aW9uLicgJnJhcnI7ICcuJG5ld2VzdF92ZXJzaW9uLic8L2gyPic7CgkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9JRFBMVVNfUkVQTyk7CgoJCQlvYl9zdGFydCgpOwoJCQkkc3ZuLT51cGRhdGVXb3JraW5nQ29weShkaXJuYW1l'));
	@fwrite($fp, base64_decode('KF9fRElSX18pLicvb2lkcGx1c192ZXJzaW9uLnR4dCcsICcvdHJ1bmsnLCBkaXJuYW1lKF9fRElSX18pLCB0cnVlKTsKCQkJJGNvbnQgPSBvYl9nZXRfY29udGVudHMoKTsKCQkJJGNvbnQgPSBzdHJfcmVwbGFjZShyZWFscGF0aChkaXJuYW1lKF9fRElSX18pKSwg'));
	@fwrite($fp, base64_decode('Jy4uLicsICRjb250KTsKCQkJb2JfZW5kX2NsZWFuKCk7CgoJCQllY2hvICc8cHJlPicuJGNvbnQuJzwvcHJlPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX1dBUk5JTkcsICJPSURwbHVzIGlzIG91dGRhdGVkLiAoJGxvY2Fs'));
	@fwrite($fp, base64_decode('X2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IFZOYWc6Ok9VVFBVVF9ORVZFUjsKCQkJJGpvYi0+cnVuKCk7CgkJCXVuc2V0KCRqb2IpOwoJCX0KCX0KCgllY2hvICc8aHI+'));
	@fwrite($fp, base64_decode('JzsKCgllY2hvICc8cD48aW5wdXQgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJkb2N1bWVudC5sb2NhdGlvbj1cJy4uL1wnIiB2YWx1ZT0iR28gYmFjayB0byBPSURwbHVzIj48L3A+JzsKCgllY2hvICc8YnI+PGgyPkZpbGUgQ29tcGxldGVuZXNzIENoZWNrPC9oMj4n'));
	@fwrite($fp, base64_decode('OwoKCWVjaG8gJzxwPldpdGggdGhpcyBvcHRpb25hbCB0b29sLCB5b3UgY2FuIGNoZWNrIGlmIHlvdXIgT0lEcGx1cyBpbnN0YWxsYXRpb24gaXMgY29tcGxldGUgYW5kIG5vIGZpbGVzIGFyZSBtaXNzaW5nLjwvcD4nOwoKCWVjaG8gJzxmb3JtIG1ldGhvZD0iUE9T'));
	@fwrite($fp, base64_decode('VCIgYWN0aW9uPSJjaGVjay5waHAiPic7CglpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX0VOQUJMRUQnLCBmYWxzZSkpIHsKCQllY2hvICc8bm9zY3JpcHQ+JzsKCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj5Zb3UgbmVl'));
	@fwrite($fp, base64_decode('ZCB0byBlbmFibGUgSmF2YVNjcmlwdCB0byBzb2x2ZSB0aGUgQ0FQVENIQS48L2ZvbnQ+PC9wPic7CgkJZWNobyAnPC9ub3NjcmlwdD4nOwoJCWVjaG8gJzxzY3JpcHQ+IGdyZWNhcHRjaGEucmVuZGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnLXJlY2FwdGNo'));
	@fwrite($fp, base64_decode('YSIpLCB7ICJzaXRla2V5IiA6ICInLk9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9QVUJMSUMnLCAnJykuJyIgfSk7IDwvc2NyaXB0Pic7CgkJZWNobyAnPGRpdiBpZD0iZy1yZWNhcHRjaGEiIGNsYXNzPSJnLXJlY2FwdGNoYSIgZGF0'));
	@fwrite($fp, base64_decode('YS1zaXRla2V5PSInLk9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9QVUJMSUMnLCAnJykuJyI+PC9kaXY+JzsKCX0KCWlmICghaXNzZXQoJGxvY2FsX2luc3RhbGxhdGlvbikpICRsb2NhbF9pbnN0YWxsYXRpb24gPSAnc3ZuLSc7Cgll'));
	@fwrite($fp, base64_decode('Y2hvICc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzdm5fdmVyc2lvbiIgdmFsdWU9IicuKHN1YnN0cigkbG9jYWxfaW5zdGFsbGF0aW9uLHN0cmxlbignc3ZuLScpKSkuJyI+JzsKCWVjaG8gJzxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0iYWRtaW5fcGFz'));
	@fwrite($fp, base64_decode('c3dvcmQiPic7CgllY2hvICc8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iQ2hlY2siPic7CgllY2hvICc8cD5BdHRlbnRpb246IFRoaXMgd2lsbCB0YWtlIHNvbWUgdGltZSE8L3A+JzsKCWVjaG8gJzwvZm9ybT4nOwoKCWVjaG8gJzxoMj5WTmFnIGludGVncmF0'));
	@fwrite($fp, base64_decode('aW9uPC9oMj4nOwoKCWVjaG8gJzxwPkRpZCB5b3Uga25vdyB0aGF0IHRoaXMgcGFnZSBjb250YWlucyBhbiBpbnZpc2libGUgVk5hZyB0YWc/IFlvdSBjYW4gd2F0Y2ggdGhpcyBwYWdlIHVzaW5nIHRoZSAid2VicmVhZGVyIiBwbHVnaW4gb2YgVk5hZywgYW5kIHRo'));
	@fwrite($fp, base64_decode('ZW4gbW9uaXRvciBpdCB3aXRoIGFueSBOYWdpb3MgY29tcGF0aWJsZSBzb2Z0d2FyZSEgPGEgaHJlZj0iaHR0cHM6Ly93d3cudmlhdGhpbmtzb2Z0LmNvbS9wcm9qZWN0cy92bmFnIj5Nb3JlIGluZm9ybWF0aW9uPC9hPi48L3A+JzsKfQoKPz4KCjwvYm9keT4KPC9o'));
	@fwrite($fp, base64_decode('dG1sPgo='));
	@fclose($fp);
}
if (!is_file('update/index.php')) {
	warn('File has vanished! Will re-create it: update/index.php');
	writefile_3();
	if (!is_file('update/index.php')) {
		warn('File cannot be created (not existing): update/index.php');
	} else if (sha1_file('update/index.php') != '9a8cc910e3a38d3bceefda7b53bfffb9a0276a62') {
		warn('File cannot be created (checksum mismatch): update/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/index.php', 0644)) {
		warn('Could not change file permissions of update/index.php');
	}
} else {
	if (@sha1_file('update/index.php') !== '9a8cc910e3a38d3bceefda7b53bfffb9a0276a62') {
		if (@sha1_file('update/index.php') !== '40ce9137440794a4c2c03c3bac8cdddf62e1a550') {
			warn('File was modified. Will overwrite the changes now: update/index.php');
			$tmp = pathinfo('update/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('update/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('update/index.php') !== '9a8cc910e3a38d3bceefda7b53bfffb9a0276a62') {
			warn('File cannot be written (checksum mismatch): update/index.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 306\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 306') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

