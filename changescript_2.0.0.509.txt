<?php /* <ViaThinkSoftSignature>
lJ4xmc+woTQa74tULScCX0uDfBxCQlgIpgKhfuyzh8hKj4tvCrBYxtT2wIiZwSReX
94ihxHuhzYS7MBOvUFshzq4jvEe2v2xUhv82fVm4EULfa4pPdW8N71FKm0TNQgXUI
QXuZqm1pWceO/zhRGDiBZC0hIuetfkTOwmz/QuVnQgdWjOJwb7YYlqJkK/Chi3oee
he+7gzbnwSKIQqfQyqTAA31CFsT/UFOq7hsB2th46+qdkw72/BBIYkNHoJgYHjIwZ
nqVdc7hPoVRP8AliKwkcMLxE9LZZAosKzH0LuIWwmFO8Y0ttrnAPLsbzhsaaHlJyZ
hOerWtQvC1BZ4sZqznndS947ubQcVQQP5EaSn20cvjR33QtCUyZLxDHycgL4EbnGr
Zpu+qzTckBg9JS+cFyyaFR2gS5Whx47NtWyaEpBZawXs4qnbJxkmd6DJban4hyA7R
DUjr4QD5os19jGRAF0v/5U5DbmlnaZObCH3GyjorCWb75Y9yg0jFTAXvknX5/v4/N
wkSPsYsxqf6Fo7Z1Ba1KJo/T5HHu8lsw5fWRugDg2u6/uYuGTJxytDwaFBd1dqqr/
oBNJPQsrrM/KNA9hV5cMBd5x2GImqD6qpkeQADfXZ42R2rPXEMuUEMZspnp/Hc3ae
00rayfnfi75DIAk6xKQvdBP7lR6ubIRbN77cZtJ1LoncqmmwN1n8jrR1gWhs7xIKq
nTnswvhQpj3s+kR0DoCJ688XJ6C0GAlUSR6pSmfkGUchsfXBSGV22IdTn64X9NfcV
tJZKe+Kc0ZJCNkDyOveG1SVlxt0mqzZVMh1PVACidyOPFMxT2uwSo8J/UDrDd7Hox
x03RQEWCsSlCIp93QSUdYpJJN1ViZ2rNtUT8UAIltVNsT6tlxFssyAHpX7R12Smoe
13JuJw2NHCE6xeusJpyCjiRk+gTKGNoJZlb+Nd0bGUwKlaX2cqQwxjQ8w3ZD8jMEU
8IIZeS+tS3h2rYFGMrCagFUvRHKsmNQBNPI6g7GTIMKubggSX2kXGejz7KL+0pTcy
6fbG0giO5GUbcjEbTvamtUsLASrRkiuT9M4X1HSYCQnZbIxgb8MAloDnVI6BU99mw
8vcsx2/FWGtNJJ9kyDdTJYXkyN6h2clhDsDgMR527bnBjv+BGSTb2j2yx7/t0CVXb
SrBN5z0XmUtaWmOXl3EjZtYPXGXFq2sLD1o2lC2FNFlfiKP/4qRhBAtqslP61uOot
xYmQ15sjARvIysGnLnGr5UdATS8wmJvcBIVdUG6CNXDbmQ99P/UNRwVerlnarRauS
MeUzLSyp3mDspae2cVfkGSugDYrD+xJPB9PkDb1k7M4nnuqMoWdBfDYl2HqbbOOaw
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 508') {
	err('This update can only be applied to OIDplus version 2.0.0.508!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: update/index.php
function writefile_1() {
	@$fp = fopen('update/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmRlY2xhcmUodGlja3M9MSk7CgpAc2V0X3RpbWVfbGltaXQoMCk7CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCi8vIE5vdGU6IHdlIGRvbid0'));
	@fwrite($fp, base64_decode('IHdhbnQgdG8gdXNlIE9JRHBsdXM6OmluaXQoKSBpbiB0aGlzIHVwZGF0ZXIgKGl0IHNob3VsZCBiZSBpbmRlcGVuZGVudCBhcyBtdWNoIGFzIHBvc3NpYmxlKQpPSURwbHVzOjpiYXNlQ29uZmlnKCk7IC8vIFRoaXMgY2FsbCB3aWxsIHJlZGlyZWN0IHRvIHNldHVw'));
	@fwrite($fp, base64_decode('IGlmIHVzZXJkYXRhL2Jhc2Vjb25maWcvY29uZmlnLmluYy5waHAgaXMgbWlzc2luZwoKZGVmaW5lKCdPSURQTFVTX1JFUE8nLCAnaHR0cHM6Ly9zdm4udmlhdGhpbmtzb2Z0LmNvbS9zdm4vb2lkcGx1cycpOwoKPz48IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0i'));
	@fwrite($fp, base64_decode('PD9waHAgZWNobyBzdWJzdHIoT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKSwwLDIpOyA/PiI+Cgo8aGVhZD4KCTx0aXRsZT48P3BocCBlY2hvIF9MKCdPSURwbHVzIFVwZGF0ZScpOyA/PjwvdGl0bGU+Cgk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vaW5k'));
	@fwrite($fp, base64_decode('ZXgiPgoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIuLi9zZXR1cC9zZXR1cC5taW4uY3NzLnBocCI+Cgk8bGluayByZWw9InNo'));
	@fwrite($fp, base64_decode('b3J0Y3V0IGljb24iIHR5cGU9ImltYWdlL3gtaWNvbiIgaHJlZj0iLi4vZmF2aWNvbi5pY28ucGhwIj4KCTw/cGhwCglpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX0VOQUJMRUQnLCBmYWxzZSkpIHsKCT8+Cgk8c2NyaXB0IHNy'));
	@fwrite($fp, base64_decode('Yz0iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzIj48L3NjcmlwdD4KCTw/cGhwCgl9Cgk/Pgo8L2hlYWQ+Cgo8Ym9keT4KCjw/cGhwCgplY2hvICc8aDE+Jy5fTCgnVXBkYXRlIE9JRHBsdXMnKS4nPC9oMT4nOwoKaWYgKGlzc2V0KCRfUkVR'));
	@fwrite($fp, base64_decode('VUVTVFsndXBkYXRlX25vdyddKSkgewoJaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9FTkFCTEVEJywgZmFsc2UpKSB7CgkJJHNlY3JldCA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9QUklW'));
	@fwrite($fp, base64_decode('QVRFJywgJycpOwoJCSRyZXNwb25zZSA9ICRfUE9TVFsiZy1yZWNhcHRjaGEtcmVzcG9uc2UiXTsKCQkkdmVyaWZ5ID0gZmlsZV9nZXRfY29udGVudHMoImh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2FwaS9zaXRldmVyaWZ5P3NlY3JldD17JHNlY3Jl'));
	@fwrite($fp, base64_decode('dH0mcmVzcG9uc2U9eyRyZXNwb25zZX0iKTsKCQkkY2FwdGNoYV9zdWNjZXNzID0ganNvbl9kZWNvZGUoJHZlcmlmeSk7Cgl9CglpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUkVDQVBUQ0hBX0VOQUJMRUQnLCBmYWxzZSkgJiYgKCRjYXB0Y2hh'));
	@fwrite($fp, base64_decode('X3N1Y2Nlc3MtPnN1Y2Nlc3M9PWZhbHNlKSkgewoJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPjxiPicuX0woJ0NBUFRDSEEgbm90IHN1Y2Nlc3NmdWxseSB2ZXJpZmllZCcpLic8L2I+PC9mb250PjwvcD4nOwoJCWVjaG8gJzxwPjxhIGhyZWY9ImluZGV4LnBo'));
	@fwrite($fp, base64_decode('cCI+Jy5fTCgnVHJ5IGFnYWluJykuJzwvYT48L3A+JzsKCX0gZWxzZSB7CgkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKS0+YWRtaW5DaGVja1Bhc3N3b3JkKCRfUkVRVUVTVFsnYWRtaW5fcGFzc3dvcmQnXSkpIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJl'));
	@fwrite($fp, base64_decode('ZCI+PGI+Jy5fTCgnV3JvbmcgcGFzc3dvcmQnKS4nPC9iPjwvZm9udD48L3A+JzsKCQkJZWNobyAnPHA+PGEgaHJlZj0iaW5kZXgucGhwIj4nLl9MKCdUcnkgYWdhaW4nKS4nPC9hPjwvcD4nOwoJCX0gZWxzZSB7CgkJCWVjaG8gJzxoMj4nLl9MKCdVcGRhdGluZyAu'));
	@fwrite($fp, base64_decode('Li4nKS4nPC9oMj4nOwoKCQkJb2Jfc3RhcnQoKTsKCQkJdHJ5IHsKCQkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9JRFBMVVNfUkVQTyk7CgkJCQkkc3ZuLT52ZXJzaW9uRmlsZSA9ICdvaWRwbHVzX3ZlcnNpb24udHh0JzsKCgkJCQkvLyBXZSBhcmUgY2FjaGlu'));
	@fwrite($fp, base64_decode('ZyB0aGUgY2hhbmdlZCBmaWxlIGxvZ3MgaGVyZSBvbmx5IGluIHRoZSBwcmV2aWV3IG1vZGUuCgkJCQkvLyBSZWFzb246IFdlIHdhbnQgdG8gYXZvaWQgdGhhdCB0aGUgInVwZGF0ZS8iIHBhZ2UgYmVjb21lcyBhbgoJCQkJLy8gRG9TIGF0dGFjayB2ZWN0b3IgaWYg'));
	@fwrite($fp, base64_decode('dGhlcmUgaGFzbid0IGJlZW4gYW4gdXBkYXRlIGZvciBhIGxvbmcgdGltZSwKCQkJCS8vIGFuZCB0aGUgbGlzdCBpcyB2ZXJ5IGxhcmdlLgoJCQkJLy8gQnV0IHdlIGRvbid0IHdhbnQgdG8gdXNlIGNhY2hlIGluIHRoZSByZWFsIHVwZGF0ZSwgYmVjYXVzZQoJCQkJ'));
	@fwrite($fp, base64_decode('Ly8gb3RoZXJ3aXNlIGl0IG1pZ2h0IGJyZWFrIHRoZSBzeXN0ZW0gaWYgYW4gdXBkYXRlIGlzIG1hZGUKCQkJCS8vIHdoaWxlIHRoZSBWaWFUaGlua1NvZnQgc2VydmVyIGlzIGRvd24gKGJlY2F1c2UgdGhlIGZpbGUgbGlzdAoJCQkJLy8gaXMgY2FjaGVkLCBhbmQg'));
	@fwrite($fp, base64_decode('dGhlcmVmb3JlICJkZWxldGUiIGFjdGlvbnMgY2FuIGJlIG1hZGUsIHdoaWxlCgkJCQkvLyBhZGRpbmcvZG93bmxvYWRpbmcgZG9lcyBub3Qgd29yaykKCQkJCSRzdm4tPnVzZV9jYWNoZSA9IGZhbHNlOwoKCQkJCSRzdm4tPnVwZGF0ZVdvcmtpbmdDb3B5KHJlYWxw'));
	@fwrite($fp, base64_decode('YXRoKF9fRElSX18uJy8uLi9vaWRwbHVzX3ZlcnNpb24udHh0JyksICcvdHJ1bmsnLCBkaXJuYW1lKF9fRElSX18pLCBmYWxzZSk7CgoJCQkJJGNvbnQgPSBvYl9nZXRfY29udGVudHMoKTsKCQkJCSRjb250ID0gc3RyX3JlcGxhY2UocmVhbHBhdGgoX19ESVJfXy4n'));
	@fwrite($fp, base64_decode('Ly4uLycpLCAnLi4uJywgJGNvbnQpOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJCSRjb250ID0gX0woJ0Vycm9yOiAlMScsJGUtPmdldE1lc3NhZ2UoKSk7CgkJCX0KCQkJb2JfZW5kX2NsZWFuKCk7CgoJCQllY2hvICc8cHJlPicuJGNvbnQuJzwvcHJl'));
	@fwrite($fp, base64_decode('Pic7CgoJCQllY2hvICc8cD48aW5wdXQgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJkb2N1bWVudC5sb2NhdGlvbj1cJ2luZGV4LnBocFwnIiB2YWx1ZT0iJy5fTCgnR28gYmFjayB0byB1cGRhdGUgcGFnZScpLiciPjwvcD4nOwoKCQkJZWNobyAnPGhyPic7CgkJfQoJ'));
	@fwrite($fp, base64_decode('fQoKfSBlbHNlIHsKCgljbGFzcyBWTmFnTW9uaXRvckR1bW15IGV4dGVuZHMgVk5hZyB7CgkJcHJpdmF0ZSAkc3RhdHVzOwoJCXByaXZhdGUgJGNvbnRlbnQ7CgoJCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkc3RhdHVzLCAkY29udGVudCkgewoJCQlwYXJl'));
	@fwrite($fp, base64_decode('bnQ6Ol9fY29uc3RydWN0KCk7CgkJCSR0aGlzLT5zdGF0dXMgPSAkc3RhdHVzOwoJCQkkdGhpcy0+Y29udGVudCA9ICRjb250ZW50OwoJCX0KCgkJcHJvdGVjdGVkIGZ1bmN0aW9uIGNiUnVuKCRvcHRpb25hbF9hcmdzPWFycmF5KCkpIHsKCQkJJHRoaXMtPnNldFN0'));
	@fwrite($fp, base64_decode('YXR1cygkdGhpcy0+c3RhdHVzKTsKCQkJJHRoaXMtPnNldEhlYWRsaW5lKCR0aGlzLT5jb250ZW50KTsKCQl9Cgl9CgoJZWNobyAnPHA+PHU+Jy5fTCgnVGhlcmUgYXJlIHRocmVlIHBvc3NpYmlsaXRpZXMgaG93IHRvIGtlZXAgT0lEcGx1cyB1cC10by1kYXRlJyku'));
	@fwrite($fp, base64_decode('Jzo8L3U+PC9wPic7CgoJZWNobyAnPHA+PGI+Jy5fTCgnTWV0aG9kIEEnKS4nPC9iPjogJy5fTCgnSW5zdGFsbCBPSURwbHVzIHVzaW5nIHRoZSBzdWJ2ZXJzaW9uIHRvb2wgaW4geW91ciBTU0gvTGludXggc2hlbGwgdXNpbmcgdGhlIGNvbW1hbmQgPGNvZGU+c3Zu'));
	@fwrite($fp, base64_decode('IGNvICUxPC9jb2RlPiBhbmQgdXBkYXRlIGl0IHJlZ3VsYXJseSB3aXRoIHRoZSBjb21tYW5kIDxjb2RlPnN2biB1cGRhdGU8L2NvZGU+IC4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZG93bmxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uIGFuZCBjaGVjayBmb3IgY29u'));
	@fwrite($fp, base64_decode('ZmxpY3RzLiBIaWdobHkgcmVjb21tZW5kZWQgaWYgeW91IGhhdmUgYSBTaGVsbC9TU0ggYWNjZXNzIHRvIHlvdXIgd2Vic3BhY2UhJyxodG1sZW50aXRpZXMoT0lEUExVU19SRVBPKS4nL3RydW5rJykuJzwvcD4nOwoKCWVjaG8gJzxwPjxiPicuX0woJ01ldGhvZCBC'));
	@fwrite($fp, base64_decode('JykuJzwvYj46ICcuX0woJ0luc3RhbGwgT0lEcGx1cyB1c2luZyB0aGUgR2l0IGNsaWVudCBpbiB5b3VyIFNTSC9MaW51eCBzaGVsbCB1c2luZyB0aGUgY29tbWFuZCA8Y29kZT5naXQgY2xvbmUgJTE8L2NvZGU+IGFuZCB1cGRhdGUgaXQgcmVndWxhcmx5IHdpdGgg'));
	@fwrite($fp, base64_decode('dGhlIGNvbW1hbmQgPGNvZGU+Z2l0IHB1bGw8L2NvZGU+IC4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZG93bmxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uIGFuZCBjaGVjayBmb3IgY29uZmxpY3RzLiBIaWdobHkgcmVjb21tZW5kZWQgaWYgeW91IGhhdmUgYSBTaGVs'));
	@fwrite($fp, base64_decode('bC9TU0ggYWNjZXNzIHRvIHlvdXIgd2Vic3BhY2UhJywnaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbG1hcnNjaGFsbC9vaWRwbHVzLmdpdCcpLic8L3A+JzsKCgllY2hvICc8cD48Yj4nLl9MKCdNZXRob2QgQycpLic6PC9iPiAnLl9MKCdJbnN0YWxsIE9JRHBsdXMg'));
	@fwrite($fp, base64_decode('YnkgZG93bmxvYWRpbmcgYSBaSVAgZmlsZSBmcm9tIHd3dy52aWF0aGlua3NvZnQuY29tLCB3aGljaCBjb250YWlucyBhbiBTVk4gc25hcHNob3QsIGFuZCBleHRyYWN0IGl0IHRvIHlvdXIgd2Vic3BhY2UuIFRoZSBaSVAgZmlsZSBjb250YWlucyBhIGZpbGUgbmFt'));
	@fwrite($fp, base64_decode('ZWQgIm9pZHBsdXNfdmVyc2lvbi50eHQiIHdoaWNoIGNvbnRhaW5zIHRoZSBTVk4gcmV2aXNpb24gb2YgdGhlIHNuYXBzaG90LiBUaGlzIHVwZGF0ZS10b29sIHdpbGwgdGhlbiB0cnkgdG8gdXBkYXRlIHlvdXIgZmlsZXMgb24tdGhlLWZseSBieSBkb3dubG9hZGlu'));
	@fwrite($fp, base64_decode('ZyB0aGVtIGZyb20gdGhlIFZpYVRoaW5rU29mdCBTVk4gcmVwb3NpdG9yeSBkaXJlY3RseSBpbnRvIHlvdXIgd2Vic3BhY2UgZGlyZWN0b3J5LiBBIGNoYW5nZSBjb25mbGljdCBkZXRlY3Rpb24gaXMgTk9UIGltcGxlbWVudGVkLiBJdCBpcyByZXF1aXJlZCB0aGF0'));
	@fwrite($fp, base64_decode('IHRoZSBmaWxlcyBvbiB5b3VyIHdlYnNwYWNlIGhhdmUgY3JlYXRlL3dyaXRlL2RlbGV0ZSBwZXJtaXNzaW9ucy4gT25seSByZWNvbW1lbmRlZCBpZiB5b3UgaGF2ZSBubyBhY2Nlc3MgdG8gdGhlIFNTSC9MaW51eCBzaGVsbC4nKS4nPC9wPic7CgoJZWNobyAnPGhy'));
	@fwrite($fp, base64_decode('Pic7CgoJJGluc3RhbGxUeXBlID0gT0lEcGx1czo6Z2V0SW5zdGFsbFR5cGUoKTsKCglpZiAoJGluc3RhbGxUeXBlID09PSAnYW1iaWdvdXMnKSB7CgkJZWNobyAnPGZvbnQgY29sb3I9InJlZCI+Jy5zdHJ0b3VwcGVyKF9MKCdFcnJvcicpKS4nOiAnLl9MKCdNdWx0'));
	@fwrite($fp, base64_decode('aXBsZSB2ZXJzaW9uIGZpbGVzL2RpcmVjdG9yaWVzIChvaWRwbHVzX3ZlcnNpb24udHh0LCAuZ2l0IGFuZCAuc3ZuKSBhcmUgZXhpc3RpbmchIFRoZXJlZm9yZSwgdGhlIHZlcnNpb24gaXMgYW1iaWd1b3VzIScpLic8L2ZvbnQ+JzsKCQkkam9iID0gbmV3IFZOYWdN'));
	@fwrite($fp, base64_decode('b25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX0NSSVRJQ0FMLCAnTXVsdGlwbGUgdmVyc2lvbiBmaWxlcy9kaXJlY3RvcmllcyAob2lkcGx1c192ZXJzaW9uLnR4dCwgLmdpdCBhbmQgLnN2bikgYXJlIGV4aXN0aW5nISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGlzIGFt'));
	@fwrite($fp, base64_decode('YmlndW91cyEnKTsgLy8gZG8gbm90IHRyYW5zbGF0ZQoJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IFZOYWc6Ok9VVFBVVF9ORVZFUjsKCQkkam9iLT5ydW4oKTsKCQl1bnNldCgkam9iKTsKCX0gZWxzZSBpZiAoJGluc3RhbGxUeXBlID09PSAndW5rbm93bicp'));
	@fwrite($fp, base64_decode('IHsKCQllY2hvICc8Zm9udCBjb2xvcj0icmVkIj4nLnN0cnRvdXBwZXIoX0woJ0Vycm9yJykpLic6ICcuX0woJ1RoZSB2ZXJzaW9uIGNhbm5vdCBiZSBkZXRlcm1pbmVkLCBhbmQgdGhlIHVwZGF0ZSBuZWVkcyB0byBiZSBhcHBsaWVkIG1hbnVhbGx5IScpLic8L2Zv'));
	@fwrite($fp, base64_decode('bnQ+JzsKCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX0NSSVRJQ0FMLCAnVGhlIHZlcnNpb24gY2Fubm90IGJlIGRldGVybWluZWQsIGFuZCB0aGUgdXBkYXRlIG5lZWRzIHRvIGJlIGFwcGxpZWQgbWFudWFsbHkhJyk7IC8vIGRvIG5v'));
	@fwrite($fp, base64_decode('dCB0cmFuc2xhdGUKCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBWTmFnOjpPVVRQVVRfTkVWRVI7CgkJJGpvYi0+cnVuKCk7CgkJdW5zZXQoJGpvYik7Cgl9IGVsc2UgaWYgKCgkaW5zdGFsbFR5cGUgPT09ICdzdm4td2MnKSB8fCAoJGluc3RhbGxUeXBlID09'));
	@fwrite($fp, base64_decode('PSAnZ2l0LXdjJykpIHsKCQlpZiAoJGluc3RhbGxUeXBlID09PSAnc3ZuLXdjJykgewoJCQllY2hvICc8cD4nLl9MKCdZb3UgYXJlIHVzaW5nIDxiPm1ldGhvZCBBPC9iPiAoU1ZOIHdvcmtpbmcgY29weSkuJykuJzwvcD4nOwoJCX0gZWxzZSB7CgkJCWVjaG8gJzxw'));
	@fwrite($fp, base64_decode('PicuX0woJ1lvdSBhcmUgdXNpbmcgPGI+bWV0aG9kIEI8L2I+IChHaXQgd29ya2luZyBjb3B5KS4nKS4nPC9wPic7CgkJfQoKCQkkbG9jYWxfaW5zdGFsbGF0aW9uID0gT0lEcGx1czo6Z2V0VmVyc2lvbigpOwoJCXRyeSB7CgkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xp'));
	@fwrite($fp, base64_decode('ZW50KE9JRFBMVVNfUkVQTyk7CgkJCSRuZXdlc3RfdmVyc2lvbiA9ICdzdm4tJy4kc3ZuLT5nZXRWZXJzaW9uKCk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCSRuZXdlc3RfdmVyc2lvbiA9IGZhbHNlOwoJCX0KCgkJZWNobyBfTCgnTG9jYWwgaW5zdGFs'));
	@fwrite($fp, base64_decode('bGF0aW9uOiAlMScsKCRsb2NhbF9pbnN0YWxsYXRpb24gPyAkbG9jYWxfaW5zdGFsbGF0aW9uIDogX0woJ3Vua25vd24nKSkpLic8YnI+JzsKCQllY2hvIF9MKCdMYXRlc3QgcHVibGlzaGVkIHZlcnNpb246ICUxJywoJG5ld2VzdF92ZXJzaW9uID8gJG5ld2VzdF92'));
	@fwrite($fp, base64_decode('ZXJzaW9uIDogX0woJ3Vua25vd24nKSkpLic8YnI+JzsKCgkJJHJlcXVpcmVJbmZvID0gKCRpbnN0YWxsVHlwZSA9PT0gJ3N2bi13YycpID8gX0woJ3NoZWxsIGFjY2VzcyB3aXRoIHN2bi9zdm52ZXJzaW9uIHRvb2wsIG9yIFBETy9TUUxpdGUzIFBIUCBleHRlbnNp'));
	@fwrite($fp, base64_decode('b24nKSA6IF9MKCdzaGVsbCBhY2Nlc3Mgd2l0aCBHaXQgY2xpZW50Jyk7CgkJJHVwZGF0ZUNvbW1hbmQgPSAoJGluc3RhbGxUeXBlID09PSAnc3ZuLXdjJykgPyAnc3ZuIHVwZGF0ZScgOiAnZ2l0IHB1bGwnOwoKCQlpZiAoISRuZXdlc3RfdmVyc2lvbikgewoJCQll'));
	@fwrite($fp, base64_decode('Y2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj4nLl9MKCdPSURwbHVzIGNvdWxkIG5vdCBkZXRlcm1pbmUgdGhlIGxhdGVzdCB2ZXJzaW9uLiBQcm9iYWJseSB0aGUgVmlhVGhpbmtTb2Z0IHNlcnZlciBjb3VsZCBub3QgYmUgcmVhY2hlZC4nKS4nPC9mb250PjwvcD4n'));
	@fwrite($fp, base64_decode('OwoJCX0KCQllbHNlIGlmICghJGxvY2FsX2luc3RhbGxhdGlvbikgewoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj4nLl9MKCdPSURwbHVzIGNvdWxkIG5vdCBkZXRlcm1pbmUgaXRzIHZlcnNpb24uIChSZXF1aXJlZDogJTEpLiBQbGVhc2UgdXBkYXRlIHlv'));
	@fwrite($fp, base64_decode('dXIgc3lzdGVtIG1hbnVhbGx5IHZpYSB0aGUgIiUyIiBjb21tYW5kIHJlZ3VsYXJseS4nLCRyZXF1aXJlSW5mbywkdXBkYXRlQ29tbWFuZCkuJzwvZm9udD48L3A+JzsKCgkJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfV0FSTklORywg'));
	@fwrite($fp, base64_decode('J09JRHBsdXMgY291bGQgbm90IGRldGVybWluZSBpdHMgdmVyc2lvbi4gUGxlYXNlIHVwZGF0ZSB5b3VyIHN5c3RlbSBtYW51YWxseSB2aWEgdGhlICInLiR1cGRhdGVDb21tYW5kLiciIGNvbW1hbmQgcmVndWxhcmx5LicpOyAvLyBkbyBub3QgdHJhbnNsYXRlCgkJ'));
	@fwrite($fp, base64_decode('CSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IFZOYWc6Ok9VVFBVVF9ORVZFUjsKCQkJJGpvYi0+cnVuKCk7CgkJCXVuc2V0KCRqb2IpOwoJCX0gZWxzZSBpZiAoJGxvY2FsX2luc3RhbGxhdGlvbiA9PSAkbmV3ZXN0X3ZlcnNpb24pIHsKCQkJZWNobyAnPHA+PGZv'));
	@fwrite($fp, base64_decode('bnQgY29sb3I9ImdyZWVuIj4nLl9MKCdZb3UgYXJlIGFscmVhZHkgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIE9JRHBsdXMuJykuJzwvZm9udD48L3A+JzsKCgkJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfT0ssICdZb3UgYXJl'));
	@fwrite($fp, base64_decode('IHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzICgnLiRsb2NhbF9pbnN0YWxsYXRpb24uJyBsb2NhbCAvICcuJG5ld2VzdF92ZXJzaW9uLicgcmVtb3RlKScpOyAvLyBkbyBub3QgdHJhbnNsYXRlCgkJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9'));
	@fwrite($fp, base64_decode('IFZOYWc6Ok9VVFBVVF9ORVZFUjsKCQkJJGpvYi0+cnVuKCk7CgkJCXVuc2V0KCRqb2IpOwoJCX0gZWxzZSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJibHVlIj4nLl9MKCdQbGVhc2UgZW50ZXIgJTEgaW50byB0aGUgU1NIIHNoZWxsIHRvIHVwZGF0ZSBPSURw'));
	@fwrite($fp, base64_decode('bHVzIHRvIHRoZSBsYXRlc3QgdmVyc2lvbi4nLCc8Y29kZT4nLiR1cGRhdGVDb21tYW5kLic8L2NvZGU+JykuJzwvZm9udD48L3A+JzsKCgkJCWVjaG8gJzxoMj4nLl9MKCdQcmV2aWV3IG9mIHVwZGF0ZSAlMSAmcmFycjsgJTInLCRsb2NhbF9pbnN0YWxsYXRpb24s'));
	@fwrite($fp, base64_decode('JG5ld2VzdF92ZXJzaW9uKS4nPC9oMj4nOwoKCQkJb2Jfc3RhcnQoKTsKCQkJdHJ5IHsKCQkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9JRFBMVVNfUkVQTyk7CgkJCQkkc3ZuLT51c2VfY2FjaGUgPSB0cnVlOwoJCQkJJHN2bi0+dXBkYXRlV29ya2luZ0NvcHko'));
	@fwrite($fp, base64_decode('c3RyX3JlcGxhY2UoJ3N2bi0nLCAnJywgJGxvY2FsX2luc3RhbGxhdGlvbiksICcvdHJ1bmsnLCByZWFscGF0aChfX0RJUl9fLicvLi4vJyksIHRydWUpOwoJCQkJJGNvbnQgPSBvYl9nZXRfY29udGVudHMoKTsKCQkJCSRjb250ID0gc3RyX3JlcGxhY2UocmVhbHBh'));
	@fwrite($fp, base64_decode('dGgoX19ESVJfXy4nLy4uLycpLCAnLi4uJywgJGNvbnQpOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJCSRjb250ID0gX0woJ0Vycm9yOiAlMScsJGUtPmdldE1lc3NhZ2UoKSk7CgkJCX0KCQkJb2JfZW5kX2NsZWFuKCk7CgoJCQllY2hvICc8cHJlPicu'));
	@fwrite($fp, base64_decode('JGNvbnQuJzwvcHJlPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX1dBUk5JTkcsICdPSURwbHVzIGlzIG91dGRhdGVkLiAoJy4kbG9jYWxfaW5zdGFsbGF0aW9uLicgbG9jYWwgLyAnLiRuZXdlc3RfdmVyc2lvbi4nIHJlbW90'));
	@fwrite($fp, base64_decode('ZSknKTsgLy8gZG8gbm90IHRyYW5zbGF0ZQoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBWTmFnOjpPVVRQVVRfTkVWRVI7CgkJCSRqb2ItPnJ1bigpOwoJCQl1bnNldCgkam9iKTsKCQl9Cgl9IGVsc2UgaWYgKCRpbnN0YWxsVHlwZSA9PT0gJ3N2bi1zbmFw'));
	@fwrite($fp, base64_decode('c2hvdCcpIHsKCQllY2hvICc8cD4nLl9MKCdZb3UgYXJlIHVzaW5nIDxiPm1ldGhvZCBDPC9iPiAoU25hcHNob3QgWklQIGZpbGUgd2l0aCBvaWRwbHVzX3ZlcnNpb24udHh0IGZpbGUpLicpLic8L3A+JzsKCgkJJGxvY2FsX2luc3RhbGxhdGlvbiA9IE9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmdldFZlcnNpb24oKTsKCQl0cnkgewoJCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQTFVTX1JFUE8pOwoJCQkkbmV3ZXN0X3ZlcnNpb24gPSAnc3ZuLScuJHN2bi0+Z2V0VmVyc2lvbigpOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkkbmV3ZXN0'));
	@fwrite($fp, base64_decode('X3ZlcnNpb24gPSBmYWxzZTsKCQl9CgoJCWVjaG8gX0woJ0xvY2FsIGluc3RhbGxhdGlvbjogJTEnLCgkbG9jYWxfaW5zdGFsbGF0aW9uID8gJGxvY2FsX2luc3RhbGxhdGlvbiA6IF9MKCd1bmtub3duJykpKS4nPGJyPic7CgkJZWNobyBfTCgnTGF0ZXN0IHB1Ymxp'));
	@fwrite($fp, base64_decode('c2hlZCB2ZXJzaW9uOiAlMScsKCRuZXdlc3RfdmVyc2lvbiA/ICRuZXdlc3RfdmVyc2lvbiA6IF9MKCd1bmtub3duJykpKS4nPGJyPic7CgoJCWlmICghJG5ld2VzdF92ZXJzaW9uKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPicuX0woJ09JRHBsdXMg'));
	@fwrite($fp, base64_decode('Y291bGQgbm90IGRldGVybWluZSB0aGUgbGF0ZXN0IHZlcnNpb24uIFByb2JhYmx5IHRoZSBWaWFUaGlua1NvZnQgc2VydmVyIGNvdWxkIG5vdCBiZSByZWFjaGVkLicpLic8L2ZvbnQ+PC9wPic7CgkJfQoJCWVsc2UgaWYgKCRsb2NhbF9pbnN0YWxsYXRpb24gPT0g'));
	@fwrite($fp, base64_decode('JG5ld2VzdF92ZXJzaW9uKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJncmVlbiI+Jy5fTCgnWW91IGFyZSBhbHJlYWR5IHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzLicpLic8L2ZvbnQ+PC9wPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25p'));
	@fwrite($fp, base64_decode('dG9yRHVtbXkoVk5hZzo6U1RBVFVTX09LLCAnWW91IGFyZSB1c2luZyB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgT0lEcGx1cyAoJy4kbG9jYWxfaW5zdGFsbGF0aW9uLicgbG9jYWwgLyAnLiRuZXdlc3RfdmVyc2lvbi4nIHJlbW90ZSknKTsgLy8gZG8gbm90IHRyYW5z'));
	@fwrite($fp, base64_decode('bGF0ZQoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBWTmFnOjpPVVRQVVRfTkVWRVI7CgkJCSRqb2ItPnJ1bigpOwoJCQl1bnNldCgkam9iKTsKCQl9IGVsc2UgewoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0iYmx1ZSI+Jy5fTCgnVG8gdXBkYXRlIHlvdXIg'));
	@fwrite($fp, base64_decode('T0lEcGx1cyBzeXN0ZW0sIHBsZWFzZSBlbnRlciB0aGUgYWRtaW5pc3RyYXRvciBwYXNzd29yZCBhbmQgY2xpY2sgdGhlIGJ1dHRvbiAiVXBkYXRlIE5PVyIuJykuJzwvZm9udD48L3A+JzsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+Jy5zdHJ0b3VwcGVy'));
	@fwrite($fp, base64_decode('KF9MKCdXYXJuaW5nJykpLic6ICcuX0woJ1BsZWFzZSBtYWtlIGEgYmFja3VwIG9mIHlvdXIgZmlsZXMgYmVmb3JlIHVwZGF0aW5nLiBJbiBjYXNlIG9mIGFuIGVycm9yLCB0aGUgT0lEcGx1cyBzeXN0ZW0gKGluY2x1ZGluZyB0aGlzIHVwZGF0ZS1hc3Npc3RhbnQp'));
	@fwrite($fp, base64_decode('IG1pZ2h0IGJlY29tZSB1bmF2YWlsYWJsZS4gQWxzbywgc2luY2UgdGhlIHdlYi11cGRhdGUgZG9lcyBub3QgY29udGFpbiBjb2xsaXNpb24tZGV0ZWN0aW9uLCBjaGFuZ2VzIHlvdSBoYXZlIGFwcGxpZWQgKGxpa2UgYWRkaW5nLCByZW1vdmluZyBvciBtb2RpZmll'));
	@fwrite($fp, base64_decode('ZCBmaWxlcykgbWlnaHQgZ2V0IHJldmVydGVkL2xvc3QhIEluIGNhc2UgdGhlIHVwZGF0ZSBmYWlscywgeW91IGNhbiBkb3dubG9hZCBhbmQgZXh0cmFjdCB0aGUgY29tcGxldGUgPGEgaHJlZj0iaHR0cHM6Ly93d3cudmlhdGhpbmtzb2Z0LmNvbS9wcm9qZWN0cy9v'));
	@fwrite($fp, base64_decode('aWRwbHVzIj5TVk4tU25hcHNob3QgWklQIGZpbGU8L2E+IGFnYWluLiBTaW5jZSBhbGwgeW91ciBkYXRhIHNob3VsZCBsYXkgaW5zaWRlIHRoZSBmb2xkZXIgInVzZXJkYXRhIiwgdGhpcyBzaG91bGQgYmUgc2FmZS4nKS4nPC9mb250PjwvcD4nOwoJCQllY2hvICc8'));
	@fwrite($fp, base64_decode('Zm9ybSBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iaW5kZXgucGhwIj4nOwoKCQkJaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9FTkFCTEVEJywgZmFsc2UpKSB7CgkJCQllY2hvICc8bm9zY3JpcHQ+JzsKCQkJCWVjaG8gJzxwPjxm'));
	@fwrite($fp, base64_decode('b250IGNvbG9yPSJyZWQiPicuX0woJ1lvdSBuZWVkIHRvIGVuYWJsZSBKYXZhU2NyaXB0IHRvIHNvbHZlIHRoZSBDQVBUQ0hBLicpLic8L2ZvbnQ+PC9wPic7CgkJCQllY2hvICc8L25vc2NyaXB0Pic7CgkJCQllY2hvICc8c2NyaXB0PiBncmVjYXB0Y2hhLnJlbmRl'));
	@fwrite($fp, base64_decode('cihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZy1yZWNhcHRjaGEiKSwgeyAic2l0ZWtleSIgOiAiJy5PSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdSRUNBUFRDSEFfUFVCTElDJywgJycpLiciIH0pOyA8L3NjcmlwdD4nOwoJCQkJZWNobyAnPGRpdiBp'));
	@fwrite($fp, base64_decode('ZD0iZy1yZWNhcHRjaGEiIGNsYXNzPSJnLXJlY2FwdGNoYSIgZGF0YS1zaXRla2V5PSInLk9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9QVUJMSUMnLCAnJykuJyI+PC9kaXY+JzsKCQkJfQoKCQkJZWNobyAnPGlucHV0IHR5cGU9Imhp'));
	@fwrite($fp, base64_decode('ZGRlbiIgbmFtZT0idXBkYXRlX25vdyIgdmFsdWU9IjEiPic7CgkJCWVjaG8gJzxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0iYWRtaW5fcGFzc3dvcmQiPic7CgkJCWVjaG8gJzxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSInLl9MKCdVcGRhdGUgTk9XJyku'));
	@fwrite($fp, base64_decode('JyI+JzsKCQkJZWNobyAnPC9mb3JtPic7CgoJCQllY2hvICc8aDI+Jy5fTCgnUHJldmlldyBvZiB1cGRhdGUgJTEgJnJhcnI7ICUyJywkbG9jYWxfaW5zdGFsbGF0aW9uLCRuZXdlc3RfdmVyc2lvbikuJzwvaDI+JzsKCgkJCW9iX3N0YXJ0KCk7CgkJCXRyeSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQTFVTX1JFUE8pOwoJCQkJJHN2bi0+dXNlX2NhY2hlID0gdHJ1ZTsKCQkJCSRzdm4tPnVwZGF0ZVdvcmtpbmdDb3B5KHJlYWxwYXRoKF9fRElSX18uJy8uLi9vaWRwbHVzX3ZlcnNpb24udHh0JyksICcvdHJ1bmsn'));
	@fwrite($fp, base64_decode('LCByZWFscGF0aChfX0RJUl9fLicvLi4vJyksIHRydWUpOwoJCQkJJGNvbnQgPSBvYl9nZXRfY29udGVudHMoKTsKCQkJCSRjb250ID0gc3RyX3JlcGxhY2UocmVhbHBhdGgoX19ESVJfXy4nLy4uLycpLCAnLi4uJywgJGNvbnQpOwoJCQl9IGNhdGNoIChFeGNlcHRp'));
	@fwrite($fp, base64_decode('b24gJGUpIHsKCQkJCSRjb250ID0gX0woJ0Vycm9yOiAlMScsJGUtPmdldE1lc3NhZ2UoKSk7CgkJCX0KCQkJb2JfZW5kX2NsZWFuKCk7CgoJCQllY2hvICc8cHJlPicuJGNvbnQuJzwvcHJlPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6'));
	@fwrite($fp, base64_decode('U1RBVFVTX1dBUk5JTkcsICdPSURwbHVzIGlzIG91dGRhdGVkLiAoJy4kbG9jYWxfaW5zdGFsbGF0aW9uLicgbG9jYWwgLyAnLiRuZXdlc3RfdmVyc2lvbi4nIHJlbW90ZSknKTsgLy8gZG8gbm90IHRyYW5zbGF0ZQoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQg'));
	@fwrite($fp, base64_decode('PSBWTmFnOjpPVVRQVVRfTkVWRVI7CgkJCSRqb2ItPnJ1bigpOwoJCQl1bnNldCgkam9iKTsKCQl9Cgl9CgoJZWNobyAnPGhyPic7CgoJZWNobyAnPHA+PGlucHV0IHR5cGU9ImJ1dHRvbiIgb25jbGljaz0iZG9jdW1lbnQubG9jYXRpb249XCcuLi9cJyIgdmFsdWU9'));
	@fwrite($fp, base64_decode('IicuX0woJ0dvIGJhY2sgdG8gT0lEcGx1cycpLiciPjwvcD4nOwoKCWVjaG8gJzxicj48aDI+Jy5fTCgnRmlsZSBDb21wbGV0ZW5lc3MgQ2hlY2snKS4nPC9oMj4nOwoKCWVjaG8gJzxwPicuX0woJ1dpdGggdGhpcyBvcHRpb25hbCB0b29sLCB5b3UgY2FuIGNoZWNr'));
	@fwrite($fp, base64_decode('IGlmIHlvdXIgT0lEcGx1cyBpbnN0YWxsYXRpb24gaXMgY29tcGxldGUgYW5kIG5vIGZpbGVzIGFyZSBtaXNzaW5nLicpLic8L3A+JzsKCgllY2hvICc8cD4nLl9MKCdQbGVhc2UgZW50ZXIgeW91ciBhZG1pbmlzdHJhdG9yIHBhc3N3b3JkIHRvIHJ1biB0aGUgdG9v'));
	@fwrite($fp, base64_decode('bC4nKS4nPC9wPic7CgoJZWNobyAnPGZvcm0gbWV0aG9kPSJQT1NUIiBhY3Rpb249ImNoZWNrLnBocCI+JzsKCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdSRUNBUFRDSEFfRU5BQkxFRCcsIGZhbHNlKSkgewoJCWVjaG8gJzxub3NjcmlwdD4n'));
	@fwrite($fp, base64_decode('OwoJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPicuX0woJ1lvdSBuZWVkIHRvIGVuYWJsZSBKYXZhU2NyaXB0IHRvIHNvbHZlIHRoZSBDQVBUQ0hBLicpLic8L2ZvbnQ+PC9wPic7CgkJZWNobyAnPC9ub3NjcmlwdD4nOwoJCWVjaG8gJzxzY3JpcHQ+IGdyZWNh'));
	@fwrite($fp, base64_decode('cHRjaGEucmVuZGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnLXJlY2FwdGNoYSIpLCB7ICJzaXRla2V5IiA6ICInLk9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9QVUJMSUMnLCAnJykuJyIgfSk7IDwvc2NyaXB0Pic7CgkJZWNo'));
	@fwrite($fp, base64_decode('byAnPGRpdiBpZD0iZy1yZWNhcHRjaGEiIGNsYXNzPSJnLXJlY2FwdGNoYSIgZGF0YS1zaXRla2V5PSInLk9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1JFQ0FQVENIQV9QVUJMSUMnLCAnJykuJyI+PC9kaXY+JzsKCX0KCWlmICghaXNzZXQoJGxvY2Fs'));
	@fwrite($fp, base64_decode('X2luc3RhbGxhdGlvbikpICRsb2NhbF9pbnN0YWxsYXRpb24gPSAnc3ZuLSc7CgllY2hvICc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzdm5fdmVyc2lvbiIgdmFsdWU9IicuKHN1YnN0cigkbG9jYWxfaW5zdGFsbGF0aW9uLHN0cmxlbignc3ZuLScpKSkuJyI+'));
	@fwrite($fp, base64_decode('JzsKCWVjaG8gJzxpbnB1dCB0eXBlPSJwYXNzd29yZCIgbmFtZT0iYWRtaW5fcGFzc3dvcmQiPic7CgllY2hvICc8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iJy5fTCgnQ2hlY2snKS4nIj4nOwoJZWNobyAnPHA+Jy5fTCgnQXR0ZW50aW9uOiBUaGlzIHdpbGwg'));
	@fwrite($fp, base64_decode('dGFrZSBzb21lIHRpbWUhJykuJzwvcD4nOwoJZWNobyAnPC9mb3JtPic7CgoJZWNobyAnPGgyPicuX0woJ1ZOYWcgaW50ZWdyYXRpb24nKS4nPC9oMj4nOwoKCWVjaG8gJzxwPicuX0woJ0RpZCB5b3Uga25vdyB0aGF0IHRoaXMgcGFnZSBjb250YWlucyBhbiBpbnZp'));
	@fwrite($fp, base64_decode('c2libGUgVk5hZyB0YWc/IFlvdSBjYW4gd2F0Y2ggdGhpcyBwYWdlIHVzaW5nIHRoZSAid2VicmVhZGVyIiBwbHVnaW4gb2YgVk5hZywgYW5kIHRoZW4gbW9uaXRvciBpdCB3aXRoIGFueSBOYWdpb3MgY29tcGF0aWJsZSBzb2Z0d2FyZSEgPGEgaHJlZj0iaHR0cHM6'));
	@fwrite($fp, base64_decode('Ly93d3cudmlhdGhpbmtzb2Z0LmNvbS9wcm9qZWN0cy92bmFnIj5Nb3JlIGluZm9ybWF0aW9uPC9hPi4nKS4nPC9wPic7Cn0KCj8+Cgo8L2JvZHk+CjwvaHRtbD4K'));
	@fclose($fp);
}
if (!is_file('update/index.php')) {
	warn('File has vanished! Will re-create it: update/index.php');
	writefile_1();
	if (!is_file('update/index.php')) {
		warn('File cannot be created (not existing): update/index.php');
	} else if (sha1_file('update/index.php') != '3845646cc64806636fdc1d3f64fbad86f730efa5') {
		warn('File cannot be created (checksum mismatch): update/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/index.php', 0644)) {
		warn('Could not change file permissions of update/index.php');
	}
} else {
	if (@sha1_file('update/index.php') !== '3845646cc64806636fdc1d3f64fbad86f730efa5') {
		if (@sha1_file('update/index.php') !== '8bdbbf40e3b4f1aa124ca90c847fd0c46d59449b') {
			warn('File was modified. Will overwrite the changes now: update/index.php');
			$tmp = pathinfo('update/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('update/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('update/index.php') !== '3845646cc64806636fdc1d3f64fbad86f730efa5') {
			warn('File cannot be written (checksum mismatch): update/index.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 509\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 509') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

