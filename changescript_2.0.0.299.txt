<?php /* <ViaThinkSoftSignature>
pmtSvSEIqeZ4KnjWJA7wo/pe03h24VfsZghupYdQwBd5gdJdDCrZLI/z3APz6XZno
wBPeBeq09HfpmLPk7fMp0BAxDycW/qNnC3GrYhyQdgnqIu6LhVGJIHPwTuUoLCaQR
SaXDP7TSZaQKARJNmvXZAFxIR9NZgLCFd9HAlTQ58LeVmnSzpxeTtLrltrwxEb2IZ
6ImYc3L/AtSJwZBCZaWHE8X5SszHsa2JrxIf8Iu1BULEug5SLJoJakHLGywAYXhZy
xNzK72KTqSec57eVl8AoxYdOM6/50z50oXL378nu2zWj91h/VlQi0kyZeBsQ4BU5I
TcsqgEaiZ1FfQNDdtUew+YiNMHk9qTjYWMyaYR30IBo/IYPPxP1WhGRVvOdg1/ylf
u/+wq1dE4KwDmfe7N0JRg6huZQeJkPqnmd9G9t6PhcsrOUE7l8iDPktXHtwM1Nqx8
Gv81pcqbbMXQKwOr77zn5A0eHfEXIP4LzZMy0fyTg6dgyOejqfen15n8Idh12dPiZ
AwXKMmE17PMW2VUelItzZ+t+lzqz5JcFXx6+SypG/VQq6BwLg+GtF3hu44lttqh83
FrVA6l860EGWLXbSlEfa3mu8vA6naVKwOBoCrldCtTsKesnQhOEQjtKvXQzlm4ZEs
QessLq4skaBUQOnVtgmXn+KQe+QE3MYXkHiFBBIVp1SELJhm4PWtYuxXomM5Pjufd
9o6ynqed9JhVxQ0zkwoR0HxIAObTO8Yb02f9GbfiOPQun32BdCWr4MLaIeAQeoAYS
ZvZszaun4oDzYTWggvMCSU1td0VveuFVlf3aGsBPOHxhaSkJWJd2q8gWRe75/ewMY
XV4giiLuOz9OS3dfg1nKsRy/e5ZsEd1Z2rPdxEmMPtSEAHBOKYIlPIP1fIqjLmp6O
QNonRoGKxxi/b4vwSDWwY+QpY8qxVUu1pvGg3w42BAzxwe92OHS8/lA9EDulf8zk7
UTMMQ6F+zojbiZ94Ei82n+fEoqHp+giZBwRuL9YGgHVXzRwGuS7JJRNt7GsyRlZWb
WyuxAI+EXOX3wG6/lGJV1ANkRj1O1tTAG/gfuH1jZTJlsn6xT0lEl/GILkrf/iq75
y+6Z/n6sziDrEcs5ULeyPNCdd5iFGG0y98aMY+ZbFIrJ5zDsU2fnOQQ0J/VXskZds
sr/uOpLaMuBe4iGr/mE6B7oI+LWnQAcdjODL1Do2X26dZxHhaGx33WfFQmjOGhNeJ
WLElhPD2I2ZA94rJ4j5mtQqnB2HeRjsPg45MKZeUf9ADG0C3KG0PQGZrvgAdiivVL
uUqcCJHH0Ef7ilT18xJMOeSoPDaATG7SbsoU6qjCEct9WxVZoPbLMMx6TCII6THD+
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 298') {
	err('This update can only be applied to OIDplus version 2.0.0.298!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: TODO
function writefile_1() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('ClJFQ0VOVCBTVFVGRgotIENvb2tpZSBsYXc6CglEb3dubG9hZCBDb29raWVDb25zZW50IGNvZGUgaW50byBfM3AgZm9sZGVyLCBkbyBub3QgaG90bGluayBpdAoJd2UgbmVlZCB0byBsb2cgYWxsIGNvbnNlbnRzCglkbyB3ZSBuZWVkIGFuIGV4cGxpY2l0IGNvbnNl'));
	@fwrite($fp, base64_decode('bnQgYXQgdGhlIGxvZ2luIGZvcm0/CglkbyB3ZSBuZWVkIGEgY29uc2VudCBmb3IgdGhlIGNvb2tpZSBTU0xfQ0hFQ0s/Ci0gVmVyaWZ5IHRoYXQgbG9nZ2VyIHdvcmtzIGNvcnJlY3RseSwgY2hlY2sgaWYgYWxsIGxvZ21hc2tzIGFyZSBjb3JyZWN0Ci0gdGhlIGlu'));
	@fwrite($fp, base64_decode('YWN0aXZpdHkgdGltZXIgaXMgbXVjaCB0b28gZmFzdCEKLSBEb2VzIHRoZSBhZG1pbiBmZWF0dXJlICI2MDBfbG9nIiBhbHNvIHNob3cgYWxsIGxvZyBldmVudHMgZnJvbSBhbGwgT2JqZWN0cyBhbmQgYWxsIFJBcz8KLSBhdCBhIGxvdCBvZiBmb3JtcywgaWYgeW91'));
	@fwrite($fp, base64_decode('IHByZXNzICJlbnRlciIsIHRoZSAiZm9ybSIgd2lsbCBub3QgYmUgc3VibWl0dGVkIChlLmcuICJjcmVhdGUgcmEiIHBsdWdpbiksIGNhbm5vdCByZXByb2R1Y2U/Ci0gVGVzdCBldmVyeSBmdW5jdGlvbiBvZiBPSURwbHVzIHRvIGVuc3VyZSBldmVyeXRoaW5nIHdv'));
	@fwrite($fp, base64_decode('cmtzIGFmdGVyIHRoZSByZWNlbnQgY2hhbmdlcyBpbiBPT1AKCldIT0lTCi0gd2Vid2hvaXM6IGJlc2lkZSBUWFQvWE1ML0pTT04gbW9yZSBvdXRwdXQgbW9kaT8gIENTViwgUy9NSU1FICAoYW5kIGFkZCB0aGUgUy9NSU1FIGtleXB1cnBvc2UgdG8gdGhlIFguNTA5'));
	@fwrite($fp, base64_decode('IGNlcnRpZmljYXRlcykKLSB3aG9pcyBxdWVyeSAnb2lkOicgc2hvdWxkIHNob3cgYWxsIHJvb3QgZW50cmllcyAoc3Vib3JkaW5hdGUgZW50cmllcyksIGJ1dCB0aGVyZSBpcyBvbmx5IHRoZSBtZXNzYWdlICJub3QgZm91bmQiCgpSRkMKLSBwcm9vZiByZWFkCi0g'));
	@fwrite($fp, base64_decode('c2hvdWxkIHRoZSB3aG9sZSBXSE9JUyBvdXRwdXQgYmUgY2FzZSBpbnNlbnNpdGl2ZT8KLSBzaG91bGQgImRpc3RhbmNlIiBiZSBtYW5kYXRvcnk/Ci0gdHJ5IHRvIHVzZSBNVVNULCBNVVNUIE5PVCwgU0hBTEwgZXRjLiBhY2NvcmRpbmcgdG8gUkZDIDIxMTkKLSBm'));
	@fwrite($fp, base64_decode('ZWxkZXIgZGllIG5pY2h0IG9wdGlvbmFsIHNpbmQgPT4gbWFuZGF0b3J5IGtlbm56ZWljaG5lbgoKU0VUVVAKLSBUaGVyZSBzaG91bGQgYmUgYSAidGVzdCBkYXRhYmFzZSBjb25uZWN0aW9uIiBidXR0b24KClNNQUxMIFRISU5HUwotIFJBIGFkZHJlc3MgZGF0YTog'));
	@fwrite($fp, base64_decode('Q291bnRyeSBzZWxlY3Rpb24gYm94IGxpa2UgaW4gT0lESW5mbwotIFdlIHNob3VsZCByZW1vdmUgImRpZSgpIiB3aGVuZXZlciBwb3NzaWJsZSwgYmVjYXVzZSBpdCBpcyB2ZXJ5IHVuZmxleGlibGUKLSBvZmZlciBzaWduYXR1cmUgY2hlY2tlciB0b29sIHRvIHZl'));
	@fwrite($fp, base64_decode('cmlmeSBXSE9JUyByZXNwb25zZXMKLSB3ZWIgc3ZuIHVwZGF0ZXI6ICJibGFjayBsaXN0IiAoZG8gbm90IG92ZXJ3cml0ZSBzcGVjaWZpYyBmaWxlcyBsaWtlIGZhdmljb24uaWNvKQotIG1pbmltdW0tYXVma2xhcHBzdHVmZW4gZnVlciBhbGxlIG9iamVrdGUgdW5k'));
	@fwrite($fp, base64_decode('IHBsdWdpbnMgZWluc3RlbGxiYXIgbWFjaGVuLCBzb2Rhc3Mgei5iLiBhbGxlIE9JRHMgaW1tZXIgYmlzIHp1ciBzdHVmZSAyIGF1Zmdla2xhcHB0IHNpbmQsIHdlbm4gbWFuIE9JRHBsdXMgZnJpc2NoIMO2ZmZuZXQKLSBtYWtlIHVzZSBvZiBhdXRvbG9hZGluZyBv'));
	@fwrite($fp, base64_decode('ZiBQSFAgY2xhc3NlcwotIFJldml2ZSB0aGUgaWRlYSBvZiAiaW5mb3JtYXRpb24gb2JqZWN0cyIgPSBPSURzIHRoYXQgY29udGFpbiBjb250ZW50Ci0gVGhpbmdzIGxpa2UgImNvbmZpZygpLT5taW5SYVBhc3N3b3JkTGVuZ3RoIiBzaG91bGQgbm90IGJlIGhhcmRj'));
	@fwrite($fp, base64_decode('b2RlZCBmdW5jdGlvbnMsIGJ1dCByYXRoZXIgcXVlcmllZCB3aXRoIG5vcm1hbCBnZXRWYWx1ZSgpIGV0Yy4KLSBBUEkgOiBNYWtlIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYSBSQSBleGlzdHMsIGFuZCB1c2UgaXQgZXZlcnl3aGVyZSB3aGVyZSBuZWVkZWQK'));
	@fwrite($fp, base64_decode('LSBTaG91bGQgd2Ugc2VsZi1ob3N0IHBvbHlmaWxsIGR1ZSB0byBHRFBSIHN0dWZmPwotIE9iamVjdCB0eXBlIHBsdWdpbnMgOiB0YWtlIGNhcmUgdGhhdCAidHJlZWljb24ucG5nIiBhbmQgImljb25fYmlnLnBuZyIgZXhpc3QgZXZlcnl3aGVyZSAoYmVjb21lIHN0'));
	@fwrite($fp, base64_decode('YW5kYXJkKQotIHdoZW4gYWpheC5waHAgZ2VuZXJhdGVzIGEgUEhQIGVycm9yLCB0aGUgY2xpZW50IGdpdmVzIGEgInN5bnRheCBlcnJvciIgbWVzc2FnZS4uLiBpdCB3b3VsZCBiZSBiZXR0ZXIgaWYgdGhlIGNsaWVudCBzaG93cyB0aGUgZnVsbCBwaHAgZXJyb3I/'));
	@fwrite($fp, base64_decode('IG9yIHNvbWV0aGluZyBtb3JlIHVzZXItZnJpZW5kbHk/Ci0gZnJlZW9pZDogZ21haWwgYXBwIGRvZXMgbm90IGh5cGVybGluayB0aGUgYWN0aXZhdGlvbiBVUkwuIHdoeT8KLSBob3cgdG8gYXZvaWQgaW52aXRlIHNwYW1taW5nPwotIHdoZW4gYSBQSFAgZXJyb3Ig'));
	@fwrite($fp, base64_decode('aGFwcGVucyAoaS5lLiB0aGUgQUpBWCBzY3JpcHQgZGlkIG5vdCBtYW5hZ2UgdG8gb3V0cHV0IGEgSlNPTiksIHRoZSBBSkFYIHNjcmlwdCBvdXRwdXRzICJFcnJvcjogU3ludGF4RXJyb3I6IFVuZXhwZWN0ZWQgdG9rZW4gPCBpbiBKU09OIGF0IHBvc2l0aW9uIDAi'));
	@fwrite($fp, base64_decode('IC4uLiBiZXR0ZXIgc2hvdyB0aGUgdXNlciB0aGUgYWN0dWFsIG1lc3NhZ2UKLSB3aGVuIGxvZ2luIGV4cGlyZWQsIHJlbW92ZSBlbnRyaWVzIGluIHRoZSB0cmVldmlldwotIGRpc2FibGUgc3BlY2lmaWMgZnVuY3Rpb25zIChlLmcuIGludml0ZSwgbG9naW4sIHJh'));
	@fwrite($fp, base64_decode('aW5mbywgZm9yZ290IHBhc3N3b3JkKSBpZiB0aGUgcGx1Z2lucyBhcmUgbm90IGluc3RhbGxlZCAoY2hlY2sgaWYgY2xhc3MgdHlwZSBpcyByZWdpc3RlcmVkIHVzaW5nIGNsYXNzX2V4aXN0cygpKQotIG1ha2UgdXNhZ2Ugb2YgRm9yZWlnbiBLZXlzCglQUk9CTEVN'));
	@fwrite($fp, base64_decode('OiB3ZSBuZWVkIGZvcmVpZ24ga2V5cyB3aXRoIG5vIGNoZWNrLCBiZWNhdXNlCglhKSB3ZSB3YW50IHRvIGtlZXAgbG9nIGVudHJpZXMgZXZlbiBpZiBhbiBvYmplY3QvdXNlciBpcyBkZWxldGVkCgliKSBsb2dfdXNlci51c2VybmFtZSBjYW4gYWxzbyBiZSAnYWRt'));
	@fwrite($fp, base64_decode('aW4nIChhbmQgdGhlcmVmb3JlIG5vdCBiZSBhIGZvcmVpZ24ga2V5IHRvIHRhYmxlICdyYScpCgljKSBub3QgZXZlcnkgb2JqZWN0IHNob3VsZCBoYXZlIGEgcmVnaXN0ZXJlZCBSQS4gVGhlcmUgc2hvdWxkIGJlICJ1bmtub3duIiBSQXMgd2hlcmUgb25seSB0aGUg'));
	@fwrite($fp, base64_decode('ZW1haWwgYWRkcmVzcyBpcyBrbm93bgotIDxhYmJyPiBpbiA8Y29kZT4gd2lyZCBkb3BwZWx0IHVudGVyc3RyaWNoZW4KLSB3ZW5uIG1hbiBlaW5lIHdlbGwta25vd24gT0lEIGFubGVnZW4gbfZjaHRlLCBkYW5uIGtvbW10IGZlaGxlciB3ZWdlbiByZXBsYWNlQXNu'));
	@fwrite($fp, base64_decode('MS9yZXBsYWNlSXJpLCBhYmVyIGRpZSBPSUQgaXN0IGVyc3RlbGx0LiBEaWUgQVBJIGlzdCBhYmVyIG5pY2h0IHJlbG9hZGVkLiBNYW4gc2llaHQgYWxzbyBuaWNodCwgZGFzcyBkaWUgT0lEIGVyc3RlbGx0IHd1cmRlLCB1bmQgZWluIGVybmV1dGVyIGtsaWNrIGF1'));
	@fwrite($fp, base64_decode('ZiBJbnNlcnQgZvxocnQgenVtIFByaW1hcnktS2V5IGZlaGxlcgotIHByb2JsZW06IHdlbm4gZWluZSBSQSBlaW5nZWxhZGVuIHdlcmRlbiBt9mNodGUsIG11c3MgbWFuICJ1cGRhdGUiIGRy/GNrZW4gdW5kIGRpZSBPSUQgd2lyZCBhbHMgdXBkYXRlZCBtYXJraWVy'));
	@fwrite($fp, base64_decode('dAotIGJlaSBtZWhyZXJlbiBpZGVudGlmaWVybiBrYW5uIG1hbiBuaWNodCBiZXN0aW1tZW4sIHdlbGNoZXIgaWRlbnRpZmllciBkZXIgYmV2b3J6dWd0ZSBzZWluIHNvbGwhIQotIHNob3cgd2hvaXMgbGlua3Mgb25seSBpZiBmb2xkZXIgIndob2lzLyIgZXhpc3Rz'));
	@fwrite($fp, base64_decode('Ci0gZGlzYWJsZSBhdXRvY29tcGxldGUgb24gc29tZSBmb3JtcwotIGdyYXBoaWNhbCBpbXBvcnZlbWVudHMgb2YgZm9ybXMgKGlucHV0IGVkaXRzIGFsaWduZWQpCi0gIkRvY3VtZW50cyIgc2VjdGlvbjogTWFrZSBkb2N1bWVudGF0aW9uIGZvciB1c2FnZSBvZiBP'));
	@fwrite($fp, base64_decode('SURwbHVzIChmb3IgbWVtYmVycyBvbmx5KQotIGFkbWluIGNvbmZpZyBtZWhyIHVzZXIgZnJpZW5kbHksIGUuZy4gaGF2aW5nIHRoZSBlbmFibGUvZGlzYWJsZSBvYmplY3QgdHlwZSBzdHVmZiAobGlrZSBpbiByZWdpc3RyYXRpb24gd2l6YXJkKSBhbHNvIGluIHRo'));
	@fwrite($fp, base64_decode('ZSBhZG1pbiBjb250cm9sIHBhbmVsCi0gaXQgd291bGQgYmUgY29vbCBpZiBhZnRlciB0aGUgbG9naW4sIHRoZSBvcGVuZWQgbm9kZXMgaW4gdGhlIHRyZWUgd291bGQgc3RheSBvcGVuCi0gc2hvdWxkIHdlIGxvZyBzb21ld2hlcmUsIHdoZW4gdGhlIGFkbWluIGFj'));
	@fwrite($fp, base64_decode('Y291bnQgd2FzIGxvZ2dlZCBpbj8KLSBodG1sIGNoZWNrYm94OiAibGFiZWwgZm9yIiB2ZXJ3ZW5kZW4KLSB3aGVuIGphdmFzY3JpcHQgZmFpbHMsIHRoZSBmb3JtIHdpbGwgYmUgc3VibWl0dGVkIHRvICcuLycgLCB0aGF0IGlzIG5vdCBnb29kISBmYWlsZWQgamF2'));
	@fwrite($fp, base64_decode('YXNjcmlwdCBtdXN0IHJldHVybiBmYWxzZSwgc28gdGhhdCB0aGUgZm9ybSBkb2VzIG5vdCBnZXQgc3VibWl0dGVkCi0gYWRtaW46IHNob3cgcHJpdmFjeSBlbnRyaWVzIGZyb20gUkFzIChidXQgZ3JleSwgc28geW91IGtub3cgdGhhdCBpdCBpcyBwcml2YXRlKQot'));
	@fwrite($fp, base64_decode('IGFkbWluIHNvbGwgY29udGFjdCBkYXRhIGVpbmVyIGZyZW1kZW4gUkEg5G5kZXJuIGT8cmZlbgotIGZyZWVvaWQ6IGFzbi4xIHVuZCBpcmkgc3BhbHRlbiBhdXNibGVuZGVuLCBkYSBkaWVzZXIgYXJjIGtlaW5lIElEcyB2ZXJnaWJ0PwotIFByaXZhY3k6IE1laHIg'));
	@fwrite($fp, base64_decode('c3R1ZmVuLCB6LmIuIGRhc3MgbWFuIGRlbiBwZXJzb25hbCBuYW1lIGV2dGwgZ2FyIG5pY2h0IHplaWdlbiBt9mNodGUKLSBNYW4gc29sbHRlICJjcmVhdGVkIiBhYuRuZGVybiBk/HJmZW4hIG9kZXIgZXZ0bCBnYW56IHZlcnN0ZWNrZW4sIHdlbm4gbWFuIGVzIG5p'));
	@fwrite($fp, base64_decode('Y2h0IHdlad8KLSBpbiBkZXIgY3J1ZCBsaXN0ZSBkZW4gdGl0ZWwgZGVzIG9iamVrdHMgemVpZ2VuCi0gbmF0T3JkZXIoKSBpc3QgbnVyIGb8ciBPSUQgZ/xsdGlnISEhIGFuZGVyZSBzb3J0LW1lY2hhbmlzbWVuIGb8ciBhbmRlcmUgb2JqZWt0dHlwZW4gZXJmb3Jk'));
	@fwrite($fp, base64_decode('ZXJsaWNoCi0gdGlueW1jZQoJbWNlIGRpcnR5IGZsYWc6CgkJLSB3ZW5uIG1hbiB3ZWNoc2VsIChqcyB0cmVlIHNlbGVjdCksIGRhbm4gc29sbCBhYmdlZnJhZ3Qgd2VyZGVuLCBvYiB0aW55bWNlIGRpcnR5IGlzdCwgdW5kIGVpbmUgd2FybnVuZyBicmluZ2VuLCBh'));
	@fwrite($fp, base64_decode('bHNvIHNvLCB3aWUgd2VubiBtYW4gZGllIHNlaXRlIG5ldSBsYWRlbiB3/HJkZQoJCS0ga3JpdGlzY2hlciBidWc6IHNlaXRlIPZmZm5lbiwgdGlueSBtY2UgZWRpdGllcmVuLCBzcGVpY2hlcm4ga2xpY2tlbi4gZGFubiBmNSBuZXUgbGFkZW4gKG5pY2h0IHN0cmcr'));
	@fwrite($fp, base64_decode('ZjUpOiBkYW5uIGlzdCBkZXIgYWx0ZSBjb250ZW50IHdpZWRlciBkYS4gYXXfZXIgbWFuIGRy/GNrdCBzdHJnK2Y1Ci0ganN0cmVlIHNlbGVjdDogYXV0b21hdGljYWxseSBzY3JvbGwgZG93bgotIG9wdGlzY2ggYXVmaPxic2NoZW4uIGRpbmdlIHdpZSBSQTogbWVo'));
	@fwrite($fp, base64_decode('ciBkaW5nZSB6ZWlnZW4sIGFkcmVzc2UsIGVtYWlsIGV0YwoKREFUQUJBU0UKLSBjaGVjayBpZiB0aGUgTlVMTCBhbmQgTk9UIE5VTEwgZGVmaW5pdGlvbnMgYXJlIG1lYW5pbmdmdWwuIEl0IGlzIG5vdCBnb29kIGF0IGluICpfcmEgZXZlcnl0aGluZyBpcyBOT1Qg'));
	@fwrite($fp, base64_decode('TlVMTAotIFNRTGl0ZTM6IEltcGxlbWVudCBOYXR1cmFsIE9JRCBzb3J0aW5nIChuYXRTb3J0KQoKRlVUVVJFCi0gbXVsdGlsYW5nCi0gbWFrZSB1c2Ugb2YgQ29tcG9zZXIuIFByb2JsZW1zOgogICogV2hhdCBpZiBjb21wb3NlciBpbnN0YWxscyBhIHZlcnNpb24g'));
	@fwrite($fp, base64_decode('b2YgYSBjb21wb25lbnQsIHdoaWNoIGlzIGluY29tcGF0aWJsZT8KICAqIFdlIG5lZWQgYSBuZXcgcHVibGlzaGluZyBzY3JpcHQsIGJlY2F1c2Ugc2ltcGx5IGNoZWNraW5nIG91dCBTVk4gaXMgbm90IGVub3VnaCBhbnltb3JlLiBUaGUgdXNlciBuZWVkcyB0byBl'));
	@fwrite($fp, base64_decode('eGVjdXRlIGNvbXBvc2VyLiBCdXQgd2hhdCBpcyBpZiB0aGUgdXNlciBkb24ndCBoYXZlIGNvbXBvc2VyIChvciBkb250IGhhdmUgc2hlbGwgYWNjZXNzIGF0IGFsbD8pCi0gaW1wbGVtZW50IHNpdGVtYXBzIHhtbAotIGFkbWluIHNob3VsZCBiZSBhYmxlIHRvIGNo'));
	@fwrite($fp, base64_decode('YW5nZSB3ZWxsa25vd24gb2lkcz8KLSBtb3ZlIG9pZCB0byBkaWZmZXJlbnQgYXJjCi0gYmVpIHNlaHIgZ3Jv32VuIGFyY3MgKHouQi4gUEVOKSBzb2xsZW4gbmljaHQgYWxsZSBhbmdlemVpZ3Qgd2VyZGVuCi0gdW50ZXJzdPx0enVuZyBm/HIgT1JTPwotIE1laHIg'));
	@fwrite($fp, base64_decode('IkN1dHRpbmcgRWRnZSBUZWNobm9sb2dpZSIgc29sbCBpbiBkaWVzZW0gUHJvamVrdCB6dW0gVHJhZ2VuIGtvbW1lbjogQUpBWCwgSlNPTiwgdm9sbHN05G5kaWcgVVRGOCwgQ1JVRCBmcmFtZXdvcmtzLCBQRE8sIEhUTUw1LCBNb2JpbGVzIERlc2lnbiwgUHVyZSBD'));
	@fwrite($fp, base64_decode('U1MsIEF1dG9sb2FkaW5nLCBPYmpla3RvcmllbnRpZXJ1bmcgKGFiZXIgbmljaHQgdW5iZWRpbmd0IE1WQyksIFRlc3RpbmcsIC4uLjxicj4KLSAiU2VhcmNoIiBwbHVnaW46IEZlYXR1cmUgdG8gc2VhcmNoIGluc2lkZSBkb2N1bWVudGF0aW9uIChkb2MvIGRpcmVj'));
	@fwrite($fp, base64_decode('dG9yeSkKLSAiU2VhcmNoIiBwbHVnaW46IEkgd2FudCB0byBzZWFyY2ggaW4gYWxsIG9iamVjdCB0eXBlcyBhbmQgUkFzLiBOb3QgZmlyc3Qgc2VsZWN0IHRoZSB0eXBlLgotIEhvdyBjYW4gd2UgbWFrZSBzdXJlIHRoYXQgZXhhbXBsZSBvYmplY3RzIGFyZSBub3Qg'));
	@fwrite($fp, base64_decode('ZXhwb3J0ZWQgdXNpbmcgb2lkLWluZm8uY29tIGV4cG9ydD8KLSBBZG1pbmlzdHJhdG9yLUludGVyZmFjZTogZW5hYmxlIGFuZCBkaXNhYmxlIG9iamVjdCB0eXBlcwotIGRldGFpbGxlZCBjaGFuZ2UtaGlzdG9yeSBvZiBlYWNoIG9pZAoKQlVHUz8KLSBPSURwbHVz'));
	@fwrite($fp, base64_decode('IGRvZXMgbm90IHdvcmsgaW4gU2FmYXJpIE1vYmlsZSEKCTEuIFlvdSBjYW5ub3Qgc2Nyb2xsIHRoZSBPSUQgZ3JpZCwgYXMgdGhlIHNjcm9sbGluZyBhZmZlY3RzIHRoZSB3aG9sZSBwYWdlLCBub3QgdGhlIGdyaWQuCgkyLiBKUXVlcnlVSSBzbGlkZXJzIGNhbm5v'));
	@fwrite($fp, base64_decode('dCBiZSBkcmFnZ2VkCgpSRUpFQ1RFRCBJREVBUwotIHNvbGx0ZSBlcyBtZWhlcmUgYWRtaW5zIGdlYmVuPwotIHJlY29yZCBmaXJzdCBSQSBhbmQgY3VycmVudCBSQSA9PiBYLjY2MCBkb2VzIG5vdCBoYXZlIHRoaXMgcmVxdWlyZW1lbnQKLSBtYXJrZXJzIERSQUZU'));
	@fwrite($fp, base64_decode('LCBMRUFGIGFuZCBGUk9aRU4gZXRjLiA9PiB1c2UgIlByb3RlY3RlZCIgaWYgeW91IHdhbnQgdG8gbWFrZSBpdCBpbnZpc2libGUKCklERUFTCi0gd2hlbiBhIG5ldyBvaWQgaXMgY3JlYXRlZCwgc2hvdWxkIHdlIHJlZGlyZWN0IHRvIHRoZSBuZXdseSBjcmVhdGVk'));
	@fwrite($fp, base64_decode('IE9JRCwgc28gdGhhdCB0aGUgdXNlciBjYW4gYmVnaW4gZW50ZXJpbmcgdGhlIGRlc2NyaXB0aW9uIGV0Yz8KLSB3aGVuIGFuIG9iamVjdCB3YXMgbm90IGZvdW5kLCB0aGUgZXJyb3IgbWVzc2FnZSBjb3VsZCBzaG93IHRoZSBuZXh0IHBvc3NpYmxlIGtub3duIG9i'));
	@fwrite($fp, base64_decode('amVjdCAobGlrZSBXZWJXSE9JUyBkb2VzKQotIHRoZSAiZ290byIgcXVpY2tiYXIgKGF0IHRoZSB0b3AgcmlnaHQpIGNvdWxkIGFsc28gYmUgdXNlZCB0byBzZWFyY2ggc29tZXRoaW5nIC4uLgotIC4uLiBhbHRlcm5hdGl2ZWx5LCB0aGUgIm9iamVjdCBub3QgZm91'));
	@fwrite($fp, base64_decode('bmQiIGVycm9yIHBhZ2UgY291bGQgbGluayB0byB0aGUgc2VhcmNoIHBsdWdpbgotIG1ha2UgY29sb3IgcGx1Z2luIGF2YWlsYWJsZSBmb3IgZXZlcnlvbmUuIEFkbWluIG1heSBwZXJtYW5lbnRseSBzYXZlIHRoZSBjb2xvcnMsIGJ1dCB1c2VycyBzaG91bGQgYmUg'));
	@fwrite($fp, base64_decode('YWJsZSB0byBzZXQgdGhlaXIgb3duIHRoZW1lLCBzYXZlZCB2aWEgY29va2llcwotIHRoZXJlIHNob3VsZCBiZSBhIGZvcm0gd2hlcmUgYW4gUkEgY2FuIHJlcXVlc3QgYW4gaW52aXRhdGlvbiwgZXZlbiBpZiB0aGUgc3VwZXJpb3IgUkEgZGlkIG5vdCBpbnZpdGUg'));
	@fwrite($fp, base64_decode('dGhlbS4KICB0aGUgZmFjdCB0aGF0IGEgUkEgZXhpc3RzIGluIHRoZSBPYmplY3QgVGFibGUgc2hvdWxkIHBlcm1pdCB0aGUgUkEgdG8gaW52aXRlIHRoZWlyc2VsZi4KLSBiZWltIHZlcmxhc3NlbiBkZXIgc2VpdGUsIHouYi4gd2VubiBtYW4gbGlua3MgYXVmIGVp'));
	@fwrite($fp, base64_decode('bmVuIG5ldWVuIG1lbvxwdW5rdCBrbGlja3QsIHNvbGwgZWluZSBhYmZyYWdlIGtvbW1lbiwgb2IgbWFuIHNwZWljaGVybiBt9mNodGUKLSBtYWtlIGEgbGlzdCBvZiBPSURzIHRoYXQgZG8gbm90IGFzc2lnbiBBU04xL0lSSSBpZGVudGlmaWVycyAoZS5nLiBJQU5B'));
	@fwrite($fp, base64_decode('IFBFTiBvciBWaWFUaGlua1NvZnQgRnJlZU9JRCksIHRoZW4gcmVqZWN0IGFueSBpZGVudGlmaWVyIHRoZSB1c2VyIHByb3ZpZGVzCi0gc2FuaXRpemUgSVB2NCwgSVB2NiwgR1VJRCBkdXJpbmcgY3JlYXRpb24KCWJlaSBJUHY0IHVuZCBJUHY2OiAtIGlmIGl0IGlz'));
	@fwrite($fp, base64_decode('IGEgc2luZ2xlIGhvc3QgYWRkcmVzcywgZG9uJ3QgcHV0IC8zMiBvciAvMTI4IHN1ZmZpeAoJICAgICAgICAgICAgICAgICAgIC0gc3RyaWtlIHVubmVjZXNzYXJ5IGJpdHMgdGhhdCBhcmUgbm90IGRlZmluZWQgaW4gdGhlIG5ldG1hc2sgKGFsc28gYXQgdGhlIHdo'));
	@fwrite($fp, base64_decode('b2lzIG91dHB1dCkKLSBsZXQgdGhlIHN5c2FkbWluIGRlY2lkZSBpZiB0aGV5IHdhbnQgdGhlIHRpdGxlIGJlICJzeXN0ZW10aXRsZSAtIG9iamVjdCB0aXRsZSIgb3IgIm9iamVjdCB0aXRsZSAtIHN5c3RlbXRpdGxlIgotIHNob3VsZCBhIFJBIGJlIGFibGUgdG8g'));
	@fwrite($fp, base64_decode('bWFyayB0aGVpciBvd24gb2lkIGFzIGNvbmZpZGVudGlhbCwgaW5zdGVhZCBvZiBhc2tpbmcgdGhlIHN1cGVyaW9yIFJBPwotIHNvbGx0ZSBlcyBlaW5lIG9pZHBsdXMgcHJvamVrdHNlaXRlIGdlYmVuIGFuc3RlbGxlIG51ciBkYXMgbmFja3RlIHN5c3RlbT8KLSB2'));
	@fwrite($fp, base64_decode('ZW5kb3Igc2lnbmF0dXJlIHRvIHBsdWdpbnMgKyB2aWF0aGlua3NvZnQgc2lnbmF0dXJlcyArICJjaGVjayIgcHJvZ3JhbSBpZiBhbGwgc2lnbmF0dXJlcyBtYXRjaAotIGhhdmUgYSBtZW51IGl0ZW0gKHBsdWdpbikgImxhdGVzdCB1cGRhdGVzIiB3aGljaCBsaXN0'));
	@fwrite($fp, base64_decode('cyBPSURzIHRoYXQgaGF2ZSBiZWVuIGNoYW5nZWQgb3IgYWRkZWQgcmVjZW50bHk/Ci0gKHVuc3VyZTopIHdvdWxkIGl0IGJlIGdvb2QgaWYgdGhlIHN1cGVyaW9yIFJBIGNvbW1lbnQgaXMgc2hvd24gaW4gdGhlIG9iamVjdCBwYWdlIGl0c2VsZj8KLSBEdXJpbmcg'));
	@fwrite($fp, base64_decode('YW4gb2JqZWN0IGluc2VydGlvbjogSWYgZXZlcnl0aGluZyBpcyBlbXB0eSAoQVNOMSwgSVJJLCBjb21tZW50KSwgc2hvdWxkIHRoZW4gdGhlcmUgYmUgYSB3YXJuaW5nPwotIFRoZSBzeXN0ZW0gc2hvdWxkIHdhcm4gaWYgdGhlcmUgYXJlIHR3byBPSURzIHdpdGgg'));
	@fwrite($fp, base64_decode('dGhlIHNhbWUgQVNOLjEgaWRlbnRpZmllciAoaXQgaXMgYWxsb3dlZCwgYnV0IG5vdCByZWNvbW1lbmRlZCEpCgpRVUVTVElPTlMKLSBzaG91bGQgdGhlIGNvbGxhdGlvbiBiZSBjYXNlIHNlbnNpdGl2ZSBvciBjYXNlIGluc2Vuc2l0aXZlPyBGb3IgSmF2YSBwYWNr'));
	@fwrite($fp, base64_decode('YWdlIG5hbWVzLCBpdCBzaG91bGQgYmUgY2FzZSBzZW5zdGl2aWUKLSB3b3J0ICJndWlkIiBvZGVyICJ1dWlkIiB2ZXJ3ZW5kZW4/Ci0gc2hvdWxkICJPSUQgdXBkYXRlZCIgYmUgc3BsaXQgaW50byB0d28gY2F0ZWdvcmllcyAidXBkYXRlZCBieSBzdXBlcmlvciIg'));
	@fwrite($fp, base64_decode('KGUuZy4gaWRlbnRpZmllcnMpIGFuZCAidXBkYXRlZCBieSBvd25lciIgKGRlc2NyaXB0aW9uIGV0Yyk/Ci0gInVwZGF0ZWQiIG5pY2h0IGFrdHVhbGlzaWVyZW4sIHdlbm4gbWFuIG51ciBhdWYgInVwZGF0ZSIga2xpY2t0IGFiZXIgbml4IGdl5G5kZXJ0IGhhdAot'));
	@fwrite($fp, base64_decode('ICJEb2N1bWVudHMiIHNlY3Rpb246IENhbiBiYXNlIG9mIFVSTHMvaW1hZ2VzIGluc2lkZSB0aGUgSFRNTCBiZSBjaGFuZ2VkIGF1dG9tYXRpY2FsbHk/CgpQUklWQUNZOgotIGJyaW5nIGJhY2sgIjNwL2Nvb2tpZWNvbnRlbnQiPyBETSAyOCBNYXkgMjAxOTogUmVt'));
	@fwrite($fp, base64_decode('b3ZlZCBDb29raWVDb25zZW50IHRlbXBvcmFyaWx5LCBiZWNhdXNlIGl0IGlzIHBsYWNlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwYWdlIGFuZCB0aGVyZWZvcmUgcnVpbnMgdGhlIEdvb2dsZSBpbmRleCAuLi4KCT0+IFdlIG1pZ2h0IG5vdCBuZWVkIGl0LCBi'));
	@fwrite($fp, base64_decode('ZWNhdXNlIGNvb2tpZXMgYXJlIG9ubHkgc2V0IGR1cmluZyBsb2dpbiwgYW5kIGF0IHRoZSBsb2dpbiBwYWdlIGl0c2VsZiwgd2UgYWxyZWFkeSB3YXJuIGFib3V0IGNvb2tpZXMsIGluIGFkZGl0aW9uIHRvIHRoZSBQcml2YWN5IGRvY3VtZW50YXRpb24KCkdVSUQg'));
	@fwrite($fp, base64_decode('TWFuYWdlbWVudAotIExlYWYgbm9kZXMgKEdVSURzKSBzaG91bGQgc2hvdy9lZGl0IHRoZSBUaXRsZSBpbiB0aGUgQ1JVRCwgc28geW91IGRvbnQgaGF2ZSB0byBjbGljayB0aGUgR1VJRCB0byBzZWUgdGhlIHRpdGxlCi0gc2VsdHNhbWVyIGJ1Zzogd2VubiBpY2gg'));
	@fwrite($fp, base64_decode('Z3VpZDpvaWRwbHVzIGVkaXRpZXJlLCBkYW5uIPZmZm5ldCBzaWNoIGxpbmtzIGd1aWQ6YWN0aXZlZGlyZWN0b3J5IGJlaW0gbmV1bGFkZW4gZGVzIGJhdW1zIG5hY2ggZGVtIHVwZGF0ZS4gaXJnZW5kd2llIPZmZm5ldCBlciBkZW4genVsZXR6dCBnZfZmZm5ldGVu'));
	@fwrite($fp, base64_decode('IG5vZGUgYmVpbSByZWxvYWQgbm9jaG1hbAoKUmVwcm86Ci0gQ2FuIGEgcHJldmlvdXNseSBkZWxldGVkIDIuOTk5IG5vdCBiZSBjcmVhdGVkIGFueW1vcmU/IChkdXJpbmcgSU5TRVJUOiAiaWRlbnRpZmllcnMgY2Fubm90IGJlIGNoYW5nZWQiKQo='));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_1();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != 'fda6113594adbd92ceef86350973cd31d864ba0b') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== 'fda6113594adbd92ceef86350973cd31d864ba0b') {
		if (@sha1_file('TODO') !== '8456a1613c029e137fe3ca98cb10fd659780c0ae') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('TODO') !== 'fda6113594adbd92ceef86350973cd31d864ba0b') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: dev/.htaccess
function writefile_2() {
	@$fp = fopen('dev/.htaccess', 'w');
	@fwrite($fp, base64_decode('T3JkZXIgRGVueSxBbGxvdwpEZW55IEZyb20gQWxsClJlcXVpcmUgYWxsIGRlbmllZAoK'));
	@fclose($fp);
}
if (!is_file('dev/.htaccess')) {
	warn('File has vanished! Will re-create it: dev/.htaccess');
	writefile_2();
	if (!is_file('dev/.htaccess')) {
		warn('File cannot be created (not existing): dev/.htaccess');
	} else if (sha1_file('dev/.htaccess') != '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		warn('File cannot be created (checksum mismatch): dev/.htaccess');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('dev/.htaccess', 0644)) {
		warn('Could not change file permissions of dev/.htaccess');
	}
} else {
	if (@sha1_file('dev/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		if (@sha1_file('dev/.htaccess') !== '2e61197b1437bb55c9d20379ff16969a9f872967') {
			warn('File was modified. Will overwrite the changes now: dev/.htaccess');
			$tmp = pathinfo('dev/.htaccess');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('dev/.htaccess')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('dev/.htaccess', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('dev/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
			warn('File cannot be written (checksum mismatch): dev/.htaccess');
		}
	}
}

// Files different: dev/test/test_database_plugins.php
function writefile_3() {
	@$fp = fopen('dev/test/test_database_plugins.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8vIFRoaXMgc2NyaXB0IGlzIHVzZWQgdG8gZGV0ZWN0IHByb2JsZW1zIHdpdGggeW91ciBkYXRhYmFzZSBwbHVnaW4KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8uLi9pbmNsdWRlcy9vaWRw'));
	@fwrite($fp, base64_decode('bHVzLmluYy5waHAnOwoKZWNobyAnPGgxPk9JRHBsdXMgRGF0YWJhc2UgcGx1Z2luIHRlc3RjYXNlczwvaDE+JzsKCk9JRHBsdXM6OmluaXQoKTsKCiMgVGVzdCBNeVNRTApPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAn'));
	@fwrite($fp, base64_decode('TXlTUUwnKTsKT0lEcGx1czo6aW5pdCgpOwokZGIgPSBPSURwbHVzOjpkYigpOwpPSURwbHVzOjppbml0KCk7CmlmIChmdW5jdGlvbl9leGlzdHMoJ215c3FsaV9mZXRjaF9hbGwnKSkgewoJT0lEcGx1czo6YmFzZUNvbmZpZygpLT5zZXRWYWx1ZSgnTVlTUUxfRk9S'));
	@fwrite($fp, base64_decode('Q0VfTVlTUUxORF9TVVBQTEVNRU5UJywgZmFsc2UpOwoJZWNobyAiW1dpdGggTXlTUUxuZCBzdXBwb3J0XSAiOwoJZG90ZXN0KCRkYik7CglPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdNWVNRTF9GT1JDRV9NWVNRTE5EX1NVUFBMRU1FTlQnLCB0cnVl'));
	@fwrite($fp, base64_decode('KTsKfQplY2hvICJbV2l0aG91dCBNeVNRTG5kIHN1cHBvcnRdICI7CmRvdGVzdCgkZGIpOwoKIyBUZXN0IFBETwpPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnUERPJyk7Ck9JRHBsdXM6OmluaXQoKTsKJGRiID0gT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6ZGIoKTsKZG90ZXN0KCRkYik7CgojIFRlc3QgT0RCQwpPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnT0RCQycpOwpPSURwbHVzOjppbml0KCk7CiRkYiA9IE9JRHBsdXM6OmRiKCk7CmRvdGVzdCgkZGIpOwoK'));
	@fwrite($fp, base64_decode('IyBUZXN0IFBnU1FMCk9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicsICdQZ1NRTCcpOwpPSURwbHVzOjppbml0KCk7CiRkYiA9IE9JRHBsdXM6OmRiKCk7CmRvdGVzdCgkZGIpOwoKIyBUZXN0IFNRTGl0ZTMKT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('YmFzZUNvbmZpZygpLT5zZXRWYWx1ZSgnREFUQUJBU0VfUExVR0lOJywgJ1NRTGl0ZScpOwpPSURwbHVzOjppbml0KCk7CiRkYiA9IE9JRHBsdXM6OmRiKCk7CmRvdGVzdCgkZGIpOwoKIyAtLS0KCmZ1bmN0aW9uIGRvdGVzdCgkZGIpIHsKCWVjaG8gIkRhdGFiYXNl'));
	@fwrite($fp, base64_decode('OiAiIC4gZ2V0X2NsYXNzKCRkYikgLiAiPGJyPiI7Cgl0cnkgewoJCSRkYi0+Y29ubmVjdCgpOwoJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJZWNobyAiQ29ubmVjdGlvbiA8Zm9udCBjb2xvcj1cInJlZFwiPkZBSUxFRDwvZm9udD4gKGNoZWNrIHVzZXJkYXRh'));
	@fwrite($fp, base64_decode('L2Jhc2Vjb25maWcvY29uZmlnLmluYy5waHApOiAiLiRlLT5nZXRNZXNzYWdlKCkuIjxicj48YnI+IjsKCQlyZXR1cm47Cgl9CgllY2hvICJEZXRlY3RlZCBzbGFuZzogIiAuICRkYi0+Z2V0U2xhbmcoKTo6aWQoKS4iPGJyPiI7CgkkZGItPnF1ZXJ5KCJkZWxldGUg'));
	@fwrite($fp, base64_decode('ZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ICd0ZXN0OjEnIik7CgkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNvYmplY3RzIChpZCwgcGFyZW50LCB0aXRsZSwgZGVzY3JpcHRpb24sIGNvbmZpZGVudGlhbCkgdmFsdWVzICgndGVzdDoxLjEnLCAndGVz'));
	@fwrite($fp, base64_decode('dDoxJywgJycsICcnLCAnMCcpIik7CgkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNvYmplY3RzIChpZCwgcGFyZW50LCB0aXRsZSwgZGVzY3JpcHRpb24sIGNvbmZpZGVudGlhbCkgdmFsdWVzICgndGVzdDoxLjInLCAndGVzdDoxJywgJycsICcnLCAnMCcpIik7'));
	@fwrite($fp, base64_decode('Cgl0cnkgewoJCS8vIC0tLSAiU1FMIERhdGUiIGhhbmRsaW5nCgoJCXRyeSB7CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgY3JlYXRlZCA9ICIuJGRiLT5zcWxEYXRlKCkuIiB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkJZWNo'));
	@fwrite($fp, base64_decode('byAiU1FMRGF0ZSAoIi4kZGItPnNxbERhdGUoKS4iKSBQQVNTRUQ8YnI+IjsKCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJZWNobyAiU1FMRGF0ZSAoIi4kZGItPnNxbERhdGUoKS4iKSA8Zm9udCBjb2xvcj1cInJlZFwiPkZBSUxFRDwvZm9udD48YnI+IjsK'));
	@fwrite($fp, base64_decode('CQl9CgoJCS8vIC0tLSAiTnVtIHJvd3MiIGhhbmRsaW5nCgoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgndGVzdDoxJykpOwoKCQkkbnVtX3Jvd3MgPSAkcmVz'));
	@fwrite($fp, base64_decode('LT5udW1fcm93cygpOwoJCWVjaG8gIk51bSByb3dzOiAiIC4gKCRudW1fcm93cz09PTIgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5GQUlMRUQ8L2ZvbnQ+JykuIjxicj4iOwoKCQkkcmVzLT5mZXRjaF9hcnJheSgpOwoJCSRudW1fcm93cyA9ICRyZXMt'));
	@fwrite($fp, base64_decode('Pm51bV9yb3dzKCk7CgkJZWNobyAiTnVtIHJvd3MgYWZ0ZXIgc29tZXRoaW5nIGZldGNoZWQ6ICIgLiAoJG51bV9yb3dzPT09MiA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCSRuZXh0aWQgPSAkcmVzLT5m'));
	@fwrite($fp, base64_decode('ZXRjaF9hcnJheSgpWydpZCddOwoJCWVjaG8gIk51bSByb3dzIGRvZXMgbm90IGNoYW5nZSBjdXJzb3I6ICIgLiAoJG5leHRpZCA9PSAndGVzdDoxLjInID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiI8YnI+IjsKCgkJJG5l'));
	@fwrite($fp, base64_decode('eHQgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCWVjaG8gIkZldGNoIGFmdGVyIEVPRiBnaXZlcyBudWxsOiAiIC4gKGlzX251bGwoJG5leHQpID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiI8YnI+IjsKCgkJLy8gLS0tIFNp'));
	@fwrite($fp, base64_decode('bXVsdGFub3VzIHByZXBhcmVkIHN0YXRlbWVudHMKCgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBpZCBmcm9tICMjI29iamVjdHMgd2hlcmUgcGFyZW50ID0gPyBvcmRlciBieSBpZCIsIGFycmF5KCd0ZXN0OjEnKSk7CgoJCSRwYXNzZWQgPSBmYWxzZTsKCQl3'));
	@fwrite($fp, base64_decode('aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkpIHsKCQkJJHJlczIgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgkcm93WydpZCddKSk7CgkJCXdoaWxlICgkcm93'));
	@fwrite($fp, base64_decode('MiA9ICRyZXMyLT5mZXRjaF9hcnJheSgpKSB7CgkJCX0KCQkJaWYgKCRyb3dbJ2lkJ10gPT0gJ3Rlc3Q6MS4yJykgewoJCQkJJHBhc3NlZCA9IHRydWU7CgkJCX0KCQl9CgkJZWNobyAiU2ltdWx0YW5vdXMgcHJlcGFyZWQgc3RhdGVtZW50czogIi4oJHBhc3NlZCA/'));
	@fwrite($fp, base64_decode('ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCS8vIC0tLSBFeGNlcHRpb24gaGFuZGxpbmcKCgkJdHJ5IHsKCQkJJGRiLT5xdWVyeSgiQUJDREVGIik7CgkJCWVjaG8gIkV4Y2VwdGlvbiBmb3IgRGlyZWN0UXVl'));
	@fwrite($fp, base64_decode('cnk6IDxmb250IGNvbG9yPVwicmVkXCI+RkFJTEVEPC9mb250Piwgbm8gRXhjZXB0aW9uIHRocm93bjxicj4iOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQlpZiAoc3RycG9zKCRlLT5nZXRNZXNzYWdlKCksICdBQkNERUYnKSAhPT0gZmFsc2UpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CWVjaG8gIkV4Y2VwdGlvbiBmb3IgRGlyZWN0UXVlcnk6IFBBU1NFRDxicj4iOwoJCQl9IGVsc2UgewoJCQkJZWNobyAiRXhjZXB0aW9uIGZvciBEaXJlY3RRdWVyeTogPGZvbnQgY29sb3I9XCJyZWRcIj5GQUlMRUQ8L2ZvbnQ+LCBkb2VzIHByb2JhYmx5IG5vdCBj'));
	@fwrite($fp, base64_decode('b250YWluIERCTVMgZXJyb3Igc3RyaW5nPGJyPiI7CgkJCX0KCQl9CgoJCSRtc2cgPSAkZGItPmVycm9yKCk7CgkJaWYgKHN0cnBvcygkbXNnLCAnQUJDREVGJykgIT09IGZhbHNlKSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBkaXJlY3Qg'));
	@fwrite($fp, base64_decode('cXVlcnk6IFBBU1NFRDxicj4iOwoJCX0gZWxzZSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBkaXJlY3QgcXVlcnk6IDxmb250IGNvbG9yPVwicmVkXCI+RkFJTEVEPC9mb250PiwgZG9lcyBwcm9iYWJseSBub3QgY29udGFpbiBEQk1TIGVy'));
	@fwrite($fp, base64_decode('cm9yIHN0cmluZyAoJG1zZyk8YnI+IjsKCQl9CgoJCXRyeSB7CgkJCSRkYi0+cXVlcnkoIkZFRENCQSIsIGFycmF5KCcnKSk7CgkJCWVjaG8gIkV4Y2VwdGlvbiBmb3IgUHJlcGFyZWRRdWVyeTogPGZvbnQgY29sb3I9XCJyZWRcIj5GQUlMRUQ8L2ZvbnQ+LCBubyBF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24gdGhyb3duPGJyPiI7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCWlmIChzdHJwb3MoJGUtPmdldE1lc3NhZ2UoKSwgJ0ZFRENCQScpICE9PSBmYWxzZSkgewoJCQkJZWNobyAiRXhjZXB0aW9uIGZvciBQcmVwYXJlZFF1ZXJ5OiBQQVNTRUQ8'));
	@fwrite($fp, base64_decode('YnI+IjsKCQkJfSBlbHNlIHsKCQkJCWVjaG8gIkV4Y2VwdGlvbiBmb3IgUHJlcGFyZWRRdWVyeTogPGZvbnQgY29sb3I9XCJyZWRcIj5GQUlMRUQ8L2ZvbnQ+LCBkb2VzIHByb2JhYmx5IG5vdCBjb250YWluIERCTVMgZXJyb3Igc3RyaW5nPGJyPiI7CgkJCX0KCQl9'));
	@fwrite($fp, base64_decode('CgoJCSRtc2cgPSAkZGItPmVycm9yKCk7CgkJaWYgKHN0cnBvcygkbXNnLCAnRkVEQ0JBJykgIT09IGZhbHNlKSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBwcmVwYXJlZCBxdWVyeTogUEFTU0VEPGJyPiI7CgkJfSBlbHNlIHsKCQkJZWNo'));
	@fwrite($fp, base64_decode('byAiRXJyb3ItRnVuY3Rpb24gYWZ0ZXIgZmFpbGVkIHByZXBhcmVkIHF1ZXJ5OiA8Zm9udCBjb2xvcj1cInJlZFwiPkZBSUxFRDwvZm9udD4sIGRvZXMgcHJvYmFibHkgbm90IGNvbnRhaW4gREJNUyBlcnJvciBzdHJpbmcgKCRtc2cpPGJyPiI7CgkJfQoKCQkkZGIt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJzZWxlY3QgMSIpOwoJCSRtc2cgPSAkZGItPmVycm9yKCk7CgkJaWYgKCEkbXNnKSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGdldHMgY2xlYXJlZCBhZnRlciBub24tZmFpbGVkIHF1ZXJ5OiBQQVNTRUQ8YnI+IjsKCQl9IGVsc2UgewoJCQllY2hv'));
	@fwrite($fp, base64_decode('ICJFcnJvci1GdW5jdGlvbiBnZXRzIGNsZWFyZWQgYWZ0ZXIgbm9uLWZhaWxlZCBxdWVyeTogPGZvbnQgY29sb3I9XCJyZWRcIj5GQUlMRUQ8L2ZvbnQ+LCBkb2VzIHByb2JhYmx5IG5vdCBjb250YWluIERCTVMgZXJyb3Igc3RyaW5nPGJyPiI7CgkJfQoKCQkvLyAt'));
	@fwrite($fp, base64_decode('LS0gQm9vbGVhbiBoYW5kbGluZwoKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgY29uZmlkZW50aWFsID0gPyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciLCBhcnJheSh0cnVlKSk7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBjb25maWRlbnRp'));
	@fwrite($fp, base64_decode('YWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSR2YWwgPSAkcmVzLT5mZXRjaF9vYmplY3QoKS0+Y29uZmlkZW50aWFsOwoJCWVjaG8gIkJvb2xlYW4gaGFuZGxpbmcgVFJVRSB3aXRoIHByZXBhcmVkIHN0YXRlbWVudDogIiAuICgk'));
	@fwrite($fp, base64_decode('dmFsID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiI8YnI+IjsKCgkJJGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IGNvbmZpZGVudGlhbCA9ID8gd2hlcmUgaWQgPSAndGVzdDoxLjEnIiwgYXJyYXkoZmFsc2Up'));
	@fwrite($fp, base64_decode('KTsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGNvbmZpZGVudGlhbCBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT5jb25maWRlbnRpYWw7CgkJZWNobyAiQm9vbGVhbiBoYW5k'));
	@fwrite($fp, base64_decode('bGluZyBGQUxTRSB3aXRoIHByZXBhcmVkIHN0YXRlbWVudDogIiAuICghJHZhbCA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCBjb25maWRlbnRp'));
	@fwrite($fp, base64_decode('YWwgPSAnMScgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBjb25maWRlbnRpYWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSR2YWwgPSAkcmVzLT5mZXRjaF9vYmplY3QoKS0+Y29u'));
	@fwrite($fp, base64_decode('ZmlkZW50aWFsOwoJCWVjaG8gIkJvb2xlYW4gaGFuZGxpbmcgVFJVRSB3aXRoIG5vcm1hbCBzdGF0ZW1lbnQ6ICIgLiAoJHZhbCA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCSRkYi0+cXVlcnkoInVwZGF0'));
	@fwrite($fp, base64_decode('ZSAjIyNvYmplY3RzIHNldCBjb25maWRlbnRpYWwgPSAnMCcgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBjb25maWRlbnRpYWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSR2YWwg'));
	@fwrite($fp, base64_decode('PSAkcmVzLT5mZXRjaF9vYmplY3QoKS0+Y29uZmlkZW50aWFsOwoJCWVjaG8gIkJvb2xlYW4gaGFuZGxpbmcgRkFMU0Ugd2l0aCBub3JtYWwgc3RhdGVtZW50OiAiIC4gKCEkdmFsID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250Picp'));
	@fwrite($fp, base64_decode('LiI8YnI+IjsKCgkJLy8gLS0tIENoZWNrIGlmIHRyYW5zYWN0aW9ucyB3b3JrCgoJCSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCB0aXRsZSA9ICdBJyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkkZGItPnRyYW5zYWN0aW9uX2JlZ2luKCk7CgkJ'));
	@fwrite($fp, base64_decode('JGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IHRpdGxlID0gJ0InIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSRkYi0+dHJhbnNhY3Rpb25fcm9sbGJhY2soKTsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IHRpdGxlIGZyb20gIyMjb2JqZWN0'));
	@fwrite($fp, base64_decode('cyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPnRpdGxlOwoJCWVjaG8gIlRyYW5zYWN0aW9uIHJvbGxiYWNrOiAiIC4gKCR2YWwgPT0gJ0EnID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVE'));
	@fwrite($fp, base64_decode('PC9mb250PicpLiI8YnI+IjsKCgkJJGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IHRpdGxlID0gJ0EnIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSRkYi0+dHJhbnNhY3Rpb25fYmVnaW4oKTsKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0'));
	@fwrite($fp, base64_decode('cyBzZXQgdGl0bGUgPSAnQicgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJGRiLT50cmFuc2FjdGlvbl9jb21taXQoKTsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IHRpdGxlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkk'));
	@fwrite($fp, base64_decode('dmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPnRpdGxlOwoJCWVjaG8gIlRyYW5zYWN0aW9uIGNvbW1pdDogIiAuICgkdmFsID09ICdCJyA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCS8vIC0tLSBDaGVj'));
	@fwrite($fp, base64_decode('ayBuYXRPcmRlciBmZWF0dXJlCgoJCSRkYi0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI29iamVjdHMgd2hlcmUgcGFyZW50ID0gJ3Rlc3Q6MSciKTsKCQkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNvYmplY3RzIChpZCwgcGFyZW50LCB0aXRsZSwgZGVzY3JpcHRp'));
	@fwrite($fp, base64_decode('b24sIGNvbmZpZGVudGlhbCkgdmFsdWVzICgnb2lkOjMuMS4xMCcsICd0ZXN0OjEnLCAnJywgJycsICcwJykiKTsKCQkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNvYmplY3RzIChpZCwgcGFyZW50LCB0aXRsZSwgZGVzY3JpcHRpb24sIGNvbmZpZGVudGlhbCkg'));
	@fwrite($fp, base64_decode('dmFsdWVzICgnb2lkOjMuMS4yJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgIi4kZGItPm5hdE9yZGVyKCdpZCcpLCBhcnJheSgn'));
	@fwrite($fp, base64_decode('dGVzdDoxJykpOwoJCSR2YWwgPSAkcmVzLT5mZXRjaF9vYmplY3QoKS0+aWQ7CgkJZWNobyAiTmF0dXJhbCBPSUQgU29ydGluZyAoPCAxNiBCaXQpOiAiIC4gKCR2YWwgPT0gJ29pZDozLjEuMicgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5GQUlMRUQ8'));
	@fwrite($fp, base64_decode('L2ZvbnQ+JykuIjxicj4iOwoKCQkkZGItPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ICd0ZXN0OjEnIik7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9u'));
	@fwrite($fp, base64_decode('LCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ29pZDoyLjI1LjMxNzkxOTczNjMxMjEwOTUyNTY4ODUyODA2ODE1NzE4MDg1NTU3OScsICd0ZXN0OjEnLCAnJywgJycsICcwJykiKTsKCQkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNvYmplY3RzIChpZCwgcGFyZW50'));
	@fwrite($fp, base64_decode('LCB0aXRsZSwgZGVzY3JpcHRpb24sIGNvbmZpZGVudGlhbCkgdmFsdWVzICgnb2lkOjIuMjUuNjc5MTk3MzYzMTIxMDk1MjU2ODg1MjgwNjgxNTcxODA4NTU1NzknLCAndGVzdDoxJywgJycsICcnLCAnMCcpIik7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBp'));
	@fwrite($fp, base64_decode('ZCBmcm9tICMjI29iamVjdHMgd2hlcmUgcGFyZW50ID0gPyBvcmRlciBieSAiLiRkYi0+bmF0T3JkZXIoJ2lkJyksIGFycmF5KCd0ZXN0OjEnKSk7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT5pZDsKCQllY2hvICJOYXR1cmFsIE9JRCBTb3J0aW5nICgx'));
	@fwrite($fp, base64_decode('MjggQml0KTogIiAuICgkdmFsID09ICdvaWQ6Mi4yNS42NzkxOTczNjMxMjEwOTUyNTY4ODUyODA2ODE1NzE4MDg1NTU3OScgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5GQUlMRUQ8L2ZvbnQ+JykuIjxicj4iOwoKCQkkZGItPnF1ZXJ5KCJkZWxldGUg'));
	@fwrite($fp, base64_decode('ZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ICd0ZXN0OjEnIik7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ2FiYzozLjEuMTAnLCAn'));
	@fwrite($fp, base64_decode('dGVzdDoxJywgJycsICcnLCAnMCcpIik7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ2FiYzozLjEuMicsICd0ZXN0OjEnLCAnJywgJycsICcw'));
	@fwrite($fp, base64_decode('JykiKTsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5ICIuJGRiLT5uYXRPcmRlcignaWQnKSwgYXJyYXkoJ3Rlc3Q6MScpKTsKCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCkt'));
	@fwrite($fp, base64_decode('PmlkOwoJCWVjaG8gIk5vbi1OYXR1cmFsIFNvcnRpbmcgZm9yIE5vbi1PSURzOiAiIC4gKCR2YWwgPT0gJ2FiYzozLjEuMTAnID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiI8YnI+IjsKCgkJLy8gLS0tIFRlc3QgaW5zZXJ0'));
	@fwrite($fp, base64_decode('X2lkKCkKCgkJJGRiLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjbG9nX29iamVjdCB3aGVyZSBvYmplY3QgPSAndGVzdDoxJyIpOwoJCSRjdXIgPSAkZGItPmluc2VydF9pZCgpOwoJCWVjaG8gIkluc2VydCBJRCBvbiBub24taW5zZXJ0OiAiIC4gKCRjdXIgPT0gMCA/'));
	@fwrite($fp, base64_decode('ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iICgkY3VyKTxicj4iOwoJCSRkYi0+cXVlcnkoImluc2VydCBpbnRvICMjI2xvZ19vYmplY3QgKGxvZ19pZCwgb2JqZWN0KSB2YWx1ZXMgKDEwMDAsICd0ZXN0OjEnKSIpOwoJCSRw'));
	@fwrite($fp, base64_decode('cmV2ID0gJGRiLT5pbnNlcnRfaWQoKTsKCQkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNsb2dfb2JqZWN0IChsb2dfaWQsIG9iamVjdCkgdmFsdWVzICgyMDAwLCAndGVzdDoxJykiKTsKCQkkY3VyID0gJGRiLT5pbnNlcnRfaWQoKTsKCQllY2hvICJJbnNlcnQg'));
	@fwrite($fp, base64_decode('SUQgb24gYWN0dWFsIGluc2VydHM6ICIgLiAoJGN1ciA9PSAkcHJldisxID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiIgKCRwcmV2ID0+ICRjdXIpPGJyPiI7CgkJaWYgKCRjdXIgIT0gJHByZXYrMSk7CgkJJGRiLT5xdWVy'));
	@fwrite($fp, base64_decode('eSgiZGVsZXRlIGZyb20gIyMjbG9nX29iamVjdCB3aGVyZSBvYmplY3QgPSAndGVzdDoxJyIpOwoJCSRjdXIgPSAkZGItPmluc2VydF9pZCgpOwoJCWVjaG8gIk5vbi1JbnNlcnQgcXVlcnkgd2lsbCByZXNldCBpbnNlcnQgSUQ6ICIgLiAoJGN1ciA9PSAwID8gJ1BB'));
	@fwrite($fp, base64_decode('U1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiIgKCRjdXIpPGJyPiI7CgoJfSBmaW5hbGx5IHsKCQkkZGItPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ICd0ZXN0OjEnIik7Cgl9CgkkZGItPmRpc2Nv'));
	@fwrite($fp, base64_decode('bm5lY3QoKTsKCWVjaG8gIjxicj4iOwp9Cg=='));
	@fclose($fp);
}
if (!is_file('dev/test/test_database_plugins.php')) {
	warn('File has vanished! Will re-create it: dev/test/test_database_plugins.php');
	writefile_3();
	if (!is_file('dev/test/test_database_plugins.php')) {
		warn('File cannot be created (not existing): dev/test/test_database_plugins.php');
	} else if (sha1_file('dev/test/test_database_plugins.php') != '9a2e28ea9247d7663829e5bf52f6895f1a9e6071') {
		warn('File cannot be created (checksum mismatch): dev/test/test_database_plugins.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('dev/test/test_database_plugins.php', 0644)) {
		warn('Could not change file permissions of dev/test/test_database_plugins.php');
	}
} else {
	if (@sha1_file('dev/test/test_database_plugins.php') !== '9a2e28ea9247d7663829e5bf52f6895f1a9e6071') {
		if (@sha1_file('dev/test/test_database_plugins.php') !== '09ab7f4677d264b7b30735999009d7931beece2c') {
			warn('File was modified. Will overwrite the changes now: dev/test/test_database_plugins.php');
			$tmp = pathinfo('dev/test/test_database_plugins.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('dev/test/test_database_plugins.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('dev/test/test_database_plugins.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('dev/test/test_database_plugins.php') !== '9a2e28ea9247d7663829e5bf52f6895f1a9e6071') {
			warn('File cannot be written (checksum mismatch): dev/test/test_database_plugins.php');
		}
	}
}

// Files different: includes/.htaccess
function writefile_4() {
	@$fp = fopen('includes/.htaccess', 'w');
	@fwrite($fp, base64_decode('T3JkZXIgRGVueSxBbGxvdwpEZW55IEZyb20gQWxsClJlcXVpcmUgYWxsIGRlbmllZAoK'));
	@fclose($fp);
}
if (!is_file('includes/.htaccess')) {
	warn('File has vanished! Will re-create it: includes/.htaccess');
	writefile_4();
	if (!is_file('includes/.htaccess')) {
		warn('File cannot be created (not existing): includes/.htaccess');
	} else if (sha1_file('includes/.htaccess') != '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		warn('File cannot be created (checksum mismatch): includes/.htaccess');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/.htaccess', 0644)) {
		warn('Could not change file permissions of includes/.htaccess');
	}
} else {
	if (@sha1_file('includes/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		if (@sha1_file('includes/.htaccess') !== '2e61197b1437bb55c9d20379ff16969a9f872967') {
			warn('File was modified. Will overwrite the changes now: includes/.htaccess');
			$tmp = pathinfo('includes/.htaccess');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/.htaccess')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/.htaccess', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('includes/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
			warn('File cannot be written (checksum mismatch): includes/.htaccess');
		}
	}
}

// Files different: includes/classes/OIDplusDatabaseConnection.class.php
function writefile_5() {
	@$fp = fopen('includes/classes/OIDplusDatabaseConnection.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmFic3RyYWN0IGNsYXNzIE9JRHBsdXNEYXRhYmFzZUNvbm5lY3Rpb24gewoJcHJvdGVjdGVkIC8qYm9vbCovICRjb25uZWN0ZWQgPSBmYWxzZTsKCXByb3RlY3RlZCAvKj9ib29sKi8gJGh0bWwgPSBu'));
	@fwrite($fp, base64_decode('dWxsOwoJcHJvdGVjdGVkIC8qP3N0cmluZyovICRsYXN0X3F1ZXJ5ID0gbnVsbDsKCXByb3RlY3RlZCAvKj9PSURwbHVzU3FsU2xhbmdQbHVnaW4qLyAkc2xhbmcgPSBudWxsOwoKCXByb3RlY3RlZCBhYnN0cmFjdCBmdW5jdGlvbiBkb1F1ZXJ5KHN0cmluZyAkc3Fs'));
	@fwrite($fp, base64_decode('LCAvKj9hcnJheSovICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURwbHVzUXVlcnlSZXN1bHQ7CglwdWJsaWMgYWJzdHJhY3QgZnVuY3Rpb24gZXJyb3IoKTogc3RyaW5nOwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2JlZ2luKCkvKjogdm9p'));
	@fwrite($fp, base64_decode('ZCovOwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpLyo6IHZvaWQqLzsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiB0cmFuc2FjdGlvbl9yb2xsYmFjaygpLyo6IHZvaWQqLzsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiB0'));
	@fwrite($fp, base64_decode('cmFuc2FjdGlvbl9zdXBwb3J0ZWQoKTogYm9vbDsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiB0cmFuc2FjdGlvbl9sZXZlbCgpOiBpbnQ7Cglwcm90ZWN0ZWQgYWJzdHJhY3QgZnVuY3Rpb24gZG9Db25uZWN0KCkvKjogdm9pZCovOwoJcHJvdGVjdGVkIGFic3Ry'));
	@fwrite($fp, base64_decode('YWN0IGZ1bmN0aW9uIGRvRGlzY29ubmVjdCgpLyo6IHZvaWQqLzsKCglwdWJsaWMgZnVuY3Rpb24gaW5zZXJ0X2lkKCk6IGludCB7CgkJLy8gVGhpcyBpcyB0aGUgImZhbGxiYWNrIiB2YXJpYW50LiBJZiB5b3VyIGRhdGFiYXNlIHByb3ZpZGVyIChlLmcuIFBETykg'));
	@fwrite($fp, base64_decode('c3VwcG9ydHMKCQkvLyBhIGZ1bmN0aW9uIHRvIGRldGVjdCB0aGUgbGFzdCBpbnNlcnRlZCBpZCwgcGxlYXNlIG92ZXJyaWRlIHRoaXMKCQkvLyBmdW5jdGlvbiBpbiBvcmRlciB0byB1c2UgdGhhdCBzcGVjaWFsaXplZCBmdW5jdGlvbiAoc2luY2UgaXQgaXMgdXN1'));
	@fwrite($fp, base64_decode('YWxseQoJCS8vIG1vcmUgcmVsaWFibGUpLgoJCXJldHVybiAkdGhpcy0+Z2V0U2xhbmcoKS0+aW5zZXJ0X2lkKCk7Cgl9CgoJcHVibGljIGZpbmFsIGZ1bmN0aW9uIHF1ZXJ5KHN0cmluZyAkc3FsLCAvKj9hcnJheSovICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURw'));
	@fwrite($fp, base64_decode('bHVzUXVlcnlSZXN1bHQgewoKCQkkcXVlcnlfbG9nZmlsZSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1FVRVJZX0xPR0ZJTEUnLCAnJyk7CgkJaWYgKCFlbXB0eSgkcXVlcnlfbG9nZmlsZSkpIHsKCQkJJHRzID0gZXhwbG9kZSgiICIsbWljcm90'));
	@fwrite($fp, base64_decode('aW1lKCkpOwoJCQkkdHMgPSBkYXRlKCJZLW0tZCBIOmk6cyIsJHRzWzFdKS5zdWJzdHIoKHN0cmluZykkdHNbMF0sMSw0KTsKCQkJc3RhdGljICRsb2dfc2Vzc2lvbl9pZCA9ICIiOwoJCQlpZiAoZW1wdHkoJGxvZ19zZXNzaW9uX2lkKSkgewoJCQkJJGxvZ19zZXNz'));
	@fwrite($fp, base64_decode('aW9uX2lkID0gcmFuZCgxMDAwMCw5OTk5OSk7CgkJCX0KCQkJJGZpbGUgPSBpc3NldCgkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSkgPyAnIHwgJy4kX1NFUlZFUlsnUkVRVUVTVF9VUkknXSA6ICcnOwoJCQlmaWxlX3B1dF9jb250ZW50cygkcXVlcnlfbG9nZmlsZSwg'));
	@fwrite($fp, base64_decode('IiR0cyA8JGxvZ19zZXNzaW9uX2lkJGZpbGU+ICRzcWxcbiIsIEZJTEVfQVBQRU5EKTsKCQl9CgoJCSR0aGlzLT5sYXN0X3F1ZXJ5ID0gJHNxbDsKCQkkc3FsID0gc3RyX3JlcGxhY2UoJyMjIycsIE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1RBQkxF'));
	@fwrite($fp, base64_decode('TkFNRV9QUkVGSVgnLCAnJyksICRzcWwpOwoJCXJldHVybiAkdGhpcy0+ZG9RdWVyeSgkc3FsLCAkcHJlcGFyZWRfYXJncyk7Cgl9CgoJcHVibGljIGZpbmFsIGZ1bmN0aW9uIGNvbm5lY3QoKS8qOiB2b2lkKi8gewoJCWlmICgkdGhpcy0+Y29ubmVjdGVkKSByZXR1'));
	@fwrite($fp, base64_decode('cm47CgkJJHRoaXMtPmJlZm9yZUNvbm5lY3QoKTsKCQkkdGhpcy0+ZG9Db25uZWN0KCk7CgkJJHRoaXMtPmNvbm5lY3RlZCA9IHRydWU7CgkJcmVnaXN0ZXJfc2h1dGRvd25fZnVuY3Rpb24oYXJyYXkoJHRoaXMsICdkaXNjb25uZWN0JykpOwoJCSR0aGlzLT5hZnRl'));
	@fwrite($fp, base64_decode('ckNvbm5lY3QoKTsKCX0KCglwdWJsaWMgZmluYWwgZnVuY3Rpb24gZGlzY29ubmVjdCgpLyo6IHZvaWQqLyB7CgkJaWYgKCEkdGhpcy0+Y29ubmVjdGVkKSByZXR1cm47CgkJJHRoaXMtPmJlZm9yZURpc2Nvbm5lY3QoKTsKCQkkdGhpcy0+ZG9EaXNjb25uZWN0KCk7'));
	@fwrite($fp, base64_decode('CgkJJHRoaXMtPmNvbm5lY3RlZCA9IGZhbHNlOwoJCSR0aGlzLT5hZnRlckRpc2Nvbm5lY3QoKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbmF0T3JkZXIoJGZpZWxkbmFtZSwgJG9yZGVyPSdhc2MnKTogc3RyaW5nIHsKCQlpZiAoIWlzX251bGwoJHRoaXMtPnNsYW5n'));
	@fwrite($fp, base64_decode('KSkgewoJCQlyZXR1cm4gJHRoaXMtPnNsYW5nLT5uYXRPcmRlcigkZmllbGRuYW1lLCAkb3JkZXIpOwoJCX0gZWxzZSB7CgkJCSRvcmRlciA9IHN0cnRvbG93ZXIoJG9yZGVyKTsKCQkJaWYgKCgkb3JkZXIgIT0gJ2FzYycpICYmICgkb3JkZXIgIT0gJ2Rlc2MnKSkg'));
	@fwrite($fp, base64_decode('ewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIkludmFsaWQgb3JkZXIgJyRvcmRlcicgKG5lZWRzIHRvIGJlICdhc2MnIG9yICdkZXNjJykiKTsKCQkJfQoKCQkJLy8gRm9yICh5ZXQpIHVuc3VwcG9ydGVkIERCTVMsIHdlIGRvIG5vdCBvZmZlciBuYXR1'));
	@fwrite($fp, base64_decode('cmFsIHNvcnQKCQkJcmV0dXJuICIkZmllbGRuYW1lICRvcmRlciI7CgkJfQoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBiZWZvcmVEaXNjb25uZWN0KCkvKjogdm9pZCovIHt9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGFmdGVyRGlzY29ubmVjdCgpLyo6IHZvaWQqLyB7'));
	@fwrite($fp, base64_decode('fQoKCXByb3RlY3RlZCBmdW5jdGlvbiBiZWZvcmVDb25uZWN0KCkvKjogdm9pZCovIHt9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGFmdGVyQ29ubmVjdCgpLyo6IHZvaWQqLyB7CgkJLy8gQ2hlY2sgaWYgdGhlIGNvbmZpZyB0YWJsZSBleGlzdHMuIFRoaXMgaXMgaW1w'));
	@fwrite($fp, base64_decode('b3J0YW50IGJlY2F1c2UgdGhlIGRhdGFiYXNlIHZlcnNpb24gaXMgc3RvcmVkIGluIGl0CgkJJHRoaXMtPmluaXRSZXF1aXJlVGFibGVzKGFycmF5KCdjb25maWcnKSk7CgoJCS8vIERvIHRoZSBkYXRhYmFzZSB0YWJsZXMgbmVlZCBhbiB1cGRhdGU/CgkJLy8gSXQg'));
	@fwrite($fp, base64_decode('aXMgaW1wb3J0YW50IHRoYXQgd2UgZG8gaXQgaW1tZWRpYXRlbHkgYWZ0ZXIgY29ubmVjdGluZywKCQkvLyBiZWNhdXNlIHRoZSBkYXRhYmFzZSBzdHJ1Y3R1cmUgbWlnaHQgY2hhbmdlIGFuZCB0aGVyZWZvcmUgdmFyaW91cyB0aGluZ3MgbWlnaHQgZmFpbC4KCQkv'));
	@fwrite($fp, base64_decode('LyBOb3RlOiBUaGUgY29uZmlnIHNldHRpbmcgImRhdGFiYXNlX3ZlcnNpb24iIGlzIGluc2VydGVkIGluIHNldHVwL3NxbC8uLi5zcWwsIG5vdCBpbiB0aGUgT0lEcGx1cyBjb3JlIGluaXQKCgkJJHJlcyA9ICR0aGlzLT5xdWVyeSgiU0VMRUNUIHZhbHVlIEZST00g'));
	@fwrite($fp, base64_decode('IyMjY29uZmlnIFdIRVJFIG5hbWUgPSAnZGF0YWJhc2VfdmVyc2lvbiciKTsKCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQlpZiAoJHJvdyA9PSBudWxsKSB7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Nh'));
	@fwrite($fp, base64_decode('bm5vdCBkZXRlcm1pbmUgZGF0YWJhc2UgdmVyc2lvbiAodGhlIGVudHJ5ICJkYXRhYmFzZV92ZXJzaW9uIiBpbnNpZGUgdGhlIHRhYmxlICIjIyNjb25maWciIGlzIHByb2JhYmx5IG1pc3NpbmcpJyk7CgkJfQoJCSR2ZXJzaW9uID0gJHJvd1sndmFsdWUnXTsKCQlp'));
	@fwrite($fp, base64_decode('ZiAoIWlzX251bWVyaWMoJHZlcnNpb24pIHx8ICgkdmVyc2lvbiA8IDIwMCkgfHwgKCR2ZXJzaW9uID4gOTk5KSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKCdFbnRyeSAiZGF0YWJhc2VfdmVyc2lvbiIgaW5zaWRl'));
	@fwrite($fp, base64_decode('IHRoZSB0YWJsZSAiIyMjY29uZmlnIiBzZWVtcyB0byBiZSB3cm9uZyAoZXhwZWN0IG51bWJlciBiZXR3ZWVuIDIwMCBhbmQgOTk5KScpOwoJCX0KCQl3aGlsZSAoZmlsZV9leGlzdHMoJGZpbGUgPSBPSURwbHVzOjpiYXNlUGF0aCgpLicvaW5jbHVkZXMvZGJfdXBk'));
	@fwrite($fp, base64_decode('YXRlcy91cGRhdGUkdmVyc2lvbi5pbmMucGhwJykpIHsKCQkJJHByZXZfdmVyc2lvbiA9ICR2ZXJzaW9uOwoJCQlpbmNsdWRlICRmaWxlOyAvLyBydW4gdXBkYXRlLXNjcmlwdAoJCQlpZiAoJHZlcnNpb24gIT0gJHByZXZfdmVyc2lvbisxKSB7CgkJCQkvLyBUaGlz'));
	@fwrite($fp, base64_decode('IHNob3VsZCB1c3VhbGx5IG5vdCBoYXBwZW4sIHNpbmNlIHRoZSB1cGRhdGUtZmlsZSBzaG91bGQgaW5jcmVhc2UgdGhlIHZlcnNpb24KCQkJCS8vIG9yIHRocm93IGFuIEV4Y2VwdGlvbiBieSBpdHNlbGYKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJE'));
	@fwrite($fp, base64_decode('YXRhYmFzZSB1cGRhdGUgJHByZXZfdmVyc2lvbiAtPiAiLigkcHJldl92ZXJzaW9uKzEpLiIgZmFpbGVkIChzY3JpcHQgcmVwb3J0cyBuZXcgdmVyc2lvbiB0byBiZSAkdmVyc2lvbikiKTsKCQkJfQoJCX0KCgkJLy8gTm93IHRoYXQgb3VyIGRhdGFiYXNlIGlzIHVw'));
	@fwrite($fp, base64_decode('LXRvLWRhdGUsIHdlIGNoZWNrIGlmIGRhdGFiYXNlIHRhYmxlcyBhcmUgZXhpc3RpbmcKCQkvLyB3aXRob3V0IGNvbmZpZyB0YWJsZSwgYmVjYXVzZSBpdCB3YXMgY2hlY2tlZCBhYm92ZQoJCSR0aGlzLT5pbml0UmVxdWlyZVRhYmxlcyhhcnJheSgnb2JqZWN0cycs'));
	@fwrite($fp, base64_decode('ICdhc24xaWQnLCAnaXJpJywgJ3JhJy8qLCAnY29uZmlnJyovKSk7Cgl9CgoJcHJvdGVjdGVkIHN0YXRpYyBmdW5jdGlvbiBnZXRIYXJkY29kZWRTbGFuZ0J5SWQoJGlkKS8qOiA/T0lEcGx1c1NxbFNsYW5nUGx1Z2luKi8gewoJCWZvcmVhY2ggKE9JRHBsdXM6Omdl'));
	@fwrite($fp, base64_decode('dFNxbFNsYW5nUGx1Z2lucygpIGFzICRwbHVnaW4pIHsKCQkJaWYgKCRwbHVnaW46OmlkKCkgPT0gJGlkKSB7CgkJCQlyZXR1cm4gJHBsdWdpbjsKCQkJfQoJCX0KCQlyZXR1cm4gbnVsbDsKCX0KCglwcml2YXRlIGZ1bmN0aW9uIGluaXRSZXF1aXJlVGFibGVzKCR0'));
	@fwrite($fp, base64_decode('YWJsZU5hbWVzKS8qOiB2b2lkKi8gewoJCSRtc2dzID0gYXJyYXkoKTsKCQlmb3JlYWNoICgkdGFibGVOYW1lcyBhcyAkdGFibGVOYW1lKSB7CgkJCSRwcmVmaXggPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdUQUJMRU5BTUVfUFJFRklYJywgJycp'));
	@fwrite($fp, base64_decode('OwoJCQlpZiAoISR0aGlzLT50YWJsZUV4aXN0cygkcHJlZml4LiR0YWJsZU5hbWUpKSB7CgkJCQkkbXNnc1tdID0gJ1RhYmxlICcuJHByZWZpeC4kdGFibGVOYW1lLicgaXMgbWlzc2luZyEnOwoJCQl9CgkJfQoJCWlmIChjb3VudCgkbXNncykgPiAwKSB7CgkJCXRo'));
	@fwrite($fp, base64_decode('cm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oaW1wbG9kZSgiXG5cbiIsJG1zZ3MpKTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRhYmxlRXhpc3RzKCR0YWJsZU5hbWUpOiBib29sIHsKCQl0cnkgewoJCQkkdGhpcy0+cXVlcnko'));
	@fwrite($fp, base64_decode('InNlbGVjdCAwIGZyb20gIi4kdGFibGVOYW1lLiIgd2hlcmUgMT0wIik7CgkJCXJldHVybiB0cnVlOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpc0Nvbm5lY3RlZCgpOiBib29sIHsK'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gJHRoaXMtPmNvbm5lY3RlZDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5pdCgkaHRtbCA9IHRydWUpLyo6IHZvaWQqLyB7CgkJJHRoaXMtPmh0bWwgPSAkaHRtbDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gc3FsRGF0ZSgpOiBzdHJpbmcgewoJCWlmICgh'));
	@fwrite($fp, base64_decode('aXNfbnVsbCgkdGhpcy0+c2xhbmcpKSB7CgkJCXJldHVybiAkdGhpcy0+c2xhbmctPnNxbERhdGUoKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gIiciIC4gZGF0ZXRpbWUoJ1ktbS1kIEg6aTpzJykgLiAiJyI7CgkJfQoJfQoKCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBn'));
	@fwrite($fp, base64_decode('ZXRTbGFuZyhib29sICRtdXN0RXhpc3Q9dHJ1ZSkvKjogP09JRHBsdXNTcWxTbGFuZ1BsdWdpbiovIHsKCQlpZiAoaXNfbnVsbCgkdGhpcy0+c2xhbmcpKSB7CgkJCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmV4aXN0cygnRk9SQ0VfREJNU19TTEFORycpKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkkbmFtZSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0ZPUkNFX0RCTVNfU0xBTkcnLCAnJyk7CgkJCQkkdGhpcy0+c2xhbmcgPSBzZWxmOjpnZXRIYXJkY29kZWRTbGFuZ0J5SWQoJG5hbWUpOwoJCQkJaWYgKCRtdXN0RXhpc3QgJiYgaXNf'));
	@fwrite($fp, base64_decode('bnVsbCgkdGhpcy0+c2xhbmcpKSB7CgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbigiRW5mb3JjZWQgU1FMIHNsYW5nICh2aWEgc2V0dGluZyBGT1JDRV9EQk1TX1NMQU5HKSAnJG5hbWUnIGRvZXMgbm90IGV4aXN0LiIp'));
	@fwrite($fp, base64_decode('OwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0U3FsU2xhbmdQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkJCWlmICgkcGx1Z2luLT5kZXRlY3QoKSkgewoJCQkJCQkkdGhpcy0+c2xhbmcgPSAkcGx1Z2luOwoJCQkJCQlicmVhazsK'));
	@fwrite($fp, base64_decode('CQkJCQl9CgkJCQl9CgkJCQlpZiAoJG11c3RFeGlzdCAmJiBpc19udWxsKCR0aGlzLT5zbGFuZykpIHsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiQ2Fubm90IGRldGVybWluZSB0aGUgU1FMIHNsYW5nIG9mIHlvdXIgREJNUy4gWW91ciBEQk1TIGlz'));
	@fwrite($fp, base64_decode('IHByb2JhYmx5IG5vdCBzdXBwb3J0ZWQuIik7CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiAkdGhpcy0+c2xhbmc7Cgl9Cn0KCg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusDatabaseConnection.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusDatabaseConnection.class.php');
	writefile_5();
	if (!is_file('includes/classes/OIDplusDatabaseConnection.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusDatabaseConnection.class.php');
	} else if (sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') != '24fa3cf73122922e27a67db0d7b3da36abd18c0c') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusDatabaseConnection.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusDatabaseConnection.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusDatabaseConnection.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') !== '24fa3cf73122922e27a67db0d7b3da36abd18c0c') {
		if (@sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') !== 'c7fcfa86f64b0a791114f51943dcc57d578a1b81') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusDatabaseConnection.class.php');
			$tmp = pathinfo('includes/classes/OIDplusDatabaseConnection.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusDatabaseConnection.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusDatabaseConnection.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') !== '24fa3cf73122922e27a67db0d7b3da36abd18c0c') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusDatabaseConnection.class.php');
		}
	}
}

// Files different: plugins/publicPages/100_whois/whois/cli/.htaccess
function writefile_6() {
	@$fp = fopen('plugins/publicPages/100_whois/whois/cli/.htaccess', 'w');
	@fwrite($fp, base64_decode('T3JkZXIgRGVueSxBbGxvdwpEZW55IEZyb20gQWxsClJlcXVpcmUgYWxsIGRlbmllZAoK'));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/100_whois/whois/cli/.htaccess')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/100_whois/whois/cli/.htaccess');
	writefile_6();
	if (!is_file('plugins/publicPages/100_whois/whois/cli/.htaccess')) {
		warn('File cannot be created (not existing): plugins/publicPages/100_whois/whois/cli/.htaccess');
	} else if (sha1_file('plugins/publicPages/100_whois/whois/cli/.htaccess') != '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/100_whois/whois/cli/.htaccess');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/100_whois/whois/cli/.htaccess', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/100_whois/whois/cli/.htaccess');
	}
} else {
	if (@sha1_file('plugins/publicPages/100_whois/whois/cli/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		if (@sha1_file('plugins/publicPages/100_whois/whois/cli/.htaccess') !== '2e61197b1437bb55c9d20379ff16969a9f872967') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/100_whois/whois/cli/.htaccess');
			$tmp = pathinfo('plugins/publicPages/100_whois/whois/cli/.htaccess');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/100_whois/whois/cli/.htaccess')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/100_whois/whois/cli/.htaccess', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('plugins/publicPages/100_whois/whois/cli/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/100_whois/whois/cli/.htaccess');
		}
	}
}

// Files different: setup/index.php
function writefile_7() {
	@$fp = fopen('setup/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKPz48IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgoKPGhlYWQ+Cgk8dGl0bGU+T0lEcGx1cyBTZXR1cDwvdGl0bGU+Cgk8bWV0YSBuYW1lPSJy'));
	@fwrite($fp, base64_decode('b2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgiPgoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzZXR1cC5jc3MiPgoJPHNjcmlwdCBz'));
	@fwrite($fp, base64_decode('cmM9Ii4uLzNwL3NoYTNfanMvc2hhMy5qcyI+PC9zY3JpcHQ+PCEtLSBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLXNoYTMgLS0+Cgk8c2NyaXB0IHNyYz0ic2V0dXAuanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cgo8Ym9keSBvbmxvYWQ9InJlYnVpbGQoKSI+Cgo8'));
	@fwrite($fp, base64_decode('aDE+T0lEcGx1cyBTZXR1cCAtIENvbmZpZ3VyYXRpb24gRmlsZSBHZW5lcmF0b3I8L2gxPgoKPHA+VGhhbmsgeW91IHZlcnkgbXVjaCBmb3IgY2hvb3NpbmcgT0lEcGx1cyEgVGhpcyBzZXR1cCBhc3Npc3RhbnQgd2lsbCBoZWxwIHlvdSBjcmVhdGluZyBvciB1cGRh'));
	@fwrite($fp, base64_decode('dGluZyB0aGUgZmlsZSA8Yj51c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhwPC9iPi4KU2V0dXAgZG9lcyBub3QgYXV0b21hdGljYWxseSB3cml0ZSB0byB0aGlzIGZpbGUuIEluc3RlYWQsIHlvdSBuZWVkIHRvIGNvcHktcGFzdGUgdGhlIGNvbnRlbnRz'));
	@fwrite($fp, base64_decode('IGludG8gdGhlIGZpbGUuCk9uY2UgT0lEcGx1cyBzZXR1cCBpcyBmaW5pc2hlZCwgeW91IGNhbiBjaGFuZ2UgdGhlIGNvbmZpZyBmaWxlIGJ5IGhhbmQsIG9yIHJ1biB0aGlzIHNldHVwIGFzc2lzdGFudCBhZ2Fpbi48L3A+Cgo8aDIgaWQ9InN5c3RlbUNoZWNrQ2Fw'));
	@fwrite($fp, base64_decode('dGlvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+U3lzdGVtIGNoZWNrPC9oMj4KCjxkaXYgaWQ9ImRpckFjY2Vzc1dhcm5pbmciPjwvZGl2PgoKPHNjcmlwdD4KZnVuY3Rpb24gY2hlY2tBY2Nlc3MoZGlyKSB7Cgl2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7'));
	@fwrite($fp, base64_decode('Cgl4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CgkJaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7CgkJCWlmICh4aHIuc3RhdHVzID09PSAyMDApIHsKCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeXN0ZW1DaGVja0NhcHRpb24nKS5z'));
	@fwrite($fp, base64_decode('dHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXJBY2Nlc3NXYXJuaW5nJykuaW5uZXJIVE1MID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpckFjY2Vzc1dhcm5pbmcnKS5pbm5lckhUTUwgKyAnQXR0ZW50aW9u'));
	@fwrite($fp, base64_decode('OiBUaGUgZm9sbG93aW5nIGRpcmVjdG9yeSBpcyB3b3JsZC1yZWFkYWJsZTogPGEgdGFyZ2V0PSJfYmxhbmsiIGhyZWY9IicreGhyLnJlc3BvbnNlVVJMKyciPicreGhyLnJlc3BvbnNlVVJMKyc8L2E+ICEgWW91IG5lZWQgdG8gY29uZmlndXJlIHlvdXIgd2ViIHNl'));
	@fwrite($fp, base64_decode('cnZlciB0byByZXN0cmljdCBhY2Nlc3MgdG8gdGhpcyBkaXJlY3RvcnkhIChGb3IgQXBhY2hlIHNlZSA8aT4uaHRhY2Nlc3M8L2k+LCBmb3IgTWljcm9zb2Z0IElJUyBzZWUgPGk+d2ViLmNvbmZpZzwvaT4sIGZvciBOZ2lueCBzZWUgPGk+bmdpbnguY29uZjwvaT4p'));
	@fwrite($fp, base64_decode('PGJyPic7CgkJCX0KCQl9Cgl9OwoKCXhoci5vcGVuKCdHRVQnLCBkaXIpOwoJeGhyLnNlbmQoKTsKfQoKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpckFjY2Vzc1dhcm5pbmcnKS5pbm5lckhUTUwgPSAiIjsKY2hlY2tBY2Nlc3MoJy4uL3VzZXJkYXRhLycpOwpj'));
	@fwrite($fp, base64_decode('aGVja0FjY2VzcygnLi4vZGV2LycpOwpjaGVja0FjY2VzcygnLi4vaW5jbHVkZXMvJyk7Ci8vY2hlY2tBY2Nlc3MoJy4uL3BsdWdpbnMvcHVibGljUGFnZXMvMTAwX3dob2lzL3dob2lzL2NsaS8nKTsKPC9zY3JpcHQ+Cgo8ZGl2IGlkPSJzdGVwMSI+CjxoMj5TdGVw'));
	@fwrite($fp, base64_decode('IDE6IEVudGVyIHNldHVwIGluZm9ybWF0aW9uPC9oMj4KCjxoMz5BZG1pbmlzdHJhdG9yIHBhc3N3b3JkPC9oMz4KCjxmb3JtIGlkPSJzdGVwMV9mb3JtIj4KPHA+V2hpY2ggYWRtaW4gcGFzc3dvcmQgZG8geW91IHdhbnQ/PGJyPjxpbnB1dCBpZD0iYWRtaW5fcGFz'));
	@fwrite($fp, base64_decode('c3dvcmQiIHR5cGU9InBhc3N3b3JkIiBhdXRvY29tcGxldGU9Im5ldy1wYXNzd29yZCIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVwPSJyZWJ1aWxkKCkiPiA8c3BhbiBpZD0icGFzc3dvcmRfd2FybiI+PC9zcGFuPjwvcD4KPHA+UGxlYXNlIHJlcGVhdCB0'));
	@fwrite($fp, base64_decode('aGUgcGFzc3dvcmQgaW5wdXQ6PGJyPjxpbnB1dCBpZD0iYWRtaW5fcGFzc3dvcmQyIiB0eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQiIG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj4gPHNwYW4gaWQ9InBh'));
	@fwrite($fp, base64_decode('c3N3b3JkX3dhcm4yIj48L3NwYW4+PC9wPgoKPGgzPkRhdGFiYXNlIGNvbm5lY3Rpdml0eTwvaDM+Cgo8cD48YSBocmVmPSIuLi9wbHVnaW5zL2RhdGFiYXNlL2RhdGFiYXNlX2Nvbm5lY3Rpdml0eV9kaWFncmFtLnBuZyIgdGFyZ2V0PSJfYmxhbmsiPjxpbWcgc3Jj'));
	@fwrite($fp, base64_decode('PSIuLi9wbHVnaW5zL2RhdGFiYXNlL2RhdGFiYXNlX2Nvbm5lY3Rpdml0eV9kaWFncmFtLnBuZyIgd2lkdGg9IjIwJSIgYWx0PSJEYXRhYmFzZSBjb25uZWN0aXZpdHkgZGlhZ3JhbSIgdGl0bGU9IkRhdGFiYXNlIGNvbm5lY3Rpdml0eSBkaWFncmFtIj48L2E+PC9w'));
	@fwrite($fp, base64_decode('PgoKRGF0YWJhc2UgcGx1Z2luOiA8c2VsZWN0IG5hbWU9ImRiX3BsdWdpbiIgb25DaGFuZ2U9ImRicGx1Z2luX2NoYW5nZWQoKSIgaWQ9ImRiX3BsdWdpbiI+Cgo8P3BocAoKT0lEcGx1czo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdkYXRhYmFzZScsICdPSURwbHVzRGF0'));
	@fwrite($fp, base64_decode('YWJhc2VQbHVnaW4nLCBudWxsKTsKZm9yZWFjaCAoZ2V0X2RlY2xhcmVkX2NsYXNzZXMoKSBhcyAkYykgewoJaWYgKGlzX3N1YmNsYXNzX29mKCRjLCAnT0lEcGx1c0RhdGFiYXNlUGx1Z2luJykpIHsKCQkkc2VsZWN0ZWQgPSAkYzo6aWQoKSA9PSAnTXlTUUwnID8g'));
	@fwrite($fp, base64_decode('JyBzZWxlY3RlZD0idHJ1ZSInIDogJyc7CgkJZWNobyAnPG9wdGlvbiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJGM6OmlkKCkpLiciJy4kc2VsZWN0ZWQuJz4nLmh0bWxlbnRpdGllcygkYzo6aWQoKSkuJzwvb3B0aW9uPic7Cgl9Cn0KCj8+Cjwvc2VsZWN0PgoKPHNj'));
	@fwrite($fp, base64_decode('cmlwdD4KCnNldHVwZGlyID0gJzw/cGhwIGVjaG8gKGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAkX1NFUlZFUlsnSFRUUFMnXSA9PT0gJ29uJyA/ICJodHRwcyIgOiAiaHR0cCIpIC4gIjovLyIgLiAkX1NFUlZFUlsiSFRUUF9IT1NUIl0gLiAkX1NFUlZFUlsn'));
	@fwrite($fp, base64_decode('UkVRVUVTVF9VUkknXTsgPz4nOwpyZWJ1aWxkX2NhbGxiYWNrcyA9IFtdOwpyZWJ1aWxkX2NvbmZpZ19jYWxsYmFja3MgPSBbXTsKcGx1Z2luX2NvbWJvYm94X2NoYW5nZV9jYWxsYmFja3MgPSBbXTsKCmZ1bmN0aW9uIGRicGx1Z2luX2NoYW5nZWQoKSB7Cgl2YXIg'));
	@fwrite($fp, base64_decode('ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkYl9wbHVnaW4iKTsKCXZhciBzdHJQbHVnaW4gPSBlLm9wdGlvbnNbZS5zZWxlY3RlZEluZGV4XS52YWx1ZTsKCglmb3IgKHZhciBpID0gMDsgaSA8IHBsdWdpbl9jb21ib2JveF9jaGFuZ2VfY2FsbGJhY2tzLmxl'));
	@fwrite($fp, base64_decode('bmd0aDsgaSsrKSB7CgkJdmFyIGYgPSBwbHVnaW5fY29tYm9ib3hfY2hhbmdlX2NhbGxiYWNrc1tpXTsKCQlmKHN0clBsdWdpbik7Cgl9CgoJcmVidWlsZCgpOwp9Cgo8L3NjcmlwdD4KCjxkaXYgc3R5bGU9Im1hcmdpbi1sZWZ0OjUwcHgiPgoKPD9waHAKCk9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OnJlZ2lzdGVyQWxsUGx1Z2lucygnc3FsU2xhbmcnLCAnT0lEcGx1c1NxbFNsYW5nUGx1Z2luJywgbnVsbCk7CiRzcWxfc2xhbmdfc2VsZWN0aW9uID0gYXJyYXkoKTsKZm9yZWFjaCAoZ2V0X2RlY2xhcmVkX2NsYXNzZXMoKSBhcyAkYykgewoJaWYgKGlzX3N1'));
	@fwrite($fp, base64_decode('YmNsYXNzX29mKCRjLCAnT0lEcGx1c1NxbFNsYW5nUGx1Z2luJykpIHsKCQkkb2JqID0gbmV3ICRjOwoJCSRzbGFuZ19pZCA9ICRvYmo6OmlkKCk7CgkJJHBsdWdpbkluZm8gPSBPSURwbHVzOjpnZXRQbHVnaW5JbmZvKCRvYmopOwoJCSRodW1hbl9mcmllbmRseV9u'));
	@fwrite($fp, base64_decode('YW1lID0gaXNzZXQoJHBsdWdpbkluZm9bJ25hbWUnXSkgPyAkcGx1Z2luSW5mb1snbmFtZSddIDogZ2V0X2NsYXNzKCRvYmopOwoJCSRzcWxfc2xhbmdfc2VsZWN0aW9uW10gPSAnPG9wdGlvbiB2YWx1ZT0iJy4kc2xhbmdfaWQuJyI+Jy4kaHVtYW5fZnJpZW5kbHlf'));
	@fwrite($fp, base64_decode('bmFtZS4nPC9vcHRpb24+JzsKCX0KfQokc3FsX3NsYW5nX3NlbGVjdGlvbiA9IGltcGxvZGUoIlxuIiwgJHNxbF9zbGFuZ19zZWxlY3Rpb24pOwoKJGZpbGVzID0gYXJyYXkoKTsKCiRhcnkgPSBPSURwbHVzOjpnZXRBbGxQbHVnaW5NYW5pZmVzdHMoJ2RhdGFiYXNl'));
	@fwrite($fp, base64_decode('Jyk7CmZvcmVhY2ggKCRhcnkgYXMgJHBsdWdpbnR5cGVfZm9sZGVyID0+ICRicnkpIHsKCWZvcmVhY2ggKCRicnkgYXMgJHBsdWdpbm5hbWVfZm9sZGVyID0+ICRjcnkpIHsKCQlpZiAoIWlzc2V0KCRjcnlbJ1NldHVwJ10pKSBjb250aW51ZTsKCQlmb3JlYWNoICgk'));
	@fwrite($fp, base64_decode('Y3J5WydTZXR1cCddIGFzICRkcnlfbmFtZSA9PiAkZHJ5KSB7CgkJCWlmICgkZHJ5X25hbWUgIT0gJ2h0bWxwYXJ0JykgY29udGludWU7CgkJCWZvcmVhY2ggKCRkcnkgYXMgJGh0bWxfZmlsZSkgewoJCQkJJGZpbGVzW10gPSBPSURwbHVzOjpiYXNlUGF0aCgpLicv'));
	@fwrite($fp, base64_decode('cGx1Z2lucy8nLiRwbHVnaW50eXBlX2ZvbGRlci4nLycuJHBsdWdpbm5hbWVfZm9sZGVyLicvJy4kaHRtbF9maWxlOwoJCQl9CgkJfQoJfQp9Cgpmb3JlYWNoICgkZmlsZXMgYXMgJGZpbGUpIHsKCSRjb250ID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGUpOwoJJGNv'));
	@fwrite($fp, base64_decode('bnQgPSBzdHJfcmVwbGFjZSgnPCEtLSAlU1FMX1NMQU5HX1NFTEVDVElPTiUgLS0+JywgJHNxbF9zbGFuZ19zZWxlY3Rpb24sICRjb250KTsKCWVjaG8gJGNvbnQ7Cn0KaWYgKGNvdW50KCRmaWxlcykgPT0gMCkgewoJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+'));
	@fwrite($fp, base64_decode('RVJST1I6IE5vIGRhdGFiYXNlIHBsdWdpbnMgd2VyZSBmb3VuZCEgWW91IENBTk5PVCB1c2UgT0lEcGx1cyB3aXRob3V0IGRhdGFiYXNlIGNvbm5lY3Rpb24uPC9mb250PjwvcD4nOwp9Cgo/PgoKPC9kaXY+Cgo8c2NyaXB0PgpkYnBsdWdpbl9jaGFuZ2VkKCk7Cjwv'));
	@fwrite($fp, base64_decode('c2NyaXB0PgoKPHA+VGFibGVuYW1lIHByZWZpeCAoZS5nLiA8Yj5vaWRwbHVzXzwvYj4pOjxicj48aW5wdXQgaWQ9InRhYmxlbmFtZV9wcmVmaXgiIHR5cGU9InRleHQiIHZhbHVlPSJvaWRwbHVzXyIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVwPSJyZWJ1'));
	@fwrite($fp, base64_decode('aWxkKCkiPjwvcD4KCjxoMz5SZUNBUFRDSEE8L2gzPgoKPHA+PGlucHV0IGlkPSJyZWNhcHRjaGFfZW5hYmxlZCIgdHlwZT0iY2hlY2tib3giIG9uY2xpY2s9InJlYnVpbGQoKSI+IDxsYWJlbCBmb3I9InJlY2FwdGNoYV9lbmFibGVkIj5yZUNBUFRDSEEgZW5hYmxl'));
	@fwrite($fp, base64_decode('ZDwvbGFiZWw+ICg8YSBocmVmPSJodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvaW50cm8iIHRhcmdldD0iX2JsYW5rIj5tb3JlIGluZm9ybWF0aW9uIGFuZCBvYnRhaW4ga2V5PC9hPik8L3A+CjxwPnJlQ0FQVENIQSBQdWJsaWMga2V5PGJy'));
	@fwrite($fp, base64_decode('PjxpbnB1dCBpZD0icmVjYXB0Y2hhX3B1YmxpYyIgdHlwZT0idGV4dCIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVwPSJyZWJ1aWxkKCkiPjwvcD4KPHA+cmVDQVBUQ0hBIFByaXZhdGUga2V5PGJyPjxpbnB1dCBpZD0icmVjYXB0Y2hhX3ByaXZhdGUiIHR5'));
	@fwrite($fp, base64_decode('cGU9InRleHQiIG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj48L3A+Cgo8aDM+VExTPC9oMz4KCjxwPlNTTCBlbmZvcmNlbWVudDxicj48c2VsZWN0IG5hbWU9ImVuZm9yY2Vfc3NsIiBpZD0iZW5mb3JjZV9zc2wiIG9uY2xpY2s9InJl'));
	@fwrite($fp, base64_decode('YnVpbGQoKSI+CjxvcHRpb24gdmFsdWU9IjAiPk5vIFNTTCBhdmFpbGFibGUgKGRvbid0IHJlZGlyZWN0KTwvb3B0aW9uPgo8b3B0aW9uIHZhbHVlPSIxIj5FbmZvcmNlIFNTTCAoYWx3YXlzIHJlZGlyZWN0KTwvb3B0aW9uPgo8b3B0aW9uIHZhbHVlPSIyIiBzZWxl'));
	@fwrite($fp, base64_decode('Y3RlZD5JbnRlbGxpZ2VudCBTU0wgZGV0ZWN0aW9uIChyZWRpcmVjdCBpZiBwb3J0IDQ0MyBpcyBvcGVuKTwvb3B0aW9uPgo8L3NlbGVjdD48L3A+CjwvZm9ybT4KPC9kaXY+Cgo8ZGl2IGlkPSJzdGVwMiI+CjxoMj5TdGVwIDI6IEluaXRpYWxpemUgZGF0YWJhc2U8'));
	@fwrite($fp, base64_decode('L2gyPgo8cD48Zm9udCBjb2xvcj0icmVkIj48Yj5JZiB5b3UgYWxyZWFkeSBoYXZlIGFuIE9JRHBsdXMgZGF0YWJhc2UgYW5kIGp1c3Qgd2FudCB0byByZWJ1aWxkIHRoZSBjb25maWcgZmlsZSwgcGxlYXNlIHNraXAgdGhpcyBzdGVwLjwvYj48L2ZvbnQ+PC9wPgo8'));
	@fwrite($fp, base64_decode('cD5PdGhlcndpc2UsIGltcG9ydCBvbmUgb2YgdGhlIGZvbGxvd2luZyBNeVNRTCBkdW1wcyBpbiB5b3VyIGRhdGFiYXNlOjwvcD4KPHA+PHVsPgoJPGxpPjxhIGhyZWY9InN0cnVjdF9lbXB0eS5zcWwucGhwIiBpZD0ic3RydWN0XzEiIHRhcmdldD0iX2JsYW5rIj5F'));
	@fwrite($fp, base64_decode('bXB0eSBPSURwbHVzIGRhdGFiYXNlIHdpdGhvdXQgZXhhbXBsZSBkYXRhPC9hPjxzcGFuIGlkPSJzdHJ1Y3RfY2xpXzEiPjwvc3Bhbj48YnI+PGJyPjwvbGk+Cgk8bGk+PGEgaHJlZj0ic3RydWN0X3dpdGhfZXhhbXBsZXMuc3FsLnBocCIgaWQ9InN0cnVjdF8yIiB0'));
	@fwrite($fp, base64_decode('YXJnZXQ9Il9ibGFuayI+T0lEcGx1cyBkYXRhYmFzZSB3aXRoIGV4YW1wbGUgZGF0YTwvYT48c3BhbiBpZD0ic3RydWN0X2NsaV8yIj48L3NwYW4+PGJyPjxicj48L2xpPgoKPC91bD48L3A+CjxwPjxmb250IGNvbG9yPSJyZWQiPldhcm5pbmc6IEFsbCBkYXRhIGZy'));
	@fwrite($fp, base64_decode('b20gdGhlIHByZXZpb3VzIE9JRHBsdXMgaW5zdGFuY2Ugd2lsbCBiZSBkZWxldGVkIGR1cmluZyB0aGUgaW1wb3J0Ljxicj5JZiB5b3UgYWxyZWFkeSBoYXZlIGFuIE9JRHBsdXMgZGF0YWJhc2UsIHNraXAgdG8gU3RlcCAzLjwvZm9udD48L3A+Cgo8L2Rpdj4KCjxk'));
	@fwrite($fp, base64_decode('aXYgaWQ9InN0ZXAzIj4KPGgyPlN0ZXAgMzogU2F2ZSB1c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhwIGZpbGU8L2gyPgo8cD5TYXZlIGZvbGxvd2luZyBjb250ZW50cyBpbnRvIHRoZSBmaWxlIDxiPnVzZXJkYXRhL2Jhc2Vjb25maWcvY29uZmlnLmlu'));
	@fwrite($fp, base64_decode('Yy5waHA8L2I+OjwvcD4KPGNvZGU+PGZvbnQgY29sb3I9ImRhcmtibHVlIj48ZGl2IGlkPSJjb25maWciPjwvZGl2PjwvZm9udD48L2NvZGU+CjwvZGl2PgoKPGRpdiBpZD0ic3RlcDQiPgo8aDI+U3RlcCA0OiBDb250aW51ZSB0byBuZXh0IHN0ZXA8L2gyPgo8cD48'));
	@fwrite($fp, base64_decode('aW5wdXQgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJ3aW5kb3cubG9jYXRpb24uaHJlZj0nLi4vJyIgdmFsdWU9IkNvbnRpbnVlIj48L3A+CjwhLS0gPHA+PGEgaHJlZj0iLi4vIj5SdW4gdGhlIE9JRHBsdXMgc3lzdGVtPC9hPjwvcD4gLS0+CjwvZGl2PgoKPC9ib2R5'));
	@fwrite($fp, base64_decode('Pgo8L2h0bWw+Cg=='));
	@fclose($fp);
}
if (!is_file('setup/index.php')) {
	warn('File has vanished! Will re-create it: setup/index.php');
	writefile_7();
	if (!is_file('setup/index.php')) {
		warn('File cannot be created (not existing): setup/index.php');
	} else if (sha1_file('setup/index.php') != '85a97bf1dde4ade0396ff2c3d39cf684f49d6e0b') {
		warn('File cannot be created (checksum mismatch): setup/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/index.php', 0644)) {
		warn('Could not change file permissions of setup/index.php');
	}
} else {
	if (@sha1_file('setup/index.php') !== '85a97bf1dde4ade0396ff2c3d39cf684f49d6e0b') {
		if (@sha1_file('setup/index.php') !== 'ff38ff9d441c725d5b249f7ee22477569fd7bf88') {
			warn('File was modified. Will overwrite the changes now: setup/index.php');
			$tmp = pathinfo('setup/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('setup/index.php') !== '85a97bf1dde4ade0396ff2c3d39cf684f49d6e0b') {
			warn('File cannot be written (checksum mismatch): setup/index.php');
		}
	}
}

// Files different: setup/setup.css
function writefile_8() {
	@$fp = fopen('setup/setup.css', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKYm9keSB7Cglmb250LWZhbWlseTpBcmlhbDsKCWJhY2tncm91bmQtY29sb3I6ICNFQkVCRUI7CgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoInNldHVwX2JnLnBuZyIpOwoJYmFja2dyb3VuZC1yZXBlYXQ6IHJlcGVh'));
	@fwrite($fp, base64_decode('dDsKfQoKaW5wdXRbdHlwZT1idXR0b25dLCBpbnB1dFt0eXBlPXN1Ym1pdF0sIGlucHV0W3R5cGU9cmVzZXRdIHsKCWN1cnNvcjpwb2ludGVyOwp9CgojZGlyQWNjZXNzV2FybmluZyB7Cgljb2xvcjpyZWQ7Cn0K'));
	@fclose($fp);
}
if (!is_file('setup/setup.css')) {
	warn('File has vanished! Will re-create it: setup/setup.css');
	writefile_8();
	if (!is_file('setup/setup.css')) {
		warn('File cannot be created (not existing): setup/setup.css');
	} else if (sha1_file('setup/setup.css') != 'c2777f0014a532a3384e7eefda5341cf9996cb53') {
		warn('File cannot be created (checksum mismatch): setup/setup.css');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/setup.css', 0644)) {
		warn('Could not change file permissions of setup/setup.css');
	}
} else {
	if (@sha1_file('setup/setup.css') !== 'c2777f0014a532a3384e7eefda5341cf9996cb53') {
		if (@sha1_file('setup/setup.css') !== 'ceac036c7349594a6cd66e54f7a3b5489eb739a5') {
			warn('File was modified. Will overwrite the changes now: setup/setup.css');
			$tmp = pathinfo('setup/setup.css');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/setup.css')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/setup.css', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_8();
		if (@sha1_file('setup/setup.css') !== 'c2777f0014a532a3384e7eefda5341cf9996cb53') {
			warn('File cannot be written (checksum mismatch): setup/setup.css');
		}
	}
}

// Files different: userdata/.htaccess
function writefile_9() {
	@$fp = fopen('userdata/.htaccess', 'w');
	@fwrite($fp, base64_decode('T3JkZXIgRGVueSxBbGxvdwpEZW55IEZyb20gQWxsClJlcXVpcmUgYWxsIGRlbmllZAoK'));
	@fclose($fp);
}
if (!is_file('userdata/.htaccess')) {
	warn('File has vanished! Will re-create it: userdata/.htaccess');
	writefile_9();
	if (!is_file('userdata/.htaccess')) {
		warn('File cannot be created (not existing): userdata/.htaccess');
	} else if (sha1_file('userdata/.htaccess') != '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		warn('File cannot be created (checksum mismatch): userdata/.htaccess');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('userdata/.htaccess', 0644)) {
		warn('Could not change file permissions of userdata/.htaccess');
	}
} else {
	if (@sha1_file('userdata/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
		if (@sha1_file('userdata/.htaccess') !== '2e61197b1437bb55c9d20379ff16969a9f872967') {
			warn('File was modified. Will overwrite the changes now: userdata/.htaccess');
			$tmp = pathinfo('userdata/.htaccess');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('userdata/.htaccess')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('userdata/.htaccess', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_9();
		if (@sha1_file('userdata/.htaccess') !== '6827a31b1ec7cc8d4e964e34f7ce5857b82a01ac') {
			warn('File cannot be written (checksum mismatch): userdata/.htaccess');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 299\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 299') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

