<?php /* <ViaThinkSoftSignature>
C9uONPwZYttZRcW0NVYIzv+Bo5bZmEQBYZtAW1jggetIVYkOVhfDtBrzaK100pNRd
CLq3CCe0w7rkpjEwGamZ6SbRKLVYbDdZpR5INJVvPqslZolWPqH+L8UYP6gumXqWW
sZY/iXAg2dA3yD0xNtmHaCCLvX166wOr0o1egDQl9SRcWUGvtNz0IKiDdtuCiENWu
0uEG3HBx1q2QFiHOAKRAImA+CpiDQ9Di/XtPH2EJOoK3d2/HVB9d8/Omp+SJq/xf2
bB4tC6Yb1xnNo2k+94ec2Q1MiJIbXYbjno7mZ+xJpD+XBHgaPlV2esPEyBtM2iycX
fl6dTP+k0NjQP1kByZwglW/HB+T9/F3sf2BC49ctcdVeG+qT10GbhQPpcLqTqRBH2
cxWoj8rDOS7zAfJCZyw47qi4JZAitSHRnknO4ANH2Gz7aRwbQcUZqXu0V5sQq6Rgg
5Z0ZModn3v64HACAEMoC6fKDovm0CEjEAjhZoGddBHq7d7SJe4DSnqKXDs0c3PU56
kzTALbJqrqjO43jS12SES5far83pFN/flIgIIIuuuakAsM+QRBIW8XvOgVmhKYEyR
/2+iBjxTQWB/nFqRwYUvjmh1YUfzddyv8/c7qP3w6a22Ug8Tm+snVYPCLxdjD/tZ0
kQdkiQMbzv5ku4KYQ//UbMlNX/+Ti06f2RVfgPl2Fkl7IbtDkG3uUBpeVGRWscZHm
SgXV292m1au2iNsh3W804/1MYIyw8uI8J/EyAj2I7+kbXZ+RJlN+KqUddhUz+o9F8
refSx/DTrt5y5YKMNIA0aBmK3SCNOwbDylIpLvzM7JQdoqj0OM8QtdGreJAKGDdHS
UlOFmjpfPKSLl2oYw/MZ5VaId3E+AwAzVqGSZe73gQA+e+Z5tvmIkAiMVgyJsxa1e
EQ0AW0HLrbVKa2qI2UO0WG5FULGgjh/4NyHRM0upWdL0y1BHw/H617Xz5SR1MTHcb
Ro4PK4D3eU05coQ48hysHsKtllXk4kXPLJiHsdFIYR1Ix2gdZJrF9cBDhgAbQhU+6
CHznTOdqhsPB4uiN9x8xUhg5tEr1OFNRMjZ1fyvHMgaZqC+VSxzZrFnjV1Q1sr0Mn
SjMWDSx7nxZ8yBIR5hTK883BGdRyj+om7BICQnHq58tw/sWjFmfEzb2Fh1j+kCa2S
9hoKLtByscZqgOJ1vFBSbfjZE1o4hKGJSnzUbm6ZiZzM5isWyLnxDqWf9woy2B2X1
t3AMBkRYmaW6kPPBVzVZw+Eqf7yiSZ/AHAfVkjF453nGCipDAc2D9g98javNz8Mng
zZV360k/XyXAcvixXc6GsK3s4685pDd4J52mD+mFx3B1k67rN6T1qj9R2N96nTunN
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 99') {
	err('This update can only be applied to OIDplus version 2.0.0.99!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: TODO
function writefile_1() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('CklNUE9SVEFOVAotIFZlcmlmeTogZXNjYXBlIGV2ZXJ5dGhpbmcKLSBDb29raWUgbGF3OgoJRG93bmxvYWQgQ29va2llQ29uc2VudCBjb2RlIGludG8gXzNwIGZvbGRlciwgZG8gbm90IGhvdGxpbmsgaXQKCXdlIG5lZWQgdG8gbG9nIGFsbCBjb25zZW50cwoJZG8g'));
	@fwrite($fp, base64_decode('d2UgbmVlZCBhbiBleHBsaWNpdCBjb25zZW50IGF0IHRoZSBsb2dpbiBmb3JtPwoJZG8gd2UgbmVlZCBhIGNvbnNlbnQgZm9yIHRoZSBjb29raWUgU1NMX0NIRUNLPwotIGRzZ3ZvIGRhdGVuc2NodXR6ZXJrbORydW5nLCBhZ2JzIGV0Yy4KLSBXZWIgd2hvaXMgYXMg'));
	@fwrite($fp, base64_decode('aW5kaXZpZHVhbCBtb2R1bGUhIChwYWdlKQoKU01BTEwgVEhJTkdTCi0gbW9iaWxlIGRlc2lnbgoJaWYgdGl0bGUgaXMgdG9vIGxvbmcgPT4gbWFrZSBzeXN0ZW0gdGl0bGUgYmFyIG11bHRpIGxpbmU/Cgl0aGVyZSBpcyBhIGdhcCBiZXR3ZWVuIG1lbnUgYW5kIHN5'));
	@fwrite($fp, base64_decode('c3RlbSB0aXRsZSBiYXIsIGJlY2F1c2Ugb2YgIm92ZXJmbG93LXgiIGJ1dCB3aHk/IQoJISEgYXQgdGhlIGhvbWUgcGFnZSAob2lkcGx1czpzeXN0ZW0pLCBsaW5rIHRvIGFsbCBjYXRlZ29yaWVzIGFuZCBvYmplY3QgdHlwZXMsIHNvIHlvdSBjYW4gbmF2aWdhdGUg'));
	@fwrite($fp, base64_decode('d2l0aG91dCBtZW51IGJ1dHRvbgotIG1ha2UgdXNhZ2Ugb2YgRm9yZWlnbiBLZXlzCi0gPGFiYnI+IGluIDxjb2RlPiB3aXJkIGRvcHBlbHQgdW50ZXJzdHJpY2hlbgotIHdlbm4gbWFuIGVpbmUgd2VsbC1rbm93biBPSUQgYW5sZWdlbiBt9mNodGUsIGRhbm4ga29t'));
	@fwrite($fp, base64_decode('bXQgZmVobGVyIHdlZ2VuIHJlcGxhY2VBc24xL3JlcGxhY2VJcmksIGFiZXIgZGllIE9JRCBpc3QgZXJzdGVsbHQuIERpZSBBUEkgaXN0IGFiZXIgbmljaHQgcmVsb2FkZWQuIE1hbiBzaWVodCBhbHNvIG5pY2h0LCBkYXNzIGRpZSBPSUQgZXJzdGVsbHQgd3VyZGUs'));
	@fwrite($fp, base64_decode('IHVuZCBlaW4gZXJuZXV0ZXIga2xpY2sgYXVmIEluc2VydCBm/GhydCB6dW0gUHJpbWFyeS1LZXkgZmVobGVyCi0gcHJvYmxlbTogd2VubiBlaW5lIFJBIGVpbmdlbGFkZW4gd2VyZGVuIG32Y2h0ZSwgbXVzcyBtYW4gInVwZGF0ZSIgZHL8Y2tlbiB1bmQgZGllIE9J'));
	@fwrite($fp, base64_decode('RCB3aXJkIGFscyB1cGRhdGVkIG1hcmtpZXJ0Ci0gYmVpIG1laHJlcmVuIGlkZW50aWZpZXJuIGthbm4gbWFuIG5pY2h0IGJlc3RpbW1lbiwgd2VsY2hlciBpZGVudGlmaWVyIGRlciBiZXZvcnp1Z3RlIHNlaW4gc29sbCEhCi0gc2hvdyB3aG9pcyBsaW5rcyBvbmx5'));
	@fwrite($fp, base64_decode('IGlmIGZvbGRlciAid2hvaXMvIiBleGlzdHMKLSBkaXNhYmxlIGF1dG9jb21wbGV0ZSBvbiBzb21lIGZvcm1zCi0gZ3JhcGhpY2FsIGltcG9ydmVtZW50cyBvZiBmb3JtcyAoaW5wdXQgZWRpdHMgYWxpZ25lZCkKLSAiRG9jdW1lbnRzIiBzZWN0aW9uOiBNYWtlIGRv'));
	@fwrite($fp, base64_decode('Y3VtZW50YXRpb24gZm9yIHVzYWdlIG9mIE9JRHBsdXMgKGZvciBtZW1iZXJzIG9ubHkpCi0gYWRtaW4gY29uZmlnIG1laHIgdXNlciBmcmllbmRseSwgZS5nLiBoYXZpbmcgdGhlIGVuYWJsZS9kaXNhYmxlIG9iamVjdCB0eXBlIHN0dWZmIChsaWtlIGluIHJlZ2lz'));
	@fwrite($fp, base64_decode('dHJhdGlvbiB3aXphcmQpIGFsc28gaW4gdGhlIGFkbWluIGNvbnRyb2wgcGFuZWwKLSBpdCB3b3VsZCBiZSBjb29sIGlmIGFmdGVyIHRoZSBsb2dpbiwgdGhlIG9wZW5lZCBub2RlcyBpbiB0aGUgdHJlZSB3b3VsZCBzdGF5IG9wZW4KLSBzaG91bGQgd2UgbG9nIHNv'));
	@fwrite($fp, base64_decode('bWV3aGVyZSwgd2hlbiB0aGUgYWRtaW4gYWNjb3VudCB3YXMgbG9nZ2VkIGluPwotIG11bHRpbGFuZwotIGh0bWwgY2hlY2tib3g6ICJsYWJlbCBmb3IiIHZlcndlbmRlbgotIHdoZW4gamF2YXNjcmlwdCBmYWlscywgdGhlIGZvcm0gd2lsbCBiZSBzdWJtaXR0ZWQg'));
	@fwrite($fp, base64_decode('dG8gJy4vJyAsIHRoYXQgaXMgbm90IGdvb2QhIGZhaWxlZCBqYXZhc2NyaXB0IG11c3QgcmV0dXJuIGZhbHNlLCBzbyB0aGF0IHRoZSBmb3JtIGRvZXMgbm90IGdldCBzdWJtaXR0ZWQKLSBhZG1pbjogc2hvdyBwcml2YWN5IGVudHJpZXMgZnJvbSBSQXMgKGJ1dCBn'));
	@fwrite($fp, base64_decode('cmV5LCBzbyB5b3Uga25vdyB0aGF0IGl0IGlzIHByaXZhdGUpCi0gYWRtaW4gc29sbCBjb250YWN0IGRhdGEgZWluZXIgZnJlbWRlbiBSQSDkbmRlcm4gZPxyZmVuCi0gZnJlZW9pZDogYXNuLjEgdW5kIGlyaSBzcGFsdGVuIGF1c2JsZW5kZW4sIGRhIGRpZXNlciBh'));
	@fwrite($fp, base64_decode('cmMga2VpbmUgSURzIHZlcmdpYnQ/Ci0gUHJpdmFjeTogTWVociBzdHVmZW4sIHouYi4gZGFzcyBtYW4gZGVuIHBlcnNvbmFsIG5hbWUgZXZ0bCBnYXIgbmljaHQgemVpZ2VuIG32Y2h0ZQotIE1hbiBzb2xsdGUgImNyZWF0ZWQiIGFi5G5kZXJuIGT8cmZlbiEgb2Rl'));
	@fwrite($fp, base64_decode('ciBldnRsIGdhbnogdmVyc3RlY2tlbiwgd2VubiBtYW4gZXMgbmljaHQgd2Vp3wotIGluIGRlciBjcnVkIGxpc3RlIGRlbiB0aXRlbCBkZXMgb2JqZWt0cyB6ZWlnZW4KLSBuYXRPcmRlcigpIGlzdCBudXIgZvxyIE9JRCBn/Gx0aWchISEgYW5kZXJlIHNvcnQtbWVj'));
	@fwrite($fp, base64_decode('aGFuaXNtZW4gZvxyIGFuZGVyZSBvYmpla3R0eXBlbiBlcmZvcmRlcmxpY2gKLSB0aW55bWNlCgltY2UgZGlydHkgZmxhZzoKCQktIHdlbm4gbWFuIHdlY2hzZWwgKGpzIHRyZWUgc2VsZWN0KSwgZGFubiBzb2xsIGFiZ2VmcmFndCB3ZXJkZW4sIG9iIHRpbnltY2Ug'));
	@fwrite($fp, base64_decode('ZGlydHkgaXN0LCB1bmQgZWluZSB3YXJudW5nIGJyaW5nZW4sIGFsc28gc28sIHdpZSB3ZW5uIG1hbiBkaWUgc2VpdGUgbmV1IGxhZGVuIHf8cmRlCgkJLSBrcml0aXNjaGVyIGJ1Zzogc2VpdGUg9mZmbmVuLCB0aW55IG1jZSBlZGl0aWVyZW4sIHNwZWljaGVybiBr'));
	@fwrite($fp, base64_decode('bGlja2VuLiBkYW5uIGY1IG5ldSBsYWRlbiAobmljaHQgc3RyZytmNSk6IGRhbm4gaXN0IGRlciBhbHRlIGNvbnRlbnQgd2llZGVyIGRhLiBhdd9lciBtYW4gZHL8Y2t0IHN0cmcrZjUKCWJ1Zzogb3ZlcmxheSAiYmlsZCIgdW5kICJ0YWJlbGxlIiBibGVpYnQgYXVm'));
	@fwrite($fp, base64_decode('IGRlbSBiaWxkc2NoaXJtLCBzZWxic3Qgd2VubiBtYW4gZGllIHNlaXRlIHdlY2hzZWx0IPxiZXIgZGFzIG1lbvwKLSBwcvxmZW4sIG9iIHdpcmtsaWNoIGFsbGVzIG1pdCBub3NjcmlwdCBt9mdsaWNoIGlzdAotIGpzdHJlZSBzZWxlY3Q6IGF1dG9tYXRpY2FsbHkg'));
	@fwrite($fp, base64_decode('c2Nyb2xsIGRvd24KLSBvcHRpc2NoIGF1Zmj8YnNjaGVuLiBkaW5nZSB3aWUgUkE6IG1laHIgZGluZ2UgemVpZ2VuLCBhZHJlc3NlLCBlbWFpbCBldGMKCkZVVFVSRQotIHJlY29yZCBoaXN0b3J5IG9mIGFuIE9JRD8KLSBhZG1pbiBzaG91bGQgYmUgYWJsZSB0byBj'));
	@fwrite($fp, base64_decode('aGFuZ2Ugd2VsbGtub3duIG9pZHM/Ci0gbW92ZSBvaWQgdG8gZGlmZmVyZW50IGFyYwotIGJlaSBzZWhyIGdyb99lbiBhcmNzICh6LkIuIFBFTikgc29sbGVuIG5pY2h0IGFsbGUgYW5nZXplaWd0IHdlcmRlbgotIHVudGVyc3T8dHp1bmcgZvxyIE9SUz8KLSBNZWhy'));
	@fwrite($fp, base64_decode('ICJDdXR0aW5nIEVkZ2UgVGVjaG5vbG9naWUiIHNvbGwgaW4gZGllc2VtIFByb2pla3QgenVtIFRyYWdlbiBrb21tZW46IEFKQVgsIEpTT04sIHZvbGxzdORuZGlnIFVURjgsIENSVUQgZnJhbWV3b3JrcywgUERPLCBIVE1MNSwgTW9iaWxlcyBEZXNpZ24sIFB1cmUg'));
	@fwrite($fp, base64_decode('Q1NTLCBBdXRvbG9hZGluZywgT2JqZWt0b3JpZW50aWVydW5nIChhYmVyIG5pY2h0IHVuYmVkaW5ndCBNVkMpLCAuLi48YnI+Ci0gIlNlYXJjaCIgcGx1Z2luOiBGZWF0dXJlIHRvIHNlYXJjaCBpbnNpZGUgZG9jdW1lbnRhdGlvbiAoZG9jLyBkaXJlY3RvcnkpCi0g'));
	@fwrite($fp, base64_decode('SG93IGNhbiB3ZSBtYWtlIHN1cmUgdGhhdCBleGFtcGxlIG9iamVjdHMgYXJlIG5vdCBleHBvcnRlZCB1c2luZyBvaWQtaW5mby5jb20gZXhwb3J0PwotIEFkbWluaXN0cmF0b3ItSW50ZXJmYWNlOiBlbmFibGUgYW5kIGRpc2FibGUgb2JqZWN0IHR5cGVzCgpSRUpF'));
	@fwrite($fp, base64_decode('Q1RFRCBJREVBUzoKLSBzb2xsdGUgZXMgbWVoZXJlIGFkbWlucyBnZWJlbj8KLSBjaGFuZ2UgaGlzdG9yeSBvZiBlYWNoIG9pZAotIHJlY29yZCBmaXJzdCBSQSBhbmQgY3VycmVudCBSQSA9PiBYLjY2MCBkb2VzIG5vdCBoYXZlIHRoaXMgcmVxdWlyZW1lbnQKLSBt'));
	@fwrite($fp, base64_decode('YXJrZXJzIERSQUZULCBMRUFGIGFuZCBGUk9aRU4gZXRjLiA9PiB1c2UgIlByb3RlY3RlZCIgaWYgeW91IHdhbnQgdG8gbWFrZSBpdCBpbnZpc2libGUKCklERUFTCi0gdGhlcmUgc2hvdWxkIGJlIGEgZm9ybSB3aGVyZSBhbiBSQSBjYW4gcmVxdWVzdCBhbiBpbnZp'));
	@fwrite($fp, base64_decode('dGF0aW9uLCBldmVuIGlmIHRoZSBzdXBlcmlvciBSQSBkaWQgbm90IGludml0ZSB0aGVtLgogIHRoZSBmYWN0IHRoYXQgYSBSQSBleGlzdHMgaW4gdGhlIE9iamVjdCBUYWJsZSBzaG91bGQgcGVybWl0IHRoZSBSQSB0byBpbnZpdGUgdGhlaXJzZWxmLgotIGJlaW0g'));
	@fwrite($fp, base64_decode('dmVybGFzc2VuIGRlciBzZWl0ZSwgei5iLiB3ZW5uIG1hbiBsaW5rcyBhdWYgZWluZW4gbmV1ZW4gbWVu/HB1bmt0IGtsaWNrdCwgc29sbCBlaW5lIGFiZnJhZ2Uga29tbWVuLCBvYiBtYW4gc3BlaWNoZXJuIG32Y2h0ZQotIG1ha2UgYSBsaXN0IG9mIE9JRHMgdGhh'));
	@fwrite($fp, base64_decode('dCBkbyBub3QgYXNzaWduIEFTTjEvSVJJIGlkZW50aWZpZXJzIChlLmcuIElBTkEgUEVOIG9yIFZpYVRoaW5rU29mdCBGcmVlT0lEKSwgdGhlbiByZWplY3QgYW55IGlkZW50aWZpZXIgdGhlIHVzZXIgcHJvdmlkZXMKLSBzYW5pdGl6ZSBJUHY0LCBJUHY2LCBHVUlE'));
	@fwrite($fp, base64_decode('IGR1cmluZyBjcmVhdGlvbgoJYmVpIElQdjQgdW5kIElQdjY6IC0gaWYgaXQgaXMgYSBzaW5nbGUgaG9zdCBhZGRyZXNzLCBkb24ndCBwdXQgLzMyIG9yIC8xMjggc3VmZml4CgkgICAgICAgICAgICAgICAgICAgLSBzdHJpa2UgdW5uZWNlc3NhcnkgYml0cyB0aGF0'));
	@fwrite($fp, base64_decode('IGFyZSBub3QgZGVmaW5lZCBpbiB0aGUgbmV0bWFzayAoYWxzbyBhdCB0aGUgd2hvaXMgb3V0cHV0KQotIHdlIG5lZWQgc29tZSBraW5kIG9mIHBsdWdpbiBBUEkgdG8gYWxsb3cgaW5kaXZpZHVhbCBjb25maWcgdmFsdWVzIHRvIGJlIHN0b3JlZAoKUVVFU1RJT05T'));
	@fwrite($fp, base64_decode('OgotIHNob3VsZCB0aGUgY29sbGF0aW9uIGJlIGNhc2Ugc2Vuc2l0aXZlIG9yIGNhc2UgaW5zZW5zaXRpdmU/IEZvciBKYXZhIHBhY2thZ2UgbmFtZXMsIGl0IHNob3VsZCBiZSBjYXNlIHNlbnN0aXZpZQotIHdvcnQgImd1aWQiIG9kZXIgInV1aWQiIHZlcndlbmRl'));
	@fwrite($fp, base64_decode('bj8KLSBiaXQgb3IgdGlueWludCgxKSA/Ci0gc2hvdWxkICJPSUQgdXBkYXRlZCIgYmUgc3BsaXQgaW50byB0d28gY2F0ZWdvcmllcyAidXBkYXRlZCBieSBzdXBlcmlvciIgKGUuZy4gaWRlbnRpZmllcnMpIGFuZCAidXBkYXRlZCBieSBvd25lciIgKGRlc2NyaXB0'));
	@fwrite($fp, base64_decode('aW9uIGV0Yyk/Ci0gInVwZGF0ZWQiIG5pY2h0IGFrdHVhbGlzaWVyZW4sIHdlbm4gbWFuIG51ciBhdWYgInVwZGF0ZSIga2xpY2t0IGFiZXIgbml4IGdl5G5kZXJ0IGhhdAotICJEb2N1bWVudHMiIHNlY3Rpb246IENhbiBiYXNlIG9mIFVSTHMvaW1hZ2VzIGluc2lk'));
	@fwrite($fp, base64_decode('ZSB0aGUgSFRNTCBiZSBjaGFuZ2VkIGF1dG9tYXRpY2FsbHk/CgpHVUlEIE1hbmFnZW1lbnQKLSBMZWFmIG5vZGVzIChHVUlEcykgc2hvdWxkIHNob3cvZWRpdCB0aGUgVGl0bGUgaW4gdGhlIENSVUQsIHNvIHlvdSBkb250IGhhdmUgdG8gY2xpY2sgdGhlIEdVSUQg'));
	@fwrite($fp, base64_decode('dG8gc2VlIHRoZSB0aXRsZQotIHNlbHRzYW1lciBidWc6IHdlbm4gaWNoIGd1aWQ6b2lkcGx1cyBlZGl0aWVyZSwgZGFubiD2ZmZuZXQgc2ljaCBsaW5rcyBndWlkOmFjdGl2ZWRpcmVjdG9yeSBiZWltIG5ldWxhZGVuIGRlcyBiYXVtcyBuYWNoIGRlbSB1cGRhdGUu'));
	@fwrite($fp, base64_decode('IGlyZ2VuZHdpZSD2ZmZuZXQgZXIgZGVuIHp1bGV0enQgZ2X2ZmZuZXRlbiBub2RlIGJlaW0gcmVsb2FkIG5vY2htYWwK'));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_1();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != '0c4b30b04eb94d34b7d4a20ee2c3745aa78e70de') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== '0c4b30b04eb94d34b7d4a20ee2c3745aa78e70de') {
		if (@sha1_file('TODO') !== 'df1d132712904d3893820aa89b29cdb925b1aa8a') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('TODO') !== '0c4b30b04eb94d34b7d4a20ee2c3745aa78e70de') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: index_desktop.php
function writefile_2() {
	@$fp = fopen('index_desktop.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKb2Jfc3RhcnQoKTsgLy8gYWxsb3cgY29va2llIGhlYWRlcnMgdG8gYmUgc2VudAoKaGVhZGVyKCdDb250'));
	@fwrite($fp, base64_decode('ZW50LVR5cGU6dGV4dC9odG1sOyBjaGFyc2V0PVVURi04Jyk7CgpPSURwbHVzOjppbml0KHRydWUpOwoKT0lEcGx1czo6ZGIoKS0+c2V0X2NoYXJzZXQoIlVURjgiKTsKT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlNFVCBOQU1FUyAndXRmOCciKTsKCiRzdGF0aWNfbm9k'));
	@fwrite($fp, base64_decode('ZV9pZCA9IGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJ29pZHBsdXM6c3lzdGVtJzsKJHN0YXRpYyA9IE9JRHBsdXM6Omd1aSgpOjpnZW5lcmF0ZUNvbnRlbnRQYWdlKCRzdGF0aWNfbm9kZV9pZCk7CiRzdGF0aWNfdGl0bGUg'));
	@fwrite($fp, base64_decode('PSAkc3RhdGljWyd0aXRsZSddOwokc3RhdGljX2ljb24gPSAkc3RhdGljWydpY29uJ107CiRzdGF0aWNfY29udGVudCA9ICRzdGF0aWNbJ3RleHQnXTsKCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZSgkc3lzdGVtdGl0bGUsICRwYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUpIHsKCWlmICgkc3lzdGVtdGl0bGUgPT0gJHBhZ2V0aXRsZSkgewoJCXJldHVybiAkc3lzdGVtdGl0bGU7Cgl9IGVsc2UgewoJCXJldHVybiAkc3lzdGVtdGl0bGUgLiAnIC0gJyAuICRwYWdldGl0bGU7Cgl9Cn0KCiRzeXNpZF9vaWQgPSBPSURwbHVzOjpz'));
	@fwrite($fp, base64_decode('eXN0ZW1faWQodHJ1ZSk7CmlmICghJHN5c2lkX29pZCkgJHN5c2lkX29pZCA9ICd1bmtub3duJzsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtSUQ6Jy4kc3lzaWRfb2lkKTsKCj8+PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+Cgk8bWV0YSBo'));
	@fwrite($fp, base64_decode('dHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+Cgk8bWV0YSBuYW1lPSJ4LW9pZHBsdXMtc3lzdGVtLWlkIiBjb250ZW50PSI8P3BocCBlY2hvICRzeXNpZF9vaWQ7ID8+Ij4KCTxtZXRhIG5hbWU9Ingtb2lk'));
	@fwrite($fp, base64_decode('cGx1cy1zeXN0ZW0tdXJsIiBjb250ZW50PSI8P3BocCBlY2hvIE9JRHBsdXM6OnN5c3RlbV91cmwoKTsgPz4iPgoJPHRpdGxlPjw/cGhwIGVjaG8gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgp'));
	@fwrite($fp, base64_decode('LCAkc3RhdGljX3RpdGxlKTsgPz48L3RpdGxlPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIzcC9qc3RyZWUvdGhlbWVzL2RlZmF1bHQvc3R5bGUubWluLmNzcyI+CgoJPCEtLSBXZSBhcmUgdXNpbmcgalF1ZXJ5IDIuMi4xLCBiZWNhdXNlIDMuMy4xIHNl'));
	@fwrite($fp, base64_decode('ZW1zIHRvIGJlIGluY29tcGF0aWJsZSB3aXRoIGpzVHJlZSAoSFRNTCBjb250ZW50IHdpbGwgbm90IGJlIGxvYWRlZCBpbnRvIGpzVHJlZSEpIFRPRE86IEZpbGUgYnVnIHJlcG9ydCAtLT4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnkvanF1ZXJ5LTIuMi4xLm1pbi5q'));
	@fwrite($fp, base64_decode('cyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3AvYm9vdHN0cmFwL2pzL2Jvb3RzdHJhcC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL2pzdHJlZS9qc3RyZWUubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSczcC90aW55bWNlL3Rpbnlt'));
	@fwrite($fp, base64_decode('Y2UubWluLmpzJz48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnktdWkvanF1ZXJ5LXVpLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9sYXlvdXQvanF1ZXJ5LmxheW91dC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL3NwYW1z'));
	@fwrite($fp, base64_decode('cGFuL3NwYW1zcGFuLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMnPjwvc2NyaXB0PgoKCTxzY3JpcHQgc3JjPSJvaWRwbHVzLmpzIj48L3NjcmlwdD4KCTw/cGhwCgkkYXJ5ID0gZ2xvYihf'));
	@fwrite($fp, base64_decode('X0RJUl9fIC4gJy9wbHVnaW5zL3B1YmxpY1BhZ2VzLycuJyonLicvc2NyaXB0LmpzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxzY3JpcHQgc3JjPSInLnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAkYSkuJyI+'));
	@fwrite($fp, base64_decode('PC9zY3JpcHQ+JzsKCX0KCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnL3BsdWdpbnMvYWRtaW5QYWdlcy8nLicqJy4nL3NjcmlwdC5qcycpOwoJc29ydCgkYXJ5KTsKCWZvcmVhY2ggKCRhcnkgYXMgJGEpIHsKCQllY2hvICc8c2NyaXB0IHNyYz0iJy5zdHJfcmVwbGFj'));
	@fwrite($fp, base64_decode('ZShfX0RJUl9fIC4gJy8nLCAnJywgJGEpLiciPjwvc2NyaXB0Pic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9wbHVnaW5zL3JhUGFnZXMvJy4nKicuJy9zY3JpcHQuanMnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAn'));
	@fwrite($fp, base64_decode('PHNjcmlwdCBzcmM9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj48L3NjcmlwdD4nOwoJfQoJPz4KCgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Im9pZHBsdXMuY3NzIj4KCTw/cGhwCgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9w'));
	@fwrite($fp, base64_decode('bHVnaW5zL3B1YmxpY1BhZ2VzLycuJyonLicvc3R5bGUuY3NzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iJy5zdHJfcmVwbGFjZShfX0RJUl9fIC4gJy8nLCAnJywgJGEp'));
	@fwrite($fp, base64_decode('LiciPic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9wbHVnaW5zL2FkbWluUGFnZXMvJy4nKicuJy9zdHlsZS5jc3MnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAnPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIn'));
	@fwrite($fp, base64_decode('LnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAkYSkuJyI+JzsKCX0KCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnL3BsdWdpbnMvcmFQYWdlcy8nLicqJy4nL3N0eWxlLmNzcycpOwoJc29ydCgkYXJ5KTsKCWZvcmVhY2ggKCRhcnkgYXMgJGEpIHsKCQllY2hv'));
	@fwrite($fp, base64_decode('ICc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj4nOwoJfQoJPz4KCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iM3AvYm9vdHN0cmFwL2Nzcy9ib290c3RyYXAubWluLmNzcyI+CgoJ'));
	@fwrite($fp, base64_decode('PGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiB0eXBlPSJpbWFnZS94LWljb24iIGhyZWY9ImltZy9mYXZpY29uLmljbyI+CgoJPHNjcmlwdD4KCXN5c3RlbV90aXRsZSA9IDw/cGhwIGVjaG8ganNfZXNjYXBlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgp'));
	@fwrite($fp, base64_decode('KTsgPz47IC8vIFRPRE86IElzIHRoYXQgdGltaW5nIE9LIG9yIGlzIHRoYXQgYSByYWNlIGNvbmRpdGlvbj8KCTwvc2NyaXB0PgoKPCEtLSBodHRwczovL2Nvb2tpZWNvbnNlbnQuaW5zaXRlcy5jb20gLS0+CjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4'));
	@fwrite($fp, base64_decode('dC9jc3MiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2Nvb2tpZWNvbnNlbnQyLzMuMS4wL2Nvb2tpZWNvbnNlbnQubWluLmNzcyIgLz4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJz'));
	@fwrite($fp, base64_decode('L2Nvb2tpZWNvbnNlbnQyLzMuMS4wL2Nvb2tpZWNvbnNlbnQubWluLmpzIj48L3NjcmlwdD4KPHNjcmlwdD4Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbigpewp3aW5kb3cuY29va2llY29uc2VudC5pbml0aWFsaXNlKHsKCSJwYWxldHRl'));
	@fwrite($fp, base64_decode('IjogewoJCSJwb3B1cCI6IHsKCQkJImJhY2tncm91bmQiOiAiI2VkZWZmNSIsCgkJCSJ0ZXh0IjogIiM4MzgzOTEiCgkJfSwKCQkiYnV0dG9uIjogewoJCQkiYmFja2dyb3VuZCI6ICIjNGI4MWU4IgoJCX0KCX0sCgkicG9zaXRpb24iOiAiYm90dG9tLXJpZ2h0Igp9'));
	@fwrite($fp, base64_decode('KX0pOwo8L3NjcmlwdD4KCjwvaGVhZD4KPGJvZHkgY2xhc3M9InBjIj4KCTxkaXYgaWQ9InN5c3RlbV90aXRsZV9iYXIiIGNsYXNzPSJ1aS1sYXlvdXQtbm9ydGgiPgoJCTxhIGhyZWY9Ij9nb3RvPW9pZHBsdXM6c3lzdGVtIj4KCQkJPHNwYW4gaWQ9InN5c3RlbV90'));
	@fwrite($fp, base64_decode('aXRsZV8xIiBjbGFzcz0icGMiPlZpYVRoaW5rU29mdCBPSURwbHVzIDIuMDwvc3Bhbj48YnI+CgkJCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMiIgY2xhc3M9InBjIj48P3BocCBlY2hvIGh0bWxlbnRpdGllcyhPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUo'));
	@fwrite($fp, base64_decode('KSk7ID8+PC9zcGFuPgoJCTwvYT4KCTwvZGl2PgoKCTxkaXYgaWQ9Im9pZHRyZWUiIGNsYXNzPSJwYyBib3JkZXJib3ggdWktbGF5b3V0LXdlc3QiPgoJCTxub3NjcmlwdD4KCQkJPHA+PGI+UGxlYXNlIGVuYWJsZSBKYXZhU2NyaXB0IHRvIHVzZSBhbGwgZmVhdHVy'));
	@fwrite($fp, base64_decode('ZXM8L2I+PC9wPgoJCTwvbm9zY3JpcHQ+CgkJPD9waHAgT0lEcGx1c1RyZWU6Om5vbmpzX21lbnUoJHN0YXRpY19ub2RlX2lkKTsgPz4gPCEtLSBUT0RPOiBOb25KUyBtZW51OiBIb3Jpem9udGFsIFNjcm9sIGJhciBtaXNzaW5nIC0tPgoJPC9kaXY+CgoJPGRpdiBp'));
	@fwrite($fp, base64_decode('ZD0iY29udGVudF93aW5kb3ciIGNsYXNzPSJwYyBib3JkZXJib3ggdWktbGF5b3V0LWNlbnRlciI+CgkJPD9waHAKCQkkc3RhdGljX2NvbnRlbnQgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soCgkJCSd8PGFccyhbXj5dKilocmVmPSJtYWlsdG86KFteIl0rKSIoW14+'));
	@fwrite($fp, base64_decode('XSopPihbXjxdKik8L2E+fGlzbVUnLAoJCQlmdW5jdGlvbiAoJHRyZWZmZXIpIHsKCQkJCSRlbWFpbCA9ICR0cmVmZmVyWzJdOwoJCQkJJHRleHQgPSAkdHJlZmZlcls0XTsKCQkJCXJldHVybiBzZWN1cmVfZW1haWwoJGVtYWlsLCAkdGV4dCwgMSk7IC8vIEFudGlT'));
	@fwrite($fp, base64_decode('cGFtCgkJCX0sICRzdGF0aWNfY29udGVudCk7CgoJCWVjaG8gJzxoMSBpZD0icmVhbF90aXRsZSI+JzsKCQlpZiAoJHN0YXRpY19pY29uICE9ICcnKSBlY2hvICc8aW1nIHNyYz0iJy5odG1sZW50aXRpZXMoJHN0YXRpY19pY29uKS4nIiB3aWR0aD0iNDgiIGhlaWdo'));
	@fwrite($fp, base64_decode('dD0iNDgiIGFsdD0iJy5odG1sZW50aXRpZXMoJHN0YXRpY190aXRsZSkuJyI+ICc7CgkJZWNobyBodG1sZW50aXRpZXMoJHN0YXRpY190aXRsZSkuJzwvaDE+JzsKCQllY2hvICc8ZGl2IGlkPSJyZWFsX2NvbnRlbnQiPicuJHN0YXRpY19jb250ZW50Lic8L2Rpdj4n'));
	@fwrite($fp, base64_decode('OwoJCWVjaG8gJzxicj48cD48YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGluayI+PGltZyBzcmM9ImltZy9zaGFyZS5wbmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgYWx0PSJTaGFyZSI+IFN0YXRp'));
	@fwrite($fp, base64_decode('YyBsaW5rIHRvIHRoaXMgcGFnZTwvYT4nOwoJCWVjaG8gJyB8IDxhIGhyZWY9ImluZGV4X21vYmlsZS5waHA/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGlua19tb2JpbGUiPk1vYmlsZSB2aWV3PC9hPic7CgkJZWNo'));
	@fwrite($fp, base64_decode('byAnIHwgPGEgaHJlZj0iaW5kZXhfZGVza3RvcC5waHA/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGlua19kZXNrdG9wIj5EZXNrdG9wIHZpZXc8L2E+JzsKCQllY2hvICc8L3A+JzsKCQllY2hvICc8YnI+JzsKCQk/'));
	@fwrite($fp, base64_decode('PgoJPC9kaXY+CjwvYm9keT4KPC9odG1sPgo8P3BocAoKJGNvbnQgPSBvYl9nZXRfY29udGVudHMoKTsKb2JfZW5kX2NsZWFuKCk7CgplY2hvICRjb250Owo='));
	@fclose($fp);
}
if (!is_file('index_desktop.php')) {
	warn('File has vanished! Will re-create it: index_desktop.php');
	writefile_2();
	if (!is_file('index_desktop.php')) {
		warn('File cannot be created (not existing): index_desktop.php');
	} else if (sha1_file('index_desktop.php') != 'adc7e17357f5ff861df7bbff783829b4ad5dc39f') {
		warn('File cannot be created (checksum mismatch): index_desktop.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index_desktop.php', 0644)) {
		warn('Could not change file permissions of index_desktop.php');
	}
} else {
	if (@sha1_file('index_desktop.php') !== 'adc7e17357f5ff861df7bbff783829b4ad5dc39f') {
		if (@sha1_file('index_desktop.php') !== '9cc976b17388b7a003f3d1f14221ad0f2ac6c920') {
			warn('File was modified. Will overwrite the changes now: index_desktop.php');
			$tmp = pathinfo('index_desktop.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index_desktop.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index_desktop.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('index_desktop.php') !== 'adc7e17357f5ff861df7bbff783829b4ad5dc39f') {
			warn('File cannot be written (checksum mismatch): index_desktop.php');
		}
	}
}

// Files different: index_mobile.php
function writefile_3() {
	@$fp = fopen('index_mobile.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKb2Jfc3RhcnQoKTsgLy8gYWxsb3cgY29va2llIGhlYWRlcnMgdG8gYmUgc2VudAoKaGVhZGVyKCdDb250'));
	@fwrite($fp, base64_decode('ZW50LVR5cGU6dGV4dC9odG1sOyBjaGFyc2V0PVVURi04Jyk7CgpPSURwbHVzOjppbml0KHRydWUpOwoKT0lEcGx1czo6ZGIoKS0+c2V0X2NoYXJzZXQoIlVURjgiKTsKT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlNFVCBOQU1FUyAndXRmOCciKTsKCiRzdGF0aWNfbm9k'));
	@fwrite($fp, base64_decode('ZV9pZCA9IGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJ29pZHBsdXM6c3lzdGVtJzsKJHN0YXRpYyA9IE9JRHBsdXM6Omd1aSgpOjpnZW5lcmF0ZUNvbnRlbnRQYWdlKCRzdGF0aWNfbm9kZV9pZCk7CiRzdGF0aWNfdGl0bGUg'));
	@fwrite($fp, base64_decode('PSAkc3RhdGljWyd0aXRsZSddOwokc3RhdGljX2ljb24gPSAkc3RhdGljWydpY29uJ107CiRzdGF0aWNfY29udGVudCA9ICRzdGF0aWNbJ3RleHQnXTsKCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZSgkc3lzdGVtdGl0bGUsICRwYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUpIHsKCWlmICgkc3lzdGVtdGl0bGUgPT0gJHBhZ2V0aXRsZSkgewoJCXJldHVybiAkc3lzdGVtdGl0bGU7Cgl9IGVsc2UgewoJCXJldHVybiAkc3lzdGVtdGl0bGUgLiAnIC0gJyAuICRwYWdldGl0bGU7Cgl9Cn0KCiRzeXNpZF9vaWQgPSBPSURwbHVzOjpz'));
	@fwrite($fp, base64_decode('eXN0ZW1faWQodHJ1ZSk7CmlmICghJHN5c2lkX29pZCkgJHN5c2lkX29pZCA9ICd1bmtub3duJzsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtSUQ6Jy4kc3lzaWRfb2lkKTsKCj8+PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+Cgk8bWV0YSBo'));
	@fwrite($fp, base64_decode('dHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+Cgk8bWV0YSBuYW1lPSJ4LW9pZHBsdXMtc3lzdGVtLWlkIiBjb250ZW50PSI8P3BocCBlY2hvICRzeXNpZF9vaWQ7ID8+Ij4KCTxtZXRhIG5hbWU9Ingtb2lk'));
	@fwrite($fp, base64_decode('cGx1cy1zeXN0ZW0tdXJsIiBjb250ZW50PSI8P3BocCBlY2hvIE9JRHBsdXM6OnN5c3RlbV91cmwoKTsgPz4iPgoJPHRpdGxlPjw/cGhwIGVjaG8gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgp'));
	@fwrite($fp, base64_decode('LCAkc3RhdGljX3RpdGxlKTsgPz48L3RpdGxlPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIzcC9qc3RyZWUvdGhlbWVzL2RlZmF1bHQvc3R5bGUubWluLmNzcyI+CgoJPCEtLSBXZSBhcmUgdXNpbmcgalF1ZXJ5IDIuMi4xLCBiZWNhdXNlIDMuMy4xIHNl'));
	@fwrite($fp, base64_decode('ZW1zIHRvIGJlIGluY29tcGF0aWJsZSB3aXRoIGpzVHJlZSAoSFRNTCBjb250ZW50IHdpbGwgbm90IGJlIGxvYWRlZCBpbnRvIGpzVHJlZSEpIFRPRE86IEZpbGUgYnVnIHJlcG9ydCAtLT4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnkvanF1ZXJ5LTIuMi4xLm1pbi5q'));
	@fwrite($fp, base64_decode('cyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3AvYm9vdHN0cmFwL2pzL2Jvb3RzdHJhcC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL2pzdHJlZS9qc3RyZWUubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSczcC90aW55bWNlL3Rpbnlt'));
	@fwrite($fp, base64_decode('Y2UubWluLmpzJz48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnktdWkvanF1ZXJ5LXVpLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9sYXlvdXQvanF1ZXJ5LmxheW91dC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL3NwYW1z'));
	@fwrite($fp, base64_decode('cGFuL3NwYW1zcGFuLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMnPjwvc2NyaXB0PgoKCTxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRp'));
	@fwrite($fp, base64_decode('YWwtc2NhbGU9MSI+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS80LjcuMC9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MiPjwhLS0gZm9yIG1lbnUgYnV0dG9uLiBU'));
	@fwrite($fp, base64_decode('T0RPOiBkb3dubG9hZCBpbnRvIDNwLyAtLT4KCgk8c2NyaXB0IHNyYz0ib2lkcGx1cy5qcyI+PC9zY3JpcHQ+Cgk8P3BocAoJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvcGx1Z2lucy9wdWJsaWNQYWdlcy8nLicqJy4nL3NjcmlwdC5qcycpOwoJc29ydCgkYXJ5KTsK'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKCRhcnkgYXMgJGEpIHsKCQllY2hvICc8c2NyaXB0IHNyYz0iJy5zdHJfcmVwbGFjZShfX0RJUl9fIC4gJy8nLCAnJywgJGEpLiciPjwvc2NyaXB0Pic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9wbHVnaW5zL2FkbWluUGFnZXMvJy4nKicu'));
	@fwrite($fp, base64_decode('Jy9zY3JpcHQuanMnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAnPHNjcmlwdCBzcmM9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj48L3NjcmlwdD4nOwoJfQoJJGFyeSA9IGdsb2IoX19ESVJfXyAu'));
	@fwrite($fp, base64_decode('ICcvcGx1Z2lucy9yYVBhZ2VzLycuJyonLicvc2NyaXB0LmpzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxzY3JpcHQgc3JjPSInLnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAkYSkuJyI+PC9zY3JpcHQ+JzsK'));
	@fwrite($fp, base64_decode('CX0KCT8+CgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJvaWRwbHVzLmNzcyI+Cgk8P3BocAoJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvcGx1Z2lucy9wdWJsaWNQYWdlcy8nLicqJy4nL3N0eWxlLmNzcycpOwoJc29ydCgkYXJ5KTsKCWZvcmVhY2ggKCRh'));
	@fwrite($fp, base64_decode('cnkgYXMgJGEpIHsKCQllY2hvICc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj4nOwoJfQoJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvcGx1Z2lucy9hZG1pblBhZ2VzLycuJyonLicvc3R5'));
	@fwrite($fp, base64_decode('bGUuY3NzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iJy5zdHJfcmVwbGFjZShfX0RJUl9fIC4gJy8nLCAnJywgJGEpLiciPic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9f'));
	@fwrite($fp, base64_decode('IC4gJy9wbHVnaW5zL3JhUGFnZXMvJy4nKicuJy9zdHlsZS5jc3MnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAnPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInLnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAk'));
	@fwrite($fp, base64_decode('YSkuJyI+JzsKCX0KCT8+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IjNwL2Jvb3RzdHJhcC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPgoKCTxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgdHlwZT0iaW1hZ2UveC1pY29uIiBocmVmPSJpbWcvZmF2aWNvbi5p'));
	@fwrite($fp, base64_decode('Y28iPgoKCTxzY3JpcHQ+CglzeXN0ZW1fdGl0bGUgPSA8P3BocCBlY2hvIGpzX2VzY2FwZShPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKSk7ID8+OyAvLyBUT0RPOiBJcyB0aGF0IHRpbWluZyBPSyBvciBpcyB0aGF0IGEgcmFjZSBjb25kaXRpb24/Cgk8'));
	@fwrite($fp, base64_decode('L3NjcmlwdD4KCjwhLS0gaHR0cHM6Ly9jb29raWVjb25zZW50Lmluc2l0ZXMuY29tIC0tPgo8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9jb29raWVjb25zZW50'));
	@fwrite($fp, base64_decode('Mi8zLjEuMC9jb29raWVjb25zZW50Lm1pbi5jc3MiIC8+CjxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9jb29raWVjb25zZW50Mi8zLjEuMC9jb29raWVjb25zZW50Lm1pbi5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQ+Cndp'));
	@fwrite($fp, base64_decode('bmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24oKXsKd2luZG93LmNvb2tpZWNvbnNlbnQuaW5pdGlhbGlzZSh7CgkicGFsZXR0ZSI6IHsKCQkicG9wdXAiOiB7CgkJCSJiYWNrZ3JvdW5kIjogIiNlZGVmZjUiLAoJCQkidGV4dCI6ICIjODM4Mzkx'));
	@fwrite($fp, base64_decode('IgoJCX0sCgkJImJ1dHRvbiI6IHsKCQkJImJhY2tncm91bmQiOiAiIzRiODFlOCIKCQl9Cgl9LAoJInBvc2l0aW9uIjogImJvdHRvbS1yaWdodCIKfSl9KTsKPC9zY3JpcHQ+Cgo8c2NyaXB0PgpmdW5jdGlvbiBtb2JpbGVOYXZCdXR0b25DbGljaygpIHsKCXZhciB4'));
	@fwrite($fp, base64_decode('ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9pZHRyZWUiKTsKCWlmICh4LnN0eWxlLmRpc3BsYXkgPT09ICJibG9jayIpIHsKCQl4LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN5c3RlbV90aXRsZV9tZW51Iiku'));
	@fwrite($fp, base64_decode('Y2xhc3NMaXN0LnJlbW92ZSgiYWN0aXZlIik7Cgl9IGVsc2UgewoJCXguc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN5c3RlbV90aXRsZV9tZW51IikuY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7Cgl9Cn0KPC9zY3Jp'));
	@fwrite($fp, base64_decode('cHQ+Cgo8L2hlYWQ+Cgo8Ym9keSBjbGFzcz0ibW9iaWxlIj4KCjxkaXYgaWQ9InN5c3RlbV90aXRsZV9iYXIiPgoJPGEgaHJlZj0iP2dvdG89b2lkcGx1czpzeXN0ZW0iPgoJCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMSIgY2xhc3M9Im1vYmlsZSI+VmlhVGhpbmtT'));
	@fwrite($fp, base64_decode('b2Z0IE9JRHBsdXMgMi4wPC9zcGFuPjxicj4KCQk8c3BhbiBpZD0ic3lzdGVtX3RpdGxlXzIiIGNsYXNzPSJtb2JpbGUiPjw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpKTsgPz48L3NwYW4+Cgk8L2E+Cgk8YSBo'));
	@fwrite($fp, base64_decode('cmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBpZD0ic3lzdGVtX3RpdGxlX21lbnUiIG9uY2xpY2s9Im1vYmlsZU5hdkJ1dHRvbkNsaWNrKCkiPjxpIGNsYXNzPSJmYSBmYS1iYXJzIj48L2k+PC9hPgo8L2Rpdj4KPGJyPgoKPGRpdiBjbGFzcz0id3JhcCI+Cgk8IS0t'));
	@fwrite($fp, base64_decode('IFRPRE86IGFkZCBlbGxpcHNlcyBhdCB0aGUgZW5kPyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zNzE1ODc1OC9hZGQtYS1nYXAtYmV0d2Vlbi1qc3RyZWUtbm9kZXMtdGV4dC1hbmQtc2Nyb2xsYmFycyAtLT4KCgk8ZGl2IGlkPSJvaWR0cmVl'));
	@fwrite($fp, base64_decode('IiBjbGFzcz0ibW9iaWxlIj48IS0tIFRPRE86IGpzdHJlZSBzaG91bGQgYmUgaW5zaWRlIGEgc2Nyb2xsYWJsZSBjb250YWluZXIuIGRvbid0IGxldCB0aGUgcGFnZSBiZSBicm9hZGVyIHRoYW4gdGhlIHNjcmVlbi4gLS0+CgkJPG5vc2NyaXB0PgoJCQk8cD48Yj5Q'));
	@fwrite($fp, base64_decode('bGVhc2UgZW5hYmxlIEphdmFTY3JpcHQgdG8gdXNlIGFsbCBmZWF0dXJlczwvYj48L3A+CgkJPC9ub3NjcmlwdD4KCQk8P3BocCBPSURwbHVzVHJlZTo6bm9uanNfbWVudSgkc3RhdGljX25vZGVfaWQpOyA/PgoJPC9kaXY+CjwvZGl2PgoKPGRpdiBpZD0iY29udGVu'));
	@fwrite($fp, base64_decode('dF93aW5kb3ciIGNsYXNzPSJtb2JpbGUiPgoJPD9waHAKCSRzdGF0aWNfY29udGVudCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygKCQknfDxhXHMoW14+XSopaHJlZj0ibWFpbHRvOihbXiJdKykiKFtePl0qKT4oW148XSopPC9hPnxpc21VJywKCQlmdW5jdGlvbiAo'));
	@fwrite($fp, base64_decode('JHRyZWZmZXIpIHsKCQkJJGVtYWlsID0gJHRyZWZmZXJbMl07CgkJCSR0ZXh0ID0gJHRyZWZmZXJbNF07CgkJCXJldHVybiBzZWN1cmVfZW1haWwoJGVtYWlsLCAkdGV4dCwgMSk7IC8vIEFudGlTcGFtCgkJfSwgJHN0YXRpY19jb250ZW50KTsKCgllY2hvICc8aDEg'));
	@fwrite($fp, base64_decode('aWQ9InJlYWxfdGl0bGUiPic7CglpZiAoJHN0YXRpY19pY29uICE9ICcnKSBlY2hvICc8aW1nIHNyYz0iJy5odG1sZW50aXRpZXMoJHN0YXRpY19pY29uKS4nIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFsdD0iJy5odG1sZW50aXRpZXMoJHN0YXRpY190aXRsZSku'));
	@fwrite($fp, base64_decode('JyI+ICc7CgllY2hvIGh0bWxlbnRpdGllcygkc3RhdGljX3RpdGxlKS4nPC9oMT4nOwoJZWNobyAnPGRpdiBpZD0icmVhbF9jb250ZW50Ij4nLiRzdGF0aWNfY29udGVudC4nPC9kaXY+JzsKCWVjaG8gJzxicj48cD48YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGll'));
	@fwrite($fp, base64_decode('cygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGluayI+PGltZyBzcmM9ImltZy9zaGFyZS5wbmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgYWx0PSJTaGFyZSI+IFN0YXRpYyBsaW5rIHRvIHRoaXMgcGFnZTwvYT4nOwoJZWNobyAnIHwgPGEgaHJlZj0i'));
	@fwrite($fp, base64_decode('aW5kZXhfbW9iaWxlLnBocD9nb3RvPScuaHRtbGVudGl0aWVzKCRzdGF0aWNfbm9kZV9pZCkuJyIgaWQ9InN0YXRpY19saW5rX21vYmlsZSI+TW9iaWxlIHZpZXc8L2E+JzsKCWVjaG8gJyB8IDxhIGhyZWY9ImluZGV4X2Rlc2t0b3AucGhwP2dvdG89Jy5odG1sZW50'));
	@fwrite($fp, base64_decode('aXRpZXMoJHN0YXRpY19ub2RlX2lkKS4nIiBpZD0ic3RhdGljX2xpbmtfZGVza3RvcCI+RGVza3RvcCB2aWV3PC9hPic7CgllY2hvICc8L3A+JzsKCWVjaG8gJzxicj4nOwoJPz4KPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4KPD9waHAKCiRjb250ID0gb2JfZ2V0X2Nv'));
	@fwrite($fp, base64_decode('bnRlbnRzKCk7Cm9iX2VuZF9jbGVhbigpOwoKZWNobyAkY29udDsK'));
	@fclose($fp);
}
if (!is_file('index_mobile.php')) {
	warn('File has vanished! Will re-create it: index_mobile.php');
	writefile_3();
	if (!is_file('index_mobile.php')) {
		warn('File cannot be created (not existing): index_mobile.php');
	} else if (sha1_file('index_mobile.php') != '7afec0ae38e71361e9b66e857ea430ffec0baee7') {
		warn('File cannot be created (checksum mismatch): index_mobile.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index_mobile.php', 0644)) {
		warn('Could not change file permissions of index_mobile.php');
	}
} else {
	if (@sha1_file('index_mobile.php') !== '7afec0ae38e71361e9b66e857ea430ffec0baee7') {
		if (@sha1_file('index_mobile.php') !== '6d6e72a172671cd4789d3e43e9f6c819e7ea47ee') {
			warn('File was modified. Will overwrite the changes now: index_mobile.php');
			$tmp = pathinfo('index_mobile.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index_mobile.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index_mobile.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('index_mobile.php') !== '7afec0ae38e71361e9b66e857ea430ffec0baee7') {
			warn('File cannot be written (checksum mismatch): index_mobile.php');
		}
	}
}

// Files different: oidplus.css
function writefile_4() {
	@$fp = fopen('oidplus.css', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLndyYXAgewoJLyogVE9ETzogYXQgdGhlIHRvcCwgdGhlcmUgaXMgYSB3ZWlyZCBwYWRkaW5nLCBjYXVzZWQgYnkgb3ZlcmZsb3cteCAqLwoJb3ZlcmZsb3cteDogYXV0bzsKCW1hcmdpbjogMCBhdXRvOwoJd2lk'));
	@fwrite($fp, base64_decode('dGg6MTAwJTsKfQoKI3N0YXRpY19saW5rLCAjc3RhdGljX2xpbmtfZGVza3RvcCwgI3N0YXRpY19saW5rX21vYmlsZSB7Cgljb2xvcjpncmF5OwoJZm9udC1zaXplOjAuOWVtOwp9CgpsYWJlbC5wYWRkaW5nX2xhYmVsIHsKCWZvbnQtd2VpZ2h0OiBub3JtYWwgIWlt'));
	@fwrite($fp, base64_decode('cG9ydGFudDsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCWZsb2F0OiBsZWZ0OwoJY2xlYXI6IGxlZnQ7Cgl3aWR0aDogMTAwcHg7Cgl0ZXh0LWFsaWduOiByaWdodDsKCXBhZGRpbmctdG9wOiAzcHg7CgltYXJnaW4tcmlnaHQ6IDhweDsKfQoKLmJveCB7Cgl3aWR0'));
	@fwrite($fp, base64_decode('aDphdXRvICFpbXBvcnRhbnQ7CglwYWRkaW5nOjIwcHg7CgliYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Cglib3JkZXI6MXB4IHNvbGlkICNjY2M7Cglib3JkZXItcmFkaXVzOjVweDsKCW1hcmdpbi10b3A6MTBweDsKfQojdGl0bGVlZGl0IHsKCXdpZHRoOjEwMCU7Cn0K'));
	@fwrite($fp, base64_decode('I3N5c3RlbV90aXRsZV8xIHsKCWNvbG9yOiMyRDZBOUY7Cn0KI3N5c3RlbV90aXRsZV8xLm1vYmlsZSB7CgltYXJnaW4tbGVmdDo1MHB4OwoJcGFkZGluZy1sZWZ0OjEzcHg7Cn0KI3N5c3RlbV90aXRsZV8yIHsKCWNvbG9yOiMyQjMzNkY7Cglmb250LXNpemU6MmVt'));
	@fwrite($fp, base64_decode('Owp9CiNzeXN0ZW1fdGl0bGVfMi5tb2JpbGUgewoJbWFyZ2luLWxlZnQ6NTBweDsKCXBhZGRpbmctbGVmdDoxM3B4Owp9CmEjc3lzdGVtX3RpdGxlX21lbnUgewoJY29sb3I6IG9yYW5nZTsKCXBhZGRpbmc6IDE1LjNweCAxN3B4OwoJdGV4dC1kZWNvcmF0aW9uOiBu'));
	@fwrite($fp, base64_decode('b25lOwoJZm9udC1zaXplOiAxOXB4OwoJZGlzcGxheTogYmxvY2s7CgliYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCWxlZnQ6IDA7Cgl0b3A6IDA7Cn0KCmEjc3lzdGVtX3RpdGxlX21lbnU6aG92ZXIgewoJYmFja2dyb3VuZC1j'));
	@fwrite($fp, base64_decode('b2xvcjogYmxhY2s7Cgljb2xvcjogd2hpdGU7Cn0KCmEjc3lzdGVtX3RpdGxlX21lbnUuYWN0aXZlIHsKCWJhY2tncm91bmQtY29sb3I6IG9yYW5nZTsKCWNvbG9yOiBibGFjazsKfQoKYSNzeXN0ZW1fdGl0bGVfbWVudS5hY3RpdmU6aG92ZXIgewoJYmFja2dyb3Vu'));
	@fwrite($fp, base64_decode('ZC1jb2xvcjogb3JhbmdlOwoJY29sb3I6IHdoaXRlOwp9Cgojc3lzdGVtX3RpdGxlX2JhciB7CglsaW5lLWhlaWdodDoxLjc1ZW07CgoJaGVpZ2h0OjU1cHggIWltcG9ydGFudDsKCglmb250LXN0eWxlOml0YWxpYzsKCWZvbnQtd2VpZ2h0OmJvbGRlcjsKCWZsb2F0'));
	@fwrite($fp, base64_decode('OmxlZnQ7Cglib3JkZXItYm90dG9tOjFweDsKCgl3aWR0aDoxMDAlOyAvKiBicmF1Y2hlbiB3aXIgZnVlciBOb1NjcmlwdCAqLwoJcGFkZGluZy1sZWZ0OjVweDsvKiBicmF1Y2hlbiB3aXIgZnVlciBOb1NjcmlwdCAqLwoJcGFkZGluZy1yaWdodDo1cHg7LyogYnJh'));
	@fwrite($fp, base64_decode('dWNoZW4gd2lyIGZ1ZXIgTm9TY3JpcHQgKi8KCglwYWRkaW5nLWxlZnQ6MHB4OwoJbWFyZ2luLWxlZnQ6MHB4OwoKCWRpc3BsYXk6YmxvY2s7IC8qIFRPRE86IGdlaHQgbmljaHQgKi8KCgkvKiBQZXJtYWxpbmsgLSB1c2UgdG8gZWRpdCBhbmQgc2hhcmUgdGhpcyBn'));
	@fwrite($fp, base64_decode('cmFkaWVudDogaHR0cDovL2NvbG9yemlsbGEuY29tL2dyYWRpZW50LWVkaXRvci8jYTBkOGVmKzAsZGRmMWY5KzY1LGZlZmZmZisxMDAgKi8KCWJhY2tncm91bmQ6ICNhMGQ4ZWY7IC8qIE9sZCBicm93c2VycyAqLwoJYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3Jh'));
	@fwrite($fp, base64_decode('ZGllbnQobGVmdCwgI2EwZDhlZiAwJSwgI2RkZjFmOSA2NSUsICNmZWZmZmYgMTAwJSk7IC8qIEZGMy42LTE1ICovCgliYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LCAjYTBkOGVmIDAlLCNkZGYxZjkgNjUlLCNmZWZmZmYgMTAwJSk7IC8q'));
	@fwrite($fp, base64_decode('IENocm9tZTEwLTI1LFNhZmFyaTUuMS02ICovCgliYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICNhMGQ4ZWYgMCUsI2RkZjFmOSA2NSUsI2ZlZmZmZiAxMDAlKTsgLyogVzNDLCBJRTEwKywgRkYxNissIENocm9tZTI2KywgT3BlcmExMissIFNh'));
	@fwrite($fp, base64_decode('ZmFyaTcrICovCglmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudCggc3RhcnRDb2xvcnN0cj0nI2EwZDhlZicsIGVuZENvbG9yc3RyPScjZmVmZmZmJyxHcmFkaWVudFR5cGU9MSApOyAvKiBJRTYtOSAqLwoKCW92ZXJmbG93'));
	@fwrite($fp, base64_decode('OmhpZGRlbjsKfQojc3lzdGVtX3RpdGxlX2JhciBhOmhvdmVyLCAjc3lzdGVtX3RpdGxlX2JhciBhOmFjdGl2ZSwgI3N5c3RlbV90aXRsZV9iYXIgYTpmb2N1cywgI3N5c3RlbV90aXRsZV9iYXIgYTp2aXNpdGVkLCAjc3lzdGVtX3RpdGxlX2JhciBhOmxpbmsgewoJ'));
	@fwrite($fp, base64_decode('dGV4dC1kZWNvcmF0aW9uOm5vbmU7Cn0KI29pZHRyZWUucGMgewoJcG9zaXRpb246YWJzb2x1dGU7CglsZWZ0OjBweDsKCWJvdHRvbTowcHg7CglwYWRkaW5nLWxlZnQ6NXB4Oy8qIGJyYXVjaGVuIHdpciBmdWVyIE5vU2NyaXB0ICovCglwYWRkaW5nLXJpZ2h0OjVw'));
	@fwrite($fp, base64_decode('eDsvKiBicmF1Y2hlbiB3aXIgZnVlciBOb1NjcmlwdCAqLwoJdG9wOjU1cHg7IC8qIGJyYXVjaGVuIHdpciBmdWVyIE5vU2NyaXB0ICovCgl3aWR0aDo0MDBweDsgLyogYnJhdWNoZW4gd2lyIGZ1ZXIgTm9TY3JpcHQgKi8KfQojb2lkdHJlZS5tb2JpbGUgewoJZGlz'));
	@fwrite($fp, base64_decode('cGxheTogbm9uZTsKCW1hcmdpbi10b3A6NDVweDsKfQojY29udGVudF93aW5kb3cubW9iaWxlIHsKCXBhZGRpbmctbGVmdDoxNnB4OwoJcGFkZGluZy10b3A6MHB4Owp9CiNjb250ZW50X3dpbmRvdy5wYyB7Cglwb3NpdGlvbjphYnNvbHV0ZTsKCWxlZnQ6NDAwcHg7'));
	@fwrite($fp, base64_decode('CglyaWdodDowcHg7Cglib3R0b206MHB4OwoJdG9wOjU1cHg7IC8qIGJyYXVjaGVuIHdpciBmdWVyIE5vU2NyaXB0ICovCglwYWRkaW5nLWxlZnQ6MjBweDsKCXBhZGRpbmctcmlnaHQ6MjBweDsKfQpodG1sIHsKCW1hcmdpbjowOwoJcGFkZGluZzowOwoJaGVpZ2h0'));
	@fwrite($fp, base64_decode('OjEwMCU7Cglmb250LWZhbWlseTpIZWx2ZXRpY2E7Cn0KYm9keSB7CgltYXJnaW46MHB4OwoJcGFkZGluZzowcHg7Cglmb250LXNpemU6MC44NWVtOwoJaGVpZ2h0OjEwMCU7Cn0KYm9keS5wYyB7CglvdmVyZmxvdzpoaWRkZW47Cn0KaDEgewoJZm9udC1zaXplOjEu'));
	@fwrite($fp, base64_decode('OGVtOwp9CmgyIHsKCWZvbnQtc2l6ZToxLjZlbSAhaW1wb3J0YW50Owp9Ci5ib3JkZXJib3ggewoJb3ZlcmZsb3c6YXV0bzsKCWJvcmRlcjoxcHggc29saWQgc2lsdmVyOwp9CgovKioKICoJU3BsaXR0ZXIgLyB1aUxheW91dAogKi8KLnVpLWxheW91dC1wYW5lIHsg'));
	@fwrite($fp, base64_decode('LyogYWxsICdwYW5lcycgKi8KCWJvcmRlcjogMXB4IHNvbGlkICNCQkI7Cn0KLnVpLWxheW91dC1wYW5lLWNlbnRlciB7IC8qIGNvbnRlbnQgYm9keSAqLwoJcGFkZGluZzogMDsKCW1hcmdpbjogIDA7Cn0KLnVpLWxheW91dC1wYW5lLXdlc3QgeyAvKiB3ZXN0IHBh'));
	@fwrite($fp, base64_decode('bmUgKi8KCXBhZGRpbmc6IDAgMTBweDsKCWJhY2tncm91bmQtY29sb3I6ICNmOWY5ZjkgIWltcG9ydGFudDsKCW92ZXJmbG93OiBhdXRvOwp9Ci51aS1sYXlvdXQtcmVzaXplciB7IC8qIGFsbCAncmVzaXplci1iYXJzJyAqLwoJYmFja2dyb3VuZDogI0RERDsKCXRv'));
	@fwrite($fp, base64_decode('cDo1NXB4ICFpbXBvcnRhbnQ7IC8qIERNIDEzLjAzLjIwMTkgKi8KfQoudWktbGF5b3V0LXJlc2l6ZXItb3Blbjpob3ZlciB7IC8qIG1vdXNlLW92ZXIgKi8KCWJhY2tncm91bmQ6ICM5RDk7Cn0KLnVpLWxheW91dC1yZXNpemVyLW5vcnRoIHsKCWJhY2tncm91bmQ6'));
	@fwrite($fp, base64_decode('IzJiMzM2ZiAhaW1wb3J0YW50OwoJei1pbmRleDoxMCAhaW1wb3J0YW50OyAvKiBETSAxMy4wMy4zMDI5MSAqLwp9Ci51aS1sYXlvdXQtdG9nZ2xlciB7IC8qIGFsbCAndG9nZ2xlci1idXR0b25zJyAqLwoJYmFja2dyb3VuZDogI0FBQTsKCX0KLnVpLWxheW91dC10'));
	@fwrite($fp, base64_decode('b2dnbGVyLWNsb3NlZCB7IC8qIGNsb3NlZCB0b2dnbGVyLWJ1dHRvbiAqLwoJYmFja2dyb3VuZDogI0NDQzsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjQkJCOwp9Ci51aS1sYXlvdXQtdG9nZ2xlciAuY29udGVudCB7IC8qIHRvZ2dsZXItdGV4dCAqLwoJZm9u'));
	@fwrite($fp, base64_decode('dDogMTRweCBib2xkIFZlcmRhbmEsIFZlcmRhbmEsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7Cn0KLnVpLWxheW91dC10b2dnbGVyOmhvdmVyIHsgLyogbW91c2Utb3ZlciAqLwoJYmFja2dyb3VuZDogI0RDQTsKfQoudWktbGF5b3V0LXRvZ2dsZXI6aG92'));
	@fwrite($fp, base64_decode('ZXIgLmNvbnRlbnQgeyAvKiBtb3VzZS1vdmVyICovCgljb2xvcjogIzAwOTsKfQoKLyogbWFza3MgYXJlIHVzdWFsbHkgdHJhbnNwYXJlbnQgLSBtYWtlIHRoZW0gdmlzaWJsZSAobXVzdCAnb3ZlcnJpZGUnIGRlZmF1bHQpICovCi51aS1sYXlvdXQtbWFzayB7Cgli'));
	@fwrite($fp, base64_decode('YWNrZ3JvdW5kOiAjQzAwICFpbXBvcnRhbnQ7CglvcGFjaXR5OiAuMjAgIWltcG9ydGFudDsKCWZpbHRlcjogYWxwaGEob3BhY2l0eT0yMCkgIWltcG9ydGFudDsKfQoKLyogVGFicyAqLwoKI2xvZ2luVGFiIC50YWItY29udGVudCB7Cgljb2xvcjogYmxhY2s7Cgli'));
	@fwrite($fp, base64_decode('YWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlOwoJcGFkZGluZyA6IDVweCAxNXB4Owp9CgojbG9naW5UYWIgLm5hdi1waWxscyA+IGxpID4gYSB7Cglib3JkZXItcmFkaXVzOiAwOwp9CgojbG9naW5UYWIgLm5hdi1waWxscyA+IGxpLmFjdGl2ZSA+IGEgewoJY29sb3I6'));
	@fwrite($fp, base64_decode('IGJsYWNrOwoJZm9udC13ZWlnaHQ6IGJvbGQ7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlOwp9Cgo='));
	@fclose($fp);
}
if (!is_file('oidplus.css')) {
	warn('File has vanished! Will re-create it: oidplus.css');
	writefile_4();
	if (!is_file('oidplus.css')) {
		warn('File cannot be created (not existing): oidplus.css');
	} else if (sha1_file('oidplus.css') != 'e5d45dfb6fa4ecd8086e4e0d4018fca7e560ced5') {
		warn('File cannot be created (checksum mismatch): oidplus.css');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.css', 0644)) {
		warn('Could not change file permissions of oidplus.css');
	}
} else {
	if (@sha1_file('oidplus.css') !== 'e5d45dfb6fa4ecd8086e4e0d4018fca7e560ced5') {
		if (@sha1_file('oidplus.css') !== 'c8a3e2627de0c88e591786a027f3ced241c178cb') {
			warn('File was modified. Will overwrite the changes now: oidplus.css');
			$tmp = pathinfo('oidplus.css');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.css')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.css', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('oidplus.css') !== 'e5d45dfb6fa4ecd8086e4e0d4018fca7e560ced5') {
			warn('File cannot be written (checksum mismatch): oidplus.css');
		}
	}
}

// Files different: oidplus.js
function writefile_5() {
	@$fp = fopen('oidplus.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgovLyAkKCcjaHRtbCcpLmpzdHJlZSgpOwoKY3VycmVudF9ub2RlID0gIiI7CnBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCnN5c3RlbV90aXRsZSA9ICIiOwoKU3Ry'));
	@fwrite($fp, base64_decode('aW5nLnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHsKCS8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ1MTQzMjMvamF2YXNjcmlwdC1lcXVpdmFsZW50LXRvLXBocC1leHBsb2RlCgljb25zdCBhcnJh'));
	@fwrite($fp, base64_decode('eSA9IHRoaXMuc3BsaXQoc2VwYXJhdG9yKTsKCWlmIChsaW1pdCAhPT0gdW5kZWZpbmVkICYmIGFycmF5Lmxlbmd0aCA+PSBsaW1pdCkgewoJCWFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGxpbWl0IC0gMSkuam9pbihzZXBhcmF0b3IpKTsKCX0KCXJldHVybiBhcnJh'));
	@fwrite($fp, base64_decode('eTsKfTsKClN0cmluZy5wcm90b3R5cGUuaHRtbGVudGl0aWVzID0gZnVuY3Rpb24gKCkgewoJcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoLyIvZywgJyZx'));
	@fwrite($fp, base64_decode('dW90OycpOwp9OwoKU3RyaW5nLnByb3RvdHlwZS5odG1sX2VudGl0eV9kZWNvZGUgPSBmdW5jdGlvbiAoKSB7CglyZXR1cm4gJCgnPHRleHRhcmVhIC8+JykuaHRtbCh0aGlzKS50ZXh0KCk7Cn07CgpmdW5jdGlvbiBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUoc3lzdGVtdGl0bGUsIHBhZ2V0aXRsZSkgewoJaWYgKHN5c3RlbXRpdGxlID09IHBhZ2V0aXRsZSkgewoJCXJldHVybiBzeXN0ZW10aXRsZTsKCX0gZWxzZSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlICsgJyAtICcgKyBwYWdldGl0bGU7Cgl9Cn0KCmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGdldFRyZWVMb2FkVVJMKCkgewoJdmFyIHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpOwoJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJcmV0dXJuIChnb3RvICE9IG51bGwpID8gInRyZWVsb2FkLnBocD9nb3Rv'));
	@fwrite($fp, base64_decode('PSIrZW5jb2RlVVJJKGdvdG8pIDogInRyZWVsb2FkLnBocCI7Cn0KCmZ1bmN0aW9uIHJlbG9hZENvbnRlbnQoKSB7CgkvLyBkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz0nK2VuY29kZVVSSShjdXJyZW50X25vZGUpOwoJb3Blbk9pZEluUGFuZWwoY3VycmVudF9u'));
	@fwrite($fp, base64_decode('b2RlKTsKCSQoJyNvaWR0cmVlJykuanN0cmVlKCJyZWZyZXNoIik7Cn0KCmZ1bmN0aW9uIG9wZW5PaWRJblBhbmVsKGlkLCB1bnNlbGVjdD1mYWxzZSkgewoJY29uc29sZS5sb2coIm9wZW5PaWRJblBhbmVsKCIraWQrIiwgIit1bnNlbGVjdCsiKSIpOwoKCWlmICh1'));
	@fwrite($fp, base64_decode('bnNlbGVjdCkgewoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdkZXNlbGVjdF9hbGwnKTsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBpZCk7Cgl9CgoJLy8gJCgnI2NvbnRlbnRfd2luZG93JykuaGlkZSgpOwoJZG9jdW1lbnQudGl0bGUgPSAi'));
	@fwrite($fp, base64_decode('IjsKCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgiJm5ic3A7Iik7CgkkKCcjcmVhbF9jb250ZW50JykuaHRtbCgiTG9hZGluZy4uLiIpOwoJJCgnI3N0YXRpY19saW5rJykuYXR0cigiaHJlZiIsICI/Z290bz0iK2VuY29kZVVSSShpZCkpOwoJJCgnI3N0YXRpY19saW5r'));
	@fwrite($fp, base64_decode('X2Rlc2t0b3AnKS5hdHRyKCJocmVmIiwgImluZGV4X2Rlc2t0b3AucGhwP2dvdG89IitlbmNvZGVVUkkoaWQpKTsKCSQoJyNzdGF0aWNfbGlua19tb2JpbGUnKS5hdHRyKCJocmVmIiwgImluZGV4X21vYmlsZS5waHA/Z290bz0iK2VuY29kZVVSSShpZCkpOwoKCWlm'));
	@fwrite($fp, base64_decode('IChwb3BzdGF0ZV9ydW5uaW5nKSByZXR1cm47IC8vIFRvIGF2b2lkIHRoYXQgdGhlIGpzdHJlZSBzZWxlY3Rpb24gZHVyaW5nIHBvcHN0YXRlKCkgd29uJ3QgdHJpZ2dlciBhbm90aGVyIHBhZ2UgbG9hZAoKCS8vIE5vcm1hbCBvcGVuaW5nIG9mIGEgZGVzY3JpcHRp'));
	@fwrite($fp, base64_decode('b24KCWZldGNoKCdnZXRfZGVzY3JpcHRpb24ucGhwP2lkPScraWQpCgkudGhlbihmdW5jdGlvbihyZXNwb25zZSkgewoJCXJlc3BvbnNlLmpzb24oKQoJCS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKCQkJZGF0YS5pZCA9IGlkOwoKCQkJZG9jdW1lbnQudGl0bGUgPSBj'));
	@fwrite($fp, base64_decode('b21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoc3lzdGVtX3RpdGxlLCBkYXRhLnRpdGxlKTsKCQkJdmFyIHN0YXRlID0gewoJCQkJIm5vZGVfaWQiOmlkLAoJCQkJInRpdGxlSFRNTCI6KGRhdGEuaWNvbiA/ICc8aW1nIHNyYz0iJytkYXRhLmljb24rJyIg'));
	@fwrite($fp, base64_decode('d2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IicrZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSsnIj4gJyA6ICcnKSArZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSwKCQkJCSJ0ZXh0SFRNTCI6ZGF0YS50ZXh0LAoJCQkJInN0YXRpY2xpbmtIUkVGIjoiP2dvdG89'));
	@fwrite($fp, base64_decode('IitlbmNvZGVVUkkoaWQpLAoJCQkJInN0YXRpY2xpbmtIUkVGX0Rlc2t0b3AiOiJpbmRleF9kZXNrdG9wLnBocD9nb3RvPSIrZW5jb2RlVVJJKGlkKSwKCQkJCSJzdGF0aWNsaW5rSFJFRl9Nb2JpbGUiOiJpbmRleF9tb2JpbGUucGhwP2dvdG89IitlbmNvZGVVUkko'));
	@fwrite($fp, base64_decode('aWQpCgkJCX07CgkJCWlmIChjdXJyZW50X25vZGUgIT0gaWQpIHsKCQkJCXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgZGF0YS50aXRsZSwgIj9nb3RvPSIrZW5jb2RlVVJJKGlkKSk7CgkJCX0gZWxzZSB7CgkJCQl3aW5kb3cuaGlzdG9yeS5yZXBsYWNl'));
	@fwrite($fp, base64_decode('U3RhdGUoc3RhdGUsIGRhdGEudGl0bGUsICI/Z290bz0iK2VuY29kZVVSSShpZCkpOwoJCQl9CgoJCQlpZiAoZGF0YS5pY29uKSB7CgkJCQkkKCcjcmVhbF90aXRsZScpLmh0bWwoJzxpbWcgc3JjPSInK2RhdGEuaWNvbisnIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgi'));
	@fwrite($fp, base64_decode('IGFsdD0iJytkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKyciPiAnICsgZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSk7CgkJCX0gZWxzZSB7CgkJCQkkKCcjcmVhbF90aXRsZScpLmh0bWwoZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSk7CgkJCX0KCQkJJCgnI3Jl'));
	@fwrite($fp, base64_decode('YWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0KTsKCQkJZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoc3lzdGVtX3RpdGxlLCBkYXRhLnRpdGxlKTsKCQkJY3VycmVudF9ub2RlID0gaWQ7CgkJfSkKCQkuY2F0Y2goZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24oZXJyb3IpIHsKCQkJY29uc29sZS5lcnJvcihlcnJvcik7CgkJfSk7Cgl9KQoJLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CgkJY29uc29sZS5lcnJvcihlcnJvcik7Cgl9KTsKCgkvLyAkKCcjY29udGVudF93aW5kb3cnKS5zaG93KCk7Cn0KCmZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IHVwZGF0ZURlc2MoKSB7CgkkLmFqYXgoewoJCXVybDoiYWN0aW9uLnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiVXBkYXRlMiIsCgkJCWlkOmN1cnJlbnRfbm9kZSwKCQkJdGl0bGU6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0'));
	@fwrite($fp, base64_decode('aXRsZWVkaXQnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZWVkaXQnKS52YWx1ZSA6IG51bGwpLAoJCQkvL2Rlc2NyaXB0aW9uOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdk'));
	@fwrite($fp, base64_decode('ZXNjcmlwdGlvbicpLnZhbHVlIDogbnVsbCkKCQkJZGVzY3JpcHRpb246dGlueU1DRS5nZXQoJ2Rlc2NyaXB0aW9uJykuZ2V0Q29udGVudCgpCgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgIT0gIk9LIikgewoJCQkJYWxlcnQoIkVy'));
	@fwrite($fp, base64_decode('cm9yOiAiICsgZGF0YSk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiVXBkYXRlIE9LIik7CgkJCQkvL3JlbG9hZENvbnRlbnQoKTsKCQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCJyZWZyZXNoIik7CgkJCQl2YXIgaDFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRh'));
	@fwrite($fp, base64_decode('Z05hbWUoImgxIik7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGgxcy5sZW5ndGg7IGkrKykgewoJCQkJCXZhciBoMSA9IGgxc1tpXTsKCQkJCQloMS5pbm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykudmFsdWUuaHRtbGVudGl0'));
	@fwrite($fp, base64_decode('aWVzKCk7CgkJCQl9CgkJCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShzeXN0ZW1fdGl0bGUsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZWVkaXQnKS52YWx1ZSk7CgoJCQkJdmFyIG1jZSA9IHRpbnltY2Uu'));
	@fwrite($fp, base64_decode('Z2V0KCdkZXNjcmlwdGlvbicpOwoJCQkJaWYgKG1jZSAhPSBudWxsKSBtY2UuaXNOb3REaXJ0eSA9IDE7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvblNlbmRJbnZpdGF0aW9uKG9yaWdpbiwgZW1haWwpIHsKCS8vIGRvY3VtZW50LmxvY2F0aW9u'));
	@fwrite($fp, base64_decode('ID0gJz9nb3RvPW9pZHBsdXM6aW52aXRlX3JhJCcrZW1haWwrJyQnK29yaWdpbjsKCglvcGVuT2lkSW5QYW5lbCgnb2lkcGx1czppbnZpdGVfcmEkJytlbWFpbCsnJCcrb3JpZ2luKTsKCn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25JbnNlcnQocGFyZW50KSB7CgkkLmFq'));
	@fwrite($fp, base64_decode('YXgoewoJCXVybDoiYWN0aW9uLnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOnsKCQkJYWN0aW9uOiJJbnNlcnQiLAoJCQlpZDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWQnKS52YWx1ZSwKCQkJcmFfZW1haWw6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQo'));
	@fwrite($fp, base64_decode('J3JhX2VtYWlsJykudmFsdWUsCgkJCWFzbjFpZHM6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzJykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNuMWlkcycpLnZhbHVlIDogbnVsbCksCgkJCWlyaXM6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlk'));
	@fwrite($fp, base64_decode('KCdpcmlzJykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXJpcycpLnZhbHVlIDogbnVsbCksCgkJCWNvbmZpZGVudGlhbDooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGUnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlJykuY2hlY2tlZCA6'));
	@fwrite($fp, base64_decode('IG51bGwpLAoJCQlwYXJlbnQ6cGFyZW50CgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgPT0gIk9LIikgewoJCQkJLy9hbGVydCgiSW5zZXJ0IE9LIik7CgkJCQlyZWxvYWRDb250ZW50KCk7CgkJCQkvLyBUT0RPOiBhdWYgcmVsb2Fk'));
	@fwrite($fp, base64_decode('Q29udGVudCgpIHZlcnppY2h0ZW4uIHN0YXR0ZGVzc2VuIG51ciB0cmVlIGxpbmtzIGFrdHVhbGlzaWVyZW4sIHVuZCByZWNodHMgZWluZSBuZXVlIHplaWxlIHp1ciB0YWJlbGxlIGhpbnp1ZvxnZW4KCQkJfSBlbHNlIGlmIChkYXRhID09ICJPSyAoUmFOb3RJbkRh'));
	@fwrite($fp, base64_decode('dGFiYXNlKSIpIHsKCQkJCWlmIChjb25maXJtKCJVcGRhdGUgT0suIEhvd2V2ZXIsIHRoZSBlbWFpbCBhZGRyZXNzIHlvdSBoYXZlIGVudGVyZWQgKCIrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsJykudmFsdWUrIikgaXMgbm90IGluIG91ciBzeXN0'));
	@fwrite($fp, base64_decode('ZW0uIERvIHlvdSB3YW50IHRvIHNlbmQgYW4gaW52aXRhdGlvbiwgc28gdGhhdCB0aGUgUkEgY2FuIHJlZ2lzdGVyIGFuIGFjY291bnQgdG8gbWFuYWdlIHRoZWlyIE9JRHM/IikpIHsKCQkJCQljcnVkQWN0aW9uU2VuZEludml0YXRpb24ocGFyZW50LCBkb2N1bWVu'));
	@fwrite($fp, base64_decode('dC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWwnKS52YWx1ZSk7CgkJCQl9IGVsc2UgewoJCQkJCXJlbG9hZENvbnRlbnQoKTsKCQkJCQkvLyBUT0RPOiBhdWYgcmVsb2FkQ29udGVudCgpIHZlcnppY2h0ZW4uIHN0YXR0ZGVzc2VuIG51ciB0cmVlIGxpbmtzIGFrdHVh'));
	@fwrite($fp, base64_decode('bGlzaWVyZW4sIHVuZCByZWNodHMgZWluZSBuZXVlIHplaWxlIHp1ciB0YWJlbGxlIGhpbnp1ZvxnZW4KCQkJCX0KCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25VcGRhdGUo'));
	@fwrite($fp, base64_decode('aWQsIHBhcmVudCkgewoJJC5hamF4KHsKCQl1cmw6ImFjdGlvbi5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246IlVwZGF0ZSIsCgkJCWlkOmlkLAoJCQlyYV9lbWFpbDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWxfJytp'));
	@fwrite($fp, base64_decode('ZCkudmFsdWUsCgkJCWFzbjFpZHM6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzXycraWQpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzbjFpZHNfJytpZCkudmFsdWUgOiBudWxsKSwKCQkJaXJpczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQo'));
	@fwrite($fp, base64_decode('J2lyaXNfJytpZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXJpc18nK2lkKS52YWx1ZSA6IG51bGwpLAoJCQljb25maWRlbnRpYWw6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlXycraWQpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGVf'));
	@fwrite($fp, base64_decode('JytpZCkuY2hlY2tlZCA6IG51bGwpLAoJCQlwYXJlbnQ6cGFyZW50CgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgPT0gIk9LIikgewoJCQkJYWxlcnQoIlVwZGF0ZSBPSyIpOwoJCQkJLy8gcmVsb2FkQ29udGVudCgpOwoJCQkJJCgn'));
	@fwrite($fp, base64_decode('I29pZHRyZWUnKS5qc3RyZWUoInJlZnJlc2giKTsKCQkJfSBlbHNlIGlmIChkYXRhID09ICJPSyAoUmFOb3RJbkRhdGFiYXNlKSIpIHsKCQkJCWlmIChjb25maXJtKCJVcGRhdGUgT0suIEhvd2V2ZXIsIHRoZSBlbWFpbCBhZGRyZXNzIHlvdSBoYXZlIGVudGVyZWQg'));
	@fwrite($fp, base64_decode('KCIrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsXycraWQpLnZhbHVlKyIpIGlzIG5vdCBpbiBvdXIgc3lzdGVtLiBEbyB5b3Ugd2FudCB0byBzZW5kIGFuIGludml0YXRpb24sIHNvIHRoYXQgdGhlIFJBIGNhbiByZWdpc3RlciBhbiBhY2NvdW50IHRv'));
	@fwrite($fp, base64_decode('IG1hbmFnZSB0aGVpciBPSURzPyIpKSB7CgkJCQkJY3J1ZEFjdGlvblNlbmRJbnZpdGF0aW9uKHBhcmVudCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsXycraWQpLnZhbHVlKTsKCQkJCX0gZWxzZSB7CgkJCQkJLy8gcmVsb2FkQ29udGVudCgpOwoJ'));
	@fwrite($fp, base64_decode('CQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCJyZWZyZXNoIik7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBjcnVkQWN0aW9uRGVsZXRlKGlkLCBwYXJlbnQpIHsKCWlmKCF3aW5k'));
	@fwrite($fp, base64_decode('b3cuY29uZmlybSgiQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gZGVsZXRlICIraWQrIj8iKSkgcmV0dXJuIGZhbHNlOwoKCSQuYWpheCh7CgkJdXJsOiJhY3Rpb24ucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6IHsKCQkJYWN0aW9uOiJEZWxldGUi'));
	@fwrite($fp, base64_decode('LAoJCQlpZDppZCwKCQkJcGFyZW50OnBhcmVudAoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCWlmIChkYXRhICE9ICJPSyIpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9IGVsc2UgewoJCQkJcmVsb2FkQ29udGVudCgpOwoJCQkJ'));
	@fwrite($fp, base64_decode('Ly8gVE9ETzogYXVmIHJlbG9hZENvbnRlbnQoKSB2ZXJ6aWNodGVuLiBzdGF0dGRlc3NlbiBudXIgdHJlZSBsaW5rcyBha3R1YWxpc2llcmVuLCB1bmQgcmVjaHRzIGRpZSB6ZWlsZSBhdXMgZGVyIHRhYmVsbGUgbPZzY2hlbgoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGRlbGV0ZVJhKGVtYWlsLCBnb3RvKSB7CglpZighd2luZG93LmNvbmZpcm0oIkFyZSB5b3UgcmVhbGx5IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBkZWxldGUgIitlbWFpbCsiPyAoVGhlIE9JRHMgc3RheSBhY3RpdmUpIikpIHJldHVybiBmYWxzZTsKCgkkLmFq'));
	@fwrite($fp, base64_decode('YXgoewoJCXVybDoiYWN0aW9uLnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiZGVsZXRlX3JhIiwKCQkJZW1haWw6ZW1haWwsCgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgIT0gIk9LIikgewoJCQkJ'));
	@fwrite($fp, base64_decode('YWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRG9uZS4iKTsKCQkJCWlmIChnb3RvICE9IG51bGwpIGRvY3VtZW50LmxvY2F0aW9uID0gJz9nb3RvPScgKyBnb3RvOwoJCQkJLy8gcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJ'));
	@fwrite($fp, base64_decode('fSk7Cn0KCmZ1bmN0aW9uIHJhTG9nb3V0KGVtYWlsKSB7CglpZighd2luZG93LmNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGxvZ291dD8iKSkgcmV0dXJuIGZhbHNlOwoKCSQuYWpheCh7CgkJdXJsOiJhY3Rpb24ucGhwIiwKCQltZXRob2Q6'));
	@fwrite($fp, base64_decode('IlBPU1QiLAoJCWRhdGE6IHsKCQkJYWN0aW9uOiJyYV9sb2dvdXQiLAoJCQllbWFpbDplbWFpbCwKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0siKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IHsKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gJz9nb3RvPW9pZHBsdXM6c3lzdGVtJzsKCQkJCS8vIHJlbG9hZENvbnRlbnQoKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiByYUxvZ2luKGVtYWlsLCBwYXNzd29yZCkgewoJJC5hamF4KHsKCQl1cmw6ImFjdGlv'));
	@fwrite($fp, base64_decode('bi5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246InJhX2xvZ2luIiwKCQkJZW1haWw6ZW1haWwsCgkJCXBhc3N3b3JkOnBhc3N3b3JkLAoJCQljYXB0Y2hhOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnLXJlY2FwdGNo'));
	@fwrite($fp, base64_decode('YScpLmxlbmd0aCA+IDAgPyBncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgOiBudWxsCgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgIT0gIk9LIikgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCQlncmVjYXB0Y2hhLnJl'));
	@fwrite($fp, base64_decode('c2V0KCk7CgkJCX0gZWxzZSB7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz1vaWRwbHVzOnN5c3RlbSc7CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gYWRtaW5Mb2dpbihwYXNzd29yZCkgewoJJC5hamF4KHsK'));
	@fwrite($fp, base64_decode('CQl1cmw6ImFjdGlvbi5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ImFkbWluX2xvZ2luIiwKCQkJcGFzc3dvcmQ6cGFzc3dvcmQsCgkJCWNhcHRjaGE6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ctcmVjYXB0Y2hh'));
	@fwrite($fp, base64_decode('JykubGVuZ3RoID4gMCA/IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA6IG51bGwKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0siKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJCWdyZWNhcHRjaGEucmVz'));
	@fwrite($fp, base64_decode('ZXQoKTsKCQkJfSBlbHNlIHsKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gJz9nb3RvPW9pZHBsdXM6c3lzdGVtJzsKCQkJCS8vIHJlbG9hZENvbnRlbnQoKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBhZG1pbkxvZ291dCgpIHsKCWlmKCF3aW5kb3cuY29uZmly'));
	@fwrite($fp, base64_decode('bSgiQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gbG9nb3V0PyIpKSByZXR1cm4gZmFsc2U7CgoJJC5hamF4KHsKCQl1cmw6ImFjdGlvbi5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ImFkbWluX2xvZ291dCIsCgkJfSwKCQlz'));
	@fwrite($fp, base64_decode('dWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgIT0gIk9LIikgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0gZWxzZSB7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz1vaWRwbHVzOnN5c3RlbSc7CgkJCQkvLyByZWxvYWRD'));
	@fwrite($fp, base64_decode('b250ZW50KCk7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gb3BlbkFuZFNlbGVjdE5vZGUoY2hpbGRJRCwgcGFyZW50SUQpIHsKCWlmICgkKCcjb2lkdHJlZScpLmpzdHJlZSh0cnVlKS5nZXRfbm9kZShwYXJlbnRJRCkpIHsKCQkkKCcjb2lkdHJlZScpLmpzdHJl'));
	@fwrite($fp, base64_decode('ZSgnb3Blbl9ub2RlJywgJyMnK3BhcmVudElELCBmdW5jdGlvbihlLCBkYXRhKSB7IC8vIG9wZW4gcGFyZW50IG5vZGUKCQkJaWYgKCQoJyNvaWR0cmVlJykuanN0cmVlKHRydWUpLmdldF9ub2RlKGNoaWxkSUQpKSB7IC8vIGlzIHRoZSBjaGlsZCB0aGVyZT8KCQkJ'));
	@fwrite($fp, base64_decode('CSQoJyNvaWR0cmVlJykuanN0cmVlKCdkZXNlbGVjdF9hbGwnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywgJyMnK2NoaWxkSUQpOyAvLyBzZWxlY3QgaXQKCQkJfSBlbHNlIHsKCQkJCS8vIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29udGVudCBwYWdlIGNvbnRhaW5z'));
	@fwrite($fp, base64_decode('IGJyYW5kIG5ldyBpdGVtcyB3aGljaCBhcmUgbm90IGluIHRoZSB0cmVldmlldyB5ZXQKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJKGNoaWxkSUQpOwoJCQl9CgkJfSwgdHJ1ZSk7Cgl9IGVsc2UgewoJCS8vIFRoaXMgc2hvdWxkIHVz'));
	@fwrite($fp, base64_decode('dWFsbHkgbm90IGhhcHBlbgoJCWRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJKGNoaWxkSUQpOwoJfQp9CgokKHdpbmRvdykub24oInBvcHN0YXRlIiwgZnVuY3Rpb24oZSkgewoJcG9wc3RhdGVfcnVubmluZyA9IHRydWU7Cgl0cnkgewoJCXZh'));
	@fwrite($fp, base64_decode('ciBkYXRhID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlOwoKCQljdXJyZW50X25vZGUgPSBkYXRhLm5vZGVfaWQ7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBkYXRhLm5vZGVfaWQpOyAvLyBUT0RPOiBz'));
	@fwrite($fp, base64_decode('ZWFyY2ggYW5kIG9wZW4gdGhlIG5vZGVzCgkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKGRhdGEudGl0bGVIVE1MKTsKCQkkKCcjcmVhbF9jb250ZW50JykuaHRtbChkYXRhLnRleHRIVE1MKTsKCQkkKCcjc3RhdGljX2xpbmsnKS5hdHRyKCJocmVmIiwgZGF0YS5zdGF0'));
	@fwrite($fp, base64_decode('aWNsaW5rSFJFRik7CgkJJCgnI3N0YXRpY19saW5rX2Rlc2t0b3AnKS5hdHRyKCJocmVmIiwgZGF0YS5zdGF0aWNsaW5rSFJFRl9EZXNrdG9wKTsKCQkkKCcjc3RhdGljX2xpbmtfbW9iaWxlJykuYXR0cigiaHJlZiIsIGRhdGEuc3RhdGljbGlua0hSRUZfTW9iaWxl'));
	@fwrite($fp, base64_decode('KTsKCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShzeXN0ZW1fdGl0bGUsIGRhdGEudGl0bGVIVE1MLmh0bWxfZW50aXR5X2RlY29kZSgpKTsKCX0gY2F0Y2ggKGVycikgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxz'));
	@fwrite($fp, base64_decode('ZTsKCX0gZmluYWxseSB7CgkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJfQp9KTsKCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKCS8vIC0tLSBKc1RyZWUKCgkkKCcjb2lkdHJlZScpCgkuanN0cmVlKHsKCQlwbHVnaW5zOiBbJ21hc3Nsb2FkJywn'));
	@fwrite($fp, base64_decode('c2VhcmNoJywnY29uZGl0aW9uYWxzZWxlY3QnXSwKCQknY29yZScgOiB7CgkJCSdkYXRhJyA6IHsKCQkJCSJ1cmwiIDogZ2V0VHJlZUxvYWRVUkwoKSwKCQkJCSJkYXRhIiA6IGZ1bmN0aW9uIChub2RlKSB7CgkJCQkJcmV0dXJuIHsgImlkIiA6IG5vZGUuaWQgfTsK'));
	@fwrite($fp, base64_decode('CQkJCX0KCQkJfSwKCQkJIm11bHRpcGxlIjogZmFsc2UKCQl9LAoJCSdjb25kaXRpb25hbHNlbGVjdCcgOiBmdW5jdGlvbiAobm9kZSkgewoJCQlpZiAobm9kZS5vcmlnaW5hbC5jb25kaXRpb25hbHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7CgkJCQlyZXR1cm4gZXZh'));
	@fwrite($fp, base64_decode('bChub2RlLm9yaWdpbmFsLmNvbmRpdGlvbmFsc2VsZWN0KTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiB0cnVlOyAvLyBhbGxvdyBzZWxlY3QKCQkJfQoJCX0sCgl9KQoJLm9uKCdyZWFkeS5qc3RyZWUnLCBmdW5jdGlvbiAoZSwgZGF0YSkgewoJCXZhciB1cmwgPSBu'));
	@fwrite($fp, base64_decode('ZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKCQl2YXIgZ290byA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJnb3RvIik7CgkJaWYgKGdvdG8gPT0gbnVsbCkgZ290byA9ICJvaWRwbHVzOnN5c3RlbSI7IC8vIHRoZSBwYWdlIHdhcyBub3QgY2FsbGVkIHdpdGgg'));
	@fwrite($fp, base64_decode('P2dvdG89Li4uCgoJCS8vIEJ5IHNldHRpbmcgY3VycmVudF9ub2RlLCBzZWxlY3Rfbm9kZSgpIHdpbGwgbm90IGNhdXNlIGdldF9kZXNjcmlwdGlvbi5waHAgdG8gbG9hZCAoc2luY2Ugd2UgYWxyZWFkeSBsb2FkZWQgdGhlIGZpcnN0IHN0YXRpYyBjb250ZW50IHZp'));
	@fwrite($fp, base64_decode('YSBQSFAsIGZvciBzZWFyY2ggZW5naW5lcyBtYWlubHkpCgkJLy8gQnV0IHRoZW4gd2UgbmVlZCB0byBzZXQgdGhlIGhpc3Rvcnkgc3RhdGUgbWFudWFsbHkKCQljdXJyZW50X25vZGUgPSBnb3RvOwoJCXdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7CgkJCSJu'));
	@fwrite($fp, base64_decode('b2RlX2lkIjpnb3RvLAoJCQkidGl0bGVIVE1MIjokKCcjcmVhbF90aXRsZScpLmh0bWwoKSwKCQkJInRleHRIVE1MIjokKCcjcmVhbF9jb250ZW50JykuaHRtbCgpLAoJCQkic3RhdGljbGlua0hSRUYiOiI/Z290bz0iK2VuY29kZVVSSShnb3RvKSwKCQkJInN0YXRp'));
	@fwrite($fp, base64_decode('Y2xpbmtIUkVGX0Rlc2t0b3AiOiJpbmRleF9kZXNrdG9wLnBocD9nb3RvPSIrZW5jb2RlVVJJKGdvdG8pLAoJCQkic3RhdGljbGlua0hSRUZfTW9iaWxlIjoiaW5kZXhfbW9iaWxlLnBocD9nb3RvPSIrZW5jb2RlVVJJKGdvdG8pCgkJfSwgJCgnI3JlYWxfdGl0bGUn'));
	@fwrite($fp, base64_decode('KS5odG1sKCksICc/Z290bz0nK2VuY29kZVVSSShnb3RvKSk7CgoJCWlmIChnb3RvICE9IG51bGwpIGRhdGEuaW5zdGFuY2Uuc2VsZWN0X25vZGUoW2dvdG9dKTsKCX0pCgkub24oJ3NlbGVjdF9ub2RlLmpzdHJlZScsIGZ1bmN0aW9uIChub2RlLCBzZWxlY3RlZCwg'));
	@fwrite($fp, base64_decode('ZXZlbnQpIHsKCQlpZiAob2lkcGx1c01vYmlsZSgpKSB7CgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvaWR0cmVlIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCQl9CgoJCXZhciBpZCA9IHNlbGVjdGVkLm5vZGUuaWQ7CgkJaWYgKGN1cnJlbnRfbm9kZSAh'));
	@fwrite($fp, base64_decode('PSBpZCkgewoJCQlvcGVuT2lkSW5QYW5lbChpZCk7CgkJfQoJfSk7CgoJLy8gLS0tIExheW91dAoKCWlmICghb2lkcGx1c01vYmlsZSgpKSB7CgkJJCgnYm9keScpLmxheW91dCh7CgkJCW5vcnRoX19zaXplOiA0MCwKCQkJbm9ydGhfX3NsaWRhYmxlOiBmYWxzZSwK'));
	@fwrite($fp, base64_decode('CQkJbm9ydGhfX2Nsb3NhYmxlOiBmYWxzZSwKCQkJbm9ydGhfX3Jlc2l6YWJsZTogZmFsc2UsCgkJCXdlc3RfX3NpemU6CQkJNDUwLAoJCQl3ZXN0X19zcGFjaW5nX2Nsb3NlZDoJCTIwLAoJCQl3ZXN0X190b2dnbGVyTGVuZ3RoX2Nsb3NlZDoJMjMwLAoJCQl3ZXN0'));
	@fwrite($fp, base64_decode('X190b2dnbGVyQWxpZ25fY2xvc2VkOgkidG9wIiwKCQkJd2VzdF9fdG9nZ2xlckNvbnRlbnRfY2xvc2VkOiJPPGJyPkI8YnI+Sjxicj5FPGJyPkM8YnI+VDxicj48YnI+VDxCUj5SPEJSPkU8QlI+RSIsCgkJCXdlc3RfX3RvZ2dsZXJUaXBfY2xvc2VkOgkiT3BlbiAm'));
	@fwrite($fp, base64_decode('IFBpbiBNZW51IiwKCQkJd2VzdF9fc2xpZGVyVGlwOgkJIlNsaWRlIE9wZW4gTWVudSIsCgkJCXdlc3RfX3NsaWRlVHJpZ2dlcl9vcGVuOgkibW91c2VvdmVyIiwKCQkJY2VudGVyX19tYXNrQ29udGVudHM6CQl0cnVlIC8vIElNUE9SVEFOVCAtIGVuYWJsZSBpZnJh'));
	@fwrite($fp, base64_decode('bWUgbWFza2luZwoJCX0pOwoJfQp9KTsKCmZ1bmN0aW9uIG9pZHBsdXNNb2JpbGUoKSB7CglyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidWktbGF5b3V0LWNlbnRlciIpLmxlbmd0aCA9PSAwOwp9CgpmdW5jdGlvbiBpbnZpdGVGb3JtT25T'));
	@fwrite($fp, base64_decode('dWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFjdGlvbi5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImludml0ZV9yYSIsCgkJCWVtYWlsOiAkKCIjZW1haWwiKS52YWwoKSwKCQkJY2FwdGNoYTogZG9jdW1lbnQuZ2V0RWxlbWVu'));
	@fwrite($fp, base64_decode('dHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwID8gZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpIDogbnVsbAoJCX0sCgkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0siKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIg'));
	@fwrite($fp, base64_decode('KyBkYXRhKTsKCQkJCWdyZWNhcHRjaGEucmVzZXQoKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJUaGUgUkEgaGFzIGJlZW4gaW52aXRlZCB2aWEgZW1haWwuIik7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz0nKyQoIiNvcmlnaW4iKS52YWwoKTsKCQkJ'));
	@fwrite($fp, base64_decode('CS8vcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGFjdGl2YXRlUmFGb3JtT25TdWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFjdGlvbi5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFj'));
	@fwrite($fp, base64_decode('dGlvbjogImFjdGl2YXRlX3JhIiwKCQkJZW1haWw6ICQoIiNlbWFpbCIpLnZhbCgpLAoJCQlhdXRoOiAkKCIjYXV0aCIpLnZhbCgpLAoJCQlwYXNzd29yZDE6ICQoIiNwYXNzd29yZDEiKS52YWwoKSwKCQkJcGFzc3dvcmQyOiAkKCIjcGFzc3dvcmQyIikudmFsKCks'));
	@fwrite($fp, base64_decode('CgkJCXRpbWVzdGFtcDogJCgiI3RpbWVzdGFtcCIpLnZhbCgpCgkJfSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlmIChkYXRhICE9ICJPSyIpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIlJlZ2lz'));
	@fwrite($fp, base64_decode('dHJhdGlvbiBzdWNjZXNzZnVsISBZb3UgY2FuIG5vdyBsb2cgaW4uIik7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz1vaWRwbHVzOmxvZ2luJzsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGZvcmdvdFBhc3N3b3JkRm9ybU9uU3VibWl0KCkgewoJJC5hamF4KHsKCQl1cmw6ICJhY3Rpb24ucGhwIiwKCQl0eXBlOiAiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ICJmb3Jnb3RfcGFzc3dvcmQiLAoJCQllbWFpbDogJCgiI2VtYWlsIikudmFsKCks'));
	@fwrite($fp, base64_decode('CgkJCWNhcHRjaGE6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCA/IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA6IG51bGwKCQl9LAoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEg'));
	@fwrite($fp, base64_decode('IT0gIk9LIikgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCQlncmVjYXB0Y2hhLnJlc2V0KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRS1NYWlsIHNlbnQuIik7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz1vaWRwbHVzOmxvZ2luJzsK'));
	@fwrite($fp, base64_decode('CQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRGb3JtT25TdWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFjdGlvbi5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7'));
	@fwrite($fp, base64_decode('CgkJCWFjdGlvbjogInJlc2V0X3Bhc3N3b3JkIiwKCQkJZW1haWw6ICQoIiNlbWFpbCIpLnZhbCgpLAoJCQlhdXRoOiAkKCIjYXV0aCIpLnZhbCgpLAoJCQlwYXNzd29yZDE6ICQoIiNwYXNzd29yZDEiKS52YWwoKSwKCQkJcGFzc3dvcmQyOiAkKCIjcGFzc3dvcmQy'));
	@fwrite($fp, base64_decode('IikudmFsKCksCgkJCXRpbWVzdGFtcDogJCgiI3RpbWVzdGFtcCIpLnZhbCgpCgkJfSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlmIChkYXRhICE9ICJPSyIpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9IGVsc2UgewoJCQkJYWxl'));
	@fwrite($fp, base64_decode('cnQoIlBhc3N3b3JkIHN1Y2Vzc2Z1bGx5IGNoYW5nZWQuIFlvdSBjYW4gbm93IGxvZyBpbi4iKTsKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gJz9nb3RvPW9pZHBsdXM6bG9naW4nOwoJCQkJLy9yZWxvYWRDb250ZW50KCk7CgkJCX0KCQl9Cgl9KTsKCXJldHVybiBm'));
	@fwrite($fp, base64_decode('YWxzZTsKfQo='));
	@fclose($fp);
}
if (!is_file('oidplus.js')) {
	warn('File has vanished! Will re-create it: oidplus.js');
	writefile_5();
	if (!is_file('oidplus.js')) {
		warn('File cannot be created (not existing): oidplus.js');
	} else if (sha1_file('oidplus.js') != '1167374dbef6467630916e6abf58c3698abb50ff') {
		warn('File cannot be created (checksum mismatch): oidplus.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.js', 0644)) {
		warn('Could not change file permissions of oidplus.js');
	}
} else {
	if (@sha1_file('oidplus.js') !== '1167374dbef6467630916e6abf58c3698abb50ff') {
		if (@sha1_file('oidplus.js') !== 'ebf5e605be5d3324d8b83a6403945a03b189df9d') {
			warn('File was modified. Will overwrite the changes now: oidplus.js');
			$tmp = pathinfo('oidplus.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('oidplus.js') !== '1167374dbef6467630916e6abf58c3698abb50ff') {
			warn('File cannot be written (checksum mismatch): oidplus.js');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 100\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 100') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

