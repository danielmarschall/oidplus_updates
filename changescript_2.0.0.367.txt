<?php /* <ViaThinkSoftSignature>
rebR/X7nbyhSGZ4p+4XN2OGupsMlVIPb6LIXfaWpTAwrs41pXY1ZdULDODVYKnZ2W
xL8TFmI0Czgu0y07HuvgX0rkWeAnKhrcwMkCI+iOCI++yUBD7PUEazQHd9QHpp0iq
ABVvri0g5bWLUW1kMI2nHyL+q31zckfoAiXpH7Hx8SuSZpAvaiRvzO1c8kxKuT1M9
5maW+qysgqzm94DpFONN1NIMu8ZvriYqt9BmGs4QTO9GR0RcE/syu8BI4/ZxAx2nr
oZGxypd5ATmroXMB6J2DZZu0Z128oQxKRP0N/ZTEZyh6lj0smplxDdt3Fe5bjH1Ro
30N4bEOUPvLp9BtlnatCEF3+wRoKRGFoZxy+6cdj6aSP6CDY6TFlSIRZnlN8QXB8A
0rJwV8tgyxLo2JFZMgreqCXY8aZXgdwCVoVsx8Vmw0okZh2qwYHoxKP4iZ9t4pRyc
6QiCNZ2tCz+EPonasBN2/Eofir4UxR27LEc8iJNYclbYMFYYyn9ra58W+NeraKlPB
FHx87XZnecIZ5e+TxYK/JEE/e5fsYqbOF9bpsD7l2kp+RW72SDxjI+AS+taLUr5yy
lMsUpTKNXuWAn/F7mWFSm3O1byskdHAe2UxpyPMGZ8pIVomn6Pi7YNKg3ZaZgiWxa
i27qEFnTbhfIvTF5qfMzD9QWmisUXclGXcBAoSzMuauUPso2pHefXkVuY5YdeYrir
ysKus7Mxj2XVUN2UbXWffW1kLerXHFFtKt+wf7NeBJDgumD9YQ+lMyFFBsyWwXyId
+w666iNePuNHj3sZuaXmDvHU9DB33vGxbIzmW8XWZ2tgrHU/Sb7iNlNZOnKHR/7ib
bYt85giJW/bOh47EDS1wgWTOkHvQTddl/e6AG5u96O5BHC5FbpeHqchnB0HwMxQBh
WV80bGDfkAur4eXDwm6YohGT8yv4f2/S4lMh3YKmRMFW8XORdU4jpf4Wed5umlXI4
IKsrPlvsM4uQQE0l9iPaQWvoBsOE7UBc3+q1DgZ99yUJzwI+mhUKDn+rx6MXaepk6
PWLPUHhfqXCAPq1FB+a+JPkyu+qAcPvqtyb5fYsrRhuJ/5W6zFb6IvOT//rk82HDg
nBQEVLL/sMM0T9mO5fvZ0gbTBJafMK6AakWOgx771A7JTkHPYl/1LsypcuZ1vvh6P
1lb26PptXJA+edVGLWO8zgwR3Y3wRH632jZXOD4X2ujrdMmYuBv5dayQLqwPJSm4b
zpOI7bkGXbK63ExENliqERf5JJFKRKAcJdeatL0/yTHbpd4VrwxmDbZMVoKIoPMO+
NuPzp9xW1ZzZ8sH4xbyvwEfBVaTNWYO7HXxcS20nN9EBS6IV3jcwivf9nUFW5W3Ti
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 366') {
	err('This update can only be applied to OIDplus version 2.0.0.366!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: CONTRIBUTING
function writefile_1() {
	@$fp = fopen('CONTRIBUTING', 'w');
	@fwrite($fp, base64_decode('CkNvbnRyaWJ1dGluZyB0byB0aGUgZGV2ZWxvcG1lbnQgb2YgT0lEcGx1cyAyLjAKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKQ3VycmVudGx5LCB0aGUgbWFpbiByZXBvc2l0b3J5IG9mIE9JRHBsdXMgaXMKaHR0cHM6Ly9z'));
	@fwrite($fp, base64_decode('dm4udmlhdGhpbmtzb2Z0LmNvbS9jZ2ktYmluL3ZpZXd2Yy5jZ2kvb2lkcGx1cy8KClRoZSBHaXRIdWIgcmVwb3NpdG9yeSBsb2NhdGVkIGF0Cmh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZWxtYXJzY2hhbGwvb2lkcGx1cwppcyBjdXJyZW50bHkgb25seSBhIG1pcnJv'));
	@fwrite($fp, base64_decode('ci4KKFRoaXMgbWlnaHQgY2hhbmdlIGluIHRoZSBmdXR1cmUsIGJ1dCBmb3Igbm93LApTVk4gaXMgdGhlIG1haW4gc291cmNlKQoKSG93IHlvdSBjYW4gY29udHJpYnV0ZToKCi0gUmVwb3J0IGJ1Z3MgZWl0aGVyIGF0CiAgaHR0cHM6Ly93d3cudmlhdGhpbmtzb2Z0'));
	@fwrite($fp, base64_decode('LmNvbS90aGlua2J1Zy90aGlua2J1Zy5waHA/aWQ9OTcKICBvciB2aWEgZW1haWwgdG8gRGFuaWVsIE1hcnNjaGFsbAogIGh0dHBzOi8vd3d3LnZpYXRoaW5rc29mdC5jb20vY29udGFjdC9kYW5pZWwtbWFyc2NoYWxsCiAgb3IgYXMgR2l0SHViIGlzc3VlCiAgaHR0'));
	@fwrite($fp, base64_decode('cHM6Ly9naXRodWIuY29tL2RhbmllbG1hcnNjaGFsbC9vaWRwbHVzL2lzc3VlcwoKLSBJZiB5b3UgaGF2ZSB3cml0dGVuIGNvZGUgc25pcHBldHMgb3IgcGF0Y2hlcywKICB5b3UgY2FuIGVpdGhlciBzZW5kIHRoZW0gdmlhIGVtYWlsLCBidWcgdHJhY2tlciwKICBv'));
	@fwrite($fp, base64_decode('ciBhcyBwdWxsLXJlcXVlc3QuCgotIFlvdSBjYW4gc2VuZCBHaXRIdWIgcHVsbC1yZXF1ZXN0cywKICBidXQgdGhlIGNoYW5nZXMgd2lsbCBiZSBhcHBsaWVkIG1hbnVhbGx5IHRvIHRoZSBTVk4gbWFzdGVyIHJlcG9zaXRvcnksCiAgYW5kIHRoZW4gbWlycm9yZWQg'));
	@fwrite($fp, base64_decode('dG8gR2l0SHViLgogIChUaGVyZWZvcmUsIHRlY2huaWNhbGx5IHRoZSBwdWxsLXJlcXVlc3Qgd2lsbCBiZSBpZ25vcmVkL3JlamVjdGVkLAogIGV2ZW4gaWYgdGhlIGNoYW5nZSB3YXMgYWN0dWFsbHkgbWFkZSkKCi0gSWYgeW91IHdhbnQgdG8gaGF2ZSB3cml0ZSBh'));
	@fwrite($fp, base64_decode('Y2Nlc3MgdG8gdGhlIFNWTiByZXBvc2l0b3J5LAogIHBsZWFzZSBjb250YWN0IERhbmllbCBNYXJzY2hhbGwuCgotIElmIHlvdSBoYXZlIGZvdW5kIGEgc2VjdXJpdHkgdnVsbmVyYWJpbGl0eSwKICBwbGVhc2UgT05MWSBjb250YWN0IHZpYSBlbWFpbCwgbm90IHZp'));
	@fwrite($fp, base64_decode('YSBhIHB1YmxpYyBidWcgdHJhY2tlci4KCi0gSWYgeW91IGhhdmUgd3JpdHRlbiBwbHVnaW5zIHdoaWNoIGFyZSB1c2VmdWwsCiAgd2UgY2FuIGluY2x1ZGUgdGhlbSBpbiB0aGUgb2ZmaWNpYWwgT0lEcGx1cyByZWxlYXNlLgo='));
	@fclose($fp);
}
if (is_file('CONTRIBUTING') && (sha1_file('CONTRIBUTING') != '2b2381a74db30d135382f7766d65fbf57cb9ffd0')) {
	warn('File was created by someone else. Will overwrite the changes now: CONTRIBUTING');
	$tmp = pathinfo('CONTRIBUTING');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('CONTRIBUTING')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('CONTRIBUTING', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('CONTRIBUTING')) {
	warn('File cannot be created (not existing): CONTRIBUTING');
} else if (sha1_file('CONTRIBUTING') != '2b2381a74db30d135382f7766d65fbf57cb9ffd0') {
	warn('File cannot be created (checksum mismatch): CONTRIBUTING');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('CONTRIBUTING', 0644)) {
	warn('Could not change file permissions of CONTRIBUTING');
}

// Files different: TODO
function writefile_2() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('ClJFQ0VOVCBTVFVGRgotIENvb2tpZSBsYXc6CglEb3dubG9hZCBDb29raWVDb25zZW50IGNvZGUgaW50byBfM3AgZm9sZGVyLCBkbyBub3QgaG90bGluayBpdAoJd2UgbmVlZCB0byBsb2cgYWxsIGNvbnNlbnRzCglkbyB3ZSBuZWVkIGFuIGV4cGxpY2l0IGNvbnNl'));
	@fwrite($fp, base64_decode('bnQgYXQgdGhlIGxvZ2luIGZvcm0/CglkbyB3ZSBuZWVkIGEgY29uc2VudCBmb3IgdGhlIGNvb2tpZSBTU0xfQ0hFQ0s/Ci0gVmVyaWZ5IHRoYXQgbG9nZ2VyIHdvcmtzIGNvcnJlY3RseSwgY2hlY2sgaWYgYWxsIGxvZ21hc2tzIGFyZSBjb3JyZWN0Ci0gdGhlIGlu'));
	@fwrite($fp, base64_decode('YWN0aXZpdHkgdGltZXIgaXMgbXVjaCB0b28gZmFzdCEKLSBEb2VzIHRoZSBhZG1pbiBmZWF0dXJlICI2MDBfbG9nIiBhbHNvIHNob3cgYWxsIGxvZyBldmVudHMgZnJvbSBhbGwgT2JqZWN0cyBhbmQgYWxsIFJBcz8KLSBhdCBhIGxvdCBvZiBmb3JtcywgaWYgeW91'));
	@fwrite($fp, base64_decode('IHByZXNzICJlbnRlciIsIHRoZSAiZm9ybSIgd2lsbCBub3QgYmUgc3VibWl0dGVkIChlLmcuICJjcmVhdGUgcmEiIHBsdWdpbiksIGNhbm5vdCByZXByb2R1Y2U/Ci0gVGVzdCBldmVyeSBmdW5jdGlvbiBvZiBPSURwbHVzIHRvIGVuc3VyZSBldmVyeXRoaW5nIHdv'));
	@fwrite($fp, base64_decode('cmtzIGFmdGVyIHRoZSByZWNlbnQgY2hhbmdlcyBpbiBPT1AKLSBXaGVuIHlvdSB0cnkgdG8gY3JlYXRlIGFuIE9JRCBhbmQgaGF2ZSBub3QgZW50ZXJlZCBhbiBhc24xIGlkLCB0aGVyZSBzaG91bGQgYmUgYSB3YXJuaW5nCi0gTXVsdGlsYW5nCgkqIE5vdCB5ZXQg'));
	@fwrite($fp, base64_decode('dHJhbnNsYXRlZDoKCQktIGluY2x1ZGVzXGNsYXNzZXNcaHR0cF9jbGFzcy5jbGFzcy5waHAKCQktIGluY2x1ZGVzXGNsYXNzZXNccGhwc3ZuY2xpZW50LmNsYXNzLnBocAoJCS0gcGx1Z2luc1xwdWJsaWNQYWdlc1wxMDBfd2hvaXNcd2hvaXNcaW5kZXgucGhwCgkJ'));
	@fwrite($fp, base64_decode('LSAzcFx2dHNfZmlsZWZvcm1hdHNcZmlsZWZvcm1hdHMuY29uZgoJKiBDaGVjay9Db3JyZWN0IEdlcm1hbiBNYWNoaW5lLVRyYW5zbGF0aW9uczoKCQktIHJlcy9PSURwbHVzL3ByaXZhY3lfZG9jdW1lbnRhdGlvbiRkZWRlLmh0bWwKCQktIHJlcy9PSURwbHVzL2Fj'));
	@fwrite($fp, base64_decode('a25vd2xlZGdlbWVudHMkZGVkZS5odG1sCgkJLSBwbHVnaW5zXHB1YmxpY1BhZ2VzXDIwMF92aWF0aGlua3NvZnRfZnJlZW9pZFx0b3MkZGVkZS5odG1sCgkqIElkZWE6IEFsbG93ICJvaWRwbHVzX2Jhc2UkZGVkZS5jc3MiLCBzbyB0aGF0IGxhbmd1YWdlcyBjYW4g'));
	@fwrite($fp, base64_decode('aGF2ZSB0aGVpciBvd24gQ1NTIChlLmcuIHdpZGVyICJHbyIgYnV0dG9uKQoJCUJ1dCB0aGlzIG1lYW5zIHRoYXQgYSBsYW5ndWFnZSBjaGFuZ2UgYWxzbyBuZWVkIHRvIHJlbG9hZCB0aGUgc3R5bGUgc2hlZXQgKGxpa2UgdGhlIGNvbG9yLXBsdWdpbiBkb2VzIHdo'));
	@fwrite($fp, base64_decode('ZW4geW91IGNsaWNrICJUZXN0IikKLSBXZWJXSE9JUzogT3BlbiBpbiBuZXcgV2luZG93PyBTaG93IFVSTCB3aXRob3V0IG9wZW5pbmcgdGhlIHBhZ2U/Ci0gQ3JlYXRlIGEgcG9zc2liaWxpdHkgdG8gaW52b2tlIGNyb25qb2JzIChWVFMgcmVnaXN0cmF0aW9uIC8g'));
	@fwrite($fp, base64_decode('YXV0b21hdGljIHB1Ymxpc2hpbmcpIHZpYSBjcm9udGFiPwotIE1ha2UgYSBwbHVnaW4gdGhhdCBzaG93cyB3YXJuaW5nIGZyb20gcGx1Z2lucyAodmlhICJmZWF0dXJlLWludGVyZmFjZSIpLCBlLmcuIHRoZSByZWdpc3RyYXRpb24gcGx1Z2luIGNvdWxkIHdhcm4g'));
	@fwrite($fp, base64_decode('dGhhdCBDVVJMIGlzIG5vdCB3b3JraW5nIGNvcnJlY3RseSBldGMuCglCdXQgaXQgc2hvdWxkIGFsc28gaGF2ZSBKYXZhU2NyaXB0IGNvbXBvbmVudHMsIGUuZy4gY2hlY2sgaWYgZGV2LyBhbmQgb3RoZXIgY29uZmlkZW50aWFsIGZvbGRlcnMgY2FuIGJlIGFjY2Vz'));
	@fwrite($fp, base64_decode('c2VkIChzZWUgY29kZSBpbiBzZXR1cC8pCi0gU2hvdWxkIG9pZF91dGlscy5pbmMucGhwLCB4bWxfdXRpbHMuaW5jLnBocCwgb2lkaW5mb19hcGksIGV0Yy4gYWxsIGJlIHB1dCBpbnRvIDNwLyAoZXNwZWNpYWxseSBpZiB0aGV5IGhhdmUgYW4gb3duIFZpYVRoaW5r'));
	@fwrite($fp, base64_decode('U29mdCByZXBvc2l0b3J5KT8KCU5vdGUgdGhhdCBleHRlcm5hbCBTVk4gcmVwb3MgbmVlZCB0byBiZSAiaGFyZCBjb2RlZCIgaW50byBpbmNsdWRlcy9vaWRwbHVzLmluYy5waHAgYW5kIHVwZGF0ZS9pbmRleC5waHAKLSBWaWFUaGlua1NvZnQgcmVnMi9xdWVyeS5w'));
	@fwrite($fp, base64_decode('aHAgOiBFdmVyeSByZXBvbnNlIHNoYWxsIGJlIEpTT04KCk5FVyBGVU5DVElPTkFMSVRJRVMKLSBBZG1pbiBwbHVnaW4gIkF0dGFjaG1lbnRzIiB3aXRoIGZvbGxvd2luZyBmdW5jdGlvbmFsaXRpZXM6CgkqIFNob3cgZXZlcnkgb2JqZWN0IGFuZCBpdHMgYXR0YWNo'));
	@fwrite($fp, base64_decode('bWVudHMsIHNvIHRoYXQgdGhlIGFkbWluIGtub3dzIHdoYXQncyBnb2luZyBvbgoJICAoQWx0ZXJuYXRpdmVseSB0aGV5IGNhbiBqdXN0IGxvb2sgaW4gdGhlIHVzZXJkYXRhIGRpcmVjdG9yeSB1c2luZyBGVFApCgkqIEdpdmUgdGhlIGFiaWxpdHkgdG8gZW5hYmxl'));
	@fwrite($fp, base64_decode('L2Rpc2FibGUgUkEgdXBsb2FkaW5nL2RlbGV0aW5nCgkgIChBbHRlcm5hdGl2ZWx5IHRoZXkgbmVlZCB0byBkbyBpdCBpbiB0aGUgY29uZmlndXJhdGlvbiBtb2R1bGUgYW5kIGVudGVyICcwJyBhbmQgJzEnIGJ5IGhhbmQpCi0gRXhjZWwvQ1NWIGltcG9ydCB0b29s'));
	@fwrite($fp, base64_decode('IGZvciBidWxrIGRhdGEgaW1wb3J0IChhcyBhbHRlcm5hdGl2ZSB0byBYTUwgaW1wb3J0LiBNYXliZSBwcmV2aW91cyBFeGNlbC0+WE1MIGltcG9ydCB0b29sPykKClRJTllNQ0UKLSBNZW51IGVudHJ5ICJmb3JtYXRzIiBpcyBlbXB0eS4gY2FuIGl0IGJlIHJlbW92'));
	@fwrite($fp, base64_decode('ZWQ/Ci0gQ2xpY2tpbmcgIlBhcmFncmFwaCIgZHJvcGRvd24gYm94IGRvZXMgbm90IHdvcmsgKFNhZmFyaSBwcm9ibGVtPykKCldIT0lTCi0gd2Vid2hvaXM6IGJlc2lkZSBUWFQvWE1ML0pTT04gbW9yZSBvdXRwdXQgbW9kaT8gIENTViwgUy9NSU1FICAoYW5kIGFk'));
	@fwrite($fp, base64_decode('ZCB0aGUgUy9NSU1FIGtleXB1cnBvc2UgdG8gdGhlIFguNTA5IGNlcnRpZmljYXRlcykKLSB3aG9pcyBxdWVyeSAnb2lkOicgc2hvdWxkIHNob3cgYWxsIHJvb3QgZW50cmllcyAoc3Vib3JkaW5hdGUgZW50cmllcyksIGJ1dCB0aGVyZSBpcyBvbmx5IHRoZSBtZXNz'));
	@fwrite($fp, base64_decode('YWdlICJub3QgZm91bmQiCgpTRVRVUAotIFRoZXJlIHNob3VsZCBiZSBhICJ0ZXN0IGRhdGFiYXNlIGNvbm5lY3Rpb24iIGJ1dHRvbgoKV0VCU1ZOIFVQREFURVIKLSBpbXBsZW1lbnQgc3VwcG9ydCBmb3IgZXh0ZXJuYWwgcmVwb3MhISEKCkRBVEEgVFJBTlNGRVIg'));
	@fwrite($fp, base64_decode('UExVR0lOCi0gWE1MIGltcG9ydDogTGV0IHRoZSB1c2VyIGRlY2lkZSBpZiBleGlzdGluZyBPSURzIHNoYWxsIGJlIG92ZXJ3cml0dGVuCi0gWE1MIGltcG9ydDogTGV0IHRoZSB1c2VyIGRlY2lkZSBpZiBSQXMgc2hvdWxkIGJlIGNyZWF0ZWQKLSBYTUwgaW1wb3J0'));
	@fwrite($fp, base64_decode('OiBMZXQgdGhlIHVzZXIgZGVjaWRlIGlmICJjcmVhdGVkPW5vdyIgc2hvdWxkIGJlIHNldAotIFhNTCBpbXBvcnQ6IFdhaXRpbmcgYW5pbWF0aW9uCi0gWE1MIGltcG9ydDogSWYgb3V0cHV0IChlcnJvcnMpIGlzIHRvbyBsb25nLCBzaG93IHRoZW0gaW4gYSBwYWdl'));
	@fwrite($fp, base64_decode('IHJhdGhlciB0aGFuIGFuIGFsZXJ0KCkgYm94CgpTTUFMTCBUSElOR1MKLSBDb3B5cmlnaHQgbm90aWNlOgoJKiBDdXJyZW50bHksIHdlIGhhdmUgIjIwMTkiLCAiMjAyMCIgYW5kICIyMDE5LTIwMjAiLiBDaGFuZ2UgdGhlbSBhbGwgdG8gIjIwMTkgLSAyMDIwIgoJ'));
	@fwrite($fp, base64_decode('KiBDb3B5cmlnaHQgPEJZPiBEYW5pZWwgTWFyc2NoYWxsICgiYnkiIGlzIG1pc3NpbmcpCi0gUkEgYWRkcmVzcyBkYXRhOiBDb3VudHJ5IHNlbGVjdGlvbiBib3ggbGlrZSBpbiBPSURJbmZvCi0gV2Ugc2hvdWxkIHJlbW92ZSAiZGllKCkiIHdoZW5ldmVyIHBvc3Np'));
	@fwrite($fp, base64_decode('YmxlLCBiZWNhdXNlIGl0IGlzIHZlcnkgdW5mbGV4aWJsZQotIG9mZmVyIHNpZ25hdHVyZSBjaGVja2VyIHRvb2wgdG8gdmVyaWZ5IFdIT0lTIHJlc3BvbnNlcwotIG1pbmltdW0gbWVudSBleHBhbnNpb24gbGV2ZWw6IG1ha2UgaXQgY29uZmlndXJhYmxlIGZvciBh'));
	@fwrite($fp, base64_decode('bGwgb2JqZWN0cyBhbmQgcGx1Z2lucywgZS5nLiBzbyB0aGF0IHdoZW4geW91IG9wZW4gT0lEcGx1cywgYWxsIE9JRHMgdGlsbCBsZXZlbCAyIGFyZSBleHBhbmRlZAotIG1ha2UgdXNlIG9mIGF1dG9sb2FkaW5nIG9mIFBIUCBjbGFzc2VzCi0gUmV2aXZlIHRoZSBp'));
	@fwrite($fp, base64_decode('ZGVhIG9mICJpbmZvcm1hdGlvbiBvYmplY3RzIiA9IE9JRHMgdGhhdCBjb250YWluIGNvbnRlbnQKLSBUaGluZ3MgbGlrZSAiY29uZmlnKCktPm1pblJhUGFzc3dvcmRMZW5ndGgiIHNob3VsZCBub3QgYmUgaGFyZGNvZGVkIGZ1bmN0aW9ucywgYnV0IHJhdGhlciBx'));
	@fwrite($fp, base64_decode('dWVyaWVkIHdpdGggbm9ybWFsIGdldFZhbHVlKCkgZXRjLgotIEFQSSA6IE1ha2UgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhIFJBIGV4aXN0cywgYW5kIHVzZSBpdCBldmVyeXdoZXJlIHdoZXJlIG5lZWRlZAotIFNob3VsZCB3ZSBzZWxmLWhvc3QgcG9seWZp'));
	@fwrite($fp, base64_decode('bGwgZHVlIHRvIEdEUFIgc3R1ZmY/Ci0gT2JqZWN0IHR5cGUgcGx1Z2lucyA6IHRha2UgY2FyZSB0aGF0ICJ0cmVlaWNvbi5wbmciIGFuZCAiaWNvbl9iaWcucG5nIiBleGlzdCBldmVyeXdoZXJlIChiZWNvbWUgc3RhbmRhcmQpCi0gd2hlbiBhamF4LnBocCBnZW5l'));
	@fwrite($fp, base64_decode('cmF0ZXMgYSBQSFAgZXJyb3IsIHRoZSBjbGllbnQgZ2l2ZXMgYSAic3ludGF4IGVycm9yIiBtZXNzYWdlLi4uIGl0IHdvdWxkIGJlIGJldHRlciBpZiB0aGUgY2xpZW50IHNob3dzIHRoZSBmdWxsIHBocCBlcnJvcj8gb3Igc29tZXRoaW5nIG1vcmUgdXNlci1mcmll'));
	@fwrite($fp, base64_decode('bmRseT8KLSBmcmVlb2lkOiBnbWFpbCBhcHAgZG9lcyBub3QgaHlwZXJsaW5rIHRoZSBhY3RpdmF0aW9uIFVSTC4gd2h5PwotIGhvdyB0byBhdm9pZCBpbnZpdGUgc3BhbW1pbmc/Ci0gd2hlbiBhIFBIUCBlcnJvciBoYXBwZW5zIChpLmUuIHRoZSBBSkFYIHNjcmlw'));
	@fwrite($fp, base64_decode('dCBkaWQgbm90IG1hbmFnZSB0byBvdXRwdXQgYSBKU09OKSwgdGhlIEFKQVggc2NyaXB0IG91dHB1dHMgIkVycm9yOiBTeW50YXhFcnJvcjogVW5leHBlY3RlZCB0b2tlbiA8IGluIEpTT04gYXQgcG9zaXRpb24gMCIgLi4uIGJldHRlciBzaG93IHRoZSB1c2VyIHRo'));
	@fwrite($fp, base64_decode('ZSBhY3R1YWwgbWVzc2FnZQotIHdoZW4gbG9naW4gZXhwaXJlZCwgcmVtb3ZlIGVudHJpZXMgaW4gdGhlIHRyZWV2aWV3Ci0gZGlzYWJsZSBzcGVjaWZpYyBmdW5jdGlvbnMgKGUuZy4gaW52aXRlLCBsb2dpbiwgcmFpbmZvLCBmb3Jnb3QgcGFzc3dvcmQpIGlmIHRo'));
	@fwrite($fp, base64_decode('ZSBwbHVnaW5zIGFyZSBub3QgaW5zdGFsbGVkIChjaGVjayBpZiBjbGFzcyB0eXBlIGlzIHJlZ2lzdGVyZWQgdXNpbmcgY2xhc3NfZXhpc3RzKCkpCi0gbWFrZSB1c2FnZSBvZiBGb3JlaWduIEtleXMKCVBST0JMRU06IHdlIG5lZWQgZm9yZWlnbiBrZXlzIHdpdGgg'));
	@fwrite($fp, base64_decode('bm8gY2hlY2ssIGJlY2F1c2UKCWEpIHdlIHdhbnQgdG8ga2VlcCBsb2cgZW50cmllcyBldmVuIGlmIGFuIG9iamVjdC91c2VyIGlzIGRlbGV0ZWQKCWIpIGxvZ191c2VyLnVzZXJuYW1lIGNhbiBhbHNvIGJlICdhZG1pbicgKGFuZCB0aGVyZWZvcmUgbm90IGJlIGEg'));
	@fwrite($fp, base64_decode('Zm9yZWlnbiBrZXkgdG8gdGFibGUgJ3JhJykKCWMpIG5vdCBldmVyeSBvYmplY3Qgc2hvdWxkIGhhdmUgYSByZWdpc3RlcmVkIFJBLiBUaGVyZSBzaG91bGQgYmUgInVua25vd24iIFJBcyB3aGVyZSBvbmx5IHRoZSBlbWFpbCBhZGRyZXNzIGlzIGtub3duCi0gPGFi'));
	@fwrite($fp, base64_decode('YnI+IGluIDxjb2RlPiBpcyBkb3VibGUgdW5kZXJsaW5lZDsgdGhhdCdzIG5vdCBnb29kCi0gaWYgeW91IHdhbnQgdG8gY3JlYXRlIGEgT0lEIHdoaWNoIGlzIGRlZmluZWQgYXMgd2VsbC1rbm93biBPSUQsIHRoZW4geW91IGdldCBhbiBlcnJvciBiZWNhdXNlIG9m'));
	@fwrite($fp, base64_decode('IHJlcGxhY2VBc24xL3JlcGxhY2VJcmksIGJ1dCB0aGUgT0lEIGlzIHN0aWxsIGNyZWF0ZWQuIEJ1dCB0aGUgR1VJIHdpbGwgbm90IGJlIHJlYWxvZGVkLiBTbywgeW91IGNhbm5vdCBzZWUgdGhhdCB0aGUgT0lEIHdhcyBjcmVhdGVkLCBhbmQgYW5vdGhlciBjbGlj'));
	@fwrite($fp, base64_decode('ayBhdCB0aGUgIkluc2VydCIgYnV0dG9uIHdpbGwgZ2l2ZSBhIFByaW1hcnkgS2V5IEVycm9yIHRoZXJlZm9yZQotIGlmIHlvdSBoYXZlIG11bHRpcGxlIGlkZW50aWZpZXJzLCBob3cgZG8geW91IHRlbGwgdGhlIHN5c3RlbSB3aGljaCBpZGVudGlmaWVyIHNob3Vs'));
	@fwrite($fp, base64_decode('ZCBiZSB0aGUgcHJlZmVycmVkIG9uZT8KLSBzaG93IHdob2lzIGxpbmtzIG9ubHkgaWYgZm9sZGVyICJ3aG9pcy8iIGV4aXN0cwotIGRpc2FibGUgYXV0b2NvbXBsZXRlIG9uIHNvbWUgZm9ybXMKLSBncmFwaGljYWwgaW1wb3J2ZW1lbnRzIG9mIGZvcm1zIChpbnB1'));
	@fwrite($fp, base64_decode('dCBlZGl0cyBhbGlnbmVkKQotICJEb2N1bWVudHMiIHNlY3Rpb246IE1ha2UgZG9jdW1lbnRhdGlvbiBmb3IgdXNhZ2Ugb2YgT0lEcGx1cyAoZm9yIG1lbWJlcnMgb25seSkKLSBhZG1pbiBjb25maWcgbWVociB1c2VyIGZyaWVuZGx5LCBlLmcuIGhhdmluZyB0aGUg'));
	@fwrite($fp, base64_decode('ZW5hYmxlL2Rpc2FibGUgb2JqZWN0IHR5cGUgc3R1ZmYgKGxpa2UgaW4gcmVnaXN0cmF0aW9uIHdpemFyZCkgYWxzbyBpbiB0aGUgYWRtaW4gY29udHJvbCBwYW5lbAotIGl0IHdvdWxkIGJlIGdvb2QgaWYgYWZ0ZXIgdGhlIGxvZ2luLCB0aGUgb3BlbmVkIG5vZGVz'));
	@fwrite($fp, base64_decode('IGluIHRoZSB0cmVlIHdvdWxkIHN0YXkgb3BlbgotIHNob3VsZCB3ZSBsb2cgc29tZXdoZXJlLCB3aGVuIHRoZSBhZG1pbiBhY2NvdW50IHdhcyBsb2dnZWQgaW4/Ci0gaHRtbCBjaGVja2JveDogbWFrZSB1c2Ugb2YgImxhYmVsIGZvciIKLSB3aGVuIGphdmFzY3Jp'));
	@fwrite($fp, base64_decode('cHQgZmFpbHMsIHRoZSBmb3JtIHdpbGwgYmUgc3VibWl0dGVkIHRvICcuLycgLCB0aGF0IGlzIG5vdCBnb29kISBmYWlsZWQgamF2YXNjcmlwdCBtdXN0IHJldHVybiBmYWxzZSwgc28gdGhhdCB0aGUgZm9ybSBkb2VzIG5vdCBnZXQgc3VibWl0dGVkCi0gYWRtaW46'));
	@fwrite($fp, base64_decode('IHNob3cgcHJpdmFjeSBlbnRyaWVzIGZyb20gUkFzIChidXQgZ3JleSwgc28geW91IGtub3cgdGhhdCBpdCBpcyBwcml2YXRlKQotIGFkbWluIHNob3VsZCBiZSBhYmxlIHRvIGVkaXQgY29udGFjdCBkYXRhIG9mIGEgZm9yZWlnbiBSQSBbWFhYIGlzbid0IHRoYXQg'));
	@fwrite($fp, base64_decode('YWxyZWFkeSBpbXBsZW1lbnRlZD9dCi0gZnJlZW9pZDogaGlkZSBhc24uMSBhbmQgaXJpIGNvbHVtbnMsIGJlY2F1c2UgdGhlIFJBIGlzIG5vdCBhbGxvY2F0aW5nIHRoZXNlIGlkZW50aWZpZXJzPwotIC4uLi4gbWF5YmUgd2Ugc2hvdWxkIGhhdmUgYSBsaXN0IG9m'));
	@fwrite($fp, base64_decode('IE9JRHMgd2hlcmUgdGhlIE9JRCBkb2VzIG5vdCBhbGxvY2F0ZSBBU04uMS9JUkkgaWRlbnRpZmllcnMuLi4gdGhlbiB3ZSBjYW4gYWxzbyBtYWtlIHVzZSBvZiB0aGUgT0lELVdIT0lTIGF0dHJpYnV0ZXMKLSBQcml2YWN5OiBNb3JlIHByaXZhY3kgbGV2ZWxzLCBl'));
	@fwrite($fp, base64_decode('LmcuIHRoYXQgeW91IGRvbid0IHNob3cgeW91ciBwZXJzb25hbCBuYW1lIGV0Yy4KLSBZb3Ugc2hvdWxkIGJlIGFibGUgdG8gY2hhbmdlIHRoZSAiY3JlYXRlZCIgZGF0ZSBmb3IgYW4gb2JqZWN0ISBPciBtYXliZSBoaWRlIGl0IGNvbXBsZXRlbHkgaWYgeW91IGRv'));
	@fwrite($fp, base64_decode('bid0IGtub3cgdGhlIG9yaWdpbmFsIGNyZWF0aW9uIGRhdGU/Ci0gSW4gdGhlIENSVUQgdGFibGUsIHlvdSBzaG91bGQgYmUgYWJsZSB0byBzZWUgdGhlIG5hbWUgb2YgdGhlIE9JRD8gQnV0IG9uIHRoZSBvdGhlciBoYW5kLCB0aGUgdGl0bGUgaXMgbm90IGluIHRo'));
	@fwrite($fp, base64_decode('ZSBjb250cm9sIG9mIHRoZSBTdXBlcmlvciBSQSwgYW5kIHRoZSBDUlVEIHRhYmxlIGlzIGFjdHVhbGx5IHRoZSBhbGxvY2F0aW9uIHRhYmxlIG9mIHRoZSBTdXBlcmlvciBSQS4KLSBuYXRPcmRlcigpIGRvZXMgb25seSB3b3JrIGZvciBPSUQgbmFtZXNwYWNlISEh'));
	@fwrite($fp, base64_decode('IG90aGVyIHNvcnQgbWVjaGFuaXNtcyBhcmUgbmVjZXNzYXJ5IGZvciBvdGhlciBvYmplY3QgdHlwZXMKLSB0aW55bWNlCgltY2UgZGlydHkgZmxhZzoKCQktIGlmIHlvdSBzZWxlY3Qgc29tZXRoaW5nIGluIHRoZSBqc3RyZWUsIHRoZW4geW91IHNob3VsZCBiZSBh'));
	@fwrite($fp, base64_decode('c2tlZCBpZiB5b3Ugd2FudCB0byBzYXZlIHlvdXIgd29yayAoaWYgdGlueW1jZSBpcyBkaXJ0eSk7IHRoZSBzYW1lIHRoaW5nIGFzIGlmIHlvdSB3b3VsZCB3YW50IHRvIHJlbG9hZC9jbG9zZSB0aGUgcGFnZQoJCS0gY3JpdGljYWwgYnVnOiBvcGVuIHBhZ2UsIGVk'));
	@fwrite($fp, base64_decode('aXQgdGlueSBtY2UsIGNsaWNrIHNhdmUuIFRoZW4gRjUgcmVsb2FkIChub3QgQ3RybCtGNSk6IHRoZW4gdGhlIG9sZCBjb250ZW50IGlzIHRoZXJlIGFnYWluLiBFeGNlcHQgaWYgeW91IHByZXNzIEN0cmwrRjUKLSBqc3RyZWUgc2VsZWN0OiBhdXRvbWF0aWNhbGx5'));
	@fwrite($fp, base64_decode('IHNjcm9sbCBkb3duCi0gdXBncmFkZSB0aGUgZGVzaWduOyBtYWtlIHRoaW5ncyBtb3JlIHByZXR0eQotIHRoaW5ncyBsaWtlIFJBOiBzaG93IG1vcmUgdGhpbmdzLCBhZGRyZXNzLCBlbWFpbCBldGMuCi0gbm90ZSB0aGF0IHdlIChhbmQgdGhlIFJGQykgdGFsayBh'));
	@fwrite($fp, base64_decode('Ym91dCBPYmplY3RzLCBidXQgYWN0dWFsbHkgT0lEcyBvbmx5IHJlZmVyZW5jZSBvYmplY3RzLCBidXQgdGhleSBhcmUgbm90IHRoZSBvYmplY3RzCgpEQVRBQkFTRQotIGNoZWNrIGlmIHRoZSBOVUxMIGFuZCBOT1QgTlVMTCBkZWZpbml0aW9ucyBhcmUgbWVhbmlu'));
	@fwrite($fp, base64_decode('Z2Z1bC4gSXQgaXMgbm90IGdvb2QgYXQgaW4gKl9yYSBldmVyeXRoaW5nIGlzIE5PVCBOVUxMCi0gU1FMaXRlMzogSW1wbGVtZW50IE5hdHVyYWwgT0lEIHNvcnRpbmcgKG5hdFNvcnQpCgpGVVRVUkUKLSBtYWtlIHVzZSBvZiBDb21wb3Nlci4gUHJvYmxlbXM6CiAg'));
	@fwrite($fp, base64_decode('KiBXaGF0IGlmIGNvbXBvc2VyIGluc3RhbGxzIGEgdmVyc2lvbiBvZiBhIGNvbXBvbmVudCwgd2hpY2ggaXMgaW5jb21wYXRpYmxlPwogICogV2UgbmVlZCBhIG5ldyBwdWJsaXNoaW5nIHNjcmlwdCwgYmVjYXVzZSBzaW1wbHkgY2hlY2tpbmcgb3V0IFNWTiBpcyBu'));
	@fwrite($fp, base64_decode('b3QgZW5vdWdoIGFueW1vcmUuIFRoZSB1c2VyIG5lZWRzIHRvIGV4ZWN1dGUgY29tcG9zZXIuIEJ1dCB3aGF0IGlzIGlmIHRoZSB1c2VyIGRvbid0IGhhdmUgY29tcG9zZXIgKG9yIGRvbnQgaGF2ZSBzaGVsbCBhY2Nlc3MgYXQgYWxsPykKLSBpbXBsZW1lbnQgc2l0'));
	@fwrite($fp, base64_decode('ZW1hcHMgeG1sCi0gYWRtaW4gc2hvdWxkIGJlIGFibGUgdG8gY2hhbmdlIHdlbGxrbm93biBvaWRzPwotIG1vdmUgb2lkIHRvIGRpZmZlcmVudCBhcmMKLSBmb3IgdmVyeSBsYXJnZSBhcmNzIChlLmcuIFBFTik6IG1heWJlIHlvdSBzaG91bGQgbm90IHNob3cgZXZl'));
	@fwrite($fp, base64_decode('cnl0aGluZyBpbiB0aGUgdHJlZSBzZWxlY3Q/Ci0gc3VwcG9ydCBmb3IgT1JTPwotICJDdXR0aW5nIEVkZ2UgVGVjaG5vbG9naWUiOiBBSkFYLCBKU09OLCBjb21wbGV0ZWx5IFVURi04LCBDUlVEIGZyYW1ld29ya3MsIFBETywgSFRNTDUsIE1vYmlsZSBEZXNpZ24s'));
	@fwrite($fp, base64_decode('IFB1cmUgQ1NTLCBBdXRvbG9hZGluZywgT2JqZWN0IE9yaWVudGVkIChtYXliZSBub3QgTVZDLCB0aG91Z2gpLCBUZXN0aW5nLCAuLi4KLSAiU2VhcmNoIiBwbHVnaW46IEZlYXR1cmUgdG8gc2VhcmNoIGluc2lkZSBkb2N1bWVudGF0aW9uIChkb2MvIGRpcmVjdG9y'));
	@fwrite($fp, base64_decode('eSkKLSAiU2VhcmNoIiBwbHVnaW46IEkgd2FudCB0byBzZWFyY2ggaW4gYWxsIG9iamVjdCB0eXBlcyBhbmQgUkFzLiBOb3QgZmlyc3Qgc2VsZWN0IHRoZSB0eXBlLgotIEhvdyBjYW4gd2UgbWFrZSBzdXJlIHRoYXQgZXhhbXBsZSBvYmplY3RzIGFyZSBub3QgZXhw'));
	@fwrite($fp, base64_decode('b3J0ZWQgdXNpbmcgb2lkLWluZm8uY29tIGV4cG9ydD8KLSBBZG1pbmlzdHJhdG9yLUludGVyZmFjZTogZW5hYmxlIGFuZCBkaXNhYmxlIG9iamVjdCB0eXBlcwotIGRldGFpbGxlZCBjaGFuZ2UtaGlzdG9yeSBvZiBlYWNoIG9pZAoKQlVHUz8KLSBPSURwbHVzIGRv'));
	@fwrite($fp, base64_decode('ZXMgbm90IHdvcmsgaW4gU2FmYXJpIE1vYmlsZSEKCTEuIFlvdSBjYW5ub3Qgc2Nyb2xsIHRoZSBPSUQgZ3JpZCwgYXMgdGhlIHNjcm9sbGluZyBhZmZlY3RzIHRoZSB3aG9sZSBwYWdlLCBub3QgdGhlIGdyaWQuCgkyLiBKUXVlcnlVSSBzbGlkZXJzIGNhbm5vdCBi'));
	@fwrite($fp, base64_decode('ZSBkcmFnZ2VkCgpSRUpFQ1RFRCBJREVBUwotIHNob3VsZCB0aGVyZSBiZSBtb3JlIHRoYW4gb25lIGFkbWluPwotIHJlY29yZCBmaXJzdCBSQSBhbmQgY3VycmVudCBSQSA9PiBYLjY2MCBkb2VzIG5vdCBoYXZlIHRoaXMgcmVxdWlyZW1lbnQKLSBtYXJrZXJzIERS'));
	@fwrite($fp, base64_decode('QUZULCBMRUFGIGFuZCBGUk9aRU4gZXRjLiA9PiB1c2UgIlByb3RlY3RlZCIgaWYgeW91IHdhbnQgdG8gbWFrZSBpdCBpbnZpc2libGUKLSBHaXZpbmcgdGhlICJnb3RvIiBhcmd1bWVudCBPSURzIGluc3RlYWQgb2YgbmFtZXMsIHNvIHRoYXQgdGhlcmUgYXJlIG5v'));
	@fwrite($fp, base64_decode('IGNvbmZsaWN0CiAgd2l0aCBwbHVnaW4gdmVuZG9ycyAobGlrZSBpdCB3YXMgZG9uZSB3aXRoIHRoZSAicGx1Z2luIiBhcmd1bWVudCBhdCBhamF4LnBocCkKCVJlamVjdGVkIGR1ZSB0byBmb2xsb3dpbmcgcmVhc29uczoKCWEpIFRoZSAiZ290byIgcGFyYW1ldGVy'));
	@fwrite($fp, base64_decode('IHNob3VsZCB1c3VhbGx5IGJlIGh1bWFuIHJlYWRhYmxlIChlc3BlY2lhbGx5IHNpbmNlIGl0IGlzIHNob3duIGF0IHRoZSByaWdodCB0b3ApLi4uCgkgICBIYXZpbmcgYSBWaWFUaGlua1NvZnQgT0lEIHRoZXJlIG1pZ2h0IGdldCB0aGUgdXNlciBjb25mdXNlZCBi'));
	@fwrite($fp, base64_decode('ZWNhdXNlIHRoZXkgY291bGQgdGhpbmsgdGhhdCB0aGUKCSAgIHBhZ2UgaXMgYSBPSUQgcGFnZSByZXF1ZXN0IGZvciB0aGF0IE9JRCBpbnN0ZWFkIG9mIGEgcGx1Z2luIHBhZ2UuCgliKSBWZW5kb3JzIHNob3VsZCB1c2Ugc29tZXRoaW5nIGxpa2UgIj9nb3RvPW9p'));
	@fwrite($fp, base64_decode('ZHBsdXM6Y29tLmV4YW1wbGUuLi4uIgoKSURFQVMKLSB3aGVuIGEgbmV3IG9pZCBpcyBjcmVhdGVkLCBzaG91bGQgd2UgcmVkaXJlY3QgdG8gdGhlIG5ld2x5IGNyZWF0ZWQgT0lELCBzbyB0aGF0IHRoZSB1c2VyIGNhbiBiZWdpbiBlbnRlcmluZyB0aGUgZGVzY3Jp'));
	@fwrite($fp, base64_decode('cHRpb24gZXRjPwotIHdoZW4gYW4gb2JqZWN0IHdhcyBub3QgZm91bmQsIHRoZSBlcnJvciBtZXNzYWdlIGNvdWxkIHNob3cgdGhlIG5leHQgcG9zc2libGUga25vd24gb2JqZWN0IChsaWtlIFdlYldIT0lTIGRvZXMpCi0gdGhlICJnb3RvIiBxdWlja2JhciAoYXQg'));
	@fwrite($fp, base64_decode('dGhlIHRvcCByaWdodCkgY291bGQgYWxzbyBiZSB1c2VkIHRvIHNlYXJjaCBzb21ldGhpbmcgLi4uCi0gLi4uIGFsdGVybmF0aXZlbHksIHRoZSAib2JqZWN0IG5vdCBmb3VuZCIgZXJyb3IgcGFnZSBjb3VsZCBsaW5rIHRvIHRoZSBzZWFyY2ggcGx1Z2luCi0gbWFr'));
	@fwrite($fp, base64_decode('ZSBjb2xvciBwbHVnaW4gYXZhaWxhYmxlIGZvciBldmVyeW9uZS4gQWRtaW4gbWF5IHBlcm1hbmVudGx5IHNhdmUgdGhlIGNvbG9ycywgYnV0IHVzZXJzIHNob3VsZCBiZSBhYmxlIHRvIHNldCB0aGVpciBvd24gdGhlbWUsIHNhdmVkIHZpYSBjb29raWVzCi0gdGhl'));
	@fwrite($fp, base64_decode('cmUgc2hvdWxkIGJlIGEgZm9ybSB3aGVyZSBhbiBSQSBjYW4gcmVxdWVzdCBhbiBpbnZpdGF0aW9uLCBldmVuIGlmIHRoZSBzdXBlcmlvciBSQSBkaWQgbm90IGludml0ZSB0aGVtLgogIHRoZSBmYWN0IHRoYXQgYSBSQSBleGlzdHMgaW4gdGhlIE9iamVjdCBUYWJs'));
	@fwrite($fp, base64_decode('ZSBzaG91bGQgcGVybWl0IHRoZSBSQSB0byBpbnZpdGUgdGhlaXJzZWxmLgotIG1ha2UgYSBsaXN0IG9mIE9JRHMgdGhhdCBkbyBub3QgYXNzaWduIEFTTjEvSVJJIGlkZW50aWZpZXJzIChlLmcuIElBTkEgUEVOIG9yIFZpYVRoaW5rU29mdCBGcmVlT0lEKSwgdGhl'));
	@fwrite($fp, base64_decode('biByZWplY3QgYW55IGlkZW50aWZpZXIgdGhlIHVzZXIgcHJvdmlkZXMKLSBzYW5pdGl6ZSBJUHY0LCBJUHY2LCBHVUlEIGR1cmluZyBjcmVhdGlvbgoJYmVpIElQdjQgdW5kIElQdjY6IC0gaWYgaXQgaXMgYSBzaW5nbGUgaG9zdCBhZGRyZXNzLCBkb24ndCBwdXQg'));
	@fwrite($fp, base64_decode('LzMyIG9yIC8xMjggc3VmZml4CgkgICAgICAgICAgICAgICAgICAgLSBzdHJpa2UgdW5uZWNlc3NhcnkgYml0cyB0aGF0IGFyZSBub3QgZGVmaW5lZCBpbiB0aGUgbmV0bWFzayAoYWxzbyBhdCB0aGUgd2hvaXMgb3V0cHV0KQotIGxldCB0aGUgc3lzYWRtaW4gZGVj'));
	@fwrite($fp, base64_decode('aWRlIGlmIHRoZXkgd2FudCB0aGUgdGl0bGUgYmUgInN5c3RlbXRpdGxlIC0gb2JqZWN0IHRpdGxlIiBvciAib2JqZWN0IHRpdGxlIC0gc3lzdGVtdGl0bGUiCi0gc2hvdWxkIGEgUkEgYmUgYWJsZSB0byBtYXJrIHRoZWlyIG93biBvaWQgYXMgY29uZmlkZW50aWFs'));
	@fwrite($fp, base64_decode('LCBpbnN0ZWFkIG9mIGFza2luZyB0aGUgc3VwZXJpb3IgUkE/Ci0gc2hvdWxkIHRoZXJlIGJlIGFuIE9JRHBsdXMgcHJvamVjdCBwYWdlIGF0IG9pZHBsdXMudmlhdGhpbmtzb2Z0LmNvbSBpbnN0ZWFkIG9mIGEgIm5ha2VkIiBzeXN0ZW0/Ci0gdmVuZG9yIHNpZ25h'));
	@fwrite($fp, base64_decode('dHVyZSB0byBwbHVnaW5zICsgdmlhdGhpbmtzb2Z0IHNpZ25hdHVyZXMgKyAiY2hlY2siIHByb2dyYW0gaWYgYWxsIHNpZ25hdHVyZXMgbWF0Y2gKLSBoYXZlIGEgbWVudSBpdGVtIChwbHVnaW4pICJsYXRlc3QgdXBkYXRlcyIgd2hpY2ggbGlzdHMgT0lEcyB0aGF0'));
	@fwrite($fp, base64_decode('IGhhdmUgYmVlbiBjaGFuZ2VkIG9yIGFkZGVkIHJlY2VudGx5PwotICh1bnN1cmU6KSB3b3VsZCBpdCBiZSBnb29kIGlmIHRoZSBzdXBlcmlvciBSQSBjb21tZW50IGlzIHNob3duIGluIHRoZSBvYmplY3QgcGFnZSBpdHNlbGY/Ci0gRHVyaW5nIGFuIG9iamVjdCBp'));
	@fwrite($fp, base64_decode('bnNlcnRpb246IElmIGV2ZXJ5dGhpbmcgaXMgZW1wdHkgKEFTTjEsIElSSSwgY29tbWVudCksIHNob3VsZCB0aGVuIHRoZXJlIGJlIGEgd2FybmluZz8KLSBUaGUgc3lzdGVtIHNob3VsZCB3YXJuIGlmIHRoZXJlIGFyZSB0d28gT0lEcyB3aXRoIHRoZSBzYW1lIEFT'));
	@fwrite($fp, base64_decode('Ti4xIGlkZW50aWZpZXIgKGl0IGlzIGFsbG93ZWQsIGJ1dCBub3QgcmVjb21tZW5kZWQhKQoKUVVFU1RJT05TCi0gc2hvdWxkIHRoZSBjb2xsYXRpb24gYmUgY2FzZSBzZW5zaXRpdmUgb3IgY2FzZSBpbnNlbnNpdGl2ZT8gRm9yIEphdmEgcGFja2FnZSBuYW1lcywg'));
	@fwrite($fp, base64_decode('aXQgc2hvdWxkIGJlIGNhc2Ugc2Vuc3RpdmllCi0gdXNlIHdvcmQgImd1aWQiIG9yICJ1dWlkIj8KLSBzaG91bGQgIk9JRCB1cGRhdGVkIiBiZSBzcGxpdCBpbnRvIHR3byBjYXRlZ29yaWVzICJ1cGRhdGVkIGJ5IHN1cGVyaW9yIiAoZS5nLiBpZGVudGlmaWVycykg'));
	@fwrite($fp, base64_decode('YW5kICJ1cGRhdGVkIGJ5IG93bmVyIiAoZGVzY3JpcHRpb24gZXRjKT8KLSBEb24ndCByZW5ldyAidXBkYXRlZCIgZmllbGQgaWYgeW91IGp1c3QgY2xpY2sgIlVwZGF0ZSIgYnV0IGRpZG4ndCBjaGFuZ2UgYW55dGhpbmcgKGUuZy4gYmVjYXVzZSB5b3UganVzdCB3'));
	@fwrite($fp, base64_decode('YW50ZWQgdG8gc2VuZCBhbiBpbnZpdGF0aW9uIGFnYWluKQotICJEb2N1bWVudHMiIHNlY3Rpb246IENhbiBiYXNlIG9mIFVSTHMvaW1hZ2VzIGluc2lkZSB0aGUgSFRNTCBiZSBjaGFuZ2VkIGF1dG9tYXRpY2FsbHk/CgpQUklWQUNZOgotIGJyaW5nIGJhY2sgIjNw'));
	@fwrite($fp, base64_decode('L2Nvb2tpZWNvbnRlbnQiPyBETSAyOCBNYXkgMjAxOTogUmVtb3ZlZCBDb29raWVDb25zZW50IHRlbXBvcmFyaWx5LCBiZWNhdXNlIGl0IGlzIHBsYWNlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwYWdlIGFuZCB0aGVyZWZvcmUgcnVpbnMgdGhlIEdvb2dsZSBp'));
	@fwrite($fp, base64_decode('bmRleCAuLi4KCT0+IFdlIG1pZ2h0IG5vdCBuZWVkIGl0LCBiZWNhdXNlIGNvb2tpZXMgYXJlIG9ubHkgc2V0IGR1cmluZyBsb2dpbiwgYW5kIGF0IHRoZSBsb2dpbiBwYWdlIGl0c2VsZiwgd2UgYWxyZWFkeSB3YXJuIGFib3V0IGNvb2tpZXMsIGluIGFkZGl0aW9u'));
	@fwrite($fp, base64_decode('IHRvIHRoZSBQcml2YWN5IGRvY3VtZW50YXRpb24KCkdVSUQgTWFuYWdlbWVudAotIExlYWYgbm9kZXMgKEdVSURzKSBzaG91bGQgc2hvdy9lZGl0IHRoZSBUaXRsZSBpbiB0aGUgQ1JVRCwgc28geW91IGRvbnQgaGF2ZSB0byBjbGljayB0aGUgR1VJRCB0byBzZWUg'));
	@fwrite($fp, base64_decode('dGhlIHRpdGxlCi0gd2VpcmQgYnVnOiB3aGVuIGkgZWRpdCAiZ3VpZDpvaWRwbHVzIiwgdGhlbiwgYWZ0ZXIgcmVsb2FkIHRoZSB0cmVldmlldyBhZnRlciB0aGUgdXBkYXRlLCAiZ3VpZDphY3RpdmVkaXJlY3RvcnkiIHdpbGwgYmUgb3BlbmVkLiBzb21laG93LCB0'));
	@fwrite($fp, base64_decode('aGUgbGFzdCBvcGVuZWQgbm9kZSB3aWxsIGJlIG9wZW5lZCBkdXJpbmcgdGhlIHJlbG9hZD8hCgpSZXBybzoKLSBDYW4gYSBwcmV2aW91c2x5IGRlbGV0ZWQgMi45OTkgbm90IGJlIGNyZWF0ZWQgYW55bW9yZT8gKGR1cmluZyBJTlNFUlQ6ICJpZGVudGlmaWVycyBj'));
	@fwrite($fp, base64_decode('YW5ub3QgYmUgY2hhbmdlZCIpCg=='));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_2();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != '6620332a643f8a9568bd7f1bc752f4c0c317d977') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== '6620332a643f8a9568bd7f1bc752f4c0c317d977') {
		if (@sha1_file('TODO') !== 'c065e132fc54d37c97e43db938b6aaa5688463fe') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('TODO') !== '6620332a643f8a9568bd7f1bc752f4c0c317d977') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// File deleted: CONTRIBUTION
@unlink('CONTRIBUTION');
if (is_file('CONTRIBUTION')) {
	warn('File could not be deleted: CONTRIBUTION');
}


file_put_contents('oidplus_version.txt', "Revision 367\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 367') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

