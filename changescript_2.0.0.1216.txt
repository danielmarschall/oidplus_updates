<?php /* <ViaThinkSoftSignature>
p3mxyZuA1iuUhyQ/CKzcKQVXCDTR6S4BLiurIOcfN0sECybzE1/AT122jcD6No2r3
i3M+l6uemH2ORxwDMEqwsivifo24p4PjUEyoJ9j2ONK76YALnXnMWFJB+D/Ci/AGl
guHIgd1j1JpynC/Dv6WxTcmT+YgGrV8o+Aatk04VAal67+U5GOTip8Ybv3FHVxEyi
VeaJ5dLrYL2y5bRDMKgx+OBXhP1mJg3fA+PsATfN4zNjDpVfliL0NKtY4aiPI/d93
nIO//qe+fmk4X3e/WzG8TBYb6E72mqz0qiAU3Zt0AFBkIvWD6AjCsuupowUxpBgtZ
wdfIe+SbZsyal1f+pG96f4t3FkuvBf04M6lq0R/KYPHuOH+GHTCxwNxr2LULigdrB
YDw98B+9GAAhNnqJDAiMAqsonlGgffcGIwmv7zJ/zwWry94UEDWYk4VqPPhZeOaph
aZipJ7edBknwMBUg+ikjK56xMYapvrc7qNrNR93in74WctyeUpGZPy3bwd2povEbk
w9d6Imc8CoGN8cjlOE/BHQCUOU5sysLRX95qL6St/k+tHoqqTsJyHchpshrdHhJjc
3pGz2MndId+c8nThDSycyuNa1UZyA4QM3HpuLFOZDxNLoamnV3m1RJAYkMYHoINHL
CYQCLhByKNiD7yNGC6Jg+22egBLZqWL7Mkau9J7k5GHMKKsSQzmVgp/NKG82wk+BV
LX63ZKI0p0IXzpQ0Hi2rcXoN4lrMloJNU1Bu6tRJlRAAhcUHKzucWyk6dovdczgdI
eHx/nxCWwL/nllvEdacHVJj5n6SpPEtCXcNXlZKF6x1N3A67hYpLvHKoPcllJXM9c
bUKqxcaC7WhYJEnt7mDWc98jk/dvHGW2XK3OieaRwEzyGn9jXIHAR92tRMCI8LDEf
3UAhlnGfrKHAASqpM5iG0+5v34kGInYzJJwHMVhB/mYMjTPrrn1vtij/I1m9mf4j9
5xG2HXb4rNaeeT4y/qvv/MKpjEB3JyvPbG1D7EHKDXS3o7ZWF0VhjnIJiUL4x5RGG
dWGJfe9pfg+YQS8N1A6ZAOaL+soj/9u3FaiV2V8zgfv9HhVdCsxmCCheUwbJ7JyYj
E/OfowkRnsC5qDaDQLSC+0MtPoDL9rd2u5pRBueiJ79b+Shi4nmqXo+2p7shafiz9
wt6frpsFuWrdYaJ2n+7Z5Ig2y6BC5Mznx27A7kydstNbm7DrFH5GAU11EcEaRq8J7
DaklTmpFrWYQxZcOlTDbscOb1vQUAfmsqyFf40mFgH/Drt6vhUYBOSamlBFttu2dS
vK5axAY3e+yM6oPU1uRc1mfCgld7Rt+kxG+lgLDtpJDDlrM8bRWvJXx2wPe0vm+8Z
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1215') {
	err('This update can only be applied to OIDplus version 2.0.0.1215!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbk9EQkMgZXh0ZW5kcyBPSURwbHVzRGF0YWJhc2VDb25uZWN0aW9uIHsKCS8qKgoJICogQHZhciBtaXhlZHxudWxsCgkgKi8KCXByaXZh'));
	@fwrite($fp, base64_decode('dGUgJGNvbm4gPSBudWxsOwoKCS8qKgoJICogQHZhciBzdHJpbmd8bnVsbAoJICovCglwcml2YXRlICRsYXN0X2Vycm9yID0gbnVsbDsgLy8gZG8gdGhlIHNhbWUgbGlrZSBNeVNRTCtQRE8sIGp1c3QgdG8gYmUgZXF1YWwgaW4gdGhlIGJlaGF2aW9yCgoJLyoqCgkg'));
	@fwrite($fp, base64_decode('KiBAdmFyIGJvb2wKCSAqLwoJcHJpdmF0ZSAkdHJhbnNhY3Rpb25zX3N1cHBvcnRlZCA9IGZhbHNlOwoKCS8qKgoJICogQHJldHVybiBib29sfG51bGwKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwcm90ZWN0ZWQgZnVuY3Rpb24gZm9yY2VQcmVw'));
	@fwrite($fp, base64_decode('YXJlRW11bGF0aW9uKCkgewoJCSRtb2RlID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUFJFUEFSRURfU1RBVEVNRU5UU19FTVVMQVRJT04nLCAnYXV0bycpOwoJCWlmICgkbW9kZSA9PT0gJ29uJykgcmV0dXJuIHRydWU7CgkJaWYgKCRtb2RlID09'));
	@fwrite($fp, base64_decode('PSAnb2ZmJykgcmV0dXJuIGZhbHNlOwoKCQlzdGF0aWMgJHJlcyA9IG51bGw7CgkJaWYgKGlzX251bGwoJHJlcykpIHsKCQkJJHNxbCA9ICdzZWxlY3QgbmFtZSBmcm9tICMjI2NvbmZpZyB3aGVyZSBuYW1lID0gPyc7CgkJCSRzcWwgPSBzdHJfcmVwbGFjZSgnIyMj'));
	@fwrite($fp, base64_decode('JywgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnVEFCTEVOQU1FX1BSRUZJWCcsICcnKSwgJHNxbCk7CgkJCSRyZXMgPSBAb2RiY19wcmVwYXJlKCR0aGlzLT5jb25uLCAkc3FsKSA9PT0gZmFsc2U7CgkJfQoKCQlyZXR1cm4gJHJlczsKCX0KCgkvKioK'));
	@fwrite($fp, base64_decode('CSAqIEBwYXJhbSBzdHJpbmcgJHNxbAoJICogQHBhcmFtIGFycmF5fG51bGwgJHByZXBhcmVkX2FyZ3MKCSAqIEByZXR1cm4gT0lEcGx1c1F1ZXJ5UmVzdWx0T0RCQwoJICogQHRocm93cyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24KCSAqIEB0'));
	@fwrite($fp, base64_decode('aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICogQHRocm93cyBPSURwbHVzU1FMRXhjZXB0aW9uCgkgKi8KCXByb3RlY3RlZCBmdW5jdGlvbiBkb1F1ZXJ5SW50ZXJuYWxQcmVwYXJlKHN0cmluZyAkc3FsLCBhcnJheSAkcHJlcGFyZWRfYXJncz1udWxsKTogT0lEcGx1'));
	@fwrite($fp, base64_decode('c1F1ZXJ5UmVzdWx0T0RCQyB7CgkJCQlmb3JlYWNoICgkcHJlcGFyZWRfYXJncyBhcyAmJHZhbHVlKSB7CgkJCQkJLy8gT0RCQy9TUUxTZXJ2ZXIgaGFzIHByb2JsZW1zIGNvbnZlcnRpbmcgInRydWUiIHRvIHRoZSBkYXRhIHR5cGUgImJpdCIKCQkJCQkvLyBFcnJv'));
	@fwrite($fp, base64_decode('ciAiSW52YWxpZCBjaGFyYWN0ZXIgdmFsdWUgZm9yIGNhc3Qgc3BlY2lmaWNhdGlvbiIKCQkJCQlpZiAoaXNfYm9vbCgkdmFsdWUpKSB7CgkJCQkJCWlmICgkdGhpcy0+c2xhbmdEZXRlY3Rpb25Eb25lKSB7CgkJCQkJCQkkdmFsdWUgPSAkdGhpcy0+Z2V0U2xhbmco'));
	@fwrite($fp, base64_decode('KS0+Z2V0U1FMQm9vbCgkdmFsdWUpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJJHZhbHVlID0gJHZhbHVlID8gJzEnIDogJzAnOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoKCQkJCSRwcyA9IEBvZGJjX3ByZXBhcmUoJHRoaXMtPmNvbm4sICRzcWwpOwoJCQkJaWYgKCEk'));
	@fwrite($fp, base64_decode('cHMpIHsKCQkJCQkvLyBJZiBwcmVwYXJhdGlvbiBmYWlscywgdHJ5IHRoZSBlbXVsYXRpb24KCQkJCQkvLyBGb3IgZXhhbXBsZSwgU1FMIFNlcnZlciBPREJDIERyaXZlciBjYW5ub3QgaGF2ZSAiPyIgaW4gYSBzdWJxdWVyeSwKCQkJCQkvLyBvdGhlcndpc2UgeW91'));
	@fwrite($fp, base64_decode('IHJlY2VpdmUgdGhlIGVycm9yIG1lc3NhZ2UKCQkJCQkvLyAiU3ludGF4IGVycm9yIG9yIGFjY2VzcyB2aW9sYXRpb24iIG9uIG9kYmNfcHJlcGFyZSgpCgkJCQkJcmV0dXJuICR0aGlzLT5kb1F1ZXJ5UHJlcGFyZUVtdWxhdGlvbigkc3FsLCAkcHJlcGFyZWRfYXJn'));
	@fwrite($fp, base64_decode('cyk7CgkJCQkJLyoKCQkJCQkkdGhpcy0+bGFzdF9lcnJvciA9IG9kYmNfZXJyb3Jtc2coJHRoaXMtPmNvbm4pOwoJCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsIF9MKCdDYW5ub3QgcHJlcGFyZSBzdGF0ZW1lbnQnKS4nOiAnLiR0aGlzLT5l'));
	@fwrite($fp, base64_decode('cnJvcigpKTsKCQkJCQkqLwoJCQkJfQoKCQkJCWlmICghQG9kYmNfZXhlY3V0ZSgkcHMsICRwcmVwYXJlZF9hcmdzKSkgewoJCQkJCSR0aGlzLT5sYXN0X2Vycm9yID0gb2RiY19lcnJvcm1zZygkdGhpcy0+Y29ubik7CgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJCQkJfQoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRPREJDKCRwcyk7CgoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkc3FsCgkgKiBAcGFyYW0gYXJyYXl8bnVsbCAkcHJlcGFyZWRfYXJn'));
	@fwrite($fp, base64_decode('cwoJICogQHJldHVybiBPSURwbHVzUXVlcnlSZXN1bHRPREJDCgkgKiBAdGhyb3dzIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbgoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKiBAdGhyb3dzIE9JRHBsdXNTUUxFeGNlcHRpb24KCSAq'));
	@fwrite($fp, base64_decode('LwoJcHJvdGVjdGVkIGZ1bmN0aW9uIGRvUXVlcnlQcmVwYXJlRW11bGF0aW9uKHN0cmluZyAkc3FsLCBhcnJheSAkcHJlcGFyZWRfYXJncz1udWxsKTogT0lEcGx1c1F1ZXJ5UmVzdWx0T0RCQyB7CgkJCQkvLyBGb3Igc29tZSBkcml2ZXJzIChlLmcuIE1pY3Jvc29m'));
	@fwrite($fp, base64_decode('dCBBY2Nlc3MpLCB3ZSBuZWVkIHRvIGRvIHRoaXMga2luZCBvZiBlbXVsYXRpb24sIGJlY2F1c2Ugb2RiY19wcmVwYXJlKCkgZG9lcyBub3Qgd29yawoJCQkJJHNxbCA9IHN0cl9yZXBsYWNlKCc/JywgY2hyKDEpLCAkc3FsKTsKCQkJCWZvcmVhY2ggKCRwcmVwYXJl'));
	@fwrite($fp, base64_decode('ZF9hcmdzIGFzICRhcmcpIHsKCQkJCQkkbmVlZGxlID0gY2hyKDEpOwoJCQkJCWlmIChpc19ib29sKCRhcmcpKSB7CgkJCQkJCWlmICgkdGhpcy0+c2xhbmdEZXRlY3Rpb25Eb25lKSB7CgkJCQkJCQkkcmVwbGFjZSA9ICR0aGlzLT5nZXRTbGFuZygpLT5nZXRTUUxC'));
	@fwrite($fp, base64_decode('b29sKCRhcmcpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJJHJlcGxhY2UgPSAkYXJnID8gJzEnIDogJzAnOwoJCQkJCQl9CgkJCQkJfSBlbHNlIGlmIChpc19pbnQoJGFyZykpIHsKCQkJCQkJJHJlcGxhY2UgPSAkYXJnOwoJCQkJCX0gZWxzZSBpZiAoaXNfZmxvYXQo'));
	@fwrite($fp, base64_decode('JGFyZykpIHsKCQkJCQkJJHJlcGxhY2UgPSBudW1iZXJfZm9ybWF0KCRhcmcsIDEwLCAnLicsICcnKTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvLyBUT0RPOiBNb3JlIHR5cGVzPwoJCQkJCQlpZiAoJHRoaXMtPnNsYW5nRGV0ZWN0aW9uRG9uZSkgewoJCQkJCQkJJHJl'));
	@fwrite($fp, base64_decode('cGxhY2UgPSAiJyIuJHRoaXMtPmdldFNsYW5nKCktPmVzY2FwZVN0cmluZygkYXJnID8/ICcnKS4iJyI7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkkcmVwbGFjZSA9ICInIi5zdHJfcmVwbGFjZSgiJyIsICInJyIsICRhcmcpLiInIjsKCQkJCQkJfQoJCQkJCX0KCQkJ'));
	@fwrite($fp, base64_decode('CQkkcG9zID0gc3RycG9zKCRzcWwsICRuZWVkbGUpOwoJCQkJCWlmICgkcG9zICE9PSBmYWxzZSkgewoJCQkJCQkkc3FsID0gc3Vic3RyX3JlcGxhY2UoJHNxbCwgJHJlcGxhY2UsICRwb3MsIHN0cmxlbigkbmVlZGxlKSk7CgkJCQkJfQoJCQkJfQoJCQkJJHNxbCA9'));
	@fwrite($fp, base64_decode('IHN0cl9yZXBsYWNlKGNocigxKSwgJz8nLCAkc3FsKTsKCQkJCSRwcyA9IEBvZGJjX2V4ZWMoJHRoaXMtPmNvbm4sICRzcWwpOwoJCQkJaWYgKCEkcHMpIHsKCQkJCQkkdGhpcy0+bGFzdF9lcnJvciA9IG9kYmNfZXJyb3Jtc2coJHRoaXMtPmNvbm4pOwoJCQkJCXRo'));
	@fwrite($fp, base64_decode('cm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsIF9MKCdDYW5ub3QgcHJlcGFyZSBzdGF0ZW1lbnQnKS4nOiAnLiR0aGlzLT5lcnJvcigpKTsKCQkJCX0KCQkJCXJldHVybiBuZXcgT0lEcGx1c1F1ZXJ5UmVzdWx0T0RCQygkcHMpOwoJfQoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('QHBhcmFtIHN0cmluZyAkc3FsCgkgKiBAcGFyYW0gYXJyYXl8bnVsbCAkcHJlcGFyZWRfYXJncwoJICogQHJldHVybiBPSURwbHVzUXVlcnlSZXN1bHRPREJDCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRvUXVlcnko'));
	@fwrite($fp, base64_decode('c3RyaW5nICRzcWwsIGFycmF5ICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURwbHVzUXVlcnlSZXN1bHQgewoJCSR0aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkcHJlcGFyZWRfYXJncykpIHsKCQkJJHJlcyA9IEBvZGJjX2V4ZWMoJHRoaXMt'));
	@fwrite($fp, base64_decode('PmNvbm4sICRzcWwpOwoKCQkJaWYgKCRyZXMgPT09IGZhbHNlKSB7CgkJCQkkdGhpcy0+bGFzdF9lcnJvciA9IG9kYmNfZXJyb3Jtc2coJHRoaXMtPmNvbm4pOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJ'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgewoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRPREJDKCRyZXMpOwoJCQl9CgkJfSBlbHNlIHsKCQkJaWYgKCFpc19hcnJheSgkcHJlcGFyZWRfYXJncykpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCcicHJlcGFy'));
	@fwrite($fp, base64_decode('ZWRfYXJncyIgbXVzdCBiZSBlaXRoZXIgTlVMTCBvciBhbiBBUlJBWS4nKSk7CgkJCX0KCgkJCWlmICgkdGhpcy0+Zm9yY2VQcmVwYXJlRW11bGF0aW9uKCkpIHsKCQkJCXJldHVybiAkdGhpcy0+ZG9RdWVyeVByZXBhcmVFbXVsYXRpb24oJHNxbCwgJHByZXBhcmVk'));
	@fwrite($fp, base64_decode('X2FyZ3MpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuICR0aGlzLT5kb1F1ZXJ5SW50ZXJuYWxQcmVwYXJlKCRzcWwsICRwcmVwYXJlZF9hcmdzKTsKCQkJfQoJCX0KCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBlcnJvcigp'));
	@fwrite($fp, base64_decode('OiBzdHJpbmcgewoJCSRlcnIgPSAkdGhpcy0+bGFzdF9lcnJvcjsKCQlpZiAoJGVyciA9PSBudWxsKSAkZXJyID0gJyc7CgkJcmV0dXJuIHZ0c191dGY4X2VuY29kZSgkZXJyKTsgLy8gVVRGLTggZW5jb2RlLCBiZWNhdXNlIE9EQkMgbWlnaHQgb3V0cHV0IHdlaXJk'));
	@fwrite($fp, base64_decode('IHN0dWZmIC4uLgoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbgoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Nvbm5lY3Qo'));
	@fwrite($fp, base64_decode('KS8qOiB2b2lkKi8gewoJCWlmICghZnVuY3Rpb25fZXhpc3RzKCdvZGJjX2Nvbm5lY3QnKSkgdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbihfTCgnUEhQIGV4dGVuc2lvbiAiJTEiIG5vdCBpbnN0YWxsZWQnLCdPREJDJykpOwoK'));
	@fwrite($fp, base64_decode('CQkvLyBUcnkgY29ubmVjdGluZyB0byB0aGUgZGF0YWJhc2UKCQkkZHNuICAgICAgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPREJDX0RTTicsICAgICAgJ0RSSVZFUj17U1FMIFNlcnZlcn07U0VSVkVSPWxvY2FsaG9zdDtEQVRBQkFTRT1vaWRw'));
	@fwrite($fp, base64_decode('bHVzO0NIQVJTRVQ9VVRGOCcpOwoJCSR1c2VybmFtZSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ09EQkNfVVNFUk5BTUUnLCAnJyk7CgkJJHBhc3N3b3JkID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnT0RCQ19QQVNTV09SRCcs'));
	@fwrite($fp, base64_decode('ICcnKTsKCgkJaWYgKHN0cmlwb3MoJGRzbiwiY2hhcnNldD0iKSA9PT0gZmFsc2UpICRkc24gPSAiJGRzbjtjaGFyc2V0PVVURi04IjsKCgkJJHRoaXMtPmNvbm4gPSBAb2RiY19jb25uZWN0KCRkc24sICR1c2VybmFtZSwgJHBhc3N3b3JkKTsKCgkJaWYgKCEkdGhp'));
	@fwrite($fp, base64_decode('cy0+Y29ubikgewoJCQkkbWVzc2FnZSA9IG9kYmNfZXJyb3Jtc2coKTsKCQkJJG1lc3NhZ2UgPSB2dHNfdXRmOF9lbmNvZGUoJG1lc3NhZ2UpOyAvLyBNYWtlIFVURi04IGlmIGl0IGlzIE5PVCBhbHJlYWR5IFVURi04LiBJbXBvcnRhbnQgZm9yIEdlcm1hbiBNaWNy'));
	@fwrite($fp, base64_decode('b3NvZnQgQWNjZXNzLgoJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKHRyaW0oX0woJ0Nvbm5lY3Rpb24gdG8gdGhlIGRhdGFiYXNlIGZhaWxlZCEnKS4nICcuJG1lc3NhZ2UpKTsKCQl9CgoJCSR0aGlzLT5sYXN0X2Vycm9y'));
	@fwrite($fp, base64_decode('ID0gbnVsbDsKCgkJdHJ5IHsKCQkJQG9kYmNfZXhlYygkdGhpcy0+Y29ubiwgIlNFVCBOQU1FUyAnVVRGLTgnIik7IC8vIERvZXMgbW9zdCBsaWtlbHkgTk9UIHdvcmsgd2l0aCBPREJDLiBUcnkgYWRkaW5nICI7Q0hBUlNFVD1VVEY4IiAob3Igc2ltaWxhcikgdG8g'));
	@fwrite($fp, base64_decode('dGhlIERTTgoJCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCQl9CgoJCXRyeSB7CgkJCUBvZGJjX2V4ZWMoJHRoaXMtPmNvbm4sICJTRVQgQ0hBUkFDVEVSIFNFVCAnVVRGLTgnIik7IC8vIERvZXMgbW9zdCBsaWtlbHkgTk9UIHdvcmsgd2l0aCBPREJDLiBUcnkg'));
	@fwrite($fp, base64_decode('YWRkaW5nICI7Q0hBUlNFVD1VVEY4IiAob3Igc2ltaWxhcikgdG8gdGhlIERTTgoJCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCQl9CgoJCXRyeSB7CgkJCUBvZGJjX2V4ZWMoJHRoaXMtPmNvbm4sICJTRVQgTkFNRVMgJ3V0ZjhtYjQnIik7IC8vIERvZXMgbW9z'));
	@fwrite($fp, base64_decode('dCBsaWtlbHkgTk9UIHdvcmsgd2l0aCBPREJDLiBUcnkgYWRkaW5nICI7Q0hBUlNFVD1VVEY4IiAob3Igc2ltaWxhcikgdG8gdGhlIERTTgoJCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCQl9CgoJCS8vIFdlIGNoZWNrIGlmIHRoZSBEQk1TIHN1cHBvcnRzIGF1'));
	@fwrite($fp, base64_decode('dG9jb21taXQuCgkJLy8gQXR0ZW50aW9uOiBDaGVjayBpdCBhZnRlciB5b3UgaGF2ZSBzZW50IGEgcXVlcnkgYWxyZWFkeSwgYmVjYXVzZSBNaWNyb3NvZnQgQWNjZXNzIGRvZXNuJ3Qgc2VlbSB0byBhbGxvdwoJCS8vIGNoYW5naW5nIGF1dG8gY29tbWl0IG9uY2Ug'));
	@fwrite($fp, base64_decode('YSBxdWVyeSB3YXMgZXhlY3V0ZWQgKCJBdHRyaWJ1dGUgY2Fubm90IGJlIHNldCBub3cgU1FMU3RhdGU6IFMxMDExIikKCQkvLyBOb3RlOiBGb3Igc29tZSB3ZWlyZCByZWFzb24gd2UgKkRPKiBuZWVkIHRvIHJlZGlyZWN0IHRoZSBvdXRwdXQgdG8gIiRkdW1teSIs'));
	@fwrite($fp, base64_decode('IG90aGVyd2lzZSBpdCB3b24ndCB3b3JrIQoJCSRzcWwgPSAic2VsZWN0IG5hbWUgZnJvbSAjIyNjb25maWcgd2hlcmUgMT0wIjsKCQkkc3FsID0gc3RyX3JlcGxhY2UoJyMjIycsIE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1RBQkxFTkFNRV9QUkVG'));
	@fwrite($fp, base64_decode('SVgnLCAnJyksICRzcWwpOwoJCSRkdW1teSA9IEBvZGJjX2V4ZWMoJHRoaXMtPmNvbm4sICRzcWwpOwoJCSR0aGlzLT50cmFuc2FjdGlvbnNfc3VwcG9ydGVkID0gQG9kYmNfYXV0b2NvbW1pdCgkdGhpcy0+Y29ubiwgZmFsc2UpOwoJCUBvZGJjX2F1dG9jb21taXQo'));
	@fwrite($fp, base64_decode('JHRoaXMtPmNvbm4sIHRydWUpOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKi8KCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Rpc2Nvbm5lY3QoKS8qOiB2b2lkKi8gewoJCWlmICghaXNfbnVsbCgkdGhpcy0+Y29ubikpIHsKCQkJQG9kYmNfY2xvc2UoJHRoaXMt'));
	@fwrite($fp, base64_decode('PmNvbm4pOwoJCQkkdGhpcy0+Y29ubiA9IG51bGw7CgkJfQoJfQoKCS8qKgoJICogQHZhciBib29sCgkgKi8KCXByaXZhdGUgJGludHJhbnNhY3Rpb24gPSBmYWxzZTsKCgkvKioKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rp'));
	@fwrite($fp, base64_decode('b25fc3VwcG9ydGVkKCk6IGJvb2wgewoJCXJldHVybiAkdGhpcy0+dHJhbnNhY3Rpb25zX3N1cHBvcnRlZDsKCX0KCgkvKioKCSAqIEByZXR1cm4gaW50CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9sZXZlbCgpOiBpbnQgewoJCWlmICghJHRoaXMt'));
	@fwrite($fp, base64_decode('PnRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpKSB7CgkJCS8vIFRPRE8/CgkJCXJldHVybiAwOwoJCX0KCQlyZXR1cm4gJHRoaXMtPmludHJhbnNhY3Rpb24gPyAxIDogMDsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9iZWdpbigpLyo6IHZvaWQqLyB7CgkJaWYgKCEkdGhpcy0+dHJhbnNhY3Rpb25fc3VwcG9ydGVkKCkpIHsKCQkJLy8gVE9ETz8KCQkJcmV0dXJuOwoJCX0KCQlpZiAoJHRoaXMtPmludHJhbnNhY3Rpb24p'));
	@fwrite($fp, base64_decode('IHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdOZXN0ZWQgdHJhbnNhY3Rpb25zIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZGF0YWJhc2UgcGx1Z2luLicpKTsKCQlvZGJjX2F1dG9jb21taXQoJHRoaXMtPmNvbm4sIGZhbHNlKTsgLy8gYmVnaW4gdHJh'));
	@fwrite($fp, base64_decode('bnNhY3Rpb24KCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IHRydWU7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpLyo6IHZvaWQqLyB7CgkJaWYgKCEkdGhpcy0+dHJhbnNhY3Rpb25fc3Vw'));
	@fwrite($fp, base64_decode('cG9ydGVkKCkpIHsKCQkJLy8gVE9ETz8KCQkJcmV0dXJuOwoJCX0KCQlvZGJjX2NvbW1pdCgkdGhpcy0+Y29ubik7CgkJb2RiY19hdXRvY29tbWl0KCR0aGlzLT5jb25uLCB0cnVlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZhbHNlOwoJfQoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('QHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9yb2xsYmFjaygpLyo6IHZvaWQqLyB7CgkJaWYgKCEkdGhpcy0+dHJhbnNhY3Rpb25fc3VwcG9ydGVkKCkpIHsKCQkJLy8gVE9ETz8KCQkJcmV0dXJuOwoJCX0KCQlvZGJjX3JvbGxi'));
	@fwrite($fp, base64_decode('YWNrKCR0aGlzLT5jb25uKTsKCQlvZGJjX2F1dG9jb21taXQoJHRoaXMtPmNvbm4sIHRydWUpOwoJCSR0aGlzLT5pbnRyYW5zYWN0aW9uID0gZmFsc2U7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php');
	writefile_1();
	if (!is_file('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php');
	} else if (sha1_file('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php') != '9b56c808fc1b109705d0e8824d4276236c76be9c') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php') !== '9b56c808fc1b109705d0e8824d4276236c76be9c') {
		if (@sha1_file('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php') !== 'f0576c3e5c3ba8ce0824394ddb760798f969fbb1') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php');
			$tmp = pathinfo('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php') !== '9b56c808fc1b109705d0e8824d4276236c76be9c') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/database/odbc/OIDplusDatabaseConnectionODBC.class.php');
		}
	}
}

// Files different: plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php
function writefile_2() {
	@$fp = fopen('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvblBETyBleHRlbmRzIE9JRHBsdXNEYXRhYmFzZUNvbm5lY3Rpb24gewoJLyoqCgkgKiBAdmFyIG1peGVkfG51bGwKCSAqLwoJcHJpdmF0'));
	@fwrite($fp, base64_decode('ZSAkY29ubiA9IG51bGw7CgoJLyoqCgkgKiBAdmFyIHN0cmluZ3xudWxsCgkgKi8KCXByaXZhdGUgJGxhc3RfZXJyb3IgPSBudWxsOyAvLyB3ZSBuZWVkIHRoYXQgYmVjYXVzZSBQRE8gZGl2aWRlcyBwcmVwYXJlZCBzdGF0ZW1lbnQgZXJyb3JzIGFuZCBub3JtYWwg'));
	@fwrite($fp, base64_decode('cXVlcnkgZXJyb3JzLCBidXQgd2UgaGF2ZSBvbmx5IG9uZSAiZXJyb3IoKSIgbWV0aG9kCgoJLyoqCgkgKiBAdmFyIGJvb2wKCSAqLwoJcHJpdmF0ZSAkdHJhbnNhY3Rpb25zX3N1cHBvcnRlZCA9IGZhbHNlOwoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkc3FsCgkg'));
	@fwrite($fp, base64_decode('KiBAcGFyYW0gYXJyYXl8bnVsbCAkcHJlcGFyZWRfYXJncwoJICogQHJldHVybiBPSURwbHVzUXVlcnlSZXN1bHRQRE8KCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZG9RdWVyeShzdHJpbmcgJHNxbCwgYXJyYXkgJHBy'));
	@fwrite($fp, base64_decode('ZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkJJHRoaXMtPmxhc3RfZXJyb3IgPSBudWxsOwoJCWlmIChpc19udWxsKCRwcmVwYXJlZF9hcmdzKSkgewoJCQkkcmVzID0gJHRoaXMtPmNvbm4tPnF1ZXJ5KCRzcWwpOwoKCQkJaWYgKCRyZXMg'));
	@fwrite($fp, base64_decode('PT09IGZhbHNlKSB7CgkJCQkkdGhpcy0+bGFzdF9lcnJvciA9ICR0aGlzLT5jb25uLT5lcnJvckluZm8oKVsyXTsKCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICR0aGlzLT5lcnJvcigpKTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBuZXcg'));
	@fwrite($fp, base64_decode('T0lEcGx1c1F1ZXJ5UmVzdWx0UERPKCRyZXMpOwoJCQl9CgkJfSBlbHNlIHsKCQkJaWYgKCFpc19hcnJheSgkcHJlcGFyZWRfYXJncykpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCcicHJlcGFyZWRfYXJncyIgbXVzdCBiZSBlaXRoZXIgTlVM'));
	@fwrite($fp, base64_decode('TCBvciBhbiBBUlJBWS4nKSk7CgkJCX0KCgkJCWZvcmVhY2ggKCRwcmVwYXJlZF9hcmdzIGFzICYkdmFsdWUpIHsKCQkJCS8vIFdlIG5lZWQgdG8gbWFudWFsbHkgY29udmVydCBib29sZWFucyBpbnRvIHN0cmluZ3MsIGJlY2F1c2UgdGhlcmUgaXMgYQoJCQkJLy8g'));
	@fwrite($fp, base64_decode('MTQgeWVhciBvbGQgYnVnIHRoYXQgaGFzbid0IGJlZW4gYWRyZXNzZWQgYnkgdGhlIFBETyBkZXZlbG9wZXJzOgoJCQkJLy8gaHR0cHM6Ly9idWdzLnBocC5uZXQvYnVnLnBocD9pZD01NzE1NwoJCQkJaWYgKGlzX2Jvb2woJHZhbHVlKSkgewoJCQkJCWlmICgkdGhp'));
	@fwrite($fp, base64_decode('cy0+c2xhbmdEZXRlY3Rpb25Eb25lKSB7CgkJCQkJCSR2YWx1ZSA9ICR0aGlzLT5nZXRTbGFuZygpLT5nZXRTUUxCb29sKCR2YWx1ZSk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gVGhpcyB3b3JrcyBmb3IgZXZlcnl0aGluZyBleGNlcHQgTWljcm9zb2Z0IEFjY2Vz'));
	@fwrite($fp, base64_decode('cyAod2hpY2ggbmVlZHMgLTEgYW5kIDApCgkJCQkJCS8vIE5vdGU6IFdlIGFyZSB1c2luZyAnMScgYW5kICcwJyBpbnN0ZWFkIG9mICd0cnVlJyBhbmQgJ2ZhbHNlJyBiZWNhdXNlIE15U1FMIGNvbnZlcnRzIGJvb2xlYW4gdG8gdGlueWludCgxKQoJCQkJCQkkdmFs'));
	@fwrite($fp, base64_decode('dWUgPSAkdmFsdWUgPyAnMScgOiAnMCc7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQkkcHMgPSAkdGhpcy0+Y29ubi0+cHJlcGFyZSgkc3FsKTsKCQkJaWYgKCEkcHMpIHsKCQkJCSR0aGlzLT5sYXN0X2Vycm9yID0gJHRoaXMtPmNvbm4tPmVycm9ySW5mbygpWzJdOwoJ'));
	@fwrite($fp, base64_decode('CQkJaWYgKCEkdGhpcy0+bGFzdF9lcnJvcikgJHRoaXMtPmxhc3RfZXJyb3IgPSBfTCgiRXJyb3IiKS4iICIuJHRoaXMtPmNvbm4tPmVycm9ySW5mbygpWzBdOyAvLyBpZiBubyBtZXNzYWdlIGlzIGF2YWlsYWJsZSwgb25seSBzaG93IHRoZSBlcnJvci1jb2RlCgkJ'));
	@fwrite($fp, base64_decode('CQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCBfTCgnQ2Fubm90IHByZXBhcmUgc3RhdGVtZW50JykuJzogJy4kdGhpcy0+ZXJyb3IoKSk7CgkJCX0KCgkJCWlmICghQCRwcy0+ZXhlY3V0ZSgkcHJlcGFyZWRfYXJncykpIHsKCQkJCSR0aGlzLT5s'));
	@fwrite($fp, base64_decode('YXN0X2Vycm9yID0gJHBzLT5lcnJvckluZm8oKVsyXTsKCQkJCWlmICghJHRoaXMtPmxhc3RfZXJyb3IpICR0aGlzLT5sYXN0X2Vycm9yID0gX0woIkVycm9yIikuIiAiLiRwcy0+ZXJyb3JJbmZvKClbMF07IC8vIGlmIG5vIG1lc3NhZ2UgaXMgYXZhaWxhYmxlLCBv'));
	@fwrite($fp, base64_decode('bmx5IHNob3cgdGhlIGVycm9yLWNvZGUKCQkJCS8vIFRPRE86CgkJCQkvLyBPbiBteSB0ZXN0IG1hY2hpbmUgd2l0aCBQRE8gKyBteXNxbCBvbiBYQU1QUCB3aXRoIFBIUCA4LjIuMCwgdGhlcmUgYXJlIHR3byBwcm9ibGVtcyB3aXRoIHRoZSBmb2xsb3dpbmcgY29k'));
	@fwrite($fp, base64_decode('ZToKCQkJCS8vICAgICAgICAkZGItPnF1ZXJ5KCJTRUxFQ1QgKiBmcm9tIE5PTkVYSVNUSU5HIiwgYXJyYXkoJycpKTsgIC8vIG5vdGUgdGhhdCB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIGFyZ3VtZW50LCB3aGljaCBpcyB3cm9uZyEKCQkJCS8vICAgICAgICAkZGIt'));
	@fwrite($fp, base64_decode('PmVycm9yKCkKCQkJCS8vIDEuICRwcy0+ZXJyb3JJbmZvKCkgaXMgWydIWTA5MycsIG51bGwsIG51bGxdLgoJCQkJLy8gICAgVGhlIGFjdHVhbCBlcnJvciBtZXNzYWdlICJJbnZhbGlkIHBhcmFtZXRlciBudW1iZXI6IG51bWJlciBvZiBib3VuZCB2YXJpYWJsZXMg'));
	@fwrite($fp, base64_decode('ZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHRva2VucyIgaXMgbm90IHNob3duIHZpYSBlcnJvckluZm8oKQoJCQkJLy8gICAgPT4gRm9yIG5vdywgYXMgd29ya2Fyb3VuZCwgd2UganVzdCBzaG93IHRoZSBlcnJvciBtZXNzYWdlICJIWTA5MyIsIGlmIHRoZXJlIGlz'));
	@fwrite($fp, base64_decode('IG5vIGRyaXZlciBzcGVjaWZpYyBlcnJvciB0ZXh0IGF2YWlsYWJsZS4KCQkJCS8vICAgICAgIEhvd2V2ZXIsIHRoaXMgbWVhbnMgdGhhdCB0aGUgdGVzdC1jYXNlIHdpbGwgZmFpbCwgYmVjYXVzZSB0aGUgdGFibGUgbmFtZSBjYW5ub3QgYmUgZm91bmQgaW4gdGhl'));
	@fwrite($fp, base64_decode('IGVycm9yIG1lc3NhZ2U/IQoJCQkJLy8gMi4gVGhlIGVycm9yICJJbnZhbGlkIHBhcmFtZXRlciBudW1iZXI6IG51bWJlciBvZiBib3VuZCB2YXJpYWJsZXMgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHRva2VucyIgaXMgU0hPV04gYXMgUEhQLXdhcm5pbmcKCQkJ'));
	@fwrite($fp, base64_decode('CS8vICAgIEl0IHNlZW1zIGxpa2UgUERPOjpFUlJNT0RFX1NJTEVOVCBpcyBpZ25vcmVkPyEgVGhlIGJ1ZyBpcyAxMSB5ZWFycyBvbGQ6IGh0dHBzOi8vYnVncy5waHAubmV0L2J1Zy5waHA/aWQ9NjM4MTIKCQkJCS8vICAgID0+IEZvciBub3csIGFzIHdvcmthcm91'));
	@fwrite($fp, base64_decode('bmQsIHdlIGFkZGVkICJAIiBpbiBmcm9udCBvZiAkcHMtPmV4ZWN1dGUgLi4uCgkJCQkvLwoJCQkJLy8gVGhlIGZvbGxvd2luZyBjb2RlIHdvcmtzIGZpbmU6CgkJCQkvLyAgICAgICAgJGRiLT5xdWVyeSgiU0VMRUNUICogZnJvbSBOT05FWElTVElORyIsIGFycmF5'));
	@fwrite($fp, base64_decode('KCkpOyAgLy8gbm90ZSB0aGF0IHRoZXJlIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIGlzIG5vdyBjb3JyZWN0CgkJCQkvLyAgICAgICAgJGRiLT5lcnJvcigpCgkJCQkvLyAxLiAkcHMtPmVycm9ySW5mbygpIGlzIFsnNDJTMDInLCAnMTE0NicsICJUYWJsZSAnb2lk'));
	@fwrite($fp, base64_decode('cGx1cy5OT05FWElTVElORycgZG9lc24ndCBleGlzdCJdLgoJCQkJLy8gICAgPT4gVGhhdCdzIGNvcnJlY3QhCgkJCQkvLyAyLiAkcHMtPmV4ZWN1dGUoKSBkb2VzIG5vdCBzaG93IGEgd2FybmluZyAoaWYgIkAiIGlzIHJlbW92ZWQpCgkJCQkvLyAgICA9PiBUaGF0'));
	@fwrite($fp, base64_decode('J3MgY29ycmVjdCEKCgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkdGhpcy0+ZXJyb3IoKSk7CgkJCX0KCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRQRE8oJHBzKTsKCQl9Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGludAoJICog'));
	@fwrite($fp, base64_decode('QHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkb0luc2VydElkKCk6IGludCB7CgkJdHJ5IHsKCQkJJG91dCA9IEAoJHRoaXMtPmNvbm4tPmxhc3RJbnNlcnRJZCgpKTsKCQkJaWYgKCRvdXQgPT09IGZhbHNlKSByZXR1cm4gcGFy'));
	@fwrite($fp, base64_decode('ZW50Ojpkb0luc2VydElkKCk7IC8vIGZhbGxiYWNrIG1ldGhvZCB0aGF0IHVzZXMgdGhlIFNRTCBzbGFuZwoJCQlyZXR1cm4gJG91dDsKCQl9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgkJCXJldHVybiBwYXJlbnQ6OmRvSW5zZXJ0SWQoKTsgLy8gZmFsbGJhY2sg'));
	@fwrite($fp, base64_decode('bWV0aG9kIHRoYXQgdXNlcyB0aGUgU1FMIHNsYW5nCgkJfQoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGVycm9yKCk6IHN0cmluZyB7CgkJJGVyciA9ICR0aGlzLT5sYXN0X2Vycm9yOwoJCWlmICgkZXJyID09IG51bGwp'));
	@fwrite($fp, base64_decode('ICRlcnIgPSAnJzsKCQlyZXR1cm4gdnRzX3V0ZjhfZW5jb2RlKCRlcnIpOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbgoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkg'));
	@fwrite($fp, base64_decode('Ki8KCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Nvbm5lY3QoKS8qOiB2b2lkKi8gewoJCWlmICghY2xhc3NfZXhpc3RzKCdQRE8nKSkgdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbihfTCgnUEhQIGV4dGVuc2lvbiAiJTEiIG5vdCBp'));
	@fwrite($fp, base64_decode('bnN0YWxsZWQnLCdQRE8nKSk7CgoJCXRyeSB7CgkJCSRvcHRpb25zID0gWwoJCQkgICAgXFBETzo6QVRUUl9FUlJNT0RFICAgICAgICAgICAgPT4gXFBETzo6RVJSTU9ERV9TSUxFTlQsCgkJCSAgICBcUERPOjpBVFRSX0RFRkFVTFRfRkVUQ0hfTU9ERSA9PiBcUERP'));
	@fwrite($fp, base64_decode('OjpGRVRDSF9BU1NPQywKCQkJICAgIFxQRE86OkFUVFJfRU1VTEFURV9QUkVQQVJFUyAgID0+IHRydWUsCgkJCV07CgoJCQkvLyBUcnkgY29ubmVjdGluZyB0byB0aGUgZGF0YWJhc2UKCQkJJGRzbiAgICAgID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1'));
	@fwrite($fp, base64_decode('ZSgnUERPX0RTTicsICAgICAgJ215c3FsOmhvc3Q9bG9jYWxob3N0O2RibmFtZT1vaWRwbHVzO2NoYXJzZXQ9dXRmOG1iNCcpOwoJCQkkdXNlcm5hbWUgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdQRE9fVVNFUk5BTUUnLCAncm9vdCcpOwoJCQkk'));
	@fwrite($fp, base64_decode('cGFzc3dvcmQgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdQRE9fUEFTU1dPUkQnLCAnJyk7CgoJCQlpZiAoc3RyaXBvcygkZHNuLCJjaGFyc2V0PSIpID09PSBmYWxzZSkgJGRzbiA9ICIkZHNuO2NoYXJzZXQ9VVRGLTgiOwoKCQkJJHRoaXMtPmNv'));
	@fwrite($fp, base64_decode('bm4gPSBuZXcgXFBETygkZHNuLCAkdXNlcm5hbWUsICRwYXNzd29yZCwgJG9wdGlvbnMpOwoJCX0gY2F0Y2ggKFxQRE9FeGNlcHRpb24gJGUpIHsKCQkJJG1lc3NhZ2UgPSAkZS0+Z2V0TWVzc2FnZSgpOwoJCQkkbWVzc2FnZSA9IHZ0c191dGY4X2VuY29kZSgkbWVz'));
	@fwrite($fp, base64_decode('c2FnZSk7IC8vIE1ha2UgVVRGLTggaWYgaXQgaXMgTk9UIGFscmVhZHkgVVRGLTguIEltcG9ydGFudCBmb3IgR2VybWFuIE1pY3Jvc29mdCBBY2Nlc3MuCgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24odHJpbShfTCgnQ29u'));
	@fwrite($fp, base64_decode('bmVjdGlvbiB0byB0aGUgZGF0YWJhc2UgZmFpbGVkIScpLicgJy4kbWVzc2FnZSkpOwoJCX0KCgkJJHRoaXMtPmxhc3RfZXJyb3IgPSBudWxsOwoKCQl0cnkgewoJCQlAJHRoaXMtPmNvbm4tPmV4ZWMoIlNFVCBOQU1FUyAndXRmLTgnIik7CgkJfSBjYXRjaCAoXEV4'));
	@fwrite($fp, base64_decode('Y2VwdGlvbiAkZSkgewoJCX0KCgkJdHJ5IHsKCQkJQCR0aGlzLT5jb25uLT5leGVjKCJTRVQgQ0hBUkFDVEVSIFNFVCAndXRmLTgnIik7CgkJfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoJCX0KCgkJdHJ5IHsKCQkJQCR0aGlzLT5jb25uLT5leGVjKCJTRVQgTkFN'));
	@fwrite($fp, base64_decode('RVMgJ3V0ZjhtYjQnIik7CgkJfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoJCX0KCgkJLy8gV2UgY2hlY2sgaWYgdGhlIERCTVMgc3VwcG9ydHMgYXV0b2NvbW1pdC4KCQkvLyBBdHRlbnRpb246IENoZWNrIGl0IGFmdGVyIHlvdSBoYXZlIHNlbnQgYSBxdWVyeSBh'));
	@fwrite($fp, base64_decode('bHJlYWR5LCBiZWNhdXNlIE1pY3Jvc29mdCBBY2Nlc3MgZG9lc24ndCBzZWVtIHRvIGFsbG93CgkJLy8gY2hhbmdpbmcgYXV0byBjb21taXQgb25jZSBhIHF1ZXJ5IHdhcyBleGVjdXRlZCAoIkF0dHJpYnV0ZSBjYW5ub3QgYmUgc2V0IG5vdyBTUUxTdGF0ZTogUzEw'));
	@fwrite($fp, base64_decode('MTEiKQoJCS8vIE5vdGU6IEZvciBzb21lIHdlaXJkIHJlYXNvbiB3ZSAqRE8qIG5lZWQgdG8gcmVkaXJlY3QgdGhlIG91dHB1dCB0byAiJGR1bW15Iiwgb3RoZXJ3aXNlIGl0IHdvbid0IHdvcmshCgkJJHNxbCA9ICJzZWxlY3QgbmFtZSBmcm9tICMjI2NvbmZpZyB3'));
	@fwrite($fp, base64_decode('aGVyZSAxPTAiOwoJCSRzcWwgPSBzdHJfcmVwbGFjZSgnIyMjJywgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnVEFCTEVOQU1FX1BSRUZJWCcsICcnKSwgJHNxbCk7CgkJJGR1bW15ID0gJHRoaXMtPmNvbm4tPnF1ZXJ5KCRzcWwpOwoJCXRyeSB7CgkJ'));
	@fwrite($fp, base64_decode('CSR0aGlzLT5jb25uLT5iZWdpblRyYW5zYWN0aW9uKCk7CgkJCSR0aGlzLT5jb25uLT5yb2xsQmFjaygpOwoJCQkkdGhpcy0+dHJhbnNhY3Rpb25zX3N1cHBvcnRlZCA9IHRydWU7CgkJfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoJCQkkdGhpcy0+dHJhbnNhY3Rp'));
	@fwrite($fp, base64_decode('b25zX3N1cHBvcnRlZCA9IGZhbHNlOwoJCX0KCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9EaXNjb25uZWN0KCkvKjogdm9pZCovIHsKCQkkdGhpcy0+Y29ubiA9IG51bGw7IC8vIHRoZSBjb25uZWN0aW9uIHdpbGwg'));
	@fwrite($fp, base64_decode('YmUgY2xvc2VkIGJ5IHJlbW92aW5nIHRoZSByZWZlcmVuY2UKCX0KCgkvKioKCSAqIEB2YXIgYm9vbAoJICovCglwcml2YXRlICRpbnRyYW5zYWN0aW9uID0gZmFsc2U7CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0'));
	@fwrite($fp, base64_decode('aW9uX3N1cHBvcnRlZCgpOiBib29sIHsKCQlyZXR1cm4gJHRoaXMtPnRyYW5zYWN0aW9uc19zdXBwb3J0ZWQ7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGludAoJICovCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fbGV2ZWwoKTogaW50IHsKCQlpZiAoISR0aGlz'));
	@fwrite($fp, base64_decode('LT50cmFuc2FjdGlvbl9zdXBwb3J0ZWQoKSkgewoJCQkvLyBUT0RPPwoJCQlyZXR1cm4gMDsKCQl9CgkJcmV0dXJuICR0aGlzLT5pbnRyYW5zYWN0aW9uID8gMSA6IDA7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlv'));
	@fwrite($fp, base64_decode('bgoJICovCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fYmVnaW4oKS8qOiB2b2lkKi8gewoJCWlmICghJHRoaXMtPnRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpKSB7CgkJCS8vIFRPRE8/CgkJCXJldHVybjsKCQl9CgkJaWYgKCR0aGlzLT5pbnRyYW5zYWN0aW9u'));
	@fwrite($fp, base64_decode('KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnTmVzdGVkIHRyYW5zYWN0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGlzIGRhdGFiYXNlIHBsdWdpbi4nKSk7CgkJJHRoaXMtPmNvbm4tPmJlZ2luVHJhbnNhY3Rpb24oKTsKCQkkdGhpcy0+aW50cmFu'));
	@fwrite($fp, base64_decode('c2FjdGlvbiA9IHRydWU7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpLyo6IHZvaWQqLyB7CgkJaWYgKCEkdGhpcy0+dHJhbnNhY3Rpb25fc3VwcG9ydGVkKCkpIHsKCQkJLy8gVE9ETz8K'));
	@fwrite($fp, base64_decode('CQkJcmV0dXJuOwoJCX0KCQkkdGhpcy0+Y29ubi0+Y29tbWl0KCk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fcm9sbGJhY2soKS8qOiB2b2lk'));
	@fwrite($fp, base64_decode('Ki8gewoJCWlmICghJHRoaXMtPnRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpKSB7CgkJCS8vIFRPRE8/CgkJCXJldHVybjsKCQl9CgkJJHRoaXMtPmNvbm4tPnJvbGxCYWNrKCk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCn0K'));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php');
	writefile_2();
	if (!is_file('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php');
	} else if (sha1_file('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php') != 'fbf6f2609225429485b3727993f7efe70e6aa29c') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php') !== 'fbf6f2609225429485b3727993f7efe70e6aa29c') {
		if (@sha1_file('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php') !== '6700aae7fd71f82336131fedfeae02b48d69e429') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php');
			$tmp = pathinfo('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php') !== 'fbf6f2609225429485b3727993f7efe70e6aa29c') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/database/pdo/OIDplusDatabaseConnectionPDO.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1216\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1216') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

