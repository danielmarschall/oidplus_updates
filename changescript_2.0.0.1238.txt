<?php /* <ViaThinkSoftSignature>
L4rW0q8YrjwGyG5Sryay0CZBWUsgyfr0B9MOpMsHSJ71qHJ1uegleXdly70JPp7oC
WZnKrfc6Dv4U7pOAZohFs+50TiOf6vTPZetiGtRFPw9skg0JX4peaD9URvyqiYOoH
c6GtldiNUXNTJ8IH216FpR7MFoK5ewkBffDBaTUkhm8NjWipX8D+NNi+6cDa2vWka
7c9J3vwkKbrsxQegU3JjOuoTwYxuDKq9ZqYVyOyCCJdqB9imFRLlrxyKjWe4mNkkG
oafz1grSM/F91CPmlRS74+lvP/BKg6tT89KEbCR0OIw6BDacASJuaULBK5nkxgFHK
73w8g5go2yV0NlFYxvE2PK1dbUmHK/2xF3SzrysjtiAmO77EPQLqZjAIf9R89UK5y
CgORYWgjjdY0txlG+F3pmixwn6eM3KdNjz0IaO3i7rPZVnzrkD/0VFijfeAuK2Q9+
gE3FwBQ7IYUw315f3lQe8NywYmox6mjWI8cnwoItsdKBcmmNQ6jac7HFYxycMIp2k
ScMXG9EnyOU0gGn7J7cUUD0S3/s8UY3+Ag3NyCNpI5KU5V3VA3/MLTpcB41aGUFAe
bQJE2g10MhFEIfC864NWCtUciYzu5yJ7F8VsFrA4wabTq0VW+1jeWRQ5zQH6bYXbB
xLrPsawScHMy5Zaug6fQh5ggm0IgurXFuTkWrL5irFbai76INFGs9eFpagmlHRWfo
qUMXRhmqrM0mbDvaLWnN/+5/bfOm07/LK/1nrNvdagaU3dASdieox4WlLNWKXXWmV
4wdBkBi+z7CR5RD8SLzBwdF1nFGxIBdxjOclJApntYd/W1ZWx+/JaBHJZ3XCNNVMC
Zz8mV4uwdypw+YhGocfyVRQ7RyhUd5LsEdaXTNjquLnbU+2s/WDQB5sLjN1WqdmZj
mwYUFFuEa0uo0oH25U+Cew+W0LVi8Xl+B4FoJO6SbHSkqLFEXj7enRQJWVI+JEEf1
wZQurpjL8A5lUpwsqbQl7Lx9gns/RPLQ6yza9dbQjb3YkgWdSPmmVyDtxHJ3M+W6H
tThy0CeQSiF/+dtMmeGqeNnA6B4p8fJW6I2vzS/mQlJ85jXXSDhWF8DUNUUq5N7qI
Oz+XRjFu+6UOUTGe69KnjEefPQlq1FO1rT0Y1sFqFmwGhs3YzUnY5WSHMJbmYdks5
6koOR+AkbJerixBWCcvJt59+S1aItTxPqyqOzBHw3SeUFBuAIsHxjuvcaRMETkXFk
CNxebhisWi8lKRpIha1y/dkeuzEf8Laveww5Wb+wR2Gr7XLZSourdkdnJyW8FQ6G2
45s2yDZU7Z+8W5Ssx13fuXWJZZuoedEoz05OY+Wy2C8SiQYkSNZddAhWQT8Jq/0vw
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1237') {
	err('This update can only be applied to OIDplus version 2.0.0.1237!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: dev/test_database_plugins
function writefile_1() {
	@$fp = fopen('dev/test_database_plugins', 'w');
	@fwrite($fp, base64_decode('IyEvdXNyL2Jpbi9lbnYgcGhwCjw/cGhwCgovKgogKiBPSURwbHVzIDIuMAogKiBDb3B5cmlnaHQgMjAxOSAtIDIwMjIgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAy'));
	@fwrite($fp, base64_decode('LjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3'));
	@fwrite($fp, base64_decode('dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJp'));
	@fwrite($fp, base64_decode('YnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdv'));
	@fwrite($fp, base64_decode('dmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLy8gVGhpcyBzY3JpcHQgaXMgdXNlZCB0byBkZXRlY3QgcHJvYmxlbXMgd2l0aCB5b3VyIGRhdGFiYXNlIHBsdWdpbnMKLy8gQVRURU5USU9OOiBQTEVB'));
	@fwrite($fp, base64_decode('U0UgRE8gTk9UIFVTRSBUSElTIFNDUklQVCBPTiBBIFBST0RVQ1RJVkUgREFUQUJBU0UsCi8vIEJFQ0FVU0UgSVQgQUREUyBBTkQgQ0hBTkdFUyBEQVRBIERVUklORyBUSEUgVEVTVElORy4KCiMgLS0tCgovLyBUT0RPOiBVVEYtOCB0ZXN0cwoKcmVxdWlyZV9vbmNl'));
	@fwrite($fp, base64_decode('IF9fRElSX18gLiAnLy4uL2luY2x1ZGVzL29pZHBsdXMuaW5jLnBocCc7Cgp1c2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXNcT0lEcGx1czsKdXNlIFZpYVRoaW5rU29mdFxPSURwbHVzXE9JRHBsdXNEYXRhYmFzZUNvbm5lY3Rpb247CgokbnVtX2VycnMgPSAwOwokbnVt'));
	@fwrite($fp, base64_decode('X3N1Y2MgPSAwOwoKaWYgKFBIUF9TQVBJICE9ICdjbGknKSBlY2hvICc8cHJlPic7CgplY2hvICJPSURwbHVzIERhdGFiYXNlIHBsdWdpbiB0ZXN0Y2FzZXNcblxuIjsKCk9JRHBsdXM6OmluaXQodHJ1ZSwgdHJ1ZSk7CgpPSURwbHVzOjpiYXNlQ29uZmlnKCktPmRl'));
	@fwrite($fp, base64_decode('bGV0ZSgnRk9SQ0VfREJNU19TTEFORycpOwoKIyBUZXN0IE15U1FMCnRyeSB7CglPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnTXlTUUwnKTsKCU9JRHBsdXM6OmluaXQodHJ1ZSwgdHJ1ZSk7CgkkZGIgPSBPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpkYigpOwoJT0lEcGx1czo6aW5pdCh0cnVlLCB0cnVlKTsKCWlmIChmdW5jdGlvbl9leGlzdHMoJ215c3FsaV9mZXRjaF9hbGwnKSkgewoJCU9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ01ZU1FMX0ZPUkNFX01ZU1FMTkRfU1VQUExFTUVOVCcsIGZh'));
	@fwrite($fp, base64_decode('bHNlKTsKCQllY2hvICJbV2l0aCBNeVNRTG5kIHN1cHBvcnRdICI7CgkJZG90ZXN0KCRkYik7CgkJT0lEcGx1czo6YmFzZUNvbmZpZygpLT5zZXRWYWx1ZSgnTVlTUUxfRk9SQ0VfTVlTUUxORF9TVVBQTEVNRU5UJywgdHJ1ZSk7Cgl9CgllY2hvICJbV2l0aG91dCBN'));
	@fwrite($fp, base64_decode('eVNRTG5kIHN1cHBvcnRdICI7Cglkb3Rlc3QoJGRiKTsKfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgllY2hvICJNeVNRTDpcbiI7CgllY2hvIHJlZHRleHQoJGUtPmdldE1lc3NhZ2UoKSkuIlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0VHJhY2VBc1N0cmluZygp'));
	@fwrite($fp, base64_decode('KS4iXG5cbiI7Cn0KCiMgVGVzdCBQRE8KdHJ5IHsKCU9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicsICdQRE8nKTsKCU9JRHBsdXM6OmluaXQodHJ1ZSwgdHJ1ZSk7CgkkZGIgPSBPSURwbHVzOjpkYigpOwoJZG90ZXN0KCRk'));
	@fwrite($fp, base64_decode('Yik7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJZWNobyAiUERPOlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0TWVzc2FnZSgpKS4iXG4iOwoJZWNobyByZWR0ZXh0KCRlLT5nZXRUcmFjZUFzU3RyaW5nKCkpLiJcblxuIjsKfQoKIyBUZXN0IE9EQkMKdHJ5IHsK'));
	@fwrite($fp, base64_decode('CU9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicsICdPREJDJyk7CglPSURwbHVzOjppbml0KHRydWUsIHRydWUpOwoJJGRiID0gT0lEcGx1czo6ZGIoKTsKCWRvdGVzdCgkZGIpOwp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsK'));
	@fwrite($fp, base64_decode('CWVjaG8gIk9EQkM6XG4iOwoJZWNobyByZWR0ZXh0KCRlLT5nZXRNZXNzYWdlKCkpLiJcbiI7CgllY2hvIHJlZHRleHQoJGUtPmdldFRyYWNlQXNTdHJpbmcoKSkuIlxuXG4iOwp9CgojIFRlc3QgQURPCnRyeSB7CglPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZh'));
	@fwrite($fp, base64_decode('bHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnQURPJyk7CglPSURwbHVzOjppbml0KHRydWUsIHRydWUpOwoJJGRiID0gT0lEcGx1czo6ZGIoKTsKCWRvdGVzdCgkZGIpOwp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCWVjaG8gIkFETzpcbiI7CgllY2hvIHJlZHRleHQo'));
	@fwrite($fp, base64_decode('JGUtPmdldE1lc3NhZ2UoKSkuIlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0VHJhY2VBc1N0cmluZygpKS4iXG5cbiI7Cn0KCiMgVGVzdCBTUUxTUlYKdHJ5IHsKCU9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicsICdTUUxT'));
	@fwrite($fp, base64_decode('UlYnKTsKCU9JRHBsdXM6OmluaXQodHJ1ZSwgdHJ1ZSk7CgkkZGIgPSBPSURwbHVzOjpkYigpOwoJZG90ZXN0KCRkYik7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJZWNobyAiQURPOlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0TWVzc2FnZSgpKS4iXG4iOwoJ'));
	@fwrite($fp, base64_decode('ZWNobyByZWR0ZXh0KCRlLT5nZXRUcmFjZUFzU3RyaW5nKCkpLiJcblxuIjsKfQoKIyBUZXN0IFBnU1FMCnRyeSB7CglPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnUGdTUUwnKTsKCU9JRHBsdXM6OmluaXQodHJ1ZSwg'));
	@fwrite($fp, base64_decode('dHJ1ZSk7CgkkZGIgPSBPSURwbHVzOjpkYigpOwoJZG90ZXN0KCRkYik7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJZWNobyAiUGdTUUw6XG4iOwoJZWNobyByZWR0ZXh0KCRlLT5nZXRNZXNzYWdlKCkpLiJcbiI7CgllY2hvIHJlZHRleHQoJGUtPmdldFRyYWNl'));
	@fwrite($fp, base64_decode('QXNTdHJpbmcoKSkuIlxuXG4iOwp9CgojIFRlc3QgU1FMaXRlMwp0cnkgewoJT0lEcGx1czo6YmFzZUNvbmZpZygpLT5zZXRWYWx1ZSgnREFUQUJBU0VfUExVR0lOJywgJ1NRTGl0ZTMnKTsKCU9JRHBsdXM6OmluaXQodHJ1ZSwgdHJ1ZSk7CgkkZGIgPSBPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpkYigpOwoJZG90ZXN0KCRkYik7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJZWNobyAiU1FMaXRlMzpcbiI7CgllY2hvIHJlZHRleHQoJGUtPmdldE1lc3NhZ2UoKSkuIlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0VHJhY2VBc1N0cmluZygpKS4iXG5cbiI7'));
	@fwrite($fp, base64_decode('Cn0KCiMgVGVzdCBPQ0k4CnRyeSB7CglPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnT3JhY2xlIChPQ0k4KScpOwoJT0lEcGx1czo6aW5pdCh0cnVlLCB0cnVlKTsKCSRkYiA9IE9JRHBsdXM6OmRiKCk7Cglkb3Rlc3Qo'));
	@fwrite($fp, base64_decode('JGRiKTsKfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgllY2hvICJPQ0k4OlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0TWVzc2FnZSgpKS4iXG4iOwoJZWNobyByZWR0ZXh0KCRlLT5nZXRUcmFjZUFzU3RyaW5nKCkpLiJcblxuIjsKfQoKIyAtLS0KCmlmIChQSFBf'));
	@fwrite($fp, base64_decode('U0FQSSAhPSAnY2xpJykgewoJZGllKCc8L3ByZT4nKTsKfSBlbHNlIHsKCWV4aXQoJG51bV9lcnJzID4gMCA/IDEgOiAwKTsKfQoKIyAtLS0KCi8qKgogKiBAcGFyYW0gT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbiAkZGIKICogQHJldHVybiB2b2lkCiAqLwpmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiBkb3Rlc3QoT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbiAkZGIpIHsKCWVjaG8gIkRhdGFiYXNlOiAiIC4gZ2V0X2NsYXNzKCRkYikgLiAiXG4iOwoJdHJ5IHsKCQkkZGItPmNvbm5lY3QoKTsKCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCWVjaG8gIkNv'));
	@fwrite($fp, base64_decode('bm5lY3Rpb24gIi5yZWR0ZXh0KCJGQUlMRUQiKS4iIChjaGVjayB1c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhwKTogIi4kZS0+Z2V0TWVzc2FnZSgpLiJcblxuIjsKCQlyZXR1cm47Cgl9CgllY2hvICJEZXRlY3RlZCBzbGFuZzogIiAuICRkYi0+Z2V0'));
	@fwrite($fp, base64_decode('U2xhbmcoKTo6aWQoKS4iXG4iOwoJJGRiLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAndGVzdDoxJyIpOwoJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9u'));
	@fwrite($fp, base64_decode('LCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ3Rlc3Q6MS4xJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVl'));
	@fwrite($fp, base64_decode('cyAoJ3Rlc3Q6MS4yJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJdHJ5IHsKCQkvLyAtLS0gIlNRTCBEYXRlIiBoYW5kbGluZwoKCQl0cnkgewoJCQkkcmVzID0gJGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IGNyZWF0ZWQgPSAiLiRkYi0+c3Fs'));
	@fwrite($fp, base64_decode('RGF0ZSgpLiIgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJCWVjaG8gIlNRTERhdGUgKCIuJGRiLT5zcWxEYXRlKCkuJykgJy5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCWVjaG8gIlNRTERhdGUgKCIuJGRi'));
	@fwrite($fp, base64_decode('LT5zcWxEYXRlKCkuJykgJy5yZWR0ZXh0KCdGQUlMRUQnKS4iXG4iOwoJCX0KCgkJLy8gLS0tIERlbGV0ZStJbnNlcnQgdXNpbmcgcHJlcGFyZWQgc3RhdGVtZW50cwoKCQkkZGItPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8i'));
	@fwrite($fp, base64_decode('LCBhcnJheSgndGVzdDoxMScpKTsKCQllY2hvICJEZWxldGUgdXNpbmcgUHJlcGFyZWQgU3RhdGVtZW50czogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRl'));
	@fwrite($fp, base64_decode('c2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoPywgPywgPywgPywgPykiLCBhcnJheSgnb2lkOjMuMS4xMScsICd0ZXN0OjExJywgJycsICcnLCAnMCcpKTsKCQkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNvYmplY3RzIChpZCwgcGFyZW50LCB0aXRs'));
	@fwrite($fp, base64_decode('ZSwgZGVzY3JpcHRpb24sIGNvbmZpZGVudGlhbCkgdmFsdWVzICg/LCA/LCA/LCA/LCA/KSIsIGFycmF5KCdvaWQ6My4xLjEyJywgJ3Rlc3Q6MTEnLCAnJywgJycsICcwJykpOwoJCWVjaG8gIkluc2VydCB1c2luZyBQcmVwYXJlZCBTdGF0ZW1lbnRzOiAiLmdyZWVu'));
	@fwrite($fp, base64_decode('dGV4dCgnUEFTU0VEJykuIlxuIjsKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgY29uZmlkZW50aWFsID0gPyB3aGVyZSBwYXJlbnQgPSA/IiwgYXJyYXkodHJ1ZSwgJ3Rlc3Q6MTEnKSk7CgkJZWNobyAiVXBkYXRlIHVzaW5nIFByZXBhcmVkIFN0'));
	@fwrite($fp, base64_decode('YXRlbWVudHM6ICIuZ3JlZW50ZXh0KCdQQVNTRUQnKS4iXG4iOwoKCQkvLyAtLS0gIk51bSByb3dzIiBoYW5kbGluZwoKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5IGlkIiwgYXJy'));
	@fwrite($fp, base64_decode('YXkoJ3Rlc3Q6WFhYWFhYWFhYJykpOwoJCXRyeSB7CgkJCSRudW1fcm93cyA9ICRyZXMtPm51bV9yb3dzKCk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCSRudW1fcm93cyA9ICRlLT5nZXRNZXNzYWdlKCk7CgkJfQoJCWVjaG8gIk51bSByb3dzIGVtcHR5'));
	@fwrite($fp, base64_decode('OiAiIC4gKCRudW1fcm93cz09PTAgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRudW1fcm93cylcbiI7CgoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3Jk'));
	@fwrite($fp, base64_decode('ZXIgYnkgaWQiLCBhcnJheSgndGVzdDoxJykpOwoJCXRyeSB7CgkJCSRudW1fcm93cyA9ICRyZXMtPm51bV9yb3dzKCk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCSRudW1fcm93cyA9ICRlLT5nZXRNZXNzYWdlKCk7CgkJfQoJCWVjaG8gIk51bSByb3dz'));
	@fwrite($fp, base64_decode('OiAiIC4gKCRudW1fcm93cz09PTIgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRudW1fcm93cylcbiI7CgoJCSRyZXMtPmZldGNoX2FycmF5KCk7CgkJdHJ5IHsKCQkJJG51bV9yb3dzID0gJHJlcy0+bnVtX3Jvd3MoKTsKCQl9'));
	@fwrite($fp, base64_decode('IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJJG51bV9yb3dzID0gJGUtPmdldE1lc3NhZ2UoKTsKCQl9CgkJZWNobyAiTnVtIHJvd3MgYWZ0ZXIgc29tZXRoaW5nIGZldGNoZWQ6ICIgLiAoJG51bV9yb3dzPT09MiA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0'));
	@fwrite($fp, base64_decode('ZXh0KCdGQUlMRUQnKSkuIiAoJG51bV9yb3dzKVxuIjsKCgkJJG5leHRpZCA9ICRyZXMtPmZldGNoX2FycmF5KClbJ2lkJ107CgkJZWNobyAiTnVtIHJvd3MgZG9lcyBub3QgY2hhbmdlIGN1cnNvcjogIiAuICgkbmV4dGlkID09ICd0ZXN0OjEuMicgPyBncmVlbnRl'));
	@fwrite($fp, base64_decode('eHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgoJCSRuZXh0ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQllY2hvICJGZXRjaCBhZnRlciBFT0YgZ2l2ZXMgbnVsbDogIiAuIChpc19udWxsKCRuZXh0KSA/IGdyZWVudGV4dCgnUEFTU0VEJykg'));
	@fwrite($fp, base64_decode('OiByZWR0ZXh0KCdGQUlMRUQnKSkuIlxuIjsKCgkJLy8gLS0tIFNpbXVsdGFub3VzIHByZXBhcmVkIHN0YXRlbWVudHMKCgkJJGVycm1zZyA9ICcnOwoJCXRyeSB7CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBh'));
	@fwrite($fp, base64_decode('cmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgndGVzdDoxJykpOwoJCQkkcGFzc2VkID0gZmFsc2U7CgkJCS8vJHJlcy0+bnVtX3Jvd3MoKTsgLy8gc3BvbmdlCgkJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJJHJlczIgPSAkZGIt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgkcm93WydpZCddKSk7CgkJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJfQoJCQkJaWYgKCRyb3dbJ2lk'));
	@fwrite($fp, base64_decode('J10gPT0gJ3Rlc3Q6MS4yJykgewoJCQkJCSRwYXNzZWQgPSB0cnVlOwoJCQkJfQoJCQl9CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCSRwYXNzZWQgPSBmYWxzZTsKCQkJJGVycm1zZyA9ICcgKCcuJGUtPmdldE1lc3NhZ2UoKS4nKSc7CgkJfQoJCWVjaG8g'));
	@fwrite($fp, base64_decode('IlNpbXVsdGFub3VzIHByZXBhcmVkIHN0YXRlbWVudHM6ICIuKCRwYXNzZWQgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIkZXJybXNnXG4iOwoKCQlpZiAoISRwYXNzZWQpIHsKCQkJLy8gV2UgY2Fubm90IGNvbnRpbnVlIGJlY2F1'));
	@fwrite($fp, base64_decode('c2UgdGhlIGNvbm5lY3Rpb24gaXMgaW4gYSBzdGF0ZSB0aGF0IGNhbm5vdCBiZSByZWNvdmVyZWQgZWFzaWx5CgkJCWVjaG8gIkNhbmNlbGxlZCFcblxuIjsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gLS0tIEV4Y2VwdGlvbiBoYW5kbGluZwoKCQl0cnkgewoJCQkkZGIt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJTRUxFQ1QgKiBmcm9tIEFCQ0RFRiIpOwoJCQllY2hvICJFeGNlcHRpb24gZm9yIERpcmVjdFF1ZXJ5OiAiLnJlZHRleHQoJ0ZBSUxFRCcpLiIsIG5vIEV4Y2VwdGlvbiB0aHJvd25cbiI7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCWlmICgo'));
	@fwrite($fp, base64_decode('c3RyaXBvcygkZS0+Z2V0TWVzc2FnZSgpLCAnQUJDREVGJykgIT09IGZhbHNlKSB8fCBpc19rbm93bl9lcnJvcm1zZygkZS0+Z2V0TWVzc2FnZSgpKSkgewoJCQkJZWNobyAiRXhjZXB0aW9uIGZvciBEaXJlY3RRdWVyeTogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJc'));
	@fwrite($fp, base64_decode('biI7CgkJCX0gZWxzZSB7CgkJCQllY2hvICJFeGNlcHRpb24gZm9yIERpcmVjdFF1ZXJ5OiAiLnJlZHRleHQoJ0ZBSUxFRCcpLiIsIGRvZXMgcHJvYmFibHkgbm90IGNvbnRhaW4gREJNUyBlcnJvciBzdHJpbmcgKCIuJGUtPmdldE1lc3NhZ2UoKS4iKVxuIjsKCQkJ'));
	@fwrite($fp, base64_decode('fQoJCX0KCgkJJG1zZyA9ICRkYi0+ZXJyb3IoKTsKCQlpZiAoKHN0cmlwb3MoJG1zZywgJ0FCQ0RFRicpICE9PSBmYWxzZSkgfHwgaXNfa25vd25fZXJyb3Jtc2coJG1zZykpIHsKCQkJZWNobyAiRXJyb3ItRnVuY3Rpb24gYWZ0ZXIgZmFpbGVkIGRpcmVjdCBxdWVy'));
	@fwrite($fp, base64_decode('eTogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJfSBlbHNlIHsKCQkJZWNobyAiRXJyb3ItRnVuY3Rpb24gYWZ0ZXIgZmFpbGVkIGRpcmVjdCBxdWVyeTogIi5yZWR0ZXh0KCdGQUlMRUQnKS4iLCBkb2VzIHByb2JhYmx5IG5vdCBjb250YWluIERCTVMgZXJy'));
	@fwrite($fp, base64_decode('b3Igc3RyaW5nICgkbXNnKVxuIjsKCQl9CgoJCXRyeSB7CgkJCSRkYi0+cXVlcnkoIlNFTEVDVCAqIGZyb20gRkVEQ0JBIiwgYXJyYXkoKSk7CgkJCWVjaG8gIkV4Y2VwdGlvbiBmb3IgUHJlcGFyZWRRdWVyeTogIi5yZWR0ZXh0KCdGQUlMRUQnKS4iLCBubyBFeGNl'));
	@fwrite($fp, base64_decode('cHRpb24gdGhyb3duXG4iOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQlpZiAoKHN0cmlwb3MoJGUtPmdldE1lc3NhZ2UoKSwgJ0ZFRENCQScpICE9PSBmYWxzZSkgfHwgaXNfa25vd25fZXJyb3Jtc2coJGUtPmdldE1lc3NhZ2UoKSkpIHsKCQkJCWVjaG8g'));
	@fwrite($fp, base64_decode('IkV4Y2VwdGlvbiBmb3IgUHJlcGFyZWRRdWVyeTogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJCX0gZWxzZSB7CgkJCQllY2hvICJFeGNlcHRpb24gZm9yIFByZXBhcmVkUXVlcnk6ICIucmVkdGV4dCgnRkFJTEVEJykuIiwgZG9lcyBwcm9iYWJseSBub3Qg'));
	@fwrite($fp, base64_decode('Y29udGFpbiBEQk1TIGVycm9yIHN0cmluZyAoIi4kZS0+Z2V0TWVzc2FnZSgpLiIpXG4iOwoJCQl9CgkJfQoKCQkkbXNnID0gJGRiLT5lcnJvcigpOwoJCWlmICgoc3RyaXBvcygkbXNnLCAnRkVEQ0JBJykgIT09IGZhbHNlKSB8fCBpc19rbm93bl9lcnJvcm1zZygk'));
	@fwrite($fp, base64_decode('bXNnKSkgewoJCQllY2hvICJFcnJvci1GdW5jdGlvbiBhZnRlciBmYWlsZWQgcHJlcGFyZWQgcXVlcnk6ICIuZ3JlZW50ZXh0KCdQQVNTRUQnKS4iXG4iOwoJCX0gZWxzZSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBwcmVwYXJlZCBxdWVy'));
	@fwrite($fp, base64_decode('eTogIi5yZWR0ZXh0KCdGQUlMRUQnKS4iLCBkb2VzIHByb2JhYmx5IG5vdCBjb250YWluIERCTVMgZXJyb3Igc3RyaW5nICgkbXNnKVxuIjsKCQl9CgoJCSRkYi0+cXVlcnkoInNlbGVjdCAxIik7CgkJJG1zZyA9ICRkYi0+ZXJyb3IoKTsKCQlpZiAoISRtc2cpIHsK'));
	@fwrite($fp, base64_decode('CQkJZWNobyAiRXJyb3ItRnVuY3Rpb24gZ2V0cyBjbGVhcmVkIGFmdGVyIG5vbi1mYWlsZWQgcXVlcnk6ICIuZ3JlZW50ZXh0KCdQQVNTRUQnKS4iXG4iOwoJCX0gZWxzZSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGdldHMgY2xlYXJlZCBhZnRlciBub24tZmFp'));
	@fwrite($fp, base64_decode('bGVkIHF1ZXJ5OiAiLnJlZHRleHQoJ0ZBSUxFRCcpLiIsIGRvZXMgcHJvYmFibHkgbm90IGNvbnRhaW4gREJNUyBlcnJvciBzdHJpbmdcbiI7CgkJfQoKCQkvLyAtLS0gQm9vbGVhbiBoYW5kbGluZwoKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQg'));
	@fwrite($fp, base64_decode('Y29uZmlkZW50aWFsID0gPyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciLCBhcnJheSh0cnVlKSk7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBjb25maWRlbnRpYWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSR2YWwgPSAkcmVz'));
	@fwrite($fp, base64_decode('LT5mZXRjaF9vYmplY3QoKS0+Y29uZmlkZW50aWFsOwoJCWVjaG8gIkJvb2xlYW4gaGFuZGxpbmcgVFJVRSB3aXRoIHByZXBhcmVkIHN0YXRlbWVudCAoZmV0Y2gpOiAiIC4gKCR2YWwgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJc'));
	@fwrite($fp, base64_decode('biI7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ICd0ZXN0OjEuMScgYW5kIGNvbmZpZGVudGlhbCA9ID8iLCBhcnJheSh0cnVlKSk7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpOwoJCWVjaG8gIkJv'));
	@fwrite($fp, base64_decode('b2xlYW4gaGFuZGxpbmcgVFJVRSB3aXRoIHByZXBhcmVkIHN0YXRlbWVudCAod2hlcmUpOiAiIC4gKCR2YWwgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgoJCSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCBj'));
	@fwrite($fp, base64_decode('b25maWRlbnRpYWwgPSA/IHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIsIGFycmF5KGZhbHNlKSk7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBjb25maWRlbnRpYWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSR2YWwgPSAkcmVz'));
	@fwrite($fp, base64_decode('LT5mZXRjaF9vYmplY3QoKS0+Y29uZmlkZW50aWFsOwoJCWVjaG8gIkJvb2xlYW4gaGFuZGxpbmcgRkFMU0Ugd2l0aCBwcmVwYXJlZCBzdGF0ZW1lbnQgKGZldGNoKTogIiAuICghJHZhbCA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSku'));
	@fwrite($fp, base64_decode('IlxuIjsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyBhbmQgY29uZmlkZW50aWFsID0gPyIsIGFycmF5KGZhbHNlKSk7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpOwoJCWVjaG8g'));
	@fwrite($fp, base64_decode('IkJvb2xlYW4gaGFuZGxpbmcgRkFMU0Ugd2l0aCBwcmVwYXJlZCBzdGF0ZW1lbnQgKHdoZXJlKTogIiAuICgkdmFsID8gZ3JlZW50ZXh0KCdQQVNTRUQnKSA6IHJlZHRleHQoJ0ZBSUxFRCcpKS4iXG4iOwoKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBz'));
	@fwrite($fp, base64_decode('ZXQgY29uZmlkZW50aWFsID0gJzEnIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOyAvLyBOT1RFOiBETyBOT1QgVVNFIFRISVMgSU4gVEhFIFNPVVJDRSBDT0RFISBBbHdheXMgdXNlIHByZXBhcmVkIHN0YXRlbWVudHMgZm9yIGNvbnN0YW50IGJvb2xlYW5zCgkJJHJl'));
	@fwrite($fp, base64_decode('cyA9ICRkYi0+cXVlcnkoInNlbGVjdCBjb25maWRlbnRpYWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSR2YWwgPSAkcmVzLT5mZXRjaF9vYmplY3QoKS0+Y29uZmlkZW50aWFsOwoJCWVjaG8gIkJvb2xlYW4gaGFuZGxpbmcgVFJV'));
	@fwrite($fp, base64_decode('RSB3aXRoIG5vcm1hbCBzdGF0ZW1lbnQgKGZldGNoKTogIiAuICgkdmFsID8gZ3JlZW50ZXh0KCdQQVNTRUQnKSA6IHJlZHRleHQoJ0ZBSUxFRCcpKS4iXG4iOwoJCWlmICgkZGItPmdldFNsYW5nKCk6OmlkKCkgPT0gJ2FjY2VzcycpIHsKCQkJLy8gTm90ZTogRm9y'));
	@fwrite($fp, base64_decode('IEFjY2VzcywgaXQgbXVzdCBiZSAxLCBub3QgJzEnCgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIGFuZCBjb25maWRlbnRpYWwgPSAxIik7IC8vIE5PVEU6IERPIE5PVCBVU0UgVEhJUyBJ'));
	@fwrite($fp, base64_decode('TiBUSEUgU09VUkNFIENPREUhIEFsd2F5cyB1c2UgcHJlcGFyZWQgc3RhdGVtZW50cyBmb3IgY29uc3RhbnQgYm9vbGVhbnMKCQl9IGVsc2UgewoJCQkvLyBOb3RlOiBGb3IgUGdTUUwsIGl0IG11c3QgYmUgJzEnLCB0cnVlLCAndHJ1ZScsICd0JywgYnV0IG5vdCAx'));
	@fwrite($fp, base64_decode('CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIGFuZCBjb25maWRlbnRpYWwgPSAnMSciKTsgLy8gTk9URTogRE8gTk9UIFVTRSBUSElTIElOIFRIRSBTT1VSQ0UgQ09ERSEgQWx3YXlzIHVz'));
	@fwrite($fp, base64_decode('ZSBwcmVwYXJlZCBzdGF0ZW1lbnRzIGZvciBjb25zdGFudCBib29sZWFucwoJCX0KCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCk7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBUUlVFIHdpdGggbm9ybWFsIHN0YXRlbWVudCAod2hlcmUpOiAiIC4gKCR2YWwg'));
	@fwrite($fp, base64_decode('PyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgoJCSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCBjb25maWRlbnRpYWwgPSAnMCcgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7IC8vIE5PVEU6IERPIE5PVCBVU0Ug'));
	@fwrite($fp, base64_decode('VEhJUyBJTiBUSEUgU09VUkNFIENPREUhIEFsd2F5cyB1c2UgcHJlcGFyZWQgc3RhdGVtZW50cyBmb3IgY29uc3RhbnQgYm9vbGVhbnMKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGNvbmZpZGVudGlhbCBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVz'));
	@fwrite($fp, base64_decode('dDoxLjEnIik7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT5jb25maWRlbnRpYWw7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBGQUxTRSB3aXRoIG5vcm1hbCBzdGF0ZW1lbnQgKGZldGNoKTogIiAuICghJHZhbCA/IGdyZWVudGV4dCgnUEFTU0VEJykg'));
	@fwrite($fp, base64_decode('OiByZWR0ZXh0KCdGQUlMRUQnKSkuIlxuIjsKCQlpZiAoJGRiLT5nZXRTbGFuZygpOjppZCgpID09ICdhY2Nlc3MnKSB7CgkJCS8vIE5vdGU6IEZvciBBY2Nlc3MsIGl0IG11c3QgYmUgMCwgbm90ICcwJwoJCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0ICogZnJv'));
	@fwrite($fp, base64_decode('bSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyBhbmQgY29uZmlkZW50aWFsID0gMCIpOyAvLyBOT1RFOiBETyBOT1QgVVNFIFRISVMgSU4gVEhFIFNPVVJDRSBDT0RFISBBbHdheXMgdXNlIHByZXBhcmVkIHN0YXRlbWVudHMgZm9yIGNvbnN0YW50IGJv'));
	@fwrite($fp, base64_decode('b2xlYW5zCgkJfSBlbHNlIHsKCQkJLy8gTm90ZTogRm9yIFBnU1FMLCBpdCBtdXN0IGJlICcwJywgZmFsc2UsICdmYWxzZScsICdmJywgYnV0IG5vdCAwCgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVz'));
	@fwrite($fp, base64_decode('dDoxLjEnIGFuZCBjb25maWRlbnRpYWwgPSAnMCciKTsgLy8gTk9URTogRE8gTk9UIFVTRSBUSElTIElOIFRIRSBTT1VSQ0UgQ09ERSEgQWx3YXlzIHVzZSBwcmVwYXJlZCBzdGF0ZW1lbnRzIGZvciBjb25zdGFudCBib29sZWFucwoJCX0KCQkkdmFsID0gJHJlcy0+'));
	@fwrite($fp, base64_decode('ZmV0Y2hfb2JqZWN0KCk7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBGQUxTRSB3aXRoIG5vcm1hbCBzdGF0ZW1lbnQgKHdoZXJlKTogIiAuICgkdmFsID8gZ3JlZW50ZXh0KCdQQVNTRUQnKSA6IHJlZHRleHQoJ0ZBSUxFRCcpKS4iXG4iOwoKCQkvLyAtLS0gQ2hl'));
	@fwrite($fp, base64_decode('Y2sgaWYgdHJhbnNhY3Rpb25zIHdvcmsKCgkJaWYgKCRkYi0+dHJhbnNhY3Rpb25fc3VwcG9ydGVkKCkpIHsKCQkJZWNobyAiVHJhbnNhY3Rpb24gc3VwcG9ydDogIiAuIGdyZWVudGV4dCgnU3VwcG9ydGVkJykgLiJcbiI7CgoJCQkkZGItPnF1ZXJ5KCJ1cGRhdGUg'));
	@fwrite($fp, base64_decode('IyMjb2JqZWN0cyBzZXQgdGl0bGUgPSAnQScgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJCSRkYi0+dHJhbnNhY3Rpb25fYmVnaW4oKTsKCQkJJGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IHRpdGxlID0gJ0InIHdoZXJlIGlkID0gJ3Rlc3Q6MS4x'));
	@fwrite($fp, base64_decode('JyIpOwoJCQkkZGItPnRyYW5zYWN0aW9uX3JvbGxiYWNrKCk7CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgdGl0bGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPnRpdGxl'));
	@fwrite($fp, base64_decode('OwoJCQllY2hvICJUcmFuc2FjdGlvbiByb2xsYmFjazogIiAuICgkdmFsID09ICdBJyA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIlxuIjsKCgkJCSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCB0aXRsZSA9ICdBJyB3'));
	@fwrite($fp, base64_decode('aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkJJGRiLT50cmFuc2FjdGlvbl9iZWdpbigpOwoJCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgdGl0bGUgPSAnQicgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJCSRkYi0+dHJhbnNhY3Rpb25fY29t'));
	@fwrite($fp, base64_decode('bWl0KCk7CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgdGl0bGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPnRpdGxlOwoJCQllY2hvICJUcmFuc2FjdGlvbiBjb21taXQ6'));
	@fwrite($fp, base64_decode('ICIgLiAoJHZhbCA9PSAnQicgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgkJfSBlbHNlIHsKCQkJZWNobyAiVHJhbnNhY3Rpb24gc3VwcG9ydDogIiAuIHJlZHRleHQoJ05vdCBzdXBwb3J0ZWQnKSAuIlxuIjsKCQl9CgoJ'));
	@fwrite($fp, base64_decode('CS8vIC0tLSBUZXN0IGluc2VydF9pZCgpCgoJCSRkYi0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI2xvZ19vYmplY3Qgd2hlcmUgb2JqZWN0ID0gJ3Rlc3Q6MSciKTsKCQkkY3VyID0gJGRiLT5pbnNlcnRfaWQoKTsKCQllY2hvICJJbnNlcnQgSUQgb24gbm9uLWluc2Vy'));
	@fwrite($fp, base64_decode('dDogIiAuICgkY3VyID09IDAgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRjdXIpXG4iOwoJCSRkYi0+cXVlcnkoImluc2VydCBpbnRvICMjI2xvZ19vYmplY3QgKGxvZ19pZCwgc2V2ZXJpdHksIG9iamVjdCkgdmFsdWVzICgx'));
	@fwrite($fp, base64_decode('MDAwLCAwLCAndGVzdDoxJykiKTsKCQkkcHJldiA9ICRkYi0+aW5zZXJ0X2lkKCk7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjbG9nX29iamVjdCAobG9nX2lkLCBzZXZlcml0eSwgb2JqZWN0KSB2YWx1ZXMgKDIwMDAsIDEsICd0ZXN0OjEnKSIpOwoJCSRj'));
	@fwrite($fp, base64_decode('dXIgPSAkZGItPmluc2VydF9pZCgpOwoJCWVjaG8gIkluc2VydCBJRCBvbiBhY3R1YWwgaW5zZXJ0czogIiAuICgkY3VyID09ICRwcmV2KzEgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRwcmV2ID0+ICRjdXIpXG4iOwoJCWlm'));
	@fwrite($fp, base64_decode('ICgkY3VyICE9ICRwcmV2KzEpOwoJCSRkYi0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI2xvZ19vYmplY3Qgd2hlcmUgb2JqZWN0ID0gJ3Rlc3Q6MSciKTsKCQkkY3VyID0gJGRiLT5pbnNlcnRfaWQoKTsKCQllY2hvICJOb24tSW5zZXJ0IHF1ZXJ5IHdpbGwgcmVzZXQg'));
	@fwrite($fp, base64_decode('aW5zZXJ0IElEOiAiIC4gKCRjdXIgPT0gMCA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIiAoJGN1cilcbiI7CgoJfSBmaW5hbGx5IHsKCQl0cnkgewoJCQkkZGItPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBh'));
	@fwrite($fp, base64_decode('cmVudCA9ICd0ZXN0OjEnIik7CgkJfWNhdGNoKEV4Y2VwdGlvbiAkZSkge30KCX0KCSRkYi0+ZGlzY29ubmVjdCgpOwoJZWNobyAiXG4iOwp9CgovKioKICogQHBhcmFtIHN0cmluZyAkc3RyCiAqIEByZXR1cm4gc3RyaW5nCiAqLwpmdW5jdGlvbiByZWR0ZXh0KHN0'));
	@fwrite($fp, base64_decode('cmluZyAkc3RyKTogc3RyaW5nIHsKCWdsb2JhbCAkbnVtX2VycnM7CgkkbnVtX2VycnMrKzsKCXJldHVybiBQSFBfU0FQSSA9PSAnY2xpJyA/ICJcMDMzWzMxbSRzdHJcMDMzWzBtIiA6ICc8Zm9udCBjb2xvcj0icmVkIj4nLiRzdHIuJzwvZm9udD4nOwp9CgovKioK'));
	@fwrite($fp, base64_decode('ICogQHBhcmFtIHN0cmluZyAkc3RyCiAqIEByZXR1cm4gc3RyaW5nCiAqLwpmdW5jdGlvbiBncmVlbnRleHQoc3RyaW5nICRzdHIpOiBzdHJpbmcgewoJZ2xvYmFsICRudW1fc3VjYzsKCSRudW1fc3VjYysrOwoJcmV0dXJuIFBIUF9TQVBJID09ICdjbGknID8gIlww'));
	@fwrite($fp, base64_decode('MzNbMzJtJHN0clwwMzNbMG0iIDogJzxmb250IGNvbG9yPSJncmVlbiI+Jy4kc3RyLic8L2ZvbnQ+JzsKfQoKLyoqCiAqIEBwYXJhbSBzdHJpbmcgJG1zZwogKiBAcmV0dXJuIGJvb2wKICovCmZ1bmN0aW9uIGlzX2tub3duX2Vycm9ybXNnKHN0cmluZyAkbXNnKTog'));
	@fwrite($fp, base64_decode('Ym9vbCB7CgkvLyBPcmFjbGU6CgkvL0Vycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBkaXJlY3QgcXVlcnk6CgkvLwk9PT4gT0NJU3RtdEV4ZWN1dGU6IE9SQS0wMDk0MjogdGFibGUgb3IgdmlldyBkb2VzIG5vdCBleGlzdCAgKGV4dFxwZG9fb2NpXG9jaV9zdGF0'));
	@fwrite($fp, base64_decode('ZW1lbnQuYzoxNTUpCgkvL0Vycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBwcmVwYXJlZCBxdWVyeToKCS8vCT09PiBPQ0lCaW5kQnlQb3M6IE9SQS0wMTAzNjogaWxsZWdhbCB2YXJpYWJsZSBuYW1lL251bWJlciAoZXh0XHBkb19vY2lcb2NpX3N0YXRlbWVudC5j'));
	@fwrite($fp, base64_decode('OjM0NikKCXJldHVybiBzdHJwb3MoJG1zZywnT1JBLScpICE9PSBmYWxzZTsKfQo='));
	@fclose($fp);
}
if (!is_file('dev/test_database_plugins')) {
	warn('File has vanished! Will re-create it: dev/test_database_plugins');
	writefile_1();
	if (!is_file('dev/test_database_plugins')) {
		warn('File cannot be created (not existing): dev/test_database_plugins');
	} else if (sha1_file('dev/test_database_plugins') != '12851ac9eadb41d48f69a591e7fa963fac12c4c1') {
		warn('File cannot be created (checksum mismatch): dev/test_database_plugins');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('dev/test_database_plugins', 0755)) {
		warn('Could not change file permissions of dev/test_database_plugins');
	}
} else {
	if (@sha1_file('dev/test_database_plugins') !== '12851ac9eadb41d48f69a591e7fa963fac12c4c1') {
		if (@sha1_file('dev/test_database_plugins') !== '8260805153376b12ca3814b30c219b8aa74630ad') {
			warn('File was modified. Will overwrite the changes now: dev/test_database_plugins');
			$tmp = pathinfo('dev/test_database_plugins');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('dev/test_database_plugins')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('dev/test_database_plugins', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('dev/test_database_plugins') !== '12851ac9eadb41d48f69a591e7fa963fac12c4c1') {
			warn('File cannot be written (checksum mismatch): dev/test_database_plugins');
		}
	}
}

// Files different: includes/classes/OIDplusDatabaseConnection.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplusDatabaseConnection.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKYWJzdHJhY3QgY2xhc3MgT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbiBleHRlbmRzIE9JRHBsdXNCYXNlQ2xhc3MgewoJLyoqCgkgKiBAdmFyIGJvb2wKCSAqLwoJcHJvdGVjdGVkIC8qYm9v'));
	@fwrite($fp, base64_decode('bCovICRjb25uZWN0ZWQgPSBmYWxzZTsKCgkvKioKCSAqIEB2YXIgYm9vbHxudWxsCgkgKi8KCXByb3RlY3RlZCAvKj9ib29sKi8gJGh0bWwgPSBudWxsOwoKCS8qKgoJICogQHZhciBzdHJpbmd8bnVsbAoJICovCglwcm90ZWN0ZWQgLyo/c3RyaW5nKi8gJGxhc3Rf'));
	@fwrite($fp, base64_decode('cXVlcnkgPSBudWxsOwoKCS8qKgoJICogQHZhciBib29sCgkgKi8KCXByb3RlY3RlZCAvKmJvb2wqLyAkc2xhbmdEZXRlY3Rpb25Eb25lID0gZmFsc2U7CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRzcWwKCSAqIEBwYXJhbSBhcnJheXxudWxsICRwcmVwYXJlZF9h'));
	@fwrite($fp, base64_decode('cmdzCgkgKiBAcmV0dXJuIE9JRHBsdXNRdWVyeVJlc3VsdAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXByb3RlY3RlZCBhYnN0cmFjdCBmdW5jdGlvbiBkb1F1ZXJ5KHN0cmluZyAkc3FsLCBhcnJheSAkcHJlcGFyZWRfYXJncz1udWxsKTogT0lE'));
	@fwrite($fp, base64_decode('cGx1c1F1ZXJ5UmVzdWx0OwoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGVycm9yKCk6IHN0cmluZzsKCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgYWJzdHJhY3QgZnVuY3Rpb24gdHJhbnNh'));
	@fwrite($fp, base64_decode('Y3Rpb25fYmVnaW4oKS8qOiB2b2lkKi87CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpLyo6IHZvaWQqLzsKCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgYWJz'));
	@fwrite($fp, base64_decode('dHJhY3QgZnVuY3Rpb24gdHJhbnNhY3Rpb25fcm9sbGJhY2soKS8qOiB2b2lkKi87CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpOiBib29sOwoKCS8qKgoJICogQHJldHVy'));
	@fwrite($fp, base64_decode('biBpbnQKCSAqLwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2xldmVsKCk6IGludDsKCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwcm90ZWN0ZWQgYWJzdHJhY3QgZnVuY3Rpb24gZG9Db25uZWN0KCkvKjogdm9pZCovOwoKCS8qKgoJ'));
	@fwrite($fp, base64_decode('ICogQHJldHVybiB2b2lkCgkgKi8KCXByb3RlY3RlZCBhYnN0cmFjdCBmdW5jdGlvbiBkb0Rpc2Nvbm5lY3QoKS8qOiB2b2lkKi87CgoJLyoqCgkgKiBAcmV0dXJuIE9JRHBsdXNEYXRhYmFzZVBsdWdpbnxudWxsCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRQbHVn'));
	@fwrite($fp, base64_decode('aW4oKS8qOiA/T0lEcGx1c0RhdGFiYXNlUGx1Z2luKi8gewoJCSRwbHVnaW5zID0gT0lEcGx1czo6Z2V0RGF0YWJhc2VQbHVnaW5zKCk7CgkJZm9yZWFjaCAoJHBsdWdpbnMgYXMgJHBsdWdpbikgewoJCQlpZiAoZ2V0X2NsYXNzKCR0aGlzKSA9PSBnZXRfY2xhc3Mo'));
	@fwrite($fp, base64_decode('JHBsdWdpbjo6bmV3Q29ubmVjdGlvbigpKSkgewoJCQkJcmV0dXJuICRwbHVnaW47CgkJCX0KCQl9CgkJcmV0dXJuIG51bGw7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGludAoJICogQHRocm93cyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24KCSAq'));
	@fwrite($fp, base64_decode('IEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9JbnNlcnRJZCgpOiBpbnQgewoJCS8vIFRoaXMgaXMgdGhlICJmYWxsYmFjayIgdmFyaWFudC4gSWYgeW91ciBkYXRhYmFzZSBwcm92aWRlciAoZS5nLiBQRE8pIHN1cHBv'));
	@fwrite($fp, base64_decode('cnRzCgkJLy8gYSBmdW5jdGlvbiB0byBkZXRlY3QgdGhlIGxhc3QgaW5zZXJ0ZWQgaWQsIHBsZWFzZSBvdmVycmlkZSB0aGlzCgkJLy8gZnVuY3Rpb24gaW4gb3JkZXIgdG8gdXNlIHRoYXQgc3BlY2lhbGl6ZWQgZnVuY3Rpb24gKHNpbmNlIGl0IGlzIHVzdWFsbHkK'));
	@fwrite($fp, base64_decode('CQkvLyBtb3JlIHJlbGlhYmxlKS4KCQlyZXR1cm4gJHRoaXMtPmdldFNsYW5nKCktPmluc2VydF9pZCgkdGhpcyk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGludAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBp'));
	@fwrite($fp, base64_decode('bnNlcnRfaWQoKTogaW50IHsKCQkvLyBETSAwNCBBcHIgMjAyMzogQWRkZWQsIGJlY2F1c2UgTVNTUUwncyBAQElERU5USVRZLCBQZ1NRTCwgYW5kIFNRTGl0ZTMgZG9lcyBub3QgcmVzZXQgYWZ0ZXIKCQkvLyBhIE5vbi1JbnNlcnQgcXVlcnkgKHRoaXMgaXMgYSB0'));
	@fwrite($fp, base64_decode('ZXN0IGNhc2UgaW4gZGV2L3Rlc3RfZGF0YWJhc2VfcGx1Z2lucykuCgkJLy8gTm90ZSB0aGF0IHRoZSBJTlNFUlQgY291bGQgYmUgaGlkZGVuIGluc2lkZSBhIFN0b3JlZCBQcm9jZWR1cmU7IHdlIGRvbid0IHN1cHBvcnQgKG9yIG5lZWQpIHRoYXQgeWV0LgoJCWlm'));
	@fwrite($fp, base64_decode('ICghc3RyX3N0YXJ0c193aXRoKHRyaW0oc3RydG9sb3dlcigkdGhpcy0+bGFzdF9xdWVyeSkpLCdpbnNlcnQnKSkgcmV0dXJuIDA7CgoJCXJldHVybiAkdGhpcy0+ZG9JbnNlcnRJZCgpOwoJfQoKCS8qKgoJICogR2V0IHRoZSByb3dzIGFmZmVjdGVkLCBmb3IgZWl0'));
	@fwrite($fp, base64_decode('aGVyIFNFTEVDVCwgSU5TRVJULCBERUxFVEUsIFVQREFURQoJICogQHJldHVybiBpbnQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJvd3NBZmZlY3RlZCgpOiBpbnQgewoJCXJldHVybiAtMTsgLy8gLTEgbWVhbnMgbm90IGltcGxlbWVudGVkCgl9CgoJLyoqCgkgKiBA'));
	@fwrite($fp, base64_decode('cGFyYW0gc3RyaW5nICRzcWwKCSAqIEByZXR1cm4gYXJyYXlbXQoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBnZXRUYWJsZShzdHJpbmcgJHNxbCk6IGFycmF5IHsKCQkkb3V0ID0gYXJyYXkoKTsKCQkkcmVz'));
	@fwrite($fp, base64_decode('ID0gJHRoaXMtPnF1ZXJ5KCRzcWwpOwoJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkkb3V0W10gPSAvKnlpZWxkKi8gJHJvdzsKCQl9CgkJcmV0dXJuICRvdXQ7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRzcWwKCSAqIEByZXR1'));
	@fwrite($fp, base64_decode('cm4gbWl4ZWR8bnVsbAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBnZXRTY2FsYXIoc3RyaW5nICRzcWwpIHsKCQkkcmVzID0gJHRoaXMtPnF1ZXJ5KCRzcWwpOwoJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJh'));
	@fwrite($fp, base64_decode('eSgpOwoJCXJldHVybiAkcm93ID8gcmVzZXQoJHJvdykgOiBudWxsOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkc3FsCgkgKiBAcGFyYW0gYXJyYXl8bnVsbCAkcHJlcGFyZWRfYXJncwoJICogQHJldHVybiBPSURwbHVzUXVlcnlSZXN1bHQKCSAqIEB0aHJv'));
	@fwrite($fp, base64_decode('d3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZmluYWwgZnVuY3Rpb24gcXVlcnkoc3RyaW5nICRzcWwsIGFycmF5ICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURwbHVzUXVlcnlSZXN1bHQgewoKCQkkcXVlcnlfbG9nZmlsZSA9IE9JRHBsdXM6OmJhc2VD'));
	@fwrite($fp, base64_decode('b25maWcoKS0+Z2V0VmFsdWUoJ1FVRVJZX0xPR0ZJTEUnLCAnJyk7CgkJaWYgKCFlbXB0eSgkcXVlcnlfbG9nZmlsZSkpIHsKCQkJJHRzID0gZXhwbG9kZSgiICIsbWljcm90aW1lKCkpOwoJCQkkdHMgPSBkYXRlKCJZLW0tZCBIOmk6cyIsaW50dmFsKCR0c1sxXSkp'));
	@fwrite($fp, base64_decode('LnN1YnN0cigoc3RyaW5nKSR0c1swXSwxLDQpOwoJCQlzdGF0aWMgJGxvZ19zZXNzaW9uX2lkID0gIiI7CgkJCWlmIChlbXB0eSgkbG9nX3Nlc3Npb25faWQpKSB7CgkJCQkkbG9nX3Nlc3Npb25faWQgPSByYW5kKDEwMDAwLDk5OTk5KTsKCQkJfQoJCQkkZmlsZSA9'));
	@fwrite($fp, base64_decode('IGlzc2V0KCRfU0VSVkVSWydSRVFVRVNUX1VSSSddKSA/ICcgfCAnLiRfU0VSVkVSWydSRVFVRVNUX1VSSSddIDogJyc7CgkJCWZpbGVfcHV0X2NvbnRlbnRzKCRxdWVyeV9sb2dmaWxlLCAiJHRzIDwkbG9nX3Nlc3Npb25faWQkZmlsZT4gJHNxbFxuIiwgRklMRV9B'));
	@fwrite($fp, base64_decode('UFBFTkQpOwoJCX0KCgkJJHRoaXMtPmxhc3RfcXVlcnkgPSAkc3FsOwoJCSRzcWwgPSBzdHJfcmVwbGFjZSgnIyMjJywgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnVEFCTEVOQU1FX1BSRUZJWCcsICcnKSwgJHNxbCk7CgoJCWlmICgkdGhpcy0+c2xh'));
	@fwrite($fp, base64_decode('bmdEZXRlY3Rpb25Eb25lKSB7CgkJCSRzbGFuZyA9ICR0aGlzLT5nZXRTbGFuZygpOwoJCQlpZiAoJHNsYW5nKSB7CgkJCQkkc3FsID0gJHNsYW5nLT5maWx0ZXJRdWVyeSgkc3FsKTsKCQkJfQoJCX0KCgkJcmV0dXJuICR0aGlzLT5kb1F1ZXJ5KCRzcWwsICRwcmVw'));
	@fwrite($fp, base64_decode('YXJlZF9hcmdzKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBjb25uZWN0KCkvKjogdm9pZCovIHsKCQlpZiAoJHRoaXMtPmNvbm5lY3RlZCkgcmV0dXJuOwoK'));
	@fwrite($fp, base64_decode('CQkkYmNLZXlzID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRBbGxLZXlzKCk7CgkJZm9yZWFjaCAoJGJjS2V5cyBhcyAkYmtLZXkpIHsKCQkJJHZhbCA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJGJrS2V5LCAnJyk7CgkJCWlmIChpc19zdHJp'));
	@fwrite($fp, base64_decode('bmcoJHZhbCkgJiYgcHJlZ19tYXRjaCgnQCh1c2VyZGF0YVsvXFxcXF1kYXRhYmFzZVsvXFxcXF1vaWRwbHVzXyhlbXB0eXxleGFtcGxlKVxcLihkYnxkYjN8c3FsaXRlfHNxbGl0ZTN8bWRifGFjY2RiKSlAaScsICR2YWwsICRtKSkgewoJCQkJdGhyb3cgbmV3IE9J'));
	@fwrite($fp, base64_decode('RHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbihfTCgnSXQgbG9va3MgbGlrZSB5b3UgYXJlIHRyeWluZyB0byB1c2UgdGhlIHRlbXBsYXRlIGRhdGFiYXNlIGZpbGUgJTEgaW4geW91ciBiYXNlIGNvbmZpZ3VyYXRpb24uIFNpbmNlIHRoaXMgZmlsZSBn'));
	@fwrite($fp, base64_decode('ZXRzIG92ZXJyaWRkZW4gYnkgc29mdHdhcmUgdXBkYXRlcywgeW91IG11c3QgY29weSB0aGUgdGVtcGxhdGUgZmlsZSBhbmQgdXNlIHRoaXMgY29weSBpbnN0ZWFkLicsICRtWzFdKSk7CgkJCX0KCQl9CgoJCSR0aGlzLT5iZWZvcmVDb25uZWN0KCk7CgkJJHRoaXMt'));
	@fwrite($fp, base64_decode('PmRvQ29ubmVjdCgpOwoJCSR0aGlzLT5jb25uZWN0ZWQgPSB0cnVlOwoJCU9JRHBsdXM6OnJlZ2lzdGVyX3NodXRkb3duX2Z1bmN0aW9uKGFycmF5KCR0aGlzLCAnZGlzY29ubmVjdCcpKTsKCQkkdGhpcy0+YWZ0ZXJDb25uZWN0TWFuZGF0b3J5KCk7CgkJJHRoaXMt'));
	@fwrite($fp, base64_decode('PmFmdGVyQ29ubmVjdCgpOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBkaXNjb25uZWN0KCkvKjogdm9pZCovIHsKCQlpZiAoISR0aGlzLT5jb25uZWN0ZWQpIHJldHVybjsKCQkkdGhpcy0+YmVmb3JlRGlzY29u'));
	@fwrite($fp, base64_decode('bmVjdCgpOwoJCSR0aGlzLT5kb0Rpc2Nvbm5lY3QoKTsKCQkkdGhpcy0+Y29ubmVjdGVkID0gZmFsc2U7CgkJJHRoaXMtPmFmdGVyRGlzY29ubmVjdCgpOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKi8KCXByb3RlY3RlZCBmdW5jdGlvbiBiZWZvcmVEaXNj'));
	@fwrite($fp, base64_decode('b25uZWN0KCkvKjogdm9pZCovIHt9CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHJvdGVjdGVkIGZ1bmN0aW9uIGFmdGVyRGlzY29ubmVjdCgpLyo6IHZvaWQqLyB7fQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKi8KCXByb3RlY3RlZCBmdW5jdGlvbiBi'));
	@fwrite($fp, base64_decode('ZWZvcmVDb25uZWN0KCkvKjogdm9pZCovIHt9CgoJLyoqCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHJvdGVjdGVkIGZ1bmN0aW9uIGFmdGVyQ29ubmVjdCgpLyo6IHZvaWQqLyB7fQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNDb25m'));
	@fwrite($fp, base64_decode('aWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbgoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gYWZ0ZXJDb25uZWN0TWFuZGF0b3J5KCkvKjogdm9pZCovIHsKCQkvLyBJbiBjYXNlIGFuIGF1dG8tZGV0ZWN0aW9uIG9mIHRo'));
	@fwrite($fp, base64_decode('ZSBzbGFuZyBpcyByZXF1aXJlZCAoZm9yIGdlbmVyaWMgcHJvdmlkZXJzIGxpa2UgUERPIG9yIE9EQkMpLAoJCS8vIHdlIG11c3Qgbm90IGJlIGluc2lkZSBhIHRyYW5zYWN0aW9uLCBiZWNhdXNlIHRoZSBkZXRlY3Rpb24gcmVxdWlyZXMgaW50ZW50aW9uYWxseSBz'));
	@fwrite($fp, base64_decode('dWJtaXR0aW5nCgkJLy8gaW52YWxpZCBxdWVyaWVzIHRvIGRldGVjdCB0aGUgY29ycmVjdCBEQk1TLiBJZiB3ZSB3b3VsZCBiZSBpbnNpZGUgYSB0cmFuc2FjdGlvbiwgcHJvdmlkZXJzIGxpa2UKCQkvLyBQRE8gd291bGQgYXV0b21hdGljYWxseSByb2xsLWJhY2su'));
	@fwrite($fp, base64_decode('IFRoZXJlZm9yZSwgd2UgZGV0ZWN0IHRoZSBzbGFuZyByaWdodCBhdCB0aGUgYmVnaW5uaW5nLAoJCS8vIGJlZm9yZSBhbnkgdHJhbnNhY3Rpb24gaXMgdXNlZC4KCQkkdGhpcy0+Z2V0U2xhbmcoKTsKCgkJLy8gQ2hlY2sgaWYgdGhlIGNvbmZpZyB0YWJsZSBleGlz'));
	@fwrite($fp, base64_decode('dHMuIFRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgdGhlIGRhdGFiYXNlIHZlcnNpb24gaXMgc3RvcmVkIGluIGl0CgkJJHRoaXMtPmluaXRSZXF1aXJlVGFibGVzKGFycmF5KCdjb25maWcnKSk7CgoJCS8vIERvIHRoZSBkYXRhYmFzZSB0YWJsZXMgbmVlZCBhbiB1'));
	@fwrite($fp, base64_decode('cGRhdGU/CgkJLy8gSXQgaXMgaW1wb3J0YW50IHRoYXQgd2UgZG8gaXQgaW1tZWRpYXRlbHkgYWZ0ZXIgY29ubmVjdGluZywKCQkvLyBiZWNhdXNlIHRoZSBkYXRhYmFzZSBzdHJ1Y3R1cmUgbWlnaHQgY2hhbmdlIGFuZCB0aGVyZWZvcmUgdmFyaW91cyB0aGluZ3Mg'));
	@fwrite($fp, base64_decode('bWlnaHQgZmFpbC4KCQlyZXF1aXJlX29uY2UgX19ESVJfXy4nLy4uL2RiX3VwZGF0ZXMvcnVuLmluYy5waHAnOwoJCW9pZHBsdXNfZGJ1cGRhdGUoJHRoaXMpOwoKCQkvLyBOb3cgdGhhdCBvdXIgZGF0YWJhc2UgaXMgdXAtdG8tZGF0ZSwgd2UgY2hlY2sgaWYgZGF0'));
	@fwrite($fp, base64_decode('YWJhc2UgdGFibGVzIGFyZSBleGlzdGluZwoJCS8vIHdpdGhvdXQgY29uZmlnIHRhYmxlLCBiZWNhdXNlIGl0IHdhcyBjaGVja2VkIGFib3ZlCgkJJHRoaXMtPmluaXRSZXF1aXJlVGFibGVzKGFycmF5KCdvYmplY3RzJywgJ2FzbjFpZCcsICdpcmknLCAncmEnLyos'));
	@fwrite($fp, base64_decode('ICdjb25maWcnKi8pKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmdbXSAkdGFibGVOYW1lcwoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbgoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('CgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gaW5pdFJlcXVpcmVUYWJsZXMoYXJyYXkgJHRhYmxlTmFtZXMpLyo6IHZvaWQqLyB7CgkJJG1zZ3MgPSBhcnJheSgpOwoJCWZvcmVhY2ggKCR0YWJsZU5hbWVzIGFzICR0YWJsZU5hbWUpIHsKCQkJJHByZWZpeCA9IE9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1RBQkxFTkFNRV9QUkVGSVgnLCAnJyk7CgkJCWlmICghJHRoaXMtPnRhYmxlRXhpc3RzKCRwcmVmaXguJHRhYmxlTmFtZSkpIHsKCQkJCSRtc2dzW10gPSBfTCgnVGFibGUgJTEgaXMgbWlzc2luZyEnLCRwcmVmaXgu'));
	@fwrite($fp, base64_decode('JHRhYmxlTmFtZSk7CgkJCX0KCQl9CgkJLy8gVE9ETzogSWYgdGhlcmUgaXMgYSBnZW5lcmFsIGRhdGFiYXNlIGVycm9yIChlLmcuIGxvY2tlZCBkYXRhYmFzZSwgZXRjLikgdGhlbiB5b3Ugd2lsbCByZWNlaXZlIHRoZSBmYWxzZSB3YXJuaW5nICJUYWJsZSBvaWRw'));
	@fwrite($fp, base64_decode('bHVzX2NvbmZpZyBtaXNzaW5nIgoJCWlmIChjb3VudCgkbXNncykgPiAwKSB7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oaW1wbG9kZSgiXG5cbiIsJG1zZ3MpKTsKCQl9Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5n'));
	@fwrite($fp, base64_decode('ICR0YWJsZU5hbWUKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gdGFibGVFeGlzdHMoc3RyaW5nICR0YWJsZU5hbWUpOiBib29sIHsKCQl0cnkgewoJCQkvLyBBdHRlbnRpb246IFRoaXMgcXVlcnkgY291bGQgaW50ZXJydXB0IHRyYW5zYWN0'));
	@fwrite($fp, base64_decode('aW9ucyBpZiBSb2xsYmFjay1Pbi1FcnJvciBpcyBlbmFibGVkCgkJCSR0aGlzLT5xdWVyeSgic2VsZWN0IDAgZnJvbSAiLiR0YWJsZU5hbWUuIiB3aGVyZSAxPTAiKTsKCQkJcmV0dXJuIHRydWU7CgkJfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoJCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('ZmFsc2U7CgkJfQoJfQoKCS8qKgoJICogQHJldHVybiBib29sCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc0Nvbm5lY3RlZCgpOiBib29sIHsKCQlyZXR1cm4gJHRoaXMtPmNvbm5lY3RlZDsKCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICRodG1sCgkgKiBAcmV0dXJu'));
	@fwrite($fp, base64_decode('IHZvaWQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGluaXQoYm9vbCAkaHRtbCA9IHRydWUpLyo6IHZvaWQqLyB7CgkJJHRoaXMtPmh0bWwgPSAkaHRtbDsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJ'));
	@fwrite($fp, base64_decode('cHVibGljIGZ1bmN0aW9uIHNxbERhdGUoKTogc3RyaW5nIHsKCQkkc2xhbmcgPSAkdGhpcy0+Z2V0U2xhbmcoKTsKCQlpZiAoIWlzX251bGwoJHNsYW5nKSkgewoJCQlyZXR1cm4gJHNsYW5nLT5zcWxEYXRlKCk7CgkJfSBlbHNlIHsKCQkJLy8gRmFsbGJhY2s6IFRh'));
	@fwrite($fp, base64_decode('a2UgdGhlIHNlcnZlciBkYXRlCgkJCXJldHVybiAiJyIgLiBkYXRlKCdZLW0tZCBIOmk6cycpIC4gIiciOwoJCX0KCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICRtdXN0RXhpc3QKCSAqIEByZXR1cm4gT0lEcGx1c1NxbFNsYW5nUGx1Z2lufG51bGwKCSAqIEB0aHJv'));
	@fwrite($fp, base64_decode('d3MgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHJvdGVjdGVkIGZ1bmN0aW9uIGRvR2V0U2xhbmcoYm9vbCAkbXVzdEV4aXN0PXRydWUpLyo6ID9PSURwbHVzU3FsU2xhbmdQbHVn'));
	@fwrite($fp, base64_decode('aW4qLyB7CgkJJHJlcyA9IG51bGw7CgoJCWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmV4aXN0cygnRk9SQ0VfREJNU19TTEFORycpKSB7CgkJCSRuYW1lID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnRk9SQ0VfREJNU19TTEFORycsICcnKTsK'));
	@fwrite($fp, base64_decode('CQkJJHJlcyA9IE9JRHBsdXM6OmdldFNxbFNsYW5nUGx1Z2luKCRuYW1lKTsKCQkJaWYgKCRtdXN0RXhpc3QgJiYgaXNfbnVsbCgkcmVzKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbihfTCgnRW5mb3JjZWQgU1FM'));
	@fwrite($fp, base64_decode('IHNsYW5nICh2aWEgc2V0dGluZyBGT1JDRV9EQk1TX1NMQU5HKSAiJTEiIGRvZXMgbm90IGV4aXN0LicsJG5hbWUpKTsKCQkJfQoJCX0gZWxzZSB7CgkJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFNxbFNsYW5nUGx1Z2lucygpIGFzICRwbHVnaW4pIHsKCQkJCWlmICgk'));
	@fwrite($fp, base64_decode('cGx1Z2luLT5kZXRlY3QoJHRoaXMpKSB7CgkJCQkJaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RFQlVHJykgJiYgIWlzX251bGwoJHJlcykpIHsKCgkJCQkJCSRkZXRlY3RlZCA9IGFycmF5KCk7CgkJCQkJCWZvcmVhY2ggKE9JRHBsdXM6Omdl'));
	@fwrite($fp, base64_decode('dFNxbFNsYW5nUGx1Z2lucygpIGFzICRwbHVnaW4pIHsKCQkJCQkJCWlmICgkcGx1Z2luLT5kZXRlY3QoJHRoaXMpKSB7CgkJCQkJCQkJJGRldGVjdGVkW10gPSBnZXRfY2xhc3MoJHBsdWdpbik7CgkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJCXRocm93IG5ldyBPSURw'));
	@fwrite($fp, base64_decode('bHVzRXhjZXB0aW9uKF9MKCdEQi1TbGFuZyBkZXRlY3Rpb24gZmFpbGVkOiBNdWx0aXBsZSBzbGFuZ3Mgd2VyZSBkZXRlY3RlZCAoJTEpLiBVc2UgYmFzZSBjb25maWcgc2V0dGluZyBGT1JDRV9EQk1TX1NMQU5HIHRvIGRlZmluZSBvbmUuJywgaW1wbG9kZSgnLCAn'));
	@fwrite($fp, base64_decode('LCRkZXRlY3RlZCkpKTsKCQkJCQl9CgoJCQkJCSRyZXMgPSAkcGx1Z2luOwoKCQkJCQlpZiAoIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RFQlVHJykpIHsKCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfQoJCQl9CgkJCWlmICgkbXVzdEV4aXN0ICYm'));
	@fwrite($fp, base64_decode('IGlzX251bGwoJHJlcykpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdDYW5ub3QgZGV0ZXJtaW5lIHRoZSBTUUwgc2xhbmcgb2YgeW91ciBEQk1TLiBZb3VyIERCTVMgaXMgcHJvYmFibHkgbm90IHN1cHBvcnRlZC4nKSk7CgkJCX0KCQl9CgoJ'));
	@fwrite($fp, base64_decode('CXJldHVybiAkcmVzOwoJfQoKCS8qKgoJICogQHBhcmFtIGJvb2wgJG11c3RFeGlzdAoJICogQHJldHVybiBPSURwbHVzU3FsU2xhbmdQbHVnaW58bnVsbAoJICogQHRocm93cyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24KCSAqIEB0aHJvd3Mg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZmluYWwgZnVuY3Rpb24gZ2V0U2xhbmcoYm9vbCAkbXVzdEV4aXN0PXRydWUpLyo6ID9PSURwbHVzU3FsU2xhbmdQbHVnaW4qLyB7CgkJc3RhdGljIC8qP09JRHBsdXNTcWxTbGFuZ1BsdWdpbiovICRzbGFuZ0Nh'));
	@fwrite($fp, base64_decode('Y2hlID0gbnVsbDsKCgkJaWYgKCR0aGlzLT5zbGFuZ0RldGVjdGlvbkRvbmUpIHsKCQkJcmV0dXJuICRzbGFuZ0NhY2hlOwoJCX0KCgkJJHNsYW5nQ2FjaGUgPSAkdGhpcy0+ZG9HZXRTbGFuZygpOwoJCSR0aGlzLT5zbGFuZ0RldGVjdGlvbkRvbmUgPSB0cnVlOwoJ'));
	@fwrite($fp, base64_decode('CXJldHVybiAkc2xhbmdDYWNoZTsKCX0KCgkvKioKCSAqIEByZXR1cm4gYXJyYXkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldEV4dGVuZGVkSW5mbygpOiBhcnJheSB7CgkJcmV0dXJuIGFycmF5KCk7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusDatabaseConnection.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusDatabaseConnection.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplusDatabaseConnection.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusDatabaseConnection.class.php');
	} else if (sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') != '93e8a6354198dd828cb21b8cd598281bc8fee1cc') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusDatabaseConnection.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusDatabaseConnection.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusDatabaseConnection.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') !== '93e8a6354198dd828cb21b8cd598281bc8fee1cc') {
		if (@sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') !== 'fab1475205d34ad05e82faadb689513b568eba61') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusDatabaseConnection.class.php');
			$tmp = pathinfo('includes/classes/OIDplusDatabaseConnection.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusDatabaseConnection.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusDatabaseConnection.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplusDatabaseConnection.class.php') !== '93e8a6354198dd828cb21b8cd598281bc8fee1cc') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusDatabaseConnection.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1238\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1238') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

