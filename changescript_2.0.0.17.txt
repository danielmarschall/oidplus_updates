<?php /* <ViaThinkSoftSignature>
t0dkE2lUothwOFEYzdLP8J86QuhUGBToT0KYUY3A1yPSoHzu5KmCtJhi3E6t8fqhX
YbAtNbX2awR9OQ0+SAacI20XPEsfyuSCtvl7dp5P565dGr3G3AKIXUSAxCBzSxF/4
1e/Ov0iqQig4TSJ3DG8A//BqQY4qkYTv0OUOqXtaxF0QTYPPkcYYVGs7mcPCEbV7h
97zJWgoOYtIOvT3nSs4p0JddA7MyBvcaBK8g6gmS2UTutUt8Q5wYgCEnVufEGSXxh
63Gxv3mVrvz0TOvuqRVqkCzKupZDAEixQloGQUy5unBbO+I1v7lBymNEfheKnTOPJ
CgC+VIPuXncwdruxu7u4FmAB2DohaZXFGn3X3CtRtDEBCaTzBVQ9489ZngiaWvKzt
vOcjPKKBA7qfvX6E06R6/R7u4QhAxXTHrHNsuqy4cTEd4H9vUBaNj20Tf2D5v9cPJ
1qGgGXSdDJlZd0mXXEg0xsioZ0W+t53rIqlqpKaEAyzJtmtol7cx5qxTeWold/DfI
5u8Qd3NqmBF7AKgzhk8Aft/hPMi3bD6UjdXLeK5mHe4Guysy4M0YXxFyx+OeY9K6H
4TZaxsBTRJkJp04f6ur3ODxFfZhpSyIyS410v3zBqeA8sIYBrwR78bpMlXf+nttTz
qylUt95xFZuIzmug415QONXbGlynjOzi/+zKo/bERa1SQZztlmdDrYRqqW6rqLw8Q
OizWwx6OC03GfmqDeEswwpIi+gK7acQ8lTKp54KbZzeRHNnBkmT1MazzIgKHMxwmB
0vWPYAe1XupMNDqlIOLhEiR4NiW6xbCZJHP02SLNtKL/6EV+/JbA5bak9qbBVAQb6
gHOVvrqjaTgT5ieoCWL+A9VcEX9BNqrcrZ2DX5X0aLi6FY2Tnsf2rtvc4XUcVvXUr
aZNgUd2D493WMP3kOAFf77wBetgxp/qDTdjNB4MM3wDca7Tj6e15xJLA/Zl+JlvXW
walw64lzV+hHnrw3aivt641pCIvBdhITj6UdfhMBZ5kheobG6CeSE83zlZXj57xcY
/q52icdae2YRy33T1jre0JCC0cZU2lGcy4DxEBZq2tR+YWKdrysb5AMFOx1MfyPyM
J+7akrB8tTUpA89z0yRjzdF1HbLK/3HDbLar02aS25TPRfFrhpUB4yzCmfGTBw2Yb
EgAZp1sY5tL0cVO5hp46N9c12soFyvZIZW3KSDqHYBUV8JglYLFWqkqKfVQ3Dslb1
UBw6+/fB9T1UaRZahjPbcHKUi9DU6BDHjh4/1Vbiw0DMTPe59vqxQ8feKw1Qz1xHv
Khj+nnlHrM6s6wDZjzmu9ohQWESGEGkEeNGyblAYWLhoUHQArp+TKX04NGUn+Vjns
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 16') {
	err('This update can only be applied to OIDplus version 2.0.0.16!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: includes/ipv4_functions.inc.php
function writefile_1() {
	@$fp = fopen('includes/ipv4_functions.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCiMKIyAgSVB2NCBGdW5jdGlvbnMgZm9yIFBIUAojCiMgIChjKSAyMDEyLTIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0IFt3d3cudmlhdGhpbmtzb2Z0LmRlXQojCiMgIERpc3RyaWJ1dGlvbiwgdXNhZ2UgZXRjLiBwcC4gcmVndWxhdGVk'));
	@fwrite($fp, base64_decode('IGJ5IHRoZSBjdXJyZW50IHZlcnNpb24gb2YgR1BMLgojCiMKIyAgVmVyc2lvbiAyMDE5LTAzLTExCiMKCi8vIFRPRE86IG9vcCwgZXhjZXB0aW9ucz8KCi8vIFZlcnkgc21hbGwgc2VsZi10ZXN0OgovKgpmdW5jdGlvbiBpcHY0X3NlbGZ0ZXN0KCkgewoJJGl2X2Ig'));
	@fwrite($fp, base64_decode('PSBpcHY0X2NvbXBsZXRlKCcxLjInKTsKCSRpdl9tID0gMjA7CgkkciA9IGlwdjRfY2lkcjJyYW5nZSgkaXZfYiwgJGl2X20pOwoJZWNobyAiJGl2X2IvJGl2X20gPT4gJHJbMF0gLSAkclsxXVxuIjsKCgkkcmV2ID0gaXB2NF9yYW5nZTJjaWRyKCRyWzBdLCAkclsx'));
	@fwrite($fp, base64_decode('XSk7CgkkcmV2ID0gaW1wbG9kZSgiXG4iLCAkcmV2KTsKCWVjaG8gIiRyWzBdIC0gJHJbMV0gPT4gJHJldiBbIjsKCSRvayA9ICRyZXYgPT0gIiRpdl9iLyRpdl9tIjsKCWVjaG8gJG9rID8gJ09LJyA6ICdNaXNtYXRjaCc7CgllY2hvICJdXG4iOwoJZWNobyAiSW4t'));
	@fwrite($fp, base64_decode('Q0lEUi1UZXN0OiAiOwoJZWNobyBpcHY0X2luX2NpZHIoIiRpdl9iLyRpdl9tIiwgIiRpdl9iLyRpdl9tIikgPyAnT0snIDogJ0ZhaWwnOwoJZWNobyAiXG4iOwp9CmlwdjRfc2VsZnRlc3QoKTsKKi8KCmZ1bmN0aW9uIGlwdjRfY2lkcjJyYW5nZSgkYmFzZWlwX29y'));
	@fwrite($fp, base64_decode('X2NpZHIsICRzdWJuZXQ9JycpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4xCgkjIFRoaXMgZnVuY3Rpb24gY29udmVydHMgYW4gQ0lEUiBub3RhdGlvbiA8YmFzZWlwPi88c3VibmV0PiBpbnRvIGFuIElQdjQgYWRkcmVzcyBibG9jayBh'));
	@fwrite($fp, base64_decode('cnJheSgkbG93X2lwLCAkaGlnaF9pcCkKCglpZiAoc3RycG9zKCRiYXNlaXBfb3JfY2lkciwgJy8nKSAhPT0gZmFsc2UpIHsKCQkkdG1wID0gZXhwbG9kZSgnLycsICRiYXNlaXBfb3JfY2lkciwgMik7CgkJJGJhc2VpcF9vcl9jaWRyID0gJHRtcFswXTsKCQkkc3Vi'));
	@fwrite($fp, base64_decode('bmV0ID0gJHRtcFsxXTsKCQl1bnNldCgkdG1wKTsKCX0KCglpZiAoKCRzdWJuZXQgPCAwKSB8fCAoJHN1Ym5ldCA+IDMyKSkgcmV0dXJuIGZhbHNlOwoKCSRtYXhpbnQzMiA9IDB4RkZGRkZGRkY7CgkkbmV0bWFzayA9ICRtYXhpbnQzMiA8PCAoMzItJHN1Ym5ldCk7'));
	@fwrite($fp, base64_decode('CgkkbmV0bWFzayA9ICRuZXRtYXNrICYgJG1heGludDMyOyAvLyBjcm9wIHRvIDMyIGJpdHMKCSR3aWxkY2FyZCA9ICRtYXhpbnQzMiBeICRuZXRtYXNrOyAvLyB+JG5ldG1hc2s7CgoJJHggPSBpcHY0X2luY29tcGxldGVfaXAybG9uZygkYmFzZWlwX29yX2NpZHIp'));
	@fwrite($fp, base64_decode('ICYgJG5ldG1hc2s7CgkkbnVtcyA9ICR3aWxkY2FyZDsKCSRsb3cgPSBsb25nMmlwKCR4KTsKCSRoaWdoID0gbG9uZzJpcCgkeCArICRudW1zKTsKCglyZXR1cm4gYXJyYXkoJGxvdywgJGhpZ2gpOwp9CgpmdW5jdGlvbiBpcHY0X3JhbmdlMmNpZHIoJGJhc2VpcCwg'));
	@fwrite($fp, base64_decode('JHRvcGlwLCAkc2hvcnRlbmluZz1mYWxzZSkgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCSMgVGhpcyBmdW5jdGlvbiBjb252ZXJ0cyBhbiBJUHY0IGFkZHJlc3MgYmxvY2sgaW50byB2YWxpZCBDSURSIGJsb2NrcyAoVGhlcmUgbWF5'));
	@fwrite($fp, base64_decode('IGJlIG11bHRpcGxlIGJsb2NrcyEpCgoJJG91dCA9IGFycmF5KCk7CglpZiAoaXB2NF9jbXAoJGJhc2VpcCwgJHRvcGlwKSA+IDApIHJldHVybiBmYWxzZTsKCXdoaWxlIChpcHY0X2luY29tcGxldGVfaXAybG9uZygkYmFzZWlwKS0xICE9IGlwdjRfaW5jb21wbGV0'));
	@fwrite($fp, base64_decode('ZV9pcDJsb25nKCR0b3BpcCkpIHsKCQkkaSA9IC0xOwoJCWRvIHsKCQkJJGkrKzsKCQkJJHJhbmdlID0gaXB2NF9jaWRyMnJhbmdlKCRiYXNlaXAsICRpKTsKCQkJJGwgPSAkcmFuZ2VbMF07CgkJCSR0ID0gJHJhbmdlWzFdOwoJCX0gd2hpbGUgKChpcHY0X2NtcCgk'));
	@fwrite($fp, base64_decode('bCwgJGJhc2VpcCkgIT0gMCkgfHwgKGlwdjRfY21wKCR0LCAkdG9waXApID4gMCkpOwoKCQkjIFNob3J0ZW5pbmc6IFN0cm9rZSAiLjAiIGF0IHRoZSBlbmQKCQlpZiAoJHNob3J0ZW5pbmcpICRiYXNlaXAgPSBpcHY0X3Nob3J0ZW5pbmcoJGJhc2VpcCk7CgoJCSRv'));
	@fwrite($fp, base64_decode('dXRbXSA9ICIkYmFzZWlwLyRpIjsKCQkkYmFzZWlwID0gaXB2NF9hZGQoJHQsIDEpOwoJfQoJcmV0dXJuICRvdXQ7Cn0KCmZ1bmN0aW9uIGlwdjRfc2hvcnRlbmluZygkaXApIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJcmV0dXJu'));
	@fwrite($fp, base64_decode('IHByZWdfcmVwbGFjZSgifChcXC4wezEsM30pezAsM31cJHxpc21VIiwgJycsICRpcCk7Cn0KCmZ1bmN0aW9uIGlwdjRfYWRkKCRiYXNlaXAsICRudW0pIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJcmV0dXJuIGxvbmcyaXAoaXB2'));
	@fwrite($fp, base64_decode('NF9pbmNvbXBsZXRlX2lwMmxvbmcoJGJhc2VpcCkgKyAkbnVtKTsKfQoKZnVuY3Rpb24gaXB2NF9zdWIoJGJhc2VpcCwgJG51bSkgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCglyZXR1cm4gbG9uZzJpcChpcHY0X2luY29tcGxldGVf'));
	@fwrite($fp, base64_decode('aXAybG9uZygkYmFzZWlwKSAtICRudW0pOwp9CgpmdW5jdGlvbiBpcHY0X2NtcCgkYSwgJGIpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJJGEgPSBpcHY0X2luY29tcGxldGVfaXAybG9uZygkYSk7CgkkYiA9IGlwdjRfaW5jb21w'));
	@fwrite($fp, base64_decode('bGV0ZV9pcDJsb25nKCRiKTsKCglpZiAoJGEgPT0gJGIpIHJldHVybiAgMDsKCWlmICgkYSAgPCAkYikgcmV0dXJuIC0xOwoJaWYgKCRhICA+ICRiKSByZXR1cm4gIDE7Cn0KCmZ1bmN0aW9uIGlwdjRfaW5fY2lkcigkaGF5c3RhY2ssICRuZWVkbGUpIHsKCSMgKEMp'));
	@fwrite($fp, base64_decode('IDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4xCgoJJHggPSBleHBsb2RlKCcvJywgJGhheXN0YWNrKTsKCSRoYSA9IGlwdjRfY2lkcjJyYW5nZSgkeFswXSwgJHhbMV0pOwoKCSR4ID0gZXhwbG9kZSgnLycsICRuZWVkbGUpOwoJaWYgKCFpc3NldCgkeFsx'));
	@fwrite($fp, base64_decode('XSkpICR4WzFdID0gJzMyJzsgLy8gc2luZ2xlIElQCgkkbmUgPSBpcHY0X2NpZHIycmFuZ2UoJHhbMF0sICR4WzFdKTsKCgkkaGFfbG93ID0gaXB2NF9pbmNvbXBsZXRlX2lwMmxvbmcoJGhhWzBdKTsKCSRoYV9oaWcgPSBpcHY0X2luY29tcGxldGVfaXAybG9uZygk'));
	@fwrite($fp, base64_decode('aGFbMV0pOwoJJG5lX2xvdyA9IGlwdjRfaW5jb21wbGV0ZV9pcDJsb25nKCRuZVswXSk7CgkkbmVfaGlnID0gaXB2NF9pbmNvbXBsZXRlX2lwMmxvbmcoJG5lWzFdKTsKCgkjIEhBOiAgICBsb3dbICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1oaWdoCgkj'));
	@fwrite($fp, base64_decode('IE5FOiAgICAgICAgICAgIGxvd1sgICAgICAgICAgICAgXWhpZ2gKCglyZXR1cm4gKCRuZV9sb3cgPj0gJGhhX2xvdykgJiYgKCRuZV9oaWcgPD0gJGhhX2hpZyk7Cn0KCmZ1bmN0aW9uIGlwdjRfY29tcGxldGUoJHNob3J0X2Zvcm0pIHsKCSMgKEMpIDIwMTIgVmlh'));
	@fwrite($fp, base64_decode('VGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJJHNob3J0X2Zvcm0gPSB0cmltKCRzaG9ydF9mb3JtKTsKCWlmICgkc2hvcnRfZm9ybSA9PSAnJykgcmV0dXJuICcwLjAuMC4wJzsKCSRjID0gc3Vic3RyX2NvdW50KCRzaG9ydF9mb3JtLCAnLicpOwoJaWYgKCRjID4g'));
	@fwrite($fp, base64_decode('MykgcmV0dXJuIGZhbHNlOwoJaWYgKCRjID09IDMpIHJldHVybiAkc2hvcnRfZm9ybTsKCSRjID0gc3Vic3RyX2NvdW50KCRzaG9ydF9mb3JtLCAnLicpOwoJJHNob3J0X2Zvcm0gLj0gc3RyX3JlcGVhdCgnLjAnLCAzLSRjKTsKCXJldHVybiAkc2hvcnRfZm9ybTsK'));
	@fwrite($fp, base64_decode('fQoKZnVuY3Rpb24gaXB2NF9pbmNvbXBsZXRlX2lwMmxvbmcoJGlwKSB7CgkjIChDKSAyMDEyLTIwMTQgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4yCgoJIyByZXR1cm4gc3ByaW50ZignJXUnLCBpcDJsb25nKGlwdjRfY29tcGxldGUoJGlwKSkpOwoJcmV0dXJu'));
	@fwrite($fp, base64_decode('IHNwcmludGYoJyV1JywgaXAybG9uZyhpcHY0X25vcm1hbGl6ZSgkaXApKSk7Cn0KCi8vIElNUE9SVEFOVCEgJGNtcF9hcnlbeF09eSBNVVNUIEhBVkUgeDw9eSAhCmZ1bmN0aW9uIGlwdjRfbWVyZ2VfYWRkcmVzc19ibG9ja3MoJGRhdGEsICRkZWJ1ZyA9IGZhbHNl'));
	@fwrite($fp, base64_decode('LCAkc2hvcnRlbmluZyA9IGZhbHNlKSB7CgkjIChDKSAyMDEyLTIwMTMgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMi4yCgoJaWYgKCRkZWJ1ZyAhPT0gZmFsc2UpICRTVEFSVFpFSVQgPSB0aW1lKCk7CgoJLy8gMS4gQ29udmVydCBJUHMgdG8gbnVtYmVycwoKCSRj'));
	@fwrite($fp, base64_decode('bXBfYXJ5ID0gYXJyYXkoKTsKCWZvcmVhY2ggKCRkYXRhIGFzICRhID0+ICYkYikgewoJCSRhID0gaXB2NF9pbmNvbXBsZXRlX2lwMmxvbmcoJGEpOwoJCSRiID0gaXB2NF9pbmNvbXBsZXRlX2lwMmxvbmcoJGIpOwoKCQkkY21wX2FyeVskYV0gPSAkYjsKCQl1bnNl'));
	@fwrite($fp, base64_decode('dCgkYSk7CgkJdW5zZXQoJGIpOwoJfQoKCS8vIDIuIFNvcnQgYXJyYXkKCglrc29ydCgkY21wX2FyeSk7CgoJLy8gMy4gTWVyZ2UgdGhlIGJsb2NrcyBpbiBhbiBpbnRlbGxpZ2VudCB3YXkgKGFuZCByZW1vdmUgcmVkdW5kYW50IGJsb2NrcykKCgkjIE1lcmdlIG92'));
	@fwrite($fp, base64_decode('ZXJsYXBwaW5nIGJsb2NrcwoJIyAgIFsgICAgICAgICAgXQoJIyAgICAgICAgICAgWyAgICAgICAgICAgIF0gICAtPiAgIFsgICAgICAgICAgICAgICAgICAgIF0KCgkjIE1lcmdlIG5laWdoYm9yIGJsb2NrcwoJIyAgIFsgICBdWyAgIF0gICAtPiAgIFsgICAgICAg'));
	@fwrite($fp, base64_decode('IF0KCgkjIFJlbW92ZSByZWR1bmRhbnQgYmxvY2tzCgkjICBbICAgICAgICAgIF0gICAtPiAgIFsgICAgICAgICAgXQoJIyAgICAgIFsgIF0KCgkkbWVyZ2VfY291bnQgPSAwOwoJJHJlZHVuZGFudF9kZWxldGVkX2NvdW50ID0gMDsKCSRyb3VuZF9jb3VudCA9IDA7'));
	@fwrite($fp, base64_decode('CglkbyB7CgkJaWYgKCRkZWJ1ZyAhPT0gZmFsc2UpIHsKCQkJJExBVUZaRUlUID0gdGltZSgpIC0gJFNUQVJUWkVJVDsKCQkJZWNobyAkZGVidWcuIk1lcmdpbmcuLi4gJHJvdW5kX2NvdW50IHJvdW5kczsgbWVyZ2VkICRtZXJnZV9jb3VudCBibG9ja3M7IGRlbGV0'));
	@fwrite($fp, base64_decode('ZWQgJHJlZHVuZGFudF9kZWxldGVkX2NvdW50IHJlZHVuZGFudCBibG9ja3M7IHRpbWU6ICRMQVVGWkVJVCBzZWNvbmRzXHIiOwoJCX0KCgkJJHJvdW5kX2NvdW50Kys7CgoJCSRjbGVhbiA9IHRydWU7CgoJCWZvcmVhY2ggKCRjbXBfYXJ5IGFzICRhID0+ICYkYikg'));
	@fwrite($fp, base64_decode('ewoJCQlmb3JlYWNoICgkY21wX2FyeSBhcyAkeCA9PiAmJHkpIHsKCQkJCS8vIHggaW4gcmFuZ2UgW2ErMS4uYisxXSA/CgkJCQlpZiAoJHg8PSRhKSBjb250aW51ZTsKCQkJCWlmICgkeD4kYisxKSBicmVhazsKCgkJCQkvLyBNZXJnZQoJCQkJJGNsZWFuID0gZmFs'));
	@fwrite($fp, base64_decode('c2U7CgkJCQlpZiAoJHk+JGIpIHsKCQkJCQkkbWVyZ2VfY291bnQrKzsKCQkJCQkkYiA9ICR5OwoJCQkJCXVuc2V0KCRjbXBfYXJ5WyR4XSk7CgkJCQl9IGVsc2UgewoJCQkJCSRyZWR1bmRhbnRfZGVsZXRlZF9jb3VudCsrOwoJCQkJCXVuc2V0KCRjbXBfYXJ5WyR4'));
	@fwrite($fp, base64_decode('XSk7CgkJCQl9CgkJCX0KCQl9Cgl9IHdoaWxlICghJGNsZWFuKTsKCglpZiAoJGRlYnVnICE9PSBmYWxzZSkgewoJCSRMQVVGWkVJVCA9IHRpbWUoKSAtICRTVEFSVFpFSVQ7CgkJZWNobyAkZGVidWcuIk1lcmdlIGNvbXBsZXRlZC4gJHJvdW5kX2NvdW50IHJvdW5k'));
	@fwrite($fp, base64_decode('czsgbWVyZ2VkICRtZXJnZV9jb3VudCBibG9ja3M7IGRlbGV0ZWQgJHJlZHVuZGFudF9kZWxldGVkX2NvdW50IHJlZHVuZGFudCBibG9ja3M7IHRpbWU6ICRMQVVGWkVJVCBzZWNvbmRzXG4iOwoJfQoKCS8vIDQuIENvbnZlcnQgYmFjayB0byBJUHMKCgkkb3V0X2Fy'));
	@fwrite($fp, base64_decode('eSA9IGFycmF5KCk7Cglmb3JlYWNoICgkY21wX2FyeSBhcyAkYSA9PiAmJGIpIHsKCQkkYSA9IGxvbmcyaXAoJGEpOwoJCSRiID0gbG9uZzJpcCgkYik7CgkJaWYgKCRzaG9ydGVuaW5nKSB7CgkJCSRhID0gaXB2NF9zaG9ydGVuaW5nKCRhKTsKCQkJJGIgPSBpcHY0'));
	@fwrite($fp, base64_decode('X3Nob3J0ZW5pbmcoJGIpOwoJCX0KCQkkb3V0X2FyeVskYV0gPSAkYjsKCX0KCglyZXR1cm4gJG91dF9hcnk7Cn0KCmZ1bmN0aW9uIGlwdjRfbWVyZ2VfYXJyYXlzKCRkYXRhX2EsICRkYXRhX2IpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24g'));
	@fwrite($fp, base64_decode('MS4yCgoJJG5vcm1hbGl6ZWRfZGF0YV9hID0gYXJyYXkoKTsKCWZvcmVhY2ggKCRkYXRhX2EgYXMgJGZyb20gPT4gJiR0bykgewoJCSRub3JtYWxpemVkX2RhdGFfYVtpcHY0X25vcm1hbGl6ZSgkZnJvbSldID0gaXB2NF9ub3JtYWxpemUoJHRvKTsKCX0KCgkkbm9y'));
	@fwrite($fp, base64_decode('bWFsaXplZF9kYXRhX2IgPSBhcnJheSgpOwoJZm9yZWFjaCAoJGRhdGFfYiBhcyAkZnJvbSA9PiAmJHRvKSB7CgkJJG5vcm1hbGl6ZWRfZGF0YV9iW2lwdjRfbm9ybWFsaXplKCRmcm9tKV0gPSBpcHY0X25vcm1hbGl6ZSgkdG8pOwoJfQoKCSRkYXRhID0gYXJyYXko'));
	@fwrite($fp, base64_decode('KTsKCglmb3JlYWNoICgkbm9ybWFsaXplZF9kYXRhX2EgYXMgJGZyb20gPT4gJiR0bykgewoJCWlmIChpc3NldCgkbm9ybWFsaXplZF9kYXRhX2JbJGZyb21dKSkgewoJCQkkZGF0YVskZnJvbV0gPSBpcHY0X21heCgkdG8sICRub3JtYWxpemVkX2RhdGFfYlskZnJv'));
	@fwrite($fp, base64_decode('bV0pOwoJCX0gZWxzZSB7CgkJCSRkYXRhWyRmcm9tXSA9ICR0bzsKCQl9Cgl9CgoJZm9yZWFjaCAoJG5vcm1hbGl6ZWRfZGF0YV9iIGFzICRmcm9tID0+ICYkdG8pIHsKCQlpZiAoIWlzc2V0KCRub3JtYWxpemVkX2RhdGFfYVskZnJvbV0pKSB7CgkJCSRkYXRhWyRm'));
	@fwrite($fp, base64_decode('cm9tXSA9ICR0bzsKCQl9Cgl9CgoJcmV0dXJuICRkYXRhOwp9CgpmdW5jdGlvbiBpcHY0X3ZhbGlkKCRpcCkgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCgkjIHJldHVybiBpcHY0X2luY29tcGxldGVfaXAybG9uZygkaXApICE9PSBm'));
	@fwrite($fp, base64_decode('YWxzZTsKCXJldHVybiBpcDJsb25nKCRpcCkgIT09IGZhbHNlOwp9CgpmdW5jdGlvbiBpcHY0X25vcm1hbGl6ZSgkaXApIHsKCSMgKEMpIDIwMTItMjAxMyBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjEuMQoKCSMgRXhhbXBsZToKCSMgMTAwLjAxMC4wMDEuMDAw'));
	@fwrite($fp, base64_decode('IC0+IDEwMC4xMC4xLjAKCgkkaXAgPSBpcHY0X2NvbXBsZXRlKCRpcCk7CglpZiAoISRpcCkgcmV0dXJuIGZhbHNlOwoKCSMgaXAybG9uZyBidWdneTogMDAxLjAuMC4wIHdpcmQgbmljaHQgYWt6ZXB0aWVydAojIwkkY3J5ID0gZXhwbG9kZSgnLicsICRpcCk7CiMj'));
	@fwrite($fp, base64_decode('CSRjcnlbMF0gPSBwcmVnX3JlcGxhY2UoJ0BeMCtAJywgJycsICRjcnlbMF0pOyBpZiAoJGNyeVswXSA9PSAnJykgJGNyeVswXSA9ICcwJzsKIyMJJGNyeVsxXSA9IHByZWdfcmVwbGFjZSgnQF4wK0AnLCAnJywgJGNyeVsxXSk7IGlmICgkY3J5WzFdID09ICcnKSAk'));
	@fwrite($fp, base64_decode('Y3J5WzFdID0gJzAnOwojIwkkY3J5WzJdID0gcHJlZ19yZXBsYWNlKCdAXjArQCcsICcnLCAkY3J5WzJdKTsgaWYgKCRjcnlbMl0gPT0gJycpICRjcnlbMl0gPSAnMCc7CiMjCSRjcnlbM10gPSBwcmVnX3JlcGxhY2UoJ0BeMCtAJywgJycsICRjcnlbM10pOyBpZiAo'));
	@fwrite($fp, base64_decode('JGNyeVszXSA9PSAnJykgJGNyeVszXSA9ICcwJzsKIyMJJGlwID0gaW1wbG9kZSgnLicsICRjcnkpOwojIwlyZXR1cm4gJGlwOwoKCXJldHVybiBwcmVnX3JlcGxhY2UoJ0BeMHswLDJ9KFswLTldezEsM30pXC4wezAsMn0oWzAtOV17MSwzfSlcLjB7MCwyfShbMC05'));
	@fwrite($fp, base64_decode('XXsxLDN9KVwuMHswLDJ9KFswLTldezEsM30pJEAnLCAnXFwxLlxcMi5cXDMuXFw0JywgJGlwKTsKfQoKZnVuY3Rpb24gaXB2NF9leHBhbmQoJGlwKSB7CgkjIChDKSAyMDEyIFZpYVRoaW5rU29mdAoJIyBWZXJzaW9uIDEuMAoKCSMgRXhhbXBsZToKCSMgMTAwLjEw'));
	@fwrite($fp, base64_decode('LjEuMCAtPiAxMDAuMDEwLjAwMS4wMDAKCgkkaXAgPSBpcHY0X2NvbXBsZXRlKCRpcCk7CglpZiAoISRpcCkgcmV0dXJuIGZhbHNlOwoKCSRjcnkgPSBleHBsb2RlKCcuJywgJGlwKTsKCSRjcnlbMF0gPSBzdHJfcGFkKCRjcnlbMF0sIDMsICcwJywgU1RSX1BBRF9M'));
	@fwrite($fp, base64_decode('RUZUKTsKCSRjcnlbMV0gPSBzdHJfcGFkKCRjcnlbMV0sIDMsICcwJywgU1RSX1BBRF9MRUZUKTsKCSRjcnlbMl0gPSBzdHJfcGFkKCRjcnlbMl0sIDMsICcwJywgU1RSX1BBRF9MRUZUKTsKCSRjcnlbM10gPSBzdHJfcGFkKCRjcnlbM10sIDMsICcwJywgU1RSX1BB'));
	@fwrite($fp, base64_decode('RF9MRUZUKTsKCXJldHVybiBpbXBsb2RlKCcuJywgJGNyeSk7Cn0KCmZ1bmN0aW9uIGlwdjRfbWluKCRpcF9hLCAkaXBfYikgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCglpZiAoaXB2NF9jbXAoJGlwX2EsICRpcF9iKSA9PSAtMSkg'));
	@fwrite($fp, base64_decode('ewoJCXJldHVybiAkaXBfYTsKCX0gZWxzZSB7CgkJcmV0dXJuICRpcF9iOwoJfQp9CgpmdW5jdGlvbiBpcHY0X21heCgkaXBfYSwgJGlwX2IpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJaWYgKGlwdjRfY21wKCRpcF9hLCAkaXBf'));
	@fwrite($fp, base64_decode('YikgPT0gMSkgewoJCXJldHVybiAkaXBfYTsKCX0gZWxzZSB7CgkJcmV0dXJuICRpcF9iOwoJfQp9CgpmdW5jdGlvbiBpcHY0X2lwY291bnQoJGRhdGEpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJJGNudCA9IDA7CgoJZm9yZWFj'));
	@fwrite($fp, base64_decode('aCAoJGRhdGEgYXMgJGZyb20gPT4gJiR0bykgewoJCSRjbnQgKz0gaXB2NF9pbmNvbXBsZXRlX2lwMmxvbmcoJHRvKSAtIGlwdjRfaW5jb21wbGV0ZV9pcDJsb25nKCRmcm9tKTsKCX0KCglyZXR1cm4gJGNudDsKfQoKZnVuY3Rpb24gaXB2NF9yZWFkX2ZpbGUoJGZp'));
	@fwrite($fp, base64_decode('bGUpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJJGRhdGEgPSBhcnJheSgpOwoKCSRsaW5lcyA9IGZpbGUoJGZpbGUpOwoJZm9yZWFjaCAoJGxpbmVzIGFzICYkbGluZSkgewoJCSRybmcgPSBpcHY0X2xpbmUycmFuZ2UoJGxpbmUp'));
	@fwrite($fp, base64_decode('OwoJCSRkYXRhWyRybmdbMF1dID0gJHJuZ1sxXTsKCX0KCglyZXR1cm4gJGRhdGE7Cn0KCmZ1bmN0aW9uIGlwdjRfbGluZTJyYW5nZSgkbGluZSkgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCgkkbGluZSA9IHRyaW0oJGxpbmUpOwoK'));
	@fwrite($fp, base64_decode('CWlmIChzdHJwb3MoJGxpbmUsICcvJykgIT09IGZhbHNlKSB7CgkJJHJuZyA9IGlwdjRfY2lkcjJyYW5nZSgkbGluZSk7Cgl9IGVsc2UgewoJCSRybmcgPSBleHBsb2RlKCctJywgJGxpbmUpOwoJCSRybmdbMF0gPSB0cmltKCRybmdbMF0pOwoJCSRybmdbMV0gPSB0'));
	@fwrite($fp, base64_decode('cmltKCRybmdbMV0pOwoJCSRybmdbMF0gPSBpcHY0X25vcm1hbGl6ZSgkcm5nWzBdKTsKCQlpZiAoIWlzc2V0KCRybmdbMV0pKSAkcm5nWzFdID0gJHJuZ1swXTsKCQkkcm5nWzFdID0gaXB2NF9ub3JtYWxpemUoJHJuZ1sxXSk7Cgl9CgoJcmV0dXJuICRybmc7Cn0K'));
	@fwrite($fp, base64_decode('CiMgLS0tIE5ldyAxNiwxMiwxMgoKZGVmaW5lKCdJUFY0X0JJVFMnLCAzMik7CgpmdW5jdGlvbiBpcHY0X2Rpc3RhbmNlKCRpcE9yQ0lEUl9TZWFyY2h0ZXJtLCAkaXBPckNJRFJfQ2FuZGlkYXRlKSB7CgkkYXJ5ID0gaXB2NF9jaWRyX3NwbGl0KCRpcE9yQ0lEUl9T'));
	@fwrite($fp, base64_decode('ZWFyY2h0ZXJtKTsKCSRpcCA9ICRhcnlbMF07CgoJaWYgKGZpbHRlcl92YXIoJGlwLCBGSUxURVJfVkFMSURBVEVfSVAsIEZJTFRFUl9GTEFHX0lQVjQpID09PSBmYWxzZSkgewoJCXJldHVybiBmYWxzZTsKCX0KCgkkYXJ5ID0gaXB2NF9jaWRyX3NwbGl0KCRpcE9y'));
	@fwrite($fp, base64_decode('Q0lEUl9DYW5kaWRhdGUpOwoJJGlwID0gJGFyeVswXTsKCSRjaWRyX2JpdHMgPSAkYXJ5WzFdOwoJaWYgKCRjaWRyX2JpdHMgPiBJUFY0X0JJVFMpIHJldHVybiBmYWxzZTsgLy8gdGhyb3cgbmV3IEV4Y2VwdGlvbignQ0lEUiBiaXRzID4gJy5JUFY0X0JJVFMpOwoJ'));
	@fwrite($fp, base64_decode('aWYgKCFpc19udW1lcmljKCRjaWRyX2JpdHMpKSByZXR1cm4gZmFsc2U7CgoJaWYgKGZpbHRlcl92YXIoJGlwLCBGSUxURVJfVkFMSURBVEVfSVAsIEZJTFRFUl9GTEFHX0lQVjQpID09PSBmYWxzZSkgewoJCXJldHVybiBmYWxzZTsKCX0KCgkkeCA9IGlwdjRfdHJh'));
	@fwrite($fp, base64_decode('Y2tkb3duKCRpcE9yQ0lEUl9TZWFyY2h0ZXJtKTsKCglpZiAoaXB2NF9pbl9jaWRyKCR4WzBdLCAkaXAuJy8nLiRjaWRyX2JpdHMpKSB7CgkJJGFyeSA9IGlwdjRfY2lkcl9zcGxpdCgkeFswXSk7CgkJJGNpZHJfYml0czIgPSAkYXJ5WzFdOwoJCWlmICgkY2lkcl9i'));
	@fwrite($fp, base64_decode('aXRzMiA+IElQVjRfQklUUykgcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdDSURSIGJpdHMgPiAnLklQVjRfQklUUyk7CgkJcmV0dXJuICRjaWRyX2JpdHMyLSRjaWRyX2JpdHM7Cgl9CgoJJGkgPSAwOwoJJG1heCA9IGZhbHNlOwoJZm9yZWFj'));
	@fwrite($fp, base64_decode('aCAoJHggYXMgJiR5KSB7CgkJaWYgKGlwdjRfaW5fY2lkcigkaXAuJy8nLiRjaWRyX2JpdHMsICR5KSkgewoJCQkkbWF4ID0gJGk7CgkJfQoJCSRpKys7Cgl9CgoJcmV0dXJuICRtYXg7Cn0KCmZ1bmN0aW9uIGlwdjRfY2lkcl9zcGxpdCgkaXBPckNJRFIpIHsKCSRh'));
	@fwrite($fp, base64_decode('cnkgPSBleHBsb2RlKCcvJywgJGlwT3JDSURSLCAyKTsKCSRjaWRyX2JpdHMgPSBpc3NldCgkYXJ5WzFdKSA/ICRhcnlbMV0gOiBJUFY0X0JJVFM7CglpZiAoJGNpZHJfYml0cyA+IElQVjRfQklUUykgcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KCdDSURSIGJpdHMgPiAnLklQVjRfQklUUyk7CglpZiAoIWlzX251bWVyaWMoJGNpZHJfYml0cykpIHJldHVybiBmYWxzZTsKCSRpcCA9ICRhcnlbMF07CglyZXR1cm4gYXJyYXkoJGlwLCAkY2lkcl9iaXRzKTsKfQoKZnVuY3Rpb24gaXB2NF9lcXVhbHMoJGlwT3JD'));
	@fwrite($fp, base64_decode('SURSQSwgJGlwT3JDSURSQikgewoJcmV0dXJuIGlwdjRfbm9ybWFsaXplX3JhbmdlKCRpcE9yQ0lEUkEpID09IGlwdjRfbm9ybWFsaXplX3JhbmdlKCRpcE9yQ0lEUkIpOwp9CgpmdW5jdGlvbiBpcHY0X2NpZHJfbWluX2lwKCRpcE9yQ0lEUikgewoJJGFyeSA9IGlw'));
	@fwrite($fp, base64_decode('djRfY2lkcl9zcGxpdCgkaXBPckNJRFIpOwoJJGlwT3JDSURSICA9ICRhcnlbMF07CgkkY2lkcl9iaXRzID0gJGFyeVsxXTsKCWlmICgkY2lkcl9iaXRzID4gSVBWNF9CSVRTKSByZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBFeGNlcHRpb24oJ0NJRFIgYml0cyA+'));
	@fwrite($fp, base64_decode('ICcuSVBWNF9CSVRTKTsKCWlmICghaXNfbnVtZXJpYygkY2lkcl9iaXRzKSkgcmV0dXJuIGZhbHNlOwoKCSRtID0gaXAyYmluKCRpcE9yQ0lEUik7CgkkbSA9IHN1YnN0cigkbSwgMCwgJGNpZHJfYml0cykgLiBzdHJfcmVwZWF0KCcwJywgSVBWNF9CSVRTLSRjaWRy'));
	@fwrite($fp, base64_decode('X2JpdHMpOwoKCXJldHVybiBiaW4yaXAoJG0pOwp9CgpmdW5jdGlvbiBpcHY0X2NpZHJfbWF4X2lwKCRpcE9yQ0lEUikgewoJJGFyeSA9IGlwdjRfY2lkcl9zcGxpdCgkaXBPckNJRFIpOwoJJGlwT3JDSURSICA9ICRhcnlbMF07CgkkY2lkcl9iaXRzID0gJGFyeVsx'));
	@fwrite($fp, base64_decode('XTsKCWlmICgkY2lkcl9iaXRzID4gSVBWNF9CSVRTKSByZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBFeGNlcHRpb24oJ0NJRFIgYml0cyA+ICcuSVBWNF9CSVRTKTsKCWlmICghaXNfbnVtZXJpYygkY2lkcl9iaXRzKSkgcmV0dXJuIGZhbHNlOwoKCSRtID0gaXAy'));
	@fwrite($fp, base64_decode('YmluKCRpcE9yQ0lEUik7CgkkbSA9IHN1YnN0cigkbSwgMCwgJGNpZHJfYml0cykgLiBzdHJfcmVwZWF0KCcxJywgSVBWNF9CSVRTLSRjaWRyX2JpdHMpOwoKCXJldHVybiBiaW4yaXAoJG0pOwp9CgpmdW5jdGlvbiBpcHY0X25vcm1hbGl6ZV9yYW5nZSgkaXBPckNJ'));
	@fwrite($fp, base64_decode('RFIpIHsKCSRhcnkgPSBpcHY0X2NpZHJfc3BsaXQoJGlwT3JDSURSKTsKCSRpcE9yQ0lEUiAgPSAkYXJ5WzBdOwoJJGNpZHJfYml0cyA9ICRhcnlbMV07CglpZiAoJGNpZHJfYml0cyA+IElQVjRfQklUUykgcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgRXhjZXB0'));
	@fwrite($fp, base64_decode('aW9uKCdDSURSIGJpdHMgPiAnLklQVjRfQklUUyk7CglpZiAoIWlzX251bWVyaWMoJGNpZHJfYml0cykpIHJldHVybiBmYWxzZTsKCgkkbSA9IGlwMmJpbigkaXBPckNJRFIpOwoJJG0gPSBzdWJzdHIoJG0sIDAsICRjaWRyX2JpdHMpIC4gc3RyX3JlcGVhdCgnMCcs'));
	@fwrite($fp, base64_decode('IElQVjRfQklUUy0kY2lkcl9iaXRzKTsKCglyZXR1cm4gYmluMmlwKCRtKSAuICcvJyAuICRjaWRyX2JpdHM7Cn0KCmZ1bmN0aW9uIGlwdjRfdHJhY2tkb3duKCRpcE9yQ0lEUikgewoJJGFyeSA9IGlwdjRfY2lkcl9zcGxpdCgkaXBPckNJRFIpOwoJJGlwT3JDSURS'));
	@fwrite($fp, base64_decode('ICA9ICRhcnlbMF07CgkkY2lkcl9iaXRzID0gJGFyeVsxXTsKCWlmICgkY2lkcl9iaXRzID4gSVBWNF9CSVRTKSByZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBFeGNlcHRpb24oJ0NJRFIgYml0cyA+ICcuSVBWNF9CSVRTKTsKCWlmICghaXNfbnVtZXJpYygkY2lk'));
	@fwrite($fp, base64_decode('cl9iaXRzKSkgcmV0dXJuIGZhbHNlOwoKCSRvdXQgPSBhcnJheSgpOwoJJG0gPSBpcDJiaW4oJGlwT3JDSURSKTsKCglmb3IgKCRpPSRjaWRyX2JpdHM7ICRpPj0wOyAkaS0tKSB7CgkJJG0gPSBzdWJzdHIoJG0sIDAsICRpKSAuIHN0cl9yZXBlYXQoJzAnLCBJUFY0'));
	@fwrite($fp, base64_decode('X0JJVFMtJGkpOwoJCSRvdXRbXSA9IGJpbjJpcCgkbSkgLiAnLycgLiAkaTsKCX0KCglyZXR1cm4gJG91dDsKfQoKIyAtLS0KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdpcDJiaW4nKSkgewoJZnVuY3Rpb24gaXAyYmluKCRpcCkgewoJCSMgU291cmNlOiBodHRwOi8v'));
	@fwrite($fp, base64_decode('cGhwLm5ldC9tYW51YWwvZW4vZnVuY3Rpb24uaXAybG9uZy5waHAjMTA0MTYzCgkJIyBtb2RpZmllZCBieSBWVFMKCgkJaWYgKGZpbHRlcl92YXIoJGlwLCBGSUxURVJfVkFMSURBVEVfSVAsIEZJTFRFUl9GTEFHX0lQVjQpICE9PSBmYWxzZSkgewoJCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('YmFzZV9jb252ZXJ0KGlwMmxvbmcoJGlwKSwgMTAsIDIpOwoJCX0KCQlpZiAoZmlsdGVyX3ZhcigkaXAsIEZJTFRFUl9WQUxJREFURV9JUCwgRklMVEVSX0ZMQUdfSVBWNikgPT09IGZhbHNlKSB7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJaWYgKCgkaXBfbiA9IGlu'));
	@fwrite($fp, base64_decode('ZXRfcHRvbigkaXApKSA9PT0gZmFsc2UpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkYml0cyA9IDE1OyAvLyAxNiB4IDggYml0ID0gMTI4Yml0IChpcHY2KQoJCSRpcGJpbiA9ICcnOyAjIGFkZGVkIGJ5IHZ0cyB0byBhdm9pZCB3YXJuaW5nCgkJd2hpbGUgKCRi'));
	@fwrite($fp, base64_decode('aXRzID49IDApIHsKCQkJJGJpbiA9IHNwcmludGYoJyUwOGInLCAob3JkKCRpcF9uWyRiaXRzXSkpKTsKCQkJJGlwYmluID0gJGJpbi4kaXBiaW47CgkJCSRiaXRzLS07CgkJfQoJCXJldHVybiAkaXBiaW47Cgl9Cn0KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdiaW4y'));
	@fwrite($fp, base64_decode('aXAnKSkgewoJZnVuY3Rpb24gYmluMmlwKCRiaW4pIHsKCQkjIFNvdXJjZTogaHR0cDovL3BocC5uZXQvbWFudWFsL2VuL2Z1bmN0aW9uLmlwMmxvbmcucGhwIzEwNDE2MwoJCSMgbW9kaWZpZWQgYnkgVlRTCgoJCWlmIChzdHJsZW4oJGJpbikgPD0gMzIpIHsgLy8g'));
	@fwrite($fp, base64_decode('MzJiaXRzIChpcHY0KQoJCQlyZXR1cm4gbG9uZzJpcChiYXNlX2NvbnZlcnQoJGJpbiwgMiwgMTApKTsKCQl9CgkJaWYgKHN0cmxlbigkYmluKSAhPSAxMjgpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkcGFkID0gMTI4IC0gc3RybGVuKCRiaW4pOwoJCWZvciAo'));
	@fwrite($fp, base64_decode('JGkgPSAxOyAkaSA8PSAkcGFkOyAkaSsrKSB7CgkJCSRiaW4gPSAnMCcuJGJpbjsKCQl9CgkJJGJpdHMgPSAwOwoJCSRpcHY2ID0gJyc7ICMgYWRkZWQgYnkgdnRzIHRvIGF2b2lkIHdhcm5pbmcKCQl3aGlsZSAoJGJpdHMgPD0gNykgewoJCQkkYmluX3BhcnQgPSBz'));
	@fwrite($fp, base64_decode('dWJzdHIoJGJpbiwoJGJpdHMqMTYpLDE2KTsKCQkJJGlwdjYgLj0gZGVjaGV4KGJpbmRlYygkYmluX3BhcnQpKSAuICc6JzsKCQkJJGJpdHMrKzsKCQl9CgkJcmV0dXJuIGluZXRfbnRvcChpbmV0X3B0b24oc3Vic3RyKCRpcHY2LCAwLCAtMSkpKTsKCX0KfQoKIyAt'));
	@fwrite($fp, base64_decode('LS0gVEVTVAoKLyoKYXNzZXJ0KGlwdjRfbm9ybWFsaXplKCcxMDAuMDEwLjAwMS4wMDAnKSA9PSAnMTAwLjEwLjEuMCcpOwphc3NlcnQoaXB2NF9ub3JtYWxpemUoJzEwMC4wMTAuMDEuMDAwJykgPT0gJzEwMC4xMC4xLjAnKTsKYXNzZXJ0KGlwdjRfbm9ybWFsaXpl'));
	@fwrite($fp, base64_decode('KCcxMDAuMTAuMDAxLjAwMCcpID09ICcxMDAuMTAuMS4wJyk7CmFzc2VydChpcHY0X25vcm1hbGl6ZSgnMS4wMTAuMDAxLjAwMCcpID09ICcxLjEwLjEuMCcpOwphc3NlcnQoaXB2NF9ub3JtYWxpemUoJzEuMTAuMDAxLjAwMCcpID09ICcxLjEwLjEuMCcpOwoKYXNz'));
	@fwrite($fp, base64_decode('ZXJ0KGlwdjRfZGlzdGFuY2UoJzE5Mi4xNjguMC4wLzE2JywgICcxOTIuMTY4LjY0LjAvMTgnKSA9PSAtMik7CmFzc2VydChpcHY0X2Rpc3RhbmNlKCcxOTIuMTY4LjAuMC8xNycsICAnMTkyLjE2OC42NC4wLzE4JykgPT0gLTEpOwphc3NlcnQoaXB2NF9kaXN0YW5j'));
	@fwrite($fp, base64_decode('ZSgnMTkyLjE2OC42NC4wLzE4JywgJzE5Mi4xNjguNjQuMC8xOCcpID09IDApOwphc3NlcnQoaXB2NF9kaXN0YW5jZSgnMTkyLjE2OC42NC4wLzE5JywgJzE5Mi4xNjguNjQuMC8xOCcpID09IDEpOwphc3NlcnQoaXB2NF9kaXN0YW5jZSgnMTkyLjE2OC42NC4wLzIw'));
	@fwrite($fp, base64_decode('JywgJzE5Mi4xNjguNjQuMC8xOCcpID09IDIpOwoKYXNzZXJ0KGlwdjRfZGlzdGFuY2UoJzE5Mi4xNjguNjkuMjAyLzMxJywgJzE5Mi4xNjguNjkuMjAwLzMxJykgPT09IGZhbHNlKTsKYXNzZXJ0KGlwdjRfZGlzdGFuY2UoJzE5Mi4xNjguNjkuMjAxLzMyJywgJzE5'));
	@fwrite($fp, base64_decode('Mi4xNjguNjkuMjAwLzMyJykgPT09IGZhbHNlKTsKYXNzZXJ0KGlwdjRfZGlzdGFuY2UoJzE5Mi4xNjguNjkuMjAxJywgICAgJzE5Mi4xNjguNjkuMjAwJykgICAgPT09IGZhbHNlKTsKKi8KCi8qCiR0ZXN0ID0gJzE5Mi4xNjguNjkuMTIzJzsKJHggPSBpcHY0X3Ry'));
	@fwrite($fp, base64_decode('YWNrZG93bigkdGVzdCk7CmZvcmVhY2ggKCR4IGFzICYkY2lkcikgewoJJG1pbiA9IGlwdjRfY2lkcl9taW5faXAoJGNpZHIpOwoJJG1heCA9IGlwdjRfY2lkcl9tYXhfaXAoJGNpZHIpOwoJZWNobyAiJGNpZHIgKCRtaW4gLSAkbWF4KVxuIjsKfQoqLwoKCgoKZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gaXB2NF9zb3J0KCRhcnkpIHsKCSRmID0gYXJyYXkoKTsKCWZvcmVhY2ggKCRhcnkgYXMgJGMpIHsKCQkkYSA9IGV4cGxvZGUoJy8nLCAkYyk7CgkJJGlwID0gJGFbMF07CgkJJGJpdHMgPSBpc3NldCgkYVsxXSkgPyAkYVsxXSA6IDMyOwoKCQkkZCA9IGlw'));
	@fwrite($fp, base64_decode('MmJpbigkaXApOwoKCQkjIG9yZCgnKicpIG11c3QgYmUgc21hbGxlciB0aGFuIG9yZCgnMCcpCgkJJGQgPSBzdWJzdHIoJGQsIDAsICRiaXRzKS5zdHJfcmVwZWF0KCcqJywgMzItJGJpdHMpOwoKCQkkZlskZF0gPSAkYzsKCX0KCglyZXR1cm4gJGY7Cn0KCmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGlwdjRfbWFrZV90cmVlKCRhcnkpIHsKCSRhcnkgPSBpcHY0X3NvcnQoJGFyeSk7CgoJaWYgKGNvdW50KCRhcnkpID09IDApIHJldHVybiBhcnJheSgpOwoKCSRzdWJfYmVnaW4gPSAnJzsKCSRzdWJfYmVnaW5faXAgPSAnJzsKCWZvcmVhY2ggKCRhcnkgYXMg'));
	@fwrite($fp, base64_decode('JG4gPT4gJGQpIHsKCQkkc3ViX2JlZ2luID0gc3Vic3RyKCRuLCAwLCBzdHJwb3MoJG4sICcqJykpOwoJCSRzdWJfYmVnaW5faXAgPSAkZDsKCQl1bnNldCgkYXJ5WyRuXSk7CgkJYnJlYWs7Cgl9CgoJJHN1YiA9IGFycmF5KCk7Cgkkbm9uc3ViID0gYXJyYXkoKTsK'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKCRhcnkgYXMgJG4gPT4gJGQpIHsKCQlpZiAoc3Vic3RyKCRuLCAwLCBzdHJsZW4oJHN1Yl9iZWdpbikpID09ICRzdWJfYmVnaW4pIHsKCQkJJHN1Ylskbl0gPSAkZDsKCQl9IGVsc2UgewoJCQkkbm9uc3ViWyRuXSA9ICRkOwoJCX0KCX0KCgkkb3V0'));
	@fwrite($fp, base64_decode('ID0gYXJyYXkoKTsKCSRvdXRbJHN1Yl9iZWdpbl9pcF0gPSBpcHY0X21ha2VfdHJlZSgkc3ViKTsKCgkkYSA9IGlwdjRfbWFrZV90cmVlKCRub25zdWIpOwoKCSRvdXQgPSBhcnJheV9tZXJnZSgkb3V0LCAkYSk7CgoJcmV0dXJuICRvdXQ7Cn0KCg=='));
	@fclose($fp);
}
if (is_file('includes/ipv4_functions.inc.php') && (sha1_file('includes/ipv4_functions.inc.php') != 'bef1fe212f0e9c3aef10a24a1c6a65f55b749bd6')) {
	warn('File was created by someone else. Will overwrite the changes now: includes/ipv4_functions.inc.php');
	$tmp = pathinfo('includes/ipv4_functions.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/ipv4_functions.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('includes/ipv4_functions.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('includes/ipv4_functions.inc.php')) {
	warn('File cannot be created (not existing): includes/ipv4_functions.inc.php');
} else if (sha1_file('includes/ipv4_functions.inc.php') != 'bef1fe212f0e9c3aef10a24a1c6a65f55b749bd6') {
	warn('File cannot be created (checksum mismatch): includes/ipv4_functions.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/ipv4_functions.inc.php', 0644)) {
	warn('Could not change file permissions of includes/ipv4_functions.inc.php');
}

// File added: includes/ipv6_functions.inc.php
function writefile_2() {
	@$fp = fopen('includes/ipv6_functions.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCiMKIyAgSVB2NiBGdW5jdGlvbnMgZm9yIFBIUAojCiMgIChjKSAyMDEyLTIwMTQgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0IFt3d3cudmlhdGhpbmtzb2Z0LmRlXQojCiMgIERpc3RyaWJ1dGlvbiwgdXNhZ2UgZXRjLiBwcC4gcmVndWxhdGVk'));
	@fwrite($fp, base64_decode('IGJ5IHRoZSBjdXJyZW50IHZlcnNpb24gb2YgR1BMLgojCiMKIyAgVmVyc2lvbiAyMDE0LTEyLTIyCiMKCiMgVGhpcyBsaWJyYXJ5IG5lZWRzIGdtcCEgYXB0aXR1ZGUgaW5zdGFsbCBwaHA1LWdtcAoKLy8gVE9ETzogb29wLCBleGNlcHRpb25zPwovLyBUT0RPOiB2'));
	@fwrite($fp, base64_decode('YXJpYW50IHdpdGhvdXQgZ21wID8KLy8gVE9ETzogSVB2NiBhdWZs9nN1bmcgJ2ZmZmY6OjE5Mi4xNjguNjkuMScgLT4gJ2ZmZmY6MDAwMDowMDAwOjAwMDA6MDAwMDowMDAwOmMwYTg6NDUwMScgZ2VodCBuaWNodCEhIQoKZGVmaW5lKCdHTVBfT05FJywgZ21wX2lu'));
	@fwrite($fp, base64_decode('aXQoJzEnKSk7CgovLyBWZXJ5IHNtYWxsIHNlbGYtdGVzdDoKLyoKZnVuY3Rpb24gaXB2Nl9zZWxmdGVzdCgpIHsKCSRpdl9iID0gJ2MwZmY6ZWUwMDo6JzsKCSRpdl9tID0gMzI7CgkkciA9IGlwdjZfY2lkcjJyYW5nZSgkaXZfYiwgJGl2X20pOwoJZWNobyAiJGl2'));
	@fwrite($fp, base64_decode('X2IvJGl2X20gPT4gJHJbMF0gLSAkclsxXVxuIjsKCgkkcmV2ID0gaXB2Nl9yYW5nZTJjaWRyKCRyWzBdLCAkclsxXSk7CgkkcmV2ID0gaW1wbG9kZSgiXG4iLCAkcmV2KTsKCWVjaG8gIiRyWzBdIC0gJHJbMV0gPT4gJHJldiBbIjsKCSRvayA9ICRyZXYgPT0gIiRp'));
	@fwrite($fp, base64_decode('dl9iLyRpdl9tIjsKCWVjaG8gJG9rID8gJ09LJyA6ICdNaXNtYXRjaCc7CgllY2hvICJdXG4iOwoJZWNobyAiSW4tQ0lEUi1UZXN0OiAiOwoJZWNobyBpcHY2X2luX2NpZHIoIiRpdl9iLyRpdl9tIiwgIiRpdl9iLyRpdl9tIikgPyAnT0snIDogJ0ZhaWwnOwoJZWNo'));
	@fwrite($fp, base64_decode('byAiXG4iOwp9CmlwdjZfc2VsZnRlc3QoKTsKKi8KCiRjYWNoZV9pcHY2X2NpZHIycmFuZ2UgPSBhcnJheSgpOwpmdW5jdGlvbiBpcHY2X2NpZHIycmFuZ2UoJGJhc2VpcF9vcl9jaWRyLCAkc3VibmV0PScnKSB7CgkjIChDKSAyMDEyIFZpYVRoaW5rU29mdAoJIyBW'));
	@fwrite($fp, base64_decode('ZXJzaW9uIDEuMQoJIyBUaGlzIGZ1bmN0aW9uIGNvbnZlcnRzIGFuIENJRFIgbm90YXRpb24gPGJhc2VpcD4vPHN1Ym5ldD4gaW50byBhbiBJUHY2IGFkZHJlc3MgYmxvY2sgYXJyYXkoJGxvd19pcCwgJGhpZ2hfaXApCgoJZ2xvYmFsICRjYWNoZV9pcHY2X2NpZHIy'));
	@fwrite($fp, base64_decode('cmFuZ2U7CgkkdnZ2ID0gJGJhc2VpcF9vcl9jaWRyLid8Jy4kc3VibmV0OwoJaWYgKGlzc2V0KCRjYWNoZV9pcHY2X2NpZHIycmFuZ2VbJHZ2dl0pKSByZXR1cm4gJGNhY2hlX2lwdjZfY2lkcjJyYW5nZVskdnZ2XTsKCglpZiAoc3RycG9zKCRiYXNlaXBfb3JfY2lk'));
	@fwrite($fp, base64_decode('ciwgJy8nKSAhPT0gZmFsc2UpIHsKCQkkdG1wID0gZXhwbG9kZSgnLycsICRiYXNlaXBfb3JfY2lkciwgMik7CgkJJGJhc2VpcF9vcl9jaWRyID0gJHRtcFswXTsKCQkkc3VibmV0ID0gJHRtcFsxXTsKCQl1bnNldCgkdG1wKTsKCX0KCglpZiAoKCRzdWJuZXQgPCAw'));
	@fwrite($fp, base64_decode('KSB8fCAoJHN1Ym5ldCA+IDEyOCkpIHsKCQkkY2FjaGVfaXB2Nl9jaWRyMnJhbmdlWyR2dnZdID0gZmFsc2U7CgkJcmV0dXJuIGZhbHNlOwoJfQoKCSRtYXhpbnQxMjggPSBnbXBfc3ViKGdtcF9wb3coJzInLCAxMjgpLCBHTVBfT05FKTsgIyBUT0RPOiBHTVBfVFdP'));
	@fwrite($fp, base64_decode('ID8KCSRuZXRtYXNrID0gZ21wX3NoaWZ0bCgkbWF4aW50MTI4LCAxMjgtJHN1Ym5ldCk7CgkkbmV0bWFzayA9IGdtcF9hbmQoJG5ldG1hc2ssICRtYXhpbnQxMjgpOyAvLyBjcm9wIHRvIDEyOCBiaXQKCSR3aWxkY2FyZCA9IGdtcF94b3IoJG1heGludDEyOCwgJG5l'));
	@fwrite($fp, base64_decode('dG1hc2spOwoKCSR4ID0gZ21wX2FuZChpcDJsb25nNigkYmFzZWlwX29yX2NpZHIpLCAkbmV0bWFzayk7CgkkbnVtcyA9ICR3aWxkY2FyZDsKCSRsb3cgPSBsb25nMmlwNigkeCk7CgkkaGlnaCA9IGxvbmcyaXA2KGdtcF9hZGQoJHgsICRudW1zKSk7CgoJJG91dCA9'));
	@fwrite($fp, base64_decode('IGFycmF5KCRsb3csICRoaWdoKTsKCSRjYWNoZV9pcHY2X2NpZHIycmFuZ2VbJHZ2dl0gPSAkb3V0OwoJcmV0dXJuICRvdXQ7Cn0KCiRjYWNoZV9pcHY2X3JhbmdlMmNpZHIgPSBhcnJheSgpOwpmdW5jdGlvbiBpcHY2X3JhbmdlMmNpZHIoJGJhc2VpcCwgJHRvcGlw'));
	@fwrite($fp, base64_decode('KSB7CgkjIChDKSAyMDEyIFZpYVRoaW5rU29mdAoJIyBWZXJzaW9uIDEuMAoJIyBUaGlzIGZ1bmN0aW9uIGNvbnZlcnRzIGFuIElQdjYgYWRkcmVzcyBibG9jayBpbnRvIHZhbGlkIENJRFIgYmxvY2tzIChUaGVyZSBtYXkgYmUgbXVsdGlwbGUgYmxvY2tzISkKCgln'));
	@fwrite($fp, base64_decode('bG9iYWwgJGNhY2hlX2lwdjZfcmFuZ2UyY2lkcjsKCSR2dnYgPSAkYmFzZWlwLid8Jy4kdG9waXA7CglpZiAoaXNzZXQoJGNhY2hlX2lwdjZfcmFuZ2UyY2lkclskdnZ2XSkpIHJldHVybiAkY2FjaGVfaXB2Nl9yYW5nZTJjaWRyWyR2dnZdOwoKCSRvdXQgPSBhcnJh'));
	@fwrite($fp, base64_decode('eSgpOwoJaWYgKGlwdjZfY21wKCRiYXNlaXAsICR0b3BpcCkgPiAwKSB7CgkJJGNhY2hlX2lwdjZfcmFuZ2UyY2lkclskdnZ2XSA9IGZhbHNlOwoJCXJldHVybiBmYWxzZTsKCX0KCXdoaWxlIChnbXBfY21wKGdtcF9zdWIoaXAybG9uZzYoJGJhc2VpcCksIEdNUF9P'));
	@fwrite($fp, base64_decode('TkUpLCBpcDJsb25nNigkdG9waXApKSAhPSAwKSB7CgkJJGkgPSAtMTsKCQlkbyB7CgkJCSRpKys7CgkJCSRyYW5nZSA9IGlwdjZfY2lkcjJyYW5nZSgkYmFzZWlwLCAkaSk7CgkJCSRsID0gJHJhbmdlWzBdOwoJCQkkdCA9ICRyYW5nZVsxXTsKCQl9IHdoaWxlICgo'));
	@fwrite($fp, base64_decode('aXB2Nl9jbXAoJGwsICRiYXNlaXApICE9IDApIHx8IChpcHY2X2NtcCgkdCwgJHRvcGlwKSA+IDApKTsKCgkJJG91dFtdID0gIiRiYXNlaXAvJGkiOwoJCSRiYXNlaXAgPSBpcHY2X2FkZCgkdCwgR01QX09ORSk7Cgl9CgoJJGNhY2hlX2lwdjZfcmFuZ2UyY2lkclsk'));
	@fwrite($fp, base64_decode('dnZ2XSA9ICRvdXQ7CglyZXR1cm4gJG91dDsKfQoKZnVuY3Rpb24gaXB2Nl9hZGQoJGJhc2VpcCwgJG51bSkgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCglyZXR1cm4gbG9uZzJpcDYoZ21wX2FkZChpcDJsb25nNigkYmFzZWlwKSwg'));
	@fwrite($fp, base64_decode('JG51bSkpOwp9CgpmdW5jdGlvbiBpcHY2X3N1YigkYmFzZWlwLCAkbnVtKSB7CgkjIChDKSAyMDEyIFZpYVRoaW5rU29mdAoJIyBWZXJzaW9uIDEuMAoKCXJldHVybiBsb25nMmlwNihnbXBfc3ViKGlwMmxvbmc2KCRiYXNlaXApLCAkbnVtKSk7Cn0KCmZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IGlwdjZfY21wKCRhLCAkYikgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCglyZXR1cm4gZ21wX2NtcChpcDJsb25nNigkYSksIGlwMmxvbmc2KCRiKSk7Cn0KCiRjYWNoZV9pcHY2X2luX2NpZHIgPSBhcnJheSgpOwpmdW5jdGlvbiBp'));
	@fwrite($fp, base64_decode('cHY2X2luX2NpZHIoJGhheXN0YWNrLCAkbmVlZGxlKSB7CgkjIChDKSAyMDEyIFZpYVRoaW5rU29mdAoJIyBWZXJzaW9uIDEuMQoKCWdsb2JhbCAkY2FjaGVfaXB2Nl9pbl9jaWRyOwoJJHZ2diA9ICRoYXlzdGFjay4nfCcuJG5lZWRsZTsKCWlmIChpc3NldCgkY2Fj'));
	@fwrite($fp, base64_decode('aGVfaXB2Nl9pbl9jaWRyWyR2dnZdKSkgcmV0dXJuICRjYWNoZV9pcHY2X2luX2NpZHJbJHZ2dl07CgoJJHggPSBleHBsb2RlKCcvJywgJGhheXN0YWNrKTsKCSRoYSA9IGlwdjZfY2lkcjJyYW5nZSgkeFswXSwgJHhbMV0pOwoKCSR4ID0gZXhwbG9kZSgnLycsICRu'));
	@fwrite($fp, base64_decode('ZWVkbGUpOwoJaWYgKCFpc3NldCgkeFsxXSkpICR4WzFdID0gMTI4OyAvLyBzaW5nbGUgSVAKCSRuZSA9IGlwdjZfY2lkcjJyYW5nZSgkeFswXSwgJHhbMV0pOwoKCSRoYV9sb3cgPSBpcDJsb25nNigkaGFbMF0pOwoJJGhhX2hpZyA9IGlwMmxvbmc2KCRoYVsxXSk7'));
	@fwrite($fp, base64_decode('CgkkbmVfbG93ID0gaXAybG9uZzYoJG5lWzBdKTsKCSRuZV9oaWcgPSBpcDJsb25nNigkbmVbMV0pOwoKCSMgSEE6ICAgIGxvd1sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXWhpZ2gKCSMgTkU6ICAgICAgICAgICAgbG93WyAgICAgICAgICAgICBdaGln'));
	@fwrite($fp, base64_decode('aAoKCSRvdXQgPSAoZ21wX2NtcCgkbmVfbG93LCAkaGFfbG93KSA+PSAwKSAmJiAoZ21wX2NtcCgkbmVfaGlnLCAkaGFfaGlnKSA8PSAwKTsKCSRjYWNoZV9pcHY2X2luX2NpZHJbJHZ2dl0gPSAkb3V0OwoJcmV0dXJuICRvdXQ7Cn0KCi8vIElNUE9SVEFOVCEgJGNt'));
	@fwrite($fp, base64_decode('cF9hcnlbeF09eSBNVVNUIEhBVkUgeDw9eSAhCmZ1bmN0aW9uIGlwdjZfbWVyZ2VfYWRkcmVzc19ibG9ja3MoJGRhdGEsICRkZWJ1ZyA9IGZhbHNlKSB7CgkjIChDKSAyMDEyLTIwMTMgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMi4yCgoJaWYgKCRkZWJ1ZyAhPT0g'));
	@fwrite($fp, base64_decode('ZmFsc2UpICRTVEFSVFpFSVQgPSB0aW1lKCk7CgoJLy8gMS4gQ29udmVydCBJUHMgdG8gbnVtYmVycwoKCSRjbXBfYXJ5ID0gYXJyYXkoKTsKCWZvcmVhY2ggKCRkYXRhIGFzICRhID0+ICYkYikgewoJCSRhID0gaXAybG9uZzYoJGEpOwoJCSRiID0gaXAybG9uZzYo'));
	@fwrite($fp, base64_decode('JGIpOwoKCQkkY21wX2FyeVtnbXBfc3RydmFsKCRhKV0gPSBnbXBfc3RydmFsKCRiKTsKCQl1bnNldCgkYSk7CgkJdW5zZXQoJGIpOwoJfQoKCS8vIDIuIFNvcnQgYXJyYXkKCglrc29ydCgkY21wX2FyeSk7CgoJLy8gMy4gTWVyZ2UgdGhlIGJsb2NrcyBpbiBhbiBp'));
	@fwrite($fp, base64_decode('bnRlbGxpZ2VudCB3YXkgKGFuZCByZW1vdmUgcmVkdW5kYW50IGJsb2NrcykKCgkjIE1lcmdlIG92ZXJsYXBwaW5nIGJsb2NrcwoJIyAgIFsgICAgICAgICAgXQoJIyAgICAgICAgICAgWyAgICAgICAgICAgIF0gICAtPiAgIFsgICAgICAgICAgICAgICAgICAgIF0K'));
	@fwrite($fp, base64_decode('CgkjIE1lcmdlIG5laWdoYm9yIGJsb2NrcwoJIyAgIFsgICBdWyAgIF0gICAtPiAgIFsgICAgICAgIF0KCgkjIFJlbW92ZSByZWR1bmRhbnQgYmxvY2tzCgkjICBbICAgICAgICAgIF0gICAtPiAgIFsgICAgICAgICAgXQoJIyAgICAgIFsgIF0KCgkkbWVyZ2VfY291'));
	@fwrite($fp, base64_decode('bnQgPSAwOwoJJHJlZHVuZGFudF9kZWxldGVkX2NvdW50ID0gMDsKCSRyb3VuZF9jb3VudCA9IDA7CglkbyB7CgkJaWYgKCRkZWJ1ZyAhPT0gZmFsc2UpIHsKCQkJJExBVUZaRUlUID0gdGltZSgpIC0gJFNUQVJUWkVJVDsKCQkJZWNobyAkZGVidWcuIk1lcmdpbmcu'));
	@fwrite($fp, base64_decode('Li4gJHJvdW5kX2NvdW50IHJvdW5kczsgbWVyZ2VkICRtZXJnZV9jb3VudCBibG9ja3M7IGRlbGV0ZWQgJHJlZHVuZGFudF9kZWxldGVkX2NvdW50IHJlZHVuZGFudCBibG9ja3M7IHRpbWU6ICRMQVVGWkVJVCBzZWNvbmRzXHIiOwoJCX0KCgkJJHJvdW5kX2NvdW50'));
	@fwrite($fp, base64_decode('Kys7CgoJCSRjbGVhbiA9IHRydWU7CgoJCWZvcmVhY2ggKCRjbXBfYXJ5IGFzICRhID0+ICYkYikgewoJCQlmb3JlYWNoICgkY21wX2FyeSBhcyAkeCA9PiAmJHkpIHsKCQkJCS8vIHggaW4gcmFuZ2UgW2ErMS4uYisxXSA/CgkJCQlpZiAoZ21wX2NtcChnbXBfaW5p'));
	@fwrite($fp, base64_decode('dCgkeCksIGdtcF9pbml0KCRhKSkgPD0gMCkgY29udGludWU7CgkJCQlpZiAoZ21wX2NtcChnbXBfaW5pdCgkeCksIGdtcF9hZGQoZ21wX2luaXQoJGIpLCBHTVBfT05FKSkgPiAwKSBicmVhazsKCgkJCQkvLyBNZXJnZQoJCQkJJGNsZWFuID0gZmFsc2U7CgkJCQlp'));
	@fwrite($fp, base64_decode('ZiAoZ21wX2NtcChnbXBfaW5pdCgkeSksIGdtcF9pbml0KCRiKSkgPiAwKSB7CgkJCQkJJG1lcmdlX2NvdW50Kys7CgkJCQkJJGIgPSAkeTsKCQkJCQl1bnNldCgkY21wX2FyeVskeF0pOwoJCQkJfSBlbHNlIHsKCQkJCQkkcmVkdW5kYW50X2RlbGV0ZWRfY291bnQr'));
	@fwrite($fp, base64_decode('KzsKCQkJCQl1bnNldCgkY21wX2FyeVskeF0pOwoJCQkJfQoJCQl9CgkJfQoJfSB3aGlsZSAoISRjbGVhbik7CgoJaWYgKCRkZWJ1ZyAhPT0gZmFsc2UpIHsKCQkkTEFVRlpFSVQgPSB0aW1lKCkgLSAkU1RBUlRaRUlUOwoJCWVjaG8gJGRlYnVnLiJNZXJnZSBjb21w'));
	@fwrite($fp, base64_decode('bGV0ZWQuICRyb3VuZF9jb3VudCByb3VuZHM7IG1lcmdlZCAkbWVyZ2VfY291bnQgYmxvY2tzOyBkZWxldGVkICRyZWR1bmRhbnRfZGVsZXRlZF9jb3VudCByZWR1bmRhbnQgYmxvY2tzOyB0aW1lOiAkTEFVRlpFSVQgc2Vjb25kc1xuIjsKCX0KCgkvLyA0LiBDb252'));
	@fwrite($fp, base64_decode('ZXJ0IGJhY2sgdG8gSVBzCgoJJG91dF9hcnkgPSBhcnJheSgpOwoJZm9yZWFjaCAoJGNtcF9hcnkgYXMgJGEgPT4gJiRiKSB7CgkJJGEgPSBsb25nMmlwNihnbXBfaW5pdCgkYSkpOwoJCSRiID0gbG9uZzJpcDYoZ21wX2luaXQoJGIpKTsKCQkkb3V0X2FyeVskYV0g'));
	@fwrite($fp, base64_decode('PSAkYjsKCX0KCglyZXR1cm4gJG91dF9hcnk7Cn0KCmZ1bmN0aW9uIGlwdjZfbWVyZ2VfYXJyYXlzKCRkYXRhX2EsICRkYXRhX2IpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4yCgoJJG5vcm1hbGl6ZWRfZGF0YV9hID0gYXJyYXkoKTsK'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKCRkYXRhX2EgYXMgJGZyb20gPT4gJiR0bykgewoJCSRub3JtYWxpemVkX2RhdGFfYVtpcHY2X25vcm1hbGl6ZSgkZnJvbSldID0gaXB2Nl9ub3JtYWxpemUoJHRvKTsKCX0KCgkkbm9ybWFsaXplZF9kYXRhX2IgPSBhcnJheSgpOwoJZm9yZWFjaCAo'));
	@fwrite($fp, base64_decode('JGRhdGFfYiBhcyAkZnJvbSA9PiAmJHRvKSB7CgkJJG5vcm1hbGl6ZWRfZGF0YV9iW2lwdjZfbm9ybWFsaXplKCRmcm9tKV0gPSBpcHY2X25vcm1hbGl6ZSgkdG8pOwoJfQoKCSRkYXRhID0gYXJyYXkoKTsKCglmb3JlYWNoICgkbm9ybWFsaXplZF9kYXRhX2EgYXMg'));
	@fwrite($fp, base64_decode('JGZyb20gPT4gJiR0bykgewoJCWlmIChpc3NldCgkbm9ybWFsaXplZF9kYXRhX2JbJGZyb21dKSkgewoJCQkkZGF0YVskZnJvbV0gPSBpcHY2X21heCgkdG8sICRub3JtYWxpemVkX2RhdGFfYlskZnJvbV0pOwoJCX0gZWxzZSB7CgkJCSRkYXRhWyRmcm9tXSA9ICR0'));
	@fwrite($fp, base64_decode('bzsKCQl9Cgl9CgoJZm9yZWFjaCAoJG5vcm1hbGl6ZWRfZGF0YV9iIGFzICRmcm9tID0+ICYkdG8pIHsKCQlpZiAoIWlzc2V0KCRub3JtYWxpemVkX2RhdGFfYVskZnJvbV0pKSB7CgkJCSRkYXRhWyRmcm9tXSA9ICR0bzsKCQl9Cgl9CgoJcmV0dXJuICRkYXRhOwp9'));
	@fwrite($fp, base64_decode('CgpmdW5jdGlvbiBpcHY2X3ZhbGlkKCRpcCkgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCglyZXR1cm4gaXAybG9uZzYoJGlwKSAhPT0gZmFsc2U7Cn0KCmZ1bmN0aW9uIGlwdjZfbm9ybWFsaXplKCRpcCkgewoJIyAoQykgMjAxMiBW'));
	@fwrite($fp, base64_decode('aWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCgkjIEV4YW1wbGU6CgkjIDIwMDE6MDAwMDowMDAwOjoxIC0+IDIwMDE6OjEKCgkkbG9uZyA9IGlwMmxvbmc2KCRpcCk7CglpZiAoJGxvbmcgPT0gLTEgfHwgJGxvbmcgPT09IEZBTFNFKSByZXR1cm4gZmFsc2U7Cgly'));
	@fwrite($fp, base64_decode('ZXR1cm4gbG9uZzJpcDYoJGxvbmcpOwp9CgpmdW5jdGlvbiBpcHY2X2V4cGFuZCgkaXApIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJIyBFeGFtcGxlOgoJIyAyMDAxOjoxIC0+IDIwMDE6MDAwMDowMDAwOjAwMDA6MDAwMDowMDAw'));
	@fwrite($fp, base64_decode('OjAwMDA6MDAwMAoKCSRsb25nID0gaXAybG9uZzYoJGlwKTsKCWlmICgkbG9uZyA9PSAtMSB8fCAkbG9uZyA9PT0gRkFMU0UpIHJldHVybiBmYWxzZTsKCXJldHVybiBsb25nMmlwNigkbG9uZywgZmFsc2UpOwp9CgpmdW5jdGlvbiBpcHY2X21pbigkaXBfYSwgJGlw'));
	@fwrite($fp, base64_decode('X2IpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJaWYgKGlwdjZfY21wKCRpcF9hLCAkaXBfYikgPT0gLTEpIHsKCQlyZXR1cm4gJGlwX2E7Cgl9IGVsc2UgewoJCXJldHVybiAkaXBfYjsKCX0KfQoKZnVuY3Rpb24gaXB2Nl9tYXgo'));
	@fwrite($fp, base64_decode('JGlwX2EsICRpcF9iKSB7CgkjIChDKSAyMDEyIFZpYVRoaW5rU29mdAoJIyBWZXJzaW9uIDEuMAoKCWlmIChpcHY2X2NtcCgkaXBfYSwgJGlwX2IpID09IDEpIHsKCQlyZXR1cm4gJGlwX2E7Cgl9IGVsc2UgewoJCXJldHVybiAkaXBfYjsKCX0KfQoKZnVuY3Rpb24g'));
	@fwrite($fp, base64_decode('aXB2Nl9pcGNvdW50KCRkYXRhKSB7CgkjIChDKSAyMDEyIFZpYVRoaW5rU29mdAoJIyBWZXJzaW9uIDEuMAoKCSRjbnQgPSBnbXBfaW5pdCgnMCcpOwoKCWZvcmVhY2ggKCRkYXRhIGFzICRmcm9tID0+ICYkdG8pIHsKCQkkY250ID0gZ21wX2FkZCgkY250LCBnbXBf'));
	@fwrite($fp, base64_decode('c3ViKGlwMmxvbmc2KCR0byksIGlwMmxvbmc2KCRmcm9tKSkpOwoJfQoKCXJldHVybiBnbXBfc3RydmFsKCRjbnQsIDEwKTsKfQoKZnVuY3Rpb24gaXB2Nl9yZWFkX2ZpbGUoJGZpbGUpIHsKCSMgKEMpIDIwMTIgVmlhVGhpbmtTb2Z0CgkjIFZlcnNpb24gMS4wCgoJ'));
	@fwrite($fp, base64_decode('JGRhdGEgPSBhcnJheSgpOwoKCSRsaW5lcyA9IGZpbGUoJGZpbGUpOwoJZm9yZWFjaCAoJGxpbmVzIGFzICYkbGluZSkgewoJCSRybmcgPSBpcHY2X2xpbmUycmFuZ2UoJGxpbmUpOwoJCSRkYXRhWyRybmdbMF1dID0gJHJuZ1sxXTsKCX0KCglyZXR1cm4gJGRhdGE7'));
	@fwrite($fp, base64_decode('Cn0KCmZ1bmN0aW9uIGlwdjZfbGluZTJyYW5nZSgkbGluZSkgewoJIyAoQykgMjAxMiBWaWFUaGlua1NvZnQKCSMgVmVyc2lvbiAxLjAKCgkkbGluZSA9IHRyaW0oJGxpbmUpOwoKCWlmIChzdHJwb3MoJGxpbmUsICcvJykgIT09IGZhbHNlKSB7CgkJJHJuZyA9IGlw'));
	@fwrite($fp, base64_decode('djZfY2lkcjJyYW5nZSgkbGluZSk7Cgl9IGVsc2UgewoJCSRybmcgPSBleHBsb2RlKCctJywgJGxpbmUpOwoJCSRybmdbMF0gPSB0cmltKCRybmdbMF0pOwoJCSRybmdbMV0gPSB0cmltKCRybmdbMV0pOwoJCSRybmdbMF0gPSBpcHY2X25vcm1hbGl6ZSgkcm5nWzBd'));
	@fwrite($fp, base64_decode('KTsKCQlpZiAoIWlzc2V0KCRybmdbMV0pKSAkcm5nWzFdID0gJHJuZ1swXTsKCQkkcm5nWzFdID0gaXB2Nl9ub3JtYWxpemUoJHJuZ1sxXSk7Cgl9CgoJcmV0dXJuICRybmc7Cn0KCiMgLS0tCgpmdW5jdGlvbiBnbXBfc2hpZnRsKCR4LCAkbikgeyAvLyBzaGlmdCBs'));
	@fwrite($fp, base64_decode('ZWZ0CgkvLyBodHRwOi8vd3d3LnBocC5uZXQvbWFudWFsL2VuL3JlZi5nbXAucGhwIzk5Nzg4CglyZXR1cm4gZ21wX211bCgkeCwgZ21wX3BvdygnMicsICRuKSk7Cn0KCmZ1bmN0aW9uIGdtcF9zaGlmdHIoJHgsICRuKSB7IC8vIHNoaWZ0IHJpZ2h0CgkvLyBodHRw'));
	@fwrite($fp, base64_decode('Oi8vd3d3LnBocC5uZXQvbWFudWFsL2VuL3JlZi5nbXAucGhwIzk5Nzg4CglyZXR1cm4gZ21wX2RpdigkeCwgZ21wX3BvdygnMicsICRuKSk7Cn0KCiRjYWNoZV9pcDJsb25nNiA9IGFycmF5KCk7CmZ1bmN0aW9uIGlwMmxvbmc2KCRpcHY2KSB7CgkvLyBTb3VyY2U6'));
	@fwrite($fp, base64_decode('CgkvLyBodHRwOi8vd3d3Lm5ldHotZ3VydS5kZS8yMDA5LzExLzA3L3BocC1pcHY2LWlwMmxvbmctdW5kLWxvbmcyaXAtZnVua3Rpb25lbi8KCS8vIFNsaWdodGx5IG1vZGlmaWVkCgoJZ2xvYmFsICRjYWNoZV9pcDJsb25nNjsKCWlmIChpc3NldCgkY2FjaGVfaXAy'));
	@fwrite($fp, base64_decode('bG9uZzZbJGlwdjZdKSkgcmV0dXJuICRjYWNoZV9pcDJsb25nNlskaXB2Nl07CgoJaWYgKCRpcHY2ID09ICcnKSAkaXB2NiA9ICc6Oic7CgoJaWYgKGZpbHRlcl92YXIoJGlwdjYsIEZJTFRFUl9WQUxJREFURV9JUCwgRklMVEVSX0ZMQUdfSVBWNikgPT09IGZhbHNl'));
	@fwrite($fp, base64_decode('KSB7CgkJJGNhY2hlX2lwMmxvbmc2WyRpcHY2XSA9IGZhbHNlOwoJCXJldHVybiBmYWxzZTsKCX0KCgkkaXBfbiA9IEBpbmV0X3B0b24oJGlwdjYpOwoJaWYgKCRpcF9uID09PSBmYWxzZSkgewoJCSRjYWNoZV9pcDJsb25nNlskaXB2Nl0gPSBmYWxzZTsKCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gZmFsc2U7IC8vIG1vZGlmaWVkCgl9CgkkYnl0ZXMgPSAxNjsgLy8gMTYgYnl0ZXMgeCA4IGJpdC9ieXRlID0gMTI4Yml0CgkkaXB2NmxvbmcgPSAnJzsKCgl3aGlsZSAoJGJ5dGVzID4gMCkgewoJCSRiaW4gPSBzcHJpbnRmKCclMDhiJywob3JkKCRpcF9uWyRi'));
	@fwrite($fp, base64_decode('eXRlcy0xXSkpKTsKCQkkaXB2NmxvbmcgPSAkYmluLiRpcHY2bG9uZzsKCQkkYnl0ZXMtLTsKCX0KCgkvLyAkb3V0ID0gZ21wX3N0cnZhbChnbXBfaW5pdCgkaXB2NmxvbmcsIDIpLCAxMCk7Cgkkb3V0ID0gZ21wX2luaXQoJGlwdjZsb25nLCAyKTsKCSRjYWNoZV9p'));
	@fwrite($fp, base64_decode('cDJsb25nNlskaXB2Nl0gPSAkb3V0OwoJcmV0dXJuICRvdXQ7Cn0KCiRjYWNoZV9sb25nMmlwNiA9IGFycmF5KCk7CmZ1bmN0aW9uIGxvbmcyaXA2KCRpcHY2bG9uZywgJGNvbXByZXNzPXRydWUpIHsKCS8vIFNvdXJjZToKCS8vIGh0dHA6Ly93d3cubmV0ei1ndXJ1'));
	@fwrite($fp, base64_decode('LmRlLzIwMDkvMTEvMDcvcGhwLWlwdjYtaXAybG9uZy11bmQtbG9uZzJpcC1mdW5rdGlvbmVuLwoJLy8gU2xpZ2h0bHkgbW9kaWZpZWQKCglnbG9iYWwgJGNhY2hlX2xvbmcyaXA2OwoJJHZ2diA9ICgkY29tcHJlc3MgPyAnVCcgOiAnRicpLiRpcHY2bG9uZzsKCWlm'));
	@fwrite($fp, base64_decode('IChpc3NldCgkY2FjaGVfbG9uZzJpcDZbJHZ2dl0pKSByZXR1cm4gJGNhY2hlX2xvbmcyaXA2WyR2dnZdOwoKCS8vICRiaW4gPSBnbXBfc3RydmFsKGdtcF9pbml0KCRpcHY2bG9uZywgMTApLCAyKTsKCSRiaW4gPSBnbXBfc3RydmFsKCRpcHY2bG9uZywgMik7Cglp'));
	@fwrite($fp, base64_decode('ZiAoc3RybGVuKCRiaW4pIDwgMTI4KSB7CgkJJHBhZCA9IDEyOCAtIHN0cmxlbigkYmluKTsKCQlmb3IgKCRpID0gMTsgJGkgPD0gJHBhZDsgJGkrKykgewoJCQkkYmluID0gJzAnLiRiaW47CgkJfQoJfQoKCSRieXRlcyA9IDA7CgkkaXB2NiA9ICcnOwoJd2hpbGUg'));
	@fwrite($fp, base64_decode('KCRieXRlcyA8IDgpIHsgLy8gMTYgYnl0ZXMgeCA4IGJpdC9ieXRlID0gMTI4Yml0CgkJJGJpbl9wYXJ0ID0gc3Vic3RyKCRiaW4sKCRieXRlcyoxNiksMTYpOwoJCSRwYXJ0ID0gZGVjaGV4KGJpbmRlYygkYmluX3BhcnQpKTsKCQlpZiAoISRjb21wcmVzcykgewoJ'));
	@fwrite($fp, base64_decode('CQkkcGFydCA9IHN0cl9wYWQoJHBhcnQsIDQsICcwJywgU1RSX1BBRF9MRUZUKTsKCQl9CgkJJGlwdjYgLj0gJHBhcnQuJzonOwoJCSRieXRlcysrOwoJfQoKCWlmICgkY29tcHJlc3MpIHsKCQkkb3V0ID0gaW5ldF9udG9wKGluZXRfcHRvbihzdWJzdHIoJGlwdjYs'));
	@fwrite($fp, base64_decode('IDAsIC0xKSkpOwoJfSBlbHNlIHsKCQkkb3V0ID0gc3Vic3RyKCRpcHY2LCAwLCBzdHJsZW4oJGlwdjYpLTEpOwoJfQoJJGNhY2hlX2xvbmcyaXA2WyR2dnZdID0gJG91dDsKCXJldHVybiAkb3V0Owp9CgojIC0tLSBOZXcgMTYsMTIsMTIKCmRlZmluZSgnSVBWNl9C'));
	@fwrite($fp, base64_decode('SVRTJywgMTI4KTsKCiRnbG9iYWxfaXB2Nl9kaXN0YW5jZSA9IGFycmF5KCk7CmZ1bmN0aW9uIGlwdjZfZGlzdGFuY2UoJGlwT3JDSURSX1NlYXJjaHRlcm0sICRpcE9yQ0lEUl9DYW5kaWRhdGUpIHsKCWdsb2JhbCAkZ2xvYmFsX2lwdjZfZGlzdGFuY2U7CgkkdnZ2'));
	@fwrite($fp, base64_decode('ID0gJGlwT3JDSURSX1NlYXJjaHRlcm0uJ3wnLiRpcE9yQ0lEUl9DYW5kaWRhdGU7CglpZiAoaXNzZXQoJGdsb2JhbF9pcHY2X2Rpc3RhbmNlWyR2dnZdKSkgcmV0dXJuICRnbG9iYWxfaXB2Nl9kaXN0YW5jZVskdnZ2XTsKCgkkYXJ5ID0gaXB2Nl9jaWRyX3NwbGl0'));
	@fwrite($fp, base64_decode('KCRpcE9yQ0lEUl9TZWFyY2h0ZXJtKTsKCSRpcCA9ICRhcnlbMF07CgoJaWYgKGZpbHRlcl92YXIoJGlwLCBGSUxURVJfVkFMSURBVEVfSVAsIEZJTFRFUl9GTEFHX0lQVjYpID09PSBmYWxzZSkgewoJCSRnbG9iYWxfaXB2Nl9kaXN0YW5jZVskdnZ2XSA9IGZhbHNl'));
	@fwrite($fp, base64_decode('OwoJCXJldHVybiBmYWxzZTsKCX0KCgkkYXJ5ID0gaXB2Nl9jaWRyX3NwbGl0KCRpcE9yQ0lEUl9DYW5kaWRhdGUpOwoJJGlwID0gJGFyeVswXTsKCSRjaWRyX2JpdHMgPSAkYXJ5WzFdOwoJaWYgKCRjaWRyX2JpdHMgPiBJUFY2X0JJVFMpIHsKCQkkZ2xvYmFsX2lw'));
	@fwrite($fp, base64_decode('djZfZGlzdGFuY2VbJHZ2dl0gPSBmYWxzZTsKCQlyZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBFeGNlcHRpb24oJ0NJRFIgYml0cyA+ICcuSVBWNl9CSVRTKTsKCX0KCWlmICghaXNfbnVtZXJpYygkY2lkcl9iaXRzKSkgcmV0dXJuIGZhbHNlOwoKCWlmIChmaWx0'));
	@fwrite($fp, base64_decode('ZXJfdmFyKCRpcCwgRklMVEVSX1ZBTElEQVRFX0lQLCBGSUxURVJfRkxBR19JUFY2KSA9PT0gZmFsc2UpIHsKCQkkZ2xvYmFsX2lwdjZfZGlzdGFuY2VbJHZ2dl0gPSBmYWxzZTsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJJHggPSBpcHY2X3RyYWNrZG93bigkaXBPckNJ'));
	@fwrite($fp, base64_decode('RFJfU2VhcmNodGVybSk7CgoJaWYgKGlwdjZfaW5fY2lkcigkeFswXSwgJGlwLicvJy4kY2lkcl9iaXRzKSkgewoJCSRhcnkgPSBpcHY2X2NpZHJfc3BsaXQoJHhbMF0pOwoJCSRjaWRyX2JpdHMyID0gJGFyeVsxXTsKCQlpZiAoJGNpZHJfYml0czIgPiBJUFY2X0JJ'));
	@fwrite($fp, base64_decode('VFMpIHsKCQkJJGdsb2JhbF9pcHY2X2Rpc3RhbmNlWyR2dnZdID0gZmFsc2U7CgkJCXJldHVybiBmYWxzZTsgLy8gdGhyb3cgbmV3IEV4Y2VwdGlvbignQ0lEUiBiaXRzID4gJy5JUFY2X0JJVFMpOwoJCX0KCQkkb3V0ID0gJGNpZHJfYml0czItJGNpZHJfYml0czsK'));
	@fwrite($fp, base64_decode('CQkkZ2xvYmFsX2lwdjZfZGlzdGFuY2VbJHZ2dl0gPSAkb3V0OwoJCXJldHVybiAkb3V0OwoJfQoKCSRpID0gMDsKCSRtYXggPSBmYWxzZTsKCWZvcmVhY2ggKCR4IGFzICYkeSkgewoJCWlmIChpcHY2X2luX2NpZHIoJGlwLicvJy4kY2lkcl9iaXRzLCAkeSkpIHsK'));
	@fwrite($fp, base64_decode('CQkJJG1heCA9ICRpOwoJCX0KCQkkaSsrOwoJfQoKCSRnbG9iYWxfaXB2Nl9kaXN0YW5jZVskdnZ2XSA9ICRtYXg7CglyZXR1cm4gJG1heDsKfQoKZnVuY3Rpb24gaXB2Nl9jaWRyX3NwbGl0KCRpcE9yQ0lEUikgewoJJGFyeSA9IGV4cGxvZGUoJy8nLCAkaXBPckNJ'));
	@fwrite($fp, base64_decode('RFIsIDIpOwoJJGNpZHJfYml0cyA9IGlzc2V0KCRhcnlbMV0pID8gJGFyeVsxXSA6IElQVjZfQklUUzsKCWlmICgkY2lkcl9iaXRzID4gSVBWNl9CSVRTKSByZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBFeGNlcHRpb24oJ0NJRFIgYml0cyA+ICcuSVBWNl9CSVRT'));
	@fwrite($fp, base64_decode('KTsKCWlmICghaXNfbnVtZXJpYygkY2lkcl9iaXRzKSkgcmV0dXJuIGZhbHNlOwoJJGlwID0gJGFyeVswXTsKCXJldHVybiBhcnJheSgkaXAsICRjaWRyX2JpdHMpOwp9CgpmdW5jdGlvbiBpcHY2X2VxdWFscygkaXBPckNJRFJBLCAkaXBPckNJRFJCKSB7CglyZXR1'));
	@fwrite($fp, base64_decode('cm4gaXB2Nl9ub3JtYWxpemVfcmFuZ2UoJGlwT3JDSURSQSkgPT0gaXB2Nl9ub3JtYWxpemVfcmFuZ2UoJGlwT3JDSURSQik7Cn0KCmZ1bmN0aW9uIGlwdjZfY2lkcl9taW5faXAoJGlwT3JDSURSKSB7CgkkYXJ5ID0gaXB2Nl9jaWRyX3NwbGl0KCRpcE9yQ0lEUik7'));
	@fwrite($fp, base64_decode('CgkkaXBPckNJRFIgID0gJGFyeVswXTsKCSRjaWRyX2JpdHMgPSAkYXJ5WzFdOwoJaWYgKCRjaWRyX2JpdHMgPiBJUFY2X0JJVFMpIHJldHVybiBmYWxzZTsgLy8gdGhyb3cgbmV3IEV4Y2VwdGlvbignQ0lEUiBiaXRzID4gJy5JUFY2X0JJVFMpOwoJaWYgKCFpc19u'));
	@fwrite($fp, base64_decode('dW1lcmljKCRjaWRyX2JpdHMpKSByZXR1cm4gZmFsc2U7CgoJJG0gPSBpcDJiaW4oJGlwT3JDSURSKTsKCSRtID0gc3Vic3RyKCRtLCAwLCAkY2lkcl9iaXRzKSAuIHN0cl9yZXBlYXQoJzAnLCBJUFY2X0JJVFMtJGNpZHJfYml0cyk7CgoJcmV0dXJuIGJpbjJpcCgk'));
	@fwrite($fp, base64_decode('bSk7Cn0KCmZ1bmN0aW9uIGlwdjZfY2lkcl9tYXhfaXAoJGlwT3JDSURSKSB7CgkkYXJ5ID0gaXB2Nl9jaWRyX3NwbGl0KCRpcE9yQ0lEUik7CgkkaXBPckNJRFIgID0gJGFyeVswXTsKCSRjaWRyX2JpdHMgPSAkYXJ5WzFdOwoJaWYgKCRjaWRyX2JpdHMgPiBJUFY2'));
	@fwrite($fp, base64_decode('X0JJVFMpIHJldHVybiBmYWxzZTsgLy8gdGhyb3cgbmV3IEV4Y2VwdGlvbignQ0lEUiBiaXRzID4gJy5JUFY2X0JJVFMpOwoJaWYgKCFpc19udW1lcmljKCRjaWRyX2JpdHMpKSByZXR1cm4gZmFsc2U7CgoJJG0gPSBpcDJiaW4oJGlwT3JDSURSKTsKCSRtID0gc3Vi'));
	@fwrite($fp, base64_decode('c3RyKCRtLCAwLCAkY2lkcl9iaXRzKSAuIHN0cl9yZXBlYXQoJzEnLCBJUFY2X0JJVFMtJGNpZHJfYml0cyk7CgoJcmV0dXJuIGJpbjJpcCgkbSk7Cn0KCmZ1bmN0aW9uIGlwdjZfbm9ybWFsaXplX3JhbmdlKCRpcE9yQ0lEUikgewoJIyAgICAgMjAwMToxODAwOjox'));
	@fwrite($fp, base64_decode('LzIxCgkjIC0tPiAyMDAxOjE4MDA6Oi8yMQoKCSMgICAgIDIwMDE6MWFmODo0MTAwOmEwNjE6MDAwMTo6MTMzNwoJIyAtLT4gMjAwMToxYWY4OjQxMDA6YTA2MToxOjoxMzM3LzEyOAoKCSRhcnkgPSBpcHY2X2NpZHJfc3BsaXQoJGlwT3JDSURSKTsKCSRpcE9yQ0lE'));
	@fwrite($fp, base64_decode('UiAgPSAkYXJ5WzBdOwoJJGNpZHJfYml0cyA9ICRhcnlbMV07CglpZiAoJGNpZHJfYml0cyA+IElQVjZfQklUUykgcmV0dXJuIGZhbHNlOyAvLyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdDSURSIGJpdHMgPiAnLklQVjZfQklUUyk7CglpZiAoIWlzX251bWVyaWMoJGNp'));
	@fwrite($fp, base64_decode('ZHJfYml0cykpIHJldHVybiBmYWxzZTsKCgkkbSA9IGlwMmJpbigkaXBPckNJRFIpOwoJJG0gPSBzdWJzdHIoJG0sIDAsICRjaWRyX2JpdHMpIC4gc3RyX3JlcGVhdCgnMCcsIElQVjZfQklUUy0kY2lkcl9iaXRzKTsKCglyZXR1cm4gYmluMmlwKCRtKSAuICcvJyAu'));
	@fwrite($fp, base64_decode('ICRjaWRyX2JpdHM7Cn0KCmZ1bmN0aW9uIGlwdjZfdHJhY2tkb3duKCRpcE9yQ0lEUikgewoJJGFyeSA9IGlwdjZfY2lkcl9zcGxpdCgkaXBPckNJRFIpOwoJJGlwT3JDSURSICA9ICRhcnlbMF07CgkkY2lkcl9iaXRzID0gJGFyeVsxXTsKCWlmICgkY2lkcl9iaXRz'));
	@fwrite($fp, base64_decode('ID4gSVBWNl9CSVRTKSByZXR1cm4gZmFsc2U7IC8vIHRocm93IG5ldyBFeGNlcHRpb24oJ0NJRFIgYml0cyA+ICcuSVBWNl9CSVRTKTsKCWlmICghaXNfbnVtZXJpYygkY2lkcl9iaXRzKSkgcmV0dXJuIGZhbHNlOwoKCSRvdXQgPSBhcnJheSgpOwoJJG0gPSBpcDJi'));
	@fwrite($fp, base64_decode('aW4oJGlwT3JDSURSKTsKCWZvciAoJGk9JGNpZHJfYml0czsgJGk+PTA7ICRpLS0pIHsKCQkkbSA9IHN1YnN0cigkbSwgMCwgJGkpIC4gc3RyX3JlcGVhdCgnMCcsIElQVjZfQklUUy0kaSk7CgkJJG91dFtdID0gYmluMmlwKCRtKSAuICcvJyAuICRpOwoJfQoKCXJl'));
	@fwrite($fp, base64_decode('dHVybiAkb3V0Owp9CgpmdW5jdGlvbiBpcHY2X3NvcnQoJGFyeSkgewoJJGYgPSBhcnJheSgpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYykgewoJCSRhID0gZXhwbG9kZSgnLycsICRjKTsKCQkkaXAgPSAkYVswXTsKCQkkYml0cyA9IGlzc2V0KCRhWzFdKSA/ICRhWzFd'));
	@fwrite($fp, base64_decode('IDogMTI4OwoKCQkkZCA9IGlwMmJpbigkaXApOwoKCQkjIG9yZCgnKicpIG11c3QgYmUgc21hbGxlciB0aGFuIG9yZCgnMCcpCgkJJGQgPSBzdWJzdHIoJGQsIDAsICRiaXRzKS5zdHJfcmVwZWF0KCcqJywgMTI4LSRiaXRzKTsKCgkJJGZbJGRdID0gJGM7Cgl9CgoJ'));
	@fwrite($fp, base64_decode('cmV0dXJuICRmOwp9CgpmdW5jdGlvbiBpcHY2X21ha2VfdHJlZSgkYXJ5KSB7CgkkYXJ5ID0gaXB2Nl9zb3J0KCRhcnkpOwoKCWlmIChjb3VudCgkYXJ5KSA9PSAwKSByZXR1cm4gYXJyYXkoKTsKCgkkc3ViX2JlZ2luID0gJyc7Cgkkc3ViX2JlZ2luX2lwID0gJyc7'));
	@fwrite($fp, base64_decode('Cglmb3JlYWNoICgkYXJ5IGFzICRuID0+ICRkKSB7CgkJJHN1Yl9iZWdpbiA9IHN1YnN0cigkbiwgMCwgc3RycG9zKCRuLCAnKicpKTsKCQkkc3ViX2JlZ2luX2lwID0gJGQ7CgkJdW5zZXQoJGFyeVskbl0pOwoJCWJyZWFrOwoJfQoKCSRzdWIgPSBhcnJheSgpOwoJ'));
	@fwrite($fp, base64_decode('JG5vbnN1YiA9IGFycmF5KCk7Cglmb3JlYWNoICgkYXJ5IGFzICRuID0+ICRkKSB7CgkJaWYgKHN1YnN0cigkbiwgMCwgc3RybGVuKCRzdWJfYmVnaW4pKSA9PSAkc3ViX2JlZ2luKSB7CgkJCSRzdWJbJG5dID0gJGQ7CgkJfSBlbHNlIHsKCQkJJG5vbnN1Ylskbl0g'));
	@fwrite($fp, base64_decode('PSAkZDsKCQl9Cgl9CgoJJG91dCA9IGFycmF5KCk7Cgkkb3V0WyRzdWJfYmVnaW5faXBdID0gaXB2Nl9tYWtlX3RyZWUoJHN1Yik7CgoJJGEgPSBpcHY2X21ha2VfdHJlZSgkbm9uc3ViKTsKCgkkb3V0ID0gYXJyYXlfbWVyZ2UoJG91dCwgJGEpOwoKCXJldHVybiAk'));
	@fwrite($fp, base64_decode('b3V0Owp9CgojIC0tLQoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2lwMmJpbicpKSB7CgkkY2FjaGVfaXAyYmluID0gYXJyYXkoKTsKCWZ1bmN0aW9uIGlwMmJpbigkaXApIHsKCQkjIFNvdXJjZTogaHR0cDovL3BocC5uZXQvbWFudWFsL2VuL2Z1bmN0aW9uLmlwMmxv'));
	@fwrite($fp, base64_decode('bmcucGhwIzEwNDE2MwoJCSMgbW9kaWZpZWQgYnkgVlRTCgoJCWdsb2JhbCAkY2FjaGVfaXAyYmluOwoJCWlmIChpc3NldCgkY2FjaGVfaXAyYmluWyRpcF0pKSByZXR1cm4gJGNhY2hlX2lwMmJpblskaXBdOwoKCQlpZiAoZmlsdGVyX3ZhcigkaXAsIEZJTFRFUl9W'));
	@fwrite($fp, base64_decode('QUxJREFURV9JUCwgRklMVEVSX0ZMQUdfSVBWNCkgIT09IGZhbHNlKSB7CgkJCSRvdXQgPSBiYXNlX2NvbnZlcnQoaXAybG9uZygkaXApLCAxMCwgMik7CgkJCSRjYWNoZV9pcDJiaW5bJGlwXSA9ICRvdXQ7CgkJCXJldHVybiAkb3V0OwoJCX0KCQlpZiAoZmlsdGVy'));
	@fwrite($fp, base64_decode('X3ZhcigkaXAsIEZJTFRFUl9WQUxJREFURV9JUCwgRklMVEVSX0ZMQUdfSVBWNikgPT09IGZhbHNlKSB7CgkJCSRjYWNoZV9pcDJiaW5bJGlwXSA9IGZhbHNlOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCWlmICgoJGlwX24gPSBpbmV0X3B0b24oJGlwKSkgPT09IGZh'));
	@fwrite($fp, base64_decode('bHNlKSB7CgkJCSRjYWNoZV9pcDJiaW5bJGlwXSA9IGZhbHNlOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJCSRiaXRzID0gMTU7IC8vIDE2IHggOCBiaXQgPSAxMjhiaXQgKGlwdjYpCgkJJGlwYmluID0gJyc7ICMgYWRkZWQgYnkgdnRzIHRvIGF2b2lkIHdhcm5pbmcK'));
	@fwrite($fp, base64_decode('CQl3aGlsZSAoJGJpdHMgPj0gMCkgewoJCQkkYmluID0gc3ByaW50ZignJTA4YicsIChvcmQoJGlwX25bJGJpdHNdKSkpOwoJCQkkaXBiaW4gPSAkYmluLiRpcGJpbjsKCQkJJGJpdHMtLTsKCQl9CgoJCSRjYWNoZV9pcDJiaW5bJGlwXSA9ICRpcGJpbjsKCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gJGlwYmluOwoJfQp9CgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnYmluMmlwJykpIHsKCSRjYWNoZV9iaW4yaXAgPSBhcnJheSgpOwoJZnVuY3Rpb24gYmluMmlwKCRiaW4pIHsKCQkjIFNvdXJjZTogaHR0cDovL3BocC5uZXQvbWFudWFsL2VuL2Z1bmN0aW9uLmlw'));
	@fwrite($fp, base64_decode('MmxvbmcucGhwIzEwNDE2MwoJCSMgbW9kaWZpZWQgYnkgVlRTCgoJCWdsb2JhbCAkY2FjaGVfYmluMmlwOwoJCWlmIChpc3NldCgkY2FjaGVfYmluMmlwWyRiaW5dKSkgcmV0dXJuICRjYWNoZV9iaW4yaXBbJGJpbl07CgoJCWlmIChzdHJsZW4oJGJpbikgPD0gMzIp'));
	@fwrite($fp, base64_decode('IHsgLy8gMzJiaXRzIChpcHY0KQoJCQkkb3V0ID0gbG9uZzJpcChiYXNlX2NvbnZlcnQoJGJpbiwgMiwgMTApKTsKCQkJJGNhY2hlX2JpbjJpcFskYmluXSA9ICRvdXQ7CgkJCXJldHVybiAkb3V0OwoJCX0KCQlpZiAoc3RybGVuKCRiaW4pICE9IDEyOCkgewoJCQkk'));
	@fwrite($fp, base64_decode('Y2FjaGVfYmluMmlwWyRiaW5dID0gZmFsc2U7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJJHBhZCA9IDEyOCAtIHN0cmxlbigkYmluKTsKCQlmb3IgKCRpID0gMTsgJGkgPD0gJHBhZDsgJGkrKykgewoJCQkkYmluID0gJzAnLiRiaW47CgkJfQoJCSRiaXRzID0gMDsK'));
	@fwrite($fp, base64_decode('CQkkaXB2NiA9ICcnOyAjIGFkZGVkIGJ5IHZ0cyB0byBhdm9pZCB3YXJuaW5nCgkJd2hpbGUgKCRiaXRzIDw9IDcpIHsKCQkJJGJpbl9wYXJ0ID0gc3Vic3RyKCRiaW4sKCRiaXRzKjE2KSwxNik7CgkJCSRpcHY2IC49IGRlY2hleChiaW5kZWMoJGJpbl9wYXJ0KSkg'));
	@fwrite($fp, base64_decode('LiAnOic7CgkJCSRiaXRzKys7CgkJfQoKCQkkb3V0ID0gaW5ldF9udG9wKGluZXRfcHRvbihzdWJzdHIoJGlwdjYsIDAsIC0xKSkpOwoJCSRjYWNoZV9iaW4yaXBbJGJpbl0gPSAkb3V0OwoJCXJldHVybiAkb3V0OwoJfQp9CgojIC0tLSBURVNUCgovKgphc3NlcnQo'));
	@fwrite($fp, base64_decode('aXB2Nl9ub3JtYWxpemUoJzIwMDE6MDAwMDowMDAwOjoxJykgPT0gJzIwMDE6OjEnKTsKCmFzc2VydChpcHY2X2Rpc3RhbmNlKCcyMDAxOjFhZTA6Oi8yNycsICcyMDAxOjFhZjg6Oi8yOScpID09IC0yKTsKYXNzZXJ0KGlwdjZfZGlzdGFuY2UoJzIwMDE6MWFmMDo6'));
	@fwrite($fp, base64_decode('LzI4JywgJzIwMDE6MWFmODo6LzI5JykgPT0gLTEpOwphc3NlcnQoaXB2Nl9kaXN0YW5jZSgnMjAwMToxYWY4OjovMjknLCAnMjAwMToxYWY4OjovMjknKSA9PSAwKTsKYXNzZXJ0KGlwdjZfZGlzdGFuY2UoJzIwMDE6MWFmODo6LzMwJywgJzIwMDE6MWFmODo6LzI5'));
	@fwrite($fp, base64_decode('JykgPT0gMSk7CmFzc2VydChpcHY2X2Rpc3RhbmNlKCcyMDAxOjFhZjg6Oi8zMScsICcyMDAxOjFhZjg6Oi8yOScpID09IDIpOwoKYXNzZXJ0KGlwdjZfZGlzdGFuY2UoJzIwMDE6MWFmODo0MTAwOmEwNjE6MDAwMTo6MTMzNi8xMjcnLCAnMjAwMToxYWY4OjQxMDA6'));
	@fwrite($fp, base64_decode('YTA2MTowMDAxOjoxMzM1LzEyNycpID09PSBmYWxzZSk7CmFzc2VydChpcHY2X2Rpc3RhbmNlKCcyMDAxOjFhZjg6NDEwMDphMDYxOjAwMDE6OjEzMzYvMTI4JywgJzIwMDE6MWFmODo0MTAwOmEwNjE6MDAwMTo6MTMzNy8xMjgnKSA9PT0gZmFsc2UpOwphc3NlcnQo'));
	@fwrite($fp, base64_decode('aXB2Nl9kaXN0YW5jZSgnMjAwMToxYWY4OjQxMDA6YTA2MTowMDAxOjoxMzM2JywgICAgICcyMDAxOjFhZjg6NDEwMDphMDYxOjAwMDE6OjEzMzcnKSAgICAgPT09IGZhbHNlKTsKKi8KCi8qCiR0ZXN0ID0gJzIwMDE6MWFmODo0MTAwOmEwNjE6MDAwMTo6MTMzNyc7'));
	@fwrite($fp, base64_decode('CiR4ID0gaXB2Nl90cmFja2Rvd24oJHRlc3QpOwpmb3JlYWNoICgkeCBhcyAmJGNpZHIpIHsKCSRtaW4gPSBpcHY2X2NpZHJfbWluX2lwKCRjaWRyKTsKCSRtYXggPSBpcHY2X2NpZHJfbWF4X2lwKCRjaWRyKTsKCWVjaG8gIiRjaWRyICgkbWluIC0gJG1heClcbiI7'));
	@fwrite($fp, base64_decode('Cn0KKi8K'));
	@fclose($fp);
}
if (is_file('includes/ipv6_functions.inc.php') && (sha1_file('includes/ipv6_functions.inc.php') != '1a409eebb99dfd49ede9f2d27e2057bce8a28be9')) {
	warn('File was created by someone else. Will overwrite the changes now: includes/ipv6_functions.inc.php');
	$tmp = pathinfo('includes/ipv6_functions.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/ipv6_functions.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('includes/ipv6_functions.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_2();
if (!is_file('includes/ipv6_functions.inc.php')) {
	warn('File cannot be created (not existing): includes/ipv6_functions.inc.php');
} else if (sha1_file('includes/ipv6_functions.inc.php') != '1a409eebb99dfd49ede9f2d27e2057bce8a28be9') {
	warn('File cannot be created (checksum mismatch): includes/ipv6_functions.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/ipv6_functions.inc.php', 0644)) {
	warn('Could not change file permissions of includes/ipv6_functions.inc.php');
}

// File added: includes/uuid_utils.inc.php
function writefile_3() {
	@$fp = fopen('includes/uuid_utils.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQovLyBVVUlEIHV0aWxzIGZvciBQSFAKLy8gQnkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0Ci8vIFZlcnNpb24gMjAxOS0wMy0xOAovLyBMaWNl'));
	@fwrite($fp, base64_decode('bnNlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEFwYWNoZSAyLjAgbGljZW5zZQovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCkBpbmNsdWRlX29uY2UgX19ESVJfXyAuICcvbWFjX3V0aWxzLmluYy5waHBzJzsK'));
	@fwrite($fp, base64_decode('CmRlZmluZSgnVVVJRF9OQU1FQkFTRURfTlNfRE5TJywgICAgICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnKTsKZGVmaW5lKCdVVUlEX05BTUVCQVNFRF9OU19VUkwnLCAgICAgJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBj'));
	@fwrite($fp, base64_decode('OCcpOwpkZWZpbmUoJ1VVSURfTkFNRUJBU0VEX05TX09JRCcsICAgICAnNmJhN2I4MTItOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4Jyk7CmRlZmluZSgnVVVJRF9OQU1FQkFTRURfTlNfWDUwMF9ETicsICc2YmE3YjgxNC05ZGFkLTExZDEtODBiNC0wMGMwNGZk'));
	@fwrite($fp, base64_decode('NDMwYzgnKTsKCmZ1bmN0aW9uIGdlbl91dWlkX21kNV9uYW1lc3BhY2UoJG5hbWVzcGFjZV91dWlkLCAkbmFtZSkgewoJJG5hbWVzcGFjZV91dWlkID0gc3RyX3JlcGxhY2UoJy0nLCAnJywgJG5hbWVzcGFjZV91dWlkKTsKCSRuYW1lc3BhY2VfdXVpZCA9IGhleDJi'));
	@fwrite($fp, base64_decode('aW4oJG5hbWVzcGFjZV91dWlkKTsKCgkkaGFzaCA9IG1kNSgkbmFtZXNwYWNlX3V1aWQuJG5hbWUpOwoKCSRoYXNoWzEyXSA9ICczJzsgLy8gTUQ1CgkkaGFzaFsxNl0gPSBoZXhkZWMoJGhhc2hbMTZdKSAmIDB4MyB8IDB4ODsgLy8gbmFtZSBiYXNlZAoKCXJldHVy'));
	@fwrite($fp, base64_decode('biBzdWJzdHIoJGhhc2gsICAwLCA4KS4nLScuCgkgICAgICAgc3Vic3RyKCRoYXNoLCAgOCwgNCkuJy0nLgoJICAgICAgIHN1YnN0cigkaGFzaCwgMTIsIDQpLictJy4KCSAgICAgICBzdWJzdHIoJGhhc2gsIDE2LCA0KS4nLScuCgkgICAgICAgc3Vic3RyKCRoYXNo'));
	@fwrite($fp, base64_decode('LCAyMCwgMTIpOwp9CgpmdW5jdGlvbiBnZW5fdXVpZF9zaGExX25hbWVzcGFjZSgkbmFtZXNwYWNlX3V1aWQsICRuYW1lKSB7CgkkbmFtZXNwYWNlX3V1aWQgPSBzdHJfcmVwbGFjZSgnLScsICcnLCAkbmFtZXNwYWNlX3V1aWQpOwoJJG5hbWVzcGFjZV91dWlkID0g'));
	@fwrite($fp, base64_decode('aGV4MmJpbigkbmFtZXNwYWNlX3V1aWQpOwoKCSRoYXNoID0gc2hhMSgkbmFtZXNwYWNlX3V1aWQuJG5hbWUpOwoKCSRoYXNoWzEyXSA9ICc1JzsgLy8gU0hBMQoJJGhhc2hbMTZdID0gaGV4ZGVjKCRoYXNoWzE2XSkgJiAweDMgfCAweDg7IC8vIG5hbWUgYmFzZWQK'));
	@fwrite($fp, base64_decode('CglyZXR1cm4gc3Vic3RyKCRoYXNoLCAgMCwgOCkuJy0nLgoJICAgICAgIHN1YnN0cigkaGFzaCwgIDgsIDQpLictJy4KCSAgICAgICBzdWJzdHIoJGhhc2gsIDEyLCA0KS4nLScuCgkgICAgICAgc3Vic3RyKCRoYXNoLCAxNiwgNCkuJy0nLgoJICAgICAgIHN1YnN0'));
	@fwrite($fp, base64_decode('cigkaGFzaCwgMjAsIDEyKTsKfQoKZnVuY3Rpb24gdXVpZF92YWxpZCgkdXVpZCkgewoJJHV1aWQgPSBzdHJfcmVwbGFjZShhcnJheSgnLScsICd7JywgJ30nKSwgJycsICR1dWlkKTsKCSR1dWlkID0gc3RydG91cHBlcigkdXVpZCk7CgoJaWYgKHN0cmxlbigkdXVp'));
	@fwrite($fp, base64_decode('ZCkgIT0gMzIpIHJldHVybiBmYWxzZTsKCgkkdXVpZCA9IHByZWdfcmVwbGFjZSgnQFswLTlBLUZdQCcsICcnLCAkdXVpZCk7CgoJcmV0dXJuICgkdXVpZCA9PSAnJyk7Cn0KCiMgVE9ETzogbmljaHQgZWNobwpmdW5jdGlvbiB1dWlkX2luZm8oJHV1aWQpIHsKCWlm'));
	@fwrite($fp, base64_decode('ICghdXVpZF92YWxpZCgkdXVpZCkpIHJldHVybiBmYWxzZTsKCgkjICR1dWlkID0gc3RyX3JlcGxhY2UoYXJyYXkoJy0nLCAneycsICd9JyksICcnLCAkdXVpZCk7CgkkdXVpZCA9IHN0cnRvdXBwZXIoJHV1aWQpOwoJJHV1aWQgPSBwcmVnX3JlcGxhY2UoJ0BbXjAt'));
	@fwrite($fp, base64_decode('OUEtRl1AJywgJycsICR1dWlkKTsKCgkkeCA9IGhleGRlYyhzdWJzdHIoJHV1aWQsIDE2LCAxKSk7CgkgICAgIGlmICgkeCA+PSAxNCAvKiAxMTEwICovKSAkdmFyaWFudCA9IDM7CgllbHNlIGlmICgkeCA+PSAxMiAvKiAxMTAwICovKSAkdmFyaWFudCA9IDI7Cgll'));
	@fwrite($fp, base64_decode('bHNlIGlmICgkeCA+PSAgOCAvKiAxMDAwICovKSAkdmFyaWFudCA9IDE7CgllbHNlIGlmICgkeCA+PSAgMCAvKiAwMDAwICovKSAkdmFyaWFudCA9IDA7CgoKCXN3aXRjaCAoJHZhcmlhbnQpIHsKCQljYXNlIDA6CgkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIs'));
	@fwrite($fp, base64_decode('ICJWYXJpYW50OiIsICJbMHh4XSBOQ1MgKHJlc2VydmVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5KSIpOwoKCQkJLyoKCQkJICogSW50ZXJuYWwgc3RydWN0dXJlIG9mIHZhcmlhbnQgIzAgVVVJRHMKCQkJICoKCQkJICogVGhlIGZpcnN0IDYgb2N0ZXRzIGFy'));
	@fwrite($fp, base64_decode('ZSB0aGUgbnVtYmVyIG9mIDQgdXNlYyB1bml0cyBvZiB0aW1lIHRoYXQgaGF2ZQoJCQkgKiBwYXNzZWQgc2luY2UgMS8xLzgwIDAwMDAgR01ULiAgVGhlIG5leHQgMiBvY3RldHMgYXJlIHJlc2VydmVkIGZvcgoJCQkgKiBmdXR1cmUgdXNlLiAgVGhlIG5leHQgb2N0'));
	@fwrite($fp, base64_decode('ZXQgaXMgYW4gYWRkcmVzcyBmYW1pbHkuICBUaGUgbmV4dCA3IG9jdGV0cwoJCQkgKiBhcmUgYSBob3N0IElEIGluIHRoZSBmb3JtIGFsbG93ZWQgYnkgdGhlIHNwZWNpZmllZCBhZGRyZXNzIGZhbWlseS4KCQkJICoKCQkJICogTm90ZSB0aGF0IHdoaWxlIHRoZSBm'));
	@fwrite($fp, base64_decode('YW1pbHkgZmllbGQgKG9jdGV0IDgpIHdhcyBvcmlnaW5hbGx5IGNvbmNlaXZlZAoJCQkgKiBvZiBhcyBiZWluZyBhYmxlIHRvIGhvbGQgdmFsdWVzIGluIHRoZSByYW5nZSBbMC4uMjU1XSwgb25seSBbMC4uMTNdCgkJCSAqIHdlcmUgZXZlciB1c2VkLiAgVGh1cywg'));
	@fwrite($fp, base64_decode('dGhlIDIgTVNCIG9mIHRoaXMgZmllbGQgYXJlIGFsd2F5cyAwIGFuZCBhcmUKCQkJICogdXNlZCB0byBkaXN0aW5ndWlzaCBvbGQgYW5kIGN1cnJlbnQgVVVJRCBmb3Jtcy4KCQkJICoKCQkJICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t'));
	@fwrite($fp, base64_decode('LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKwoJCQkgKiB8ICAgICAgICAgICAgICAgICAgICBoaWdoIDMyIGJpdHMgb2YgdGltZSAgICAgICAgICAgICAgICAgICAgICB8ICAwLTMgIC50aW1lX2hpZ2gKCQkJICogKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t'));
	@fwrite($fp, base64_decode('LS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoJCQkgKiB8ICAgICBsb3cgMTYgYml0cyBvZiB0aW1lICAgICAgIHwgIDQtNSAgICAgICAgICAgICAgIC50aW1lX2xvdwoJCQkgKiArLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsKCQkJICog'));
	@fwrite($fp, base64_decode('fCAgICAgICAgIHJlc2VydmVkICAgICAgICAgICAgICB8ICA2LTcgICAgICAgICAgICAgICAucmVzZXJ2ZWQKCQkJICogKy0tLS0tLS0tLS0tLS0tLSstLS0tLS0tLS0tLS0tLS0rCgkJCSAqIHwgICAgZmFtaWx5ICAgICB8ICAgOCAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgLmZhbWlseQoJCQkgKiArLS0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0uLi4tLS0tLSsKCQkJICogfCAgICAgICAgICAgIG5vZGUgSUQgICAgICAgICAgICAgICB8ICA5LTE2ICAgICAgICAgICAubm9kZQoJCQkgKiArLS0tLS0tLS0tLS0tLS0t'));
	@fwrite($fp, base64_decode('LS0tLS0tLS0tLS0uLi4tLS0tLSsKCQkJICoKCQkJICovCgoJCQkvLyBFeGFtcGxlIG9mIGFuIFVVSUQ6IDMzM2EyMjc2LTAwMDAtMDAwMC0wZDAwLTAwODA5YzAwMDAwMAoKCQkJIyBUT0RPOiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nqc3YvdXVpZC9ibG9iL21h'));
	@fwrite($fp, base64_decode('c3Rlci9Eb2MKCgkJCSMgVGltZXN0YW1wOiBDb3VudCBvZiA0dXMgaW50ZXJ2YWxzIHNpbmNlIDAxIEphbiAxOTgwIDAwOjAwOjAwIEdNVAoJCQkjIDEvMCwwMDAwMDQgPSAyNTAwMDAKCQkJIyBTZWNvbmRzIGJldHdlZW4gMTk3MCBhbmQgMTk4MCA6IDMxNTUzMjgw'));
	@fwrite($fp, base64_decode('MAoJCQkjIDI1MDAwMCozMTU1MzI4MDA9Nzg4ODMyMDAwMDAwMDAKCQkJJHRpbWVzdGFtcCA9IHN1YnN0cigkdXVpZCwgMCwgMTIpOwoJCQkkdHMgPSBnbXBfaW5pdCgkdGltZXN0YW1wLCAxNik7CgkJCSR0cyA9IGdtcF9hZGQoJHRzLCBnbXBfaW5pdCgiNzg4ODMy'));
	@fwrite($fp, base64_decode('MDAwMDAwMDAiKSk7CgkJCSRtcyA9IGdtcF9tb2QoJHRzLCBnbXBfaW5pdCgiMjUwMDAwIikpOyAjIFRPRE86IGdpYnQgZXMga2VpbiBkaXZtb2Q/CgkJCSR0cyA9IGdtcF9kaXYoJHRzLCBnbXBfaW5pdCgiMjUwMDAwIikpOwoJCQkkdHMgPSBnbXBfc3RydmFsKCR0'));
	@fwrite($fp, base64_decode('cyk7CgkJCSRtcyA9IGdtcF9zdHJ2YWwoJG1zKTsKCQkJJHRzID0gZ21kYXRlKCdZLW0tZCBIOmk6cycsICR0cyk7CgkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJUaW1lc3RhbXA6IiwgIlsweCR0aW1lc3RhbXBdICR0cyciLnN0cl9wYWQoJG1zLCA2LCAn'));
	@fwrite($fp, base64_decode('MCcsIFNUUl9QQURfTEVGVCkuJyBHTVQnKTsKCgkJCSRyZXNlcnZlZCA9IHN1YnN0cigkdXVpZCwgMTIsIDQpOwoJCQllY2hvIHNwcmludGYoIiUtMjRzICVzXG4iLCAiUmVzZXJ2ZWQ6IiwgIjB4JHJlc2VydmVkIik7CgoJCQkjIEZhbWlseSAxMyAoZGRzKSBsb29r'));
	@fwrite($fp, base64_decode('cyBsaWtlIG5vZGUgaXMgMDAgfCBubm5ubm4gMDAwMDAwLgoJCQkjIEZhbWlseSAyIGlzIHByZXN1bWFibHkgKGlwKS4KCQkJIyBOb3Qgc3VyZSBpZiBhbnl0aGluZyBlbHNlIHdhcyB1c2VkLgoJCQkkZmFtaWx5X2hleCA9IHN1YnN0cigkdXVpZCwgMTYsIDIpOwoJ'));
	@fwrite($fp, base64_decode('CQkkZmFtaWx5X2RlYyA9IGhleGRlYygkZmFtaWx5X2hleCk7CgkJCWlmICgkZmFtaWx5X2RlYyA9PSAyKSB7CgkJCQkkZmFtaWx5XyA9ICdJUCc7CgkJCX0gZWxzZSBpZiAoJGZhbWlseV9kZWMgPT0gMTMpIHsKCQkJCSRmYW1pbHlfID0gJ0REUyAoRGF0YSBMaW5r'));
	@fwrite($fp, base64_decode('KSc7CgkJCX0gZWxzZSB7CgkJCQkkZmFtaWx5XyA9ICdVbmtub3duJzsgIyBUT0RPOiBGaW5kIG91dCBhbGwgZmFtaWxpZXMgWzAuLjEzXQoJCQl9CgkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJGYW1pbHk6IiwgIlsweCRmYW1pbHlfaGV4ID0gJGZhbWls'));
	@fwrite($fp, base64_decode('eV9kZWNdICRmYW1pbHlfIik7CgoJCQkkbm9kZWlkID0gc3Vic3RyKCR1dWlkLCAxOCwgMTQpOwoJCQllY2hvIHNwcmludGYoIiUtMjRzICVzXG4iLCAiTm9kZSBJRDoiLCAiMHgkbm9kZWlkIik7CgkJCSMgVE9ETzogaW50ZXJwcmV0ZSBub2RlIGlkICh0aGUgZmFt'));
	@fwrite($fp, base64_decode('aWx5IHNwZWNpZmllcyBpdCkKCgkJCWJyZWFrOwoJCWNhc2UgMToKCQkJZWNobyBzcHJpbnRmKCIlLTI0cyAlc1xuIiwgIlZhcmlhbnQ6IiwgIlsxMHhdIFJGQyA0MTIyIChMZWFjaC1NZWFsbGluZy1TYWx6KSIpOwoKCQkJJHZlcnNpb24gPSBoZXhkZWMoc3Vic3Ry'));
	@fwrite($fp, base64_decode('KCR1dWlkLCAxMiwgMSkpOwoJCQlzd2l0Y2ggKCR2ZXJzaW9uKSB7CgkJCQljYXNlIDE6CgkJCQkJZWNobyBzcHJpbnRmKCIlLTI0cyAlc1xuIiwgIlZlcnNpb246IiwgIlsxXSBUaW1lLWJhc2VkIHdpdGggdW5pcXVlIHJhbmRvbSBob3N0IGlkZW50aWZpZXIiKTsK'));
	@fwrite($fp, base64_decode('CgkJCQkJIyBUaW1lc3RhbXA6IENvdW50IG9mIDEwMG5zIGludGVydmFscyBzaW5jZSAxNSBPY3QgMTU4MiAwMDowMDowMAoJCQkJCSMgMS8wLDAwMDAwMDEgPSAxMDAwMDAwMAoJCQkJCSR0aW1lc3RhbXAgPSBzdWJzdHIoJHV1aWQsIDEzLCAzKS5zdWJzdHIoJHV1'));
	@fwrite($fp, base64_decode('aWQsIDgsIDQpLnN1YnN0cigkdXVpZCwgMCwgOCk7CgkJCQkJJHRzID0gZ21wX2luaXQoJHRpbWVzdGFtcCwgMTYpOwoJCQkJCSR0cyA9IGdtcF9zdWIoJHRzLCBnbXBfaW5pdCgiMTIyMTkyOTI4MDAwMDAwMDAwIikpOwoJCQkJCSRtcyA9IGdtcF9tb2QoJHRzLCBn'));
	@fwrite($fp, base64_decode('bXBfaW5pdCgiMTAwMDAwMDAiKSk7ICMgVE9ETzogZ2lidCBlcyBrZWluIGRpdm1vZD8KCQkJCQkkdHMgPSBnbXBfZGl2KCR0cywgZ21wX2luaXQoIjEwMDAwMDAwIikpOwoJCQkJCSR0cyA9IGdtcF9zdHJ2YWwoJHRzKTsKCQkJCQkkbXMgPSBnbXBfc3RydmFsKCRt'));
	@fwrite($fp, base64_decode('cyk7CgkJCQkJJHRzID0gZ21kYXRlKCdZLW0tZCBIOmk6cycsICR0cyk7CgkJCQkJZWNobyBzcHJpbnRmKCIlLTI0cyAlc1xuIiwgIlRpbWVzdGFtcDoiLCAiWzB4JHRpbWVzdGFtcF0gJHRzJyIuc3RyX3BhZCgkbXMsIDcsICcwJywgU1RSX1BBRF9MRUZUKS4nIEdN'));
	@fwrite($fp, base64_decode('VCcpOwoKCQkJCQkkeCA9IGhleGRlYyhzdWJzdHIoJHV1aWQsIDE2LCA0KSk7CgkJCQkJJHggPSAkeCBeIDB4ODAwMDsKCQkJCQkkeSA9IGRlY2hleCgkeCk7CgkJCQkJZWNobyBzcHJpbnRmKCIlLTI0cyAlc1xuIiwgIkNsb2NrIElEOiIsICcweCcuc3RydG91cHBl'));
	@fwrite($fp, base64_decode('cigkeSkuIiA9ICR4Iik7CgoJCQkJCSR4ID0gc3Vic3RyKCR1dWlkLCAyMCwgMTIpOwoJCQkJCSRub2RlaWQgPSAnJzsKCQkJCQlmb3IgKCRpPTA7ICRpPDY7ICRpKyspIHsKCQkJCQkJJG5vZGVpZCAuPSBzdWJzdHIoJHgsICRpKjIsIDIpOwoJCQkJCQlpZiAoJGkg'));
	@fwrite($fp, base64_decode('IT0gNSkgJG5vZGVpZCAuPSAnOic7CgkJCQkJfQoJCQkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJOb2RlIElEOiIsICIkbm9kZWlkIik7CgoJCQkJCWlmIChmdW5jdGlvbl9leGlzdHMoJ2RlY29kZV9tYWMnKSkgewoJCQkJCQllY2hvICJcbkluIGNhc2Ug'));
	@fwrite($fp, base64_decode('dGhhdCB0aGlzIE5vZGUgSUQgaXMgYSBNQUMgYWRkcmVzcywgaGVyZSBpcyB0aGUgaW50ZXJwcmV0YXRpb24gb2YgdGhhdCBNQUMgYWRkcmVzczpcbiI7CgkJCQkJCWVjaG8gZGVjb2RlX21hYygkbm9kZWlkKTsKCQkJCQl9CgoJCQkJCWJyZWFrOwoJCQkJY2FzZSAy'));
	@fwrite($fp, base64_decode('OgoJCQkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJWZXJzaW9uOiIsICJbMl0gRENFIFNlY3VyaXR5IHZlcnNpb24gKHdpdGggUE9TSVggVUlEcykiKTsKCgkJCQkJIyBUT0RPOiBpcyB0aGF0IGNvcnJlY3Q/Pz8KCgkJCQkJIyBUaGUgdGltZV9sb3cgZmll'));
	@fwrite($fp, base64_decode('bGQgKHdoaWNoIHJlcHJlc2VudHMgYW4gaW50ZWdlciBpbiB0aGUgcmFuZ2UgWzAsIDIzMi0xXSkgaXMgaW50ZXJwcmV0ZWQgYXMgYSBsb2NhbC1JRDsgdGhhdCBpcywgYW4gaWRlbnRpZmllciAod2l0aGluIHRoZSBkb21haW4gc3BlY2lmaWVkIGJ5IGNsb2NrX3Nl'));
	@fwrite($fp, base64_decode('cV9sb3cpIG1lYW5pbmdmdWwgdG8gdGhlIGxvY2FsIGhvc3QuIEluIHRoZSBwYXJ0aWN1bGFyIGNhc2Ugb2YgYSBQT1NJWCBob3N0LCB3aGVuIGNvbWJpbmVkIHdpdGggYSBQT1NJWCBVSUQgb3IgUE9TSVggR0lEIGRvbWFpbiBpbiB0aGUgY2xvY2tfc2VxX2xvdyBm'));
	@fwrite($fp, base64_decode('aWVsZCAoYWJvdmUpLCB0aGUgdGltZV9sb3cgZmllbGQgcmVwcmVzZW50cyBhIFBPU0lYIFVJRCBvciBQT1NJWCBHSUQsIHJlc3BlY3RpdmVseS4gCgkJCQkJJHggPSBzdWJzdHIoJHV1aWQsIDAsIDgpOwoJCQkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJM'));
	@fwrite($fp, base64_decode('b2NhbCBJRDoiLCAiMHgkeCIpOwoKCgkJCQkJIyBUaGUgY2xvY2tfc2VxX2xvdyBmaWVsZCAod2hpY2ggcmVwcmVzZW50cyBhbiBpbnRlZ2VyIGluIHRoZSByYW5nZSBbMCwgMjgtMV0pIGlzIGludGVycHJldGVkIGFzIGEgbG9jYWwgZG9tYWluIChhcyByZXByZXNl'));
	@fwrite($fp, base64_decode('bnRlZCBieSBzZWNfcmd5X2RvbWFpbl90OyBzZWUgc2VjX3JneV9kb21haW5fdCApOyB0aGF0IGlzLCBhbiBpZGVudGlmaWVyIGRvbWFpbiBtZWFuaW5nZnVsIHRvIHRoZSBsb2NhbCBob3N0LiAoTm90ZSB0aGF0IHRoZSBkYXRhIHR5cGUgc2VjX3JneV9kb21haW5f'));
	@fwrite($fp, base64_decode('dCBjYW4gcG90ZW50aWFsbHkgaG9sZCB2YWx1ZXMgb3V0c2lkZSB0aGUgcmFuZ2UgWzAsIDI4LTFdOyBob3dldmVyLCB0aGUgb25seSB2YWx1ZXMgY3VycmVudGx5IHJlZ2lzdGVyZWQgYXJlIGluIHRoZSByYW5nZSBbMCwgMl0sIHNvIHRoaXMgdHlwZSBtaXNtYXRj'));
	@fwrite($fp, base64_decode('aCBpcyBub3Qgc2lnbmlmaWNhbnQuKSBJbiB0aGUgcGFydGljdWxhciBjYXNlIG9mIGEgUE9TSVggaG9zdCwgdGhlIHZhbHVlIHNlY19yZ3lfZG9tYWluX3BlcnNvbiBpcyB0byBiZSBpbnRlcnByZXRlZCBhcyB0aGUgIlBPU0lYIFVJRCBkb21haW4iLCBhbmQgdGhl'));
	@fwrite($fp, base64_decode('IHZhbHVlIHNlY19yZ3lfZG9tYWluX2dyb3VwIGlzIHRvIGJlIGludGVycHJldGVkIGFzIHRoZSAiUE9TSVggR0lEIGRvbWFpbiIuCgkJCQkJJHggPSBzdWJzdHIoJHV1aWQsIDAsIDE4LCAyKTsKCQkJCQllY2hvIHNwcmludGYoIiUtMjRzICVzXG4iLCAiTG9jYWwg'));
	@fwrite($fp, base64_decode('RG9tYWluOiIsICIweCR4Iik7CgoKCQkJCQkjIFRpbWVzdGFtcDogQ291bnQgb2YgMTAwbnMgaW50ZXJ2YWxzIHNpbmNlIDE1IE9jdCAxNTgyIDAwOjAwOjAwCgkJCQkJIyAxLzAsMDAwMDAwMSA9IDEwMDAwMDAwCgkJCQkJJHRpbWVzdGFtcCA9IHN1YnN0cigkdXVp'));
	@fwrite($fp, base64_decode('ZCwgMTMsIDMpLnN1YnN0cigkdXVpZCwgOCwgNCkuJzAwMDAwMDAwJzsgIyBUT0RPOiBpc3QgZGFzIE9LIHNvPz8/PwoJCQkJCSR0cyA9IGdtcF9pbml0KCR0aW1lc3RhbXAsIDE2KTsKCQkJCQkkdHMgPSBnbXBfc3ViKCR0cywgZ21wX2luaXQoIjEyMjE5MjkyODAw'));
	@fwrite($fp, base64_decode('MDAwMDAwMCIpKTsKCQkJCQkkbXMgPSBnbXBfbW9kKCR0cywgZ21wX2luaXQoIjEwMDAwMDAwIikpOyAjIFRPRE86IGdpYnQgZXMga2VpbiBkaXZtb2Q/CgkJCQkJJHRzID0gZ21wX2RpdigkdHMsIGdtcF9pbml0KCIxMDAwMDAwMCIpKTsKCQkJCQkkdHMgPSBnbXBf'));
	@fwrite($fp, base64_decode('c3RydmFsKCR0cyk7CgkJCQkJJG1zID0gZ21wX3N0cnZhbCgkbXMpOwoJCQkJCSR0cyA9IGdtZGF0ZSgnWS1tLWQgSDppOnMnLCAkdHMpOwoJCQkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJUaW1lc3RhbXA6IiwgIlsweCR0aW1lc3RhbXBdICR0cyciLnN0'));
	@fwrite($fp, base64_decode('cl9wYWQoJG1zLCA3LCAnMCcsIFNUUl9QQURfTEVGVCkuJyBHTVQnKTsKCgkJCQkJJHggPSBoZXhkZWMoc3Vic3RyKCR1dWlkLCAxNiwgMikuJzAwJyk7ICMgVE9ETzogaXN0IGRhcyBPSyBzbz8/Pz8KCQkJCQkkeCA9ICR4IF4gMHg4MDAwOwoJCQkJCSR5ID0gZGVj'));
	@fwrite($fp, base64_decode('aGV4KCR4KTsKCQkJCQllY2hvIHNwcmludGYoIiUtMjRzICVzXG4iLCAiQ2xvY2sgSUQ6IiwgIjB4JHkgPSAkeCIpOwoKCQkJCQkkeCA9IHN1YnN0cigkdXVpZCwgMjAsIDEyKTsKCQkJCQkkbm9kZWlkID0gJyc7CgkJCQkJZm9yICgkaT0wOyAkaTw2OyAkaSsrKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkJCSRub2RlaWQgLj0gc3Vic3RyKCR4LCAkaSoyLCAyKTsKCQkJCQkJaWYgKCRpICE9IDUpICRub2RlaWQgLj0gJzonOwoJCQkJCX0KCQkJCQllY2hvIHNwcmludGYoIiUtMjRzICVzXG4iLCAiTm9kZSBJRDoiLCAiJG5vZGVpZCIpOwoKCQkJCQlpZiAoZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb25fZXhpc3RzKCdkZWNvZGVfbWFjJykpIHsKCQkJCQkJZWNobyAiXG5JbiBjYXNlIHRoYXQgdGhpcyBOb2RlIElEIGlzIGEgTUFDIGFkZHJlc3MsIGhlcmUgaXMgdGhlIGludGVycHJldGF0aW9uIG9mIHRoYXQgTUFDIGFkZHJlc3M6XG4iOwoJCQkJCQllY2hv'));
	@fwrite($fp, base64_decode('IGRlY29kZV9tYWMoJG5vZGVpZCk7CgkJCQkJfQoKCQkJCQlicmVhazsKCQkJCWNhc2UgMzoKCQkJCQllY2hvIHNwcmludGYoIiUtMjRzICVzXG4iLCAiVmVyc2lvbjoiLCAiWzNdIE5hbWUtYmFzZWQgKE1ENSBoYXNoKSIpOwoKCQkJCQkjIFRPRE8KCgkJCQkJYnJl'));
	@fwrite($fp, base64_decode('YWs7CgkJCQljYXNlIDQ6CgkJCQkJZWNobyBzcHJpbnRmKCIlLTI0cyAlc1xuIiwgIlZlcnNpb246IiwgIls0XSBSYW5kb20iKTsKCgkJCQkJJHJhbmQgPSAnJzsKCQkJCQlmb3IgKCRpPTA7ICRpPDE2OyAkaSsrKSB7CgkJCQkJCSRiaW4gPSBiYXNlX2NvbnZlcnQo'));
	@fwrite($fp, base64_decode('c3Vic3RyKCR1dWlkLCAkaSoyLCAyKSwgMTYsIDIpOwoJCQkJCQkkYmluID0gc3RyX3BhZCgkYmluLCA4LCAiMCIsIFNUUl9QQURfTEVGVCk7CgoJCQkJCQlpZiAoJGkgPT0gNikgewoJCQkJCQkJJGJpblswXSA9ICd4JzsKCQkJCQkJCSRiaW5bMV0gPSAneCc7CgkJ'));
	@fwrite($fp, base64_decode('CQkJCX0gZWxzZSBpZiAoJGkgPT0gOCkgewoJCQkJCQkJJGJpblswXSA9ICd4JzsKCQkJCQkJCSRiaW5bMV0gPSAneCc7CgkJCQkJCQkkYmluWzJdID0gJ3gnOwoJCQkJCQkJJGJpblszXSA9ICd4JzsKCQkJCQkJfQoKCQkJCQkJJHJhbmQgLj0gIiRiaW4gIjsKCQkJ'));
	@fwrite($fp, base64_decode('CQl9CgoJCQkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJSYW5kb20gYml0czoiLCB0cmltKCRyYW5kKSk7CgoJCQkJCWJyZWFrOwoJCQkJY2FzZSA1OgoJCQkJCWVjaG8gc3ByaW50ZigiJS0yNHMgJXNcbiIsICJWZXJzaW9uOiIsICJbNV0gTmFtZS1iYXNl'));
	@fwrite($fp, base64_decode('ZCAoU0hBLTEgaGFzaCkiKTsKCgkJCQkJIyBUT0RPCgoJCQkJCWJyZWFrOwoJCQkJZGVmYXVsdDoKCQkJCQllY2hvIHNwcmludGYoIiUtMjRzICVzXG4iLCAiVmVyc2lvbjoiLCAiWyR2ZXJzaW9uXSBVbmtub3duIik7CgkJCQkJYnJlYWs7CgkJCX0KCgkJCWJyZWFr'));
	@fwrite($fp, base64_decode('OwoJCWNhc2UgMjoKCQkJZWNobyBzcHJpbnRmKCIlLTI0cyAlc1xuIiwgIlZhcmlhbnQ6IiwgIlsxMTBdIFJlc2VydmVkIGZvciBNaWNyb3NvZnQgQ29ycG9yYXRpb24iKTsKCgkJCSMgVE9ETwoKCQkJYnJlYWs7CgkJY2FzZSAzOgoJCQllY2hvIHNwcmludGYoIiUt'));
	@fwrite($fp, base64_decode('MjRzICVzXG4iLCAiVmFyaWFudDoiLCAiWzExMV0gUmVzZXJ2ZWQgZm9yIGZ1dHVyZSB1c2UiKTsKCQkJYnJlYWs7Cgl9Cn0KCmZ1bmN0aW9uIHV1aWRfY2Fub25pemUoJHV1aWQpIHsKCWlmICghdXVpZF92YWxpZCgkdXVpZCkpIHJldHVybiBmYWxzZTsKCXJldHVy'));
	@fwrite($fp, base64_decode('biBvaWRfdG9fdXVpZCh1dWlkX3RvX29pZCgkdXVpZCkpOwp9CgpmdW5jdGlvbiBvaWRfdG9fdXVpZCgkb2lkKSB7CglpZiAoIWlzX3V1aWRfb2lkKCRvaWQpKSByZXR1cm4gZmFsc2U7CgoJaWYgKCRvaWRbMF0gPT0gJy4nKSB7CgkJJG9pZCA9IHN1YnN0cigkb2lk'));
	@fwrite($fp, base64_decode('LCAxKTsKCX0KCSRhcnkgPSBleHBsb2RlKCcuJywgJG9pZCk7CgkkdmFsID0gJGFyeVsyXTsKCgkkeCA9IGdtcF9pbml0KCR2YWwsIDEwKTsKCSR5ID0gZ21wX3N0cnZhbCgkeCwgMTYpOwoJJHkgPSBzdHJfcGFkKCR5LCAzMiwgIjAiLCBTVFJfUEFEX0xFRlQpOwoJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIHN1YnN0cigkeSwgIDAsIDgpLictJy4KCSAgICAgICBzdWJzdHIoJHksICA4LCA0KS4nLScuCgkgICAgICAgc3Vic3RyKCR5LCAxMiwgNCkuJy0nLgoJICAgICAgIHN1YnN0cigkeSwgMTYsIDQpLictJy4KCSAgICAgICBzdWJzdHIoJHksIDIwLCAxMik7'));
	@fwrite($fp, base64_decode('Cn0KCmZ1bmN0aW9uIGlzX3V1aWRfb2lkKCRvaWQsICRvbmx5X2FsbG93X3Jvb3Q9ZmFsc2UpIHsKCWlmICgoc3Vic3RyKCRvaWQsIDAsIDUpICE9ICcyLjI1LicpICYmIChzdWJzdHIoJG9pZCwgMCwgNikgIT0gJy4yLjI1LicpKSByZXR1cm4gZmFsc2U7CgoJaWYg'));
	@fwrite($fp, base64_decode('KCRvaWRbMF0gPT0gJy4nKSAkb2lkID0gc3Vic3RyKCRvaWQsIDEpOwoKCSRhcnkgPSBleHBsb2RlKCcuJywgJG9pZCk7CgoJaWYgKCRvbmx5X2FsbG93X3Jvb3QpIHsKCQlpZiAoY291bnQoJGFyeSkgIT0gMykgcmV0dXJuIGZhbHNlOwoJfQoKCWZvciAoJGk9Mjsg'));
	@fwrite($fp, base64_decode('JGk8Y291bnQoJGFyeSk7ICRpKyspIHsKCQkkdiA9ICRhcnlbJGldOwoJCWlmICghaXNfbnVtZXJpYygkdikpIHJldHVybiBmYWxzZTsKCQlpZiAoJHYgPCAwKSByZXR1cm4gZmFsc2U7Cgl9CgoJcmV0dXJuIHRydWU7Cn0KCmZ1bmN0aW9uIHV1aWRfdG9fb2lkKCR1'));
	@fwrite($fp, base64_decode('dWlkKSB7CglpZiAoIXV1aWRfdmFsaWQoJHV1aWQpKSByZXR1cm4gZmFsc2U7CgoJJHV1aWQgPSBzdHJfcmVwbGFjZShhcnJheSgnLScsICd7JywgJ30nKSwgJycsICR1dWlkKTsKCSR4ID0gZ21wX2luaXQoJHV1aWQsIDE2KTsKCXJldHVybiAnMi4yNS4nLmdtcF9z'));
	@fwrite($fp, base64_decode('dHJ2YWwoJHgsIDEwKTsgIyBUT0RPOiBwYXJhbWV0ZXIgbWl0IG9kZXIgb2huZSBsZWFkaW5nIGRvdAp9CgpmdW5jdGlvbiBfZ2VuX3V1aWRfdjQoKSB7CgkvLyBodHRwOi8vcm9nZXJzdHJpbmdlci5jb20vMjAxMy8xMS8xNS9nZW5lcmF0ZS11dWlkcy1waHAKCXJl'));
	@fwrite($fp, base64_decode('dHVybiBzcHJpbnRmKCAnJTA0eCUwNHgtJTA0eC0lMDR4LSUwNHgtJTA0eCUwNHglMDR4JywKCQltdF9yYW5kKCAwLCAweGZmZmYgKSwgbXRfcmFuZCggMCwgMHhmZmZmICksCgkJbXRfcmFuZCggMCwgMHhmZmZmICksCgkJbXRfcmFuZCggMCwgMHgwZmZmICkgfCAw'));
	@fwrite($fp, base64_decode('eDQwMDAsCgkJbXRfcmFuZCggMCwgMHgzZmZmICkgfCAweDgwMDAsCgkJbXRfcmFuZCggMCwgMHhmZmZmICksIG10X3JhbmQoIDAsIDB4ZmZmZiApLCBtdF9yYW5kKCAwLCAweGZmZmYgKQoJKTsKfQoKZnVuY3Rpb24gZ2VuX3V1aWQoJHByZWZlcl90aW1lYmFzZWQg'));
	@fwrite($fp, base64_decode('PSB0cnVlKSB7Cgkkb3V0ID0gYXJyYXkoKTsKCgkjIE9uIERlYmlhbjogYXB0aXR1ZGUgaW5zdGFsbCBwaHAtdXVpZAoJIyBleHRlbnNpb25fbG9hZGVkKCd1dWlkJykKCWlmIChmdW5jdGlvbl9leGlzdHMoJ3V1aWRfY3JlYXRlJykpIHsKCQkjIE9TU1AgdXVpZCBl'));
	@fwrite($fp, base64_decode('eHRlbnNpb24gbGlrZSBzZWVuIGluIHBocDUtdXVpZCBhdCBEZWJpYW4gOAoJCS8qCgkJJHggPSB1dWlkX2NyZWF0ZSgkY29udGV4dCk7CgkJaWYgKCRwcmVmZXJfdGltZWJhc2VkKSB7CgkJCXV1aWRfbWFrZSgkY29udGV4dCwgVVVJRF9NQUtFX1YxKTsKCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCQl1dWlkX21ha2UoJGNvbnRleHQsIFVVSURfTUFLRV9WNCk7CgkJfQoJCXV1aWRfZXhwb3J0KCRjb250ZXh0LCBVVUlEX0ZNVF9TVFIsICR1dWlkKTsKCQlyZXR1cm4gdHJpbSgkdXVpZCk7CgkJKi8KCgkJIyBQRUNMIHV1aWQgZXh0ZW5zaW9uIGxpa2Ug'));
	@fwrite($fp, base64_decode('c2VlbiBpbiBwaHAtdXVpZCBhdCBEZWJpYW4gOQoJCXJldHVybiB0cmltKHV1aWRfY3JlYXRlKCRwcmVmZXJfdGltZWJhc2VkID8gVVVJRF9UWVBFX1RJTUUgOiBVVUlEX1RZUEVfUkFORE9NKSk7Cgl9CgoJIyBPbiBEZWJpYW46IGFwdGl0dWRlIGluc3RhbGwgdXVp'));
	@fwrite($fp, base64_decode('ZC1ydW50aW1lCglpZiAoJHByZWZlcl90aW1lYmFzZWQpIHsKCQlleGVjKCd1dWlkZ2VuIC10JywgJG91dCwgJGVjKTsKCX0gZWxzZSB7CgkJZXhlYygndXVpZGdlbiAtcicsICRvdXQsICRlYyk7Cgl9CglpZiAoJGVjID09IDApIHJldHVybiAkb3V0WzBdOwoKCWlm'));
	@fwrite($fp, base64_decode('ICghJHByZWZlcl90aW1lYmFzZWQpIHsKCQlyZXR1cm4gX2dlbl91dWlkX3Y0KCk7Cgl9CgoJLy8gQXQgdGhpcyBwb2ludCB3ZSBjYW5ub3QgZnVsZmlsIHRoZSBjYWxsZXIncyB3aXNoIGluIHJlZ2FyZHMgdG8gJHByZWZlcl90aW1lYmFzZWQgb3Igbm90CgoJaWYg'));
	@fwrite($fp, base64_decode('KGZpbGVfZXhpc3RzKCcvcHJvYy9zeXMva2VybmVsL3JhbmRvbS91dWlkJykpIHsKCQkvLyBPbiBEZWJpYW4gSmVzc2llOiBVVUlEIFY0IChSYW5kb20pCgkJcmV0dXJuIGZpbGVfZ2V0X2NvbnRlbnRzKCcvcHJvYy9zeXMva2VybmVsL3JhbmRvbS91dWlkJyk7Cgl9'));
	@fwrite($fp, base64_decode('CgoJcmV0dXJuIF9nZW5fdXVpZF92NCgpOwp9CgpmdW5jdGlvbiB1dWlkX251bWVyaWNfdmFsdWUoJHV1aWQpIHsKCSRvaWQgPSB1dWlkX3RvX29pZCgkdXVpZCk7CglpZiAoISRvaWQpIHJldHVybiBmYWxzZTsKCXJldHVybiBzdWJzdHIoJG9pZCwgc3RybGVuKCcy'));
	@fwrite($fp, base64_decode('LjI1LicpKTsKfQoKZnVuY3Rpb24gdXVpZF9jX3N5bnRheCgkdXVpZCkgewoJJHV1aWQgPSBzdHJfcmVwbGFjZSgneycsICcnLCAkdXVpZCk7CglyZXR1cm4gJ3sgMHgnIC4gc3Vic3RyKCR1dWlkLCAwLCA4KSAuCgkJJywgMHgnIC4gc3Vic3RyKCR1dWlkLCA5LCA0'));
	@fwrite($fp, base64_decode('KSAuCgkJJywgMHgnIC4gc3Vic3RyKCR1dWlkLCAxNCwgNCkgLgoJCScsIHsgMHgnIC4gc3Vic3RyKCR1dWlkLCAxOSwgMikuCgkJJywgMHgnIC4gc3Vic3RyKCR1dWlkLCAyMSwgMikgLgoJCScsIDB4JyAuIHN1YnN0cigkdXVpZCwgMjQsIDIpIC4KCQknLCAweCcg'));
	@fwrite($fp, base64_decode('LiBzdWJzdHIoJHV1aWQsIDI2LCAyKSAuCgkJJywgMHgnIC4gc3Vic3RyKCR1dWlkLCAyOCwgMikgLgoJCScsIDB4JyAuIHN1YnN0cigkdXVpZCwgMzAsIDIpIC4KCQknLCAweCcgLiBzdWJzdHIoJHV1aWQsIDMyLCAyKSAuCgkJJywgMHgnIC4gc3Vic3RyKCR1dWlk'));
	@fwrite($fp, base64_decode('LCAzNCwgMikgLiAnIH0gfSc7Cn0KCiMgLS0tCgovLyBodHRwOi8vcGhwLm5ldC9tYW51YWwvZGUvZnVuY3Rpb24uaGV4MmJpbi5waHAjMTEzMDU3CmlmICggIWZ1bmN0aW9uX2V4aXN0cyggJ2hleDJiaW4nICkgKSB7CiAgICBmdW5jdGlvbiBoZXgyYmluKCAkc3Ry'));
	@fwrite($fp, base64_decode('ICkgewogICAgICAgICRzYmluID0gIiI7CiAgICAgICAgJGxlbiA9IHN0cmxlbiggJHN0ciApOwogICAgICAgIGZvciAoICRpID0gMDsgJGkgPCAkbGVuOyAkaSArPSAyICkgewogICAgICAgICAgICAkc2JpbiAuPSBwYWNrKCAiSCoiLCBzdWJzdHIoICRzdHIsICRp'));
	@fwrite($fp, base64_decode('LCAyICkgKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkc2JpbjsKICAgIH0KfQo='));
	@fclose($fp);
}
if (is_file('includes/uuid_utils.inc.php') && (sha1_file('includes/uuid_utils.inc.php') != '64ffaf92ef230a3edac29d21c682ff1b843477d4')) {
	warn('File was created by someone else. Will overwrite the changes now: includes/uuid_utils.inc.php');
	$tmp = pathinfo('includes/uuid_utils.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/uuid_utils.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('includes/uuid_utils.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_3();
if (!is_file('includes/uuid_utils.inc.php')) {
	warn('File cannot be created (not existing): includes/uuid_utils.inc.php');
} else if (sha1_file('includes/uuid_utils.inc.php') != '64ffaf92ef230a3edac29d21c682ff1b843477d4') {
	warn('File cannot be created (checksum mismatch): includes/uuid_utils.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/uuid_utils.inc.php', 0644)) {
	warn('Could not change file permissions of includes/uuid_utils.inc.php');
}

// Files different: TODO
function writefile_4() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('CkFkbWluaXN0cmF0b3ItSW50ZXJmYWNlOgotIGVuYWJsZSBhbmQgZGlzYWJsZSBvYmplY3QgdHlwZXMKCm1ha2UgZm9ybXMgYW5kIG90aGVyIHN0dWZmIGxvb2sgbmljZXIuIGF0IHRoZSBtb21lbnQsIGl0IHdhcyBqdXN0IGRldmVsb3BlZCBmb3IgZnVuY3Rpb25h'));
	@fwrite($fp, base64_decode('bGl0eQoKd2hlbiBqYXZhc2NyaXB0IGZhaWxzLCB0aGUgZm9ybSB3aWxsIGJlIHN1Ym1pdHRlZCB0byAnLi8nICwgdGhhdCBpcyBub3QgZ29vZCEgZmFpbGVkIGphdmFzY3JpcHQgbXVzdCByZXR1cm4gZmFsc2UsIHNvIHRoYXQgdGhlIGZvcm0gZG9lcyBub3QgZ2V0'));
	@fwrite($fp, base64_decode('IHN1Ym1pdHRlZAoKYXV0b21hdGlzY2ggdW1sZWl0ZW4gbmFjaCBodHRwcwoKaWNvbnMKCmZvcm1zOiBhbGlnbiBpbnB1dCBlZGl0cywgc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzMwMDA4OTQ4L2hvdy10by1hbGlnbi10d28tbGFiZWxz'));
	@fwrite($fp, base64_decode('LWFuZC10d28tdGV4dGJveGVzLXdpdGhvdXQtYS1nYXAtaW4tZm9ybS1ob3Jpem9udGFsCgpodG1sIGNoZWNrYm94OiAibGFiZWwgZm9yIiB2ZXJ3ZW5kZW4KCmFkbWluOiBzaG93IHByaXZhY3kgZW50cmllcyBmcm9tIFJBcyAoYnV0IGdyZXksIHNvIHlvdSBrbm93'));
	@fwrite($fp, base64_decode('IHRoYXQgaXQgaXMgcHJpdmF0ZSkKCmFrdHVlbGxlIGJhdXN0ZWxsZW46Ci0gc2NyaXB0IHRvIGNoYW5nZSBlbWFpbCBhZGRyZXNzCi0gZXNjYXBlIGV2ZXJ5dGhpbmcKLSBhbnRpIHhzcyB3ZWl0ZXIgdmVyZmVpbmVybgotIChvaWQrIGdlbnJvb3QgPSBtYXBwaW5n'));
	@fwrite($fp, base64_decode('IHRvIE9JRCB0cmVlKQotIHNldHRpbmdzIGRhdGFiYXNlIHRhYmxlCgphZG1pbiBzb2xsIGNvbnRhY3QgZGF0YSBlaW5lciBmcmVtZGVuIFJBIORuZGVybiBk/HJmZW4KCmZyZWVvaWQ6IGFzbi4xIHVuZCBpcmkgc3BhbHRlbiBhdXNibGVuZGVuLCBkYSBkaWVzZXIg'));
	@fwrite($fp, base64_decode('YXJjIGtlaW5lIElEcyB2ZXJnaWJ0PwoKcHJvIFJBIGRpbmdlIGxvZ2dlbiB3aWUgei5CLiBsYXN0IGxvZ2luCgphZGQgc2VhcmNoIGZ1bmN0aW9uYWxpdHkKClByaXZhY3k6IE1laHIgc3R1ZmVuLCB6LmIuIGRhc3MgbWFuIGRlbiBwZXJzb25hbCBuYW1lIGV2dGwg'));
	@fwrite($fp, base64_decode('Z2FyIG5pY2h0IHplaWdlbiBt9mNodGUKCk1hbiBzb2xsdGUgImNyZWF0ZWQiIGFi5G5kZXJuIGT8cmZlbiEgb2RlciBldnRsIGdhbnogdmVyc3RlY2tlbiwgd2VubiBtYW4gZXMgbmljaHQgd2Vp3woKISFpbiBkZXIgY3J1ZCBsaXN0ZSBkZW4gdGl0ZWwgZGVzIG9i'));
	@fwrite($fp, base64_decode('amVrdHMgemVpZ2VuCgpxdWU6IG5pY2h0IHZlcndlbmRldGUgbmFtZXNwYWNlcyBhdXNibGVuZGVuIGb8ciBkaWUg9mZmZW50bGljaGtlaXQ/CgoKbmF0T3JkZXIoKSBpc3QgbnVyIGb8ciBPSUQgZ/xsdGlnISEhIGFuZGVyZSBzb3J0LW1lY2hhbmlzbWVuIGb8ciBh'));
	@fwrite($fp, base64_decode('bmRlcmUgb2JqZWt0dHlwZW4gZXJmb3JkZXJsaWNoCgptY2UgZGlydHkgZmxhZzoKCS0gd2VubiBtYW4gd2VjaHNlbCAoanMgdHJlZSBzZWxlY3QpLCBkYW5uIHNvbGwgYWJnZWZyYWd0IHdlcmRlbiwgb2IgdGlueW1jZSBkaXJ0eSBpc3QsIHVuZCBlaW5lIHdhcm51'));
	@fwrite($fp, base64_decode('bmcgYnJpbmdlbiwgYWxzbyBzbywgd2llIHdlbm4gbWFuIGRpZSBzZWl0ZSBuZXUgbGFkZW4gd/xyZGUKCS0ga3JpdGlzY2hlciBidWc6IHNlaXRlIPZmZm5lbiwgdGlueSBtY2UgZWRpdGllcmVuLCBzcGVpY2hlcm4ga2xpY2tlbi4gZGFubiBmNSBuZXUgbGFkZW4g'));
	@fwrite($fp, base64_decode('KG5pY2h0IHN0cmcrZjUpOiBkYW5uIGlzdCBkZXIgYWx0ZSBjb250ZW50IHdpZWRlciBkYS4gYXXfZXIgbWFuIGRy/GNrdCBzdHJnK2Y1Cgpqc3RyZWUgc2VsZWN0OiBhdXRvbWF0aWNhbGx5IHNjcm9sbCBkb3duCgp0aXRlbCBsb2dvIGFua2xpY2tiYXIgLT4gbmF2'));
	@fwrite($fp, base64_decode('aWVyZSB6dSBzeXN0ZW0KCmlubmVyaGFsYiBkZXMgY29udGVudC1wYW5lcwoJLSBuYXZpZ2F0aW9uIHp1IHBhcmVudCBJRHMKCmZvcmVpZ24ga2V5cyBudXR6ZW4KCm9wdGlzY2ggYXVmaPxic2NoZW4uIGRpbmdlIHdpZSBSQTogbWVociBkaW5nZSB6ZWlnZW4sIGFk'));
	@fwrite($fp, base64_decode('cmVzc2UsIGVtYWlsIGV0YwoKbG9naW4KCmNoYW5nZSBoaXN0b3J5IG9mIGVhY2ggb2lkICsgbGFzdCBtb2RpZmljYXRpb24gdGltZQoKZGIKCS0gd2VnIHZvbiBteXNxbF8hIChQRE8/KQoJLSBtYW5kYW50ZW4gKGRiIHBy5GZpeGUpCgphdXRoIHVuZCBkYXRlbvxi'));
	@fwrite($fp, base64_decode('ZXJwcvxmdW5nc2NoZWNrcyBpbiBjcnVkX2FjdGlvbi5waHAKCiEhIGRzZ3ZvIGRhdGVuc2NodXR6ZXJrbORydW5nLCBhZ2JzIGV0Yy4KCm1hcmtlcnMgZHJhZnQsIGxlYWYsIGZyb3plbiBldGMKCm11bHRpbGFuZwoKYXVzbGlmZXJuIG1pdCAyLjk5OSB1bmQgZXhh'));
	@fwrite($fp, base64_decode('bXBsZSBET0lzIGV0YwoKd28gaW4geC42NjAgaXN0IGZlc3RnZWhhbHRlbiwgZGFzcyBkaWUgZXJzdGUgUkEgZmVzdGdlaGFsdGVuIHdlcmRlbiBtdXNzPwpxdWUgOiBoaXN0b3JpZSBlaW5lciBvaWQKCmh0dHAgbG9naW4gbmljaHQgbfZnbGljaC4gd2FydW0/Cgpv'));
	@fwrite($fp, base64_decode('YmplY3R0eXBlcyBhdXRvbWF0aXNjaCBsYWRlbiAocGhwIGRhdGVpZW4gc3VjaGVuKSB1bmQgcmVnaXN0cmllcmVuLgoKa2xlaW5pZ2tlaXRlbjoKLSA8YWJicj4gaW4gPGNvZGU+IHdpcmQgZG9wcGVsdCB1bnRlcnN0cmljaGVuCi0gd2VubiBtYW4gZWluZSB3ZWxs'));
	@fwrite($fp, base64_decode('LWtub3duIE9JRCBhbmxlZ2VuIG32Y2h0ZSwgZGFubiBrb21tdCBmZWhsZXIgd2VnZW4gcmVwbGFjZUFzbjEvcmVwbGFjZUlyaSwgYWJlciBkaWUgT0lEIGlzdCBlcnN0ZWxsdC4gRGllIEFQSSBpc3QgYWJlciBuaWNodCByZWxvYWRlZC4gTWFuIHNpZWh0IGFsc28g'));
	@fwrite($fp, base64_decode('bmljaHQsIGRhc3MgZGllIE9JRCBlcnN0ZWxsdCB3dXJkZSwgdW5kIGVpbiBlcm5ldXRlciBrbGljayBhdWYgSW5zZXJ0IGb8aHJ0IHp1bSBQcmltYXJ5LUtleSBmZWhsZXIKLSBwcm9ibGVtOiB3ZW5uIGVpbmUgUkEgZWluZ2VsYWRlbiB3ZXJkZW4gbfZjaHRlLCBt'));
	@fwrite($fp, base64_decode('dXNzIG1hbiAidXBkYXRlIiBkcvxja2VuIHVuZCBkaWUgT0lEIHdpcmQgYWxzIHVwZGF0ZWQgbWFya2llcnQKYmVpIG1laHJlcmVuIGlkZW50aWZpZXJuIGthbm4gbWFuIG5pY2h0IGJlc3RpbW1lbiwgd2VsY2hlciBpZGVudGlmaWVyIGRlciBiZXZvcnp1Z3RlIHNl'));
	@fwrite($fp, base64_decode('aW4gc29sbCEhCgp6dWt1bmZ0Ci0gYWRtaW46IHNvbGwgd2VsbGtub3duIG9pZHMg5G5kZXJuIGT8cmZlbgotIG1vdmUgb2lkIHRvIGRpZmZlcmVudCBhcmMKLSBiZWkgc2VociBncm/fZW4gYXJjcyAoei5CLiBQRU4pIHNvbGxlbiBuaWNodCBhbGxlIGFuZ2V6ZWln'));
	@fwrite($fp, base64_decode('dCB3ZXJkZW4KLSB1bnRlcnN0/HR6dW5nIGb8ciBPUlM/Ci0gTWVociAiQ3V0dGluZyBFZGdlIFRlY2hub2xvZ2llIiBzb2xsIGluIGRpZXNlbSBQcm9qZWt0IHp1bSBUcmFnZW4ga29tbWVuOiBBSkFYLCBKU09OLCB2b2xsc3QmYXVtbDtuZGlnIFVURjgsIENSVUQg'));
	@fwrite($fp, base64_decode('ZnJhbWV3b3JrcywgUERPLCBIVE1MNSwgTW9iaWxlcyBEZXNpZ24sIFB1cmUgQ1NTLCBBdXRvbG9hZGluZywgT2JqZWt0b3JpZW50aWVydW5nIChhYmVyIG5pY2h0IHVuYmVkaW5ndCBNVkMpLCAuLi48YnI+CgpSRUpFQ1RFRCBJREVBUzoKLSBzb2xsdGUgZXMgbWVo'));
	@fwrite($fp, base64_decode('ZXJlIGFkbWlucyBnZWJlbj8KCklERUFTCi0gdGhlcmUgc2hvdWxkIGJlIGEgZm9ybSB3aGVyZSBhbiBSQSBjYW4gcmVxdWVzdCBhbiBpbnZpdGF0aW9uLCBldmVuIGlmIHRoZSBzdXBlcmlvciBSQSBkaWQgbm90IGludml0ZSB0aGVtLgogIHRoZSBmYWN0IHRoYXQg'));
	@fwrite($fp, base64_decode('YSBSQSBleGlzdHMgaW4gdGhlIE9iamVjdCBUYWJsZSBzaG91bGQgcGVybWl0IHRoZSBSQSB0byBpbnZpdGUgdGhlaXJzZWxmLgotIGJlaW0gdmVybGFzc2VuIGRlciBzZWl0ZSwgei5iLiB3ZW5uIG1hbiBsaW5rcyBhdWYgZWluZW4gbmV1ZW4gbWVu/HB1bmt0IGts'));
	@fwrite($fp, base64_decode('aWNrdCwgc29sbCBlaW5lIGFiZnJhZ2Uga29tbWVuLCBvYiBtYW4gc3BlaWNoZXJuIG32Y2h0ZQotIG1ha2UgYSBsaXN0IG9mIE9JRHMgdGhhdCBkbyBub3QgYXNzaWduIEFTTjEvSVJJIGlkZW50aWZpZXJzIChlLmcuIElBTkEgUEVOIG9yIFZpYVRoaW5rU29mdCBG'));
	@fwrite($fp, base64_decode('cmVlT0lEKSwgdGhlbiByZWplY3QgYW55IGlkZW50aWZpZXIgdGhlIHVzZXIgcHJvdmlkZXMKClFVRVNUSU9OUzoKLSBzaG91bGQgdGhlIGNvbGxhdGlvbiBiZSBjYXNlIHNlbnNpdGl2ZSBvciBjYXNlIGluc2Vuc2l0aXZlPyBGb3IgSmF2YSBwYWNrYWdlIG5hbWVz'));
	@fwrite($fp, base64_decode('LCBpdCBzaG91bGQgYmUgY2FzZSBzZW5zdGl2aWUKLSB3b3J0ICJndWlkIiBvZGVyICJ1dWlkIiB2ZXJ3ZW5kZW4/Ci0gYml0IG9yIHRpbnlpbnQoMSkgPwoKR1VJRCBNYW5hZ2VtZW50Ci0gTGVhZiBub2RlcyAoR1VJRHMpIHNob3VsZCBzaG93L2VkaXQgdGhlIFRp'));
	@fwrite($fp, base64_decode('dGxlIGluIHRoZSBDUlVELCBzbyB5b3UgZG9udCBoYXZlIHRvIGNsaWNrIHRoZSBHVUlEIHRvIHNlZSB0aGUgdGl0bGUKLSBNYWtlIGl0IHBvc3NpYmxlIHRoYXQgdHdvIGNhdGVvZ2lyZXMgbWF5IGhhdmUgdGhlIHNhbWUgbmFtZSAoT0lEcGx1c0d1aWQ6OmFkZFN0'));
	@fwrite($fp, base64_decode('cmluZykKLSBzZWx0c2FtZXIgYnVnOiB3ZW5uIGljaCBndWlkOm9pZHBsdXMgZWRpdGllcmUsIGRhbm4g9mZmbmV0IHNpY2ggbGlua3MgZ3VpZDphY3RpdmVkaXJlY3RvcnkgYmVpbSBuZXVsYWRlbiBkZXMgYmF1bXMgbmFjaCBkZW0gdXBkYXRlLiBpcmdlbmR3aWUg'));
	@fwrite($fp, base64_decode('9mZmbmV0IGVyIGRlbiB6dWxldHp0IGdl9mZmbmV0ZW4gbm9kZSBiZWltIHJlbG9hZCBub2NobWFsCg=='));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_4();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != '00571624b45463ab120190bf6a3b9e0052b4b56c') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== '00571624b45463ab120190bf6a3b9e0052b4b56c') {
		if (@sha1_file('TODO') !== 'ecd9036a5ffe7f8c52fc983b7e5e8dcc4b5e2f82') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('TODO') !== '00571624b45463ab120190bf6a3b9e0052b4b56c') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: includes/oidplus.inc.php
function writefile_5() {
	@$fp = fopen('includes/oidplus.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmhlYWRlcignWC1Db250ZW50LVR5cGUtT3B0aW9uczogbm9zbmlmZicpOwpoZWFkZXIoJ1gtWFNTLVByb3RlY3Rpb246IDE7IG1vZGU9YmxvY2snKTsKaGVhZGVyKCJDb250ZW50LVNlY3VyaXR5LVBv'));
	@fwrite($fp, base64_decode('bGljeTogZGVmYXVsdC1zcmMgJ3NlbGYnIGh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb20gaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8gaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vOyAiLgogICAgICAgInN0eWxlLXNyYyAnc2VsZicgJ3Vuc2FmZS1pbmxpbmUnIGh0dHBz'));
	@fwrite($fp, base64_decode('Oi8vY2RuanMuY2xvdWRmbGFyZS5jb20vOyAiLgogICAgICAgImltZy1zcmMgaHR0cDogaHR0cHM6OyAiLgogICAgICAgInNjcmlwdC1zcmMgJ3NlbGYnICd1bnNhZmUtaW5saW5lJyAndW5zYWZlLWV2YWwnIGJsb2I6IGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vIGh0'));
	@fwrite($fp, base64_decode('dHBzOi8vd3d3LmdzdGF0aWMuY29tLyBodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tLzsgIi4KICAgICAgICJmcmFtZS1hbmNlc3RvcnMgJ25vbmUnOyAiLgogICAgICAgIm9iamVjdC1zcmMgJ25vbmUnIik7CmhlYWRlcignWC1GcmFtZS1PcHRpb25zOiBTQU1F'));
	@fwrite($fp, base64_decode('T1JJR0lOJyk7CmhlYWRlcignUmVmZXJyZXItUG9saWN5OiBuby1yZWZlcnJlci13aGVuLWRvd25ncmFkZScpOwoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uLzNwLzB4YmIvU2hhMy5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvU2VjdXJl'));
	@fwrite($fp, base64_decode('TWFpbGVyLmNsYXNzLnBocCc7CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvZnVuY3Rpb25zLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvb2lkX3V0aWxzLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvdXVpZF91dGlscy5pbmMu'));
	@fwrite($fp, base64_decode('cGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2lwdjRfZnVuY3Rpb25zLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaXB2Nl9mdW5jdGlvbnMuaW5jLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9hbnRpX3hzcy5pbmMucGhwJzsK'));
	@fwrite($fp, base64_decode('Ci8vIC0tLQoKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2NsYXNzZXMvT0lEcGx1cy5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY2xhc3Nlcy9PSURwbHVzRGF0YUJhc2UuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2Ns'));
	@fwrite($fp, base64_decode('YXNzZXMvT0lEcGx1c0RhdGFCYXNlTXlTUUwuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2NsYXNzZXMvT0lEcGx1c0NvbmZpZy5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY2xhc3Nlcy9PSURwbHVzR3VpLmNsYXNzLnBo'));
	@fwrite($fp, base64_decode('cCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9jbGFzc2VzL09JRHBsdXNUcmVlLmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9jbGFzc2VzL09JRHBsdXNBdXRoVXRpbHMuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2Ns'));
	@fwrite($fp, base64_decode('YXNzZXMvT0lEcGx1c1JBLmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9jbGFzc2VzL09JRHBsdXNTZXNzaW9uSGFuZGxlci5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY2xhc3Nlcy9PSURwbHVzT2JqZWN0LmNsYXNzLnBo'));
	@fwrite($fp, base64_decode('cCc7CgovLyAtLS0KCkBpbmNsdWRlX29uY2UgX19ESVJfXyAuICcvLi4vcGx1Z2lucy9vYmplY3RUeXBlcy9fRW5hYmxlZE9iamVjdFR5cGVzLmluYy5waHAnOwo='));
	@fclose($fp);
}
if (!is_file('includes/oidplus.inc.php')) {
	warn('File has vanished! Will re-create it: includes/oidplus.inc.php');
	writefile_5();
	if (!is_file('includes/oidplus.inc.php')) {
		warn('File cannot be created (not existing): includes/oidplus.inc.php');
	} else if (sha1_file('includes/oidplus.inc.php') != 'bf1451991344592eef06388c0bfe3132b7854c76') {
		warn('File cannot be created (checksum mismatch): includes/oidplus.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/oidplus.inc.php', 0644)) {
		warn('Could not change file permissions of includes/oidplus.inc.php');
	}
} else {
	if (@sha1_file('includes/oidplus.inc.php') !== 'bf1451991344592eef06388c0bfe3132b7854c76') {
		if (@sha1_file('includes/oidplus.inc.php') !== '016b18133233645badf8c4ce8444815bebff1070') {
			warn('File was modified. Will overwrite the changes now: includes/oidplus.inc.php');
			$tmp = pathinfo('includes/oidplus.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/oidplus.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/oidplus.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('includes/oidplus.inc.php') !== 'bf1451991344592eef06388c0bfe3132b7854c76') {
			warn('File cannot be written (checksum mismatch): includes/oidplus.inc.php');
		}
	}
}

// Files different: plugins/objectTypes/ipv4/OIDplusIpv4.class.php
function writefile_6() {
	@$fp = fopen('plugins/objectTypes/ipv4/OIDplusIpv4.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNJcHY0IGV4dGVuZHMgT0lEcGx1c09iamVjdCB7Cglwcml2YXRlICRpcHY0OwoJcHJpdmF0ZSAkYmFyZTsKCXByaXZhdGUgJGNpZHI7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29u'));
	@fwrite($fp, base64_decode('c3RydWN0KCRpcHY0KSB7CgkJJHRoaXMtPmlwdjQgPSAkaXB2NDsKCgkJaWYgKCFlbXB0eSgkaXB2NCkpIHsKCQkJaWYgKHN0cnBvcygkaXB2NCwgJy8nKSA9PT0gZmFsc2UpICRpcHY0IC49ICcvMzInOwoJCQlsaXN0KCRiYXJlLCAkY2lkcikgPSBleHBsb2RlKCcv'));
	@fwrite($fp, base64_decode('JywgJGlwdjQpOwoJCQkkdGhpcy0+YmFyZSA9ICRiYXJlOwoJCQkkdGhpcy0+Y2lkciA9ICRjaWRyOwoJCQlpZiAoIWlwdjRfdmFsaWQoJGJhcmUpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIElQdjQiKTsKCQkJaWYgKCFpc19udW1lcmljKCRjaWRyKSkg'));
	@fwrite($fp, base64_decode('dGhyb3cgbmV3IEV4Y2VwdGlvbigiSW52YWxpZCBJUHY0Iik7CgkJCWlmICgkY2lkciA8IDApIHRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgSVB2NCIpOwoJCQlpZiAoJGNpZHIgPiAzMikgdGhyb3cgbmV3IEV4Y2VwdGlvbigiSW52YWxpZCBJUHY0Iik7CgkJ'));
	@fwrite($fp, base64_decode('fQoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcGFyc2UoJG5vZGVfaWQpIHsKCQlAbGlzdCgkbmFtZXNwYWNlLCAkaXB2NCkgPSBleHBsb2RlKCc6JywgJG5vZGVfaWQsIDIpOwoJCWlmICgkbmFtZXNwYWNlICE9PSAnaXB2NCcpIHJldHVybiBmYWxzZTsKCQly'));
	@fwrite($fp, base64_decode('ZXR1cm4gbmV3IHNlbGYoJGlwdjQpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRpdGxlKCkgewoJCXJldHVybiAiSVB2NCBOZXR3b3JrIEJsb2NrcyI7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBvYmplY3RUeXBlVGl0bGVTaG9y'));
	@fwrite($fp, base64_decode('dCgpIHsKCQlyZXR1cm4gIklQdjQiOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbnMoKSB7CgkJcmV0dXJuICdpcHY0JzsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJvb3QoKSB7CgkJcmV0dXJuICdpcHY0Oic7Cgl9CgoJcHVibGljIGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IGlzUm9vdCgpIHsKCQlyZXR1cm4gJHRoaXMtPmlwdjQgPT0gJyc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG5vZGVJZCgpIHsKCQlyZXR1cm4gJ2lwdjQ6Jy4kdGhpcy0+aXB2NDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYWRkU3RyaW5nKCRzdHIpIHsKCQkvLyBUT0RP'));
	@fwrite($fp, base64_decode('IQoJCXJldHVybiAnaXB2NDonLiRzdHI7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNydWRTaG93SWQoT0lEcGx1c09iamVjdCAkcGFyZW50KSB7CgkJcmV0dXJuICR0aGlzLT5pcHY0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjcnVkSW5zZXJ0UHJlZml4KCkgewoJCXJl'));
	@fwrite($fp, base64_decode('dHVybiAnJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24ganNUcmVlTm9kZU5hbWUoT0lEcGx1c09iamVjdCAkcGFyZW50ID0gbnVsbCkgewoJCWlmICgkcGFyZW50ID09IG51bGwpIHJldHVybiAkdGhpcy0+b2JqZWN0VHlwZVRpdGxlKCk7CgkJcmV0dXJuICR0aGlzLT5p'));
	@fwrite($fp, base64_decode('cHY0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBkZWZhdWx0VGl0bGUoKSB7CgkJcmV0dXJuICR0aGlzLT5pcHY0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpc0xlYWZOb2RlKCkgewoJCXJldHVybiAkdGhpcy0+Y2lkciA+PSAzMjsKCX0KCglwdWJsaWMgZnVuY3Rpb24g'));
	@fwrite($fp, base64_decode('Z2V0Q29udGVudFBhZ2UoJiR0aXRsZSwgJiRjb250ZW50KSB7CgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgewoJCQkkdGl0bGUgPSBPSURwbHVzSXB2NDo6b2JqZWN0VHlwZVRpdGxlKCk7CgoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZy'));
	@fwrite($fp, base64_decode('b20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgcGFyZW50ID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKHNlbGY6OnJvb3QoKSkuIiciKTsKCQkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID4g'));
	@fwrite($fp, base64_decode('MCkgewoJCQkJJGNvbnRlbnQgID0gJ1BsZWFzZSBzZWxlY3QgYSBuZXR3b3JrIGJsb2NrIGluIHRoZSB0cmVlIHZpZXcgYXQgdGhlIGxlZnQgdG8gc2hvdyBpdHMgY29udGVudHMuJzsKCQkJfSBlbHNlIHsKCQkJCSRjb250ZW50ICA9ICdDdXJyZW50bHksIG5vIG5l'));
	@fwrite($fp, base64_decode('dHdvcmsgYmxvY2tzIGFyZSByZWdpc3RlcmVkIGluIHRoZSBzeXN0ZW0uJzsKCQkJfQoKCQkJaWYgKCEkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkJJGNvbnRlbnQgLj0g'));
	@fwrite($fp, base64_decode('JzxoMj5NYW5hZ2Ugcm9vdCBvYmplY3RzPC9oMj4nOwoJCQkJfSBlbHNlIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPkF2YWlsYWJsZSBvYmplY3RzPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0gJyUlQ1JVRCUlJzsKCQkJfQoJCX0gZWxzZSB7CgkJCSRjb250'));
	@fwrite($fp, base64_decode('ZW50ID0gJzxoMj5UZWNobmljYWwgaW5mb3JtYXRpb248L2gyPic7CgoJCQkkY29udGVudCAuPSAnPHA+SVB2NC9DSURSOiA8Y29kZT4nIC4gaXB2NF9ub3JtYWxpemUoJHRoaXMtPmJhcmUpIC4gJy8nIC4gJHRoaXMtPmNpZHIgLiAnPC9jb2RlPjxicj4nOwoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoJHRoaXMtPmNpZHIgPCAzMikgewoJCQkJJGNvbnRlbnQgLj0gJ0ZpcnN0IGFkZHJlc3M6IDxjb2RlPicgLiBpcHY0X2NpZHJfbWluX2lwKCR0aGlzLT5iYXJlIC4gJy8nIC4gJHRoaXMtPmNpZHIpIC4gJzwvY29kZT48YnI+JzsKCQkJCSRjb250ZW50IC49ICdM'));
	@fwrite($fp, base64_decode('YXN0IGFkZHJlc3M6IDxjb2RlPicgLiBpcHY0X2NpZHJfbWF4X2lwKCR0aGlzLT5iYXJlIC4gJy8nIC4gJHRoaXMtPmNpZHIpIC4gJzwvY29kZT48L3A+JzsKCQkJfSBlbHNlIHsKCQkJCSRjb250ZW50IC49ICdTaW5nbGUgaG9zdCBhZGRyZXNzPC9wPic7CgkJCX0K'));
	@fwrite($fp, base64_decode('CgkJCSRjb250ZW50IC49ICc8aDI+RGVzY3JpcHRpb248L2gyPiUlREVTQyUlJzsKCgkJCWlmICghJHRoaXMtPmlzTGVhZk5vZGUoKSkgewoJCQkJaWYgKCR0aGlzLT51c2VySGFzV3JpdGVSaWdodHMoKSkgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Q3JlYXRlIG9y'));
	@fwrite($fp, base64_decode('IGNoYW5nZSBzdWJzZXF1ZW50IG9iamVjdHM8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8aDI+U3Vic2VxdWVudCBvYmplY3RzPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0gJyUlQ1JVRCUlJzsKCQkJfQoJCX0KCX0KfQoKT0lEcGx1'));
	@fwrite($fp, base64_decode('c09iamVjdDo6JHJlZ2lzdGVyZWRPYmplY3RUeXBlc1tdID0gJ09JRHBsdXNJcHY0JzsKCg=='));
	@fclose($fp);
}
if (!is_file('plugins/objectTypes/ipv4/OIDplusIpv4.class.php')) {
	warn('File has vanished! Will re-create it: plugins/objectTypes/ipv4/OIDplusIpv4.class.php');
	writefile_6();
	if (!is_file('plugins/objectTypes/ipv4/OIDplusIpv4.class.php')) {
		warn('File cannot be created (not existing): plugins/objectTypes/ipv4/OIDplusIpv4.class.php');
	} else if (sha1_file('plugins/objectTypes/ipv4/OIDplusIpv4.class.php') != '0f57e214c3794a990f61c5e63050a5afb20ff47b') {
		warn('File cannot be created (checksum mismatch): plugins/objectTypes/ipv4/OIDplusIpv4.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/objectTypes/ipv4/OIDplusIpv4.class.php', 0644)) {
		warn('Could not change file permissions of plugins/objectTypes/ipv4/OIDplusIpv4.class.php');
	}
} else {
	if (@sha1_file('plugins/objectTypes/ipv4/OIDplusIpv4.class.php') !== '0f57e214c3794a990f61c5e63050a5afb20ff47b') {
		if (@sha1_file('plugins/objectTypes/ipv4/OIDplusIpv4.class.php') !== 'e5ad39b75965daa1f32bc5c68793b6781b6be11f') {
			warn('File was modified. Will overwrite the changes now: plugins/objectTypes/ipv4/OIDplusIpv4.class.php');
			$tmp = pathinfo('plugins/objectTypes/ipv4/OIDplusIpv4.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/objectTypes/ipv4/OIDplusIpv4.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/objectTypes/ipv4/OIDplusIpv4.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('plugins/objectTypes/ipv4/OIDplusIpv4.class.php') !== '0f57e214c3794a990f61c5e63050a5afb20ff47b') {
			warn('File cannot be written (checksum mismatch): plugins/objectTypes/ipv4/OIDplusIpv4.class.php');
		}
	}
}

// Files different: plugins/objectTypes/ipv6/OIDplusIpv6.class.php
function writefile_7() {
	@$fp = fopen('plugins/objectTypes/ipv6/OIDplusIpv6.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNJcHY2IGV4dGVuZHMgT0lEcGx1c09iamVjdCB7Cglwcml2YXRlICRpcHY2OwoJcHJpdmF0ZSAkYmFyZTsKCXByaXZhdGUgJGNpZHI7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29u'));
	@fwrite($fp, base64_decode('c3RydWN0KCRpcHY2KSB7CgkJJHRoaXMtPmlwdjYgPSAkaXB2NjsKCgkJaWYgKCFlbXB0eSgkaXB2NikpIHsKCQkJaWYgKHN0cnBvcygkaXB2NiwgJy8nKSA9PT0gZmFsc2UpICRpcHY2IC49ICcvMTI4JzsKCQkJbGlzdCgkYmFyZSwgJGNpZHIpID0gZXhwbG9kZSgn'));
	@fwrite($fp, base64_decode('LycsICRpcHY2KTsKCQkJJHRoaXMtPmJhcmUgPSAkYmFyZTsKCQkJJHRoaXMtPmNpZHIgPSAkY2lkcjsKCQkJaWYgKCFpcHY2X3ZhbGlkKCRiYXJlKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiSW52YWxpZCBJUHY2Iik7CgkJCWlmICghaXNfbnVtZXJpYygkY2lkcikp'));
	@fwrite($fp, base64_decode('IHRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgSVB2NiIpOwoJCQlpZiAoJGNpZHIgPCAwKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIElQdjYiKTsKCQkJaWYgKCRjaWRyID4gMTI4KSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIElQdjYiKTsK'));
	@fwrite($fp, base64_decode('CQl9Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwYXJzZSgkbm9kZV9pZCkgewoJCUBsaXN0KCRuYW1lc3BhY2UsICRpcHY2KSA9IGV4cGxvZGUoJzonLCAkbm9kZV9pZCwgMik7CgkJaWYgKCRuYW1lc3BhY2UgIT09ICdpcHY2JykgcmV0dXJuIGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CXJldHVybiBuZXcgc2VsZigkaXB2Nik7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBvYmplY3RUeXBlVGl0bGUoKSB7CgkJcmV0dXJuICJJUHY2IE5ldHdvcmsgQmxvY2tzIjsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG9iamVjdFR5cGVUaXRsZVNo'));
	@fwrite($fp, base64_decode('b3J0KCkgewoJCXJldHVybiAiSVB2NiI7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBucygpIHsKCQlyZXR1cm4gJ2lwdjYnOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcm9vdCgpIHsKCQlyZXR1cm4gJ2lwdjY6JzsKCX0KCglwdWJsaWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gaXNSb290KCkgewoJCXJldHVybiAkdGhpcy0+aXB2NiA9PSAnJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbm9kZUlkKCkgewoJCXJldHVybiAnaXB2NjonLiR0aGlzLT5pcHY2OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBhZGRTdHJpbmcoJHN0cikgewoJCS8vIFRP'));
	@fwrite($fp, base64_decode('RE8hCgkJcmV0dXJuICdpcHY2OicuJHN0cjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY3J1ZFNob3dJZChPSURwbHVzT2JqZWN0ICRwYXJlbnQpIHsKCQlyZXR1cm4gJHRoaXMtPmlwdjY7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNydWRJbnNlcnRQcmVmaXgoKSB7CgkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuICcnOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBqc1RyZWVOb2RlTmFtZShPSURwbHVzT2JqZWN0ICRwYXJlbnQgPSBudWxsKSB7CgkJaWYgKCRwYXJlbnQgPT0gbnVsbCkgcmV0dXJuICR0aGlzLT5vYmplY3RUeXBlVGl0bGUoKTsKCQlyZXR1cm4gJHRoaXMt'));
	@fwrite($fp, base64_decode('PmlwdjY7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGRlZmF1bHRUaXRsZSgpIHsKCQlyZXR1cm4gJHRoaXMtPmlwdjY7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzTGVhZk5vZGUoKSB7CgkJcmV0dXJuICR0aGlzLT5jaWRyID49IDEyODsKCX0KCglwdWJsaWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gZ2V0Q29udGVudFBhZ2UoJiR0aXRsZSwgJiRjb250ZW50KSB7CgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgewoJCQkkdGl0bGUgPSBPSURwbHVzSXB2Njo6b2JqZWN0VHlwZVRpdGxlKCk7CgoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAq'));
	@fwrite($fp, base64_decode('IGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgcGFyZW50ID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKHNlbGY6OnJvb3QoKSkuIiciKTsKCQkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMp'));
	@fwrite($fp, base64_decode('ID4gMCkgewoJCQkJJGNvbnRlbnQgID0gJ1BsZWFzZSBzZWxlY3QgYSBuZXR3b3JrIGJsb2NrIGluIHRoZSB0cmVlIHZpZXcgYXQgdGhlIGxlZnQgdG8gc2hvdyBpdHMgY29udGVudHMuJzsKCQkJfSBlbHNlIHsKCQkJCSRjb250ZW50ICA9ICdDdXJyZW50bHksIG5v'));
	@fwrite($fp, base64_decode('IG5ldHdvcmsgYmxvY2tzIGFyZSByZWdpc3RlcmVkIGluIHRoZSBzeXN0ZW0uJzsKCQkJfQoKCQkJaWYgKCEkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkJJGNvbnRlbnQg'));
	@fwrite($fp, base64_decode('Lj0gJzxoMj5NYW5hZ2Ugcm9vdCBvYmplY3RzPC9oMj4nOwoJCQkJfSBlbHNlIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPkF2YWlsYWJsZSBvYmplY3RzPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0gJyUlQ1JVRCUlJzsKCQkJfQoJCX0gZWxzZSB7CgkJCSRj'));
	@fwrite($fp, base64_decode('b250ZW50ID0gJzxoMj5UZWNobmljYWwgaW5mb3JtYXRpb248L2gyPic7CgoJCQkkY29udGVudCAuPSAnPHA+SVB2Ni9DSURSOiA8Y29kZT4nIC4gaXB2Nl9ub3JtYWxpemUoJHRoaXMtPmJhcmUpIC4gJy8nIC4gJHRoaXMtPmNpZHIgLiAnPC9jb2RlPjxicj4nOwoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoJHRoaXMtPmNpZHIgPCAxMjgpIHsKCQkJCSRjb250ZW50IC49ICdGaXJzdCBhZGRyZXNzOiA8Y29kZT4nIC4gaXB2Nl9jaWRyX21pbl9pcCgkdGhpcy0+YmFyZSAuICcvJyAuICR0aGlzLT5jaWRyKSAuICc8L2NvZGU+PGJyPic7CgkJCQkkY29udGVudCAu'));
	@fwrite($fp, base64_decode('PSAnTGFzdCBhZGRyZXNzOiA8Y29kZT4nIC4gaXB2Nl9jaWRyX21heF9pcCgkdGhpcy0+YmFyZSAuICcvJyAuICR0aGlzLT5jaWRyKSAuICc8L2NvZGU+PC9wPic7CgkJCX0gZWxzZSB7CgkJCQkkY29udGVudCAuPSAnU2luZ2xlIGhvc3QgYWRkcmVzczwvcD4nOwoJ'));
	@fwrite($fp, base64_decode('CQl9CgoJCQkkY29udGVudCAuPSAnPGgyPkRlc2NyaXB0aW9uPC9oMj4lJURFU0MlJSc7CgoJCQlpZiAoISR0aGlzLT5pc0xlYWZOb2RlKCkpIHsKCQkJCWlmICgkdGhpcy0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPkNyZWF0'));
	@fwrite($fp, base64_decode('ZSBvciBjaGFuZ2Ugc3Vic2VxdWVudCBvYmplY3RzPC9oMj4nOwoJCQkJfSBlbHNlIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPlN1YnNlcXVlbnQgb2JqZWN0czwvaDI+JzsKCQkJCX0KCQkJCSRjb250ZW50IC49ICclJUNSVUQlJSc7CgkJCX0KCQl9Cgl9Cn0KCk9J'));
	@fwrite($fp, base64_decode('RHBsdXNPYmplY3Q6OiRyZWdpc3RlcmVkT2JqZWN0VHlwZXNbXSA9ICdPSURwbHVzSXB2Nic7Cgo='));
	@fclose($fp);
}
if (!is_file('plugins/objectTypes/ipv6/OIDplusIpv6.class.php')) {
	warn('File has vanished! Will re-create it: plugins/objectTypes/ipv6/OIDplusIpv6.class.php');
	writefile_7();
	if (!is_file('plugins/objectTypes/ipv6/OIDplusIpv6.class.php')) {
		warn('File cannot be created (not existing): plugins/objectTypes/ipv6/OIDplusIpv6.class.php');
	} else if (sha1_file('plugins/objectTypes/ipv6/OIDplusIpv6.class.php') != '451bce6143cfec78c950955141907361049017ee') {
		warn('File cannot be created (checksum mismatch): plugins/objectTypes/ipv6/OIDplusIpv6.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/objectTypes/ipv6/OIDplusIpv6.class.php', 0644)) {
		warn('Could not change file permissions of plugins/objectTypes/ipv6/OIDplusIpv6.class.php');
	}
} else {
	if (@sha1_file('plugins/objectTypes/ipv6/OIDplusIpv6.class.php') !== '451bce6143cfec78c950955141907361049017ee') {
		if (@sha1_file('plugins/objectTypes/ipv6/OIDplusIpv6.class.php') !== 'affd0406f6175ea1c70bc11adb56df69d2cf5ed8') {
			warn('File was modified. Will overwrite the changes now: plugins/objectTypes/ipv6/OIDplusIpv6.class.php');
			$tmp = pathinfo('plugins/objectTypes/ipv6/OIDplusIpv6.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/objectTypes/ipv6/OIDplusIpv6.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/objectTypes/ipv6/OIDplusIpv6.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('plugins/objectTypes/ipv6/OIDplusIpv6.class.php') !== '451bce6143cfec78c950955141907361049017ee') {
			warn('File cannot be written (checksum mismatch): plugins/objectTypes/ipv6/OIDplusIpv6.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 17\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 17') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

