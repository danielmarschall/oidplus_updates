<?php /* <ViaThinkSoftSignature>
jrD6MwtN6FkViIzdAcXWwDUKywSA78T8eiQuwG9eUJwKku9am1QSNlorip0NIEoz5
44dmJSPCJMG8/7oxf6fK02NgcvfMjszZWqFLxPVIp/5yj6Ru2BIDCpS2Fx+V+VJwC
MB8LsL3FEztmwKGKyHC28Xvgr8nlJrL5Y5H8gnIKb1iVgrQcwMDgwn/skqCXiO/yK
ynGYS3u/sQ+08UWQRVeW1aA0ZGsZz+11HsVfB5X4suPEDX/qr+1oZiXup75ckYK9i
RPiF+iQ4IH8Z5MQb5j8lMsAi5mO3JqjYzAVaW5WmUgF9Xl7mUTrSxSncMCGyDpQLI
qZgvB3wDx97RKhXYEUSxWu+XoMwodhBabxriQFi4SPAuqFtutJoV7CEfZIikQ8o54
yO/Z6dCme+RbFbuG9j8v62SDM2T1slqCkPsHLjrQ0R6T1BaGpU5TeSwupFzpdSvQ8
3gbdf+ItkCEbJJ8x5gWPh5YCsBZufgV8YJBWLMeHryQV7X1dhiXSIdxjxED8fnpwQ
9b5JgsXg8KSmWiresxF8GWXOX9gZP2tU25OD6qVmZVvYwWIOfL2GlvYSg506Imr9m
rKPRVDf9QIh3WZDcPZAvKpIrQRv68bhyqnKaw9Hh77QhGyM+HG9ENpcOqLRb62Th5
Fq4XdiL/+KJ0nkE0EBY1BZ/j0P/7mjG62yDfUSXHFvmXdyxlDjL+0EzKgjia9bn02
HVu29jmN0NSgmjy4GcnA4qH2jczYiQZdN3RlAOxzxnNzZiS/FSIfMWatJZ3w8O9tB
O6uNgadztqpgf1XxgJt/7DKGsvhcIhH9FA6P6bI9L9mpW1emB7J+MNtiVIPBlTcQ9
z5Piw97KohEK9jYTVK6LNHjWreZTHk/8HjnWe/820kM0QLAgcv35Bj/omGYocIC1z
5NvbDtFyKT/5fI9lP/l5GILXSVa52Isgl79a9dNov9Um7i5sbHXZaZecZKyqTyTrI
l71wf/gKYbD1qr6lpqIeVkrEAvjX5cXxQDoLDyIg9xi9PVi/NmEc8UEoGy+bqZueU
M324JzQ6hVBj4SDkwRhdyfookEgksFXw624Qe2sBSa11c+9cE7kDDuROtfE57s1L4
chJju6AdvHWQkYzS1ieGqmsq2F/xkF1nX2QmrgjZWxbd1mXkx26KBS4zUSvSZKtSR
MRpVq+EeaEeVARTyk+I+hg9jyypaq2hi7ldzoZtmcPCtefp4Z42YrLa3qGfYABRC/
qL9Z+ICQf1fPHvFZe8ZSZdx84YaHw9EPHYahhxSd26ji2dNjV52oNfd0d4mqQm1ax
FWWgVe78miSUwBAUvgQ93rlc7jJYl17EbQolkETBotnP1r9ESvHqigQaz9d/+dEIh
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 94') {
	err('This update can only be applied to OIDplus version 2.0.0.94!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: index_desktop.php
function writefile_1() {
	@$fp = fopen('index_desktop.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKb2Jfc3RhcnQoKTsgLy8gYWxsb3cgY29va2llIGhlYWRlcnMgdG8gYmUgc2VudAoKaGVhZGVyKCdDb250'));
	@fwrite($fp, base64_decode('ZW50LVR5cGU6dGV4dC9odG1sOyBjaGFyc2V0PVVURi04Jyk7CgpPSURwbHVzOjppbml0KHRydWUpOwoKT0lEcGx1czo6ZGIoKS0+c2V0X2NoYXJzZXQoIlVURjgiKTsKT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlNFVCBOQU1FUyAndXRmOCciKTsKCiRzdGF0aWNfbm9k'));
	@fwrite($fp, base64_decode('ZV9pZCA9IGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJ29pZHBsdXM6c3lzdGVtJzsKJHN0YXRpYyA9IE9JRHBsdXM6Omd1aSgpOjpnZW5lcmF0ZUNvbnRlbnRQYWdlKCRzdGF0aWNfbm9kZV9pZCk7CiRzdGF0aWNfdGl0bGUg'));
	@fwrite($fp, base64_decode('PSAkc3RhdGljWyd0aXRsZSddOwokc3RhdGljX2ljb24gPSAkc3RhdGljWydpY29uJ107CiRzdGF0aWNfY29udGVudCA9ICRzdGF0aWNbJ3RleHQnXTsKCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZSgkc3lzdGVtdGl0bGUsICRwYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUpIHsKCWlmICgkc3lzdGVtdGl0bGUgPT0gJHBhZ2V0aXRsZSkgewoJCXJldHVybiAkc3lzdGVtdGl0bGU7Cgl9IGVsc2UgewoJCXJldHVybiAkc3lzdGVtdGl0bGUgLiAnIC0gJyAuICRwYWdldGl0bGU7Cgl9Cn0KCiRzeXNpZF9vaWQgPSBPSURwbHVzOjpz'));
	@fwrite($fp, base64_decode('eXN0ZW1faWQodHJ1ZSk7CmlmICghJHN5c2lkX29pZCkgJHN5c2lkX29pZCA9ICd1bmtub3duJzsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtSUQ6Jy4kc3lzaWRfb2lkKTsKCj8+PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+Cgk8bWV0YSBo'));
	@fwrite($fp, base64_decode('dHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+Cgk8bWV0YSBuYW1lPSJ4LW9pZHBsdXMtc3lzdGVtLWlkIiBjb250ZW50PSI8P3BocCBlY2hvICRzeXNpZF9vaWQ7ID8+Ij4KCTxtZXRhIG5hbWU9Ingtb2lk'));
	@fwrite($fp, base64_decode('cGx1cy1zeXN0ZW0tdXJsIiBjb250ZW50PSI8P3BocCBlY2hvIE9JRHBsdXM6OnN5c3RlbV91cmwoKTsgPz4iPgoJPHRpdGxlPjw/cGhwIGVjaG8gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgp'));
	@fwrite($fp, base64_decode('LCAkc3RhdGljX3RpdGxlKTsgPz48L3RpdGxlPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIzcC9qc3RyZWUvdGhlbWVzL2RlZmF1bHQvc3R5bGUubWluLmNzcyI+CgoJPCEtLSBXZSBhcmUgdXNpbmcgalF1ZXJ5IDIuMi4xLCBiZWNhdXNlIDMuMy4xIHNl'));
	@fwrite($fp, base64_decode('ZW1zIHRvIGJlIGluY29tcGF0aWJsZSB3aXRoIGpzVHJlZSAoSFRNTCBjb250ZW50IHdpbGwgbm90IGJlIGxvYWRlZCBpbnRvIGpzVHJlZSEpIFRPRE86IEZpbGUgYnVnIHJlcG9ydCAtLT4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnkvanF1ZXJ5LTIuMi4xLm1pbi5q'));
	@fwrite($fp, base64_decode('cyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3AvYm9vdHN0cmFwL2pzL2Jvb3RzdHJhcC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL2pzdHJlZS9qc3RyZWUubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSczcC90aW55bWNlL3Rpbnlt'));
	@fwrite($fp, base64_decode('Y2UubWluLmpzJz48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnktdWkvanF1ZXJ5LXVpLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9sYXlvdXQvanF1ZXJ5LmxheW91dC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL3NwYW1z'));
	@fwrite($fp, base64_decode('cGFuL3NwYW1zcGFuLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMnPjwvc2NyaXB0PgoKCTxzY3JpcHQgc3JjPSJvaWRwbHVzLmpzIj48L3NjcmlwdD4KCTw/cGhwCgkkYXJ5ID0gZ2xvYihf'));
	@fwrite($fp, base64_decode('X0RJUl9fIC4gJy9wbHVnaW5zL3B1YmxpY1BhZ2VzLycuJyonLicvc2NyaXB0LmpzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxzY3JpcHQgc3JjPSInLnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAkYSkuJyI+'));
	@fwrite($fp, base64_decode('PC9zY3JpcHQ+JzsKCX0KCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnL3BsdWdpbnMvYWRtaW5QYWdlcy8nLicqJy4nL3NjcmlwdC5qcycpOwoJc29ydCgkYXJ5KTsKCWZvcmVhY2ggKCRhcnkgYXMgJGEpIHsKCQllY2hvICc8c2NyaXB0IHNyYz0iJy5zdHJfcmVwbGFj'));
	@fwrite($fp, base64_decode('ZShfX0RJUl9fIC4gJy8nLCAnJywgJGEpLiciPjwvc2NyaXB0Pic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9wbHVnaW5zL3JhUGFnZXMvJy4nKicuJy9zY3JpcHQuanMnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAn'));
	@fwrite($fp, base64_decode('PHNjcmlwdCBzcmM9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj48L3NjcmlwdD4nOwoJfQoJPz4KCgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Im9pZHBsdXMuY3NzIj4KCTw/cGhwCgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9w'));
	@fwrite($fp, base64_decode('bHVnaW5zL3B1YmxpY1BhZ2VzLycuJyonLicvc3R5bGUuY3NzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iJy5zdHJfcmVwbGFjZShfX0RJUl9fIC4gJy8nLCAnJywgJGEp'));
	@fwrite($fp, base64_decode('LiciPic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9wbHVnaW5zL2FkbWluUGFnZXMvJy4nKicuJy9zdHlsZS5jc3MnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAnPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIn'));
	@fwrite($fp, base64_decode('LnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAkYSkuJyI+JzsKCX0KCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnL3BsdWdpbnMvcmFQYWdlcy8nLicqJy4nL3N0eWxlLmNzcycpOwoJc29ydCgkYXJ5KTsKCWZvcmVhY2ggKCRhcnkgYXMgJGEpIHsKCQllY2hv'));
	@fwrite($fp, base64_decode('ICc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj4nOwoJfQoJPz4KCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iM3AvYm9vdHN0cmFwL2Nzcy9ib290c3RyYXAubWluLmNzcyI+CgoJ'));
	@fwrite($fp, base64_decode('PGxpbmsgcmVsPSJzaG9ydGN1dCBpY29uIiB0eXBlPSJpbWFnZS94LWljb24iIGhyZWY9ImltZy9mYXZpY29uLmljbyI+CgoJPHNjcmlwdD4KCXN5c3RlbV90aXRsZSA9IDw/cGhwIGVjaG8ganNfZXNjYXBlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgp'));
	@fwrite($fp, base64_decode('KTsgPz47IC8vIFRPRE86IElzIHRoYXQgdGltaW5nIE9LIG9yIGlzIHRoYXQgYSByYWNlIGNvbmRpdGlvbj8KCTwvc2NyaXB0PgoKPCEtLSBodHRwczovL2Nvb2tpZWNvbnNlbnQuaW5zaXRlcy5jb20gLS0+CjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4'));
	@fwrite($fp, base64_decode('dC9jc3MiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2Nvb2tpZWNvbnNlbnQyLzMuMS4wL2Nvb2tpZWNvbnNlbnQubWluLmNzcyIgLz4KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJz'));
	@fwrite($fp, base64_decode('L2Nvb2tpZWNvbnNlbnQyLzMuMS4wL2Nvb2tpZWNvbnNlbnQubWluLmpzIj48L3NjcmlwdD4KPHNjcmlwdD4Kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCBmdW5jdGlvbigpewp3aW5kb3cuY29va2llY29uc2VudC5pbml0aWFsaXNlKHsKCSJwYWxldHRl'));
	@fwrite($fp, base64_decode('IjogewoJCSJwb3B1cCI6IHsKCQkJImJhY2tncm91bmQiOiAiI2VkZWZmNSIsCgkJCSJ0ZXh0IjogIiM4MzgzOTEiCgkJfSwKCQkiYnV0dG9uIjogewoJCQkiYmFja2dyb3VuZCI6ICIjNGI4MWU4IgoJCX0KCX0sCgkicG9zaXRpb24iOiAiYm90dG9tLXJpZ2h0Igp9'));
	@fwrite($fp, base64_decode('KX0pOwo8L3NjcmlwdD4KCjwvaGVhZD4KPGJvZHkgY2xhc3M9InBjIj4KCTxkaXYgaWQ9InN5c3RlbV90aXRsZV9iYXIiIGNsYXNzPSJ1aS1sYXlvdXQtbm9ydGgiPgoJCTxhIGhyZWY9Ij9nb3RvPW9pZHBsdXM6c3lzdGVtIj4KCQkJPHNwYW4gaWQ9InN5c3RlbV90'));
	@fwrite($fp, base64_decode('aXRsZV8xIiBjbGFzcz0icGMiPlZpYVRoaW5rU29mdCBPSURwbHVzIDIuMDwvc3Bhbj48YnI+CgkJCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMiIgY2xhc3M9InBjIj48P3BocCBlY2hvIGh0bWxlbnRpdGllcyhPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUo'));
	@fwrite($fp, base64_decode('KSk7ID8+PC9zcGFuPgoJCTwvYT4KCTwvZGl2PgoKCTxkaXYgaWQ9Im9pZHRyZWUiIGNsYXNzPSJwYyBib3JkZXJib3ggdWktbGF5b3V0LXdlc3QiPgoJCTxub3NjcmlwdD4KCQkJPHA+PGI+UGxlYXNlIGVuYWJsZSBKYXZhU2NyaXB0IHRvIHVzZSBhbGwgZmVhdHVy'));
	@fwrite($fp, base64_decode('ZXM8L2I+PC9wPgoJCTwvbm9zY3JpcHQ+CgkJPD9waHAgT0lEcGx1c1RyZWU6Om5vbmpzX21lbnUoJHN0YXRpY19ub2RlX2lkKTsgPz4gPCEtLSBUT0RPOiBOb25KUyBtZW51OiBIb3Jpem9udGFsIFNjcm9sIGJhciBtaXNzaW5nIC0tPgoJPC9kaXY+CgoJPGRpdiBp'));
	@fwrite($fp, base64_decode('ZD0iY29udGVudF93aW5kb3ciIGNsYXNzPSJwYyBib3JkZXJib3ggdWktbGF5b3V0LWNlbnRlciI+CgkJPD9waHAKCQkkc3RhdGljX2NvbnRlbnQgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soCgkJCSd8PGFccyhbXj5dKilocmVmPSJtYWlsdG86KFteIl0rKSIoW14+'));
	@fwrite($fp, base64_decode('XSopPihbXjxdKik8L2E+fGlzbVUnLAoJCQlmdW5jdGlvbiAoJHRyZWZmZXIpIHsKCQkJCSRlbWFpbCA9ICR0cmVmZmVyWzJdOwoJCQkJJHRleHQgPSAkdHJlZmZlcls0XTsKCQkJCXJldHVybiBzZWN1cmVfZW1haWwoJGVtYWlsLCAkdGV4dCwgMSk7IC8vIEFudGlT'));
	@fwrite($fp, base64_decode('cGFtCgkJCX0sICRzdGF0aWNfY29udGVudCk7CgoJCWVjaG8gJzxoMSBpZD0icmVhbF90aXRsZSI+JzsKCQlpZiAoJHN0YXRpY19pY29uICE9ICcnKSBlY2hvICc8aW1nIHNyYz0iJy5odG1sZW50aXRpZXMoJHN0YXRpY19pY29uKS4nIiB3aWR0aD0iNDgiIGhlaWdo'));
	@fwrite($fp, base64_decode('dD0iNDgiIGFsdD0iJy5odG1sZW50aXRpZXMoJHN0YXRpY190aXRsZSkuJyI+ICc7CgkJZWNobyBodG1sZW50aXRpZXMoJHN0YXRpY190aXRsZSkuJzwvaDE+JzsKCQllY2hvICc8ZGl2IGlkPSJyZWFsX2NvbnRlbnQiPicuJHN0YXRpY19jb250ZW50Lic8L2Rpdj4n'));
	@fwrite($fp, base64_decode('OwoJCWVjaG8gJzxicj48cD48YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGluayI+PGltZyBzcmM9ImltZy9zaGFyZS5wbmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgYWx0PSJTaGFyZSI+IFN0YXRp'));
	@fwrite($fp, base64_decode('YyBsaW5rIHRvIHRoaXMgcGFnZTwvYT48L3A+JzsKCQllY2hvICc8YnI+JzsKCQk/PgoJPC9kaXY+CjwvYm9keT4KPC9odG1sPgo8P3BocAoKJGNvbnQgPSBvYl9nZXRfY29udGVudHMoKTsKb2JfZW5kX2NsZWFuKCk7CgplY2hvICRjb250Owo='));
	@fclose($fp);
}
if (is_file('index_desktop.php') && (sha1_file('index_desktop.php') != '9cc976b17388b7a003f3d1f14221ad0f2ac6c920')) {
	warn('File was created by someone else. Will overwrite the changes now: index_desktop.php');
	$tmp = pathinfo('index_desktop.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index_desktop.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('index_desktop.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('index_desktop.php')) {
	warn('File cannot be created (not existing): index_desktop.php');
} else if (sha1_file('index_desktop.php') != '9cc976b17388b7a003f3d1f14221ad0f2ac6c920') {
	warn('File cannot be created (checksum mismatch): index_desktop.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index_desktop.php', 0644)) {
	warn('Could not change file permissions of index_desktop.php');
}

// File added: index_mobile.php
function writefile_2() {
	@$fp = fopen('index_mobile.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKb2Jfc3RhcnQoKTsgLy8gYWxsb3cgY29va2llIGhlYWRlcnMgdG8gYmUgc2VudAoKaGVhZGVyKCdDb250'));
	@fwrite($fp, base64_decode('ZW50LVR5cGU6dGV4dC9odG1sOyBjaGFyc2V0PVVURi04Jyk7CgpPSURwbHVzOjppbml0KHRydWUpOwoKT0lEcGx1czo6ZGIoKS0+c2V0X2NoYXJzZXQoIlVURjgiKTsKT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlNFVCBOQU1FUyAndXRmOCciKTsKCiRzdGF0aWNfbm9k'));
	@fwrite($fp, base64_decode('ZV9pZCA9IGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJ29pZHBsdXM6c3lzdGVtJzsKJHN0YXRpYyA9IE9JRHBsdXM6Omd1aSgpOjpnZW5lcmF0ZUNvbnRlbnRQYWdlKCRzdGF0aWNfbm9kZV9pZCk7CiRzdGF0aWNfdGl0bGUg'));
	@fwrite($fp, base64_decode('PSAkc3RhdGljWyd0aXRsZSddOwokc3RhdGljX2ljb24gPSAkc3RhdGljWydpY29uJ107CiRzdGF0aWNfY29udGVudCA9ICRzdGF0aWNbJ3RleHQnXTsKCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZSgkc3lzdGVtdGl0bGUsICRwYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUpIHsKCWlmICgkc3lzdGVtdGl0bGUgPT0gJHBhZ2V0aXRsZSkgewoJCXJldHVybiAkc3lzdGVtdGl0bGU7Cgl9IGVsc2UgewoJCXJldHVybiAkc3lzdGVtdGl0bGUgLiAnIC0gJyAuICRwYWdldGl0bGU7Cgl9Cn0KCiRzeXNpZF9vaWQgPSBPSURwbHVzOjpz'));
	@fwrite($fp, base64_decode('eXN0ZW1faWQodHJ1ZSk7CmlmICghJHN5c2lkX29pZCkgJHN5c2lkX29pZCA9ICd1bmtub3duJzsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtSUQ6Jy4kc3lzaWRfb2lkKTsKCj8+PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+Cgk8bWV0YSBo'));
	@fwrite($fp, base64_decode('dHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+Cgk8bWV0YSBuYW1lPSJ4LW9pZHBsdXMtc3lzdGVtLWlkIiBjb250ZW50PSI8P3BocCBlY2hvICRzeXNpZF9vaWQ7ID8+Ij4KCTxtZXRhIG5hbWU9Ingtb2lk'));
	@fwrite($fp, base64_decode('cGx1cy1zeXN0ZW0tdXJsIiBjb250ZW50PSI8P3BocCBlY2hvIE9JRHBsdXM6OnN5c3RlbV91cmwoKTsgPz4iPgoJPHRpdGxlPjw/cGhwIGVjaG8gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgp'));
	@fwrite($fp, base64_decode('LCAkc3RhdGljX3RpdGxlKTsgPz48L3RpdGxlPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIzcC9qc3RyZWUvdGhlbWVzL2RlZmF1bHQvc3R5bGUubWluLmNzcyI+CgoJPCEtLSBXZSBhcmUgdXNpbmcgalF1ZXJ5IDIuMi4xLCBiZWNhdXNlIDMuMy4xIHNl'));
	@fwrite($fp, base64_decode('ZW1zIHRvIGJlIGluY29tcGF0aWJsZSB3aXRoIGpzVHJlZSAoSFRNTCBjb250ZW50IHdpbGwgbm90IGJlIGxvYWRlZCBpbnRvIGpzVHJlZSEpIFRPRE86IEZpbGUgYnVnIHJlcG9ydCAtLT4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnkvanF1ZXJ5LTIuMi4xLm1pbi5q'));
	@fwrite($fp, base64_decode('cyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3AvYm9vdHN0cmFwL2pzL2Jvb3RzdHJhcC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL2pzdHJlZS9qc3RyZWUubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSczcC90aW55bWNlL3Rpbnlt'));
	@fwrite($fp, base64_decode('Y2UubWluLmpzJz48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnktdWkvanF1ZXJ5LXVpLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9sYXlvdXQvanF1ZXJ5LmxheW91dC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL3NwYW1z'));
	@fwrite($fp, base64_decode('cGFuL3NwYW1zcGFuLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMnPjwvc2NyaXB0PgoKCTxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRp'));
	@fwrite($fp, base64_decode('YWwtc2NhbGU9MSI+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS80LjcuMC9jc3MvZm9udC1hd2Vzb21lLm1pbi5jc3MiPjwhLS0gZm9yIG1lbnUgYnV0dG9uLiBU'));
	@fwrite($fp, base64_decode('T0RPOiBkb3dubG9hZCBpbnRvIDNwLyAtLT4KCgk8c2NyaXB0IHNyYz0ib2lkcGx1cy5qcyI+PC9zY3JpcHQ+Cgk8P3BocAoJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvcGx1Z2lucy9wdWJsaWNQYWdlcy8nLicqJy4nL3NjcmlwdC5qcycpOwoJc29ydCgkYXJ5KTsK'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKCRhcnkgYXMgJGEpIHsKCQllY2hvICc8c2NyaXB0IHNyYz0iJy5zdHJfcmVwbGFjZShfX0RJUl9fIC4gJy8nLCAnJywgJGEpLiciPjwvc2NyaXB0Pic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy9wbHVnaW5zL2FkbWluUGFnZXMvJy4nKicu'));
	@fwrite($fp, base64_decode('Jy9zY3JpcHQuanMnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAnPHNjcmlwdCBzcmM9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj48L3NjcmlwdD4nOwoJfQoJJGFyeSA9IGdsb2IoX19ESVJfXyAu'));
	@fwrite($fp, base64_decode('ICcvcGx1Z2lucy9yYVBhZ2VzLycuJyonLicvc2NyaXB0LmpzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxzY3JpcHQgc3JjPSInLnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAkYSkuJyI+PC9zY3JpcHQ+JzsK'));
	@fwrite($fp, base64_decode('CX0KCT8+CgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJvaWRwbHVzLmNzcyI+Cgk8P3BocAoJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvcGx1Z2lucy9wdWJsaWNQYWdlcy8nLicqJy4nL3N0eWxlLmNzcycpOwoJc29ydCgkYXJ5KTsKCWZvcmVhY2ggKCRh'));
	@fwrite($fp, base64_decode('cnkgYXMgJGEpIHsKCQllY2hvICc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Iicuc3RyX3JlcGxhY2UoX19ESVJfXyAuICcvJywgJycsICRhKS4nIj4nOwoJfQoJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvcGx1Z2lucy9hZG1pblBhZ2VzLycuJyonLicvc3R5'));
	@fwrite($fp, base64_decode('bGUuY3NzJyk7Cglzb3J0KCRhcnkpOwoJZm9yZWFjaCAoJGFyeSBhcyAkYSkgewoJCWVjaG8gJzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iJy5zdHJfcmVwbGFjZShfX0RJUl9fIC4gJy8nLCAnJywgJGEpLiciPic7Cgl9CgkkYXJ5ID0gZ2xvYihfX0RJUl9f'));
	@fwrite($fp, base64_decode('IC4gJy9wbHVnaW5zL3JhUGFnZXMvJy4nKicuJy9zdHlsZS5jc3MnKTsKCXNvcnQoJGFyeSk7Cglmb3JlYWNoICgkYXJ5IGFzICRhKSB7CgkJZWNobyAnPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInLnN0cl9yZXBsYWNlKF9fRElSX18gLiAnLycsICcnLCAk'));
	@fwrite($fp, base64_decode('YSkuJyI+JzsKCX0KCT8+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9IjNwL2Jvb3RzdHJhcC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiPgoKCTxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgdHlwZT0iaW1hZ2UveC1pY29uIiBocmVmPSJpbWcvZmF2aWNvbi5p'));
	@fwrite($fp, base64_decode('Y28iPgoKCTxzY3JpcHQ+CglzeXN0ZW1fdGl0bGUgPSA8P3BocCBlY2hvIGpzX2VzY2FwZShPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKSk7ID8+OyAvLyBUT0RPOiBJcyB0aGF0IHRpbWluZyBPSyBvciBpcyB0aGF0IGEgcmFjZSBjb25kaXRpb24/Cgk8'));
	@fwrite($fp, base64_decode('L3NjcmlwdD4KCjwhLS0gaHR0cHM6Ly9jb29raWVjb25zZW50Lmluc2l0ZXMuY29tIC0tPgo8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9jb29raWVjb25zZW50'));
	@fwrite($fp, base64_decode('Mi8zLjEuMC9jb29raWVjb25zZW50Lm1pbi5jc3MiIC8+CjxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9jb29raWVjb25zZW50Mi8zLjEuMC9jb29raWVjb25zZW50Lm1pbi5qcyI+PC9zY3JpcHQ+CjxzY3JpcHQ+Cndp'));
	@fwrite($fp, base64_decode('bmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24oKXsKd2luZG93LmNvb2tpZWNvbnNlbnQuaW5pdGlhbGlzZSh7CgkicGFsZXR0ZSI6IHsKCQkicG9wdXAiOiB7CgkJCSJiYWNrZ3JvdW5kIjogIiNlZGVmZjUiLAoJCQkidGV4dCI6ICIjODM4Mzkx'));
	@fwrite($fp, base64_decode('IgoJCX0sCgkJImJ1dHRvbiI6IHsKCQkJImJhY2tncm91bmQiOiAiIzRiODFlOCIKCQl9Cgl9LAoJInBvc2l0aW9uIjogImJvdHRvbS1yaWdodCIKfSl9KTsKPC9zY3JpcHQ+Cgo8c2NyaXB0PgpmdW5jdGlvbiBtb2JpbGVOYXZCdXR0b25DbGljaygpIHsKCXZhciB4'));
	@fwrite($fp, base64_decode('ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm9pZHRyZWUiKTsKCWlmICh4LnN0eWxlLmRpc3BsYXkgPT09ICJibG9jayIpIHsKCQl4LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7Cgl9IGVsc2UgewoJCXguc3R5bGUuZGlzcGxheSA9ICJibG9jayI7Cgl9Cn0KPC9z'));
	@fwrite($fp, base64_decode('Y3JpcHQ+Cgo8L2hlYWQ+Cgo8Ym9keSBjbGFzcz0ibW9iaWxlIj4KCjxkaXYgaWQ9InN5c3RlbV90aXRsZV9iYXIiPgoJPGEgaHJlZj0iP2dvdG89b2lkcGx1czpzeXN0ZW0iPgoJCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMSIgY2xhc3M9Im1vYmlsZSI+VmlhVGhp'));
	@fwrite($fp, base64_decode('bmtTb2Z0IE9JRHBsdXMgMi4wPC9zcGFuPjxicj4KCQk8c3BhbiBpZD0ic3lzdGVtX3RpdGxlXzIiIGNsYXNzPSJtb2JpbGUiPjw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpKTsgPz48L3NwYW4+Cgk8L2E+Cgk8'));
	@fwrite($fp, base64_decode('YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0iaWNvbiIgb25jbGljaz0ibW9iaWxlTmF2QnV0dG9uQ2xpY2soKSI+PGkgY2xhc3M9ImZhIGZhLWJhcnMiPjwvaT48L2E+CjwvZGl2Pgo8YnI+Cgo8ZGl2IGlkPSJvaWR0cmVlIiBjbGFzcz0ibW9iaWxl'));
	@fwrite($fp, base64_decode('Ij48IS0tIFRPRE86IGpzdHJlZSBzaG91bGQgYmUgaW5zaWRlIGEgc2Nyb2xsYWJsZSBjb250YWluZXIuIGRvbid0IGxldCB0aGUgcGFnZSBiZSBicm9hZGVyIHRoYW4gdGhlIHNjcmVlbi4gLS0+Cgk8bm9zY3JpcHQ+CgkJPHA+PGI+UGxlYXNlIGVuYWJsZSBKYXZh'));
	@fwrite($fp, base64_decode('U2NyaXB0IHRvIHVzZSBhbGwgZmVhdHVyZXM8L2I+PC9wPgoJPC9ub3NjcmlwdD4KCTw/cGhwIE9JRHBsdXNUcmVlOjpub25qc19tZW51KCRzdGF0aWNfbm9kZV9pZCk7ID8+CjwvZGl2PgoKPGRpdiBpZD0iY29udGVudF93aW5kb3ciIGNsYXNzPSJtb2JpbGUiPgoJ'));
	@fwrite($fp, base64_decode('PD9waHAKCSRzdGF0aWNfY29udGVudCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygKCQknfDxhXHMoW14+XSopaHJlZj0ibWFpbHRvOihbXiJdKykiKFtePl0qKT4oW148XSopPC9hPnxpc21VJywKCQlmdW5jdGlvbiAoJHRyZWZmZXIpIHsKCQkJJGVtYWlsID0gJHRy'));
	@fwrite($fp, base64_decode('ZWZmZXJbMl07CgkJCSR0ZXh0ID0gJHRyZWZmZXJbNF07CgkJCXJldHVybiBzZWN1cmVfZW1haWwoJGVtYWlsLCAkdGV4dCwgMSk7IC8vIEFudGlTcGFtCgkJfSwgJHN0YXRpY19jb250ZW50KTsKCgllY2hvICc8aDEgaWQ9InJlYWxfdGl0bGUiPic7CglpZiAoJHN0'));
	@fwrite($fp, base64_decode('YXRpY19pY29uICE9ICcnKSBlY2hvICc8aW1nIHNyYz0iJy5odG1sZW50aXRpZXMoJHN0YXRpY19pY29uKS4nIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFsdD0iJy5odG1sZW50aXRpZXMoJHN0YXRpY190aXRsZSkuJyI+ICc7CgllY2hvIGh0bWxlbnRpdGllcygk'));
	@fwrite($fp, base64_decode('c3RhdGljX3RpdGxlKS4nPC9oMT4nOwoJZWNobyAnPGRpdiBpZD0icmVhbF9jb250ZW50Ij4nLiRzdGF0aWNfY29udGVudC4nPC9kaXY+JzsKCWVjaG8gJzxicj48cD48YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJz'));
	@fwrite($fp, base64_decode('dGF0aWNfbGluayI+PGltZyBzcmM9ImltZy9zaGFyZS5wbmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgYWx0PSJTaGFyZSI+IFN0YXRpYyBsaW5rIHRvIHRoaXMgcGFnZTwvYT48L3A+JzsKCWVjaG8gJzxicj4nOwoJPz4KPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4K'));
	@fwrite($fp, base64_decode('PD9waHAKCiRjb250ID0gb2JfZ2V0X2NvbnRlbnRzKCk7Cm9iX2VuZF9jbGVhbigpOwoKZWNobyAkY29udDsK'));
	@fclose($fp);
}
if (is_file('index_mobile.php') && (sha1_file('index_mobile.php') != '3db9ffb8f9ec61e99a25464fa052f02088856fc4')) {
	warn('File was created by someone else. Will overwrite the changes now: index_mobile.php');
	$tmp = pathinfo('index_mobile.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index_mobile.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('index_mobile.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_2();
if (!is_file('index_mobile.php')) {
	warn('File cannot be created (not existing): index_mobile.php');
} else if (sha1_file('index_mobile.php') != '3db9ffb8f9ec61e99a25464fa052f02088856fc4') {
	warn('File cannot be created (checksum mismatch): index_mobile.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index_mobile.php', 0644)) {
	warn('Could not change file permissions of index_mobile.php');
}

// Files different: 3p/_overview
function writefile_3() {
	@$fp = fopen('3p/_overview', 'w');
	@fwrite($fp, base64_decode('M1AgKCJUaGlyZCBwYXJ0eSIpIGFzc2V0cywgY29kZSBhbmQgZnJhbWV3b3Jrcwo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Cgpqc1RyZWU6CglMaWNlbnNlOiAgTUlUCglWZXJzaW9uOiAgMy4zLjcKCURvd25sb2FkOiBodHRw'));
	@fwrite($fp, base64_decode('czovL3d3dy5qc3RyZWUuY29tLyAob25seSBkaXN0IGRpcmVjdG9yeSkKClRpbnlNQ0U6CglMaWNlbnNlOiAgTEdQTCAyLjEKCVZlcnNpb246ICA1LjAuMgoJRG93bmxvYWQ6IGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvZG93bmxvYWQvc2VsZi1ob3N0ZWQvCgpCb290'));
	@fwrite($fp, base64_decode('c3RyYXA6CglMaWNlbnNlICAgTUlUCglWZXJzaW9uOiAgMy4zLjcKCURvd25sb2FkOiBodHRwOi8vYmxvZy5nZXRib290c3RyYXAuY29tLzIwMTYvMDcvMjUvYm9vdHN0cmFwLTMtMy03LXJlbGVhc2VkLyAob25seSBkaXN0IGRpcmVjdG9yeSkKCmpRdWVyeToKCUxp'));
	@fwrite($fp, base64_decode('ZW5zZTogICBNSVQKCVZlcnNpb246ICAyLjIuMQoJRG93bmxvYWQ6IGh0dHBzOi8vY29kZS5qcXVlcnkuY29tL2pxdWVyeS0yLjIuMS5taW4uanMKCjB4YmIgU0hBMyBpbXBsZW1lbnRhdGlvbiBpbiBQSFAgKGZvciBQSFA8Ny4xIGNvbXBhdGliaWxpdHkpOgoJTGlj'));
	@fwrite($fp, base64_decode('ZW5zZTogTUlUCglWZXJzaW9uOiA1OTFhNjM2IG9uIDIxIE1heSAyMDE3CglEb3dubG9hZDogaHR0cHM6Ly9naXRodWIuY29tLzB4YmIvcGhwLXNoYTMKCmVtbjE3OCBTSEEzIGltcGxlbWVudGF0aW9uIGluIEphdmFTY3JpcHQ6CglMaWNlbnNlOiBNSVQKCVZlcnNp'));
	@fwrite($fp, base64_decode('b246IDAuOC4wIG9uIDUgQXVnIDIwMTgKCURvd25sb2FkOiBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLXNoYTMKCmFsbHBybyBsYXlvdXQ6CglMaWNlbnNlOiBNSVQgLyBHUEx2MwoJVmVyc2lvbjogMS40LjMgb24gNyBTZXAgMjAxNAoJRG93bmxvYWQ6IGh0'));
	@fwrite($fp, base64_decode('dHBzOi8vZ2l0aHViLmNvbS9hbGxwcm8vbGF5b3V0LwoKalF1ZXJ5IFVJOgoJTGljZW5zZTogTUlUCglWZXJzaW9uOiAxLjEyLjEKCURvd25sb2FkOiBodHRwOi8vanF1ZXJ5dWkuY29tLwoKU3BhbVNwYW46CglMaWNlbnNlOiBHUEx2MgoJVmVyc2lvbjogMS4wMwoJ'));
	@fwrite($fp, base64_decode('RG93bmxvYWQ6IGh0dHA6Ly93d3cuc3BhbXNwYW4uZGUvCgpDb29raWUgY29uc2VudDoKCUxpY2Vuc2U6IE1JVAoJQ3VycmVudGx5IGRpcmVjdGx5IGxpbmtlZAoJRG93bmxvYWQ6IGh0dHBzOi8vY29va2llY29uc2VudC5pbnNpdGVzLmNvbS8KCkZvbnQgYXdlc29t'));
	@fwrite($fp, base64_decode('ZToKCUxpY2Vuc2U6ID8KCUN1cnJlbnRseSBkaXJlY3RseSBsaW5rZWQKCWh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS80LjcuMC9jc3MvZm9udC1hd2Vzb21lLm1pbi5jcwoKUmVDYXB0Y2hhOgoJTGljZW5zZTogQlNE'));
	@fwrite($fp, base64_decode('IDMtQ2xhdXNlICJOZXciIG9yICJSZXZpc2VkIiBMaWNlbnNlCglDdXJyZW50bHkgZGlyZWN0bHkgbGlua2VkCglXZWJzaXRlOiBodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS8K'));
	@fclose($fp);
}
if (!is_file('3p/_overview')) {
	warn('File has vanished! Will re-create it: 3p/_overview');
	writefile_3();
	if (!is_file('3p/_overview')) {
		warn('File cannot be created (not existing): 3p/_overview');
	} else if (sha1_file('3p/_overview') != '9cae42562dabbb73b1d8f51e9048f6e55ef151f6') {
		warn('File cannot be created (checksum mismatch): 3p/_overview');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('3p/_overview', 0644)) {
		warn('Could not change file permissions of 3p/_overview');
	}
} else {
	if (@sha1_file('3p/_overview') !== '9cae42562dabbb73b1d8f51e9048f6e55ef151f6') {
		if (@sha1_file('3p/_overview') !== '6e5895d6e3e3540d231649673310b99f7372fbf1') {
			warn('File was modified. Will overwrite the changes now: 3p/_overview');
			$tmp = pathinfo('3p/_overview');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('3p/_overview')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('3p/_overview', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('3p/_overview') !== '9cae42562dabbb73b1d8f51e9048f6e55ef151f6') {
			warn('File cannot be written (checksum mismatch): 3p/_overview');
		}
	}
}

// Files different: includes/oidplus.inc.php
function writefile_4() {
	@$fp = fopen('includes/oidplus.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmIChwaHBfc2FwaV9uYW1lKCkgIT0gJ2NsaScpIHsKCWhlYWRlcignWC1Db250ZW50LVR5cGUtT3B0aW9uczogbm9zbmlmZicpOwoJaGVhZGVyKCdYLVhTUy1Qcm90ZWN0aW9uOiAxOyBtb2RlPWJs'));
	@fwrite($fp, base64_decode('b2NrJyk7CgloZWFkZXIoIkNvbnRlbnQtU2VjdXJpdHktUG9saWN5OiBkZWZhdWx0LXNyYyAnc2VsZicgaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbSBodHRwczovL3d3dy5nb29nbGUuY29tLyBodHRwczovL3d3dy5nc3RhdGljLmNvbS8gaHR0cHM6Ly9jZG5qcy5j'));
	@fwrite($fp, base64_decode('bG91ZGZsYXJlLmNvbS87ICIuCgkgICAgICAgInN0eWxlLXNyYyAnc2VsZicgJ3Vuc2FmZS1pbmxpbmUnIGh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vOyAiLgoJICAgICAgICJpbWctc3JjIGh0dHA6IGh0dHBzOjsgIi4KCSAgICAgICAic2NyaXB0LXNyYyAn'));
	@fwrite($fp, base64_decode('c2VsZicgJ3Vuc2FmZS1pbmxpbmUnICd1bnNhZmUtZXZhbCcgYmxvYjogaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS8gaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vIGh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vOyAiLgoJICAgICAgICJmcmFtZS1hbmNlc3RvcnMg'));
	@fwrite($fp, base64_decode('J25vbmUnOyAiLgoJICAgICAgICJvYmplY3Qtc3JjICdub25lJyIpOwoJaGVhZGVyKCdYLUZyYW1lLU9wdGlvbnM6IFNBTUVPUklHSU4nKTsKCWhlYWRlcignUmVmZXJyZXItUG9saWN5OiBuby1yZWZlcnJlci13aGVuLWRvd25ncmFkZScpOwp9CgpyZXF1aXJlX29u'));
	@fwrite($fp, base64_decode('Y2UgX19ESVJfXyAuICcvLi4vM3AvMHhiYi9TaGEzLmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9TZWN1cmVNYWlsZXIuY2xhc3MucGhwJzsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9mdW5jdGlvbnMuaW5jLnBocCc7CnJlcXVpcmVfb25j'));
	@fwrite($fp, base64_decode('ZSBfX0RJUl9fIC4gJy9vaWRfdXRpbHMuaW5jLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy91dWlkX3V0aWxzLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaXB2NF9mdW5jdGlvbnMuaW5jLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9f'));
	@fwrite($fp, base64_decode('IC4gJy9pcHY2X2Z1bmN0aW9ucy5pbmMucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2FudGlfeHNzLmluYy5waHAnOwoKLy8gLS0tCgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY2xhc3Nlcy9PSURwbHVzLmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBf'));
	@fwrite($fp, base64_decode('X0RJUl9fIC4gJy9jbGFzc2VzL09JRHBsdXNQYWdlUGx1Z2luLmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9jbGFzc2VzL09JRHBsdXNEYXRhQmFzZS5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY2xhc3Nlcy9PSURwbHVz'));
	@fwrite($fp, base64_decode('RGF0YUJhc2VNeVNRTC5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY2xhc3Nlcy9PSURwbHVzQ29uZmlnLmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9jbGFzc2VzL09JRHBsdXNHdWkuY2xhc3MucGhwJzsKcmVxdWlyZV9v'));
	@fwrite($fp, base64_decode('bmNlIF9fRElSX18gLiAnL2NsYXNzZXMvT0lEcGx1c1RyZWUuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2NsYXNzZXMvT0lEcGx1c0F1dGhVdGlscy5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvY2xhc3Nlcy9PSURwbHVz'));
	@fwrite($fp, base64_decode('UkEuY2xhc3MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnL2NsYXNzZXMvT0lEcGx1c1Nlc3Npb25IYW5kbGVyLmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9jbGFzc2VzL09JRHBsdXNPYmplY3QuY2xhc3MucGhwJzsK'));
	@fclose($fp);
}
if (!is_file('includes/oidplus.inc.php')) {
	warn('File has vanished! Will re-create it: includes/oidplus.inc.php');
	writefile_4();
	if (!is_file('includes/oidplus.inc.php')) {
		warn('File cannot be created (not existing): includes/oidplus.inc.php');
	} else if (sha1_file('includes/oidplus.inc.php') != 'fd15e416d27f6ffbe55feb3180f91aa8bf2875d2') {
		warn('File cannot be created (checksum mismatch): includes/oidplus.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/oidplus.inc.php', 0644)) {
		warn('Could not change file permissions of includes/oidplus.inc.php');
	}
} else {
	if (@sha1_file('includes/oidplus.inc.php') !== 'fd15e416d27f6ffbe55feb3180f91aa8bf2875d2') {
		if (@sha1_file('includes/oidplus.inc.php') !== 'a035c17dc9ca7900f6337e9569f3e73062bcaa46') {
			warn('File was modified. Will overwrite the changes now: includes/oidplus.inc.php');
			$tmp = pathinfo('includes/oidplus.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/oidplus.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/oidplus.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('includes/oidplus.inc.php') !== 'fd15e416d27f6ffbe55feb3180f91aa8bf2875d2') {
			warn('File cannot be written (checksum mismatch): includes/oidplus.inc.php');
		}
	}
}

// Files different: index.php
function writefile_5() {
	@$fp = fopen('index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmZ1bmN0aW9uIGlzTW9iaWxlKCkgewogICAgICAgIGlmICghaXNzZXQoJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddKSkgcmV0dXJuIGZhbHNlOwoKICAgICAgICAvLyBodHRwczovL2RldmljZWF0'));
	@fwrite($fp, base64_decode('bGFzLmNvbS9ibG9nL2xpc3Qtb2YtdXNlci1hZ2VudC1zdHJpbmdzCiAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICAoc3RyaXBvcygkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10sICdtb2JpbGUnKSAhPT0gZmFsc2UpIHx8CiAgICAgICAgICAgICAgICAo'));
	@fwrite($fp, base64_decode('c3RyaXBvcygkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10sICdpcGhvbmUnKSAhPT0gZmFsc2UpIHx8CiAgICAgICAgICAgICAgICAoc3RyaXBvcygkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10sICdhbmRyb2lkJykgIT09IGZhbHNlKSB8fAogICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgKHN0cmlwb3MoJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddLCAnd2luZG93cyBwaG9uZScpICE9PSBmYWxzZSk7Cn0KCmlmIChpc01vYmlsZSgpKSB7CglyZXF1aXJlX29uY2UgJ2luZGV4X21vYmlsZS5waHAnOwp9IGVsc2UgewoJcmVxdWlyZV9vbmNl'));
	@fwrite($fp, base64_decode('ICdpbmRleF9kZXNrdG9wLnBocCc7Cn0KCg=='));
	@fclose($fp);
}
if (!is_file('index.php')) {
	warn('File has vanished! Will re-create it: index.php');
	writefile_5();
	if (!is_file('index.php')) {
		warn('File cannot be created (not existing): index.php');
	} else if (sha1_file('index.php') != 'e2e54c89741192a4e49ee72ab2db868690fd6e10') {
		warn('File cannot be created (checksum mismatch): index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index.php', 0644)) {
		warn('Could not change file permissions of index.php');
	}
} else {
	if (@sha1_file('index.php') !== 'e2e54c89741192a4e49ee72ab2db868690fd6e10') {
		if (@sha1_file('index.php') !== 'e0b46c07db8c1a9f8a55c4954c893efe8e6beddc') {
			warn('File was modified. Will overwrite the changes now: index.php');
			$tmp = pathinfo('index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('index.php') !== 'e2e54c89741192a4e49ee72ab2db868690fd6e10') {
			warn('File cannot be written (checksum mismatch): index.php');
		}
	}
}

// Files different: oidplus.css
function writefile_6() {
	@$fp = fopen('oidplus.css', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKbGFiZWwucGFkZGluZ19sYWJlbCB7Cglmb250LXdlaWdodDogbm9ybWFsICFpbXBvcnRhbnQ7CglkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CglmbG9hdDogbGVmdDsKCWNsZWFyOiBsZWZ0OwoJd2lkdGg6IDEwMHB4'));
	@fwrite($fp, base64_decode('OwoJdGV4dC1hbGlnbjogcmlnaHQ7CglwYWRkaW5nLXRvcDogM3B4OwoJbWFyZ2luLXJpZ2h0OiA4cHg7Cn0KCi5ib3ggewoJd2lkdGg6YXV0byAhaW1wb3J0YW50OwoJcGFkZGluZzoyMHB4OwoJYmFja2dyb3VuZC1jb2xvcjojZmZmOwoJYm9yZGVyOjFweCBzb2xp'));
	@fwrite($fp, base64_decode('ZCAjY2NjOwoJYm9yZGVyLXJhZGl1czo1cHg7CgltYXJnaW4tdG9wOjEwcHg7Cn0KI3RpdGxlZWRpdCB7Cgl3aWR0aDoxMDAlOwp9CiNzeXN0ZW1fdGl0bGVfMSB7Cgljb2xvcjojMkQ2QTlGOwp9CiNzeXN0ZW1fdGl0bGVfMS5tb2JpbGUgewoJbWFyZ2luLWxlZnQ6'));
	@fwrite($fp, base64_decode('NTBweDsKCXBhZGRpbmctbGVmdDoxM3B4Owp9CiNzeXN0ZW1fdGl0bGVfMiB7Cgljb2xvcjojMkIzMzZGOwoJZm9udC1zaXplOjJlbTsKfQojc3lzdGVtX3RpdGxlXzIubW9iaWxlIHsKCW1hcmdpbi1sZWZ0OjUwcHg7CglwYWRkaW5nLWxlZnQ6MTNweDsKfQojc3lz'));
	@fwrite($fp, base64_decode('dGVtX3RpdGxlX2JhciBhLmljb24gewoJY29sb3I6IHdoaXRlOwoJcGFkZGluZzogMTVweCAxN3B4OwoJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJZm9udC1zaXplOiAxN3B4OwoJZGlzcGxheTogYmxvY2s7CgliYWNrZ3JvdW5kOiBibGFjazsKCXBvc2l0aW9uOiBh'));
	@fwrite($fp, base64_decode('YnNvbHV0ZTsKCWxlZnQ6IDA7Cgl0b3A6IDA7Cn0KCiNzeXN0ZW1fdGl0bGVfYmFyIGEuaWNvbjpob3ZlciB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZGRkOwoJY29sb3I6IGJsYWNrOwp9Cgojc3lzdGVtX3RpdGxlX2JhciB7CglsaW5lLWhlaWdodDoxLjc1ZW07CgoJ'));
	@fwrite($fp, base64_decode('aGVpZ2h0OjU1cHggIWltcG9ydGFudDsKCglmb250LXN0eWxlOml0YWxpYzsKCWZvbnQtd2VpZ2h0OmJvbGRlcjsKCWZsb2F0OmxlZnQ7Cglib3JkZXItYm90dG9tOjFweDsKCgl3aWR0aDoxMDAlOyAvKiBicmF1Y2hlbiB3aXIgZnVlciBOb1NjcmlwdCAqLwoJcGFk'));
	@fwrite($fp, base64_decode('ZGluZy1sZWZ0OjVweDsvKiBicmF1Y2hlbiB3aXIgZnVlciBOb1NjcmlwdCAqLwoJcGFkZGluZy1yaWdodDo1cHg7LyogYnJhdWNoZW4gd2lyIGZ1ZXIgTm9TY3JpcHQgKi8KCglwYWRkaW5nLWxlZnQ6MHB4OwoJbWFyZ2luLWxlZnQ6MHB4OwoKCWRpc3BsYXk6Ymxv'));
	@fwrite($fp, base64_decode('Y2s7IC8qIFRPRE86IGdlaHQgbmljaHQgKi8KCgkvKiBQZXJtYWxpbmsgLSB1c2UgdG8gZWRpdCBhbmQgc2hhcmUgdGhpcyBncmFkaWVudDogaHR0cDovL2NvbG9yemlsbGEuY29tL2dyYWRpZW50LWVkaXRvci8jYTBkOGVmKzAsZGRmMWY5KzY1LGZlZmZmZisxMDAg'));
	@fwrite($fp, base64_decode('Ki8KCWJhY2tncm91bmQ6ICNhMGQ4ZWY7IC8qIE9sZCBicm93c2VycyAqLwoJYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQobGVmdCwgI2EwZDhlZiAwJSwgI2RkZjFmOSA2NSUsICNmZWZmZmYgMTAwJSk7IC8qIEZGMy42LTE1ICovCgliYWNrZ3JvdW5k'));
	@fwrite($fp, base64_decode('OiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChsZWZ0LCAjYTBkOGVmIDAlLCNkZGYxZjkgNjUlLCNmZWZmZmYgMTAwJSk7IC8qIENocm9tZTEwLTI1LFNhZmFyaTUuMS02ICovCgliYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gcmlnaHQsICNhMGQ4ZWYgMCUs'));
	@fwrite($fp, base64_decode('I2RkZjFmOSA2NSUsI2ZlZmZmZiAxMDAlKTsgLyogVzNDLCBJRTEwKywgRkYxNissIENocm9tZTI2KywgT3BlcmExMissIFNhZmFyaTcrICovCglmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudCggc3RhcnRDb2xvcnN0cj0n'));
	@fwrite($fp, base64_decode('I2EwZDhlZicsIGVuZENvbG9yc3RyPScjZmVmZmZmJyxHcmFkaWVudFR5cGU9MSApOyAvKiBJRTYtOSAqLwoKCW92ZXJmbG93OmhpZGRlbjsKfQojc3lzdGVtX3RpdGxlX2JhciBhOmhvdmVyLCAjc3lzdGVtX3RpdGxlX2JhciBhOmFjdGl2ZSwgI3N5c3RlbV90aXRs'));
	@fwrite($fp, base64_decode('ZV9iYXIgYTpmb2N1cywgI3N5c3RlbV90aXRsZV9iYXIgYTp2aXNpdGVkLCAjc3lzdGVtX3RpdGxlX2JhciBhOmxpbmsgewoJdGV4dC1kZWNvcmF0aW9uOm5vbmU7Cn0KI29pZHRyZWUucGMgewoJcG9zaXRpb246YWJzb2x1dGU7CglsZWZ0OjBweDsKCWJvdHRvbTow'));
	@fwrite($fp, base64_decode('cHg7CglwYWRkaW5nLWxlZnQ6NXB4Oy8qIGJyYXVjaGVuIHdpciBmdWVyIE5vU2NyaXB0ICovCglwYWRkaW5nLXJpZ2h0OjVweDsvKiBicmF1Y2hlbiB3aXIgZnVlciBOb1NjcmlwdCAqLwoJdG9wOjU1cHg7IC8qIGJyYXVjaGVuIHdpciBmdWVyIE5vU2NyaXB0ICov'));
	@fwrite($fp, base64_decode('Cgl3aWR0aDo0MDBweDsgLyogYnJhdWNoZW4gd2lyIGZ1ZXIgTm9TY3JpcHQgKi8KfQojb2lkdHJlZS5tb2JpbGUgewoJZGlzcGxheTogbm9uZTsKCW1hcmdpbi10b3A6NDVweDsKfQojY29udGVudF93aW5kb3cubW9iaWxlIHsKCXBhZGRpbmctbGVmdDoxNnB4OwoJ'));
	@fwrite($fp, base64_decode('cGFkZGluZy10b3A6MjhweDsKfQojY29udGVudF93aW5kb3cucGMgewoJcG9zaXRpb246YWJzb2x1dGU7CglsZWZ0OjQwMHB4OwoJcmlnaHQ6MHB4OwoJYm90dG9tOjBweDsKCXRvcDo1NXB4OyAvKiBicmF1Y2hlbiB3aXIgZnVlciBOb1NjcmlwdCAqLwoJcGFkZGlu'));
	@fwrite($fp, base64_decode('Zy1sZWZ0OjIwcHg7CglwYWRkaW5nLXJpZ2h0OjIwcHg7Cn0KaHRtbCB7CgltYXJnaW46MDsKCXBhZGRpbmc6MDsKCWhlaWdodDoxMDAlOwoJZm9udC1mYW1pbHk6SGVsdmV0aWNhOwp9CmJvZHkgewoJbWFyZ2luOjBweDsKCXBhZGRpbmc6MHB4OwoJZm9udC1zaXpl'));
	@fwrite($fp, base64_decode('OjAuODVlbTsKCWhlaWdodDoxMDAlOwp9CmJvZHkucGMgewoJb3ZlcmZsb3c6aGlkZGVuOwp9CmgxIHsKCWZvbnQtc2l6ZToxLjhlbTsKfQpoMiB7Cglmb250LXNpemU6MS42ZW0gIWltcG9ydGFudDsKfQouYm9yZGVyYm94IHsKCW92ZXJmbG93OmF1dG87Cglib3Jk'));
	@fwrite($fp, base64_decode('ZXI6MXB4IHNvbGlkIHNpbHZlcjsKfQoKLyoqCiAqCVNwbGl0dGVyIC8gdWlMYXlvdXQKICovCi51aS1sYXlvdXQtcGFuZSB7IC8qIGFsbCAncGFuZXMnICovCglib3JkZXI6IDFweCBzb2xpZCAjQkJCOwp9Ci51aS1sYXlvdXQtcGFuZS1jZW50ZXIgeyAvKiBjb250'));
	@fwrite($fp, base64_decode('ZW50IGJvZHkgKi8KCXBhZGRpbmc6IDA7CgltYXJnaW46ICAwOwp9Ci51aS1sYXlvdXQtcGFuZS13ZXN0IHsgLyogd2VzdCBwYW5lICovCglwYWRkaW5nOiAwIDEwcHg7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5ICFpbXBvcnRhbnQ7CglvdmVyZmxvdzogYXV0'));
	@fwrite($fp, base64_decode('bzsKfQoudWktbGF5b3V0LXJlc2l6ZXIgeyAvKiBhbGwgJ3Jlc2l6ZXItYmFycycgKi8KCWJhY2tncm91bmQ6ICNEREQ7Cgl0b3A6NTVweCAhaW1wb3J0YW50OyAvKiBETSAxMy4wMy4yMDE5ICovCn0KLnVpLWxheW91dC1yZXNpemVyLW9wZW46aG92ZXIgeyAvKiBt'));
	@fwrite($fp, base64_decode('b3VzZS1vdmVyICovCgliYWNrZ3JvdW5kOiAjOUQ5Owp9Ci51aS1sYXlvdXQtcmVzaXplci1ub3J0aCB7CgliYWNrZ3JvdW5kOiMyYjMzNmYgIWltcG9ydGFudDsKCXotaW5kZXg6MTAgIWltcG9ydGFudDsgLyogRE0gMTMuMDMuMzAyOTEgKi8KfQoudWktbGF5b3V0'));
	@fwrite($fp, base64_decode('LXRvZ2dsZXIgeyAvKiBhbGwgJ3RvZ2dsZXItYnV0dG9ucycgKi8KCWJhY2tncm91bmQ6ICNBQUE7Cgl9Ci51aS1sYXlvdXQtdG9nZ2xlci1jbG9zZWQgeyAvKiBjbG9zZWQgdG9nZ2xlci1idXR0b24gKi8KCWJhY2tncm91bmQ6ICNDQ0M7Cglib3JkZXItYm90dG9t'));
	@fwrite($fp, base64_decode('OiAxcHggc29saWQgI0JCQjsKfQoudWktbGF5b3V0LXRvZ2dsZXIgLmNvbnRlbnQgeyAvKiB0b2dnbGVyLXRleHQgKi8KCWZvbnQ6IDE0cHggYm9sZCBWZXJkYW5hLCBWZXJkYW5hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwp9Ci51aS1sYXlvdXQtdG9n'));
	@fwrite($fp, base64_decode('Z2xlcjpob3ZlciB7IC8qIG1vdXNlLW92ZXIgKi8KCWJhY2tncm91bmQ6ICNEQ0E7Cn0KLnVpLWxheW91dC10b2dnbGVyOmhvdmVyIC5jb250ZW50IHsgLyogbW91c2Utb3ZlciAqLwoJY29sb3I6ICMwMDk7Cn0KCi8qIG1hc2tzIGFyZSB1c3VhbGx5IHRyYW5zcGFy'));
	@fwrite($fp, base64_decode('ZW50IC0gbWFrZSB0aGVtIHZpc2libGUgKG11c3QgJ292ZXJyaWRlJyBkZWZhdWx0KSAqLwoudWktbGF5b3V0LW1hc2sgewoJYmFja2dyb3VuZDogI0MwMCAhaW1wb3J0YW50OwoJb3BhY2l0eTogLjIwICFpbXBvcnRhbnQ7CglmaWx0ZXI6IGFscGhhKG9wYWNpdHk9'));
	@fwrite($fp, base64_decode('MjApICFpbXBvcnRhbnQ7Cn0KCi8qIFRhYnMgKi8KCiNsb2dpblRhYiAudGFiLWNvbnRlbnQgewoJY29sb3I6IGJsYWNrOwoJYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTsKCXBhZGRpbmcgOiA1cHggMTVweDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMgPiBsaSA+'));
	@fwrite($fp, base64_decode('IGEgewoJYm9yZGVyLXJhZGl1czogMDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMgPiBsaS5hY3RpdmUgPiBhIHsKCWNvbG9yOiBibGFjazsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTsKfQoK'));
	@fclose($fp);
}
if (!is_file('oidplus.css')) {
	warn('File has vanished! Will re-create it: oidplus.css');
	writefile_6();
	if (!is_file('oidplus.css')) {
		warn('File cannot be created (not existing): oidplus.css');
	} else if (sha1_file('oidplus.css') != '440fac2a155f907842a36da90745a448bec503cb') {
		warn('File cannot be created (checksum mismatch): oidplus.css');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.css', 0644)) {
		warn('Could not change file permissions of oidplus.css');
	}
} else {
	if (@sha1_file('oidplus.css') !== '440fac2a155f907842a36da90745a448bec503cb') {
		if (@sha1_file('oidplus.css') !== '275ef6addff54f8eb53cd9f90d7c10e32c646f90') {
			warn('File was modified. Will overwrite the changes now: oidplus.css');
			$tmp = pathinfo('oidplus.css');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.css')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.css', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('oidplus.css') !== '440fac2a155f907842a36da90745a448bec503cb') {
			warn('File cannot be written (checksum mismatch): oidplus.css');
		}
	}
}

// Files different: oidplus.js
function writefile_7() {
	@$fp = fopen('oidplus.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgovLyAkKCcjaHRtbCcpLmpzdHJlZSgpOwoKY3VycmVudF9ub2RlID0gIiI7CnBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCnN5c3RlbV90aXRsZSA9ICIiOwoKU3Ry'));
	@fwrite($fp, base64_decode('aW5nLnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHsKCS8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ1MTQzMjMvamF2YXNjcmlwdC1lcXVpdmFsZW50LXRvLXBocC1leHBsb2RlCgljb25zdCBhcnJh'));
	@fwrite($fp, base64_decode('eSA9IHRoaXMuc3BsaXQoc2VwYXJhdG9yKTsKCWlmIChsaW1pdCAhPT0gdW5kZWZpbmVkICYmIGFycmF5Lmxlbmd0aCA+PSBsaW1pdCkgewoJCWFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGxpbWl0IC0gMSkuam9pbihzZXBhcmF0b3IpKTsKCX0KCXJldHVybiBhcnJh'));
	@fwrite($fp, base64_decode('eTsKfTsKClN0cmluZy5wcm90b3R5cGUuaHRtbGVudGl0aWVzID0gZnVuY3Rpb24gKCkgewoJcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoLyIvZywgJyZx'));
	@fwrite($fp, base64_decode('dW90OycpOwp9OwoKU3RyaW5nLnByb3RvdHlwZS5odG1sX2VudGl0eV9kZWNvZGUgPSBmdW5jdGlvbiAoKSB7CglyZXR1cm4gJCgnPHRleHRhcmVhIC8+JykuaHRtbCh0aGlzKS50ZXh0KCk7Cn07CgpmdW5jdGlvbiBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUoc3lzdGVtdGl0bGUsIHBhZ2V0aXRsZSkgewoJaWYgKHN5c3RlbXRpdGxlID09IHBhZ2V0aXRsZSkgewoJCXJldHVybiBzeXN0ZW10aXRsZTsKCX0gZWxzZSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlICsgJyAtICcgKyBwYWdldGl0bGU7Cgl9Cn0KCmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGdldFRyZWVMb2FkVVJMKCkgewoJdmFyIHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpOwoJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJcmV0dXJuIChnb3RvICE9IG51bGwpID8gInRyZWVsb2FkLnBocD9nb3Rv'));
	@fwrite($fp, base64_decode('PSIrZW5jb2RlVVJJKGdvdG8pIDogInRyZWVsb2FkLnBocCI7Cn0KCmZ1bmN0aW9uIHJlbG9hZENvbnRlbnQoKSB7CgkvLyBkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz0nK2VuY29kZVVSSShjdXJyZW50X25vZGUpOwoJb3Blbk9pZEluUGFuZWwoY3VycmVudF9u'));
	@fwrite($fp, base64_decode('b2RlKTsKCSQoJyNvaWR0cmVlJykuanN0cmVlKCJyZWZyZXNoIik7Cn0KCmZ1bmN0aW9uIG9wZW5PaWRJblBhbmVsKGlkLCB1bnNlbGVjdD1mYWxzZSkgewoJY29uc29sZS5sb2coIm9wZW5PaWRJblBhbmVsKCIraWQrIiwgIit1bnNlbGVjdCsiKSIpOwoKCWlmICh1'));
	@fwrite($fp, base64_decode('bnNlbGVjdCkgewoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdkZXNlbGVjdF9hbGwnKTsKCX0KCgkvLyAkKCcjY29udGVudF93aW5kb3cnKS5oaWRlKCk7Cglkb2N1bWVudC50aXRsZSA9ICIiOwoJJCgnI3JlYWxfdGl0bGUnKS5odG1sKCImbmJzcDsiKTsKCSQoJyNy'));
	@fwrite($fp, base64_decode('ZWFsX2NvbnRlbnQnKS5odG1sKCJMb2FkaW5nLi4uIik7CgkkKCcjc3RhdGljX2xpbmsnKS5hdHRyKCJocmVmIiwgIj9nb3RvPSIrZW5jb2RlVVJJKGlkKSk7CgoJaWYgKHBvcHN0YXRlX3J1bm5pbmcpIHJldHVybjsgLy8gVG8gYXZvaWQgdGhhdCB0aGUganN0cmVl'));
	@fwrite($fp, base64_decode('IHNlbGVjdGlvbiBkdXJpbmcgcG9wc3RhdGUoKSB3b24ndCB0cmlnZ2VyIGFub3RoZXIgcGFnZSBsb2FkCgoJLy8gTm9ybWFsIG9wZW5pbmcgb2YgYSBkZXNjcmlwdGlvbgoJZmV0Y2goJ2dldF9kZXNjcmlwdGlvbi5waHA/aWQ9JytpZCkKCS50aGVuKGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('KHJlc3BvbnNlKSB7CgkJcmVzcG9uc2UuanNvbigpCgkJLnRoZW4oZnVuY3Rpb24oZGF0YSkgewoJCQlkYXRhLmlkID0gaWQ7CgoJCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShzeXN0ZW1fdGl0bGUsIGRhdGEudGl0'));
	@fwrite($fp, base64_decode('bGUpOwoJCQl2YXIgc3RhdGUgPSB7CgkJCQkibm9kZV9pZCI6aWQsCgkJCQkidGl0bGVIVE1MIjooZGF0YS5pY29uID8gJzxpbWcgc3JjPSInK2RhdGEuaWNvbisnIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFsdD0iJytkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygp'));
	@fwrite($fp, base64_decode('KyciPiAnIDogJycpICtkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpLAoJCQkJInRleHRIVE1MIjpkYXRhLnRleHQsCgkJCQkic3RhdGljbGlua0hSRUYiOiI/Z290bz0iK2VuY29kZVVSSShpZCkKCQkJfTsKCQkJaWYgKGN1cnJlbnRfbm9kZSAhPSBpZCkgewoJCQkJ'));
	@fwrite($fp, base64_decode('d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCBkYXRhLnRpdGxlLCAiP2dvdG89IitlbmNvZGVVUkkoaWQpKTsKCQkJfSBlbHNlIHsKCQkJCXdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShzdGF0ZSwgZGF0YS50aXRsZSwgIj9nb3RvPSIrZW5jb2RlVVJJ'));
	@fwrite($fp, base64_decode('KGlkKSk7CgkJCX0KCgkJCWlmIChkYXRhLmljb24pIHsKCQkJCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgnPGltZyBzcmM9IicrZGF0YS5pY29uKyciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSInK2RhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkrJyI+ICcgKyBk'));
	@fwrite($fp, base64_decode('YXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKTsKCQkJfSBlbHNlIHsKCQkJCSQoJyNyZWFsX3RpdGxlJykuaHRtbChkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKTsKCQkJfQoJCQkkKCcjcmVhbF9jb250ZW50JykuaHRtbChkYXRhLnRleHQpOwoJCQlkb2N1bWVudC50'));
	@fwrite($fp, base64_decode('aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShzeXN0ZW1fdGl0bGUsIGRhdGEudGl0bGUpOwoJCQljdXJyZW50X25vZGUgPSBpZDsKCQl9KQoJCS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCQljb25zb2xlLmVycm9yKGVycm9yKTsKCQl9'));
	@fwrite($fp, base64_decode('KTsKCX0pCgkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQljb25zb2xlLmVycm9yKGVycm9yKTsKCX0pOwoKCS8vICQoJyNjb250ZW50X3dpbmRvdycpLnNob3coKTsKfQoKZnVuY3Rpb24gdXBkYXRlRGVzYygpIHsKCSQuYWpheCh7CgkJdXJsOiJhY3Rpb24ucGhw'));
	@fwrite($fp, base64_decode('IiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6IHsKCQkJYWN0aW9uOiJVcGRhdGUyIiwKCQkJaWQ6Y3VycmVudF9ub2RlLAoJCQl0aXRsZTooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlZWRpdCcpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxl'));
	@fwrite($fp, base64_decode('ZWRpdCcpLnZhbHVlIDogbnVsbCksCgkJCS8vZGVzY3JpcHRpb246KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykudmFsdWUgOiBudWxsKQoJCQlkZXNjcmlwdGlvbjp0'));
	@fwrite($fp, base64_decode('aW55TUNFLmdldCgnZGVzY3JpcHRpb24nKS5nZXRDb250ZW50KCkKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0siKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJVcGRh'));
	@fwrite($fp, base64_decode('dGUgT0siKTsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoInJlZnJlc2giKTsKCQkJCXZhciBoMXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgaDFzLmxl'));
	@fwrite($fp, base64_decode('bmd0aDsgaSsrKSB7CgkJCQkJdmFyIGgxID0gaDFzW2ldOwoJCQkJCWgxLmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZWVkaXQnKS52YWx1ZS5odG1sZW50aXRpZXMoKTsKCQkJCX0KCQkJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9z'));
	@fwrite($fp, base64_decode('eXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKHN5c3RlbV90aXRsZSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlZWRpdCcpLnZhbHVlKTsKCgkJCQl2YXIgbWNlID0gdGlueW1jZS5nZXQoJ2Rlc2NyaXB0aW9uJyk7CgkJCQlpZiAobWNlICE9IG51bGwpIG1j'));
	@fwrite($fp, base64_decode('ZS5pc05vdERpcnR5ID0gMTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBjcnVkQWN0aW9uU2VuZEludml0YXRpb24ob3JpZ2luLCBlbWFpbCkgewoJLy8gZG9jdW1lbnQubG9jYXRpb24gPSAnP2dvdG89b2lkcGx1czppbnZpdGVfcmEkJytlbWFpbCsnJCcrb3Jp'));
	@fwrite($fp, base64_decode('Z2luOwoKCW9wZW5PaWRJblBhbmVsKCdvaWRwbHVzOmludml0ZV9yYSQnK2VtYWlsKyckJytvcmlnaW4pOwoKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvbkluc2VydChwYXJlbnQpIHsKCSQuYWpheCh7CgkJdXJsOiJhY3Rpb24ucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJ'));
	@fwrite($fp, base64_decode('CWRhdGE6ewoJCQlhY3Rpb246Ikluc2VydCIsCgkJCWlkOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlLAoJCQlyYV9lbWFpbDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWwnKS52YWx1ZSwKCQkJYXNuMWlkczooZG9jdW1lbnQuZ2V0'));
	@fwrite($fp, base64_decode('RWxlbWVudEJ5SWQoJ2FzbjFpZHMnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzJykudmFsdWUgOiBudWxsKSwKCQkJaXJpczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lyaXMnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzJyku'));
	@fwrite($fp, base64_decode('dmFsdWUgOiBudWxsKSwKCQkJY29uZmlkZW50aWFsOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZScpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGUnKS5jaGVja2VkIDogbnVsbCksCgkJCXBhcmVudDpwYXJlbnQKCQl9LAoJCXN1Y2Nlc3M6ZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSA9PSAiT0siKSB7CgkJCQkvL2FsZXJ0KCJJbnNlcnQgT0siKTsKCQkJCXJlbG9hZENvbnRlbnQoKTsKCQkJCS8vIFRPRE86IGF1ZiByZWxvYWRDb250ZW50KCkgdmVyemljaHRlbi4gc3RhdHRkZXNzZW4gbnVyIHRyZWUg'));
	@fwrite($fp, base64_decode('bGlua3MgYWt0dWFsaXNpZXJlbiwgdW5kIHJlY2h0cyBlaW5lIG5ldWUgemVpbGUgenVyIHRhYmVsbGUgaGluenVm/GdlbgoJCQl9IGVsc2UgaWYgKGRhdGEgPT0gIk9LIChSYU5vdEluRGF0YWJhc2UpIikgewoJCQkJaWYgKGNvbmZpcm0oIlVwZGF0ZSBPSy4gSG93'));
	@fwrite($fp, base64_decode('ZXZlciwgdGhlIGVtYWlsIGFkZHJlc3MgeW91IGhhdmUgZW50ZXJlZCAoIitkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWwnKS52YWx1ZSsiKSBpcyBub3QgaW4gb3VyIHN5c3RlbS4gRG8geW91IHdhbnQgdG8gc2VuZCBhbiBpbnZpdGF0aW9uLCBzbyB0'));
	@fwrite($fp, base64_decode('aGF0IHRoZSBSQSBjYW4gcmVnaXN0ZXIgYW4gYWNjb3VudCB0byBtYW5hZ2UgdGhlaXIgT0lEcz8iKSkgewoJCQkJCWNydWRBY3Rpb25TZW5kSW52aXRhdGlvbihwYXJlbnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbCcpLnZhbHVlKTsKCQkJCX0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7CgkJCQkJcmVsb2FkQ29udGVudCgpOwoJCQkJCS8vIFRPRE86IGF1ZiByZWxvYWRDb250ZW50KCkgdmVyemljaHRlbi4gc3RhdHRkZXNzZW4gbnVyIHRyZWUgbGlua3MgYWt0dWFsaXNpZXJlbiwgdW5kIHJlY2h0cyBlaW5lIG5ldWUgemVpbGUgenVyIHRh'));
	@fwrite($fp, base64_decode('YmVsbGUgaGluenVm/GdlbgoJCQkJfQoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvblVwZGF0ZShpZCwgcGFyZW50KSB7CgkkLmFqYXgoewoJCXVybDoiYWN0aW9uLnBocCIs'));
	@fwrite($fp, base64_decode('CgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiVXBkYXRlIiwKCQkJaWQ6aWQsCgkJCXJhX2VtYWlsOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbF8nK2lkKS52YWx1ZSwKCQkJYXNuMWlkczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5'));
	@fwrite($fp, base64_decode('SWQoJ2FzbjFpZHNfJytpZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNuMWlkc18nK2lkKS52YWx1ZSA6IG51bGwpLAoJCQlpcmlzOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXJpc18nK2lkKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlz'));
	@fwrite($fp, base64_decode('XycraWQpLnZhbHVlIDogbnVsbCksCgkJCWNvbmZpZGVudGlhbDooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGVfJytpZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZV8nK2lkKS5jaGVja2VkIDogbnVsbCksCgkJCXBhcmVudDpwYXJlbnQKCQl9'));
	@fwrite($fp, base64_decode('LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSA9PSAiT0siKSB7CgkJCQlhbGVydCgiVXBkYXRlIE9LIik7CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwoJCQl9IGVsc2UgaWYg'));
	@fwrite($fp, base64_decode('KGRhdGEgPT0gIk9LIChSYU5vdEluRGF0YWJhc2UpIikgewoJCQkJaWYgKGNvbmZpcm0oIlVwZGF0ZSBPSy4gSG93ZXZlciwgdGhlIGVtYWlsIGFkZHJlc3MgeW91IGhhdmUgZW50ZXJlZCAoIitkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWxfJytpZCku'));
	@fwrite($fp, base64_decode('dmFsdWUrIikgaXMgbm90IGluIG91ciBzeXN0ZW0uIERvIHlvdSB3YW50IHRvIHNlbmQgYW4gaW52aXRhdGlvbiwgc28gdGhhdCB0aGUgUkEgY2FuIHJlZ2lzdGVyIGFuIGFjY291bnQgdG8gbWFuYWdlIHRoZWlyIE9JRHM/IikpIHsKCQkJCQljcnVkQWN0aW9uU2Vu'));
	@fwrite($fp, base64_decode('ZEludml0YXRpb24ocGFyZW50LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWxfJytpZCkudmFsdWUpOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoInJlZnJlc2giKTsKCQkJCX0K'));
	@fwrite($fp, base64_decode('CQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25EZWxldGUoaWQsIHBhcmVudCkgewoJaWYoIXdpbmRvdy5jb25maXJtKCJBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBk'));
	@fwrite($fp, base64_decode('ZWxldGUgIitpZCsiPyIpKSByZXR1cm4gZmFsc2U7CgoJJC5hamF4KHsKCQl1cmw6ImFjdGlvbi5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246IkRlbGV0ZSIsCgkJCWlkOmlkLAoJCQlwYXJlbnQ6cGFyZW50CgkJfSwKCQlzdWNjZXNz'));
	@fwrite($fp, base64_decode('OmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgIT0gIk9LIikgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0gZWxzZSB7CgkJCQlyZWxvYWRDb250ZW50KCk7CgkJCQkvLyBUT0RPOiBhdWYgcmVsb2FkQ29udGVudCgpIHZlcnppY2h0ZW4uIHN0'));
	@fwrite($fp, base64_decode('YXR0ZGVzc2VuIG51ciB0cmVlIGxpbmtzIGFrdHVhbGlzaWVyZW4sIHVuZCByZWNodHMgZGllIHplaWxlIGF1cyBkZXIgdGFiZWxsZSBs9nNjaGVuCgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gZGVsZXRlUmEoZW1haWwsIGdvdG8pIHsKCWlmKCF3aW5kb3cuY29u'));
	@fwrite($fp, base64_decode('ZmlybSgiQXJlIHlvdSByZWFsbHkgc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZSAiK2VtYWlsKyI/IChUaGUgT0lEcyBzdGF5IGFjdGl2ZSkiKSkgcmV0dXJuIGZhbHNlOwoKCSQuYWpheCh7CgkJdXJsOiJhY3Rpb24ucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJ'));
	@fwrite($fp, base64_decode('CWRhdGE6IHsKCQkJYWN0aW9uOiJkZWxldGVfcmEiLAoJCQllbWFpbDplbWFpbCwKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0siKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfSBlbHNlIHsKCQkJCWFs'));
	@fwrite($fp, base64_decode('ZXJ0KCJEb25lLiIpOwoJCQkJaWYgKGdvdG8gIT0gbnVsbCkgZG9jdW1lbnQubG9jYXRpb24gPSAnP2dvdG89JyArIGdvdG87CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gcmFMb2dvdXQoZW1haWwpIHsKCWlmKCF3aW5k'));
	@fwrite($fp, base64_decode('b3cuY29uZmlybSgiQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gbG9nb3V0PyIpKSByZXR1cm4gZmFsc2U7CgoJJC5hamF4KHsKCQl1cmw6ImFjdGlvbi5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246InJhX2xvZ291dCIsCgkJ'));
	@fwrite($fp, base64_decode('CWVtYWlsOmVtYWlsLAoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCWlmIChkYXRhICE9ICJPSyIpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9IGVsc2UgewoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSAnP2dvdG89b2lkcGx1czpz'));
	@fwrite($fp, base64_decode('eXN0ZW0nOwoJCQkJLy8gcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIHJhTG9naW4oZW1haWwsIHBhc3N3b3JkKSB7CgkkLmFqYXgoewoJCXVybDoiYWN0aW9uLnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlv'));
	@fwrite($fp, base64_decode('bjoicmFfbG9naW4iLAoJCQllbWFpbDplbWFpbCwKCQkJcGFzc3dvcmQ6cGFzc3dvcmQsCgkJCWNhcHRjaGE6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCA/IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA6'));
	@fwrite($fp, base64_decode('IG51bGwKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0siKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJCWdyZWNhcHRjaGEucmVzZXQoKTsKCQkJfSBlbHNlIHsKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0g'));
	@fwrite($fp, base64_decode('Jz9nb3RvPW9pZHBsdXM6c3lzdGVtJzsKCQkJCS8vIHJlbG9hZENvbnRlbnQoKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBhZG1pbkxvZ2luKHBhc3N3b3JkKSB7CgkkLmFqYXgoewoJCXVybDoiYWN0aW9uLnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRh'));
	@fwrite($fp, base64_decode('OiB7CgkJCWFjdGlvbjoiYWRtaW5fbG9naW4iLAoJCQlwYXNzd29yZDpwYXNzd29yZCwKCQkJY2FwdGNoYTogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwID8gZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpIDog'));
	@fwrite($fp, base64_decode('bnVsbAoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCWlmIChkYXRhICE9ICJPSyIpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQkJZ3JlY2FwdGNoYS5yZXNldCgpOwoJCQl9IGVsc2UgewoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSAn'));
	@fwrite($fp, base64_decode('P2dvdG89b2lkcGx1czpzeXN0ZW0nOwoJCQkJLy8gcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGFkbWluTG9nb3V0KCkgewoJaWYoIXdpbmRvdy5jb25maXJtKCJBcmUgeW91IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBsb2dvdXQ/Iikp'));
	@fwrite($fp, base64_decode('IHJldHVybiBmYWxzZTsKCgkkLmFqYXgoewoJCXVybDoiYWN0aW9uLnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiYWRtaW5fbG9nb3V0IiwKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0si'));
	@fwrite($fp, base64_decode('KSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfSBlbHNlIHsKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gJz9nb3RvPW9pZHBsdXM6c3lzdGVtJzsKCQkJCS8vIHJlbG9hZENvbnRlbnQoKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBvcGVuQW5k'));
	@fwrite($fp, base64_decode('U2VsZWN0Tm9kZShjaGlsZElELCBwYXJlbnRJRCkgewoJaWYgKCQoJyNvaWR0cmVlJykuanN0cmVlKHRydWUpLmdldF9ub2RlKHBhcmVudElEKSkgewoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUnLCAnIycrcGFyZW50SUQsIGZ1bmN0aW9uKGUsIGRh'));
	@fwrite($fp, base64_decode('dGEpIHsgLy8gb3BlbiBwYXJlbnQgbm9kZQoJCQlpZiAoJCgnI29pZHRyZWUnKS5qc3RyZWUodHJ1ZSkuZ2V0X25vZGUoY2hpbGRJRCkpIHsgLy8gaXMgdGhlIGNoaWxkIHRoZXJlPwoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpLmpzdHJl'));
	@fwrite($fp, base64_decode('ZSgnc2VsZWN0X25vZGUnLCAnIycrY2hpbGRJRCk7IC8vIHNlbGVjdCBpdAoJCQl9IGVsc2UgewoJCQkJLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBjb250ZW50IHBhZ2UgY29udGFpbnMgYnJhbmQgbmV3IGl0ZW1zIHdoaWNoIGFyZSBub3QgaW4gdGhlIHRyZWV2'));
	@fwrite($fp, base64_decode('aWV3IHlldAoJCQkJZG9jdW1lbnQubG9jYXRpb24gPSAiP2dvdG89IitlbmNvZGVVUkkoY2hpbGRJRCk7CgkJCX0KCQl9LCB0cnVlKTsKCX0gZWxzZSB7CgkJLy8gVGhpcyBzaG91bGQgdXN1YWxseSBub3QgaGFwcGVuCgkJZG9jdW1lbnQubG9jYXRpb24gPSAiP2dv'));
	@fwrite($fp, base64_decode('dG89IitlbmNvZGVVUkkoY2hpbGRJRCk7Cgl9Cn0KCiQod2luZG93KS5vbigicG9wc3RhdGUiLCBmdW5jdGlvbihlKSB7Cglwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsKCXRyeSB7CgkJdmFyIGRhdGEgPSBlLm9yaWdpbmFsRXZlbnQuc3RhdGU7CgoJCWN1cnJlbnRf'));
	@fwrite($fp, base64_decode('bm9kZSA9IGRhdGEubm9kZV9pZDsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGRhdGEubm9kZV9pZCk7IC8vIFRPRE86IHNlYXJjaCBhbmQgb3BlbiB0aGUgbm9kZXMKCQkkKCcjcmVhbF90aXRsZScp'));
	@fwrite($fp, base64_decode('Lmh0bWwoZGF0YS50aXRsZUhUTUwpOwoJCSQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKGRhdGEudGV4dEhUTUwpOwoJCSQoJyNzdGF0aWNfbGluaycpLmF0dHIoImhyZWYiLCBkYXRhLnN0YXRpY2xpbmtIUkVGKTsKCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lz'));
	@fwrite($fp, base64_decode('dGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShzeXN0ZW1fdGl0bGUsIGRhdGEudGl0bGVIVE1MLmh0bWxfZW50aXR5X2RlY29kZSgpKTsKCX0gY2F0Y2ggKGVycikgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCX0gZmluYWxseSB7CgkJcG9wc3RhdGVfcnVubmlu'));
	@fwrite($fp, base64_decode('ZyA9IGZhbHNlOwoJfQp9KTsKCiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKCS8vIC0tLSBKc1RyZWUKCgkkKCcjb2lkdHJlZScpCgkuanN0cmVlKHsKCQlwbHVnaW5zOiBbJ21hc3Nsb2FkJywnc2VhcmNoJywnY29uZGl0aW9uYWxzZWxlY3QnXSwKCQkn'));
	@fwrite($fp, base64_decode('Y29yZScgOiB7CgkJCSdkYXRhJyA6IHsKCQkJCSJ1cmwiIDogZ2V0VHJlZUxvYWRVUkwoKSwKCQkJCSJkYXRhIiA6IGZ1bmN0aW9uIChub2RlKSB7CgkJCQkJcmV0dXJuIHsgImlkIiA6IG5vZGUuaWQgfTsKCQkJCX0KCQkJfSwKCQkJIm11bHRpcGxlIjogZmFsc2UK'));
	@fwrite($fp, base64_decode('CQl9LAoJCSdjb25kaXRpb25hbHNlbGVjdCcgOiBmdW5jdGlvbiAobm9kZSkgewoJCQlpZiAobm9kZS5vcmlnaW5hbC5jb25kaXRpb25hbHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7CgkJCQlyZXR1cm4gZXZhbChub2RlLm9yaWdpbmFsLmNvbmRpdGlvbmFsc2VsZWN0'));
	@fwrite($fp, base64_decode('KTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiB0cnVlOyAvLyBhbGxvdyBzZWxlY3QKCQkJfQoJCX0sCgl9KQoJLm9uKCdyZWFkeS5qc3RyZWUnLCBmdW5jdGlvbiAoZSwgZGF0YSkgewoJCXZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKCQl2'));
	@fwrite($fp, base64_decode('YXIgZ290byA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJnb3RvIik7CgkJaWYgKGdvdG8gPT0gbnVsbCkgZ290byA9ICJvaWRwbHVzOnN5c3RlbSI7IC8vIHRoZSBwYWdlIHdhcyBub3QgY2FsbGVkIHdpdGggP2dvdG89Li4uCgoJCS8vIEJ5IHNldHRpbmcgY3VycmVu'));
	@fwrite($fp, base64_decode('dF9ub2RlLCBzZWxlY3Rfbm9kZSgpIHdpbGwgbm90IGNhdXNlIGdldF9kZXNjcmlwdGlvbi5waHAgdG8gbG9hZCAoc2luY2Ugd2UgYWxyZWFkeSBsb2FkZWQgdGhlIGZpcnN0IHN0YXRpYyBjb250ZW50IHZpYSBQSFAsIGZvciBzZWFyY2ggZW5naW5lcyBtYWlubHkp'));
	@fwrite($fp, base64_decode('CgkJLy8gQnV0IHRoZW4gd2UgbmVlZCB0byBzZXQgdGhlIGhpc3Rvcnkgc3RhdGUgbWFudWFsbHkKCQljdXJyZW50X25vZGUgPSBnb3RvOwoJCXdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7Im5vZGVfaWQiOmdvdG8sICJ0aXRsZUhUTUwiOiQoJyNyZWFsX3Rp'));
	@fwrite($fp, base64_decode('dGxlJykuaHRtbCgpLCAidGV4dEhUTUwiOiQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKCksICJzdGF0aWNsaW5rSFJFRiI6Ij9nb3RvPSIrZW5jb2RlVVJJKGdvdG8pfSwgJCgnI3JlYWxfdGl0bGUnKS5odG1sKCksICc/Z290bz0nK2VuY29kZVVSSShnb3RvKSk7CgoJ'));
	@fwrite($fp, base64_decode('CWlmIChnb3RvICE9IG51bGwpIGRhdGEuaW5zdGFuY2Uuc2VsZWN0X25vZGUoW2dvdG9dKTsKCX0pCgkub24oJ3NlbGVjdF9ub2RlLmpzdHJlZScsIGZ1bmN0aW9uIChub2RlLCBzZWxlY3RlZCwgZXZlbnQpIHsKCQlpZiAob2lkcGx1c01vYmlsZSgpKSB7CgkJCWRv'));
	@fwrite($fp, base64_decode('Y3VtZW50LmdldEVsZW1lbnRCeUlkKCJvaWR0cmVlIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCQl9CgoJCXZhciBpZCA9IHNlbGVjdGVkLm5vZGUuaWQ7CgkJaWYgKGN1cnJlbnRfbm9kZSAhPSBpZCkgewoJCQlvcGVuT2lkSW5QYW5lbChpZCk7CgkJfQoJfSk7'));
	@fwrite($fp, base64_decode('CgoJLy8gLS0tIExheW91dAoKCWlmICghb2lkcGx1c01vYmlsZSgpKSB7CgkJJCgnYm9keScpLmxheW91dCh7CgkJCW5vcnRoX19zaXplOiA0MCwKCQkJbm9ydGhfX3NsaWRhYmxlOiBmYWxzZSwKCQkJbm9ydGhfX2Nsb3NhYmxlOiBmYWxzZSwKCQkJbm9ydGhfX3Jl'));
	@fwrite($fp, base64_decode('c2l6YWJsZTogZmFsc2UsCgkJCXdlc3RfX3NpemU6CQkJNDUwLAoJCQl3ZXN0X19zcGFjaW5nX2Nsb3NlZDoJCTIwLAoJCQl3ZXN0X190b2dnbGVyTGVuZ3RoX2Nsb3NlZDoJMjMwLAoJCQl3ZXN0X190b2dnbGVyQWxpZ25fY2xvc2VkOgkidG9wIiwKCQkJd2VzdF9f'));
	@fwrite($fp, base64_decode('dG9nZ2xlckNvbnRlbnRfY2xvc2VkOiJPPGJyPkI8YnI+Sjxicj5FPGJyPkM8YnI+VDxicj48YnI+VDxCUj5SPEJSPkU8QlI+RSIsCgkJCXdlc3RfX3RvZ2dsZXJUaXBfY2xvc2VkOgkiT3BlbiAmIFBpbiBNZW51IiwKCQkJd2VzdF9fc2xpZGVyVGlwOgkJIlNsaWRl'));
	@fwrite($fp, base64_decode('IE9wZW4gTWVudSIsCgkJCXdlc3RfX3NsaWRlVHJpZ2dlcl9vcGVuOgkibW91c2VvdmVyIiwKCQkJY2VudGVyX19tYXNrQ29udGVudHM6CQl0cnVlIC8vIElNUE9SVEFOVCAtIGVuYWJsZSBpZnJhbWUgbWFza2luZwoJCX0pOwoJfQp9KTsKCmZ1bmN0aW9uIG9pZHBs'));
	@fwrite($fp, base64_decode('dXNNb2JpbGUoKSB7CglyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgidWktbGF5b3V0LWNlbnRlciIpLmxlbmd0aCA9PSAwOwp9CgpmdW5jdGlvbiBpbnZpdGVGb3JtT25TdWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFjdGlvbi5waHAi'));
	@fwrite($fp, base64_decode('LAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImludml0ZV9yYSIsCgkJCWVtYWlsOiAkKCIjZW1haWwiKS52YWwoKSwKCQkJY2FwdGNoYTogZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAw'));
	@fwrite($fp, base64_decode('ID8gZ3JlY2FwdGNoYS5nZXRSZXNwb25zZSgpIDogbnVsbAoJCX0sCgkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoZGF0YSAhPSAiT0siKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJCWdyZWNhcHRjaGEucmVzZXQoKTsKCQkJfSBl'));
	@fwrite($fp, base64_decode('bHNlIHsKCQkJCWFsZXJ0KCJUaGUgUkEgaGFzIGJlZW4gaW52aXRlZCB2aWEgZW1haWwuIik7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz0nKyQoIiNvcmlnaW4iKS52YWwoKTsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7CglyZXR1'));
	@fwrite($fp, base64_decode('cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGFjdGl2YXRlUmFGb3JtT25TdWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFjdGlvbi5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImFjdGl2YXRlX3JhIiwKCQkJZW1haWw6ICQoIiNlbWFp'));
	@fwrite($fp, base64_decode('bCIpLnZhbCgpLAoJCQlhdXRoOiAkKCIjYXV0aCIpLnZhbCgpLAoJCQlwYXNzd29yZDE6ICQoIiNwYXNzd29yZDEiKS52YWwoKSwKCQkJcGFzc3dvcmQyOiAkKCIjcGFzc3dvcmQyIikudmFsKCksCgkJCXRpbWVzdGFtcDogJCgiI3RpbWVzdGFtcCIpLnZhbCgpCgkJ'));
	@fwrite($fp, base64_decode('fSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlmIChkYXRhICE9ICJPSyIpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIlJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsISBZb3UgY2FuIG5vdyBsb2cgaW4u'));
	@fwrite($fp, base64_decode('Iik7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz1vaWRwbHVzOmxvZ2luJzsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGZvcmdvdFBhc3N3b3JkRm9ybU9uU3VibWl0KCkgewoJJC5h'));
	@fwrite($fp, base64_decode('amF4KHsKCQl1cmw6ICJhY3Rpb24ucGhwIiwKCQl0eXBlOiAiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ICJmb3Jnb3RfcGFzc3dvcmQiLAoJCQllbWFpbDogJCgiI2VtYWlsIikudmFsKCksCgkJCWNhcHRjaGE6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFz'));
	@fwrite($fp, base64_decode('c05hbWUoJ2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCA/IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA6IG51bGwKCQl9LAoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKGRhdGEgIT0gIk9LIikgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7'));
	@fwrite($fp, base64_decode('CgkJCQlncmVjYXB0Y2hhLnJlc2V0KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRS1NYWlsIHNlbnQuIik7CgkJCQlkb2N1bWVudC5sb2NhdGlvbiA9ICc/Z290bz1vaWRwbHVzOmxvZ2luJzsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9CgkJfQoJfSk7Cgly'));
	@fwrite($fp, base64_decode('ZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRGb3JtT25TdWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFjdGlvbi5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogInJlc2V0X3Bhc3N3b3JkIiwKCQkJZW1haWw6'));
	@fwrite($fp, base64_decode('ICQoIiNlbWFpbCIpLnZhbCgpLAoJCQlhdXRoOiAkKCIjYXV0aCIpLnZhbCgpLAoJCQlwYXNzd29yZDE6ICQoIiNwYXNzd29yZDEiKS52YWwoKSwKCQkJcGFzc3dvcmQyOiAkKCIjcGFzc3dvcmQyIikudmFsKCksCgkJCXRpbWVzdGFtcDogJCgiI3RpbWVzdGFtcCIp'));
	@fwrite($fp, base64_decode('LnZhbCgpCgkJfSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlmIChkYXRhICE9ICJPSyIpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIlBhc3N3b3JkIHN1Y2Vzc2Z1bGx5IGNoYW5nZWQuIFlvdSBj'));
	@fwrite($fp, base64_decode('YW4gbm93IGxvZyBpbi4iKTsKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gJz9nb3RvPW9pZHBsdXM6bG9naW4nOwoJCQkJLy9yZWxvYWRDb250ZW50KCk7CgkJCX0KCQl9Cgl9KTsKCXJldHVybiBmYWxzZTsKfQo='));
	@fclose($fp);
}
if (!is_file('oidplus.js')) {
	warn('File has vanished! Will re-create it: oidplus.js');
	writefile_7();
	if (!is_file('oidplus.js')) {
		warn('File cannot be created (not existing): oidplus.js');
	} else if (sha1_file('oidplus.js') != '35e50e4105415e87287b8e9d2722ae4286a25bea') {
		warn('File cannot be created (checksum mismatch): oidplus.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.js', 0644)) {
		warn('Could not change file permissions of oidplus.js');
	}
} else {
	if (@sha1_file('oidplus.js') !== '35e50e4105415e87287b8e9d2722ae4286a25bea') {
		if (@sha1_file('oidplus.js') !== 'd45f7543d3af214efd3befaff53f4fd29cdad463') {
			warn('File was modified. Will overwrite the changes now: oidplus.js');
			$tmp = pathinfo('oidplus.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('oidplus.js') !== '35e50e4105415e87287b8e9d2722ae4286a25bea') {
			warn('File cannot be written (checksum mismatch): oidplus.js');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 95\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 95') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

