<?php /* <ViaThinkSoftSignature>
uOX7SyTDj4qDddWqPO/W0P0nE1fmfznwGK5kl7vqi6QumIOsMezM8sA/coYsziZdF
AyEKcATc7llLyxTBMMddgSiLktHcDsdpkovn6zeHC962vcI1gmWDEghg4lp1OHlKF
+td2ej1bF8N+R/dt2aIHkR5ZK2+0hAkkz0qForAc8Xnq03bAub1tZ/mGOyBq52Q98
zKBXxVfxo7WJLTEm+KbCBRq0etdwN5CD+gHtiyRXfrQTZeQII47llXSqAD2tCkfli
r4mELPk/viGcC+VCKfpwAHLuhI60uwWyEy2Zl4WA5JvFBx79Bn0wfwoInHj02TaMf
AkhV/UYjUWP0sN2yAt8F7IVk6O6EWc/X5bggFc89oJ3XlBHT/9zX9148WeNQoqP5+
omc7MfAL67qKhjsw1ZQNupTpv9q4j1hQ7vHu4EupGQ0QMSpOMo1GmOrbPmYdcddsQ
ne1Cy8UN9XYwMxMc0eH/1FgdzielT2A+IYA5m5WsKaMjBQcnmqC6vB+XXG4zsLF9S
i1GkXGY6mKyaZzpIxzchGHd53LFoODG2Mrq3mzAmOY57JkSoD84ryfsBPkBwy+aJp
ZS7s4lk5VbfvZnXJZqPyV5wtbmiR344aN4UBl8WgM3zGLeldagt1uoKtMA2BfKTKn
NQyAcXAspXV8J1oc3CgCc92/fwCA3dr/IBZ99Ei6bbUwUFQB2tjPaIsAdwYC1l7mK
F0vslabN7mJjOQjQ8iLfPE1QERFnkf1Ka+dtnwJQRkYz2l6mF9BMlaoYU79iENzzm
GYbXoVDdykjeAhJlaRvzP4YQvKL+l9KbpfGEJCeey4HqPfDoqBLIWGCweE428qAxe
EQGAxLvxg3vZHT5rtjY/hTLp5gDN6+pOfCyws11SooaxqD4vlS5ijPawOVw6dSJ1e
+Wd/F78zqSkYTET18lnUm9lY1C2iy0CpGOgiTqJTjMsmYKr3s5wf222ew+MQKxkD+
kDmZCZRdill4t3ds5Cy98Zw8C2dP7m7Ooily39E0owxNswmOW4LqhNOCIsARQbEaA
FGm8n+L1NBiLXV067V+xtWiZRflacRFIB78kzw9kBZGWxYx0oREMKAf58oOH6C0qH
BBfVeJxcY1MVmm8InsTgdhF5FD2Yaqo0jXHZBACFp6bgQLH53k0Gms8o0w7Z+hf2p
c3Dn5kKoLPv64iClmVqwIieLkQdy5/guoE4kNKiJsPLzMAnjnmTgf6s2J258taAEv
e+hfs7S4cu+2EzMsFfJitSzpshqaveIbNTiVTzhppIJjiMWbas1V9xm4LQ1gbU9Xn
RtBOkTLpvaousmMxUSCBvgHcBAtwvU+DiLYaSs4fACSe802bd5i2l9+jTddOv2XVS
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1154') {
	err('This update can only be applied to OIDplus version 2.0.0.1154!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: dev/test_database_plugins
function writefile_1() {
	@$fp = fopen('dev/test_database_plugins', 'w');
	@fwrite($fp, base64_decode('IyEvdXNyL2Jpbi9lbnYgcGhwCjw/cGhwCgovKgogKiBPSURwbHVzIDIuMAogKiBDb3B5cmlnaHQgMjAxOSAtIDIwMjIgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAy'));
	@fwrite($fp, base64_decode('LjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3'));
	@fwrite($fp, base64_decode('dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJp'));
	@fwrite($fp, base64_decode('YnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdv'));
	@fwrite($fp, base64_decode('dmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLy8gVGhpcyBzY3JpcHQgaXMgdXNlZCB0byBkZXRlY3QgcHJvYmxlbXMgd2l0aCB5b3VyIGRhdGFiYXNlIHBsdWdpbnMKLy8gQVRURU5USU9OOiBQTEVB'));
	@fwrite($fp, base64_decode('U0UgRE8gTk9UIFVTRSBUSElTIFNDUklQVCBPTiBBIFBST0RVQ1RJVkUgREFUQUJBU0UsCi8vIEJFQ0FVU0UgSVQgQUREUyBBTkQgQ0hBTkdFUyBEQVRBIERVUklORyBUSEUgVEVTVElORy4KCiMgLS0tCgovLyBUT0RPOiBVVEYtOCB0ZXN0cwoKcmVxdWlyZV9vbmNl'));
	@fwrite($fp, base64_decode('IF9fRElSX18gLiAnLy4uL2luY2x1ZGVzL29pZHBsdXMuaW5jLnBocCc7Cgp1c2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXNcT0lEcGx1czsKdXNlIFZpYVRoaW5rU29mdFxPSURwbHVzXE9JRHBsdXNEYXRhYmFzZUNvbm5lY3Rpb247CgokbnVtX2VycnMgPSAwOwokbnVt'));
	@fwrite($fp, base64_decode('X3N1Y2MgPSAwOwoKaWYgKFBIUF9TQVBJICE9ICdjbGknKSBlY2hvICc8cHJlPic7CgplY2hvICJPSURwbHVzIERhdGFiYXNlIHBsdWdpbiB0ZXN0Y2FzZXNcblxuIjsKCk9JRHBsdXM6OmluaXQodHJ1ZSwgdHJ1ZSk7CgojIFRlc3QgTXlTUUwKdHJ5IHsKCU9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicsICdNeVNRTCcpOwoJT0lEcGx1czo6aW5pdCh0cnVlLCB0cnVlKTsKCSRkYiA9IE9JRHBsdXM6OmRiKCk7CglPSURwbHVzOjppbml0KHRydWUsIHRydWUpOwoJaWYgKGZ1bmN0aW9uX2V4'));
	@fwrite($fp, base64_decode('aXN0cygnbXlzcWxpX2ZldGNoX2FsbCcpKSB7CgkJT0lEcGx1czo6YmFzZUNvbmZpZygpLT5zZXRWYWx1ZSgnTVlTUUxfRk9SQ0VfTVlTUUxORF9TVVBQTEVNRU5UJywgZmFsc2UpOwoJCWVjaG8gIltXaXRoIE15U1FMbmQgc3VwcG9ydF0gIjsKCQlkb3Rlc3QoJGRi'));
	@fwrite($fp, base64_decode('KTsKCQlPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdNWVNRTF9GT1JDRV9NWVNRTE5EX1NVUFBMRU1FTlQnLCB0cnVlKTsKCX0KCWVjaG8gIltXaXRob3V0IE15U1FMbmQgc3VwcG9ydF0gIjsKCWRvdGVzdCgkZGIpOwp9IGNhdGNoIChFeGNlcHRpb24g'));
	@fwrite($fp, base64_decode('JGUpIHsKCWVjaG8gIk15U1FMOlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0TWVzc2FnZSgpKS4iXG5cbiI7Cn0KCiMgVGVzdCBQRE8KdHJ5IHsKCU9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicsICdQRE8nKTsKCU9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmluaXQodHJ1ZSwgdHJ1ZSk7CgkkZGIgPSBPSURwbHVzOjpkYigpOwoJZG90ZXN0KCRkYik7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJZWNobyAiUERPOlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0TWVzc2FnZSgpKS4iXG5cbiI7Cn0KCiMgVGVzdCBP'));
	@fwrite($fp, base64_decode('REJDCnRyeSB7CglPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnT0RCQycpOwoJT0lEcGx1czo6aW5pdCh0cnVlLCB0cnVlKTsKCSRkYiA9IE9JRHBsdXM6OmRiKCk7Cglkb3Rlc3QoJGRiKTsKfSBjYXRjaCAoRXhjZXB0'));
	@fwrite($fp, base64_decode('aW9uICRlKSB7CgllY2hvICJPREJDOlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0TWVzc2FnZSgpKS4iXG5cbiI7Cn0KCiMgVGVzdCBQZ1NRTAp0cnkgewoJT0lEcGx1czo6YmFzZUNvbmZpZygpLT5zZXRWYWx1ZSgnREFUQUJBU0VfUExVR0lOJywgJ1BnU1FMJyk7'));
	@fwrite($fp, base64_decode('CglPSURwbHVzOjppbml0KHRydWUsIHRydWUpOwoJJGRiID0gT0lEcGx1czo6ZGIoKTsKCWRvdGVzdCgkZGIpOwp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCWVjaG8gIlBnU1FMOlxuIjsKCWVjaG8gcmVkdGV4dCgkZS0+Z2V0TWVzc2FnZSgpKS4iXG5cbiI7Cn0K'));
	@fwrite($fp, base64_decode('CiMgVGVzdCBTUUxpdGUzCnRyeSB7CglPSURwbHVzOjpiYXNlQ29uZmlnKCktPnNldFZhbHVlKCdEQVRBQkFTRV9QTFVHSU4nLCAnU1FMaXRlJyk7CglPSURwbHVzOjppbml0KHRydWUsIHRydWUpOwoJJGRiID0gT0lEcGx1czo6ZGIoKTsKCWRvdGVzdCgkZGIpOwp9'));
	@fwrite($fp, base64_decode('IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCWVjaG8gIlNRTGl0ZTM6XG4iOwoJZWNobyByZWR0ZXh0KCRlLT5nZXRNZXNzYWdlKCkpLiJcblxuIjsKfQoKIyBUZXN0IE9DSTgKdHJ5IHsKCU9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ0RBVEFCQVNFX1BM'));
	@fwrite($fp, base64_decode('VUdJTicsICdPQ0k4Jyk7CglPSURwbHVzOjppbml0KHRydWUsIHRydWUpOwoJJGRiID0gT0lEcGx1czo6ZGIoKTsKCWRvdGVzdCgkZGIpOwp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCWVjaG8gIk9DSTg6XG4iOwoJZWNobyByZWR0ZXh0KCRlLT5nZXRNZXNzYWdl'));
	@fwrite($fp, base64_decode('KCkpLiJcblxuIjsKfQoKIyAtLS0KCmlmIChQSFBfU0FQSSAhPSAnY2xpJykgewoJZGllKCc8L3ByZT4nKTsKfSBlbHNlIHsKCWV4aXQoJG51bV9lcnJzID4gMCA/IDEgOiAwKTsKfQoKIyAtLS0KCi8qKgogKiBAcGFyYW0gT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlv'));
	@fwrite($fp, base64_decode('biAkZGIKICogQHJldHVybiB2b2lkCiAqLwpmdW5jdGlvbiBkb3Rlc3QoT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbiAkZGIpIHsKCWVjaG8gIkRhdGFiYXNlOiAiIC4gZ2V0X2NsYXNzKCRkYikgLiAiXG4iOwoJdHJ5IHsKCQkkZGItPmNvbm5lY3QoKTsKCX0gY2F0'));
	@fwrite($fp, base64_decode('Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCWVjaG8gIkNvbm5lY3Rpb24gIi5yZWR0ZXh0KCJGQUlMRUQiKS4iIChjaGVjayB1c2VyZGF0YS9iYXNlY29uZmlnL2NvbmZpZy5pbmMucGhwKTogIi4kZS0+Z2V0TWVzc2FnZSgpLiJcblxuIjsKCQlyZXR1cm47Cgl9CgllY2hv'));
	@fwrite($fp, base64_decode('ICJEZXRlY3RlZCBzbGFuZzogIiAuICRkYi0+Z2V0U2xhbmcoKTo6aWQoKS4iXG4iOwoJJGRiLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAndGVzdDoxJyIpOwoJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAo'));
	@fwrite($fp, base64_decode('aWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ3Rlc3Q6MS4xJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRl'));
	@fwrite($fp, base64_decode('c2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ3Rlc3Q6MS4yJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJdHJ5IHsKCQkvLyAtLS0gIlNRTCBEYXRlIiBoYW5kbGluZwoKCQl0cnkgewoJCQkkcmVzID0gJGRiLT5xdWVyeSgidXBkYXRlICMjI29i'));
	@fwrite($fp, base64_decode('amVjdHMgc2V0IGNyZWF0ZWQgPSAiLiRkYi0+c3FsRGF0ZSgpLiIgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJCWVjaG8gIlNRTERhdGUgKCIuJGRiLT5zcWxEYXRlKCkuJykgJy5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJfSBjYXRjaCAoRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('ICRlKSB7CgkJCWVjaG8gIlNRTERhdGUgKCIuJGRiLT5zcWxEYXRlKCkuJykgJy5yZWR0ZXh0KCdGQUlMRUQnKS4iXG4iOwoJCX0KCgkJLy8gLS0tIERlbGV0ZStJbnNlcnQgdXNpbmcgcHJlcGFyZWQgc3RhdGVtZW50cwoKCQkkZGItPnF1ZXJ5KCJkZWxldGUgZnJv'));
	@fwrite($fp, base64_decode('bSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8iLCBhcnJheSgndGVzdDoxMScpKTsKCQllY2hvICJEZWxldGUgdXNpbmcgUHJlcGFyZWQgU3RhdGVtZW50czogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMj'));
	@fwrite($fp, base64_decode('b2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoPywgPywgPywgPywgPykiLCBhcnJheSgnb2lkOjMuMS4xMScsICd0ZXN0OjExJywgJycsICcnLCAnMCcpKTsKCQkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50'));
	@fwrite($fp, base64_decode('byAjIyNvYmplY3RzIChpZCwgcGFyZW50LCB0aXRsZSwgZGVzY3JpcHRpb24sIGNvbmZpZGVudGlhbCkgdmFsdWVzICg/LCA/LCA/LCA/LCA/KSIsIGFycmF5KCdvaWQ6My4xLjEyJywgJ3Rlc3Q6MTEnLCAnJywgJycsICcwJykpOwoJCWVjaG8gIkluc2VydCB1c2lu'));
	@fwrite($fp, base64_decode('ZyBQcmVwYXJlZCBTdGF0ZW1lbnRzOiAiLmdyZWVudGV4dCgnUEFTU0VEJykuIlxuIjsKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgY29uZmlkZW50aWFsID0gPyB3aGVyZSBwYXJlbnQgPSA/IiwgYXJyYXkodHJ1ZSwgJ3Rlc3Q6MTEnKSk7CgkJ'));
	@fwrite($fp, base64_decode('ZWNobyAiVXBkYXRlIHVzaW5nIFByZXBhcmVkIFN0YXRlbWVudHM6ICIuZ3JlZW50ZXh0KCdQQVNTRUQnKS4iXG4iOwoKCQkvLyAtLS0gIk51bSByb3dzIiBoYW5kbGluZwoKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVy'));
	@fwrite($fp, base64_decode('ZSBwYXJlbnQgPSA/IG9yZGVyIGJ5IGlkIiwgYXJyYXkoJ3Rlc3Q6WFhYWFhYWFhYJykpOwoJCXRyeSB7CgkJCSRudW1fcm93cyA9ICRyZXMtPm51bV9yb3dzKCk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCSRudW1fcm93cyA9ICRlLT5nZXRNZXNzYWdl'));
	@fwrite($fp, base64_decode('KCk7CgkJfQoJCWVjaG8gIk51bSByb3dzIGVtcHR5OiAiIC4gKCRudW1fcm93cz09PTAgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRudW1fcm93cylcbiI7CgoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAj'));
	@fwrite($fp, base64_decode('IyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgndGVzdDoxJykpOwoJCXRyeSB7CgkJCSRudW1fcm93cyA9ICRyZXMtPm51bV9yb3dzKCk7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCSRudW1fcm93cyA9ICRlLT5nZXRN'));
	@fwrite($fp, base64_decode('ZXNzYWdlKCk7CgkJfQoJCWVjaG8gIk51bSByb3dzOiAiIC4gKCRudW1fcm93cz09PTIgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRudW1fcm93cylcbiI7CgoJCSRyZXMtPmZldGNoX2FycmF5KCk7CgkJdHJ5IHsKCQkJJG51'));
	@fwrite($fp, base64_decode('bV9yb3dzID0gJHJlcy0+bnVtX3Jvd3MoKTsKCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJJG51bV9yb3dzID0gJGUtPmdldE1lc3NhZ2UoKTsKCQl9CgkJZWNobyAiTnVtIHJvd3MgYWZ0ZXIgc29tZXRoaW5nIGZldGNoZWQ6ICIgLiAoJG51bV9yb3dzPT09'));
	@fwrite($fp, base64_decode('MiA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIiAoJG51bV9yb3dzKVxuIjsKCgkJJG5leHRpZCA9ICRyZXMtPmZldGNoX2FycmF5KClbJ2lkJ107CgkJZWNobyAiTnVtIHJvd3MgZG9lcyBub3QgY2hhbmdlIGN1cnNvcjogIiAuICgk'));
	@fwrite($fp, base64_decode('bmV4dGlkID09ICd0ZXN0OjEuMicgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgoJCSRuZXh0ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQllY2hvICJGZXRjaCBhZnRlciBFT0YgZ2l2ZXMgbnVsbDogIiAuIChpc19udWxs'));
	@fwrite($fp, base64_decode('KCRuZXh0KSA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIlxuIjsKCgkJLy8gLS0tIFNpbXVsdGFub3VzIHByZXBhcmVkIHN0YXRlbWVudHMKCgkJJGVycm1zZyA9ICcnOwoJCXRyeSB7CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxl'));
	@fwrite($fp, base64_decode('Y3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgndGVzdDoxJykpOwoJCQkkcGFzc2VkID0gZmFsc2U7CgkJCS8vJHJlcy0+bnVtX3Jvd3MoKTsgLy8gc3BvbmdlCgkJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0'));
	@fwrite($fp, base64_decode('Y2hfYXJyYXkoKSkgewoJCQkJJHJlczIgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgkcm93WydpZCddKSk7CgkJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfYXJy'));
	@fwrite($fp, base64_decode('YXkoKSkgewoJCQkJfQoJCQkJaWYgKCRyb3dbJ2lkJ10gPT0gJ3Rlc3Q6MS4yJykgewoJCQkJCSRwYXNzZWQgPSB0cnVlOwoJCQkJfQoJCQl9CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCSRwYXNzZWQgPSBmYWxzZTsKCQkJJGVycm1zZyA9ICcgKCcuJGUt'));
	@fwrite($fp, base64_decode('PmdldE1lc3NhZ2UoKS4nKSc7CgkJfQoJCWVjaG8gIlNpbXVsdGFub3VzIHByZXBhcmVkIHN0YXRlbWVudHM6ICIuKCRwYXNzZWQgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIkZXJybXNnXG4iOwoKCQlpZiAoISRwYXNzZWQpIHsK'));
	@fwrite($fp, base64_decode('CQkJLy8gV2UgY2Fubm90IGNvbnRpbnVlIGJlY2F1c2UgdGhlIGNvbm5lY3Rpb24gaXMgaW4gYSBzdGF0ZSB0aGF0IGNhbm5vdCBiZSByZWNvdmVyZWQgZWFzaWx5CgkJCWVjaG8gIkNhbmNlbGxlZCFcblxuIjsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gLS0tIEV4Y2Vw'));
	@fwrite($fp, base64_decode('dGlvbiBoYW5kbGluZwoKCQl0cnkgewoJCQkkZGItPnF1ZXJ5KCJTRUxFQ1QgKiBmcm9tIEFCQ0RFRiIpOwoJCQllY2hvICJFeGNlcHRpb24gZm9yIERpcmVjdFF1ZXJ5OiAiLnJlZHRleHQoJ0ZBSUxFRCcpLiIsIG5vIEV4Y2VwdGlvbiB0aHJvd25cbiI7CgkJfSBj'));
	@fwrite($fp, base64_decode('YXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCWlmICgoc3RyaXBvcygkZS0+Z2V0TWVzc2FnZSgpLCAnQUJDREVGJykgIT09IGZhbHNlKSB8fCBpc19rbm93bl9lcnJvcm1zZygkZS0+Z2V0TWVzc2FnZSgpKSkgewoJCQkJZWNobyAiRXhjZXB0aW9uIGZvciBEaXJlY3RR'));
	@fwrite($fp, base64_decode('dWVyeTogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJCX0gZWxzZSB7CgkJCQllY2hvICJFeGNlcHRpb24gZm9yIERpcmVjdFF1ZXJ5OiAiLnJlZHRleHQoJ0ZBSUxFRCcpLiIsIGRvZXMgcHJvYmFibHkgbm90IGNvbnRhaW4gREJNUyBlcnJvciBzdHJpbmcg'));
	@fwrite($fp, base64_decode('KCIuJGUtPmdldE1lc3NhZ2UoKS4iKVxuIjsKCQkJfQoJCX0KCgkJJG1zZyA9ICRkYi0+ZXJyb3IoKTsKCQlpZiAoKHN0cmlwb3MoJG1zZywgJ0FCQ0RFRicpICE9PSBmYWxzZSkgfHwgaXNfa25vd25fZXJyb3Jtc2coJG1zZykpIHsKCQkJZWNobyAiRXJyb3ItRnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gYWZ0ZXIgZmFpbGVkIGRpcmVjdCBxdWVyeTogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJfSBlbHNlIHsKCQkJZWNobyAiRXJyb3ItRnVuY3Rpb24gYWZ0ZXIgZmFpbGVkIGRpcmVjdCBxdWVyeTogIi5yZWR0ZXh0KCdGQUlMRUQnKS4iLCBkb2Vz'));
	@fwrite($fp, base64_decode('IHByb2JhYmx5IG5vdCBjb250YWluIERCTVMgZXJyb3Igc3RyaW5nICgkbXNnKVxuIjsKCQl9CgoJCXRyeSB7CgkJCSRkYi0+cXVlcnkoIlNFTEVDVCAqIGZyb20gRkVEQ0JBIiwgYXJyYXkoJycpKTsKCQkJZWNobyAiRXhjZXB0aW9uIGZvciBQcmVwYXJlZFF1ZXJ5'));
	@fwrite($fp, base64_decode('OiAiLnJlZHRleHQoJ0ZBSUxFRCcpLiIsIG5vIEV4Y2VwdGlvbiB0aHJvd25cbiI7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCWlmICgoc3RyaXBvcygkZS0+Z2V0TWVzc2FnZSgpLCAnRkVEQ0JBJykgIT09IGZhbHNlKSB8fCBpc19rbm93bl9lcnJvcm1z'));
	@fwrite($fp, base64_decode('ZygkZS0+Z2V0TWVzc2FnZSgpKSkgewoJCQkJZWNobyAiRXhjZXB0aW9uIGZvciBQcmVwYXJlZFF1ZXJ5OiAiLmdyZWVudGV4dCgnUEFTU0VEJykuIlxuIjsKCQkJfSBlbHNlIHsKCQkJCWVjaG8gIkV4Y2VwdGlvbiBmb3IgUHJlcGFyZWRRdWVyeTogIi5yZWR0ZXh0'));
	@fwrite($fp, base64_decode('KCdGQUlMRUQnKS4iLCBkb2VzIHByb2JhYmx5IG5vdCBjb250YWluIERCTVMgZXJyb3Igc3RyaW5nICgiLiRlLT5nZXRNZXNzYWdlKCkuIilcbiI7CgkJCX0KCQl9CgoJCSRtc2cgPSAkZGItPmVycm9yKCk7CgkJaWYgKChzdHJpcG9zKCRtc2csICdGRURDQkEnKSAh'));
	@fwrite($fp, base64_decode('PT0gZmFsc2UpIHx8IGlzX2tub3duX2Vycm9ybXNnKCRtc2cpKSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBwcmVwYXJlZCBxdWVyeTogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJfSBlbHNlIHsKCQkJZWNobyAiRXJyb3ItRnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gYWZ0ZXIgZmFpbGVkIHByZXBhcmVkIHF1ZXJ5OiAiLnJlZHRleHQoJ0ZBSUxFRCcpLiIsIGRvZXMgcHJvYmFibHkgbm90IGNvbnRhaW4gREJNUyBlcnJvciBzdHJpbmcgKCRtc2cpXG4iOwoJCX0KCgkJJGRiLT5xdWVyeSgic2VsZWN0IDEiKTsKCQkkbXNn'));
	@fwrite($fp, base64_decode('ID0gJGRiLT5lcnJvcigpOwoJCWlmICghJG1zZykgewoJCQllY2hvICJFcnJvci1GdW5jdGlvbiBnZXRzIGNsZWFyZWQgYWZ0ZXIgbm9uLWZhaWxlZCBxdWVyeTogIi5ncmVlbnRleHQoJ1BBU1NFRCcpLiJcbiI7CgkJfSBlbHNlIHsKCQkJZWNobyAiRXJyb3ItRnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gZ2V0cyBjbGVhcmVkIGFmdGVyIG5vbi1mYWlsZWQgcXVlcnk6ICIucmVkdGV4dCgnRkFJTEVEJykuIiwgZG9lcyBwcm9iYWJseSBub3QgY29udGFpbiBEQk1TIGVycm9yIHN0cmluZ1xuIjsKCQl9CgoJCS8vIC0tLSBCb29sZWFuIGhhbmRsaW5nCgoJCSRk'));
	@fwrite($fp, base64_decode('Yi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCBjb25maWRlbnRpYWwgPSA/IHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIsIGFycmF5KHRydWUpKTsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGNvbmZpZGVudGlhbCBmcm9tICMjI29iamVjdHMgd2hlcmUg'));
	@fwrite($fp, base64_decode('aWQgPSAndGVzdDoxLjEnIik7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT5jb25maWRlbnRpYWw7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBUUlVFIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50IChmZXRjaCk6ICIgLiAoJHZhbCA/IGdyZWVudGV4dCgn'));
	@fwrite($fp, base64_decode('UEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIlxuIjsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyBhbmQgY29uZmlkZW50aWFsID0gPyIsIGFycmF5KHRydWUpKTsKCQkkdmFsID0g'));
	@fwrite($fp, base64_decode('JHJlcy0+ZmV0Y2hfb2JqZWN0KCk7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBUUlVFIHdpdGggcHJlcGFyZWQgc3RhdGVtZW50ICh3aGVyZSk6ICIgLiAoJHZhbCA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIlxuIjsKCgkJJGRi'));
	@fwrite($fp, base64_decode('LT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IGNvbmZpZGVudGlhbCA9ID8gd2hlcmUgaWQgPSAndGVzdDoxLjEnIiwgYXJyYXkoZmFsc2UpKTsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGNvbmZpZGVudGlhbCBmcm9tICMjI29iamVjdHMgd2hlcmUg'));
	@fwrite($fp, base64_decode('aWQgPSAndGVzdDoxLjEnIik7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT5jb25maWRlbnRpYWw7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBGQUxTRSB3aXRoIHByZXBhcmVkIHN0YXRlbWVudCAoZmV0Y2gpOiAiIC4gKCEkdmFsID8gZ3JlZW50ZXh0'));
	@fwrite($fp, base64_decode('KCdQQVNTRUQnKSA6IHJlZHRleHQoJ0ZBSUxFRCcpKS4iXG4iOwoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIGFuZCBjb25maWRlbnRpYWwgPSA/IiwgYXJyYXkoZmFsc2UpKTsKCQkkdmFs'));
	@fwrite($fp, base64_decode('ID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCk7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBGQUxTRSB3aXRoIHByZXBhcmVkIHN0YXRlbWVudCAod2hlcmUpOiAiIC4gKCR2YWwgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgoJ'));
	@fwrite($fp, base64_decode('CSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCBjb25maWRlbnRpYWwgPSAnMScgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7IC8vIE5PVEU6IERPIE5PVCBVU0UgVEhJUyBJTiBUSEUgU09VUkNFIENPREUhIEFsd2F5cyB1c2UgcHJlcGFyZWQgc3RhdGVt'));
	@fwrite($fp, base64_decode('ZW50cyBmb3IgY29uc3RhbnQgYm9vbGVhbnMKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGNvbmZpZGVudGlhbCBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT5jb25maWRlbnRp'));
	@fwrite($fp, base64_decode('YWw7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBUUlVFIHdpdGggbm9ybWFsIHN0YXRlbWVudCAoZmV0Y2gpOiAiIC4gKCR2YWwgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVj'));
	@fwrite($fp, base64_decode('dCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ICd0ZXN0OjEuMScgYW5kIGNvbmZpZGVudGlhbCA9IDEiKTsgLy8gTk9URTogRE8gTk9UIFVTRSBUSElTIElOIFRIRSBTT1VSQ0UgQ09ERSEgQWx3YXlzIHVzZSBwcmVwYXJlZCBzdGF0ZW1lbnRzIGZvciBjb25z'));
	@fwrite($fp, base64_decode('dGFudCBib29sZWFucwoJCSR2YWwgPSAkcmVzLT5mZXRjaF9vYmplY3QoKTsKCQllY2hvICJCb29sZWFuIGhhbmRsaW5nIFRSVUUgd2l0aCBub3JtYWwgc3RhdGVtZW50ICh3aGVyZSk6ICIgLiAoJHZhbCA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdG'));
	@fwrite($fp, base64_decode('QUlMRUQnKSkuIlxuIjsKCgkJJGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IGNvbmZpZGVudGlhbCA9ICcwJyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsgLy8gTk9URTogRE8gTk9UIFVTRSBUSElTIElOIFRIRSBTT1VSQ0UgQ09ERSEgQWx3YXlzIHVz'));
	@fwrite($fp, base64_decode('ZSBwcmVwYXJlZCBzdGF0ZW1lbnRzIGZvciBjb25zdGFudCBib29sZWFucwoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgY29uZmlkZW50aWFsIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2Jq'));
	@fwrite($fp, base64_decode('ZWN0KCktPmNvbmZpZGVudGlhbDsKCQllY2hvICJCb29sZWFuIGhhbmRsaW5nIEZBTFNFIHdpdGggbm9ybWFsIHN0YXRlbWVudCAoZmV0Y2gpOiAiIC4gKCEkdmFsID8gZ3JlZW50ZXh0KCdQQVNTRUQnKSA6IHJlZHRleHQoJ0ZBSUxFRCcpKS4iXG4iOwoJCSRyZXMg'));
	@fwrite($fp, base64_decode('PSAkZGItPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIGFuZCBjb25maWRlbnRpYWwgPSAwIik7IC8vIE5PVEU6IERPIE5PVCBVU0UgVEhJUyBJTiBUSEUgU09VUkNFIENPREUhIEFsd2F5cyB1c2UgcHJlcGFyZWQg'));
	@fwrite($fp, base64_decode('c3RhdGVtZW50cyBmb3IgY29uc3RhbnQgYm9vbGVhbnMKCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCk7CgkJZWNobyAiQm9vbGVhbiBoYW5kbGluZyBGQUxTRSB3aXRoIG5vcm1hbCBzdGF0ZW1lbnQgKHdoZXJlKTogIiAuICgkdmFsID8gZ3JlZW50ZXh0KCdQ'));
	@fwrite($fp, base64_decode('QVNTRUQnKSA6IHJlZHRleHQoJ0ZBSUxFRCcpKS4iXG4iOwoKCQkvLyAtLS0gQ2hlY2sgaWYgdHJhbnNhY3Rpb25zIHdvcmsKCgkJaWYgKCRkYi0+dHJhbnNhY3Rpb25fc3VwcG9ydGVkKCkpIHsKCQkJZWNobyAiVHJhbnNhY3Rpb24gc3VwcG9ydDogIiAuIGdyZWVu'));
	@fwrite($fp, base64_decode('dGV4dCgnU3VwcG9ydGVkJykgLiJcbiI7CgoJCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgdGl0bGUgPSAnQScgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJCSRkYi0+dHJhbnNhY3Rpb25fYmVnaW4oKTsKCQkJJGRiLT5xdWVyeSgidXBkYXRl'));
	@fwrite($fp, base64_decode('ICMjI29iamVjdHMgc2V0IHRpdGxlID0gJ0InIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCQkkZGItPnRyYW5zYWN0aW9uX3JvbGxiYWNrKCk7CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgdGl0bGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rl'));
	@fwrite($fp, base64_decode('c3Q6MS4xJyIpOwoJCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPnRpdGxlOwoJCQllY2hvICJUcmFuc2FjdGlvbiByb2xsYmFjazogIiAuICgkdmFsID09ICdBJyA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIlxuIjsKCgkJ'));
	@fwrite($fp, base64_decode('CSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCB0aXRsZSA9ICdBJyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkJJGRiLT50cmFuc2FjdGlvbl9iZWdpbigpOwoJCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgdGl0bGUgPSAnQicg'));
	@fwrite($fp, base64_decode('d2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJCSRkYi0+dHJhbnNhY3Rpb25fY29tbWl0KCk7CgkJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgdGl0bGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCQkkdmFsID0gJHJlcy0+ZmV0'));
	@fwrite($fp, base64_decode('Y2hfb2JqZWN0KCktPnRpdGxlOwoJCQllY2hvICJUcmFuc2FjdGlvbiBjb21taXQ6ICIgLiAoJHZhbCA9PSAnQicgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiJcbiI7CgkJfSBlbHNlIHsKCQkJZWNobyAiVHJhbnNhY3Rpb24gc3Vw'));
	@fwrite($fp, base64_decode('cG9ydDogIiAuIHJlZHRleHQoJ05vdCBzdXBwb3J0ZWQnKSAuIlxuIjsKCQl9CgoJCS8vIC0tLSBUZXN0IGluc2VydF9pZCgpCgoJCSRkYi0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI2xvZ19vYmplY3Qgd2hlcmUgb2JqZWN0ID0gJ3Rlc3Q6MSciKTsKCQkkY3VyID0g'));
	@fwrite($fp, base64_decode('JGRiLT5pbnNlcnRfaWQoKTsKCQllY2hvICJJbnNlcnQgSUQgb24gbm9uLWluc2VydDogIiAuICgkY3VyID09IDAgPyBncmVlbnRleHQoJ1BBU1NFRCcpIDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRjdXIpXG4iOwoJCSRkYi0+cXVlcnkoImluc2VydCBpbnRvICMj'));
	@fwrite($fp, base64_decode('I2xvZ19vYmplY3QgKGxvZ19pZCwgc2V2ZXJpdHksIG9iamVjdCkgdmFsdWVzICgxMDAwLCAwLCAndGVzdDoxJykiKTsKCQkkcHJldiA9ICRkYi0+aW5zZXJ0X2lkKCk7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjbG9nX29iamVjdCAobG9nX2lkLCBzZXZl'));
	@fwrite($fp, base64_decode('cml0eSwgb2JqZWN0KSB2YWx1ZXMgKDIwMDAsIDEsICd0ZXN0OjEnKSIpOwoJCSRjdXIgPSAkZGItPmluc2VydF9pZCgpOwoJCWVjaG8gIkluc2VydCBJRCBvbiBhY3R1YWwgaW5zZXJ0czogIiAuICgkY3VyID09ICRwcmV2KzEgPyBncmVlbnRleHQoJ1BBU1NFRCcp'));
	@fwrite($fp, base64_decode('IDogcmVkdGV4dCgnRkFJTEVEJykpLiIgKCRwcmV2ID0+ICRjdXIpXG4iOwoJCWlmICgkY3VyICE9ICRwcmV2KzEpOwoJCSRkYi0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI2xvZ19vYmplY3Qgd2hlcmUgb2JqZWN0ID0gJ3Rlc3Q6MSciKTsKCQkkY3VyID0gJGRiLT5p'));
	@fwrite($fp, base64_decode('bnNlcnRfaWQoKTsKCQllY2hvICJOb24tSW5zZXJ0IHF1ZXJ5IHdpbGwgcmVzZXQgaW5zZXJ0IElEOiAiIC4gKCRjdXIgPT0gMCA/IGdyZWVudGV4dCgnUEFTU0VEJykgOiByZWR0ZXh0KCdGQUlMRUQnKSkuIiAoJGN1cilcbiI7CgoJfSBmaW5hbGx5IHsKCQl0cnkg'));
	@fwrite($fp, base64_decode('ewoJCQkkZGItPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ICd0ZXN0OjEnIik7CgkJfWNhdGNoKEV4Y2VwdGlvbiAkZSkge30KCX0KCSRkYi0+ZGlzY29ubmVjdCgpOwoJZWNobyAiXG4iOwp9CgovKioKICogQHBhcmFtIHN0cmlu'));
	@fwrite($fp, base64_decode('ZyAkc3RyCiAqIEByZXR1cm4gc3RyaW5nCiAqLwpmdW5jdGlvbiByZWR0ZXh0KHN0cmluZyAkc3RyKTogc3RyaW5nIHsKCWdsb2JhbCAkbnVtX2VycnM7CgkkbnVtX2VycnMrKzsKCXJldHVybiBQSFBfU0FQSSA9PSAnY2xpJyA/ICJcMDMzWzMxbSRzdHJcMDMzWzBt'));
	@fwrite($fp, base64_decode('IiA6ICc8Zm9udCBjb2xvcj0icmVkIj4nLiRzdHIuJzwvZm9udD4nOwp9CgovKioKICogQHBhcmFtIHN0cmluZyAkc3RyCiAqIEByZXR1cm4gc3RyaW5nCiAqLwpmdW5jdGlvbiBncmVlbnRleHQoc3RyaW5nICRzdHIpOiBzdHJpbmcgewoJZ2xvYmFsICRudW1fc3Vj'));
	@fwrite($fp, base64_decode('YzsKCSRudW1fc3VjYysrOwoJcmV0dXJuIFBIUF9TQVBJID09ICdjbGknID8gIlwwMzNbMzJtJHN0clwwMzNbMG0iIDogJzxmb250IGNvbG9yPSJncmVlbiI+Jy4kc3RyLic8L2ZvbnQ+JzsKfQoKLyoqCiAqIEBwYXJhbSBzdHJpbmcgJG1zZwogKiBAcmV0dXJuIGJv'));
	@fwrite($fp, base64_decode('b2wKICovCmZ1bmN0aW9uIGlzX2tub3duX2Vycm9ybXNnKHN0cmluZyAkbXNnKTogYm9vbCB7CgkvLyBPcmFjbGU6CgkvL0Vycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBkaXJlY3QgcXVlcnk6CgkvLwk9PT4gT0NJU3RtdEV4ZWN1dGU6IE9SQS0wMDk0MjogdGFi'));
	@fwrite($fp, base64_decode('bGUgb3IgdmlldyBkb2VzIG5vdCBleGlzdCAgKGV4dFxwZG9fb2NpXG9jaV9zdGF0ZW1lbnQuYzoxNTUpCgkvL0Vycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBwcmVwYXJlZCBxdWVyeToKCS8vCT09PiBPQ0lCaW5kQnlQb3M6IE9SQS0wMTAzNjogaWxsZWdhbCB2'));
	@fwrite($fp, base64_decode('YXJpYWJsZSBuYW1lL251bWJlciAoZXh0XHBkb19vY2lcb2NpX3N0YXRlbWVudC5jOjM0NikKCXJldHVybiBzdHJwb3MoJG1zZywnT1JBLScpICE9PSBmYWxzZTsKfQo='));
	@fclose($fp);
}
if (!is_file('dev/test_database_plugins')) {
	warn('File has vanished! Will re-create it: dev/test_database_plugins');
	writefile_1();
	if (!is_file('dev/test_database_plugins')) {
		warn('File cannot be created (not existing): dev/test_database_plugins');
	} else if (sha1_file('dev/test_database_plugins') != '9fd59862c298a8564abeca34944da854d6504e08') {
		warn('File cannot be created (checksum mismatch): dev/test_database_plugins');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('dev/test_database_plugins', 0755)) {
		warn('Could not change file permissions of dev/test_database_plugins');
	}
} else {
	if (@sha1_file('dev/test_database_plugins') !== '9fd59862c298a8564abeca34944da854d6504e08') {
		if (@sha1_file('dev/test_database_plugins') !== '10311a07066dae5e960bcfa7724e600384c6c86a') {
			warn('File was modified. Will overwrite the changes now: dev/test_database_plugins');
			$tmp = pathinfo('dev/test_database_plugins');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('dev/test_database_plugins')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('dev/test_database_plugins', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('dev/test_database_plugins') !== '9fd59862c298a8564abeca34944da854d6504e08') {
			warn('File cannot be written (checksum mismatch): dev/test_database_plugins');
		}
	}
}

// Files different: plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php
function writefile_2() {
	@$fp = fopen('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbk15U1FMaSBleHRlbmRzIE9JRHBsdXNEYXRhYmFzZUNvbm5lY3Rpb24gewoKCS8qKgoJICogQHZhciBtaXhlZHxudWxsCgkgKi8KCXBy'));
	@fwrite($fp, base64_decode('aXZhdGUgJGNvbm4gPSBudWxsOyAvLyBvbmx5IHdpdGggTXlTUUxuZAoKCS8qKgoJICogQHZhciBhcnJheQoJICovCglwcml2YXRlICRwcmVwYXJlX2NhY2hlID0gYXJyYXkoKTsKCgkvKioKCSAqIEB2YXIgc3RyaW5nfG51bGwKCSAqLwoJcHJpdmF0ZSAkbGFzdF9l'));
	@fwrite($fp, base64_decode('cnJvciA9IG51bGw7IC8vIHdlIG5lZWQgdGhhdCBiZWNhdXNlIE15U1FMIGRpdmlkZXMgcHJlcGFyZWQgc3RhdGVtZW50IGVycm9ycyBhbmQgbm9ybWFsIHF1ZXJ5IGVycm9ycywgYnV0IHdlIGhhdmUgb25seSBvbmUgImVycm9yKCkiIG1ldGhvZAoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('QHBhcmFtIHN0cmluZyAkc3FsCgkgKiBAcGFyYW0gYXJyYXl8bnVsbCAkcHJlcGFyZWRfYXJncwoJICogQHJldHVybiBPSURwbHVzUXVlcnlSZXN1bHRNeVNRTHxPSURwbHVzUXVlcnlSZXN1bHRNeVNRTE5vTmF0aXZlRHJpdmVyCgkgKiBAdGhyb3dzIE9JRHBsdXNF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRvUXVlcnkoc3RyaW5nICRzcWwsIGFycmF5ICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURwbHVzUXVlcnlSZXN1bHQgewoJCSR0aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkcHJlcGFy'));
	@fwrite($fp, base64_decode('ZWRfYXJncykpIHsKCQkJdHJ5IHsKCQkJCSRyZXMgPSAkdGhpcy0+Y29ubi0+cXVlcnkoJHNxbCwgTVlTUUxJX1NUT1JFX1JFU1VMVCk7CgkJCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCQkJCSR0aGlzLT5sYXN0X2Vycm9yID0gJGUtPmdldE1lc3NhZ2UoKTsK'));
	@fwrite($fp, base64_decode('CQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICRlLT5nZXRNZXNzYWdlKCkpOwoJCQl9CgoJCQlpZiAoJHJlcyA9PT0gZmFsc2UpIHsKCQkJCSR0aGlzLT5sYXN0X2Vycm9yID0gJHRoaXMtPmNvbm4tPmVycm9yOwoJCQkJdGhyb3cgbmV3IE9J'));
	@fwrite($fp, base64_decode('RHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRNeVNRTCgkcmVzKTsKCQkJfQoJCX0gZWxzZSB7CgkJCWlmICghaXNfYXJyYXkoJHByZXBhcmVkX2FyZ3MpKSB7'));
	@fwrite($fp, base64_decode('CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnInByZXBhcmVkX2FyZ3MiIG11c3QgYmUgZWl0aGVyIE5VTEwgb3IgYW4gQVJSQVkuJykpOwoJCQl9CgoJCQlmb3JlYWNoICgkcHJlcGFyZWRfYXJncyBhcyAmJHZhbHVlKSB7CgkJCQkvLyBNeVNRTGkg'));
	@fwrite($fp, base64_decode('aGFzIHByb2JsZW1zIGNvbnZlcnRpbmcgInRydWUvZmFsc2UiIHRvIHRoZSBkYXRhIHR5cGUgInRpbnlpbnQoMSkiCgkJCQkvLyBJdCBzZWVtcyB0byBiZSB0aGUgc2FtZSBpc3N1ZSBhcyBpbiBQRE8gcmVwb3J0ZWQgMTQgeWVhcnMgYWdvIGF0IGh0dHBzOi8vYnVn'));
	@fwrite($fp, base64_decode('cy5waHAubmV0L2J1Zy5waHA/aWQ9NTcxNTcKCQkJCWlmIChpc19ib29sKCR2YWx1ZSkpICR2YWx1ZSA9ICR2YWx1ZSA/ICcxJyA6ICcwJzsKCQkJfQoKCQkJaWYgKGlzc2V0KCR0aGlzLT5wcmVwYXJlX2NhY2hlWyRzcWxdKSkgewoJCQkJJHBzID0gJHRoaXMtPnBy'));
	@fwrite($fp, base64_decode('ZXBhcmVfY2FjaGVbJHNxbF07CgkJCX0gZWxzZSB7CgkJCQl0cnkgewoJCQkJCSRwcyA9ICR0aGlzLT5jb25uLT5wcmVwYXJlKCRzcWwpOwoJCQkJfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoJCQkJCSR0aGlzLT5sYXN0X2Vycm9yID0gJGUtPmdldE1lc3NhZ2Uo'));
	@fwrite($fp, base64_decode('KTsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkZS0+Z2V0TWVzc2FnZSgpKTsKCQkJCX0KCQkJCWlmICghJHBzKSB7CgkJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSAkdGhpcy0+Y29ubi0+ZXJyb3I7CgkJCQkJdGhyb3cgbmV3IE9JRHBs'));
	@fwrite($fp, base64_decode('dXNTUUxFeGNlcHRpb24oJHNxbCwgX0woJ0Nhbm5vdCBwcmVwYXJlIHN0YXRlbWVudCcpLic6ICcuJHRoaXMtPmVycm9yKCkpOwoJCQkJfQoKCQkJCS8vIENhY2hpbmcgdGhlIHByZXBhcmVkIGlzIHZlcnkgcmlza3kKCQkJCS8vIEluIFBETyBhbmQgT0RCQyB3ZSBt'));
	@fwrite($fp, base64_decode('YXkgbm90IGRvIGl0LCBiZWNhdXNlIGV4ZWN1dGUoKSB3aWxsCgkJCQkvLyBkZXN0cm95IHRoZSBleGlzdGluZyBjdXJzb3JzLgoJCQkJLy8gKHRlc3QgdGhpcyB3aXRoIC4vP2dvdG89b2lkJTNBMS4zLjYuMS40LjEuMzc1NTMuOC4zMjQ4ODE5MjI3NAoJCQkJLy8g'));
	@fwrite($fp, base64_decode('eW91IHdpbGwgc2VlIHRoYXQgMi45OTkgaXMgbWlzc2luZyBpbiB0aGUgdHJlZSkKCQkJCS8vIEJ1dCAkcHMtPmdldF9yZXN1bHQoKSBzZWVtcyB0byAiY2xvbmUiIHRoZSBjdXJzb3IsCgkJCQkvLyBzbyB0aGF0ICRwcy0+ZXhlY3V0ZSBtYXkgYmUgY2FsbGVkIGEg'));
	@fwrite($fp, base64_decode('c2Vjb25kIHRpbWU/IQoJCQkJLy8gSG93ZXZlciwgaXQgb25seSB3b3JrcyB3aXRoIG15c3FsbmQncyBnZXRfcmVzdWx0LAoJCQkJLy8gbm90IHdpdGggT0lEcGx1c1F1ZXJ5UmVzdWx0TXlTUUxOb05hdGl2ZURyaXZlcgoJCQkJaWYgKHNlbGY6Om5hdGl2ZURyaXZl'));
	@fwrite($fp, base64_decode('ckF2YWlsYWJsZSgpKSB7CgkJCQkJJHRoaXMtPnByZXBhcmVfY2FjaGVbJHNxbF0gPSAkcHM7CgkJCQl9CgkJCX0KCgkJCXNlbGY6OmJpbmRfcGxhY2Vob2xkZXJfdmFycygkcHMsJHByZXBhcmVkX2FyZ3MpOwoJCQlpZiAoISRwcy0+ZXhlY3V0ZSgpKSB7CgkJCQkk'));
	@fwrite($fp, base64_decode('dGhpcy0+bGFzdF9lcnJvciA9IG15c3FsaV9zdG10X2Vycm9yKCRwcyk7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkdGhpcy0+ZXJyb3IoKSk7CgkJCX0KCgkJCWlmIChzZWxmOjpuYXRpdmVEcml2ZXJBdmFpbGFibGUoKSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRNeVNRTCgkcHMtPmdldF9yZXN1bHQoKSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gbmV3IE9JRHBsdXNRdWVyeVJlc3VsdE15U1FMTm9OYXRpdmVEcml2ZXIoJHBzKTsKCQkJfQoJCX0KCX0KCgkvKioKCSAqIEBy'));
	@fwrite($fp, base64_decode('ZXR1cm4gaW50CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpbnNlcnRfaWQoKTogaW50IHsKCQlyZXR1cm4gJHRoaXMtPmNvbm4tPmluc2VydF9pZDsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBlcnJvcigpOiBzdHJpbmcg'));
	@fwrite($fp, base64_decode('ewoJCSRlcnIgPSAkdGhpcy0+bGFzdF9lcnJvcjsKCQlpZiAoJGVyciA9PT0gbnVsbCkgJGVyciA9ICcnOwoJCXJldHVybiAkZXJyOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlv'));
	@fwrite($fp, base64_decode('bgoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Nvbm5lY3QoKS8qOiB2b2lkKi8gewoJCWlmICghZnVuY3Rpb25fZXhpc3RzKCdteXNxbGlfY29ubmVjdCcpKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihf'));
	@fwrite($fp, base64_decode('TCgnUEhQIGV4dGVuc2lvbiAiJTEiIG5vdCBpbnN0YWxsZWQnLCdNeVNRTGknKSk7CgoJCS8vIFRyeSBjb25uZWN0aW5nIHRvIHRoZSBkYXRhYmFzZQoJCSRob3N0ICAgICA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ01ZU1FMX0hPU1QnLCAgICAg'));
	@fwrite($fp, base64_decode('J2xvY2FsaG9zdCcpOwoJCSR1c2VybmFtZSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ01ZU1FMX1VTRVJOQU1FJywgJ3Jvb3QnKTsKCQkkcGFzc3dvcmQgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdNWVNRTF9QQVNTV09SRCcs'));
	@fwrite($fp, base64_decode('ICcnKTsKCQkkZGF0YWJhc2UgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdNWVNRTF9EQVRBQkFTRScsICdvaWRwbHVzJyk7CgkJJHNvY2tldCAgID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTVlTUUxfU09DS0VUJywgICAnJyk7'));
	@fwrite($fp, base64_decode('CgkJbGlzdCgkaG9zdG5hbWUsJHBvcnQpID0gZXhwbG9kZSgnOicsICRob3N0Lic6Jy5pbmlfZ2V0KCJteXNxbGkuZGVmYXVsdF9wb3J0IikpOwoJCSRwb3J0ID0gaW50dmFsKCRwb3J0KTsKCQkkdGhpcy0+Y29ubiA9IEBuZXcgXG15c3FsaSgkaG9zdG5hbWUsICR1'));
	@fwrite($fp, base64_decode('c2VybmFtZSwgJHBhc3N3b3JkLCAkZGF0YWJhc2UsICRwb3J0LCAkc29ja2V0KTsKCQlpZiAoIWVtcHR5KCR0aGlzLT5jb25uLT5jb25uZWN0X2Vycm9yKSB8fCAoJHRoaXMtPmNvbm4tPmNvbm5lY3RfZXJybm8gIT0gMCkpIHsKCQkJJG1lc3NhZ2UgPSAkdGhpcy0+'));
	@fwrite($fp, base64_decode('Y29ubi0+Y29ubmVjdF9lcnJvcjsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbih0cmltKF9MKCdDb25uZWN0aW9uIHRvIHRoZSBkYXRhYmFzZSBmYWlsZWQhJykuJyAnLiRtZXNzYWdlKSk7CgkJfQoKCQkkdGhpcy0+cHJl'));
	@fwrite($fp, base64_decode('cGFyZV9jYWNoZSA9IGFycmF5KCk7CgkJJHRoaXMtPmxhc3RfZXJyb3IgPSBudWxsOwoKCQkkdGhpcy0+cXVlcnkoIlNFVCBOQU1FUyAndXRmOCciKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9EaXNjb25uZWN0'));
	@fwrite($fp, base64_decode('KCkvKjogdm9pZCovIHsKCQkkdGhpcy0+cHJlcGFyZV9jYWNoZSA9IGFycmF5KCk7CgkJaWYgKCFpc19udWxsKCR0aGlzLT5jb25uKSkgewoJCQkkdGhpcy0+Y29ubi0+Y2xvc2UoKTsKCQkJJHRoaXMtPmNvbm4gPSBudWxsOwoJCX0KCX0KCgkvKioKCSAqIEB2YXIg'));
	@fwrite($fp, base64_decode('Ym9vbAoJICovCglwcml2YXRlICRpbnRyYW5zYWN0aW9uID0gZmFsc2U7CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpOiBib29sIHsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqIEBy'));
	@fwrite($fp, base64_decode('ZXR1cm4gaW50CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9sZXZlbCgpOiBpbnQgewoJCXJldHVybiAkdGhpcy0+aW50cmFuc2FjdGlvbiA/IDEgOiAwOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRp'));
	@fwrite($fp, base64_decode('b24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2JlZ2luKCkvKjogdm9pZCovIHsKCQlpZiAoJHRoaXMtPmludHJhbnNhY3Rpb24pIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdOZXN0ZWQgdHJhbnNhY3Rpb25zIGFyZSBub3Qgc3VwcG9y'));
	@fwrite($fp, base64_decode('dGVkIGJ5IHRoaXMgZGF0YWJhc2UgcGx1Z2luLicpKTsKCQkkdGhpcy0+Y29ubi0+YXV0b2NvbW1pdChmYWxzZSk7CgkJJHRoaXMtPmNvbm4tPmJlZ2luX3RyYW5zYWN0aW9uKCk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSB0cnVlOwoJfQoKCS8qKgoJICogQHJl'));
	@fwrite($fp, base64_decode('dHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9jb21taXQoKS8qOiB2b2lkKi8gewoJCSR0aGlzLT5jb25uLT5jb21taXQoKTsKCQkkdGhpcy0+Y29ubi0+YXV0b2NvbW1pdCh0cnVlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZh'));
	@fwrite($fp, base64_decode('bHNlOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9yb2xsYmFjaygpLyo6IHZvaWQqLyB7CgkJJHRoaXMtPmNvbm4tPnJvbGxiYWNrKCk7CgkJJHRoaXMtPmNvbm4tPmF1dG9jb21taXQodHJ1ZSk7CgkJ'));
	@fwrite($fp, base64_decode('JHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzcWxEYXRlKCk6IHN0cmluZyB7CgkJcmV0dXJuICdub3coKSc7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqIEB0'));
	@fwrite($fp, base64_decode('aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG5hdGl2ZURyaXZlckF2YWlsYWJsZSgpOiBib29sIHsKCQlyZXR1cm4gZnVuY3Rpb25fZXhpc3RzKCdteXNxbGlfZmV0Y2hfYWxsJykgJiYgKE9JRHBsdXM6OmJhc2VDb25m'));
	@fwrite($fp, base64_decode('aWcoKS0+Z2V0VmFsdWUoJ01ZU1FMX0ZPUkNFX01ZU1FMTkRfU1VQUExFTUVOVCcsIGZhbHNlKSA9PT0gZmFsc2UpOwoJfQoKCS8qKgoJICogQHBhcmFtIG9iamVjdCAkc3RtdAoJICogQHBhcmFtIGFycmF5ICRwYXJhbXMKCSAqIEByZXR1cm4gYm9vbAoJICovCglw'));
	@fwrite($fp, base64_decode('cml2YXRlIHN0YXRpYyBmdW5jdGlvbiBiaW5kX3BsYWNlaG9sZGVyX3ZhcnMoJiRzdG10LCBhcnJheSAkcGFyYW1zKTogYm9vbCB7CgkJLy8gTm90ZTogIm9iamVjdCIgaXMgbm90IGEgdHlwZS1oaW50IQoJCS8vIENyZWRpdCB0bzogRGF2ZSBNb3JnYW4KCQkvLyBD'));
	@fwrite($fp, base64_decode('b2RlIHRha2VuIGZyb206IGh0dHA6Ly93d3cuZGV2bW9yZ2FuLmNvbS9ibG9nLzIwMDkvMDMvMjcvZHlkbC1wYXJ0LTMtZHluYW1pYy1iaW5kaW5nLXdpdGgtbXlzcWxpLXBocC8KCQkvLyAgICAgICAgICAgICAgICAgIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20v'));
	@fwrite($fp, base64_decode('cXVlc3Rpb25zLzE3MjE5MjE0L2hvdy10by1iaW5kLWluLW15c3FsaS1keW5hbWljYWxseQoJCWlmICgkcGFyYW1zICE9IG51bGwpIHsKCQkJJHR5cGVzID0gJyc7ICAgICAgICAgICAgICAgICAgICAgICAgLy9pbml0aWFsIHN0aW5nIHdpdGggdHlwZXMKCQkJZm9y'));
	@fwrite($fp, base64_decode('ZWFjaCAoJHBhcmFtcyBhcyAkcGFyYW0pIHsgICAgICAgIC8vZm9yIGVhY2ggZWxlbWVudCwgZGV0ZXJtaW5lIHR5cGUgYW5kIGFkZAoJCQkJaWYgKGlzX2ludCgkcGFyYW0pKSB7CgkJCQkJJHR5cGVzIC49ICdpJzsgICAgICAgICAgICAgIC8vaW50ZWdlcgoJCQkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlaWYgKGlzX2Zsb2F0KCRwYXJhbSkpIHsKCQkJCQkkdHlwZXMgLj0gJ2QnOyAgICAgICAgICAgICAgLy9kb3VibGUKCQkJCX0gZWxzZWlmIChpc19zdHJpbmcoJHBhcmFtKSkgewoJCQkJCSR0eXBlcyAuPSAncyc7ICAgICAgICAgICAgICAvL3N0cmluZwoJ'));
	@fwrite($fp, base64_decode('CQkJfSBlbHNlIHsKCQkJCQkkdHlwZXMgLj0gJ2InOyAgICAgICAgICAgICAgLy9ibG9iIGFuZCB1bmtub3duCgkJCQl9CgkJCX0KCgkJCSRiaW5kX25hbWVzID0gYXJyYXkoKTsKCQkJJGJpbmRfbmFtZXNbXSA9ICR0eXBlczsgICAgICAgICAgICAgLy9maXJzdCBw'));
	@fwrite($fp, base64_decode('YXJhbSBuZWVkZWQgaXMgdGhlIHR5cGUgc3RyaW5nLCBlLmcuOiAnaXNzc3MnCgoJCQlmb3IgKCRpPTA7ICRpPGNvdW50KCRwYXJhbXMpOyRpKyspIHsgICAgLy9nbyB0aHJvdWdoIGluY29taW5nIHBhcmFtcyBhbmQgYWRkZWQgZW0gdG8gYXJyYXkKCQkJCSRiaW5k'));
	@fwrite($fp, base64_decode('X25hbWUgPSAnYmluZCcgLiAkaTsgICAgICAgLy9naXZlIHRoZW0gYW4gYXJiaXRyYXJ5IG5hbWUKCQkJCSQkYmluZF9uYW1lID0gJHBhcmFtc1skaV07ICAgICAgLy9hZGQgdGhlIHBhcmFtZXRlciB0byB0aGUgdmFyaWFibGUgdmFyaWFibGUKCQkJCSRiaW5kX25h'));
	@fwrite($fp, base64_decode('bWVzW10gPSAmJCRiaW5kX25hbWU7ICAgLy9ub3cgYXNzb2NpYXRlIHRoZSB2YXJpYWJsZSBhcyBhbiBlbGVtZW50IGluIGFuIGFycmF5CgkJCX0KCgkJCS8vZXJyb3JfbG9nKCJiZXR0ZXJfbXlzcWxpIGhhcyBwYXJhbXMgIi5wcmludF9yKCRiaW5kX25hbWVzLCAx'));
	@fwrite($fp, base64_decode('KSk7CgkJCS8vY2FsbCB0aGUgZnVuY3Rpb24gYmluZF9wYXJhbSB3aXRoIGR5bmFtaWMgcGFyYW1zCgkJCWNhbGxfdXNlcl9mdW5jX2FycmF5KGFycmF5KCRzdG10LCdiaW5kX3BhcmFtJyksJGJpbmRfbmFtZXMpOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9IGVsc2UgewoJ'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoKCS8qKgoJICogQHBhcmFtIGJvb2wgJG11c3RFeGlzdAoJICogQHJldHVybiBPSURwbHVzU3FsU2xhbmdQbHVnaW58bnVsbAoJICogQHRocm93cyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24KCSAqLwoJ'));
	@fwrite($fp, base64_decode('cHJvdGVjdGVkIGZ1bmN0aW9uIGRvR2V0U2xhbmcoYm9vbCAkbXVzdEV4aXN0PXRydWUpLyo6ID9PSURwbHVzU3FsU2xhbmdQbHVnaW4qLyB7CgkJJHNsYW5nID0gT0lEcGx1czo6Z2V0U3FsU2xhbmdQbHVnaW4oJ215c3FsJyk7CgkJaWYgKGlzX251bGwoJHNsYW5n'));
	@fwrite($fp, base64_decode('KSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKF9MKCdTUUwtU2xhbmcgcGx1Z2luICIlMSIgaXMgbWlzc2luZy4gUGxlYXNlIGNoZWNrIGlmIGl0IGV4aXN0cyBpbiB0aGUgZGlyZWN0b3J5ICJwbHVnaW4vc3FsU2xh'));
	@fwrite($fp, base64_decode('bmciLiBJZiBpdCBpcyBub3QgZXhpc3RpbmcsIHBsZWFzZSByZWNvdmVyIGl0IGZyb20gYW4gU1ZOIHNuYXBzaG90IG9yIE9JRHBsdXMgVEFSLkdaIGZpbGUuJywnbXlzcWwnKSk7CgkJfQoJCXJldHVybiAkc2xhbmc7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php');
	writefile_2();
	if (!is_file('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php');
	} else if (sha1_file('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php') != '6e53288e8777109d39685ab2323b6e9ca78a22d2') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php') !== '6e53288e8777109d39685ab2323b6e9ca78a22d2') {
		if (@sha1_file('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php') !== 'dc002df0067e790518b6e9b80b328ef6a0af302c') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php');
			$tmp = pathinfo('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php') !== '6e53288e8777109d39685ab2323b6e9ca78a22d2') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/database/mysqli/OIDplusDatabaseConnectionMySQLi.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1155\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1155') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

