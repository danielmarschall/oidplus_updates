<?php /* <ViaThinkSoftSignature>
HVKdOD2ub4IXn6ijR2qlUeyRhu5Iw6XXfP77oZ7Yoo+O3ANjwYCnPpKQ2mHvGsG/N
LccJgFkjpmZgA5FszVZSn4QFtZ2w0OtfdNq4MjlZdjkDAsLESgYdIKgifO0rYyjnD
pnhHj9Qh8WxHRjrxAFfL47ykUb/wC0kkCYydcjFAVclrmoQ+C2Gi2AGD1kNbpthwB
zZUQXZGQD46UY6VKmagLyLt5bi6rAccXkjRCNQsRmB/JpZV5Sm3gOqxpuoH3TO/CW
nRAW29eVw9oZyf+hCe+6xDsa5hQNTBmj+cYBwFrA97cqx1iAWlSoAiAcRTG5v9Gqp
mtKLRkC2TBGsLcp3wtnrAyVM4Xozl9p0kkvg8mMVxmXNhDorG+AKHd5DH5l1kEwpN
cJWpgjqXnemMHzgwXTiH9y3SayOhbPVX2iqT0BWC2znfdDzXWmT9Up92/f2JcdCQ2
bQY0Qqkniei/H5YGPWuBOS4hFJVK8l9YOZfwouFN67c+lVC6DNf11llfSTNu2df2h
DAw58ChRL4rjlO+q8mhegUk6RF3VcIpJNXx5+qmxbsS6TukjrM05baoaHjM+UQoAJ
WlWTWj59/iQw4IhFSNcZNfNV/0U4SwD7GJOmBAarw8HclrWuI+VqsX+85+xyv5j54
npBsjOiyI/54Lk/jE34AyUswzNSqQzVjQYYQ1kT7RQJZ/o6Cc5GB5e/rqeWRk3FnV
6TqsVocZ3XWvb2cojweE8GddyURvcs5wt9n0OCFbW7CIK3FEsfObVIt5Uk9/Ri54h
jr5a+r8+zKgdNhM04X+AZt807pTjgbMPSAqUrlY6oNCnR6waywFS8IZldf4jFn9Ei
ASqitupdZwgWwua0MargHv6gXz7N2VbjP3s1ETyTOoV7Ux7KhMPVaVSVJuJSXMpd/
9xFzLAN+4b4ic0QlXXKQSthPlU24xbyH/ECwnrwfULH/uhoGY4T/tqbrvUlhFv3Ny
zkpXbfMz542HmdsjxB4UuqDPGDbM65l9ChNMrw8XjVXeRBfbQmpDclT6fuy9O5Ix3
2LBPo331O/sNuxgkByRigSJzMQMO46VxBGhbnhJtNslR8oQNjUIQbGlaUcSu5zJT5
lFCVr8CcSSTIq6Sa4CPlZnLrJp0FLYOh9j7F5TMkFzMfX9Cohs0RyKKkokFBPi6oU
+0KGgZMOuUUiwC5/36lLWSpF/bAKUfuJVUY2iJ5StH0zpFAZ5QCi2ahBOP0aaT0tu
qMmCihxqiyhd64I7aB0XeZVXLkl9XhCvRmiucVUqxbFvq1FsGL44+izSytpcpMN8p
7zxemMQ3zly5c/bMWhUQovf1FSUSd5LE2R6Ve4eId8NZoKS6X47ANi4T6yPIH84ZR
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1309') {
	err('This update can only be applied to OIDplus version 2.0.0.1309!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/classes/OIDplusAuthContentStoreJWT.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusAuthContentStoreJWT.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKLyoqCiAqIEF1dGggY29udGVudCBzdG9yZSBmb3IgSldUIHRva2VucyAod2ViIGJyb3dzZXIgbG9naW4gY29va2llcywgQXV0b21hdGVkIEFKQVggYXJndW1lbnQsIG9yIFJFU1QgQmVhcmVy'));
	@fwrite($fp, base64_decode('KQogKi8KY2xhc3MgT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1QgaW1wbGVtZW50cyBPSURwbHVzR2V0dGVyU2V0dGVySW50ZXJmYWNlIHsKCgkvKioKCSAqIENvb2tpZSBuYW1lIGZvciB0aGUgSldUIGF1dGggdG9rZW4KCSAqLwoJY29uc3QgQ09PS0lFX05BTUUg'));
	@fwrite($fp, base64_decode('PSAnT0lEUExVU19BVVRIX0pXVCc7CgoJLyoqCgkgKiBUb2tlbiBnZW5lcmF0b3I7IG11c3QgYmUgb25lIG9mIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VORVJBVE9SXyoKCSAqLwoJY29uc3QgQ0xBSU1fR0VORVJBVE9SID0gJ3VybjpvaWQ6MS4z'));
	@fwrite($fp, base64_decode('LjYuMS40LjEuMzc0NzYuMi41LjIuNy4xJzsKCgkvKioKCSAqIExpc3Qgb2YgbG9nZ2VkLWluIHVzZXJzCgkgKi8KCWNvbnN0IENMQUlNX0xPR0lOX0xJU1QgPSAndXJuOm9pZDoxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi43LjInOwoKCS8qKgoJICogU1NIID0gU2Vy'));
	@fwrite($fp, base64_decode('dmVyIFNlY3JldCBIYXNoCgkgKi8KCWNvbnN0IENMQUlNX1NTSCA9ICd1cm46b2lkOjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjcuMyc7CgoJLyoqCgkgKiBJUC1BZHJlc3MgbGltaXQKCSAqLwoJY29uc3QgQ0xBSU1fTElNSVRfSVAgPSAndXJuOm9pZDoxLjMuNi4x'));
	@fwrite($fp, base64_decode('LjQuMS4zNzQ3Ni4yLjUuMi43LjQnOwoKCS8qKgoJICogVHJhY2UgSlRJLCBJUCwgYW5kIFVzZXJBZ2VudAoJICovCgljb25zdCBDTEFJTV9UUkFDRSA9ICd1cm46b2lkOjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjcuNSc7CgoJLyoqCgkgKiAiQXV0b21hdGVkIEFK'));
	@fwrite($fp, base64_decode('QVgiIHBsdWdpbgoJICovCgljb25zdCBKV1RfR0VORVJBVE9SX0FKQVggICA9IDEwOwoJLyoqCgkgKiAiUkVTVCBBUEkiIHBsdWdpbgoJICovCgljb25zdCBKV1RfR0VORVJBVE9SX1JFU1QgICA9IDIwOwoJLyoqCgkgKiBXZWIgYnJvd3NlciBsb2dpbiBtZXRob2QK'));
	@fwrite($fp, base64_decode('CSAqLwoJY29uc3QgSldUX0dFTkVSQVRPUl9MT0dJTiAgPSA0MDsKCS8qKgoJICogIk1hbnVhbGx5IGNyYWZ0ZWQiIEpXVCB0b2tlbnMKCSAqLwoJY29uc3QgSldUX0dFTkVSQVRPUl9NQU5VQUwgPSA4MDsKCgkvKioKCSAqIEBwYXJhbSBpbnQgJGdlbiBPSURwbHVz'));
	@fwrite($fp, base64_decode('QXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl8uLi4KCSAqIEBwYXJhbSBzdHJpbmcgJHN1YgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gand0R2V0QmxhY2tsaXN0Q29uZmlnS2V5KGludCAkZ2VuLCBzdHJp'));
	@fwrite($fp, base64_decode('bmcgJHN1Yik6IHN0cmluZyB7CgkJLy8gTm90ZTogTmVlZHMgdG8gYmUgPD0gNTAgY2hhcmFjdGVycyEgSWYgJGdlbiBpcyAyIGNoYXJzLCB0aGVuIHRoZSBjb25maWcga2V5IGlzIDQ5IGNoYXJzIGxvbmcKCQlyZXR1cm4gJ2p3dF9ibGFja2xpc3RfZ2VuKCcuJGdl'));
	@fwrite($fp, base64_decode('bi4nKV9zdWIoJy50cmltKGJhc2U2NF9lbmNvZGUobWQ1KCRzdWIsdHJ1ZSkpLCc9JykuJyknOwoJfQoKCS8qKgoJICogQHBhcmFtIGludCAkZ2VuCgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdlbmVyYXRvck5hbWUoJGdlbikgewoJCS8vIE5vdGU6IFRo'));
	@fwrite($fp, base64_decode('ZSBzdHJpbmdzIGFyZSBub3QgdHJhbnNsYXRlZCwgYmVjYXVzZSB0aGUgbmFtZSBpcyB1c2VkIGluIGNvbmZpZyBrZXlzIG9yIGxvZ3MKCQlpZiAoJGdlbiA9PT0gc2VsZjo6SldUX0dFTkVSQVRPUl9BSkFYKSAgIHJldHVybiAnQXV0b21hdGVkIEFKQVggY2FsbHMn'));
	@fwrite($fp, base64_decode('OwoJCWlmICgkZ2VuID09PSBzZWxmOjpKV1RfR0VORVJBVE9SX1JFU1QpICAgcmV0dXJuICdSRVNUIEFQSSc7CgkJaWYgKCRnZW4gPT09IHNlbGY6OkpXVF9HRU5FUkFUT1JfTE9HSU4pICByZXR1cm4gJ0Jyb3dzZXIgbG9naW4nOwoJCWlmICgkZ2VuID09PSBzZWxm'));
	@fwrite($fp, base64_decode('OjpKV1RfR0VORVJBVE9SX01BTlVBTCkgcmV0dXJuICdNYW51YWxseSBjcmVhdGVkJzsKCQlyZXR1cm4gJ1Vua25vd24gZ2VuZXJhdG9yJzsKCX0KCgkvKioKCSAqIEBwYXJhbSBpbnQgJGdlbiBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRP'));
	@fwrite($fp, base64_decode('Ul8uLi4KCSAqIEBwYXJhbSBzdHJpbmcgJHN1YgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBqd3RCbGFja2xpc3QoaW50ICRnZW4sIHN0cmluZyAkc3ViKSB7CgkJJGNmZyA9'));
	@fwrite($fp, base64_decode('IHNlbGY6Omp3dEdldEJsYWNrbGlzdENvbmZpZ0tleSgkZ2VuLCAkc3ViKTsKCQkkYmxfdGltZSA9IHRpbWUoKS0xOwoKCQkkZ2VuX2Rlc2MgPSBzZWxmOjpnZW5lcmF0b3JOYW1lKCRnZW4pOwoKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgk'));
	@fwrite($fp, base64_decode('Y2ZnLCAiUmV2b2tlIHRpbWVzdGFtcCBvZiBhbGwgSldUIHRva2VucyBmb3IgJHN1YiB3aXRoIGdlbmVyYXRvciAkZ2VuICgkZ2VuX2Rlc2MpIiwgIiRibF90aW1lIiwgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9ISURERU4sIGZ1bmN0aW9uKCR2YWx1ZSkge30p'));
	@fwrite($fp, base64_decode('OwoJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgkY2ZnLCAkYmxfdGltZSk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gaW50ICRnZW4gT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1Q6OkpXVF9HRU5FUkFUT1JfLi4uCgkgKiBAcGFyYW0gc3RyaW5nICRzdWIKCSAq'));
	@fwrite($fp, base64_decode('IEByZXR1cm4gaW50CgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBqd3RHZXRCbGFja2xpc3RUaW1lKGludCAkZ2VuLCBzdHJpbmcgJHN1Yik6IGludCB7CgkJJGNmZyA9IHNlbGY6Omp3dEdldEJsYWNrbGlz'));
	@fwrite($fp, base64_decode('dENvbmZpZ0tleSgkZ2VuLCAkc3ViKTsKCQlyZXR1cm4gKGludClPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJGNmZywwKTsKCX0KCgkvKioKCSAqIFdlIGluY2x1ZGUgYSBoYXNoIG9mIHRoZSBzZXJ2ZXItc2VjcmV0IGhlcmUgKHNzaCA9IHNlcnZlci1zZWNy'));
	@fwrite($fp, base64_decode('ZXQtaGFzaCksIHNvIHRoYXQgdGhlIEpXVCBjYW4gYmUgaW52YWxpZGF0ZWQgYnkgY2hhbmdpbmcgdGhlIHNlcnZlci1zZWNyZXQKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gZ2V0U3NoKCk6IHN0cmluZyB7CgkJJGhleGFkZWNpbWFsX3N0cmluZyA9IE9JRHBsdXM6OmF1dGhVdGlscygpLT5tYWtlU2VjcmV0KFsnYmIxYWViZDYtZmU2YS0xMWVkLWE1NTMtM2M0YTkyZGY4NTgyJ10pOwoJCXJldHVybiBiYXNlNjRfZW5jb2RlKHBhY2so'));
	@fwrite($fp, base64_decode('J0gqJywkaGV4YWRlY2ltYWxfc3RyaW5nKSk7Cgl9CgoJLyoqCgkgKiBEbyB2YXJpb3VzIGNoZWNrcyBpZiB0aGUgdG9rZW4gaXMgYWxsb3dlZCBhbmQgbm90IGJsYWNrbGlzdGVkCgkgKiBAcGFyYW0gT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1QgJGNvbnRlbnRQ'));
	@fwrite($fp, base64_decode('cm92aWRlcgoJICogQHBhcmFtIGludHxudWxsICR2YWxpZEdlbmVyYXRvcnMgQml0bWFzayB3aGljaCBnZW5lcmF0b3JzIHRvIGFsbG93IChudWxsID0gYWxsb3cgYWxsKQoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJ'));
	@fwrite($fp, base64_decode('cHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gand0U2VjdXJpdHlDaGVjayhPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCAkY29udGVudFByb3ZpZGVyLCBpbnQgJHZhbGlkR2VuZXJhdG9ycz1udWxsKSB7CgkJLy8gQ2hlY2sgaWYgdGhlIHRva2VuIGlzIGludGVuZGVk'));
	@fwrite($fp, base64_decode('IGZvciB1cwoJCS8vIE5vdGUgJ2F1ZCcgaXMgbWFuZGF0b3J5LCBzbyB3ZSBkbyBub3QgY2hlY2sgZm9yIGV4aXN0cygpCgkJaWYgKCRjb250ZW50UHJvdmlkZXItPmdldFZhbHVlKCdhdWQnLCcnKSAhPT0gT0lEcGx1czo6Z2V0RWRpdGlvbkluZm8oKVsnand0YXVk'));
	@fwrite($fp, base64_decode('J10pIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1Rva2VuIGhhcyB3cm9uZyBhdWRpZW5jZScpKTsKCQl9CgoJCS8vIE5vdGUgQ0xBSU1fU1NIIGlzIG1hbmRhdG9yeSwgc28gd2UgZG8gbm90IGNoZWNrIGZvciBleGlzdHMoKQoJCWlmICgkY29u'));
	@fwrite($fp, base64_decode('dGVudFByb3ZpZGVyLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9TU0gsICcnKSAhPT0gc2VsZjo6Z2V0U3NoKCkpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJyJTZXJ2ZXIgU2VjcmV0IiB3YXMgY2hhbmdlZDsgdGhlcmVmb3JlIHRoZSBKV1QgaXMg'));
	@fwrite($fp, base64_decode('bm90IHZhbGlkIGFueW1vcmUnKSk7CgkJfQoKCQkvLyBOb3RlIENMQUlNX0dFTkVSQVRPUiBpcyBtYW5kYXRvcnksIHNvIHdlIGRvIG5vdCBjaGVjayBmb3IgZXhpc3RzKCkKCQkkZ2VuID0gJGNvbnRlbnRQcm92aWRlci0+Z2V0VmFsdWUoc2VsZjo6Q0xBSU1fR0VO'));
	@fwrite($fp, base64_decode('RVJBVE9SLCAtMSk7CgoJCSRoYXNfYWRtaW4gPSAkY29udGVudFByb3ZpZGVyLT5pc0FkbWluTG9nZ2VkSW4oKTsKCQkkaGFzX3JhID0gJGNvbnRlbnRQcm92aWRlci0+cmFOdW1Mb2dnZWRJbigpID4gMDsKCgkJLy8gQ2hlY2sgaWYgdGhlIHRva2VuIGdlbmVyYXRv'));
	@fwrite($fp, base64_decode('ciBpcyBhbGxvd2VkCgkJaWYgKCRnZW4gPT09IHNlbGY6OkpXVF9HRU5FUkFUT1JfQUpBWCkgewoJCQlpZiAoKCRoYXNfYWRtaW4pICYmICFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfQUxMT1dfQUpBWF9BRE1JTicsIHRydWUpKSB7CgkJCQkv'));
	@fwrite($fp, base64_decode('LyBHZW5lcmF0b3I6IHBsdWdpbnMvdmlhdGhpbmtzb2Z0L2FkbWluUGFnZXMvOTEwX2F1dG9tYXRlZF9hamF4X2NhbGxzL09JRHBsdXNQYWdlQWRtaW5BdXRvbWF0ZWRBSkFYQ2FsbHMuY2xhc3MucGhwCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgn'));
	@fwrite($fp, base64_decode('VGhlIGFkbWluaXN0cmF0b3IgaGFzIGRpc2FibGVkIHRoaXMgZmVhdHVyZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfQUpBWF9BRE1JTicpKTsKCQkJfQoJCQlpZiAoKCRoYXNfcmEpICYmICFPSURwbHVzOjpiYXNlQ29uZmln'));
	@fwrite($fp, base64_decode('KCktPmdldFZhbHVlKCdKV1RfQUxMT1dfQUpBWF9VU0VSJywgdHJ1ZSkpIHsKCQkJCS8vIEdlbmVyYXRvcjogcGx1Z2lucy92aWF0aGlua3NvZnQvcmFQYWdlcy85MTBfYXV0b21hdGVkX2FqYXhfY2FsbHMvT0lEcGx1c1BhZ2VSYUF1dG9tYXRlZEFKQVhDYWxscy5j'));
	@fwrite($fp, base64_decode('bGFzcy5waHAKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGUgYWRtaW5pc3RyYXRvciBoYXMgZGlzYWJsZWQgdGhpcyBmZWF0dXJlLiAoQmFzZSBjb25maWd1cmF0aW9uIHNldHRpbmcgJTEpLicsJ0pXVF9BTExPV19BSkFYX1VTRVInKSk7CgkJ'));
	@fwrite($fp, base64_decode('CX0KCQl9CgkJZWxzZSBpZiAoJGdlbiA9PT0gc2VsZjo6SldUX0dFTkVSQVRPUl9SRVNUKSB7CgkJCWlmICgoJGhhc19hZG1pbikgJiYgIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0pXVF9BTExPV19SRVNUX0FETUlOJywgdHJ1ZSkpIHsKCQkJCS8v'));
	@fwrite($fp, base64_decode('IEdlbmVyYXRvcjogcGx1Z2lucy92aWF0aGlua3NvZnQvYWRtaW5QYWdlcy85MTFfcmVzdF9hcGkvT0lEcGx1c1BhZ2VBZG1pblJlc3RBcGkuY2xhc3MucGhwCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIGFkbWluaXN0cmF0b3IgaGFzIGRp'));
	@fwrite($fp, base64_decode('c2FibGVkIHRoaXMgZmVhdHVyZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfUkVTVF9BRE1JTicpKTsKCQkJfQoJCQlpZiAoKCRoYXNfcmEpICYmICFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfQUxMT1df'));
	@fwrite($fp, base64_decode('UkVTVF9VU0VSJywgdHJ1ZSkpIHsKCQkJCS8vIEdlbmVyYXRvcjogcGx1Z2lucy92aWF0aGlua3NvZnQvcmFQYWdlcy85MTFfcmVzdF9hcGkvT0lEcGx1c1BhZ2VSYVJlc3RBcGkuY2xhc3MucGhwCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhl'));
	@fwrite($fp, base64_decode('IGFkbWluaXN0cmF0b3IgaGFzIGRpc2FibGVkIHRoaXMgZmVhdHVyZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfUkVTVF9VU0VSJykpOwoJCQl9CgkJfQoJCWVsc2UgaWYgKCRnZW4gPT09IHNlbGY6OkpXVF9HRU5FUkFUT1Jf'));
	@fwrite($fp, base64_decode('TE9HSU4pIHsKCQkJLy8gVXNlZCBmb3Igd2ViIGJyb3dzZXIgbG9naW4gKHVzZSBKV1QgdG9rZW4gaW4gYSBjb29raWUgYXMgYWx0ZXJuYXRpdmUgdG8gUEhQIHNlc3Npb24pOgoJCQkvLyAtIE5vIFBIUCBzZXNzaW9uIHdpbGwgYmUgdXNlZAoJCQkvLyAtIFNlc3Np'));
	@fwrite($fp, base64_decode('b24gd2lsbCBub3QgYmUgYm91bmQgdG8gSVAgYWRkcmVzcyAodGhlcmVmb3JlLCB5b3UgY2FuIHN3aXRjaCBiZXR3ZWVuIG1vYmlsZS9XaUZpIGZvciBleGFtcGxlKQoJCQkvLyAtIE5vIHNlcnZlci1zaWRlIHNlc3Npb24gbmVlZGVkCgkJCWlmICgoJGhhc19hZG1p'));
	@fwrite($fp, base64_decode('bikgJiYgIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0pXVF9BTExPV19MT0dJTl9BRE1JTicsIHRydWUpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIGFkbWluaXN0cmF0b3IgaGFzIGRpc2FibGVkIHRoaXMgZmVhdHVy'));
	@fwrite($fp, base64_decode('ZS4gKEJhc2UgY29uZmlndXJhdGlvbiBzZXR0aW5nICUxKS4nLCdKV1RfQUxMT1dfTE9HSU5fQURNSU4nKSk7CgkJCX0KCQkJaWYgKCgkaGFzX3JhKSAmJiAhT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnSldUX0FMTE9XX0xPR0lOX1VTRVInLCB0cnVl'));
	@fwrite($fp, base64_decode('KSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhZG1pbmlzdHJhdG9yIGhhcyBkaXNhYmxlZCB0aGlzIGZlYXR1cmUuIChCYXNlIGNvbmZpZ3VyYXRpb24gc2V0dGluZyAlMSkuJywnSldUX0FMTE9XX0xPR0lOX1VTRVInKSk7CgkJCX0K'));
	@fwrite($fp, base64_decode('CQl9CgkJZWxzZSBpZiAoJGdlbiA9PT0gc2VsZjo6SldUX0dFTkVSQVRPUl9NQU5VQUwpIHsKCQkJLy8gR2VuZXJhdG9yOiAiaGFuZC1jcmFmdGVkIiB0b2tlbnMKCQkJaWYgKCgkaGFzX2FkbWluKSAmJiAhT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgn'));
	@fwrite($fp, base64_decode('SldUX0FMTE9XX01BTlVBTF9BRE1JTicsIGZhbHNlKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhZG1pbmlzdHJhdG9yIGhhcyBkaXNhYmxlZCB0aGlzIGZlYXR1cmUuIChCYXNlIGNvbmZpZ3VyYXRpb24gc2V0dGluZyAlMSkuJywn'));
	@fwrite($fp, base64_decode('SldUX0FMTE9XX01BTlVBTF9BRE1JTicpKTsKCQkJfQoJCQlpZiAoKCRoYXNfcmEpICYmICFPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfQUxMT1dfTUFOVUFMX1VTRVInLCBmYWxzZSkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KF9MKCdUaGUgYWRtaW5pc3RyYXRvciBoYXMgZGlzYWJsZWQgdGhpcyBmZWF0dXJlLiAoQmFzZSBjb25maWd1cmF0aW9uIHNldHRpbmcgJTEpLicsJ0pXVF9BTExPV19NQU5VQUxfVVNFUicpKTsKCQkJfQoJCX0gZWxzZSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhj'));
	@fwrite($fp, base64_decode('ZXB0aW9uKF9MKCdUb2tlbiBnZW5lcmF0b3IgJTEgbm90IHJlY29nbml6ZWQnLCRnZW4pKTsKCQl9CgoJCS8vIEV2ZXJ5IHRva2VuIG11c3QgaGF2ZSBhbmQgaXNzdWVkIHRpbWVzdGFtcAoJCSRpYXQgPSAkY29udGVudFByb3ZpZGVyLT5nZXRWYWx1ZSgnaWF0Jyxu'));
	@fwrite($fp, base64_decode('dWxsKTsKCQlpZiAoaXNfbnVsbCgkaWF0KSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIGNsYWltICIlMSIgb2YgdGhlIEpXVCB0b2tlbiBpcyBtaXNzaW5nIG9yIGludmFsaWQnLCdpYXQnKSk7CgkJfQoKCQkvLyBWZXJpZnkgdGhhdCBJ'));
	@fwrite($fp, base64_decode('QVQgaGFzIGEgdmFsaWQgdmFsdWUKCQkvLyBOb3RlOiBUaGlzIGNoZWNrIGlzIGFscmVhZHkgZG9uZSBpbiBGaXJlYmFzZVxKV1QuIEhvd2V2ZXIsIHdlIGRvIGl0IGFnYWluLCBqdXN0IHRvIGJlIDEwMCUgc3VyZS4KCQlpZiAoKCRpYXQtMTIwLypsZWV3YXkgMm1p'));
	@fwrite($fp, base64_decode('biovKSA+IHRpbWUoKSkgewoJCQkvLyBUb2tlbiB3YXMgY3JlYXRlZCBpbiB0aGUgZnV0dXJlLiBTb21ldGhpbmcgaXMgd3JvbmchCgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdKV1QgVG9rZW4gY2Fubm90IGJlIHZlcmlmaWVkIGJlY2F1c2UgdGhl'));
	@fwrite($fp, base64_decode('IHNlcnZlciB0aW1lIGlzIHdyb25nJykpOwoJCX0KCgkJLy8gQ2hlY2sgaWYgdG9rZW4gaXMgbm90IHlldCB2YWxpZAoJCS8vIE5vdGU6IFRoaXMgY2hlY2sgaXMgYWxyZWFkeSBkb25lIGluIEZpcmViYXNlXEpXVC4gSG93ZXZlciwgd2UgZG8gaXQgYWdhaW4sIGp1'));
	@fwrite($fp, base64_decode('c3QgdG8gYmUgMTAwJSBzdXJlLgoJCSRuYmYgPSAkY29udGVudFByb3ZpZGVyLT5nZXRWYWx1ZSgnbmJmJyxudWxsKTsKCQlpZiAoIWlzX251bGwoJG5iZikpIHsKCQkJaWYgKHRpbWUoKSA8ICRuYmYtMTIwLypsZWV3YXkgMm1pbiovKSB7CgkJCQl0aHJvdyBuZXcg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0V4Y2VwdGlvbihfTCgnVG9rZW4gbm90IHZhbGlkIGJlZm9yZSAlMScsZGF0ZSgnZCBGIFksIEg6aTpzJywkbmJmKSkpOwoJCQl9CgkJfQoKCQkvLyBDaGVjayBpZiB0b2tlbiBoYXMgZXhwaXJlZAoJCS8vIE5vdGU6IFRoaXMgY2hlY2sgaXMgYWxyZWFk'));
	@fwrite($fp, base64_decode('eSBkb25lIGluIEZpcmViYXNlXEpXVC4gSG93ZXZlciwgd2UgZG8gaXQgYWdhaW4sIGp1c3QgdG8gYmUgMTAwJSBzdXJlLgoJCSRleHAgPSAkY29udGVudFByb3ZpZGVyLT5nZXRWYWx1ZSgnZXhwJyxudWxsKTsKCQlpZiAoIWlzX251bGwoJGV4cCkpIHsKCQkJaWYg'));
	@fwrite($fp, base64_decode('KHRpbWUoKSA+ICRleHArMTIwLypsZWV3YXkgMm1pbiovKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVG9rZW4gaGFzIGV4cGlyZWQgb24gJTEnLGRhdGUoJ2QgRiBZLCBIOmk6cycsJGV4cCkpKTsKCQkJfQoJCX0KCgkJLy8gTWFrZSBzdXJl'));
	@fwrite($fp, base64_decode('IHRoYXQgdGhlIElBVCAoaXNzdWVkIGF0IHRpbWUpIGlzbid0IGluIGEgYmxhY2tsaXN0ZWQgdGltZWZyYW1lCgkJLy8gV2hlbiBhbiB1c2VyIGJlbGlldmVzIHRoYXQgYSB0b2tlbiB3YXMgY29tcHJvbWlzZWQsIHRoZW4gdGhleSBjYW4gYmxhY2tsaXN0IHRoZSB0'));
	@fwrite($fp, base64_decode('b2tlbnMgaWRlbnRpZmllZCBieSB0aGVpciAiaWF0IiAoIklzc3VlZCBhdCIpIHByb3BlcnR5CgkJLy8gV2hlbiBhIHVzZXIgbG9ncyBvdXQgb2YgYSB3ZWIgYnJvd3NlciBzZXNzaW9uLCB0aGUgSldUIHRva2VuIHdpbGwgYmUgYmxhY2tsaXN0ZWQgYXMgd2VsbAoJ'));
	@fwrite($fp, base64_decode('CS8vIFNtYWxsIHNpZGUgZWZmZWN0OiBBbGwgd2ViIGJyb3dzZXIgbG9naW4gc2Vzc2lvbnMgb2YgdGhhdCB1c2VyIHdpbGwgYmUgcmV2b2tlZCB0aGVuCgkJJHN1Ymxpc3QgPSAkY29udGVudFByb3ZpZGVyLT5sb2dnZWRJblJhTGlzdCgpOwoJCSR1c2VybmFtZXMg'));
	@fwrite($fp, base64_decode('PSBhcnJheSgpOwoJCWZvcmVhY2ggKCRzdWJsaXN0IGFzICRzdWIpIHsKCQkJJHVzZXJuYW1lc1tdID0gJHN1Yi0+cmFFbWFpbCgpOwoJCX0KCQlpZiAoJGhhc19hZG1pbikgJHVzZXJuYW1lc1tdID0gJ2FkbWluJzsKCQlmb3JlYWNoICgkdXNlcm5hbWVzIGFzICR1'));
	@fwrite($fp, base64_decode('c2VybmFtZSkgewoJCQkkYmxfdGltZSA9IHNlbGY6Omp3dEdldEJsYWNrbGlzdFRpbWUoJGdlbiwgJHVzZXJuYW1lKTsKCQkJaWYgKCRpYXQgPD0gJGJsX3RpbWUpIHsKCQkJCS8vIFRva2VuIGlzIGJsYWNrbGlzdGVkIChpdCB3YXMgY3JlYXRlZCBiZWZvcmUgdGhl'));
	@fwrite($fp, base64_decode('IGxhc3QgYmxhY2tsaXN0IHRpbWUpCgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIEpXVCB0b2tlbiB3YXMgYmxhY2tsaXN0ZWQgb24gJTEuIFBsZWFzZSBnZW5lcmF0ZSBhIG5ldyBvbmUnLGRhdGUoJ2QgRiBZLCBIOmk6cycsJGJsX3RpbWUp'));
	@fwrite($fp, base64_decode('KSk7CgkJCX0KCQl9CgoJCS8vIE9wdGlvbmFsIGZlYXR1cmU6IExpbWl0IHRoZSBKV1QgdG8gYSBzcGVjaWZpYyBJUCBhZGRyZXNzCgkJLy8gQ3VycmVudGx5IG5vdCB1c2VkIGluIE9JRHBsdXMKCQkkaXAgPSAkY29udGVudFByb3ZpZGVyLT5nZXRWYWx1ZShzZWxm'));
	@fwrite($fp, base64_decode('OjpDTEFJTV9MSU1JVF9JUCwgbnVsbCk7CgkJaWYgKCFpc19udWxsKCRpcCkpIHsKCQkJaWYgKGlzc2V0KCRfU0VSVkVSWydSRU1PVEVfQUREUiddKSAmJiAoJGlwICE9PSAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhj'));
	@fwrite($fp, base64_decode('ZXB0aW9uKF9MKCdZb3VyIElQIGFkZHJlc3MgaXMgbm90IGFsbG93ZWQgdG8gdXNlIHRoaXMgdG9rZW4nKSk7CgkJCX0KCQl9CgoJCS8vIENoZWNrcyBpZiBKV1QgYXJlIGRlcGVuZGVudCBvbiB0aGUgZ2VuZXJhdG9yCgkJaWYgKCFpc19udWxsKCR2YWxpZEdlbmVy'));
	@fwrite($fp, base64_decode('YXRvcnMpKSB7CgkJCWlmICgoJGdlbiAmICR2YWxpZEdlbmVyYXRvcnMpID09PSAwKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhpcyBraW5kIG9mIEpXVCB0b2tlbiAoJTEpIGNhbm5vdCBiZSB1c2VkIGluIHRoaXMgcmVxdWVzdCB0eXBl'));
	@fwrite($fp, base64_decode('Jywgc2VsZjo6Z2VuZXJhdG9yTmFtZSgkZ2VuKSkpOwoJCQl9CgkJfQoJfQoKCS8vIE92ZXJyaWRlIGFic3RyYWN0IGZ1bmN0aW9ucwoKCS8qKgoJICogQHZhciBhcnJheQoJICovCglwcm90ZWN0ZWQgJGNvbnRlbnQgPSBhcnJheSgpOwoKCS8qKgoJICogQHBhcmFt'));
	@fwrite($fp, base64_decode('IHN0cmluZyAkbmFtZQoJICogQHBhcmFtIG1peGVkfG51bGwgJGRlZmF1bHQKCSAqIEByZXR1cm4gbWl4ZWR8bnVsbAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0VmFsdWUoc3RyaW5nICRuYW1lLCAkZGVmYXVsdCA9IE5VTEwpIHsKCQlyZXR1cm4gJHRoaXMtPmNv'));
	@fwrite($fp, base64_decode('bnRlbnRbJG5hbWVdID8/ICRkZWZhdWx0OwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbmFtZQoJICogQHBhcmFtIG1peGVkICR2YWx1ZQoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBzZXRWYWx1ZShzdHJpbmcgJG5hbWUsICR2YWx1'));
	@fwrite($fp, base64_decode('ZSkgewoJCSR0aGlzLT5jb250ZW50WyRuYW1lXSA9ICR2YWx1ZTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJG5hbWUKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gZXhpc3RzKHN0cmluZyAkbmFtZSk6IGJvb2wgewoJCXJldHVybiBp'));
	@fwrite($fp, base64_decode('c3NldCgkdGhpcy0+Y29udGVudFskbmFtZV0pOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbmFtZQoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGUoc3RyaW5nICRuYW1lKSB7CgkJdW5zZXQoJHRoaXMtPmNvbnRlbnRbJG5h'));
	@fwrite($fp, base64_decode('bWVdKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gYWN0aXZhdGUoKSB7CgkJLy8gU2VuZCBjb29raWUgYXQgdGhlIGVuZCBvZiB0aGUgSFRUUCByZXF1ZXN0LCBpbiBjYXNlIHRoZXJlIGFyZSBtdWx0aXBsZSBhY3RpdmF0'));
	@fwrite($fp, base64_decode('ZSgpIGNhbGxzCgkJT0lEcGx1czo6cmVnaXN0ZXJfc2h1dGRvd25fZnVuY3Rpb24oYXJyYXkoJHRoaXMsJ2FjdGl2YXRlTm93JykpOwoJfQoKCS8qKgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGFjdGl2YXRlTm93KCkgewoJCSR0b2tlbiA9ICR0aGlzLT5nZXRKV1RUb2tlbigpOwoJCSRleHAgPSAkdGhpcy0+Z2V0VmFsdWUoJ2V4cCcsMCk7CgkJT0lEcGx1czo6Y29va2llVXRpbHMoKS0+c2V0Y29va2llKHNlbGY6OkNPT0tJRV9OQU1FLCAkdG9rZW4s'));
	@fwrite($fp, base64_decode('ICRleHAsIGZhbHNlKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZXN0cm95U2Vzc2lvbigpIHsKCQlPSURwbHVzOjpjb29raWVVdGlscygpLT51bnNldGNvb2tpZShz'));
	@fwrite($fp, base64_decode('ZWxmOjpDT09LSUVfTkFNRSk7Cgl9CgoJLy8gUkEgYXV0aGVudGljYXRpb24gZnVuY3Rpb25zIChsb3ctbGV2ZWwpCgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRlbWFpbAoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYUxvZ2luKHN0cmlu'));
	@fwrite($fp, base64_decode('ZyAkZW1haWwpIHsKCQlpZiAoJGVtYWlsID09ICdhZG1pbicpIHJldHVybjsKCgkJJGxpc3QgPSAkdGhpcy0+Z2V0VmFsdWUoc2VsZjo6Q0xBSU1fTE9HSU5fTElTVCwgbnVsbCk7CgkJaWYgKGlzX251bGwoJGxpc3QpKSAkbGlzdCA9IFtdOwoJCWlmICghaW5fYXJy'));
	@fwrite($fp, base64_decode('YXkoJGVtYWlsLCAkbGlzdCkpICRsaXN0W10gPSAkZW1haWw7CgkJJHRoaXMtPnNldFZhbHVlKHNlbGY6OkNMQUlNX0xPR0lOX0xJU1QsICRsaXN0KTsKCX0KCgkvKioKCSAqIEByZXR1cm4gaW50CgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYU51bUxvZ2dlZEluKCk6'));
	@fwrite($fp, base64_decode('IGludCB7CgkJcmV0dXJuIGNvdW50KCR0aGlzLT5sb2dnZWRJblJhTGlzdCgpKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gT0lEcGx1c1JBW10KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvZ2dlZEluUmFMaXN0KCk6IGFycmF5IHsKCQkkbGlzdCA9ICR0aGlzLT5nZXRW'));
	@fwrite($fp, base64_decode('YWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgoJCSRyZXMgPSBhcnJheSgpOwoJCWZvcmVhY2ggKGFycmF5X3VuaXF1ZSgkbGlzdCkgYXMgJHVzZXJuYW1lKSB7CgkJCWlmICgkdXNlcm5h'));
	@fwrite($fp, base64_decode('bWUgPT0gJycpIGNvbnRpbnVlOyAvLyBzaG91bGQgbm90IGhhcHBlbgoJCQlpZiAoJHVzZXJuYW1lID09ICdhZG1pbicpIGNvbnRpbnVlOwoJCQkkcmVzW10gPSBuZXcgT0lEcGx1c1JBKCR1c2VybmFtZSk7CgkJfQoJCXJldHVybiAkcmVzOwoJfQoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('QHBhcmFtIHN0cmluZyAkZW1haWwKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNSYUxvZ2dlZEluKHN0cmluZyAkZW1haWwpOiBib29sIHsKCQlmb3JlYWNoICgkdGhpcy0+bG9nZ2VkSW5SYUxpc3QoKSBhcyAkcmEpIHsKCQkJaWYgKCRl'));
	@fwrite($fp, base64_decode('bWFpbCA9PSAkcmEtPnJhRW1haWwoKSkgcmV0dXJuIHRydWU7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGVtYWlsCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gcmFMb2dvdXQoc3RyaW5nICRlbWFpbCkgewoJCWlmICgkZW1haWwgPT0gJ2FkbWluJykgcmV0dXJuOwoKCQkkZ2VuID0gJHRoaXMtPmdldFZhbHVlKHNlbGY6OkNMQUlNX0dFTkVSQVRPUiwgLTEpOwoJCWlmICgkZ2VuID49IDApIHNlbGY6Omp3dEJs'));
	@fwrite($fp, base64_decode('YWNrbGlzdCgkZ2VuLCAkZW1haWwpOwoKCQkkbGlzdCA9ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgkJJGtleSA9IGFycmF5X3NlYXJjaCgkZW1haWwsICRsaXN0'));
	@fwrite($fp, base64_decode('KTsKCQlpZiAoJGtleSAhPT0gZmFsc2UpIHVuc2V0KCRsaXN0WyRrZXldKTsKCQkkdGhpcy0+c2V0VmFsdWUoc2VsZjo6Q0xBSU1fTE9HSU5fTElTVCwgJGxpc3QpOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkZW1haWwKCSAqIEBwYXJhbSBzdHJpbmcgJGxv'));
	@fwrite($fp, base64_decode('Z2luZm8KCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYUxvZ291dEV4KHN0cmluZyAkZW1haWwsIHN0cmluZyAmJGxvZ2luZm8pIHsKCQkkdGhpcy0+cmFMb2dvdXQoJGVtYWlsKTsKCQkk'));
	@fwrite($fp, base64_decode('bG9naW5mbyA9ICdmcm9tIEpXVCBzZXNzaW9uJzsKCX0KCgkvLyBBZG1pbiBhdXRoZW50aWNhdGlvbiBmdW5jdGlvbnMgKGxvdy1sZXZlbCkKCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gYWRtaW5Mb2dpbigpIHsKCQkkbGlzdCA9'));
	@fwrite($fp, base64_decode('ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgkJaWYgKCFpbl9hcnJheSgnYWRtaW4nLCAkbGlzdCkpICRsaXN0W10gPSAnYWRtaW4nOwoJCSR0aGlzLT5zZXRWYWx1'));
	@fwrite($fp, base64_decode('ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCAkbGlzdCk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzQWRtaW5Mb2dnZWRJbigpOiBib29sIHsKCQkkbGlzdCA9ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJ'));
	@fwrite($fp, base64_decode('Tl9MSVNULCBudWxsKTsKCQlpZiAoaXNfbnVsbCgkbGlzdCkpICRsaXN0ID0gW107CgkJcmV0dXJuIGluX2FycmF5KCdhZG1pbicsICRsaXN0KTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBmdW5jdGlvbiBhZG1pbkxvZ291dCgpIHsKCQkkZ2VuID0gJHRoaXMtPmdldFZhbHVlKHNlbGY6OkNMQUlNX0dFTkVSQVRPUiwgLTEpOwoJCWlmICgkZ2VuID49IDApIHNlbGY6Omp3dEJsYWNrbGlzdCgkZ2VuLCAnYWRtaW4nKTsKCgkJJGxpc3QgPSAkdGhpcy0+'));
	@fwrite($fp, base64_decode('Z2V0VmFsdWUoc2VsZjo6Q0xBSU1fTE9HSU5fTElTVCwgbnVsbCk7CgkJaWYgKGlzX251bGwoJGxpc3QpKSAkbGlzdCA9IFtdOwoJCSRrZXkgPSBhcnJheV9zZWFyY2goJ2FkbWluJywgJGxpc3QpOwoJCWlmICgka2V5ICE9PSBmYWxzZSkgdW5zZXQoJGxpc3RbJGtl'));
	@fwrite($fp, base64_decode('eV0pOwoJCSR0aGlzLT5zZXRWYWx1ZShzZWxmOjpDTEFJTV9MT0dJTl9MSVNULCAkbGlzdCk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRsb2dpbmZvCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gYWRtaW5Mb2dvdXRFeChzdHJpbmcgJiRsb2dpbmZvKSB7CgkJJHRoaXMtPmFkbWluTG9nb3V0KCk7CgkJJGxvZ2luZm8gPSAnZnJvbSBKV1Qgc2Vzc2lvbic7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgJGNvbnRlbnRQcm92aWRlciA9IG51bGw7CgoJLyoq'));
	@fwrite($fp, base64_decode('CgkgKiBAcmV0dXJuIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUfG51bGwKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEFjdGl2ZVByb3ZpZGVyKCkvKjogP09JRHBsdXNBdXRoQ29udGVudFN0b3Jl'));
	@fwrite($fp, base64_decode('SldUKi8gewoJCWlmICghc2VsZjo6JGNvbnRlbnRQcm92aWRlcikgewoKCQkJJHRtcCA9IG51bGw7CgkJCSRzaWxlbnRfZXJyb3IgPSBmYWxzZTsKCgkJCXRyeSB7CgoJCQkJJHJlbF91cmwgPSBzdWJzdHIoJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10sIHN0cmxlbihP'));
	@fwrite($fp, base64_decode('SURwbHVzOjp3ZWJwYXRoKG51bGwsIE9JRHBsdXM6OlBBVEhfUkVMQVRJVkVfVE9fUk9PVCkpKTsKCQkJCWlmIChzdHJfc3RhcnRzX3dpdGgoJHJlbF91cmwsICdyZXN0LycpKSB7IC8vIDw9PSBUT0RPOiBGaW5kIGEgd2F5IGhvdyB0byBtb3ZlIHRoaXMgaW50byB0'));
	@fwrite($fp, base64_decode('aGUgcGx1Z2luLCBzaW5jZSBSRVNUIGRvZXMgbm90IGJlbG9uZyB0byB0aGUgY29yZS4KCgkJCQkJLy8gUkVTVCBtYXkgb25seSB1c2UgQmVhcmVyIEF1dGhlbnRpY2F0aW9uCgkJCQkJJGJlYXJlciA9IGdldEJlYXJlclRva2VuKCk7CgkJCQkJaWYgKCFpc19udWxs'));
	@fwrite($fp, base64_decode('KCRiZWFyZXIpKSB7CgkJCQkJCSRzaWxlbnRfZXJyb3IgPSBmYWxzZTsKCQkJCQkJJHRtcCA9IG5ldyBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCgpOwoJCQkJCQkkdG1wLT5sb2FkSldUKCRiZWFyZXIpOwoJCQkJCQlzZWxmOjpqd3RTZWN1cml0eUNoZWNrKCR0'));
	@fwrite($fp, base64_decode('bXAsIHNlbGY6OkpXVF9HRU5FUkFUT1JfUkVTVCB8IHNlbGY6OkpXVF9HRU5FUkFUT1JfTUFOVUFMKTsKCQkJCQl9CgoJCQkJfSBlbHNlIHsKCgkJCQkJLy8gQSB3ZWItdmlzaXRvciAoSFRNTCBhbmQgQUpBWCwgYnV0IG5vdCBSRVNUKSBjYW4gdXNlIGEgSldUIENv'));
	@fwrite($fp, base64_decode('b2tpZQoJCQkJCWlmIChpc3NldCgkX0NPT0tJRVtzZWxmOjpDT09LSUVfTkFNRV0pKSB7CgkJCQkJCSRzaWxlbnRfZXJyb3IgPSB0cnVlOwoJCQkJCQkkdG1wID0gbmV3IE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUKCk7CgkJCQkJCSR0bXAtPmxvYWRKV1QoJF9D'));
	@fwrite($fp, base64_decode('T09LSUVbc2VsZjo6Q09PS0lFX05BTUVdKTsKCQkJCQkJc2VsZjo6and0U2VjdXJpdHlDaGVjaygkdG1wLCBzZWxmOjpKV1RfR0VORVJBVE9SX0xPR0lOIHwgc2VsZjo6SldUX0dFTkVSQVRPUl9NQU5VQUwpOwoJCQkJCX0KCgkJCQkJLy8gQUpBWCBtYXkgYWRkaXRp'));
	@fwrite($fp, base64_decode('b25hbGx5IHVzZSBHRVQvUE9TVCBhdXRvbWF0ZWQgQUpBWCAoaW4gYWRkaXRpb24gdG8gdGhlIG5vcm1hbCB3ZWIgYnJvd3NlciBsb2dpbiBDb29raWUpCgkJCQkJaWYgKGlzc2V0KCRfU0VSVkVSWydTQ1JJUFRfRklMRU5BTUUnXSkgJiYgKHN0cnRvbG93ZXIoYmFz'));
	@fwrite($fp, base64_decode('ZW5hbWUoJF9TRVJWRVJbJ1NDUklQVF9GSUxFTkFNRSddKSkgIT09ICdhamF4LnBocCcpKSB7CgkJCQkJCWlmIChpc3NldCgkX1BPU1Rbc2VsZjo6Q09PS0lFX05BTUVdKSkgewoJCQkJCQkJJHNpbGVudF9lcnJvciA9IGZhbHNlOwoJCQkJCQkJJHRtcCA9IG5ldyBP'));
	@fwrite($fp, base64_decode('SURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVCgpOwoJCQkJCQkJJHRtcC0+bG9hZEpXVCgkX1BPU1Rbc2VsZjo6Q09PS0lFX05BTUVdKTsKCQkJCQkJCXNlbGY6Omp3dFNlY3VyaXR5Q2hlY2soJHRtcCwgc2VsZjo6SldUX0dFTkVSQVRPUl9BSkFYIHwgc2VsZjo6SldU'));
	@fwrite($fp, base64_decode('X0dFTkVSQVRPUl9NQU5VQUwpOwoJCQkJCQl9CgkJCQkJCWlmIChpc3NldCgkX0dFVFtzZWxmOjpDT09LSUVfTkFNRV0pKSB7CgkJCQkJCQkkc2lsZW50X2Vycm9yID0gZmFsc2U7CgkJCQkJCQkkdG1wID0gbmV3IE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUKCk7'));
	@fwrite($fp, base64_decode('CgkJCQkJCQkkdG1wLT5sb2FkSldUKCRfR0VUW3NlbGY6OkNPT0tJRV9OQU1FXSk7CgkJCQkJCQlzZWxmOjpqd3RTZWN1cml0eUNoZWNrKCR0bXAsIHNlbGY6OkpXVF9HRU5FUkFUT1JfQUpBWCB8IHNlbGY6OkpXVF9HRU5FUkFUT1JfTUFOVUFMKTsKCQkJCQkJfQoJ'));
	@fwrite($fp, base64_decode('CQkJCX0KCgkJCQl9CgoJCQl9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgkJCQlpZiAoISRzaWxlbnRfZXJyb3IgfHwgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREVCVUcnLGZhbHNlKSkgewoJCQkJCS8vIE1vc3QgbGlrZWx5IGFuIEFKQVggcmVx'));
	@fwrite($fp, base64_decode('dWVzdC4gV2UgY2FuIHRocm93IGFuIEV4Y2VwdGlvbgoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGUgSldUIHRva2VuIHdhcyByZWplY3RlZDogJTEnLCRlLT5nZXRNZXNzYWdlKCkpKTsKCQkJCX0gZWxzZSB7CgkJCQkJLy8gTW9zdCBsaWtl'));
	@fwrite($fp, base64_decode('bHkgYW4gZXhwaXJlZCBDb29raWUvTG9naW4gc2Vzc2lvbi4gV2UgbXVzdCBub3QgdGhyb3cgYW4gRXhjZXB0aW9uLCBvdGhlcndpc2Ugd2Ugd2lsbCBicmVhayBqc1RyZWUKCQkJCQlPSURwbHVzOjpjb29raWVVdGlscygpLT51bnNldGNvb2tpZShzZWxmOjpDT09L'));
	@fwrite($fp, base64_decode('SUVfTkFNRSk7CgkJCQkJcmV0dXJuIG51bGw7CgkJCQl9CgkJCX0KCgkJCXNlbGY6OiRjb250ZW50UHJvdmlkZXIgPSAkdG1wOwoJCX0KCgkJcmV0dXJuIHNlbGY6OiRjb250ZW50UHJvdmlkZXI7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRlbWFpbAoJICog'));
	@fwrite($fp, base64_decode('QHBhcmFtIHN0cmluZyAkbG9naW5mbwoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHJhTG9naW5FeChzdHJpbmcgJGVtYWlsLCBzdHJpbmcgJiRsb2dpbmZvKSB7CgkJaWYgKGlzX251bGwo'));
	@fwrite($fp, base64_decode('c2VsZjo6Z2V0QWN0aXZlUHJvdmlkZXIoKSkpIHsKCQkJJHRoaXMtPnJhTG9naW4oJGVtYWlsKTsKCQkJJGxvZ2luZm8gPSAnaW50byBuZXcgSldUIHNlc3Npb24nOwoJCQlzZWxmOjokY29udGVudFByb3ZpZGVyID0gJHRoaXM7CgkJfSBlbHNlIHsKCQkJJGdlbiA9'));
	@fwrite($fp, base64_decode('ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9HRU5FUkFUT1IsLTEpOwoJCQlzd2l0Y2ggKCRnZW4pIHsKCQkJCWNhc2UgT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1Q6OkpXVF9HRU5FUkFUT1JfQUpBWCA6CgkJCQljYXNlIE9JRHBsdXNBdXRoQ29udGVudFN0'));
	@fwrite($fp, base64_decode('b3JlSldUOjpKV1RfR0VORVJBVE9SX1JFU1QgOgoJCQkJY2FzZSBPSURwbHVzQXV0aENvbnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl9NQU5VQUwgOgoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGlzIGtpbmQgb2YgSldUIHRva2VuIGNh'));
	@fwrite($fp, base64_decode('bm5vdCBiZSBhbHRlcmVkLiBUaGVyZWZvcmUgeW91IGNhbm5vdCBkbyB0aGlzIGFjdGlvbi4nKSk7CgkJCQljYXNlIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VORVJBVE9SX0xPR0lOIDoKCQkJCQlpZiAoIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+'));
	@fwrite($fp, base64_decode('Z2V0VmFsdWUoJ0pXVF9BTExPV19MT0dJTl9VU0VSJywgdHJ1ZSkpIHsKCQkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhZG1pbmlzdHJhdG9yIGhhcyBkaXNhYmxlZCB0aGlzIGZlYXR1cmUuIChCYXNlIGNvbmZpZ3VyYXRpb24gc2V0dGlu'));
	@fwrite($fp, base64_decode('ZyAlMSkuJywnSldUX0FMTE9XX0xPR0lOX1VTRVInKSk7CgkJCQkJfQoJCQkJCWJyZWFrOwoJCQkJZGVmYXVsdDoKCQkJCQlhc3NlcnQoZmFsc2UpOyAvLyBUaGlzIGNhbm5vdCBoYXBwZW4gYmVjYXVzZSBqd3RTZWN1cml0eUNoZWNrIHdpbGwgY2hlY2sgZm9yIHVu'));
	@fwrite($fp, base64_decode('a25vd24gZ2VuZXJhdG9ycwoJCQkJCWJyZWFrOwoJCQl9CgkJCSR0aGlzLT5yYUxvZ2luKCRlbWFpbCk7CgkJCSRsb2dpbmZvID0gJ2ludG8gZXhpc3RpbmcgSldUIHNlc3Npb24nOwoJCX0KCQkkdHRsID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgn'));
	@fwrite($fp, base64_decode('SldUX1RUTF9MT0dJTl9VU0VSJywgMTAqMzY1KjI0KjYwKjYwKTsKCQkkdGhpcy0+c2V0VmFsdWUoJ2V4cCcsIHRpbWUoKSskdHRsKTsgLy8gSldUICJleHAiIGF0dHJpYnV0ZQoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbG9naW5mbwoJICogQHJldHVybiB2'));
	@fwrite($fp, base64_decode('b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFkbWluTG9naW5FeChzdHJpbmcgJiRsb2dpbmZvKSB7CgkJaWYgKGlzX251bGwoc2VsZjo6Z2V0QWN0aXZlUHJvdmlkZXIoKSkpIHsKCQkJJHRoaXMtPmFkbWluTG9n'));
	@fwrite($fp, base64_decode('aW4oKTsKCQkJJGxvZ2luZm8gPSAnaW50byBuZXcgSldUIHNlc3Npb24nOwoJCQlzZWxmOjokY29udGVudFByb3ZpZGVyID0gJHRoaXM7CgkJfSBlbHNlIHsKCQkJJGdlbiA9ICR0aGlzLT5nZXRWYWx1ZShzZWxmOjpDTEFJTV9HRU5FUkFUT1IsLTEpOwoJCQlzd2l0'));
	@fwrite($fp, base64_decode('Y2ggKCRnZW4pIHsKCQkJCWNhc2UgT0lEcGx1c0F1dGhDb250ZW50U3RvcmVKV1Q6OkpXVF9HRU5FUkFUT1JfQUpBWCA6CgkJCQljYXNlIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VORVJBVE9SX1JFU1QgOgoJCQkJY2FzZSBPSURwbHVzQXV0aENv'));
	@fwrite($fp, base64_decode('bnRlbnRTdG9yZUpXVDo6SldUX0dFTkVSQVRPUl9NQU5VQUwgOgoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGlzIGtpbmQgb2YgSldUIHRva2VuIGNhbm5vdCBiZSBhbHRlcmVkLiBUaGVyZWZvcmUgeW91IGNhbm5vdCBkbyB0aGlzIGFjdGlv'));
	@fwrite($fp, base64_decode('bi4nKSk7CgkJCQljYXNlIE9JRHBsdXNBdXRoQ29udGVudFN0b3JlSldUOjpKV1RfR0VORVJBVE9SX0xPR0lOIDoKCQkJCQlpZiAoIU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0pXVF9BTExPV19MT0dJTl9BRE1JTicsIHRydWUpKSB7CgkJCQkJCXRo'));
	@fwrite($fp, base64_decode('cm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGUgYWRtaW5pc3RyYXRvciBoYXMgZGlzYWJsZWQgdGhpcyBmZWF0dXJlLiAoQmFzZSBjb25maWd1cmF0aW9uIHNldHRpbmcgJTEpLicsJ0pXVF9BTExPV19MT0dJTl9BRE1JTicpKTsKCQkJCQl9CgkJCQkJYnJl'));
	@fwrite($fp, base64_decode('YWs7CgkJCQlkZWZhdWx0OgoJCQkJCWFzc2VydChmYWxzZSk7IC8vIFRoaXMgY2Fubm90IGhhcHBlbiBiZWNhdXNlIGp3dFNlY3VyaXR5Q2hlY2sgd2lsbCBjaGVjayBmb3IgdW5rbm93biBnZW5lcmF0b3JzCgkJCQkJYnJlYWs7CgkJCX0KCQkJJHRoaXMtPmFkbWlu'));
	@fwrite($fp, base64_decode('TG9naW4oKTsKCQkJJGxvZ2luZm8gPSAnaW50byBleGlzdGluZyBKV1Qgc2Vzc2lvbic7CgkJfQoJCSR0dGwgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdKV1RfVFRMX0xPR0lOX0FETUlOJywgMTAqMzY1KjI0KjYwKjYwKTsKCQkkdGhpcy0+c2V0'));
	@fwrite($fp, base64_decode('VmFsdWUoJ2V4cCcsIHRpbWUoKSskdHRsKTsgLy8gSldUICJleHAiIGF0dHJpYnV0ZQoJfQoKCS8vIEluZGl2aWR1YWwgZnVuY3Rpb25zCgoJLyoqCgkgKiBEZWNvZGUgdGhlIEpXVC4gSW4gdGhpcyBzdGVwLCB0aGUgc2lnbmF0dXJlIGFzIHdlbGwgYXMgRVhQL05C'));
	@fwrite($fp, base64_decode('RiB0aW1lcyB3aWxsIGJlIGNoZWNrZWQKCSAqIEBwYXJhbSBzdHJpbmcgJGp3dAoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGxvYWRKV1Qoc3RyaW5nICRqd3QpIHsKCQlcRmlyZWJhc2Vc'));
	@fwrite($fp, base64_decode('SldUXEpXVDo6JGxlZXdheSA9IDYwOyAvLyBsZWV3YXkgaW4gc2Vjb25kcwoJCWlmIChPSURwbHVzOjpnZXRQa2lTdGF0dXMoKSkgewoJCQkkcHViS2V5ID0gT0lEcGx1czo6Z2V0U3lzdGVtUHVibGljS2V5KCk7CgkJCSRrID0gbmV3IFxGaXJlYmFzZVxKV1RcS2V5'));
	@fwrite($fp, base64_decode('KCRwdWJLZXksICdSUzI1NicpOyAvLyBSU0ErU0hBMjU2IGlzIGhhcmRjb2RlZCBpbiBnZXRQa2lTdGF0dXMoKSBnZW5lcmF0aW9uCgkJCSR0aGlzLT5jb250ZW50ID0gKGFycmF5KSBcRmlyZWJhc2VcSldUXEpXVDo6ZGVjb2RlKCRqd3QsICRrKTsKCQl9IGVsc2Ug'));
	@fwrite($fp, base64_decode('ewoJCQkka2V5ID0gT0lEcGx1czo6YXV0aFV0aWxzKCktPm1ha2VTZWNyZXQoWycwYmUzNWU1Mi1mNGVmLTExZWQtYjY3ZS0zYzRhOTJkZjg1ODInXSk7CgkJCSRrZXkgPSBoYXNoX3Bia2RmMignc2hhNTEyJywgJGtleSwgJycsIDEwMDAwLCAzMi8qMjU2Yml0Ki8s'));
	@fwrite($fp, base64_decode('IGZhbHNlKTsKCQkJJGsgPSBuZXcgXEZpcmViYXNlXEpXVFxLZXkoJGtleSwgJ0hTNTEyJyk7IC8vIEhNQUMrU0hBNTEyIGlzIGhhcmRjb2RlZCBoZXJlCgkJCSR0aGlzLT5jb250ZW50ID0gKGFycmF5KSBcRmlyZWJhc2VcSldUXEpXVDo6ZGVjb2RlKCRqd3QsICRr'));
	@fwrite($fp, base64_decode('KTsKCQl9Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRKV1RUb2tlbigpOiBzdHJpbmcgewoJCSRwYXlsb2FkID0gJHRoaXMtPmNvbnRlbnQ7CgkJJHBheWxvYWRb'));
	@fwrite($fp, base64_decode('c2VsZjo6Q0xBSU1fU1NIXSA9IHNlbGY6OmdldFNzaCgpOyAvLyBTU0ggPSBTZXJ2ZXIgU2VjcmV0IEhhc2gKCQkvLyBzZWUgYWxzbyBodHRwczovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy9qd3Qvand0LnhodG1sI2NsYWltcyBmb3Igc29tZSBnZW5lcmljIGNs'));
	@fwrite($fp, base64_decode('YWltcwoJCSRwYXlsb2FkWyJpc3MiXSA9IE9JRHBsdXM6OmdldEVkaXRpb25JbmZvKClbJ2p3dGF1ZCddOyAvLyBzaWM6IGp3dGF1ZAoJCSRwYXlsb2FkWyJhdWQiXSA9IE9JRHBsdXM6OmdldEVkaXRpb25JbmZvKClbJ2p3dGF1ZCddOwoJCSRwYXlsb2FkWyJqdGki'));
	@fwrite($fp, base64_decode('XSA9IGdlbl91dWlkKCk7CgkJJHBheWxvYWRbImlhdCJdID0gdGltZSgpOwoJCWlmICghaXNzZXQoJHBheWxvYWRbIm5iZiJdKSkgJHBheWxvYWRbIm5iZiJdID0gdGltZSgpOwoJCWlmICghaXNzZXQoJHBheWxvYWRbImV4cCJdKSkgJHBheWxvYWRbImV4cCJdID0g'));
	@fwrite($fp, base64_decode('dGltZSgpKzM2MDAvKjFoKi87CgoJCWlmICghaXNzZXQoJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdKSkgewoJCQkvLyAiVHJhY2UiIGNhbiBiZSB1c2VkIGZvciBsYXRlciB1cGRhdGVzCgkJCS8vIEZvciBleGFtcGxlLCBpZiB0aGUgSVAgY2hhbmdlcyAidG9v'));
	@fwrite($fp, base64_decode('IG11Y2giIChkaWZmZXJlbnQgY291bnRyeSwgZGlmZmVyZW50IEFTLCBldGMuKQoJCQkvLyBPciByZXZva2UgYWxsIHRva2VucyBmcm9tIGEgc2luZ2xlIGxvZ2luIGZsb3cgKHNlcXVlbmNlIDEsIDIsIDMsIC4uLikKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJB'));
	@fwrite($fp, base64_decode('Q0VdID0gYXJyYXkoKTsKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWydqdGlfMXN0J10gPSAkcGF5bG9hZFsianRpIl07CgkJCSRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsnc2VxJ10gPSAxOwoJCQkkcGF5bG9hZFtzZWxmOjpDTEFJTV9UUkFDRV1b'));
	@fwrite($fp, base64_decode('J2lwJ10gPSAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSA/PyAnJzsKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWydpcF8xc3QnXSA9ICRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsnaXAnXTsKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWyd1'));
	@fwrite($fp, base64_decode('YSddID0gJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddID8/ICcnOwoJCQkkcGF5bG9hZFtzZWxmOjpDTEFJTV9UUkFDRV1bJ3VhXzFzdCddID0gJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWyd1YSddOwoJCX0gZWxzZSB7CgkJCWFzc2VydChpc19udW1lcmlj'));
	@fwrite($fp, base64_decode('KCRwYXlsb2FkW3NlbGY6OkNMQUlNX1RSQUNFXVsnc2VxJ10pKTsKCQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWydzZXEnXSsrOwoJCQkkcGF5bG9hZFtzZWxmOjpDTEFJTV9UUkFDRV1bJ2lwJ10gPSAkX1NFUlZFUlsnUkVNT1RFX0FERFInXSA/PyAnJzsK'));
	@fwrite($fp, base64_decode('CQkJJHBheWxvYWRbc2VsZjo6Q0xBSU1fVFJBQ0VdWyd1YSddID0gJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddID8/ICcnOwoJCX0KCgkJdWtzb3J0KCRwYXlsb2FkLCAic3RybmF0Y21wIik7IC8vIHRoaXMgaXMgbmF0c29ydCBvbiB0aGUga2V5LiBKdXN0IHRv'));
	@fwrite($fp, base64_decode('IG1ha2UgdGhlIEpXVCBsb29rIG5pY2VyLgoKCQlpZiAoT0lEcGx1czo6Z2V0UGtpU3RhdHVzKCkpIHsKCQkJJHByaXZLZXkgPSBPSURwbHVzOjpnZXRTeXN0ZW1Qcml2YXRlS2V5KCk7CgkJCXJldHVybiBcRmlyZWJhc2VcSldUXEpXVDo6ZW5jb2RlKCRwYXlsb2Fk'));
	@fwrite($fp, base64_decode('LCAkcHJpdktleSwgJ1JTMjU2Jyk7IC8vIFJTQStTSEEyNTYgaXMgaGFyZGNvZGVkIGluIGdldFBraVN0YXR1cygpIGdlbmVyYXRpb24KCQl9IGVsc2UgewoJCQkka2V5ID0gT0lEcGx1czo6YXV0aFV0aWxzKCktPm1ha2VTZWNyZXQoWycwYmUzNWU1Mi1mNGVmLTEx'));
	@fwrite($fp, base64_decode('ZWQtYjY3ZS0zYzRhOTJkZjg1ODInXSk7CgkJCSRrZXkgPSBoYXNoX3Bia2RmMignc2hhNTEyJywgJGtleSwgJycsIDEwMDAwLCAzMi8qMjU2Yml0Ki8sIGZhbHNlKTsKCQkJcmV0dXJuIFxGaXJlYmFzZVxKV1RcSldUOjplbmNvZGUoJHBheWxvYWQsICRrZXksICdI'));
	@fwrite($fp, base64_decode('UzUxMicpOyAvLyBITUFDK1NIQTUxMiBpcyBoYXJkY29kZWQgaGVyZQoJCX0KCX0KCn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusAuthContentStoreJWT.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusAuthContentStoreJWT.class.php');
	writefile_1();
	if (!is_file('includes/classes/OIDplusAuthContentStoreJWT.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusAuthContentStoreJWT.class.php');
	} else if (sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') != '67b80668efb14ea33c642bdda01ed5bd72209e3c') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusAuthContentStoreJWT.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusAuthContentStoreJWT.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusAuthContentStoreJWT.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') !== '67b80668efb14ea33c642bdda01ed5bd72209e3c') {
		if (@sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') !== 'b131b02df679f071c0cc1b0a8c8ad1657f546ba8') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusAuthContentStoreJWT.class.php');
			$tmp = pathinfo('includes/classes/OIDplusAuthContentStoreJWT.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusAuthContentStoreJWT.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusAuthContentStoreJWT.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/classes/OIDplusAuthContentStoreJWT.class.php') !== '67b80668efb14ea33c642bdda01ed5bd72209e3c') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusAuthContentStoreJWT.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1310\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1310') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

