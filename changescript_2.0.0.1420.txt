<?php /* <ViaThinkSoftSignature>
UEJ3jRkBmr4E6fQwCJhTpJpAfJJ+rz3sw+9Cf3NB6Uo4v2ZoFToAFVX935zO6Yvv/
8TlgOwkPJnji0486n/yrou+vBdHWVRjK/M6p52w2GX5MVzYS82IdToFtnHOPEn+u1
S5eJVts98Wx/45wnOANecBTSNICLs9y8OxlFP/IG2DeZroR5AuN3G8apv9TnQin5h
+gYkjtbm5clJMDWtFbgNBLugKUKbHRiZ/2ZZ5/cScdvrrgQgVWLu09D4wPLDq+dRF
a6EAopQOZmEpJ6xueIVOBLEblTaMkwTTwzfDIKx+dhWDlIrIOrKBWUzEU1EBV7Npq
fXHhHXRYofaWNbuoHnuV2JDQDshdgKQIrDbBNjf3JOYGVvzFxfWB0EgWaw5IGKPEu
IxIjdAXTRjPb1Bfia7iuAxxz6j+DNQomygcTsM+MEruWvN3WZpdHzm0zCMfJwgza7
g+giUPA7HWjTIfd+x0PlO6Y87GVf14T4qKga6lQ7P/GybNr2BlF/pHmpYyJ4Npir0
e33gdk7Cx/Yh4eAPad5/TrUfZTD61zAXpUY7h2L4Q85l3efddaMNk8g6L512kX5HN
8SQqiRh5oN/tk1gJdMlmDB1v8+ue7OqGh8POGV979qt1CSzDoTHgKCRhRMUJUw605
WBqZNrVkGGVsbyA+FOFuKkehocMpQptU+kwWfVeKOMV6jdS//87cE/0ZONP5VK8OR
vl78xmoMJV9dXAfMLwqDXTyXz+d761gR84MuFf/FqbwEjcGTiRixz/pXEE7kY7y0o
hiKjitgQjpZNvs+wvIqBjnvL3EOKeCHB8P3xFphEw0rKFUH99t0aP1O4Bc70mlpfd
LWmb81bjXEq+ScPORbEMea0ds/BncaeLIHrx04Gjjj1/LwgUwmoWtb/J5sReH7SY4
ZHE0ryjUpoIHkBoXWNm8DCDPVehcAO4X4yx6bWvyRZl/cGP/5XmHqZ/YLkbTFXGTR
6Dx+VeDBaMh3cZ+32K+c0O9pNQbs3VNcFoAohZ1swj59D5DC3WvAM6O3wSG8IXei6
Kf6ixi+aSZy0XN3vOqmUfGiiofvgPTDy+r8UsWXuPpGAlBabR8c6RwWc7dGT3fUlG
RiEhjhp0JYoanRMM4RYBhzFnV8pXzuNVo8XJXnE8lPOdQ1NTHipHCkLtkQDNx8r1I
KJrhppESLps2OzU4vjFEypqf1UbcedW4UCtg767L0bUnrYe5D3PejwxQaihHq3z0K
3pPQAejgLlKKPf/eHCFDhCuhumOD42W6Q+d7zavWyf38LAy82zujsSDFTKgaGN4Kd
yZvChTCaDswqDxpNtmSJSC80OVQEFBKl3G36x3lohBerpr6Yr0zfrybrqiYZ44D4V
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1419') {
	err('This update can only be applied to OIDplus version 2.0.0.1419!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css', 'w');
	@fwrite($fp, base64_decode('LmRuc193aXJlZm9ybWF0X3NwZWNpYWxoZXhjaGFyIHsKCS8qY29sb3I6Z3JheTsqLwoJb3BhY2l0eTogMC41Owp9Cg=='));
	@fclose($fp);
}
if (is_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css') && (sha1_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css') != 'a8c000521c2936db7ed0b0c9920471ed9697ef21')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css');
	$tmp = pathinfo('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css')) {
	warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css');
} else if (sha1_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css') != 'a8c000521c2936db7ed0b0c9920471ed9697ef21') {
	warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css', 0644)) {
	warn('Could not change file permissions of plugins/viathinksoft/objectTypes/domain/OIDplusDomain.css');
}

// Files different: plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php
function writefile_2() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c0FpZCBleHRlbmRzIE9JRHBsdXNPYmplY3QgewoJLyoqCgkgKiBAdmFyIHN0cmluZwoJICovCglwcml2YXRlICRhaWQ7CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRh'));
	@fwrite($fp, base64_decode('aWQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KHN0cmluZyAkYWlkKSB7CgkJLy8gVE9ETzogc3ludGF4IGNoZWNrcwoJCSR0aGlzLT5haWQgPSAkYWlkOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbm9kZV9pZAoJICogQHJldHVybiBPSURw'));
	@fwrite($fp, base64_decode('bHVzQWlkfG51bGwKCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBwYXJzZShzdHJpbmcgJG5vZGVfaWQpLyo6ID9PSURwbHVzQWlkKi8gewoJCUBsaXN0KCRuYW1lc3BhY2UsICRhaWQpID0gZXhwbG9kZSgnOicsICRub2RlX2lkLCAyKTsKCQlpZiAoJG5hbWVz'));
	@fwrite($fp, base64_decode('cGFjZSAhPT0gc2VsZjo6bnMoKSkgcmV0dXJuIG51bGw7CgkJcmV0dXJuIG5ldyBzZWxmKCRhaWQpOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBvYmplY3RUeXBlVGl0bGUoKTogc3RyaW5nIHsKCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gX0woJ0FwcGxpY2F0aW9uIElkZW50aWZpZXIgKElTTy9JRUMgNzgxNiknKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRpdGxlU2hvcnQoKTogc3RyaW5nIHsKCQlyZXR1cm4gX0wo'));
	@fwrite($fp, base64_decode('J0FJRCcpOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBucygpOiBzdHJpbmcgewoJCXJldHVybiAnYWlkJzsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gcm9vdCgpOiBzdHJpbmcgewoJCXJldHVybiBzZWxmOjpucygpLic6JzsKCX0KCgkvKioKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNSb290KCk6IGJvb2wgewoJCXJldHVybiAkdGhpcy0+YWlkID09ICcnOwoJfQoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('QHBhcmFtIGJvb2wgJHdpdGhfbnMKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBub2RlSWQoYm9vbCAkd2l0aF9ucz10cnVlKTogc3RyaW5nIHsKCQlyZXR1cm4gJHdpdGhfbnMgPyBzZWxmOjpyb290KCkuJHRoaXMtPmFpZCA6ICR0aGlz'));
	@fwrite($fp, base64_decode('LT5haWQ7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRzdHIKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFkZFN0cmluZyhzdHJpbmcgJHN0cik6IHN0cmluZyB7CgkJJG0gPSBh'));
	@fwrite($fp, base64_decode('cnJheSgpOwoKCQkkc3RyID0gc3RyX3JlcGxhY2UoJyAnLCcnLCRzdHIpOwoJCSRzdHIgPSBzdHJfcmVwbGFjZSgnOicsJycsJHN0cik7CgoJCWlmICghcHJlZ19tYXRjaCgnQF5bMC05YS1mQS1GXSskQCcsICRzdHIsICRtKSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1'));
	@fwrite($fp, base64_decode('c0V4Y2VwdGlvbihfTCgnQUlEIHBhcnQgbmVlZHMgdG8gYmUgaGV4YWRlY2ltYWwnKSk7CgkJfQoKCQlpZiAoc3RybGVuKCR0aGlzLT5ub2RlSWQoZmFsc2UpLiRzdHIpID4gMzIpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0FuIEFJRCBoYXMg'));
	@fwrite($fp, base64_decode('YSBtYXhpbXVtIGxlbmd0aCBvZiAxNiBieXRlcycpKTsKCQl9CgoJCS8vIHJlbW92ZWQsIGJlY2F1c2UgZm9yIEQyIDc2IDAwIDAxIDg2IEYuLi4gaXQgbWFrZXMgc2Vuc2UgdG8gaGF2ZSB5b3VyIHJvb3QgKHdoaWNoIGlzIGluc2lkZSBhIGZvcmVpZ24gUklEKSBi'));
	@fwrite($fp, base64_decode('ZWluZyB5b3VyIE9JRHBsdXMgcm9vdAoJCS8qCgkJJHByZSAgID0gJHRoaXMtPm5vZGVJZChmYWxzZSk7CgkJJGFkZCAgID0gc3RydG91cHBlcigkc3RyKTsKCQkkYWZ0ZXIgPSAkcHJlLiRhZGQ7CgkJJHJpZCA9ICc/JzsKCQkkcGl4ID0gJz8nOwoJCSRwID0gYWlk'));
	@fwrite($fp, base64_decode('X3NwbGl0X3JpZF9waXgoJGFmdGVyLCAkcmlkLCAkcGl4KTsKCQlpZiAoJHAgPiAxKSB7IC8vIFdoeSAkcD4xPyBGb3IgIkYiLCB0aGVyZSBpcyBubyBSSUQuIFdlIGFsbG93IHRoYXQgc29tZWJvZHkgaW5jbHVkZSAiRiIgaW4gdGhlIGZpcnN0IG5vZGUKCQkJaWYg'));
	@fwrite($fp, base64_decode('KChzdHJsZW4oJHByZSk8JHApICYmIChzdHJsZW4oJGFmdGVyKT4kcCkpIHsKCQkJCSRyaWQgPSBzdWJzdHIoJHJpZCxzdHJsZW4oJHByZSkpOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoaXMgbm9kZSB3b3VsZCBtaXggUklEIChyZWdpc3Ry'));
	@fwrite($fp, base64_decode('eSBJRCkgYW5kIFBJWCAoYXBwbGljYXRpb24gc3BlY2lmaWMpLiBQbGVhc2Ugc3BsaXQgaXQgaW50byB0d28gbm9kZXMgIiUxIiBhbmQgIiUyIi4nLCRyaWQsJHBpeCkpOwoJCQl9CgkJfQoJCSovCgoJCXJldHVybiAkdGhpcy0+bm9kZUlkKHRydWUpLnN0cnRvdXBw'));
	@fwrite($fp, base64_decode('ZXIoJHN0cik7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gT0lEcGx1c09iamVjdCAkcGFyZW50CgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBjcnVkU2hvd0lkKE9JRHBsdXNPYmplY3QgJHBh'));
	@fwrite($fp, base64_decode('cmVudCk6IHN0cmluZyB7CgkJcmV0dXJuICR0aGlzLT5jaHVua2VkTm90YXRpb24oZmFsc2UpOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gY3J1ZEluc2VydFByZWZp'));
	@fwrite($fp, base64_decode('eCgpOiBzdHJpbmcgewoJCXJldHVybiAkdGhpcy0+aXNSb290KCkgPyAnJyA6ICR0aGlzLT5jaHVua2VkTm90YXRpb24oZmFsc2UpOwoJfQoKCS8qKgoJICogQHBhcmFtIE9JRHBsdXNPYmplY3R8bnVsbCAkcGFyZW50CgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglw'));
	@fwrite($fp, base64_decode('dWJsaWMgZnVuY3Rpb24ganNUcmVlTm9kZU5hbWUoT0lEcGx1c09iamVjdCAkcGFyZW50ID0gbnVsbCk6IHN0cmluZyB7CgkJaWYgKCRwYXJlbnQgPT0gbnVsbCkgcmV0dXJuICR0aGlzLT5vYmplY3RUeXBlVGl0bGUoKTsKCQlyZXR1cm4gc3Vic3RyKCR0aGlzLT5u'));
	@fwrite($fp, base64_decode('b2RlSWQoKSwgc3RybGVuKCRwYXJlbnQtPm5vZGVJZCgpKSk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgZnVuY3Rpb24gZGVmYXVsdFRpdGxlKCk6IHN0cmluZyB7CgkJLy9yZXR1cm4gJHRoaXMtPmFpZDsKCQlyZXR1cm4gcnRyaW0o'));
	@fwrite($fp, base64_decode('Y2h1bmtfc3BsaXQoJHRoaXMtPmFpZCwgMiwgJyAnKSwgJyAnKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNMZWFmTm9kZSgpOiBib29sIHsKCQkvLyBXZSBkb24ndCBrbm93IHdoZW4gYW4gQUlEIGlzICJsZWFmIiwg'));
	@fwrite($fp, base64_decode('YmVjYXVzZSBhbiBBSUQgY2FuIGhhdmUgYW4gYXJiaXRhcnkgbGVuZ3RoIDw9IDE2IEJ5dGVzLgoJCS8vIEJ1dCBpZiBpdCBpcyAxNiBieXRlcyBsb25nICgzMiBuaWJibGVzKSwgdGhlbiB3ZSBhcmUgMTAwJSBjZXJ0YWluIHRoYXQgaXQgaXMgYSBsZWFmIG5vZGUu'));
	@fwrite($fp, base64_decode('CgkJcmV0dXJuIChzdHJsZW4oJHRoaXMtPm5vZGVJZChmYWxzZSkpID09IDMyKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJHRpdGxlCgkgKiBAcGFyYW0gc3RyaW5nICRjb250ZW50CgkgKiBAcGFyYW0gc3RyaW5nICRpY29uCgkgKiBAcmV0dXJuIHZvaWQK'));
	@fwrite($fp, base64_decode('CSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0Q29udGVudFBhZ2Uoc3RyaW5nICYkdGl0bGUsIHN0cmluZyAmJGNvbnRlbnQsIHN0cmluZyAmJGljb24pIHsKCQkkaWNvbiA9IGZpbGVfZXhpc3RzKF9fRElSX18uJy9p'));
	@fwrite($fp, base64_decode('bWcvbWFpbl9pY29uLnBuZycpID8gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fLE9JRHBsdXM6OlBBVEhfUkVMQVRJVkUpLidpbWcvbWFpbl9pY29uLnBuZycgOiAnJzsKCgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgewoJCQkkdGl0bGUgPSBPSURwbHVzQWlkOjpvYmpl'));
	@fwrite($fp, base64_decode('Y3RUeXBlVGl0bGUoKTsKCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8iLCBhcnJheShzZWxmOjpyb290KCkpKTsKCQkJaWYgKCRyZXMtPmFueSgpKSB7CgkJCQkkY29udGVudCAg'));
	@fwrite($fp, base64_decode('PSAnPHA+Jy5fTCgnUGxlYXNlIHNlbGVjdCBhbiBpdGVtIGluIHRoZSB0cmVlIHZpZXcgYXQgdGhlIGxlZnQgdG8gc2hvdyBpdHMgY29udGVudHMuJykuJzwvcD4nOwoJCQl9IGVsc2UgewoJCQkJJGNvbnRlbnQgID0gJzxwPicuX0woJ0N1cnJlbnRseSwgbm8gQXBw'));
	@fwrite($fp, base64_decode('bGljYXRpb24gSWRlbnRpZmllcnMgYXJlIHJlZ2lzdGVyZWQgaW4gdGhlIHN5c3RlbS4nKS4nPC9wPic7CgkJCX0KCgkJCWlmICghJHRoaXMtPmlzTGVhZk5vZGUoKSkgewoJCQkJaWYgKE9JRHBsdXM6OmF1dGhVdGlscygpLT5pc0FkbWluTG9nZ2VkSW4oKSkgewoJ'));
	@fwrite($fp, base64_decode('CQkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnTWFuYWdlIHJvb3Qgb2JqZWN0cycpLic8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnQXZhaWxhYmxlIG9iamVjdHMnKS4nPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0g'));
	@fwrite($fp, base64_decode('JyUlQ1JVRCUlJzsKCQkJfQoJCX0gZWxzZSB7CgkJCSR0aXRsZSA9ICR0aGlzLT5nZXRUaXRsZSgpOwoKCQkJJGNodW5rZWQgPSAkdGhpcy0+Y2h1bmtlZE5vdGF0aW9uKHRydWUpOwoJCQkkY29udGVudCA9ICc8aDI+Jy4kY2h1bmtlZC4nPC9oMj4nOwoKCQkJJHRt'));
	@fwrite($fp, base64_decode('cCA9IGRlY29kZV9haWQoJHRoaXMtPmFpZCx0cnVlKTsKCQkJJHRtcCA9IGh0bWxlbnRpdGllcygkdG1wKTsKCQkJJHRtcCA9IHN0cl9yZXBsYWNlKCcgJywnJm5ic3A7JywkdG1wKTsKCQkJJHRtcCA9IG5sMmJyKCR0bXApOwoJCQkkdG1wID0gcHJlZ19yZXBsYWNl'));
	@fwrite($fp, base64_decode('KCdAKHdhcm5pbmd8aW52YWxpZHxlcnJvcnxpbGxlZ2FsKCZuYnNwO3VzYWdlKXswLDF9KUBpJywgJzxzcGFuIGNsYXNzPSJhaWRfZGVjb2Rlcl9lcnJvcnRleHQiPlxcMTwvc3Bhbj4nLCAkdG1wKTsKCgkJCSMgVE9ETzogYW0gYmVzdGVuIGZhcmJtYXJraWVydW5n'));
	@fwrite($fp, base64_decode('IGlubmVyaGFsYiBjX2xpdGVyYWxfbWFjaGVuID8gbWl0IDxhYmJyPiB1bmQgZGFubiA8YWJicj4gaXJnZW5kd2llIGJlaGFuZGVsbj8KCQkJJHRtcCA9IHByZWdfcmVwbGFjZSgnQChcXFxcXFxkezN9KUBpJywgJzxzcGFuIGNsYXNzPSJhaWRfZGVjb2Rlcl9zcGVj'));
	@fwrite($fp, base64_decode('aWFsaGV4Y2hhciI+XFwxPC9zcGFuPicsICR0bXApOwoJCQkkdG1wID0gcHJlZ19yZXBsYWNlKCdAKFxcXFx4WzAtOUEtRmEtZl17Mn0pQGknLCAnPHNwYW4gY2xhc3M9ImFpZF9kZWNvZGVyX3NwZWNpYWxoZXhjaGFyIj5cXDE8L3NwYW4+JywgJHRtcCk7CgoJCQkk'));
	@fwrite($fp, base64_decode('Y29udGVudCAuPSAnPGgyPicuX0woJ0RlY29kaW5nJykuJzwvaDI+JzsKCQkJJGNvbnRlbnQgLj0gJzx0YWJsZSBib3JkZXI9IjAiPic7CgkJCSRjb250ZW50IC49ICc8ZGl2IHN0eWxlPSJvdmVyZmxvdzphdXRvO3doaXRlLXNwYWNlOm5vd3JhcCI+PGNvZGU+Jy4k'));
	@fwrite($fp, base64_decode('dG1wLic8L2NvZGU+PC9kaXY+JzsKCQkJJGNvbnRlbnQgLj0gJzwvdGFibGU+JzsKCgkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnRGVzY3JpcHRpb24nKS4nPC9oMj4lJURFU0MlJSc7CgkJCWlmICgkdGhpcy0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHsKCQkJCSRj'));
	@fwrite($fp, base64_decode('b250ZW50IC49ICc8aDI+Jy5fTCgnQ3JlYXRlIG9yIGNoYW5nZSBzdWJvcmRpbmF0ZSBvYmplY3RzJykuJzwvaDI+JzsKCQkJfSBlbHNlIHsKCQkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnU3Vib3JkaW5hdGUgb2JqZWN0cycpLic8L2gyPic7CgkJCX0KCQkJJGNv'));
	@fwrite($fp, base64_decode('bnRlbnQgLj0gJyUlQ1JVRCUlJzsKCQl9Cgl9CgoJIyAtLS0KCgkvKioKCSAqIEBwYXJhbSBib29sICR3aXRoQWJicgoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gY2h1bmtlZE5vdGF0'));
	@fwrite($fp, base64_decode('aW9uKGJvb2wgJHdpdGhBYmJyPXRydWUpOiBzdHJpbmcgewoJCSRjdXJpZCA9IHNlbGY6OnJvb3QoKS4kdGhpcy0+YWlkOwoKCQkkb2JqID0gT0lEcGx1c09iamVjdDo6ZmluZEZpdHRpbmcoJGN1cmlkKTsKCQlpZiAoISRvYmopIHJldHVybiAkdGhpcy0+YWlkOwoK'));
	@fwrite($fp, base64_decode('CQkkaGludHMgPSBhcnJheSgpOwoJCSRsZW5ndGhzID0gYXJyYXkoc3RybGVuKCRjdXJpZCkpOwoJCXdoaWxlICgkb2JqID0gT0lEcGx1c09iamVjdDo6ZmluZEZpdHRpbmcoJGN1cmlkKSkgewoJCQkkb2JqUGFyZW50ID0gJG9iai0+Z2V0UGFyZW50KCk7CgkJCWlm'));
	@fwrite($fp, base64_decode('ICghJG9ialBhcmVudCkgYnJlYWs7CgkJCSRjdXJpZCA9ICRvYmpQYXJlbnQtPm5vZGVJZCgpOwoJCQkkaGludHNbXSA9ICRvYmotPmdldFRpdGxlKCk7CgkJCSRsZW5ndGhzW10gPSBzdHJsZW4oJGN1cmlkKTsKCQl9CgoJCWFycmF5X3NoaWZ0KCRsZW5ndGhzKTsK'));
	@fwrite($fp, base64_decode('CQkkY2h1bmtzID0gYXJyYXkoKTsKCgkJJGZ1bGwgPSBzZWxmOjpyb290KCkuJHRoaXMtPmFpZDsKCQlmb3JlYWNoICgkbGVuZ3RocyBhcyAkbGVuKSB7CgkJCSRjaHVua3NbXSA9IHN1YnN0cigkZnVsbCwgJGxlbik7CgkJCSRmdWxsID0gc3Vic3RyKCRmdWxsLCAw'));
	@fwrite($fp, base64_decode('LCAkbGVuKTsKCQl9CgoJCSRoaW50cyA9IGFycmF5X3JldmVyc2UoJGhpbnRzKTsKCQkkY2h1bmtzID0gYXJyYXlfcmV2ZXJzZSgkY2h1bmtzKTsKCgkJJGZ1bGwgPSBhcnJheSgpOwoJCWZvcmVhY2ggKCRjaHVua3MgYXMgJGMpIHsKCQkJJGhpbnQgPSBhcnJheV9z'));
	@fwrite($fp, base64_decode('aGlmdCgkaGludHMpOwoJCQkkZnVsbFtdID0gJHdpdGhBYmJyICYmICgkaGludCAhPT0gJycpID8gJzxhYmJyIHRpdGxlPSInLmh0bWxlbnRpdGllcygkaGludCkuJyI+Jy4kYy4nPC9hYmJyPicgOiAkYzsKCQl9CgkJcmV0dXJuIGltcGxvZGUoJyAnLCAkZnVsbCk7'));
	@fwrite($fp, base64_decode('Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIE9JRHBsdXNBaWR8bnVsbAoJICovCglwdWJsaWMgZnVuY3Rpb24gb25lX3VwKCkvKjogP09JRHBsdXNBaWQqLyB7CgkJcmV0dXJuIHNlbGY6OnBhcnNlKCR0aGlzLT5ucygpLic6Jy5zdWJzdHIoJHRoaXMtPmFpZCwwLHN0cmxl'));
	@fwrite($fp, base64_decode('bigkdGhpcy0+YWlkKS0xKSk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gT0lEcGx1c09iamVjdHxzdHJpbmcgJHRvCgkgKiBAcmV0dXJuIGludHxudWxsCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkaXN0YW5jZSgkdG8pIHsKCQlpZiAoIWlzX29iamVjdCgkdG8pKSAkdG8g'));
	@fwrite($fp, base64_decode('PSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkdG8pOwoJCWlmICghJHRvKSByZXR1cm4gbnVsbDsKCQlpZiAoISgkdG8gaW5zdGFuY2VvZiAkdGhpcykpIHJldHVybiBudWxsOwoKCQkkYSA9ICR0by0+YWlkOwoJCSRiID0gJHRoaXMtPmFpZDsKCgkJJGFyeSA9ICRhOwoJ'));
	@fwrite($fp, base64_decode('CSRicnkgPSAkYjsKCgkJJG1pbl9sZW4gPSBtaW4oc3RybGVuKCRhcnkpLCBzdHJsZW4oJGJyeSkpOwoKCQlmb3IgKCRpPTA7ICRpPCRtaW5fbGVuOyAkaSsrKSB7CgkJCWlmICgkYXJ5WyRpXSAhPSAkYnJ5WyRpXSkgcmV0dXJuIG51bGw7CgkJfQoKCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('c3RybGVuKCRhcnkpIC0gc3RybGVuKCRicnkpOwoJfQoKCS8qKgoJICogQHJldHVybiBhcnJheXxPSURwbHVzQWx0SWRbXQoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRBbHRJZHMoKTogYXJyYXkgewoJCWlmICgk'));
	@fwrite($fp, base64_decode('dGhpcy0+aXNSb290KCkpIHJldHVybiBhcnJheSgpOwoJCSRpZHMgPSBwYXJlbnQ6OmdldEFsdElkcygpOwoKCQkkYWlkID0gJHRoaXMtPm5vZGVJZChmYWxzZSk7CgkJJGFpZCA9IHN0cnRvdXBwZXIoJGFpZCk7CgoJCS8vIFZpYVRoaW5rU29mdCBwcm9wcmlldGFy'));
	@fwrite($fp, base64_decode('eSBBSURzCgoJCS8vIChWVFMgQjEpIE1lbWJlcnMKCQlpZiAoJGFpZCA9PSAnRDI3NjAwMDE4NkIxJykgewoJCQkkb2lkID0gJzEuMy42LjEuNC4xLjM3NDc2LjEnOwoJCQkkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdvaWQnLCAkb2lkLCBfTCgnT2JqZWN0IElk'));
	@fwrite($fp, base64_decode('ZW50aWZpZXIgKE9JRCknKSk7CgkJfQoKCQlpZiAocHJlZ19tYXRjaCgnQF5EMjc2MDAwMTg2QjEoLi4uLikkQCcsICRhaWQsICRtKSkgewoJCQkkb2lkID0gJzEuMy42LjEuNC4xLjM3NDc2LjEuJy5sdHJpbSgkbVsxXSwnMCcpOwoJCQkkaWRzW10gPSBuZXcgT0lE'));
	@fwrite($fp, base64_decode('cGx1c0FsdElkKCdvaWQnLCAkb2lkLCBfTCgnT2JqZWN0IElkZW50aWZpZXIgKE9JRCknKSk7CgkJfQoKCQkvLyAoVlRTIEIyKSBQcm9kdWN0cwoJCWlmICgkYWlkID09ICdEMjc2MDAwMTg2QjInKSB7CgkJCSRvaWQgPSAnMS4zLjYuMS40LjEuMzc0NzYuMic7CgkJ'));
	@fwrite($fp, base64_decode('CSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ29pZCcsICRvaWQsIF9MKCdPYmplY3QgSWRlbnRpZmllciAoT0lEKScpKTsKCQl9CgoJCWlmIChwcmVnX21hdGNoKCdAXkQyNzYwMDAxODZCMiguLi4uKSRAJywgJGFpZCwgJG0pKSB7CgkJCSRvaWQgPSAnMS4zLjYu'));
	@fwrite($fp, base64_decode('MS40LjEuMzc0NzYuMi4nLmx0cmltKCRtWzFdLCcwJyk7CgkJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ29pZCcsICRvaWQsIF9MKCdPYmplY3QgSWRlbnRpZmllciAoT0lEKScpKTsKCQl9CgoJCS8vIChWVFMgQjIgMDAgMDUpIE9JRHBsdXMgSW5mb3JtYXRp'));
	@fwrite($fp, base64_decode('b24gT2JqZWN0cyBBSUQKCQkvLyBBdHRlbnRpb246IEQyNzYwMDAxODZCMjAwMDUgZG9lcyBOT1QgcmVwcmVzZW50IDEuMy42LjEuNC4xLjM3NDc2LjMwLjkKCQkvLyAgICAgICAgICAgIGJlY2F1c2UgdGhlIG1hcHBpbmcgdG8gT0lEcGx1cyBzeXN0ZW1zIG9ubHkg'));
	@fwrite($fp, base64_decode('YXBwbGllcyBmb3IgMDAuLi4uLi4tN0YuLi4uLi4gKDMxIGJpdCBoYXNoKQoKCQlpZiAocHJlZ19tYXRjaCgnQF5EMjc2MDAwMTg2QjIwMDA1KFswLTddLi4uLi4uLikkQCcsICRhaWQsICRtKSkgewoJCQkkb2lkID0gJzEuMy42LjEuNC4xLjM3NDc2LjMwLjkuJy5o'));
	@fwrite($fp, base64_decode('ZXhkZWMoJG1bMV0pOwoJCQkkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdvaWQnLCAkb2lkLCBfTCgnT2JqZWN0IElkZW50aWZpZXIgKE9JRCknKSk7CgkJfQoKCQlpZiAocHJlZ19tYXRjaCgnQF5EMjc2MDAwMTg2QjIwMDA1KFswLTddLi4uLi4uLikoWzAtN10u'));
	@fwrite($fp, base64_decode('Li4uLi4uKSRAJywgJGFpZCwgJG0pKSB7CgkJCSRvaWQgPSAnMS4zLjYuMS40LjEuMzc0NzYuMzAuOS4nLmhleGRlYygkbVsxXSkuJy4nLmhleGRlYygkbVsyXSk7CgkJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ29pZCcsICRvaWQsIF9MKCdPYmplY3QgSWRl'));
	@fwrite($fp, base64_decode('bnRpZmllciAoT0lEKScpKTsKCQl9CgoJCS8vIFZpYVRoaW5rU29mdCAiRXhhbXBsZSIgQUlECgoJCWlmICgkYWlkID09ICdEMjc2MDAwMTg2RTAnKSB7CgkJCS8vIE5vdGUgdGhhdCB0aGUgT0lEIG9iamVjdCB0eXBlIHBsdWdpbiBhbHNvIG1hcHMgY2hpbGRyZW4g'));
	@fwrite($fp, base64_decode('b2YgMi45OTkgdG8gQUlELAoJCQkvLyB1c2luZyBhIGhhc2guIEJ1dCBzaW5jZSB0aGlzIGlzIG5vdCB1bmlxdWUgYW5kIGNhbm5vdCBiZSByZXZlcnRlZCwKCQkJLy8gd2UgY2Fubm90IGhhdmUgYW4gcmV2ZXJzZSBsb29rdXAvbWFwLgoJCQkkaWRzW10gPSBuZXcg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0FsdElkKCdvaWQnLCAnMi45OTknLCBfTCgnT2JqZWN0IElkZW50aWZpZXIgKE9JRCknKSwgJyAoJy5fTCgnT3B0aW9uYWwgUElYIGFsbG93ZWQsIHdpdGhvdXQgcHJlZml4JykuJyknKTsKCQl9CgoJCS8vIFZpYVRoaW5rU29mdCAiRm9yZWlnbiIgQUlE'));
	@fwrite($fp, base64_decode('cwoKCQkvLyAoVlRTIEYwKSBJQU5BIFBFTiArIFBJWAoJCS8vIFJlc29sdmUgb25seSBpZiB0aGVyZSBpcyBubyBQSVgKCQlpZiAoc3RyX3N0YXJ0c193aXRoKCRhaWQsJ0QyNzYwMDAxODZGMCcpKSB7CgkJCSRyZXN0ID0gc3Vic3RyKCRhaWQsc3RybGVuKCdEMjc2'));
	@fwrite($fp, base64_decode('MDAwMTg2RjAnKSk7CgkJCSRwID0gc3RycG9zKCRyZXN0LCdGJyk7CgkJCWlmICgkcCAhPT0gZmFsc2UpIHsKCQkJCSRwZW4gPSBzdWJzdHIoJHJlc3QsMCwkcCk7CgkJCQkkcGl4ID0gc3Vic3RyKCRyZXN0LCRwKzEpOwoJCQl9IGVsc2UgewoJCQkJJHBlbiA9ICRy'));
	@fwrite($fp, base64_decode('ZXN0OwoJCQkJJHBpeCA9ICcnOwoJCQl9CgkJCWlmICgoJHBpeCA9PT0gJycpICYmIHByZWdfbWF0Y2goJy9eWzAtOV0rJC8nLCRwZW4sJG0pKSB7CgkJCQkkb2lkID0gJzEuMy42LjEuNC4xLicuJHBlbjsKCQkJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ29p'));
	@fwrite($fp, base64_decode('ZCcsICRvaWQsIF9MKCdPYmplY3QgSWRlbnRpZmllciAoT0lEKScpKTsKCQkJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2lhbmEtcGVuJywgJHBlbiwgX0woJ0lBTkEgUHJpdmF0ZSBFbnRlcnByaXNlIE51bWJlciAoUEVOKScpKTsKCQkJfQoJCX0KCgkJLy8g'));
	@fwrite($fp, base64_decode('KFZUUyBGMSkgVmlhVGhpbmtTb2Z0IEZyZWVPSUQgKyBQSVgKCQkvLyBSZXNvbHZlIG9ubHkgaWYgdGhlcmUgaXMgbm8gUElYCgkJaWYgKHN0cl9zdGFydHNfd2l0aCgkYWlkLCdEMjc2MDAwMTg2RjEnKSkgewoJCQkkcmVzdCA9IHN1YnN0cigkYWlkLHN0cmxlbign'));
	@fwrite($fp, base64_decode('RDI3NjAwMDE4NkYxJykpOwoJCQkkcCA9IHN0cnBvcygkcmVzdCwnRicpOwoJCQlpZiAoJHAgIT09IGZhbHNlKSB7CgkJCQkkbnVtYmVyID0gc3Vic3RyKCRyZXN0LDAsJHApOwoJCQkJJHBpeCA9IHN1YnN0cigkcmVzdCwkcCsxKTsKCQkJfSBlbHNlIHsKCQkJCSRu'));
	@fwrite($fp, base64_decode('dW1iZXIgPSAkcmVzdDsKCQkJCSRwaXggPSAnJzsKCQkJfQoJCQlpZiAoKCRwaXggPT09ICcnKSAmJiBwcmVnX21hdGNoKCcvXlswLTldKyQvJywkbnVtYmVyLCRtKSkgewoJCQkJJG9pZCA9ICcxLjMuNi4xLjQuMS4zNzQ3Ni45MDAwLicuJG51bWJlcjsKCQkJCSRp'));
	@fwrite($fp, base64_decode('ZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ29pZCcsICRvaWQsIF9MKCdPYmplY3QgSWRlbnRpZmllciAoT0lEKScpKTsKCQkJfQoJCX0KCgkJLy8gKFZUUyBGMikgTUFDIGFkZHJlc3MgKEVVSS9FTEkvLi4uKSArIFBJWAoJCS8vIFJlc29sdmUgb25seSBpZiB0aGVy'));
	@fwrite($fp, base64_decode('ZSBpcyBubyBQSVgKCQlpZiAoc3RyX3N0YXJ0c193aXRoKCRhaWQsJ0QyNzYwMDAxODZGMicpKSB7CgkJCSRzaXplX25pYmJsZSA9IHN1YnN0cigkYWlkLHN0cmxlbignRDI3NjAwMDE4NkYyJyksMSk7CgkJCWlmICgkc2l6ZV9uaWJibGUgIT0gJycpIHsKCQkJCSRt'));
	@fwrite($fp, base64_decode('YWMgPSBzdWJzdHIoJGFpZCwgc3RybGVuKCdEMjc2MDAwMTg2RjJYJyksIGhleGRlYygkc2l6ZV9uaWJibGUpICsgMSk7CgkJCQlpZiAoc3RybGVuKCRhaWQpIDw9IHN0cmxlbignRDI3NjAwMDE4NkYyWCcpICsgaGV4ZGVjKCRzaXplX25pYmJsZSkgKyAxKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkJJG1hY190eXBlID0gbWFjX3R5cGUoc3RyX3BhZCgkbWFjLCAxMiwgJzAnLCBTVFJfUEFEX1JJR0hUKSk7CgkJCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnbWFjJywgJG1hYywgJG1hY190eXBlKTsKCQkJCX0KCQkJfQoJCX0KCgkJLy8gKFZUUyBGMykg'));
	@fwrite($fp, base64_decode('VVNCLUlGIFZlbmRvcklEICsgUElYCgkJLy8gUmVzb2x2ZSBvbmx5IGlmIHRoZXJlIGlzIG5vIFBJWAoJCWlmIChzdHJfc3RhcnRzX3dpdGgoJGFpZCwnRDI3NjAwMDE4NkYzJykpIHsKCQkJJHJlc3QgPSBzdWJzdHIoJGFpZCxzdHJsZW4oJ0QyNzYwMDAxODZGMycp'));
	@fwrite($fp, base64_decode('KTsKCQkJaWYgKHN0cmxlbigkcmVzdCkgPT0gNCkgewoJCQkJJHZpZCA9ICRyZXN0OwoJCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgndXNiLXZlbmRvci1pZCcsICR2aWQsIF9MKCdVU0ItSUYgKHVzYi5vcmcpIFZlbmRvcklEJykpOwoJCQl9CgkJfQoKCQkv'));
	@fwrite($fp, base64_decode('LyAoVlRTIEY0KSBELVUtTi1TIG51bWJlciArIFBJWAoJCS8vIFJlc29sdmUgb25seSBpZiB0aGVyZSBpcyBubyBQSVgKCQlpZiAoc3RyX3N0YXJ0c193aXRoKCRhaWQsJ0QyNzYwMDAxODZGNCcpKSB7CgkJCSRyZXN0ID0gc3Vic3RyKCRhaWQsc3RybGVuKCdEMjc2'));
	@fwrite($fp, base64_decode('MDAwMTg2RjQnKSk7CgkJCSRwID0gc3RycG9zKCRyZXN0LCdGJyk7CgkJCWlmICgkcCAhPT0gZmFsc2UpIHsKCQkJCSRkdW5zID0gc3Vic3RyKCRyZXN0LDAsJHApOwoJCQkJJHBpeCA9IHN1YnN0cigkcmVzdCwkcCsxKTsKCQkJfSBlbHNlIHsKCQkJCSRkdW5zID0g'));
	@fwrite($fp, base64_decode('JHJlc3Q7CgkJCQkkcGl4ID0gJyc7CgkJCX0KCQkJaWYgKCgkcGl4ID09PSAnJykgJiYgcHJlZ19tYXRjaCgnL15bMC05XSskLycsJGR1bnMsJG0pKSB7CgkJCQkkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdkdW5zJywgJGR1bnMsIF9MKCdEYXRhIFVuaXZlcnNh'));
	@fwrite($fp, base64_decode('bCBOdW1iZXJpbmcgU3lzdGVtIChELVUtTi1TKScpKTsKCQkJfQoJCX0KCgkJLy8gKFZUUyBGNSkgR1MxIG51bWJlciArIFBJWAoJCS8vIFJlc29sdmUgb25seSBpZiB0aGVyZSBpcyBubyBQSVgKCQlpZiAoc3RyX3N0YXJ0c193aXRoKCRhaWQsJ0QyNzYwMDAxODZG'));
	@fwrite($fp, base64_decode('NScpKSB7CgkJCSRyZXN0ID0gc3Vic3RyKCRhaWQsc3RybGVuKCdEMjc2MDAwMTg2RjUnKSk7CgkJCSRwID0gc3RycG9zKCRyZXN0LCdGJyk7CgkJCWlmICgkcCAhPT0gZmFsc2UpIHsKCQkJCSRnczEgPSBzdWJzdHIoJHJlc3QsMCwkcCk7CgkJCQkkcGl4ID0gc3Vi'));
	@fwrite($fp, base64_decode('c3RyKCRyZXN0LCRwKzEpOwoJCQl9IGVsc2UgewoJCQkJJGdzMSA9ICRyZXN0OwoJCQkJJHBpeCA9ICcnOwoJCQl9CgkJCWlmICgoJHBpeCA9PT0gJycpICYmIHByZWdfbWF0Y2goJy9eWzAtOV0rJC8nLCRnczEsJG0pKSB7CgkJCQkkaWRzW10gPSBuZXcgT0lEcGx1'));
	@fwrite($fp, base64_decode('c0FsdElkKCdnczEnLCAkZ3MxLCBfTCgnR1MxIEJhc2VkIElEcyAoR0xOL0dUSU4vU1NDQy8uLi4pJyksICcgKCcuX0woJ3dpdGhvdXQgY2hlY2stZGlnaXQnKS4nKScpOwoJCQl9CgkJfQoKCQkvLyAoVlRTIEY2KSBPSUQ8LT5BSUQsIG5vIFBJWAoJCWlmIChzdHJf'));
	@fwrite($fp, base64_decode('c3RhcnRzX3dpdGgoJGFpZCwnRDI3NjAwMDE4NkY2JykpIHsKCQkJJGRlciA9IHN1YnN0cigkYWlkLHN0cmxlbignRDI3NjAwMDE4NkY2JykpOwoJCQkkbGVuID0gc3RybGVuKCRkZXIpOwoJCQlpZiAoJGxlbiUyID09IDApIHsKCQkJCSRsZW4gLz0gMjsKCQkJCSRs'));
	@fwrite($fp, base64_decode('ZW4gPSBzdHJfcGFkKCIkbGVuIiwgMiwgJzAnLCBTVFJfUEFEX0xFRlQpOwoJCQkJJHR5cGUgPSAnMDYnOyAvLyBhYnNvbHV0ZSBPSUQKCQkJCSRkZXIgPSAiJHR5cGUgJGxlbiAkZGVyIjsKCQkJCSRvaWQgPSBcT2lkRGVyQ29udmVydGVyOjpkZXJUb09JRChcT2lk'));
	@fwrite($fp, base64_decode('RGVyQ29udmVydGVyOjpoZXhTdHJUb0FycmF5KCRkZXIpKTsKCQkJCWlmICgkb2lkKSB7CgkJCQkJJG9pZCA9IGx0cmltKCRvaWQsJy4nKTsKCQkJCQkkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdvaWQnLCAkb2lkLCBfTCgnT2JqZWN0IElkZW50aWZpZXIgKE9J'));
	@fwrite($fp, base64_decode('RCknKSk7CgkJCQl9CgkJCX0KCQl9CgoJCS8vIFRoZSBjYXNlIEU4Li4uIChTdGFuZGFyZCBPSUQgMS4wKSBkb2Vzbid0IG5lZWQgdG8gYmUgYWRkcmVzc2VkIGhlcmUsIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSBzaG93biBpbiB0aGUgQUlEIGRlY29kZXIgKGFuZCBp'));
	@fwrite($fp, base64_decode('dCBpcyBhbWJpZ3VvdXMgc2luY2UgREVSIGFuZCBQSVggYXJlIG1peGVkKQoJCS8vIFRPRE86IElmIGl0IGhhcyBubyBwaXgsIHRoZW4gcmVzb2x2ZSBpdCAhISEgYnV0IGhvdyBkbyB3ZSBrbm93IGlmIHRoZXJlIGlzIGEgUElYIG9yIGEgcGFydCBJRCA/CgoJCXJl'));
	@fwrite($fp, base64_decode('dHVybiAkaWRzOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldERpcmVjdG9yeU5hbWUoKTogc3RyaW5nIHsKCQlpZiAoJHRoaXMtPmlzUm9vdCgpKSByZXR1cm4gJHRoaXMtPm5zKCk7CgkJcmV0dXJuICR0aGlzLT5u'));
	@fwrite($fp, base64_decode('cygpLidfJy4kdGhpcy0+bm9kZUlkKGZhbHNlKTsgLy8gc2FmZSwgYmVjYXVzZSB0aGVyZSBhcmUgb25seSBBSURzCgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRtb2RlCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHRy'));
	@fwrite($fp, base64_decode('ZWVJY29uRmlsZW5hbWUoc3RyaW5nICRtb2RlKTogc3RyaW5nIHsKCQlyZXR1cm4gJ2ltZy8nLiRtb2RlLidfaWNvbjE2LnBuZyc7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php');
	writefile_2();
	if (!is_file('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php') != '2cc770b2c705d5e8123b2ec3e6139531855f4581') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php') !== '2cc770b2c705d5e8123b2ec3e6139531855f4581') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php') !== '2792210e58ffc84da465d224b3c2241817a042ea') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php') !== '2cc770b2c705d5e8123b2ec3e6139531855f4581') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/aid/OIDplusAid.class.php');
		}
	}
}

// Files different: plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php
function writefile_3() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7Cgp1c2UgU3BvbWt5TGFic1xQdW55Y29kZTsKCi8vIHBocGNzOmRpc2FibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwpcZGVmaW5l'));
	@fwrite($fp, base64_decode('ZCgnSU5TSURFX09JRFBMVVMnKSBvciBkaWU7Ci8vIHBocGNzOmVuYWJsZSBQU1IxLkZpbGVzLlNpZGVFZmZlY3RzCgpjbGFzcyBPSURwbHVzRG9tYWluIGV4dGVuZHMgT0lEcGx1c09iamVjdCB7CgkvKioKCSAqIEB2YXIgc3RyaW5nCgkgKi8KCXByaXZhdGUgJGRv'));
	@fwrite($fp, base64_decode('bWFpbjsKCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGRvbWFpbgoJICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3Qoc3RyaW5nICRkb21haW4pIHsKCQkvLyBUT0RPOiBzeW50YXggY2hlY2tzCgkJJHRoaXMtPmRvbWFpbiA9ICRkb21haW47Cgl9CgoJLyoq'));
	@fwrite($fp, base64_decode('CgkgKiBAcGFyYW0gc3RyaW5nICRub2RlX2lkCgkgKiBAcmV0dXJuIE9JRHBsdXNEb21haW58bnVsbAoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHBhcnNlKHN0cmluZyAkbm9kZV9pZCkvKjogP09JRHBsdXNEb21haW4qLyB7CgkJQGxpc3QoJG5hbWVzcGFj'));
	@fwrite($fp, base64_decode('ZSwgJGRvbWFpbikgPSBleHBsb2RlKCc6JywgJG5vZGVfaWQsIDIpOwoJCWlmICgkbmFtZXNwYWNlICE9PSBzZWxmOjpucygpKSByZXR1cm4gbnVsbDsKCQlyZXR1cm4gbmV3IHNlbGYoJGRvbWFpbik7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglw'));
	@fwrite($fp, base64_decode('dWJsaWMgc3RhdGljIGZ1bmN0aW9uIG9iamVjdFR5cGVUaXRsZSgpOiBzdHJpbmcgewoJCXJldHVybiBfTCgnRG9tYWluIE5hbWVzJyk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG9iamVjdFR5cGVUaXRs'));
	@fwrite($fp, base64_decode('ZVNob3J0KCk6IHN0cmluZyB7CgkJcmV0dXJuIF9MKCdEb21haW4nKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbnMoKTogc3RyaW5nIHsKCQlyZXR1cm4gJ2RvbWFpbic7Cgl9CgoJLyoqCgkgKiBAcmV0'));
	@fwrite($fp, base64_decode('dXJuIHN0cmluZwoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJvb3QoKTogc3RyaW5nIHsKCQlyZXR1cm4gc2VsZjo6bnMoKS4nOic7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzUm9vdCgpOiBib29sIHsKCQly'));
	@fwrite($fp, base64_decode('ZXR1cm4gJHRoaXMtPmRvbWFpbiA9PSAnJzsKCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICR3aXRoX25zCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgZnVuY3Rpb24gbm9kZUlkKGJvb2wgJHdpdGhfbnM9dHJ1ZSk6IHN0cmluZyB7CgkJcmV0dXJuICR3'));
	@fwrite($fp, base64_decode('aXRoX25zID8gc2VsZjo6cm9vdCgpLiR0aGlzLT5kb21haW4gOiAkdGhpcy0+ZG9tYWluOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkc3RyCgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiBhZGRTdHJpbmcoc3RyaW5nICRzdHIpOiBzdHJpbmcgewoJCWlmICgkdGhpcy0+aXNSb290KCkpIHsKCQkJcmV0dXJuIHNlbGY6OnJvb3QoKS4kc3RyOwoJCX0gZWxzZSB7CgkJCWlmIChzdHJwb3MoJHN0ciwnLicpICE9PSBmYWxzZSkgdGhyb3cgbmV3IE9J'));
	@fwrite($fp, base64_decode('RHBsdXNFeGNlcHRpb24oX0woJ1BsZWFzZSBvbmx5IHN1Ym1pdCBvbmUgYXJjLicpKTsKCQkJcmV0dXJuIHNlbGY6OnJvb3QoKS4kc3RyLicuJy4kdGhpcy0+bm9kZUlkKGZhbHNlKTsKCQl9Cgl9CgoJLyoqCgkgKiBAcGFyYW0gT0lEcGx1c09iamVjdCAkcGFyZW50'));
	@fwrite($fp, base64_decode('CgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgZnVuY3Rpb24gY3J1ZFNob3dJZChPSURwbHVzT2JqZWN0ICRwYXJlbnQpOiBzdHJpbmcgewoJCXJldHVybiAkdGhpcy0+ZG9tYWluOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3Mg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gY3J1ZEluc2VydFN1ZmZpeCgpOiBzdHJpbmcgewoJCXJldHVybiAkdGhpcy0+aXNSb290KCkgPyAnJyA6IHN1YnN0cigkdGhpcy0+YWRkU3RyaW5nKCcnKSwgc3RybGVuKHNlbGY6Om5zKCkpKzEp'));
	@fwrite($fp, base64_decode('OwoJfQoKCS8qKgoJICogQHBhcmFtIE9JRHBsdXNPYmplY3R8bnVsbCAkcGFyZW50CgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgZnVuY3Rpb24ganNUcmVlTm9kZU5hbWUoT0lEcGx1c09iamVjdCAkcGFyZW50ID0gbnVsbCk6IHN0cmluZyB7CgkJaWYg'));
	@fwrite($fp, base64_decode('KCRwYXJlbnQgPT0gbnVsbCkgcmV0dXJuICR0aGlzLT5vYmplY3RUeXBlVGl0bGUoKTsKCQlyZXR1cm4gJHRoaXMtPmRvbWFpbjsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWZhdWx0VGl0bGUoKTogc3RyaW5nIHsK'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gJHRoaXMtPmRvbWFpbjsKCX0KCgkvKioKCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gaXNMZWFmTm9kZSgpOiBib29sIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZ1tdCgkgKiBAdGhyb3dz'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRUZWNoSW5mbygpOiBhcnJheSB7CgkJJHRlY2hfaW5mbyA9IGFycmF5KCk7CgoJCSRkbnMgPSAkdGhpcy0+bm9kZUlkKGZhbHNlKTsKCQkkcHVueWNvZGUgPSBQdW55Y29kZTo6ZW5jb2Rl'));
	@fwrite($fp, base64_decode('KCRkbnMpOwoKCQkvLyBNb3JlIGluZm9ybWF0aW4gYWJvdXQgdGhlIHRocmVlIGZvcm1hdHMsIHNlZSBSRkMgODQ5OQoKCQkvLyAtIGNvbW1vbiAod3d3LmV4YW1wbGUuY29tKSA8PT0gd2UgaGF2ZSB0aGlzIG5hdGl2ZWx5CgkJaWYgKCRkbnMgIT0gJHB1bnljb2Rl'));
	@fwrite($fp, base64_decode('KSB7CgkJCSR0bXAgPSBfTCgnQ29tbW9uIGRpc3BsYXkgKElETiknKTsKCQkJJHRlY2hfaW5mb1skdG1wXSA9ICRkbnM7CgkJCSR0bXAgPSBfTCgnQ29tbW9uIGRpc3BsYXkgKFB1bnljb2RlKScpOwoJCQkkdGVjaF9pbmZvWyR0bXBdID0gJHB1bnljb2RlOwoJCX0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7CgkJCSR0bXAgPSBfTCgnQ29tbW9uIGRpc3BsYXknKTsKCQkJJHRlY2hfaW5mb1skdG1wXSA9ICRwdW55Y29kZTsKCQl9CgoJCS8vIC0gcHJlc2VudGF0aW9uICh3d3cuZXhhbXBsZS5jb20uKQoJCSR0bXAgPSBfTCgnUHJlc2VudGF0aW9uIGZvcm1hdCcp'));
	@fwrite($fp, base64_decode('OwoJCSR0ZWNoX2luZm9bJHRtcF0gPSAkcHVueWNvZGUuJy4nOwoKCQkvLyAtIHdpcmUgZm9ybWF0ICgzd3d3N2V4YW1wbGUzY29tMCwgYnV0IGFjdHVhbGx5LCB0aGUgbnVtYmVycyBhcmUgb2N0ZXRzIChiaW5hcnkpLCBub3QgZGVjaW1hbCkKCQkkYnl0ZXMgPSBb'));
	@fwrite($fp, base64_decode('XTsKCQkkYXJ5ID0gZXhwbG9kZSgnLicsICRwdW55Y29kZS4nLicpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIHsKCQkJJGJ5dGVzW10gPSBzdHJsZW4oJGEpOwoJCQlmb3IgKCRpPTA7ICRpPHN0cmxlbigkYSk7ICRpKyspIHsKCQkJCSRieXRlc1tdID0gb3JkKCRh'));
	@fwrite($fp, base64_decode('WyRpXSk7CgkJCX0KCQl9CgkJJHdpcmVmb3JtYXQgPSBjX2xpdGVyYWwoJGJ5dGVzKTsKCQkjIFRPRE86IGFtIGJlc3RlbiBmYXJibWFya2llcnVuZyBpbm5lcmhhbGIgY19saXRlcmFsX21hY2hlbiA/IG1pdCA8YWJicj4gdW5kIGRhbm4gPGFiYnI+IGlyZ2VuZHdp'));
	@fwrite($fp, base64_decode('ZSBiZWhhbmRlbG4/CgkJJHdpcmVmb3JtYXQgPSBwcmVnX3JlcGxhY2UoJ0AoXFxcXFxcZHszfSlAaScsICc8c3BhbiBjbGFzcz0iZG5zX3dpcmVmb3JtYXRfc3BlY2lhbGhleGNoYXIiPlxcMTwvc3Bhbj4nLCAkd2lyZWZvcm1hdCk7CgkJJHdpcmVmb3JtYXQgPSBw'));
	@fwrite($fp, base64_decode('cmVnX3JlcGxhY2UoJ0AoXFxcXHhbMC05QS1GYS1mXXsyfSlAaScsICc8c3BhbiBjbGFzcz0iZG5zX3dpcmVmb3JtYXRfc3BlY2lhbGhleGNoYXIiPlxcMTwvc3Bhbj4nLCAkd2lyZWZvcm1hdCk7CgkJJHRtcCA9IF9MKCdXaXJlIGZvcm1hdCcpOwoJCSR0ZWNoX2lu'));
	@fwrite($fp, base64_decode('Zm9bJHRtcF0gPSAkd2lyZWZvcm1hdDsKCgkJcmV0dXJuICR0ZWNoX2luZm87Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICR0aXRsZQoJICogQHBhcmFtIHN0cmluZyAkY29udGVudAoJICogQHBhcmFtIHN0cmluZyAkaWNvbgoJICogQHJldHVybiB2b2lkCgkg'));
	@fwrite($fp, base64_decode('KiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldENvbnRlbnRQYWdlKHN0cmluZyAmJHRpdGxlLCBzdHJpbmcgJiRjb250ZW50LCBzdHJpbmcgJiRpY29uKSB7CgkJJGljb24gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaW1n'));
	@fwrite($fp, base64_decode('L21haW5faWNvbi5wbmcnKSA/IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXyxPSURwbHVzOjpQQVRIX1JFTEFUSVZFKS4naW1nL21haW5faWNvbi5wbmcnIDogJyc7CgoJCWlmICgkdGhpcy0+aXNSb290KCkpIHsKCQkJJHRpdGxlID0gT0lEcGx1c0RvbWFpbjo6b2Jq'));
	@fwrite($fp, base64_decode('ZWN0VHlwZVRpdGxlKCk7CgoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IiwgYXJyYXkoc2VsZjo6cm9vdCgpKSk7CgkJCWlmICgkcmVzLT5hbnkoKSkgewoJCQkJJGNvbnRlbnQg'));
	@fwrite($fp, base64_decode('ID0gJzxwPicuX0woJ1BsZWFzZSBzZWxlY3QgYSBEb21haW4gTmFtZSBpbiB0aGUgdHJlZSB2aWV3IGF0IHRoZSBsZWZ0IHRvIHNob3cgaXRzIGNvbnRlbnRzLicpLic8L3A+JzsKCQkJfSBlbHNlIHsKCQkJCSRjb250ZW50ICA9ICc8cD4nLl9MKCdDdXJyZW50bHks'));
	@fwrite($fp, base64_decode('IG5vIERvbWFpbiBOYW1lIGlzIHJlZ2lzdGVyZWQgaW4gdGhlIHN5c3RlbS4nKS4nPC9wPic7CgkJCX0KCgkJCWlmICghJHRoaXMtPmlzTGVhZk5vZGUoKSkgewoJCQkJaWYgKE9JRHBsdXM6OmF1dGhVdGlscygpLT5pc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkJCSRj'));
	@fwrite($fp, base64_decode('b250ZW50IC49ICc8aDI+Jy5fTCgnTWFuYWdlIHJvb3Qgb2JqZWN0cycpLic8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnQXZhaWxhYmxlIG9iamVjdHMnKS4nPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0gJyUlQ1JV'));
	@fwrite($fp, base64_decode('RCUlJzsKCQkJfQoJCX0gZWxzZSB7CgkJCSR0aXRsZSA9ICR0aGlzLT5nZXRUaXRsZSgpOwoKCQkJJHRlY2hfaW5mbyA9ICR0aGlzLT5nZXRUZWNoSW5mbygpOwoJCQkkdGVjaF9pbmZvX2h0bWwgPSAnJzsKCQkJaWYgKGNvdW50KCR0ZWNoX2luZm8pID4gMCkgewoJ'));
	@fwrite($fp, base64_decode('CQkJJHRlY2hfaW5mb19odG1sIC49ICc8aDI+Jy5fTCgnVGVjaG5pY2FsIGluZm9ybWF0aW9uJykuJzwvaDI+JzsKCQkJCSR0ZWNoX2luZm9faHRtbCAuPSAnPGRpdiBzdHlsZT0ib3ZlcmZsb3c6YXV0byI+PHRhYmxlIGJvcmRlcj0iMCI+JzsKCQkJCWZvcmVhY2gg'));
	@fwrite($fp, base64_decode('KCR0ZWNoX2luZm8gYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCQkkdGVjaF9pbmZvX2h0bWwgLj0gJzx0cj48dGQgdmFsaWduPSJ0b3AiIHN0eWxlPSJ3aGl0ZS1zcGFjZTogbm93cmFwOyI+Jy4ka2V5Lic6IDwvdGQ+PHRkPjxjb2RlPicuJHZhbHVlLic8L2NvZGU+'));
	@fwrite($fp, base64_decode('PC90ZD48L3RyPic7CgkJCQl9CgkJCQkkdGVjaF9pbmZvX2h0bWwgLj0gJzwvdGFibGU+PC9kaXY+JzsKCQkJfQoKCQkJLy8gJGNvbnRlbnQgPSAnPGgzPicuZXhwbG9kZSgnOicsJHRoaXMtPm5vZGVJZCgpKVsxXS4nPC9oMz4nOwoJCQkkY29udGVudCA9ICR0ZWNo'));
	@fwrite($fp, base64_decode('X2luZm9faHRtbDsKCgkJCSRjb250ZW50IC49ICc8aDI+Jy5fTCgnRGVzY3JpcHRpb24nKS4nPC9oMj4lJURFU0MlJSc7IC8vIFRPRE86IGFkZCBtb3JlIG1ldGEgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9iamVjdCB0eXBlCgoJCQlpZiAoISR0aGlzLT5pc0xlYWZO'));
	@fwrite($fp, base64_decode('b2RlKCkpIHsKCQkJCWlmICgkdGhpcy0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPicuX0woJ0NyZWF0ZSBvciBjaGFuZ2Ugc3Vib3JkaW5hdGUgb2JqZWN0cycpLic8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50'));
	@fwrite($fp, base64_decode('IC49ICc8aDI+Jy5fTCgnU3Vib3JkaW5hdGUgb2JqZWN0cycpLic8L2gyPic7CgkJCQl9CgkJCQkkY29udGVudCAuPSAnJSVDUlVEJSUnOwoJCQl9CgkJfQoJfQoKCS8qKgoJICogQHJldHVybiBPSURwbHVzRG9tYWlufG51bGwKCSAqLwoJcHVibGljIGZ1bmN0aW9u'));
	@fwrite($fp, base64_decode('IG9uZV91cCgpLyo6ID9PSURwbHVzRG9tYWluKi8gewoJCSRvaWQgPSAkdGhpcy0+ZG9tYWluOwoKCQkkcCA9IHN0cnBvcygkb2lkLCAnLicpOwoJCWlmICgkcCA9PT0gZmFsc2UpIHJldHVybiBzZWxmOjpwYXJzZSgnJyk7CgoJCSRvaWRfdXAgPSBzdWJzdHIoJG9p'));
	@fwrite($fp, base64_decode('ZCwgJHArMSk7CgoJCXJldHVybiBzZWxmOjpwYXJzZShzZWxmOjpucygpLic6Jy4kb2lkX3VwKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBPSURwbHVzT2JqZWN0fHN0cmluZyAkdG8KCSAqIEByZXR1cm4gaW50fG51bGwKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGRpc3Rh'));
	@fwrite($fp, base64_decode('bmNlKCR0bykgewoJCWlmICghaXNfb2JqZWN0KCR0bykpICR0byA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCR0byk7CgkJaWYgKCEkdG8pIHJldHVybiBudWxsOwoJCWlmICghKCR0byBpbnN0YW5jZW9mICR0aGlzKSkgcmV0dXJuIG51bGw7CgoJCSRhID0gJHRvLT5k'));
	@fwrite($fp, base64_decode('b21haW47CgkJJGIgPSAkdGhpcy0+ZG9tYWluOwoKCQlpZiAoc3Vic3RyKCRhLC0xKSA9PSAnLicpICRhID0gc3Vic3RyKCRhLDAsc3RybGVuKCRhKS0xKTsKCQlpZiAoc3Vic3RyKCRiLC0xKSA9PSAnLicpICRiID0gc3Vic3RyKCRiLDAsc3RybGVuKCRiKS0xKTsK'));
	@fwrite($fp, base64_decode('CgkJJGFyeSA9IGV4cGxvZGUoJy4nLCAkYSk7CgkJJGJyeSA9IGV4cGxvZGUoJy4nLCAkYik7CgoJCSRhcnkgPSBhcnJheV9yZXZlcnNlKCRhcnkpOwoJCSRicnkgPSBhcnJheV9yZXZlcnNlKCRicnkpOwoKCQkkbWluX2xlbiA9IG1pbihjb3VudCgkYXJ5KSwgY291'));
	@fwrite($fp, base64_decode('bnQoJGJyeSkpOwoKCQlmb3IgKCRpPTA7ICRpPCRtaW5fbGVuOyAkaSsrKSB7CgkJCWlmICgkYXJ5WyRpXSAhPSAkYnJ5WyRpXSkgcmV0dXJuIG51bGw7CgkJfQoKCQlyZXR1cm4gY291bnQoJGFyeSkgLSBjb3VudCgkYnJ5KTsKCX0KCgkvKioKCSAqIEByZXR1cm4g'));
	@fwrite($fp, base64_decode('T0lEcGx1c0FsdElkW10KCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0QWx0SWRzKCk6IGFycmF5IHsKCQlpZiAoJHRoaXMtPmlzUm9vdCgpKSByZXR1cm4gYXJyYXkoKTsKCQkkaWRzID0gcGFyZW50OjpnZXRBbHRJ'));
	@fwrite($fp, base64_decode('ZHMoKTsKCgkJLy8gTm90ZTogVGhlIHBheWxvYWQgZm9yIHRoZSBuYW1lYmFzZWQgVVVJRCBjYW4gYmUgYW55IG5vdGF0aW9uOgoJCS8vIC0gY29tbW9uIGRpc3BsYXkgKHd3dy5leGFtcGxlLmNvbSkgPD09IHdlIHVzZSB0aGlzCgkJLy8gLSBwcmVzZW50YXRpb24g'));
	@fwrite($fp, base64_decode('Zm9ybWF0ICh3d3cuZXhhbXBsZS5jb20uKQoJCS8vIC0gd2lyZSBmb3JtYXQgZm9ybWF0ICgzd3d3N2V4YW1wbGUzY29tMCwgYWN0dWFsbHkgY29udGFpbnMgb2N0ZXRzLCBub3QgZGVjaW1hbHMhKQoJCS8vIE1vcmUgaW5mb3JtYXRpbiBhYm91dCB0aGUgdGhyZWUg'));
	@fwrite($fp, base64_decode('Zm9ybWF0cywgc2VlIFJGQyA4NDk5CgkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnZ3VpZCcsIGdlbl91dWlkX21kNV9uYW1lYmFzZWQoVVVJRF9OQU1FQkFTRURfTlNfRE5TLCAkdGhpcy0+bm9kZUlkKGZhbHNlKSksIF9MKCdOYW1lIGJhc2VkIHZlcnNpb24g'));
	@fwrite($fp, base64_decode('MyAvIE1ENSBVVUlEIHdpdGggbmFtZXNwYWNlICUxJywnVVVJRF9OQU1FQkFTRURfTlNfRE5TJykpOwoJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2d1aWQnLCBnZW5fdXVpZF9zaGExX25hbWViYXNlZChVVUlEX05BTUVCQVNFRF9OU19ETlMsICR0aGlzLT5u'));
	@fwrite($fp, base64_decode('b2RlSWQoZmFsc2UpKSwgX0woJ05hbWUgYmFzZWQgdmVyc2lvbiA1IC8gU0hBMSBVVUlEIHdpdGggbmFtZXNwYWNlICUxJywnVVVJRF9OQU1FQkFTRURfTlNfRE5TJykpOwoKCQlyZXR1cm4gJGlkczsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1'));
	@fwrite($fp, base64_decode('YmxpYyBmdW5jdGlvbiBnZXREaXJlY3RvcnlOYW1lKCk6IHN0cmluZyB7CgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgcmV0dXJuICR0aGlzLT5ucygpOwoJCXJldHVybiAkdGhpcy0+bnMoKS4nXycubWQ1KCR0aGlzLT5ub2RlSWQoZmFsc2UpKTsKCX0KCgkvKioKCSAq'));
	@fwrite($fp, base64_decode('IEBwYXJhbSBzdHJpbmcgJG1vZGUKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gdHJlZUljb25GaWxlbmFtZShzdHJpbmcgJG1vZGUpOiBzdHJpbmcgewoJCXJldHVybiAnaW1nLycuJG1vZGUuJ19pY29uMTYucG5nJzsKCX0K'));
	@fwrite($fp, base64_decode('fQo='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php');
	writefile_3();
	if (!is_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php') != '6685e83a183d01ca9c1a41e5e7318f4773bb54d4') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php') !== '6685e83a183d01ca9c1a41e5e7318f4773bb54d4') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php') !== '6795420cb3ed55fac291b17594793cd8960dacb8') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php') !== '6685e83a183d01ca9c1a41e5e7318f4773bb54d4') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/domain/OIDplusDomain.class.php');
		}
	}
}

// Files different: plugins/viathinksoft/objectTypes/domain/manifest.xml
function writefile_4() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/domain/manifest.xml', 'w');
	@fwrite($fp, base64_decode('PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyIgPz4NCjxtYW5pZmVzdA0KCXhtbG5zPSJ1cm46b2lkOjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjUuMTAuMSIgDQoJeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8y'));
	@fwrite($fp, base64_decode('MDAxL1hNTFNjaGVtYS1pbnN0YW5jZSINCgl4c2k6c2NoZW1hTG9jYXRpb249InVybjpvaWQ6MS4zLjYuMS40LjEuMzc0NzYuMi41LjIuNS4xMC4xIGh0dHBzOi8vb2lkcGx1cy52aWF0aGlua3NvZnQuY29tL29pZHBsdXMvcGx1Z2lucy9tYW5pZmVzdF9wbHVnaW5f'));
	@fwrite($fp, base64_decode('b2JqZWN0VHlwZXMueHNkIj4NCg0KCTx0eXBlPlZpYVRoaW5rU29mdFxPSURwbHVzXE9JRHBsdXNPYmplY3RUeXBlUGx1Z2luPC90eXBlPg0KDQoJPGluZm8+DQoJCTxuYW1lPkRvbWFpbiBOYW1lczwvbmFtZT4NCgkJPGF1dGhvcj5WaWFUaGlua1NvZnQ8L2F1dGhv'));
	@fwrite($fp, base64_decode('cj4NCgkJPGxpY2Vuc2U+QXBhY2hlIDIuMDwvbGljZW5zZT4NCgkJPHZlcnNpb24gLz4NCgkJPGRlc2NyaXB0aW9uSFRNTCAvPg0KCQk8b2lkPjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjQuOC45PC9vaWQ+DQoJPC9pbmZvPg0KDQoJPHBocD4NCgkJPG1haW5jbGFz'));
	@fwrite($fp, base64_decode('cz5WaWFUaGlua1NvZnRcT0lEcGx1c1xPSURwbHVzT2JqZWN0VHlwZVBsdWdpbkRvbWFpbjwvbWFpbmNsYXNzPg0KCTwvcGhwPg0KDQoJPGNzcz4NCgkJPGZpbGU+T0lEcGx1c0RvbWFpbi5jc3M8L2ZpbGU+DQoJPC9jc3M+DQoJDQo8L21hbmlmZXN0Pg0K'));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/domain/manifest.xml')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/domain/manifest.xml');
	writefile_4();
	if (!is_file('plugins/viathinksoft/objectTypes/domain/manifest.xml')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/domain/manifest.xml');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/domain/manifest.xml') != '0cb70d87167e9e8cbf9318d6ad4b2a9904c3cfc2') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/domain/manifest.xml');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/domain/manifest.xml', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/domain/manifest.xml');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/domain/manifest.xml') !== '0cb70d87167e9e8cbf9318d6ad4b2a9904c3cfc2') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/domain/manifest.xml') !== '8bf5d5afbec8125f827f957e3f160d59c4ae9dbc') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/domain/manifest.xml');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/domain/manifest.xml');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/domain/manifest.xml')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/domain/manifest.xml', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/viathinksoft/objectTypes/domain/manifest.xml') !== '0cb70d87167e9e8cbf9318d6ad4b2a9904c3cfc2') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/domain/manifest.xml');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1420\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1420') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

