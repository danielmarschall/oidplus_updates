<?php /* <ViaThinkSoftSignature>
AJhiEIoCcfpEA9KdVs+qfTbj38NBnbxsF2HXRKa+iGwdwvuFMWUjt5X3Pu84ZoWJr
RPldlvfcv9ibZz6dAp1sm8lybtNLFFqozzQn1cev2RD6CCDsfp7IVLwyJXVDLoOks
dU4HLOPpt++huVRm0b3gRmRjFcEa7ILsi0ZITfAIGzQPfz6mYQYfAPWIuvYpbxxck
BwBSFie1wrb4dTIs6wuL45PkEa5lswv6kuNdZwLX8aD+TFfJfFZ/eOjp5ERzbzQzi
S87oo2oSi1TFVaYScBGohxj/jOI3jTCXxdiLiOYzrX54UsRoMD+sSWyCSd2xR59tO
IKi5oIq9CpEDoD8+lK7teKbdvSYsIo6J/AFm3E/izos5/Fb50l96r5Smi28qEfXnA
oHbf5fMWikLts+iKWoelVJuKcoNAzpJXfs31BsiWrfVEuNeTH1VX14wQDN/kHqEiU
/eTzG6hVLFbTITUn9778MHX2fnL8uz5i7+iUWL1xP/r89xd9Q4kC0T9hvdka7/fu6
3xZJiK3Ztd18T5hFEyDEQHbkdy+LM2t4/HRMDiYE8lCDJwSteOiPpibkuVCpIH/ir
iEpNbY+bGvQRFTQ7/RJCvjbbejjcBeCmUo4URhoRm1PFiS1zaTVbLP2U3MWZaT18Y
fpZKK7QVChlhtEBqTYu1mpvHSHEPimUD4/kgD2cHMUjtRSzqt2pYszxfLr+LRddS9
p8/ZU6rc3ATF8X4tq1f7u5+U0Xr1YK51xACOdBGezF66huqbSIoc3KYEYbLDEMl2D
c3nESKD3s0qBXl/mlH/pwQMTb/bcBDOTXOo/r7Bh/pcaMmn9egXq0cw0BBYxTo+2Z
Rrpylzd6QI7mtPtiDlVy9hpd2WEEnvvNb539IqlqMXvprYGNvIMBjErW6P4+RYS4d
bPM/SlGU0DoGoABIjzz4ptK1OedzIezCJFftcuzW3HFO3PVpfMS4w3UrI8weXsIBr
3fadzFLXLKW9KZoQMVgr+5UeKqJmQX2Kk1UGvSwaSzrLqoF/LtCtDXypDoAaoE8KC
iGZH7ao2l9aYElmgBn9sY1wkFTh+vWVZLowq5nY7uwxejVi1jzS4IDv+lnyp3hgFq
C4UESoIRpd0iq/oMLAu4d4EvtRqBf/nuUWBkrnwQWfy006zqRcqZJEouJplKYDNmR
9ElG2dApnnjEG5Z2v1C4m/VD4CIaCA4qgphoYMLBdRwY2Dcot85tqJx3f1Rc5QpVe
F+RH2vDbh31tcCNc005Pi/kFVc434OfuQQxrIVji7YTMgojTDlgZ20J7swCfUIWoG
nGO0aDbZa2kCIgjWDVZo8tgWpA07HW/5Q6BuggDbRsxWDmbyGHSf2M1N54/ooIUD3
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 153') {
	err('This update can only be applied to OIDplus version 2.0.0.153!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: oidplus.js
function writefile_1() {
	@$fp = fopen('oidplus.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgovLyAkKCcjaHRtbCcpLmpzdHJlZSgpOwoKY3VycmVudF9ub2RlID0gIiI7CnBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKClN0cmluZy5wcm90b3R5cGUuZXhwbG9k'));
	@fwrite($fp, base64_decode('ZSA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7CgkvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80NTE0MzIzL2phdmFzY3JpcHQtZXF1aXZhbGVudC10by1waHAtZXhwbG9kZQoJY29uc3QgYXJyYXkgPSB0aGlzLnNwbGl0KHNlcGFy'));
	@fwrite($fp, base64_decode('YXRvcik7CglpZiAobGltaXQgIT09IHVuZGVmaW5lZCAmJiBhcnJheS5sZW5ndGggPj0gbGltaXQpIHsKCQlhcnJheS5wdXNoKGFycmF5LnNwbGljZShsaW1pdCAtIDEpLmpvaW4oc2VwYXJhdG9yKSk7Cgl9CglyZXR1cm4gYXJyYXk7Cn07CgpTdHJpbmcucHJvdG90'));
	@fwrite($fp, base64_decode('eXBlLmh0bWxlbnRpdGllcyA9IGZ1bmN0aW9uICgpIHsKCXJldHVybiB0aGlzLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKfTsKClN0cmluZy5w'));
	@fwrite($fp, base64_decode('cm90b3R5cGUuaHRtbF9lbnRpdHlfZGVjb2RlID0gZnVuY3Rpb24gKCkgewoJcmV0dXJuICQoJzx0ZXh0YXJlYSAvPicpLmh0bWwodGhpcykudGV4dCgpOwp9OwoKZnVuY3Rpb24gZ2V0TWV0YShtZXRhTmFtZSkgewoJY29uc3QgbWV0YXMgPSBkb2N1bWVudC5nZXRF'));
	@fwrite($fp, base64_decode('bGVtZW50c0J5VGFnTmFtZSgnbWV0YScpOwoKCWZvciAobGV0IGkgPSAwOyBpIDwgbWV0YXMubGVuZ3RoOyBpKyspIHsKCQlpZiAobWV0YXNbaV0uZ2V0QXR0cmlidXRlKCduYW1lJykgPT09IG1ldGFOYW1lKSB7CgkJCXJldHVybiBtZXRhc1tpXS5nZXRBdHRyaWJ1'));
	@fwrite($fp, base64_decode('dGUoJ2NvbnRlbnQnKTsKCQl9Cgl9CgoJcmV0dXJuICcnOwp9CgpmdW5jdGlvbiBnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSB7CglyZXR1cm4gZ2V0TWV0YSgnT0lEcGx1cy1TeXN0ZW1UaXRsZScpCn0KCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3Bh'));
	@fwrite($fp, base64_decode('Z2V0aXRsZShzeXN0ZW10aXRsZSwgcGFnZXRpdGxlKSB7CglpZiAoc3lzdGVtdGl0bGUgPT0gcGFnZXRpdGxlKSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlOwoJfSBlbHNlIHsKCQlyZXR1cm4gc3lzdGVtdGl0bGUgKyAnIC0gJyArIHBhZ2V0aXRsZTsKCX0KfQoKZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gZ2V0VHJlZUxvYWRVUkwoKSB7Cgl2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7Cgl2YXIgZ290byA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJnb3RvIik7CglyZXR1cm4gKGdvdG8gIT0gbnVsbCkgPyAiYWpheC5waHA/YWN0aW9u'));
	@fwrite($fp, base64_decode('PXRyZWVfbG9hZCZnb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pCgkgICAgICAgICAgICAgICAgICAgICAgOiAiYWpheC5waHA/YWN0aW9uPXRyZWVfbG9hZCI7Cn0KCmZ1bmN0aW9uIHJlbG9hZENvbnRlbnQoKSB7CgkvLyB3aW5kb3cubG9jYXRpb24uaHJl'));
	@fwrite($fp, base64_decode('ZiA9ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50X25vZGUpOwoJb3Blbk9pZEluUGFuZWwoY3VycmVudF9ub2RlLCBmYWxzZSk7CgkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwp9CgpmdW5jdGlvbiB4X3JlYyh4X2RhdGEsIGkpIHsK'));
	@fwrite($fp, base64_decode('CSQoJyNvaWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUnLCB4X2RhdGFbaV0sIGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQlpZiAoaSsxIDwgeF9kYXRhLmxlbmd0aCkgewoJCQl4X3JlYyh4X2RhdGEsIGkrMSk7CgkJfSBlbHNlIHsKCQkJcG9wc3RhdGVfcnVubmluZyA9'));
	@fwrite($fp, base64_decode('IHRydWU7IC8vIGRvbid0IGNhbGwgb3Blbk9pZEluUGFuZWwgYWdhaW4KCQkJdHJ5IHsKCQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIHhfZGF0YVtpXSk7CgkJCX0gY2F0Y2ggKGVycikgewoJCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNl'));
	@fwrite($fp, base64_decode('OwoJCQl9IGZpbmFsbHkgewoJCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIG9wZW5PaWRJblBhbmVsKGlkLCByZXNlbGVjdC8qPWZhbHNlKi8pIHsKCXJlc2VsZWN0ID0gKHR5cGVvZiByZXNlbGVjdCA9PT0gJ3Vu'));
	@fwrite($fp, base64_decode('ZGVmaW5lZCcpID8gZmFsc2UgOiByZXNlbGVjdDsKCglpZiAocmVzZWxlY3QpIHsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJyk7CgoJCXBvcHN0YXRlX3J1bm5pbmcgPSB0cnVlOyAvLyBkb24ndCBjYWxsIG9wZW5PaWRJblBhbmVsIGR1cmlu'));
	@fwrite($fp, base64_decode('ZyB0cmVlIHNlbGVjdGlvbgoJCXRyeSB7CgkJCS8vIElmIHRoZSBub2RlIGlzIGFscmVhZHkgbG9hZGVkIGluIHRoZSB0cmVlLCBzZWxlY3QgaXQKCQkJaWYgKCEkKCcjb2lkdHJlZScpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBpZCkpIHsKCQkJCS8vIElmIHRoZSBu'));
	@fwrite($fp, base64_decode('b2RlIGlzIG5vdCBsb2FkZWQsIHRoZW4gd2UgdHJ5IHRvIHNlYXJjaCBpdC4KCQkJCS8vIElmIGl0IGNhbiBiZSBmb3VuZCwgdGhlbiBvcGVuIGFsbCBwYXJlbnQgbm9kZXMgYW5kIHNlbGVjdCB0aGUgbm9kZQoJCQkJJC5hamF4KHsKCQkJCQl1cmw6ImFqYXgucGhw'));
	@fwrite($fp, base64_decode('IiwKCQkJCQltZXRob2Q6IlBPU1QiLAoJCQkJCWRhdGE6ewoJCQkJCQlhY3Rpb246InRyZWVfc2VhcmNoIiwKCQkJCQkJc2VhcmNoOmlkCgkJCQkJfSwKCQkJCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJCQkJY29u'));
	@fwrite($fp, base64_decode('c29sZS5lcnJvcigiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJCQkJfSwKCQkJCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJCQkJY29uc29sZS5lcnJvcihkYXRhKTsKCQkJCQkJfSBlbHNlIGlmICgo'));
	@fwrite($fp, base64_decode('ZGF0YSBpbnN0YW5jZW9mIEFycmF5KSAmJiAoZGF0YS5sZW5ndGggPiAwKSkgewoJCQkJCQkJeF9yZWMoZGF0YSwgMCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQljb25zb2xlLmVycm9yKGRhdGEpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSk7CgkJCX0KCQl9IGNhdGNo'));
	@fwrite($fp, base64_decode('IChlcnIpIHsKCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJCX0gZmluYWxseSB7CgkJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCQl9Cgl9CgoJLy8gVGhpcyBsb2FkcyB0aGUgYWN0dWFsIGNvbnRlbnQKCglkb2N1bWVudC50aXRsZSA9ICIiOwoJJCgn'));
	@fwrite($fp, base64_decode('I3JlYWxfdGl0bGUnKS5odG1sKCImbmJzcDsiKTsKCSQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKCJMb2FkaW5nLi4uIik7CgkkKCcjc3RhdGljX2xpbmsnKS5hdHRyKCJocmVmIiwgImluZGV4LnBocD9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSk7CgoJLy8g'));
	@fwrite($fp, base64_decode('Tm9ybWFsIG9wZW5pbmcgb2YgYSBkZXNjcmlwdGlvbgoJZmV0Y2goJ2FqYXgucGhwP2FjdGlvbj1nZXRfZGVzY3JpcHRpb24maWQ9JytlbmNvZGVVUklDb21wb25lbnQoaWQpKQoJLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQlyZXNwb25zZS5qc29uKCkKCQku'));
	@fwrite($fp, base64_decode('dGhlbihmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJGYWlsZWQgdG8gbG9hZCBjb250ZW50OiAiICsgZGF0YS5lcnJvcik7CgkJCQljb25zb2xlLmVycm9yKGRhdGEuZXJyb3IpOwoJCQkJcmV0dXJuOwoJCQl9CgoJ'));
	@fwrite($fp, base64_decode('CQlkYXRhLmlkID0gaWQ7CgoJCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSwgZGF0YS50aXRsZSk7CgkJCXZhciBzdGF0ZSA9IHsKCQkJCSJub2RlX2lkIjppZCwKCQkJCSJ0'));
	@fwrite($fp, base64_decode('aXRsZUhUTUwiOihkYXRhLmljb24gPyAnPGltZyBzcmM9IicrZGF0YS5pY29uKyciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSInK2RhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkrJyI+ICcgOiAnJykgKyBkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpLAoJCQkJ'));
	@fwrite($fp, base64_decode('InRleHRIVE1MIjpkYXRhLnRleHQsCgkJCQkic3RhdGljbGlua0hSRUYiOiJpbmRleC5waHA/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCksCgkJCX07CgkJCWlmIChjdXJyZW50X25vZGUgIT0gaWQpIHsKCQkJCXdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShz'));
	@fwrite($fp, base64_decode('dGF0ZSwgZGF0YS50aXRsZSwgIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSk7CgkJCX0gZWxzZSB7CgkJCQl3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIGRhdGEudGl0bGUsICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCkpOwoJ'));
	@fwrite($fp, base64_decode('CQl9CgoJCQlpZiAoZGF0YS5pY29uKSB7CgkJCQkkKCcjcmVhbF90aXRsZScpLmh0bWwoJzxpbWcgc3JjPSInK2RhdGEuaWNvbisnIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFsdD0iJytkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKyciPiAnICsgZGF0YS50aXRs'));
	@fwrite($fp, base64_decode('ZS5odG1sZW50aXRpZXMoKSk7CgkJCX0gZWxzZSB7CgkJCQkkKCcjcmVhbF90aXRsZScpLmh0bWwoZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSk7CgkJCX0KCQkJJCgnI3JlYWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0KTsKCQkJZG9jdW1lbnQudGl0bGUgPSBj'));
	@fwrite($fp, base64_decode('b21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoZ2V0T2lkUGx1c1N5c3RlbVRpdGxlKCksIGRhdGEudGl0bGUpOwoJCQljdXJyZW50X25vZGUgPSBpZDsKCQl9KQoJCS5jYXRjaChmdW5jdGlvbihlcnJvcikgewoJCQlhbGVydCgiRmFpbGVkIHRvIGxvYWQg'));
	@fwrite($fp, base64_decode('Y29udGVudDogIiArIGVycm9yKTsKCQkJY29uc29sZS5lcnJvcihlcnJvcik7CgkJfSk7Cgl9KQoJLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7CgkJYWxlcnQoIkZhaWxlZCB0byBsb2FkIGNvbnRlbnQ6ICIgKyBlcnJvcik7CgkJY29uc29sZS5lcnJvcihlcnJvcik7'));
	@fwrite($fp, base64_decode('Cgl9KTsKfQoKZnVuY3Rpb24gdXBkYXRlRGVzYygpIHsKCSQuYWpheCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiVXBkYXRlMiIsCgkJCWlkOmN1cnJlbnRfbm9kZSwKCQkJdGl0bGU6KGRvY3VtZW50Lmdl'));
	@fwrite($fp, base64_decode('dEVsZW1lbnRCeUlkKCd0aXRsZWVkaXQnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZWVkaXQnKS52YWx1ZSA6IG51bGwpLAoJCQkvL2Rlc2NyaXB0aW9uOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKSA/IGRvY3VtZW50Lmdl'));
	@fwrite($fp, base64_decode('dEVsZW1lbnRCeUlkKCdkZXNjcmlwdGlvbicpLnZhbHVlIDogbnVsbCkKCQkJZGVzY3JpcHRpb246dGlueU1DRS5nZXQoJ2Rlc2NyaXB0aW9uJykuZ2V0Q29udGVudCgpCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24p'));
	@fwrite($fp, base64_decode('IHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEu'));
	@fwrite($fp, base64_decode('c3RhdHVzID09IDApIHsKCQkJCWFsZXJ0KCJVcGRhdGUgT0siKTsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoInJlZnJlc2giKTsKCQkJCXZhciBoMXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaDEiKTsK'));
	@fwrite($fp, base64_decode('CQkJCWZvciAodmFyIGkgPSAwOyBpIDwgaDFzLmxlbmd0aDsgaSsrKSB7CgkJCQkJdmFyIGgxID0gaDFzW2ldOwoJCQkJCWgxLmlubmVySFRNTCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZWVkaXQnKS52YWx1ZS5odG1sZW50aXRpZXMoKTsKCQkJCX0K'));
	@fwrite($fp, base64_decode('CQkJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykudmFsdWUpOwoKCQkJCXZhciBtY2UgPSB0aW55bWNlLmdl'));
	@fwrite($fp, base64_decode('dCgnZGVzY3JpcHRpb24nKTsKCQkJCWlmIChtY2UgIT0gbnVsbCkgbWNlLmlzTm90RGlydHkgPSAxOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvblNlbmRJbnZp'));
	@fwrite($fp, base64_decode('dGF0aW9uKG9yaWdpbiwgZW1haWwpIHsKCS8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIj9nb3RvPW9pZHBsdXM6aW52aXRlX3JhJCIrZW5jb2RlVVJJQ29tcG9uZW50KGVtYWlsKSsiJCIrZW5jb2RlVVJJQ29tcG9uZW50KG9yaWdpbik7CglvcGVuT2lkSW5QYW5l'));
	@fwrite($fp, base64_decode('bCgnb2lkcGx1czppbnZpdGVfcmEkJytlbWFpbCsnJCcrb3JpZ2luLCBmYWxzZSk7Cn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25JbnNlcnQocGFyZW50KSB7CgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTp7CgkJCWFjdGlv'));
	@fwrite($fp, base64_decode('bjoiSW5zZXJ0IiwKCQkJaWQ6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lkJykudmFsdWUsCgkJCXJhX2VtYWlsOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbCcpLnZhbHVlLAoJCQlhc24xaWRzOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNu'));
	@fwrite($fp, base64_decode('MWlkcycpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzbjFpZHMnKS52YWx1ZSA6IG51bGwpLAoJCQlpcmlzOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaXJpcycpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lyaXMnKS52YWx1ZSA6IG51bGwpLAoJ'));
	@fwrite($fp, base64_decode('CQljb25maWRlbnRpYWw6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlJykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZScpLmNoZWNrZWQgOiBudWxsKSwKCQkJcGFyZW50OnBhcmVudAoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRT'));
	@fwrite($fp, base64_decode('dGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsK'));
	@fwrite($fp, base64_decode('CQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQkvL2FsZXJ0KCJJbnNlcnQgT0siKTsKCQkJCXJlbG9hZENvbnRlbnQoKTsKCQkJCS8vIFRPRE86IGF1ZiByZWxvYWRDb250ZW50KCkgdmVyemljaHRlbi4gc3RhdHRkZXNzZW4gbnVyIHRyZWUgbGlu'));
	@fwrite($fp, base64_decode('a3MgYWt0dWFsaXNpZXJlbiwgdW5kIHJlY2h0cyBlaW5lIG5ldWUgemVpbGUgenVyIHRhYmVsbGUgaGluenVm/GdlbgoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDEpIHsKCQkJCWlmIChjb25maXJtKCJVcGRhdGUgT0suIEhvd2V2ZXIsIHRoZSBlbWFpbCBh'));
	@fwrite($fp, base64_decode('ZGRyZXNzIHlvdSBoYXZlIGVudGVyZWQgKCIrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsJykudmFsdWUrIikgaXMgbm90IGluIG91ciBzeXN0ZW0uIERvIHlvdSB3YW50IHRvIHNlbmQgYW4gaW52aXRhdGlvbiwgc28gdGhhdCB0aGUgUkEgY2FuIHJl'));
	@fwrite($fp, base64_decode('Z2lzdGVyIGFuIGFjY291bnQgdG8gbWFuYWdlIHRoZWlyIE9JRHM/IikpIHsKCQkJCQljcnVkQWN0aW9uU2VuZEludml0YXRpb24ocGFyZW50LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFfZW1haWwnKS52YWx1ZSk7CgkJCQl9IGVsc2UgewoJCQkJCXJlbG9h'));
	@fwrite($fp, base64_decode('ZENvbnRlbnQoKTsKCQkJCQkvLyBUT0RPOiBhdWYgcmVsb2FkQ29udGVudCgpIHZlcnppY2h0ZW4uIHN0YXR0ZGVzc2VuIG51ciB0cmVlIGxpbmtzIGFrdHVhbGlzaWVyZW4sIHVuZCByZWNodHMgZWluZSBuZXVlIHplaWxlIHp1ciB0YWJlbGxlIGhpbnp1ZvxnZW4K'));
	@fwrite($fp, base64_decode('CQkJCX0KCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25VcGRhdGUoaWQsIHBhcmVudCkgewoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJ'));
	@fwrite($fp, base64_decode('CWRhdGE6IHsKCQkJYWN0aW9uOiJVcGRhdGUiLAoJCQlpZDppZCwKCQkJcmFfZW1haWw6ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsXycraWQpLnZhbHVlLAoJCQlhc24xaWRzOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNuMWlkc18nK2lkKSA/'));
	@fwrite($fp, base64_decode('IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzXycraWQpLnZhbHVlIDogbnVsbCksCgkJCWlyaXM6KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzXycraWQpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lyaXNfJytpZCkudmFsdWUgOiBudWxs'));
	@fwrite($fp, base64_decode('KSwKCQkJY29uZmlkZW50aWFsOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZV8nK2lkKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWRlXycraWQpLmNoZWNrZWQgOiBudWxsKSwKCQkJcGFyZW50OnBhcmVudAoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24o'));
	@fwrite($fp, base64_decode('anFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBk'));
	@fwrite($fp, base64_decode('YXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiVXBkYXRlIE9LIik7CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwoJCQl9IGVsc2UgaWYgKGRhdGEu'));
	@fwrite($fp, base64_decode('c3RhdHVzID09IDEpIHsKCQkJCWlmIChjb25maXJtKCJVcGRhdGUgT0suIEhvd2V2ZXIsIHRoZSBlbWFpbCBhZGRyZXNzIHlvdSBoYXZlIGVudGVyZWQgKCIrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsXycraWQpLnZhbHVlKyIpIGlzIG5vdCBpbiBv'));
	@fwrite($fp, base64_decode('dXIgc3lzdGVtLiBEbyB5b3Ugd2FudCB0byBzZW5kIGFuIGludml0YXRpb24sIHNvIHRoYXQgdGhlIFJBIGNhbiByZWdpc3RlciBhbiBhY2NvdW50IHRvIG1hbmFnZSB0aGVpciBPSURzPyIpKSB7CgkJCQkJY3J1ZEFjdGlvblNlbmRJbnZpdGF0aW9uKHBhcmVudCwg'));
	@fwrite($fp, base64_decode('ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsXycraWQpLnZhbHVlKTsKCQkJCX0gZWxzZSB7CgkJCQkJLy8gcmVsb2FkQ29udGVudCgpOwoJCQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCJyZWZyZXNoIik7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlhbGVy'));
	@fwrite($fp, base64_decode('dCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBjcnVkQWN0aW9uRGVsZXRlKGlkLCBwYXJlbnQpIHsKCWlmKCF3aW5kb3cuY29uZmlybSgiQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gZGVsZXRlICIraWQrIj8iKSkgcmV0'));
	@fwrite($fp, base64_decode('dXJuIGZhbHNlOwoKCSQuYWpheCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiRGVsZXRlIiwKCQkJaWQ6aWQsCgkJCXBhcmVudDpwYXJlbnQKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3Rh'));
	@fwrite($fp, base64_decode('dHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJ'));
	@fwrite($fp, base64_decode('CX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJcmVsb2FkQ29udGVudCgpOwoJCQkJLy8gVE9ETzogYXVmIHJlbG9hZENvbnRlbnQoKSB2ZXJ6aWNodGVuLiBzdGF0dGRlc3NlbiBudXIgdHJlZSBsaW5rcyBha3R1YWxpc2llcmVuLCB1bmQgcmVjaHRz'));
	@fwrite($fp, base64_decode('IGRpZSB6ZWlsZSBhdXMgZGVyIHRhYmVsbGUgbPZzY2hlbgoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gZGVsZXRlUmEoZW1haWwsIGdvdG8pIHsKCWlmKCF3aW5kb3cuY29uZmly'));
	@fwrite($fp, base64_decode('bSgiQXJlIHlvdSByZWFsbHkgc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZSAiK2VtYWlsKyI/IChUaGUgT0lEcyBzdGF5IGFjdGl2ZSkiKSkgcmV0dXJuIGZhbHNlOwoKCSQuYWpheCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRh'));
	@fwrite($fp, base64_decode('OiB7CgkJCWFjdGlvbjoiZGVsZXRlX3JhIiwKCQkJZW1haWw6ZW1haWwsCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2Vzczpm'));
	@fwrite($fp, base64_decode('dW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKCQkJCWFsZXJ0KCJEb25lLiIpOwoJCQkJaWYgKGdvdG8gIT0gbnVs'));
	@fwrite($fp, base64_decode('bCkgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoZ290byk7CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfQoJCX0KCX0pOwp9Cgov'));
	@fwrite($fp, base64_decode('LyBUaGlzIGZ1bmN0aW9uIG9wZW5zIHRoZSAicGFyZW50SUQiIG5vZGUsIGFuZCB0aGVuIHNlbGVjdHMgdGhlICJjaGlsZElEIiBub2RlICh3aGljaCBzaG91bGQgYmUgYmVuZWF0aCB0aGUgcGFyZW50IG5vZGUpCmZ1bmN0aW9uIG9wZW5BbmRTZWxlY3ROb2RlKGNo'));
	@fwrite($fp, base64_decode('aWxkSUQsIHBhcmVudElEKSB7CglpZiAoJCgnI29pZHRyZWUnKS5qc3RyZWUodHJ1ZSkuZ2V0X25vZGUocGFyZW50SUQpKSB7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ29wZW5fbm9kZScsIHBhcmVudElELCBmdW5jdGlvbihlLCBkYXRhKSB7IC8vIG9wZW4gcGFy'));
	@fwrite($fp, base64_decode('ZW50IG5vZGUKCQkJaWYgKCQoJyNvaWR0cmVlJykuanN0cmVlKHRydWUpLmdldF9ub2RlKGNoaWxkSUQpKSB7IC8vIGlzIHRoZSBjaGlsZCB0aGVyZT8KCQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdkZXNlbGVjdF9hbGwnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywg'));
	@fwrite($fp, base64_decode('Y2hpbGRJRCk7IC8vIHNlbGVjdCBpdAoJCQl9IGVsc2UgewoJCQkJLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBjb250ZW50IHBhZ2UgY29udGFpbnMgYnJhbmQgbmV3IGl0ZW1zIHdoaWNoIGFyZSBub3QgaW4gdGhlIHRyZWV2aWV3IHlldAoJCQkJd2luZG93Lmxv'));
	@fwrite($fp, base64_decode('Y2F0aW9uLmhyZWYgPSAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoY2hpbGRJRCk7CgkJCX0KCQl9LCB0cnVlKTsKCX0gZWxzZSB7CgkJLy8gVGhpcyBzaG91bGQgdXN1YWxseSBub3QgaGFwcGVuCgkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAiP2dvdG89Iitl'));
	@fwrite($fp, base64_decode('bmNvZGVVUklDb21wb25lbnQoY2hpbGRJRCk7Cgl9Cn0KCiQod2luZG93KS5vbigicG9wc3RhdGUiLCBmdW5jdGlvbihlKSB7Cglwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsKCXRyeSB7CgkJdmFyIGRhdGEgPSBlLm9yaWdpbmFsRXZlbnQuc3RhdGU7CgoJCWN1cnJl'));
	@fwrite($fp, base64_decode('bnRfbm9kZSA9IGRhdGEubm9kZV9pZDsKCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGRhdGEubm9kZV9pZCk7CgkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKGRhdGEudGl0bGVIVE1MKTsKCQkkKCcjcmVh'));
	@fwrite($fp, base64_decode('bF9jb250ZW50JykuaHRtbChkYXRhLnRleHRIVE1MKTsKCQkkKCcjc3RhdGljX2xpbmsnKS5hdHRyKCJocmVmIiwgZGF0YS5zdGF0aWNsaW5rSFJFRik7CgkJZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoZ2V0T2lkUGx1'));
	@fwrite($fp, base64_decode('c1N5c3RlbVRpdGxlKCksIGRhdGEudGl0bGVIVE1MLmh0bWxfZW50aXR5X2RlY29kZSgpKTsKCX0gY2F0Y2ggKGVycikgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCX0gZmluYWxseSB7CgkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJfQp9KTsKCiQo'));
	@fwrite($fp, base64_decode('ZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHsKCS8vIC0tLSBKc1RyZWUKCgkkKCcjb2lkdHJlZScpCgkuanN0cmVlKHsKCQlwbHVnaW5zOiBbJ21hc3Nsb2FkJywnc2VhcmNoJywnY29uZGl0aW9uYWxzZWxlY3QnXSwKCQknY29yZScgOiB7CgkJCSdkYXRhJyA6'));
	@fwrite($fp, base64_decode('IHsKCQkJCSJ1cmwiIDogZ2V0VHJlZUxvYWRVUkwoKSwKCQkJCSJkYXRhIiA6IGZ1bmN0aW9uIChub2RlKSB7CgkJCQkJcmV0dXJuIHsgImlkIiA6IG5vZGUuaWQgfTsKCQkJCX0KCQkJfSwKCQkJIm11bHRpcGxlIjogZmFsc2UKCQl9LAoJCSdjb25kaXRpb25hbHNl'));
	@fwrite($fp, base64_decode('bGVjdCcgOiBmdW5jdGlvbiAobm9kZSkgewoJCQlpZiAobm9kZS5vcmlnaW5hbC5jb25kaXRpb25hbHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7CgkJCQlyZXR1cm4gZXZhbChub2RlLm9yaWdpbmFsLmNvbmRpdGlvbmFsc2VsZWN0KTsKCQkJfSBlbHNlIHsKCQkJCXJl'));
	@fwrite($fp, base64_decode('dHVybiB0cnVlOyAvLyBhbGxvdyBzZWxlY3QKCQkJfQoJCX0sCgl9KQoJLm9uKCdyZWFkeS5qc3RyZWUnLCBmdW5jdGlvbiAoZSwgZGF0YSkgewoJCXZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKCQl2YXIgZ290byA9IHVybC5zZWFyY2hQ'));
	@fwrite($fp, base64_decode('YXJhbXMuZ2V0KCJnb3RvIik7CgkJaWYgKGdvdG8gPT0gbnVsbCkgZ290byA9ICJvaWRwbHVzOnN5c3RlbSI7IC8vIHRoZSBwYWdlIHdhcyBub3QgY2FsbGVkIHdpdGggP2dvdG89Li4uCgoJCS8vIEJ5IHNldHRpbmcgY3VycmVudF9ub2RlLCBzZWxlY3Rfbm9kZSgp'));
	@fwrite($fp, base64_decode('IHdpbGwgbm90IGNhdXNlIGFqYXgucGhwP2FjdGlvbj1nZXRfZGVzY3JpcHRpb24gdG8gbG9hZCAoc2luY2Ugd2UgYWxyZWFkeSBsb2FkZWQgdGhlIGZpcnN0IHN0YXRpYyBjb250ZW50IHZpYSBQSFAsIGZvciBzZWFyY2ggZW5naW5lcyBtYWlubHkpCgkJLy8gQnV0'));
	@fwrite($fp, base64_decode('IHRoZW4gd2UgbmVlZCB0byBzZXQgdGhlIGhpc3Rvcnkgc3RhdGUgbWFudWFsbHkKCQljdXJyZW50X25vZGUgPSBnb3RvOwoJCXdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7CgkJCSJub2RlX2lkIjpnb3RvLAoJCQkidGl0bGVIVE1MIjokKCcjcmVhbF90aXRs'));
	@fwrite($fp, base64_decode('ZScpLmh0bWwoKSwKCQkJInRleHRIVE1MIjokKCcjcmVhbF9jb250ZW50JykuaHRtbCgpLAoJCQkic3RhdGljbGlua0hSRUYiOiJpbmRleC5waHA/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChnb3RvKSwKCQl9LCAkKCcjcmVhbF90aXRsZScpLmh0bWwoKSwgIj9n'));
	@fwrite($fp, base64_decode('b3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pKTsKCgkJaWYgKGdvdG8gIT0gbnVsbCkgZGF0YS5pbnN0YW5jZS5zZWxlY3Rfbm9kZShbZ290b10pOwoKCQlzZXRUaW1lb3V0KGdsYXlvdXRXb3JrYXJvdW5kQSwgMTAwKTsKCQlzZXRUaW1lb3V0KGdsYXlvdXRX'));
	@fwrite($fp, base64_decode('b3JrYXJvdW5kQiwgMTAwKTsKCX0pCgkub24oJ3NlbGVjdF9ub2RlLmpzdHJlZScsIGZ1bmN0aW9uIChub2RlLCBzZWxlY3RlZCwgZXZlbnQpIHsKCQltb2JpbGVOYXZDbG9zZSgpOwoKCQl2YXIgaWQgPSBzZWxlY3RlZC5ub2RlLmlkOwoJCWlmICgoIXBvcHN0YXRl'));
	@fwrite($fp, base64_decode('X3J1bm5pbmcpICYmIChjdXJyZW50X25vZGUgIT0gaWQpKSB7CgkJCW9wZW5PaWRJblBhbmVsKGlkLCBmYWxzZSk7CgkJfQoJfSk7CgoJLy8gLS0tIExheW91dAoKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeXN0ZW1fdGl0bGVfbWVudScpLnN0eWxlLmRpc3Bs'));
	@fwrite($fp, base64_decode('YXkgPSAiYmxvY2siOwoKCSQoJyNvaWR0cmVlJykuYWRkQ2xhc3MoJ3VpLWxheW91dC13ZXN0Jyk7CgkkKCcjY29udGVudF93aW5kb3cnKS5hZGRDbGFzcygndWktbGF5b3V0LWNlbnRlcicpOwoJJCgnI3N5c3RlbV90aXRsZV9iYXInKS5hZGRDbGFzcygndWktbGF5'));
	@fwrite($fp, base64_decode('b3V0LW5vcnRoJyk7CglnbGF5b3V0ID0gJCgnI2ZyYW1lcycpLmxheW91dCh7CgkJbm9ydGhfX3NpemU6ICAgICAgICAgICAgICAgICAgNDAsCgkJbm9ydGhfX3NsaWRhYmxlOiAgICAgICAgICAgICAgZmFsc2UsCgkJbm9ydGhfX2Nsb3NhYmxlOiAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgZmFsc2UsCgkJbm9ydGhfX3Jlc2l6YWJsZTogICAgICAgICAgICAgZmFsc2UsCgkJd2VzdF9fc2l6ZTogICAgICAgICAgICAgICAgICAgNDUwLAoJCXdlc3RfX3NwYWNpbmdfY2xvc2VkOiAgICAgICAgIDIwLAoJCXdlc3RfX3RvZ2dsZXJMZW5ndGhfY2xvc2Vk'));
	@fwrite($fp, base64_decode('OiAgIDIzMCwKCQl3ZXN0X190b2dnbGVyQWxpZ25fY2xvc2VkOiAgICAidG9wIiwKCQl3ZXN0X190b2dnbGVyQ29udGVudF9jbG9zZWQ6ICAiTzxicj5CPGJyPko8YnI+RTxicj5DPGJyPlQ8YnI+PGJyPlQ8QlI+UjxCUj5FPEJSPkUiLAoJCXdlc3RfX3RvZ2dsZXJU'));
	@fwrite($fp, base64_decode('aXBfY2xvc2VkOiAgICAgICJPcGVuICYgUGluIE1lbnUiLAoJCXdlc3RfX3NsaWRlclRpcDogICAgICAgICAgICAgICJTbGlkZSBPcGVuIE1lbnUiLAoJCXdlc3RfX3NsaWRlVHJpZ2dlcl9vcGVuOiAgICAgICJtb3VzZW92ZXIiLAoJCWNlbnRlcl9fbWFza0NvbnRl'));
	@fwrite($fp, base64_decode('bnRzOiAgICAgICAgIHRydWUgLy8gSU1QT1JUQU5UIC0gZW5hYmxlIGlmcmFtZSBtYXNraW5nCgl9KTsKfSk7CgpmdW5jdGlvbiBnbGF5b3V0V29ya2Fyb3VuZEEoKSB7CgkvLyAiQnVnIEEiOiBTb21ldGltZXMsIHRoZSBkZXNpZ24gaXMgY29tcGxldGVseWRlc3Ry'));
	@fwrite($fp, base64_decode('b3llZCBhZnRlciByZWxvYWRpbmcgdGhlIHBhZ2UuIEl0IGRvZXMgbm90IGhlbHAgd2hlbiBnbGF5b3V0LnJlc2l6ZUFsbCgpCgkvLyAgICAgICAgICBpcyBjYWxsZWQgYXQgdGhlIGJlZ2lubmluZyAoZS5nLiBkdXJpbmcgdGhlIHJlYWR5IGZ1bmN0aW9uKSwgYW5k'));
	@fwrite($fp, base64_decode('IGl0IGRvZXMgbm90IGhlbHAgaWYgd2Ugd2FpdCA1MDBtcy4KCS8vICAgICAgICAgIFNvIHdlIGRvIGl0IGFsbCB0aGUgdGltZS4gSXQgaGFzIHByb2JhYmx5IHNvbWV0aGluZyB0byBkbyB3aXRoIHNsb3cgbG9hZGluZyB0aW1lcywgc2luY2UgdGhlIGVycm9yCgkv'));
	@fwrite($fp, base64_decode('LyAgICAgICAgICBkb2VzIG9ubHkgYXBwZWFyIHdoZW4gdGhlIHBhZ2UgaXMgImJsYW5rIiBmb3IgYSBzaG9ydCB3aGlsZSB3aGlsZSBpdCBpcyBsb2FkaW5nLgoJZ2xheW91dC5yZXNpemVBbGwoKTsKCXNldFRpbWVvdXQoZ2xheW91dFdvcmthcm91bmRBLCAxMDAp'));
	@fwrite($fp, base64_decode('Owp9CgpmdW5jdGlvbiBnbGF5b3V0V29ya2Fyb3VuZEIoKSB7CgkvLyAiQnVnIEIiOiBTb21ldGltZXMsIGFmdGVyIHJlbG9hZCwgd2VpcmQgc3BhY2UgYmV0d2VlbiBvaWR0cmVlIGFuZCBjb250ZW50IHdpbmRvdywgYmVjYXVzZSBvaWR0cmVlIGhhcyBzaXplIG9m'));
	@fwrite($fp, base64_decode('IDQzOHB4Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib2lkdHJlZSIpLnN0eWxlLndpZHRoID0gIjQ1MHB4IjsKfQoKZnVuY3Rpb24gbW9iaWxlTmF2Q2xvc2UoKSB7CglpZiAoJCgiI3N5c3RlbV90aXRsZV9tZW51IikuaXMoIjpoaWRkZW4iKSkgewoJCXJldHVy'));
	@fwrite($fp, base64_decode('bjsKCX0KCgkkKCIjb2lkdHJlZSIpLnNsaWRlVXAoIm1lZGl1bSIpLnByb21pc2UoKS5kb25lKGZ1bmN0aW9uKCkgewoJCSQoIiNvaWR0cmVlIikuYWRkQ2xhc3MoInVpLWxheW91dC13ZXN0Iik7CgkJJCgiI29pZHRyZWUiKS5zaG93KCk7Cgl9KTsKCSQoIiNzeXN0'));
	@fwrite($fp, base64_decode('ZW1fdGl0bGVfbWVudSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTsKfQoKZnVuY3Rpb24gbW9iaWxlTmF2T3BlbigpIHsKCSQoIiNvaWR0cmVlIikuaGlkZSgpOwoJJCgiI29pZHRyZWUiKS5yZW1vdmVDbGFzcygidWktbGF5b3V0LXdlc3QiKTsKCSQoIiNvaWR0cmVl'));
	@fwrite($fp, base64_decode('Iikuc2xpZGVEb3duKCJtZWRpdW0iKTsKCSQoIiNzeXN0ZW1fdGl0bGVfbWVudSIpLmFkZENsYXNzKCJhY3RpdmUiKTsKfQoKZnVuY3Rpb24gbW9iaWxlTmF2QnV0dG9uQ2xpY2soc2VuZGVyKSB7CglpZiAoJCgiI29pZHRyZWUiKS5oYXNDbGFzcygidWktbGF5b3V0'));
	@fwrite($fp, base64_decode('LXdlc3QiKSkgewoJCW1vYmlsZU5hdk9wZW4oKTsKCX0gZWxzZSB7CgkJbW9iaWxlTmF2Q2xvc2UoKTsKCX0KfQoKZnVuY3Rpb24gbW9iaWxlTmF2QnV0dG9uSG92ZXIoc2VuZGVyKSB7CglzZW5kZXIuY2xhc3NMaXN0LnRvZ2dsZSgiaG92ZXIiKTsKfQo='));
	@fclose($fp);
}
if (!is_file('oidplus.js')) {
	warn('File has vanished! Will re-create it: oidplus.js');
	writefile_1();
	if (!is_file('oidplus.js')) {
		warn('File cannot be created (not existing): oidplus.js');
	} else if (sha1_file('oidplus.js') != '0698b3e1fd28cb18349536c3485b415f9065df0a') {
		warn('File cannot be created (checksum mismatch): oidplus.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.js', 0644)) {
		warn('Could not change file permissions of oidplus.js');
	}
} else {
	if (@sha1_file('oidplus.js') !== '0698b3e1fd28cb18349536c3485b415f9065df0a') {
		if (@sha1_file('oidplus.js') !== '2980d7358c4ee32e55e238de36d7171f8e422955') {
			warn('File was modified. Will overwrite the changes now: oidplus.js');
			$tmp = pathinfo('oidplus.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('oidplus.js') !== '0698b3e1fd28cb18349536c3485b415f9065df0a') {
			warn('File cannot be written (checksum mismatch): oidplus.js');
		}
	}
}

// Files different: plugins/adminPages/130_create_ra/script.js
function writefile_2() {
	@$fp = fopen('plugins/adminPages/130_create_ra/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZnVuY3Rpb24gYWRtaW5DcmVhdGVSYUZvcm1PblN1Ym1pdCgpIHsKCSQuYWpheCh7CgkJdXJsOiAiYWpheC5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImNyZWF0ZV9yYSIsCgkJ'));
	@fwrite($fp, base64_decode('CWVtYWlsOiAkKCIjZW1haWwiKS52YWwoKSwKCQkJcGFzc3dvcmQxOiAkKCIjcGFzc3dvcmQxIikudmFsKCksCgkJCXBhc3N3b3JkMjogJCgiI3Bhc3N3b3JkMiIpLnZhbCgpCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJv'));
	@fwrite($fp, base64_decode('d24pIHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChk'));
	@fwrite($fp, base64_decode('YXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiQWNjb3VudCBjcmVhdGVkIik7CgkJCQkvL29wZW5PaWRJblBhbmVsKCdvaWRwbHVzOnJhaW5mbyQnKyQoIiNlbWFpbCIpLnZhbCgpLHRydWUpOwoJCQkJLy8gV2UgbmVlZCB0byByZWxvYWQgdGhlIHdob2xlIHBh'));
	@fwrite($fp, base64_decode('Z2UsIGJlY2F1c2UgdGhlIHRyZWUgYXQgdGhlIGxlZnQgY29udGFpbnMgYSAiTGlzdCBSQSIgbGlzdCB3aXRoIHRoZSBSQXMKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9nb3RvPScrZW5jb2RlVVJJQ29tcG9uZW50KCdvaWRwbHVzOnJhaW5mbyQnKyQoIiNl'));
	@fwrite($fp, base64_decode('bWFpbCIpLnZhbCgpKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/130_create_ra/script.js')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/130_create_ra/script.js');
	writefile_2();
	if (!is_file('plugins/adminPages/130_create_ra/script.js')) {
		warn('File cannot be created (not existing): plugins/adminPages/130_create_ra/script.js');
	} else if (sha1_file('plugins/adminPages/130_create_ra/script.js') != '2351fe1da2f142a49936a14e94ebcec181e68e33') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/130_create_ra/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/130_create_ra/script.js', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/130_create_ra/script.js');
	}
} else {
	if (@sha1_file('plugins/adminPages/130_create_ra/script.js') !== '2351fe1da2f142a49936a14e94ebcec181e68e33') {
		if (@sha1_file('plugins/adminPages/130_create_ra/script.js') !== '7ede8acbe6abdec32c61b0b0426c9f9a5c88c46b') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/130_create_ra/script.js');
			$tmp = pathinfo('plugins/adminPages/130_create_ra/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/130_create_ra/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/130_create_ra/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/adminPages/130_create_ra/script.js') !== '2351fe1da2f142a49936a14e94ebcec181e68e33') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/130_create_ra/script.js');
		}
	}
}

// Files different: plugins/publicPages/090_login/script.js
function writefile_3() {
	@$fp = fopen('plugins/publicPages/090_login/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLyogUkEgKi8KCmZ1bmN0aW9uIHJhTG9nb3V0KGVtYWlsKSB7CglpZighd2luZG93LmNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGxvZ291dD8iKSkgcmV0dXJuIGZhbHNlOwoKCSQuYWph'));
	@fwrite($fp, base64_decode('eCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoicmFfbG9nb3V0IiwKCQkJZW1haWw6ZW1haWwsCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxl'));
	@fwrite($fp, base64_decode('cnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09'));
	@fwrite($fp, base64_decode('IDApIHsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9nb3RvPW9pZHBsdXM6c3lzdGVtJzsKCQkJCS8vIHJlbG9hZENvbnRlbnQoKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIHJh'));
	@fwrite($fp, base64_decode('TG9naW4oZW1haWwsIHBhc3N3b3JkKSB7CgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246InJhX2xvZ2luIiwKCQkJZW1haWw6ZW1haWwsCgkJCXBhc3N3b3JkOnBhc3N3b3JkLAoJCQljYXB0Y2hh'));
	@fwrite($fp, base64_decode('OiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnLXJlY2FwdGNoYScpLmxlbmd0aCA+IDAgPyBncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgOiBudWxsCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsK'));
	@fwrite($fp, base64_decode('CQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwKSBncmVjYXB0Y2hhLnJlc2V0KCk7CgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEp'));
	@fwrite($fp, base64_decode('IHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwKSBncmVjYXB0Y2hhLnJlc2V0KCk7'));
	@fwrite($fp, base64_decode('CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnP2dvdG89b2lkcGx1czpzeXN0ZW0nOwoJCQkJLy8gcmVsb2FkQ29udGVudCgpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7'));
	@fwrite($fp, base64_decode('CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwKSBncmVjYXB0Y2hhLnJlc2V0KCk7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gcmFMb2dpbk9uU3VibWl0KCkgewoJcmFMb2dpbihkb2N1bWVu'));
	@fwrite($fp, base64_decode('dC5nZXRFbGVtZW50QnlJZCgicmFMb2dpbkVNYWlsIikudmFsdWUsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyYUxvZ2luUGFzc3dvcmQiKS52YWx1ZSk7CglyZXR1cm4gZmFsc2U7Cn0KCi8qIEFkbWluICovCgpmdW5jdGlvbiBhZG1pbkxvZ2luKHBhc3N3b3Jk'));
	@fwrite($fp, base64_decode('KSB7CgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ImFkbWluX2xvZ2luIiwKCQkJcGFzc3dvcmQ6cGFzc3dvcmQsCgkJCWNhcHRjaGE6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUo'));
	@fwrite($fp, base64_decode('J2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCA/IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA6IG51bGwKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7'));
	@fwrite($fp, base64_decode('CgkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnLXJlY2FwdGNoYScpLmxlbmd0aCA+IDApIGdyZWNhcHRjaGEucmVzZXQoKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlh'));
	@fwrite($fp, base64_decode('bGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnLXJlY2FwdGNoYScpLmxlbmd0aCA+IDApIGdyZWNhcHRjaGEucmVzZXQoKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7'));
	@fwrite($fp, base64_decode('CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/Z290bz1vaWRwbHVzOnN5c3RlbSc7CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xh'));
	@fwrite($fp, base64_decode('c3NOYW1lKCdnLXJlY2FwdGNoYScpLmxlbmd0aCA+IDApIGdyZWNhcHRjaGEucmVzZXQoKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBhZG1pbkxvZ291dCgpIHsKCWlmKCF3aW5kb3cuY29uZmlybSgiQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gbG9n'));
	@fwrite($fp, base64_decode('b3V0PyIpKSByZXR1cm4gZmFsc2U7CgoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6IHsKCQkJYWN0aW9uOiJhZG1pbl9sb2dvdXQiLAoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9y'));
	@fwrite($fp, base64_decode('VGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlm'));
	@fwrite($fp, base64_decode('IChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/Z290bz1vaWRwbHVzOnN5c3RlbSc7CgkJCQkvLyByZWxvYWRDb250ZW50KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0p'));
	@fwrite($fp, base64_decode('Owp9CgpmdW5jdGlvbiBhZG1pbkxvZ2luT25TdWJtaXQoKSB7CglhZG1pbkxvZ2luKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhZG1pbkxvZ2luUGFzc3dvcmQiKS52YWx1ZSk7CglyZXR1cm4gZmFsc2U7Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/090_login/script.js')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/090_login/script.js');
	writefile_3();
	if (!is_file('plugins/publicPages/090_login/script.js')) {
		warn('File cannot be created (not existing): plugins/publicPages/090_login/script.js');
	} else if (sha1_file('plugins/publicPages/090_login/script.js') != 'ca2d8cc62cecec56b5dbdd87936c96a018760e4f') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/090_login/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/090_login/script.js', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/090_login/script.js');
	}
} else {
	if (@sha1_file('plugins/publicPages/090_login/script.js') !== 'ca2d8cc62cecec56b5dbdd87936c96a018760e4f') {
		if (@sha1_file('plugins/publicPages/090_login/script.js') !== '1b12a3d82d0a9a7b438cf2eea73b351c53b98e20') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/090_login/script.js');
			$tmp = pathinfo('plugins/publicPages/090_login/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/090_login/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/090_login/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/publicPages/090_login/script.js') !== 'ca2d8cc62cecec56b5dbdd87936c96a018760e4f') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/090_login/script.js');
		}
	}
}

// Files different: plugins/publicPages/091_forgot_password/script.js
function writefile_4() {
	@$fp = fopen('plugins/publicPages/091_forgot_password/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZnVuY3Rpb24gZm9yZ290UGFzc3dvcmRGb3JtT25TdWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFqYXgucGhwIiwKCQl0eXBlOiAiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ICJmb3Jnb3RfcGFzc3dv'));
	@fwrite($fp, base64_decode('cmQiLAoJCQllbWFpbDogJCgiI2VtYWlsIikudmFsKCksCgkJCWNhcHRjaGE6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCA/IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA6IG51bGwKCQl9LAoJCWVycm9y'));
	@fwrite($fp, base64_decode('OmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnLXJlY2FwdGNoYScpLmxlbmd0aCA+IDApIGdyZWNh'));
	@fwrite($fp, base64_decode('cHRjaGEucmVzZXQoKTsKCQl9LAoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgn'));
	@fwrite($fp, base64_decode('Zy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwKSBncmVjYXB0Y2hhLnJlc2V0KCk7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJYWxlcnQoIkUtTWFpbCBzZW50LiIpOwoJCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnP2dvdG89b2lkcGx1czps'));
	@fwrite($fp, base64_decode('b2dpbic7CgkJCQkvL3JlbG9hZENvbnRlbnQoKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCkgZ3JlY2FwdGNoYS5y'));
	@fwrite($fp, base64_decode('ZXNldCgpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIHJlc2V0UGFzc3dvcmRGb3JtT25TdWJtaXQoKSB7CgkkLmFqYXgoewoJCXVybDogImFqYXgucGhwIiwKCQl0eXBlOiAiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ICJyZXNl'));
	@fwrite($fp, base64_decode('dF9wYXNzd29yZCIsCgkJCWVtYWlsOiAkKCIjZW1haWwiKS52YWwoKSwKCQkJYXV0aDogJCgiI2F1dGgiKS52YWwoKSwKCQkJcGFzc3dvcmQxOiAkKCIjcGFzc3dvcmQxIikudmFsKCksCgkJCXBhc3N3b3JkMjogJCgiI3Bhc3N3b3JkMiIpLnZhbCgpLAoJCQl0aW1l'));
	@fwrite($fp, base64_decode('c3RhbXA6ICQoIiN0aW1lc3RhbXAiKS52YWwoKQoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEp'));
	@fwrite($fp, base64_decode('IHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJYWxlcnQoIlBhc3N3b3JkIHN1Y2Vzc2Z1bGx5IGNoYW5nZWQuIFlvdSBjYW4gbm93'));
	@fwrite($fp, base64_decode('IGxvZyBpbi4iKTsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9nb3RvPW9pZHBsdXM6bG9naW4nOwoJCQkJLy9yZWxvYWRDb250ZW50KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwoJcmV0dXJuIGZh'));
	@fwrite($fp, base64_decode('bHNlOwp9Cgo='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/091_forgot_password/script.js')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/091_forgot_password/script.js');
	writefile_4();
	if (!is_file('plugins/publicPages/091_forgot_password/script.js')) {
		warn('File cannot be created (not existing): plugins/publicPages/091_forgot_password/script.js');
	} else if (sha1_file('plugins/publicPages/091_forgot_password/script.js') != 'c28dee77d8e45d9936a7de1c2944842db8bf0dad') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/091_forgot_password/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/091_forgot_password/script.js', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/091_forgot_password/script.js');
	}
} else {
	if (@sha1_file('plugins/publicPages/091_forgot_password/script.js') !== 'c28dee77d8e45d9936a7de1c2944842db8bf0dad') {
		if (@sha1_file('plugins/publicPages/091_forgot_password/script.js') !== '1f506e8a6c68d4c168f6d925bbc9daba1e2dd3df') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/091_forgot_password/script.js');
			$tmp = pathinfo('plugins/publicPages/091_forgot_password/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/091_forgot_password/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/091_forgot_password/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/publicPages/091_forgot_password/script.js') !== 'c28dee77d8e45d9936a7de1c2944842db8bf0dad') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/091_forgot_password/script.js');
		}
	}
}

// Files different: plugins/publicPages/200_viathinksoft_freeoid/script.js
function writefile_5() {
	@$fp = fopen('plugins/publicPages/200_viathinksoft_freeoid/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZnVuY3Rpb24gZnJlZU9JREZvcm1PblN1Ym1pdCgpIHsKCSQuYWpheCh7CgkJdXJsOiAiYWpheC5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImNvbS52aWF0aGlua3NvZnQuZnJl'));
	@fwrite($fp, base64_decode('ZW9pZC5yZXF1ZXN0X2ZyZWVvaWQiLAoJCQllbWFpbDogJCgiI2VtYWlsIikudmFsKCksCgkJCWNhcHRjaGE6IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCA/IGdyZWNhcHRjaGEuZ2V0UmVzcG9uc2UoKSA6'));
	@fwrite($fp, base64_decode('IG51bGwKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJCWlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnLXJlY2FwdGNoYScp'));
	@fwrite($fp, base64_decode('Lmxlbmd0aCA+IDApIGdyZWNhcHRjaGEucmVzZXQoKTsKCQl9LAoJCXN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxl'));
	@fwrite($fp, base64_decode('bWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwKSBncmVjYXB0Y2hhLnJlc2V0KCk7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJYWxlcnQoIkluc3RydWN0aW9ucyBoYXZlIGJlZW4gc2VudCB2aWEgZW1haWwuIik7'));
	@fwrite($fp, base64_decode('CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/Z290bz1vaWRwbHVzOnN5c3RlbSc7CgkJCQkvL3JlbG9hZENvbnRlbnQoKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEpOwoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFz'));
	@fwrite($fp, base64_decode('c05hbWUoJ2ctcmVjYXB0Y2hhJykubGVuZ3RoID4gMCkgZ3JlY2FwdGNoYS5yZXNldCgpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGFjdGl2YXRlRnJlZU9JREZvcm1PblN1Ym1pdCgpIHsKCSQuYWpheCh7CgkJdXJsOiAiYWpheC5w'));
	@fwrite($fp, base64_decode('aHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImNvbS52aWF0aGlua3NvZnQuZnJlZW9pZC5hY3RpdmF0ZV9mcmVlb2lkIiwKCQkJZW1haWw6ICQoIiNlbWFpbCIpLnZhbCgpLAoJCQlyYV9uYW1lOiAkKCIjcmFfbmFtZSIpLnZhbCgpLAoJ'));
	@fwrite($fp, base64_decode('CQl0aXRsZTogJCgiI3RpdGxlIikudmFsKCksCgkJCXVybDogJCgiI3VybCIpLnZhbCgpLAoJCQlhdXRoOiAkKCIjYXV0aCIpLnZhbCgpLAoJCQlwYXNzd29yZDE6ICQoIiNwYXNzd29yZDEiKS52YWwoKSwKCQkJcGFzc3dvcmQyOiAkKCIjcGFzc3dvcmQyIikudmFs'));
	@fwrite($fp, base64_decode('KCksCgkJCXRpbWVzdGFtcDogJCgiI3RpbWVzdGFtcCIpLnZhbCgpCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczogZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwhIFlvdSBj'));
	@fwrite($fp, base64_decode('YW4gbm93IGxvZyBpbi4iKTsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9nb3RvPW9pZHBsdXM6bG9naW4nOwoJCQkJLy9yZWxvYWRDb250ZW50KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwoJcmV0'));
	@fwrite($fp, base64_decode('dXJuIGZhbHNlOwp9Cgo='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/200_viathinksoft_freeoid/script.js')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/200_viathinksoft_freeoid/script.js');
	writefile_5();
	if (!is_file('plugins/publicPages/200_viathinksoft_freeoid/script.js')) {
		warn('File cannot be created (not existing): plugins/publicPages/200_viathinksoft_freeoid/script.js');
	} else if (sha1_file('plugins/publicPages/200_viathinksoft_freeoid/script.js') != '7b8e2250db7722643b1560e67fc31ea59220704b') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/200_viathinksoft_freeoid/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/200_viathinksoft_freeoid/script.js', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/200_viathinksoft_freeoid/script.js');
	}
} else {
	if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/script.js') !== '7b8e2250db7722643b1560e67fc31ea59220704b') {
		if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/script.js') !== '80ed658d954b8f21245b0b7ca5b96787e7d2907e') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/200_viathinksoft_freeoid/script.js');
			$tmp = pathinfo('plugins/publicPages/200_viathinksoft_freeoid/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/200_viathinksoft_freeoid/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/200_viathinksoft_freeoid/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/script.js') !== '7b8e2250db7722643b1560e67fc31ea59220704b') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/200_viathinksoft_freeoid/script.js');
		}
	}
}

// Files different: plugins/raPages/092_invite/script.js
function writefile_6() {
	@$fp = fopen('plugins/raPages/092_invite/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZnVuY3Rpb24gaW52aXRlRm9ybU9uU3VibWl0KCkgewoJJC5hamF4KHsKCQl1cmw6ICJhamF4LnBocCIsCgkJdHlwZTogIlBPU1QiLAoJCWRhdGE6IHsKCQkJYWN0aW9uOiAiaW52aXRlX3JhIiwKCQkJZW1haWw6'));
	@fwrite($fp, base64_decode('ICQoIiNlbWFpbCIpLnZhbCgpLAoJCQljYXB0Y2hhOiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdnLXJlY2FwdGNoYScpLmxlbmd0aCA+IDAgPyBncmVjYXB0Y2hhLmdldFJlc3BvbnNlKCkgOiBudWxsCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhI'));
	@fwrite($fp, base64_decode('UiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAwKSBncmVjYXB0Y2hhLnJlc2V0KCk7'));
	@fwrite($fp, base64_decode('CgkJfSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQkJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2ctcmVjYXB0Y2hhJyku'));
	@fwrite($fp, base64_decode('bGVuZ3RoID4gMCkgZ3JlY2FwdGNoYS5yZXNldCgpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKCQkJCWFsZXJ0KCJUaGUgUkEgaGFzIGJlZW4gaW52aXRlZCB2aWEgZW1haWwuIik7CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/Z290bz0n'));
	@fwrite($fp, base64_decode('KyQoIiNvcmlnaW4iKS52YWwoKTsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCQlpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZy1yZWNhcHRjaGEnKS5sZW5ndGggPiAw'));
	@fwrite($fp, base64_decode('KSBncmVjYXB0Y2hhLnJlc2V0KCk7CgkJCX0KCQl9Cgl9KTsKCXJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gYWN0aXZhdGVSYUZvcm1PblN1Ym1pdCgpIHsKCSQuYWpheCh7CgkJdXJsOiAiYWpheC5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFj'));
	@fwrite($fp, base64_decode('dGlvbjogImFjdGl2YXRlX3JhIiwKCQkJZW1haWw6ICQoIiNlbWFpbCIpLnZhbCgpLAoJCQlhdXRoOiAkKCIjYXV0aCIpLnZhbCgpLAoJCQlwYXNzd29yZDE6ICQoIiNwYXNzd29yZDEiKS52YWwoKSwKCQkJcGFzc3dvcmQyOiAkKCIjcGFzc3dvcmQyIikudmFsKCks'));
	@fwrite($fp, base64_decode('CgkJCXRpbWVzdGFtcDogJCgiI3RpbWVzdGFtcCIpLnZhbCgpCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczogZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiUmVnaXN0cmF0aW9uIHN1Y2Nlc3NmdWwhIFlvdSBjYW4g'));
	@fwrite($fp, base64_decode('bm93IGxvZyBpbi4iKTsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9nb3RvPW9pZHBsdXM6bG9naW4nOwoJCQkJLy9yZWxvYWRDb250ZW50KCk7CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwoJcmV0dXJu'));
	@fwrite($fp, base64_decode('IGZhbHNlOwp9Cgo='));
	@fclose($fp);
}
if (!is_file('plugins/raPages/092_invite/script.js')) {
	warn('File has vanished! Will re-create it: plugins/raPages/092_invite/script.js');
	writefile_6();
	if (!is_file('plugins/raPages/092_invite/script.js')) {
		warn('File cannot be created (not existing): plugins/raPages/092_invite/script.js');
	} else if (sha1_file('plugins/raPages/092_invite/script.js') != '9c80070e5f2fe6e528374d1ef868f61dbe5e0be4') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/092_invite/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/092_invite/script.js', 0644)) {
		warn('Could not change file permissions of plugins/raPages/092_invite/script.js');
	}
} else {
	if (@sha1_file('plugins/raPages/092_invite/script.js') !== '9c80070e5f2fe6e528374d1ef868f61dbe5e0be4') {
		if (@sha1_file('plugins/raPages/092_invite/script.js') !== 'f72908734363e17cdb0361ce98919621a6d088bd') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/092_invite/script.js');
			$tmp = pathinfo('plugins/raPages/092_invite/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/092_invite/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/092_invite/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('plugins/raPages/092_invite/script.js') !== '9c80070e5f2fe6e528374d1ef868f61dbe5e0be4') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/092_invite/script.js');
		}
	}
}

// Files different: plugins/raPages/100_edit_contact_data/script.js
function writefile_7() {
	@$fp = fopen('plugins/raPages/100_edit_contact_data/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZnVuY3Rpb24gcmFDaGFuZ2VDb250YWN0RGF0YUZvcm1PblN1Ym1pdCgpIHsKCSQuYWpheCh7CgkJdXJsOiAiYWpheC5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImNoYW5nZV9y'));
	@fwrite($fp, base64_decode('YV9kYXRhIiwKCQkJZW1haWw6ICQoIiNlbWFpbCIpLnZhbCgpLAoJCQlyYV9uYW1lOiAkKCIjcmFfbmFtZSIpLnZhbCgpLAoJCQlvcmdhbml6YXRpb246ICQoIiNvcmdhbml6YXRpb24iKS52YWwoKSwKCQkJb2ZmaWNlOiAkKCIjb2ZmaWNlIikudmFsKCksCgkJCXBl'));
	@fwrite($fp, base64_decode('cnNvbmFsX25hbWU6ICQoIiNwZXJzb25hbF9uYW1lIikudmFsKCksCgkJCXByaXZhY3k6ICQoIiNwcml2YWN5IikuaXMoIjpjaGVja2VkIikgPyAxIDogMCwKCQkJc3RyZWV0OiAkKCIjc3RyZWV0IikudmFsKCksCgkJCXppcF90b3duOiAkKCIjemlwX3Rvd24iKS52'));
	@fwrite($fp, base64_decode('YWwoKSwKCQkJY291bnRyeTogJCgiI2NvdW50cnkiKS52YWwoKSwKCQkJcGhvbmU6ICQoIiNwaG9uZSIpLnZhbCgpLAoJCQltb2JpbGU6ICQoIiNtb2JpbGUiKS52YWwoKSwKCQkJZmF4OiAkKCIjZmF4IikudmFsKCkKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhS'));
	@fwrite($fp, base64_decode('LCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEu'));
	@fwrite($fp, base64_decode('ZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKCQkJCWFsZXJ0KCJEb25lIik7CgkJCQkvL3dpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9nb3RvPW9pZHBsdXM6c3lzdGVtJzsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9IGVsc2UgewoJ'));
	@fwrite($fp, base64_decode('CQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0KCX0KCX0pOwoJcmV0dXJuIGZhbHNlOwp9Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/raPages/100_edit_contact_data/script.js')) {
	warn('File has vanished! Will re-create it: plugins/raPages/100_edit_contact_data/script.js');
	writefile_7();
	if (!is_file('plugins/raPages/100_edit_contact_data/script.js')) {
		warn('File cannot be created (not existing): plugins/raPages/100_edit_contact_data/script.js');
	} else if (sha1_file('plugins/raPages/100_edit_contact_data/script.js') != 'f1d43b31c607cdba8ec3c550bc4948aac51424e6') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/100_edit_contact_data/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/100_edit_contact_data/script.js', 0644)) {
		warn('Could not change file permissions of plugins/raPages/100_edit_contact_data/script.js');
	}
} else {
	if (@sha1_file('plugins/raPages/100_edit_contact_data/script.js') !== 'f1d43b31c607cdba8ec3c550bc4948aac51424e6') {
		if (@sha1_file('plugins/raPages/100_edit_contact_data/script.js') !== 'ed42f9d3247de555f7729fecad76ab69273a1b0f') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/100_edit_contact_data/script.js');
			$tmp = pathinfo('plugins/raPages/100_edit_contact_data/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/100_edit_contact_data/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/100_edit_contact_data/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('plugins/raPages/100_edit_contact_data/script.js') !== 'f1d43b31c607cdba8ec3c550bc4948aac51424e6') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/100_edit_contact_data/script.js');
		}
	}
}

// Files different: plugins/raPages/101_change_password/script.js
function writefile_8() {
	@$fp = fopen('plugins/raPages/101_change_password/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZnVuY3Rpb24gcmFDaGFuZ2VQYXNzd29yZEZvcm1PblN1Ym1pdCgpIHsKCSQuYWpheCh7CgkJdXJsOiAiYWpheC5waHAiLAoJCXR5cGU6ICJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjogImNoYW5nZV9yYV9w'));
	@fwrite($fp, base64_decode('YXNzd29yZCIsCgkJCWVtYWlsOiAkKCIjZW1haWwiKS52YWwoKSwKCQkJb2xkX3Bhc3N3b3JkOiAkKCIjb2xkX3Bhc3N3b3JkIikudmFsKCksCgkJCW5ld19wYXNzd29yZDE6ICQoIiNuZXdfcGFzc3dvcmQxIikudmFsKCksCgkJCW5ld19wYXNzd29yZDI6ICQoIiNu'));
	@fwrite($fp, base64_decode('ZXdfcGFzc3dvcmQyIikudmFsKCkKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlm'));
	@fwrite($fp, base64_decode('ICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKCQkJCWFsZXJ0KCJEb25lIik7CgkJCQkvL3dpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz9nb3RvPW9pZHBs'));
	@fwrite($fp, base64_decode('dXM6c3lzdGVtJzsKCQkJCS8vcmVsb2FkQ29udGVudCgpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0KCQl9Cgl9KTsKCXJldHVybiBmYWxzZTsKfQo='));
	@fclose($fp);
}
if (!is_file('plugins/raPages/101_change_password/script.js')) {
	warn('File has vanished! Will re-create it: plugins/raPages/101_change_password/script.js');
	writefile_8();
	if (!is_file('plugins/raPages/101_change_password/script.js')) {
		warn('File cannot be created (not existing): plugins/raPages/101_change_password/script.js');
	} else if (sha1_file('plugins/raPages/101_change_password/script.js') != 'd1d193f43d4473dec4b1692af048415affadca51') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/101_change_password/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/101_change_password/script.js', 0644)) {
		warn('Could not change file permissions of plugins/raPages/101_change_password/script.js');
	}
} else {
	if (@sha1_file('plugins/raPages/101_change_password/script.js') !== 'd1d193f43d4473dec4b1692af048415affadca51') {
		if (@sha1_file('plugins/raPages/101_change_password/script.js') !== '51d06d6b07396c7603ac7ee7395f21e2673234ba') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/101_change_password/script.js');
			$tmp = pathinfo('plugins/raPages/101_change_password/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/101_change_password/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/101_change_password/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_8();
		if (@sha1_file('plugins/raPages/101_change_password/script.js') !== 'd1d193f43d4473dec4b1692af048415affadca51') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/101_change_password/script.js');
		}
	}
}

// Files different: plugins/raPages/102_change_email/script.js
function writefile_9() {
	@$fp = fopen('plugins/raPages/102_change_email/script.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZnVuY3Rpb24gY2hhbmdlUmFFbWFpbEZvcm1PblN1Ym1pdChpc2FkbWluKSB7CgkkLmFqYXgoewoJCXVybDogImFqYXgucGhwIiwKCQl0eXBlOiAiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ICJjaGFuZ2Vf'));
	@fwrite($fp, base64_decode('cmFfZW1haWwiLAoJCQlvbGRfZW1haWw6ICQoIiNvbGRfZW1haWwiKS52YWwoKSwKCQkJbmV3X2VtYWlsOiAkKCIjbmV3X2VtYWlsIikudmFsKCksCgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQo'));
	@fwrite($fp, base64_decode('IkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAw'));
	@fwrite($fp, base64_decode('KSB7CgkJCQlpZiAoaXNhZG1pbikgewoJCQkJCWFsZXJ0KCJlTWFpbCBhZHJlc3Mgb2YgUkEgY2hhbmdlZCIpOwoJCQkJCS8vb3Blbk9pZEluUGFuZWwoJ29pZHBsdXM6cmFpbmZvJCcrJCgiI25ld19lbWFpbCIpLnZhbCgpLHRydWUpOwoJCQkJCS8vIFdlIG5lZWQg'));
	@fwrite($fp, base64_decode('dG8gcmVsb2FkIHRoZSB3aG9sZSBwYWdlLCBiZWNhdXNlIHRoZSB0cmVlIGF0IHRoZSBsZWZ0IGNvbnRhaW5zIGEgIkxpc3QgUkEiIGxpc3Qgd2l0aCB0aGUgUkFzCgkJCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnP2dvdG89JytlbmNvZGVVUklDb21wb25lbnQo'));
	@fwrite($fp, base64_decode('J29pZHBsdXM6cmFpbmZvJCcrJCgiI25ld19lbWFpbCIpLnZhbCgpKTsKCQkJCX0gZWxzZSB7CgkJCQkJYWxlcnQoIlZlcmlmaWNhdGlvbiBlTWFpbCBzZW50Iik7CgkJCQkJLy93aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/Z290bz1vaWRwbHVzOnN5c3RlbSc7CgkJ'));
	@fwrite($fp, base64_decode('CQkJLy9yZWxvYWRDb250ZW50KCk7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwoJcmV0dXJuIGZhbHNlOwp9CgpmdW5jdGlvbiBhY3RpdmF0ZU5ld1JhRW1haWxGb3JtT25TdWJtaXQoKSB7CgkkLmFq'));
	@fwrite($fp, base64_decode('YXgoewoJCXVybDogImFqYXgucGhwIiwKCQl0eXBlOiAiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ICJhY3RpdmF0ZV9uZXdfcmFfZW1haWwiLAoJCQlwYXNzd29yZDogJCgiI3Bhc3N3b3JkIikudmFsKCksCgkJCW9sZF9lbWFpbDogJCgiI29sZF9lbWFpbCIp'));
	@fwrite($fp, base64_decode('LnZhbCgpLAoJCQluZXdfZW1haWw6ICQoIiNuZXdfZW1haWwiKS52YWwoKSwKCQkJYXV0aDogJCgiI2F1dGgiKS52YWwoKSwKCQkJdGltZXN0YW1wOiAkKCIjdGltZXN0YW1wIikudmFsKCkKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBl'));
	@fwrite($fp, base64_decode('cnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKCQkJCWFsZXJ0KCJEb25lIik7CgkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/Z290bz1vaWRwbHVzOnN5c3RlbSc7CgkJCQkvL3JlbG9hZENvbnRlbnQoKTsKCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjog'));
	@fwrite($fp, base64_decode('IiArIGRhdGEpOwoJCQl9CgkJfQoJfSk7CglyZXR1cm4gZmFsc2U7Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/raPages/102_change_email/script.js')) {
	warn('File has vanished! Will re-create it: plugins/raPages/102_change_email/script.js');
	writefile_9();
	if (!is_file('plugins/raPages/102_change_email/script.js')) {
		warn('File cannot be created (not existing): plugins/raPages/102_change_email/script.js');
	} else if (sha1_file('plugins/raPages/102_change_email/script.js') != '3fe5843f4b17eb31ae0f588eac8504202db36377') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/102_change_email/script.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/102_change_email/script.js', 0644)) {
		warn('Could not change file permissions of plugins/raPages/102_change_email/script.js');
	}
} else {
	if (@sha1_file('plugins/raPages/102_change_email/script.js') !== '3fe5843f4b17eb31ae0f588eac8504202db36377') {
		if (@sha1_file('plugins/raPages/102_change_email/script.js') !== 'f8dacf7261dac5fff18c89ba0e6d80befc925493') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/102_change_email/script.js');
			$tmp = pathinfo('plugins/raPages/102_change_email/script.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/102_change_email/script.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/102_change_email/script.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_9();
		if (@sha1_file('plugins/raPages/102_change_email/script.js') !== '3fe5843f4b17eb31ae0f588eac8504202db36377') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/102_change_email/script.js');
		}
	}
}

// Files different: setup/index.php
function writefile_10() {
	@$fp = fopen('setup/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCiRvd25fZGlyID0gKGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAkX1NFUlZFUlsnSFRUUFMnXSA9PT0gJ29uJyA/ICJodHRwcyIgOiAiaHR0cCIpIC4gIjovLyIgLiAkX1NFUlZFUlsiSFRUUF9IT1NUIl0gLiAkX1NFUlZFUlsnUkVRVUVTVF9VUkkn'));
	@fwrite($fp, base64_decode('XTsKCj8+PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCjxoZWFkPgoJPHRpdGxlPk9JRHBsdXMgc2V0dXA8L3RpdGxlPgoJPG1ldGEgbmFtZT0icm9ib3RzIiBjb250ZW50PSJub2luZGV4Ij4KCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ic2V0'));
	@fwrite($fp, base64_decode('dXAuY3NzIj4KCTxzY3JpcHQgc3JjPSIuLi8zcC9zaGEzX2pzL3NoYTMuanMiPjwvc2NyaXB0PjwhLS0gaHR0cHM6Ly9naXRodWIuY29tL2VtbjE3OC9qcy1zaGEzIC0tPgoJPHNjcmlwdCBzcmM9InNldHVwLmpzIj48L3NjcmlwdD4KPC9oZWFkPgoKPGJvZHkgb25s'));
	@fwrite($fp, base64_decode('b2FkPSJyZWJ1aWxkKCkiPgoKPGgxPk9JRHBsdXMgc2V0dXAgLSBEYXRhYmFzZSBjb25uZWN0aXZpdHk8L2gxPgoKPGRpdiBpZD0ic3RlcDEiPgo8aDI+U3RlcCAxOiBFbnRlciBzZXR1cCBpbmZvcm1hdGlvbjwvaDI+Cjxmb3JtIGlkPSJzdGVwMV9mb3JtIj4KPHA+'));
	@fwrite($fp, base64_decode('V2hpY2ggYWRtaW4gcGFzc3dvcmQgZG8geW91IHdhbnQ/PGJyPjxpbnB1dCBpZD0iYWRtaW5fcGFzc3dvcmQiIHR5cGU9InBhc3N3b3JkIiBhdXRvY29tcGxldGU9Im5ldy1wYXNzd29yZCIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVwPSJyZWJ1aWxkKCki'));
	@fwrite($fp, base64_decode('PiA8c3BhbiBpZD0icGFzc3dvcmRfd2FybiI+PC9zcGFuPjwvcD4KPHA+UGxlYXNlIHJlcGVhdCB0aGUgcGFzc3dvcmQgaW5wdXQ6PGJyPjxpbnB1dCBpZD0iYWRtaW5fcGFzc3dvcmQyIiB0eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQi'));
	@fwrite($fp, base64_decode('IG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj4gPHNwYW4gaWQ9InBhc3N3b3JkX3dhcm4yIj48L3NwYW4+PC9wPgo8cD4tLS08L3A+CgoKRGF0YWJhc2UgcGx1Z2luOiA8c2VsZWN0IG5hbWU9ImRiX3BsdWdpbiIgb25DaGFuZ2U9ImRi'));
	@fwrite($fp, base64_decode('cGx1Z2luX2NoYW5nZWQoKSIgaWQ9ImRiX3BsdWdpbiI+CjxvcHRpb24gdmFsdWU9Ik15U1FMIiBzZWxlY3RlZD0idHJ1ZSI+TXlTUUw8L29wdGlvbj4KPG9wdGlvbiB2YWx1ZT0iUERPIj5QRE88L29wdGlvbj4KPG9wdGlvbiB2YWx1ZT0iT0RCQyI+T0RCQzwvb3B0'));
	@fwrite($fp, base64_decode('aW9uPgo8L3NlbGVjdD4KCjxzY3JpcHQ+Cgpvd25kaXIgPSAnPD9waHAgZWNobyAkb3duX2RpcjsgPz4nOwpyZWJ1aWxkX2NhbGxiYWNrcyA9IFtdOwpyZWJ1aWxkX2NvbmZpZ19jYWxsYmFja3MgPSBbXTsKcGx1Z2luX2NvbWJvYm94X2NoYW5nZV9jYWxsYmFja3Mg'));
	@fwrite($fp, base64_decode('PSBbXTsKCmZ1bmN0aW9uIGRicGx1Z2luX2NoYW5nZWQoKSB7Cgl2YXIgZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkYl9wbHVnaW4iKTsKCXZhciBzdHJQbHVnaW4gPSBlLm9wdGlvbnNbZS5zZWxlY3RlZEluZGV4XS52YWx1ZTsKCglmb3IgKHZhciBpID0g'));
	@fwrite($fp, base64_decode('MDsgaSA8IHBsdWdpbl9jb21ib2JveF9jaGFuZ2VfY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7CgkJdmFyIGYgPSBwbHVnaW5fY29tYm9ib3hfY2hhbmdlX2NhbGxiYWNrc1tpXTsKCQlmKHN0clBsdWdpbik7Cgl9CgoJcmVidWlsZCgpOwp9Cgo8L3NjcmlwdD4KCjxk'));
	@fwrite($fp, base64_decode('aXYgc3R5bGU9Im1hcmdpbi1sZWZ0OjUwcHgiPgoKPD9waHAKCiRmaWxlcyA9IGdsb2IoX19ESVJfXy4nLy4uL3BsdWdpbnMvZGF0YWJhc2UvKi9zZXR1cC5wYXJ0Lmh0bWwnKTsKZm9yZWFjaCAoJGZpbGVzIGFzICRmaWxlKSB7CgllY2hvIGZpbGVfZ2V0X2NvbnRl'));
	@fwrite($fp, base64_decode('bnRzKCRmaWxlKTsKfQppZiAoY291bnQoJGZpbGVzKSA9PSAwKSB7CgllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj5BVFRFTlRJT046IE5vIGRhdGFiYXNlIHBsdWdpbnMgZm91bmQhPC9mb250PjwvcD4nOwp9Cgo/PgoKPC9kaXY+Cgo8c2NyaXB0PgpkYnBsdWdp'));
	@fwrite($fp, base64_decode('bl9jaGFuZ2VkKCk7Cjwvc2NyaXB0PgoKPHA+VGFibGVuYW1lIHByZWZpeCAoZS5nLiA8Yj5vaWRwbHVzXzwvYj4pOjxicj48aW5wdXQgaWQ9InRhYmxlbmFtZV9wcmVmaXgiIHR5cGU9InRleHQiIHZhbHVlPSJvaWRwbHVzXyIgb25rZXlwcmVzcz0icmVidWlsZCgp'));
	@fwrite($fp, base64_decode('IiBvbmtleXVwPSJyZWJ1aWxkKCkiPjwvcD4KPHA+LS0tPC9wPgo8cD48aW5wdXQgaWQ9InJlY2FwdGNoYV9lbmFibGVkIiB0eXBlPSJjaGVja2JveCIgb25jbGljaz0icmVidWlsZCgpIj4gPGxhYmVsIGZvcj0icmVjYXB0Y2hhX2VuYWJsZWQiPlJFQ0FQVENIQSBF'));
	@fwrite($fp, base64_decode('bmFibGVkPC9sYWJlbD48L3A+CjxwPlJFQ0FQVENIQSBQdWJsaWMga2V5PGJyPjxpbnB1dCBpZD0icmVjYXB0Y2hhX3B1YmxpYyIgdHlwZT0idGV4dCIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVwPSJyZWJ1aWxkKCkiPjwvcD4KPHA+UkVDQVBUQ0hBIFBy'));
	@fwrite($fp, base64_decode('aXZhdGUga2V5PGJyPjxpbnB1dCBpZD0icmVjYXB0Y2hhX3ByaXZhdGUiIHR5cGU9InRleHQiIG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj48L3A+CjxwPi0tLTwvcD4KPHA+U1NMIGVuZm9yY2VtZW50PGJyPjxzZWxlY3QgbmFtZT0i'));
	@fwrite($fp, base64_decode('ZW5mb3JjZV9zc2wiIGlkPSJlbmZvcmNlX3NzbCIgb25jbGljaz0icmVidWlsZCgpIj4KPG9wdGlvbiB2YWx1ZT0iMCI+Tm8gU1NMIGF2YWlsYWJsZSAoZG9uJ3QgcmVkaXJlY3QpPC9vcHRpb24+CjxvcHRpb24gdmFsdWU9IjEiPkVuZm9yY2UgU1NMIChhbHdheXMg'));
	@fwrite($fp, base64_decode('cmVkaXJlY3QpPC9vcHRpb24+CjxvcHRpb24gdmFsdWU9IjIiIHNlbGVjdGVkPkludGVsbGlnZW50IFNTTCBkZXRlY3Rpb24gKHJlZGlyZWN0IGlmIHBvcnQgNDQzIGlzIG9wZW4pPC9vcHRpb24+Cjwvc2VsZWN0PjwvcD4KPC9mb3JtPgo8L2Rpdj4KCjxkaXYgaWQ9'));
	@fwrite($fp, base64_decode('InN0ZXAyIj4KPGgyPlN0ZXAgMjogSW1wb3J0IGRhdGE8L2gyPgo8cD48Yj5JZiB5b3UgYWxyZWFkeSBoYXZlIGFuIE9JRHBsdXMgZGF0YWJhc2UgYW5kIGp1c3Qgd2FudCB0byByZWJ1aWxkIHRoZSBjb25maWcgZmlsZSwgcGxlYXNlIHNraXAgdGhpcyBzdGVwLjwv'));
	@fwrite($fp, base64_decode('Yj48L3A+CjxwPk90aGVyd2lzZSwgaW1wb3J0IG9uZSBvZiB0aGUgZm9sbG93aW5nIE15U1FMIGR1bXBzIGluIHlvdXIgZGF0YWJhc2U6PC9wPgo8cD48dWw+Cgk8bGk+PGEgaHJlZj0ic3RydWN0X2VtcHR5LnNxbC5waHAiIGlkPSJzdHJ1Y3RfMSIgdGFyZ2V0PSJf'));
	@fwrite($fp, base64_decode('YmxhbmsiPkVtcHR5IE9JRHBsdXMgZGF0YWJhc2Ugd2l0aG91dCBleGFtcGxlIGRhdGE8L2E+PHNwYW4gaWQ9InN0cnVjdF9jbGlfMSI+PC9zcGFuPjxicj48YnI+PC9saT4KCTxsaT48YSBocmVmPSJzdHJ1Y3Rfd2l0aF9leGFtcGxlcy5zcWwucGhwIiBpZD0ic3Ry'));
	@fwrite($fp, base64_decode('dWN0XzIiIHRhcmdldD0iX2JsYW5rIj5PSURwbHVzIGRhdGFiYXNlIHdpdGggZXhhbXBsZSBkYXRhPC9hPjxzcGFuIGlkPSJzdHJ1Y3RfY2xpXzIiPjwvc3Bhbj48YnI+PGJyPjwvbGk+Cgo8L3VsPjwvcD4KPHA+PGZvbnQgY29sb3I9InJlZCI+V2FybmluZzogQWxs'));
	@fwrite($fp, base64_decode('IGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgT0lEcGx1cyBpbnN0YW5jZSB3aWxsIGJlIGRlbGV0ZWQgZHVyaW5nIHRoZSBpbXBvcnQuPGJyPklmIHlvdSBhbHJlYWR5IGhhdmUgYW4gT0lEcGx1cyBkYXRhYmFzZSwgc2tpcCB0byBTdGVwIDMuPC9mb250PjwvcD4KCjwv'));
	@fwrite($fp, base64_decode('ZGl2PgoKPGRpdiBpZD0ic3RlcDMiPgo8aDI+U3RlcCAzOiBTYXZlIGNvbmZpZy5pbmMucGhwIGZpbGU8L2gyPgo8cD5TYXZlIGZvbGxvd2luZyBjb250ZW50cyBpbnRvIHRoZSBmaWxlIDxiPmluY2x1ZGVzL2NvbmZpZy5pbmMucGhwPC9iPjo8L3A+Cjxjb2RlPjxm'));
	@fwrite($fp, base64_decode('b250IGNvbG9yPSJkYXJrYmx1ZSI+PGRpdiBpZD0iY29uZmlnIj48L2Rpdj48L2ZvbnQ+PC9jb2RlPgo8L2Rpdj4KCjxkaXYgaWQ9InN0ZXA0Ij4KPGgyPlN0ZXAgNDogQ29udGludWUgdG8gbmV4dCBzdGVwPC9oMj4KPHA+PGlucHV0IHR5cGU9ImJ1dHRvbiIgb25j'));
	@fwrite($fp, base64_decode('bGljaz0id2luZG93LmxvY2F0aW9uLmhyZWY9Jy4uLyciIHZhbHVlPSJDb250aW51ZSI+PC9wPgo8IS0tIDxwPjxhIGhyZWY9Ii4uLyI+UnVuIHRoZSBPSURwbHVzIHN5c3RlbTwvYT48L3A+IC0tPgo8L2Rpdj4KCjwvYm9keT4KPC9odG1sPgo='));
	@fclose($fp);
}
if (!is_file('setup/index.php')) {
	warn('File has vanished! Will re-create it: setup/index.php');
	writefile_10();
	if (!is_file('setup/index.php')) {
		warn('File cannot be created (not existing): setup/index.php');
	} else if (sha1_file('setup/index.php') != '0b2a8160d4e22859131bd222cfbec69d6f214634') {
		warn('File cannot be created (checksum mismatch): setup/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/index.php', 0644)) {
		warn('Could not change file permissions of setup/index.php');
	}
} else {
	if (@sha1_file('setup/index.php') !== '0b2a8160d4e22859131bd222cfbec69d6f214634') {
		if (@sha1_file('setup/index.php') !== '1171b486ae56244656aa8be1f8dc880923bf26c5') {
			warn('File was modified. Will overwrite the changes now: setup/index.php');
			$tmp = pathinfo('setup/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_10();
		if (@sha1_file('setup/index.php') !== '0b2a8160d4e22859131bd222cfbec69d6f214634') {
			warn('File cannot be written (checksum mismatch): setup/index.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 154\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 154') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

