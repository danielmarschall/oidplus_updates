<?php /* <ViaThinkSoftSignature>
YCxs6OQ/Yo2+QQbFOVbwqoWERA1XbS75Y3PpgxTQiGHbDCdQL/MmSmjnF/d18RY1U
VrU0T6bXnE6kBBi6M3E9OIy1IXyjyfkY6GbP2NjT9xXg5GllOAJZSIP8ZmuXwi2wT
ripCbzg6T2WSCjWoo2d9y2YsFnWpSzaZT8r7CLpjgM30Rc2wxOyDGf4pXJgzBuK3w
Srzr7P8jYsY56CjXZTC6foe0szqvYAVgNmLJ4lvPUJKCMoY8RSTXgg3i8/OIjd964
GqZ4NX2CnPj3YSYDeXOM7l5CPTeN/3UyWVZ7ZI3Y9eXAUT5tA3oa9OcaeEDcEgS4u
ZblGmdvL4bHIhxE3WfZsfEsQQZ0+storuoHnZHJOdxtRTPcCXW+knwUayu+L/4oJe
Gc9F50lyDPl0M7VnK8z7XE0KvUdSOrCA1dLRiVB/lNo+36X6uCWz2ud+DvFcb6ziy
6teHyRFk+2Fi7oFQ6SIzW+GEK8lToaoAsKAVe4qYN19hStcBcpcLLKZQmXbdfG9is
g+w2XqTaiDXXf1MHogHvSqIOB5x7f8Tz8siqPGwjBMki2eNwXjm0JtxO4MIwRE/40
KoMdujcf7LJ33Sdwg35CRMKt0poRBluAfm4L8Qd37xpdxKe6+4C+lp5ASeaPvvO15
02RhKR6IJ84pu+WaUXuvr2rWOLNbVk8gHOwxMM+tr7ftmUVK7MD1uGBxBqoQCC5O7
ehodnN4cdTsKcIjbdaOCNfb+TOGILipUFa3AOLMg7WDcgaQHTqVlj7CkOFMm8ZvyB
korUATjya56r6i+tTgF0JCLSj18Q9bcgDx8G0VHgbyfNYtxgScDepAWaSdqoSrTr5
3da6OIXqz4c3C9c/omD49eXNzlri3rQjx9ktfqoX5wsG86lWobl4HphpES/F5ByFx
DtI21NryxGJx5ByxHx2dV/DjNfRhecMagGQ4Ai2S7P5OpxdkkajfWkl3XcH+Lxv7u
xBEH8azRdN3+K+DGHFH0d+s9IDeAow+4hzD7mhZR/bd+JMgyoPcjiQO55Huzrp1o8
ANMykDSqAh2mBhxRAlpBrnJHfHHYE2eq9xh6Ggglsqdu3oAZVa8Pp/A7z984+Uxga
6jaN3lHBc6Tg+ATdjyO4G2PGGwxXxB7eNVJZuNmX3UBZpqnS7xSi6FiupAzWqzne8
ZpWpbQYNhRNDsNmSlOVS/mzRVNhQnB6Zks2VLCfBUOa8dEe74zFFzzJbsmW3dL/4V
bdTfUZx3w4msErs6F6C51SUAyvxo7/L4AApOZJSKsTKiBmgxlmCWlSWAzXQHwJK1s
aFIy8Mu9Joxikn/nrLOg/4erheThBwn8JA32zxy2hADbBUN7d+zqC+poIfhKtyb+1
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 127') {
	err('This update can only be applied to OIDplus version 2.0.0.127!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: oidplus.css
function writefile_1() {
	@$fp = fopen('oidplus.css', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKQG1lZGlhIHByaW50IHsKCS8qIFByaW50aW5nICovCgkudWktbGF5b3V0LXdlc3QsIC51aS1sYXlvdXQtcmVzaXplciB7CgkJZGlzcGxheTpub25lICFpbXBvcnRhbnQ7Cgl9CgkudWktbGF5b3V0LWNlbnRlciB7'));
	@fwrite($fp, base64_decode('CgkJbGVmdDowcHggIWltcG9ydGFudDsKCQl3aWR0aDoxMDAlICFpbXBvcnRhbnQ7Cgl9Cgkjb2lkdHJlZSwgLnVpLWxheW91dC1jZW50ZXIgewoJCXBvc2l0aW9uOnJlbGF0aXZlICFpbXBvcnRhbnQ7CgkJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJCXRvcDogMCAh'));
	@fwrite($fp, base64_decode('aW1wb3J0YW50OwoJfQoJI2NvbnRlbnRfd2luZG93IHsKCQl0b3A6IDAgIWltcG9ydGFudDsKCX0KfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkgewoJLyogTW9iaWxlICovCgkudWktbGF5b3V0LXdlc3QsIC51aS1sYXlvdXQtcmVz'));
	@fwrite($fp, base64_decode('aXplciB7CgkJZGlzcGxheTpub25lICFpbXBvcnRhbnQ7Cgl9CgkudWktbGF5b3V0LWNlbnRlciB7CgkJbGVmdDowcHggIWltcG9ydGFudDsKCQl3aWR0aDoxMDAlICFpbXBvcnRhbnQ7Cgl9Cgkjb2lkdHJlZSwgLnVpLWxheW91dC1jZW50ZXIgewoJCXBvc2l0aW9u'));
	@fwrite($fp, base64_decode('OnJlbGF0aXZlICFpbXBvcnRhbnQ7CgkJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJCXRvcDogMCAhaW1wb3J0YW50OwoJfQoJI2NvbnRlbnRfd2luZG93IHsKCQl0b3A6IDAgIWltcG9ydGFudDsKCX0KCSNmcmFtZXMgewoJCWRpc3BsYXk6ZmxleDsKCQlmbGV4LWRp'));
	@fwrite($fp, base64_decode('cmVjdGlvbjpjb2x1bW47CgkJYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQ7Cgl9Cgkjc3lzdGVtX3RpdGxlX2JhciB7CgkJb3JkZXI6MDsKCQlmbGV4Om5vbmU7Cgl9Cgkjb2lkdHJlZSB7CgkJb3JkZXI6MTsKCQlmbGV4Om5vbmU7Cgl9CgkjY29udGVudF93aW5kb3cg'));
	@fwrite($fp, base64_decode('ewoJCW9yZGVyOjI7CgkJZmxleDpub25lOwoJfQoJI3N5c3RlbV90aXRsZV90ZXh0IHsKCQlvdmVyZmxvdy14OnNjcm9sbDsgLyogVE9ETzogYXQgY29tcHV0ZXIgYnJvd3NlciwgeW91IHNlZSBhIHNjcm9sbCBiYXIgKi8KCX0KfQoKQG1lZGlhIG9ubHkgc2NyZWVu'));
	@fwrite($fp, base64_decode('IGFuZCAobWluLXdpZHRoOiA4MDFweCkgewoJLyogRGVza3RvcCAqLwoJI3N5c3RlbV90aXRsZV9tZW51IHsKCQlkaXNwbGF5Om5vbmUgIWltcG9ydGFudDsKCX0KfQoKI3N5c3RlbV90aXRsZV9iYXIgewoJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJcG9zaXRpb246'));
	@fwrite($fp, base64_decode('cmVsYXRpdmUgIWltcG9ydGFudDsKCXdoaXRlLXNwYWNlOiBub3dyYXA7Cn0KCmJvZHksICNmcmFtZXMgewoJd2lkdGg6MTAwJTsKCWhlaWdodDoxMDAlOwp9Cgoud3JhcCB7CglvdmVyZmxvdy14OiBhdXRvOwoJbWFyZ2luOiAwIGF1dG87Cgl3aWR0aDoxMDAlOwp9'));
	@fwrite($fp, base64_decode('CgouZ3JheV9mb290ZXJfZm9udCB7Cgljb2xvcjpncmF5OwoJZm9udC1zaXplOjAuOWVtOwp9CgpsYWJlbC5wYWRkaW5nX2xhYmVsIHsKCWZvbnQtd2VpZ2h0OiBub3JtYWwgIWltcG9ydGFudDsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCWZsb2F0OiBsZWZ0OwoJ'));
	@fwrite($fp, base64_decode('Y2xlYXI6IGxlZnQ7Cgl3aWR0aDogMTAwcHg7Cgl0ZXh0LWFsaWduOiByaWdodDsKCXBhZGRpbmctdG9wOiAzcHg7CgltYXJnaW4tcmlnaHQ6IDhweDsKfQoKLmJveCB7Cgl3aWR0aDphdXRvICFpbXBvcnRhbnQ7CglwYWRkaW5nOjIwcHg7CgliYWNrZ3JvdW5kLWNv'));
	@fwrite($fp, base64_decode('bG9yOiNmZmY7Cglib3JkZXI6MXB4IHNvbGlkICNjY2M7Cglib3JkZXItcmFkaXVzOjVweDsKCW1hcmdpbi10b3A6MTBweDsKfQojdGl0bGVlZGl0IHsKCXdpZHRoOjEwMCU7Cn0KI3N5c3RlbV90aXRsZV8xIHsKCWNvbG9yOiMyRDZBOUY7CgltYXJnaW4tbGVmdDo1'));
	@fwrite($fp, base64_decode('cHg7Cn0KI3N5c3RlbV90aXRsZV8yIHsKCWNvbG9yOiMyQjMzNkY7Cglmb250LXNpemU6MmVtOwoJbWFyZ2luLWxlZnQ6NXB4Owp9CgovKiBNb2JpbGUgbWVudSBidXR0b24gKi8KCiNiYXIxLCAjYmFyMiwgI2JhcjMgewoJd2lkdGg6IDI3cHg7CgloZWlnaHQ6IDVw'));
	@fwrite($fp, base64_decode('eDsKCWJhY2tncm91bmQtY29sb3I6IG9yYW5nZTsKCW1hcmdpbjogNnB4IDA7Cgl0cmFuc2l0aW9uOiAwLjRzOwoJbWFyZ2luLWxlZnQ6MTRweDsKfQoKI3N5c3RlbV90aXRsZV9tZW51LmFjdGl2ZSB7CgliYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZTsKfQoKLmFjdGl2'));
	@fwrite($fp, base64_decode('ZSAjYmFyMSB7Cgktd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgdHJhbnNsYXRlKC03LjVweCwgNy41cHgpOwoJdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKSB0cmFuc2xhdGUoLTcuNXB4LCA3LjVweCk7CgliYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsK'));
	@fwrite($fp, base64_decode('fQoKLmFjdGl2ZSAjYmFyMiB7CglvcGFjaXR5OiAwOwoJYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7Cn0KCi5hY3RpdmUgI2JhcjMgewoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZykgdHJhbnNsYXRlKC04cHgsIC04cHgpOwoJdHJhbnNmb3JtOiByb3Rh'));
	@fwrite($fp, base64_decode('dGUoNDVkZWcpIHRyYW5zbGF0ZSgtOHB4LCAtOHB4KTsKCWJhY2tncm91bmQtY29sb3I6IGJsYWNrOwp9CgouaG92ZXIgI2JhcjEsIC5ob3ZlciAjYmFyMiwgLmhvdmVyICNiYXIzIHsKCWJhY2tncm91bmQtY29sb3I6d2hpdGU7Cn0KCiNzeXN0ZW1fdGl0bGVfbWVu'));
	@fwrite($fp, base64_decode('dSB7Cgl3aWR0aDo1NXB4OwoJaGVpZ2h0OjU1cHg7CglwYWRkaW5nLXRvcDo4cHg7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cglmb250LXNpemU6IDE5cHg7CglkaXNwbGF5OiBub25lOyAvKiB3aWxsIGJlIHNldCB0byAnYmxvY2snIGJ5IEphdmFTY3JpcHQgKi8K'));
	@fwrite($fp, base64_decode('CWJhY2tncm91bmQtY29sb3I6IGJsYWNrOwoJZmxvYXQ6bGVmdDsKCWN1cnNvcjogcG9pbnRlcjsKfQoKLyogVGl0bGUgYmFyICovCgojc3lzdGVtX3RpdGxlX2JhciB7CglsaW5lLWhlaWdodDoxLjc1ZW07CgoJaGVpZ2h0OjU1cHggIWltcG9ydGFudDsKCglmb250'));
	@fwrite($fp, base64_decode('LXN0eWxlOml0YWxpYzsKCWZvbnQtd2VpZ2h0OmJvbGRlcjsKCWZsb2F0OmxlZnQ7Cglib3JkZXItYm90dG9tOjFweDsKCgl3aWR0aDoxMDAlOyAvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KCXBhZGRpbmctbGVmdDo1cHg7LyogcmVxdWlyZWQgZm9yIE5vU2Ny'));
	@fwrite($fp, base64_decode('aXB0ICovCglwYWRkaW5nLXJpZ2h0OjVweDsvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KCglwYWRkaW5nLWxlZnQ6MHB4OwoJbWFyZ2luLWxlZnQ6MHB4OwoKCWRpc3BsYXk6YmxvY2s7CgoJLyogUGVybWFsaW5rIC0gdXNlIHRvIGVkaXQgYW5kIHNoYXJlIHRo'));
	@fwrite($fp, base64_decode('aXMgZ3JhZGllbnQ6IGh0dHA6Ly9jb2xvcnppbGxhLmNvbS9ncmFkaWVudC1lZGl0b3IvI2EwZDhlZiswLGRkZjFmOSs2NSxmZWZmZmYrMTAwICovCgliYWNrZ3JvdW5kOiAjYTBkOGVmOyAvKiBPbGQgYnJvd3NlcnMgKi8KCWJhY2tncm91bmQ6IC1tb3otbGluZWFy'));
	@fwrite($fp, base64_decode('LWdyYWRpZW50KGxlZnQsICNhMGQ4ZWYgMCUsICNkZGYxZjkgNjUlLCAjZmVmZmZmIDEwMCUpOyAvKiBGRjMuNi0xNSAqLwoJYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwgI2EwZDhlZiAwJSwjZGRmMWY5IDY1JSwjZmVmZmZmIDEwMCUp'));
	@fwrite($fp, base64_decode('OyAvKiBDaHJvbWUxMC0yNSxTYWZhcmk1LjEtNiAqLwoJYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjYTBkOGVmIDAlLCNkZGYxZjkgNjUlLCNmZWZmZmYgMTAwJSk7IC8qIFczQywgSUUxMCssIEZGMTYrLCBDaHJvbWUyNissIE9wZXJhMTIr'));
	@fwrite($fp, base64_decode('LCBTYWZhcmk3KyAqLwoJZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoIHN0YXJ0Q29sb3JzdHI9JyNhMGQ4ZWYnLCBlbmRDb2xvcnN0cj0nI2ZlZmZmZicsR3JhZGllbnRUeXBlPTEgKTsgLyogSUU2LTkgKi8KCglvdmVy'));
	@fwrite($fp, base64_decode('ZmxvdzpoaWRkZW47Cn0KI3N5c3RlbV90aXRsZV9iYXIgYTpob3ZlciwgI3N5c3RlbV90aXRsZV9iYXIgYTphY3RpdmUsICNzeXN0ZW1fdGl0bGVfYmFyIGE6Zm9jdXMsICNzeXN0ZW1fdGl0bGVfYmFyIGE6dmlzaXRlZCwgI3N5c3RlbV90aXRsZV9iYXIgYTpsaW5r'));
	@fwrite($fp, base64_decode('IHsKCXRleHQtZGVjb3JhdGlvbjpub25lOwp9CgovKiBPSUQtVHJlZSAqLwoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkgewoJLyogTW9iaWxlICovCgoJI2NvbnRlbnRfd2luZG93IHsKCQlwYWRkaW5nLWxlZnQ6MTZweDsKCQlwYWRk'));
	@fwrite($fp, base64_decode('aW5nLXRvcDowcHg7Cgl9Cgp9CkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpIHsKCS8qIERlc2t0b3AgKi8KCgkjb2lkdHJlZSB7CgkJcG9zaXRpb246YWJzb2x1dGU7CgkJbGVmdDowcHg7CgkJYm90dG9tOjBweDsKCQl0b3A6NTVweDsg'));
	@fwrite($fp, base64_decode('LyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCgkJd2lkdGg6NDAwcHg7IC8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAqLwoJCXBhZGRpbmctdG9wOjVweDsKCQl3aGl0ZS1zcGFjZTpub3dyYXA7IC8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAqLwoJCW92ZXJmbG93'));
	@fwrite($fp, base64_decode('OnNjcm9sbDsgLyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCgl9CgkKCSNjb250ZW50X3dpbmRvdyB7CgkJcG9zaXRpb246YWJzb2x1dGU7CgkJbGVmdDo0MDBweDsKCQlyaWdodDowcHg7CgkJYm90dG9tOjBweDsKCQl0b3A6NTVweDsgLyogcmVxdWlyZWQgZm9y'));
	@fwrite($fp, base64_decode('IE5vU2NyaXB0ICovCgkJcGFkZGluZy1sZWZ0OjIwcHg7CgkJcGFkZGluZy1yaWdodDoyMHB4OwoJfQp9Cgojb2lkdHJlZSB7CglwYWRkaW5nLXRvcDo1cHggIWltcG9ydGFudDsKCXBhZGRpbmctbGVmdDo1cHg7LyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCglw'));
	@fwrite($fp, base64_decode('YWRkaW5nLXJpZ2h0OjVweDsvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KfQoKaHRtbCB7CgltYXJnaW46MDsKCXBhZGRpbmc6MDsKCWhlaWdodDoxMDAlOwoJZm9udC1mYW1pbHk6SGVsdmV0aWNhOwp9CmJvZHkgewoJbWFyZ2luOjBweDsKCXBhZGRpbmc6MHB4'));
	@fwrite($fp, base64_decode('OwoJZm9udC1zaXplOjAuODVlbTsKCWhlaWdodDoxMDAlOwp9CgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMXB4KSB7CgkvKiBEZXNrdG9wICovCglib2R5IHsKCQlvdmVyZmxvdzpoaWRkZW47Cgl9CgkuYm9yZGVyYm94IHsKCQlib3JkZXI6'));
	@fwrite($fp, base64_decode('MXB4IHNvbGlkIHNpbHZlcjsKCX0KfQoKLmJvcmRlcmJveCB7CglvdmVyZmxvdzphdXRvOwp9CgpoMSB7Cglmb250LXNpemU6MS44ZW07Cn0KaDIgewoJZm9udC1zaXplOjEuNmVtICFpbXBvcnRhbnQ7Cn0KCi8qKgogKglTcGxpdHRlciAvIHVpTGF5b3V0CiAqLwou'));
	@fwrite($fp, base64_decode('dWktbGF5b3V0LXBhbmUgeyAvKiBhbGwgJ3BhbmVzJyAqLwoJYm9yZGVyOiAxcHggc29saWQgI0JCQjsKfQoudWktbGF5b3V0LXBhbmUtY2VudGVyIHsgLyogY29udGVudCBib2R5ICovCglwYWRkaW5nOiAwOwoJbWFyZ2luOiAgMDsKfQoudWktbGF5b3V0LXBhbmUt'));
	@fwrite($fp, base64_decode('d2VzdCB7IC8qIHdlc3QgcGFuZSAqLwoJcGFkZGluZzogMCAxMHB4OwoJYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOSAhaW1wb3J0YW50OwoJb3ZlcmZsb3c6IGF1dG87Cn0KLnVpLWxheW91dC1yZXNpemVyIHsgLyogYWxsICdyZXNpemVyLWJhcnMnICovCgliYWNr'));
	@fwrite($fp, base64_decode('Z3JvdW5kOiAjREREOwoJdG9wOjU1cHggIWltcG9ydGFudDsgLyogRE0gMTMuMDMuMjAxOSAqLwp9Ci51aS1sYXlvdXQtcmVzaXplci1vcGVuOmhvdmVyIHsgLyogbW91c2Utb3ZlciAqLwoJYmFja2dyb3VuZDogIzlEOTsKfQoudWktbGF5b3V0LXJlc2l6ZXItbm9y'));
	@fwrite($fp, base64_decode('dGggewoJYmFja2dyb3VuZDojMmIzMzZmICFpbXBvcnRhbnQ7Cgl6LWluZGV4OjEwICFpbXBvcnRhbnQ7IC8qIERNIDEzLjAzLjIwMTkgKi8KfQoudWktbGF5b3V0LXRvZ2dsZXIgeyAvKiBhbGwgJ3RvZ2dsZXItYnV0dG9ucycgKi8KCWJhY2tncm91bmQ6ICNBQUE7'));
	@fwrite($fp, base64_decode('Cgl9Ci51aS1sYXlvdXQtdG9nZ2xlci1jbG9zZWQgeyAvKiBjbG9zZWQgdG9nZ2xlci1idXR0b24gKi8KCWJhY2tncm91bmQ6ICNDQ0M7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgI0JCQjsKfQoudWktbGF5b3V0LXRvZ2dsZXIgLmNvbnRlbnQgeyAvKiB0b2dn'));
	@fwrite($fp, base64_decode('bGVyLXRleHQgKi8KCWZvbnQ6IDE0cHggYm9sZCBWZXJkYW5hLCBWZXJkYW5hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwp9Ci51aS1sYXlvdXQtdG9nZ2xlcjpob3ZlciB7IC8qIG1vdXNlLW92ZXIgKi8KCWJhY2tncm91bmQ6ICNEQ0E7Cn0KLnVpLWxh'));
	@fwrite($fp, base64_decode('eW91dC10b2dnbGVyOmhvdmVyIC5jb250ZW50IHsgLyogbW91c2Utb3ZlciAqLwoJY29sb3I6ICMwMDk7Cn0KCi8qIG1hc2tzIGFyZSB1c3VhbGx5IHRyYW5zcGFyZW50IC0gbWFrZSB0aGVtIHZpc2libGUgKG11c3QgJ292ZXJyaWRlJyBkZWZhdWx0KSAqLwoudWkt'));
	@fwrite($fp, base64_decode('bGF5b3V0LW1hc2sgewoJYmFja2dyb3VuZDogI0MwMCAhaW1wb3J0YW50OwoJb3BhY2l0eTogLjIwICFpbXBvcnRhbnQ7CglmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MjApICFpbXBvcnRhbnQ7Cn0KCi8qIFRhYnMgKi8KCiNsb2dpblRhYiAudGFiLWNvbnRlbnQgewoJ'));
	@fwrite($fp, base64_decode('Y29sb3I6IGJsYWNrOwoJYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTsKCXBhZGRpbmcgOiA1cHggMTVweDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMgPiBsaSA+IGEgewoJYm9yZGVyLXJhZGl1czogMDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMgPiBsaS5hY3Rp'));
	@fwrite($fp, base64_decode('dmUgPiBhIHsKCWNvbG9yOiBibGFjazsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTsKfQo='));
	@fclose($fp);
}
if (!is_file('oidplus.css')) {
	warn('File has vanished! Will re-create it: oidplus.css');
	writefile_1();
	if (!is_file('oidplus.css')) {
		warn('File cannot be created (not existing): oidplus.css');
	} else if (sha1_file('oidplus.css') != 'b0424226cf76cae3ac4fcb9545230b7f52c16328') {
		warn('File cannot be created (checksum mismatch): oidplus.css');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.css', 0644)) {
		warn('Could not change file permissions of oidplus.css');
	}
} else {
	if (@sha1_file('oidplus.css') !== 'b0424226cf76cae3ac4fcb9545230b7f52c16328') {
		if (@sha1_file('oidplus.css') !== 'ee95dee7a53ca00c723cdce69f5bbb10d61dccf4') {
			warn('File was modified. Will overwrite the changes now: oidplus.css');
			$tmp = pathinfo('oidplus.css');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.css')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.css', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('oidplus.css') !== 'b0424226cf76cae3ac4fcb9545230b7f52c16328') {
			warn('File cannot be written (checksum mismatch): oidplus.css');
		}
	}
}

// Files different: oidplus.js
function writefile_2() {
	@$fp = fopen('oidplus.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgovLyAkKCcjaHRtbCcpLmpzdHJlZSgpOwoKY3VycmVudF9ub2RlID0gIiI7CnBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKClN0cmluZy5wcm90b3R5cGUuZXhwbG9k'));
	@fwrite($fp, base64_decode('ZSA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7CgkvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80NTE0MzIzL2phdmFzY3JpcHQtZXF1aXZhbGVudC10by1waHAtZXhwbG9kZQoJY29uc3QgYXJyYXkgPSB0aGlzLnNwbGl0KHNlcGFy'));
	@fwrite($fp, base64_decode('YXRvcik7CglpZiAobGltaXQgIT09IHVuZGVmaW5lZCAmJiBhcnJheS5sZW5ndGggPj0gbGltaXQpIHsKCQlhcnJheS5wdXNoKGFycmF5LnNwbGljZShsaW1pdCAtIDEpLmpvaW4oc2VwYXJhdG9yKSk7Cgl9CglyZXR1cm4gYXJyYXk7Cn07CgpTdHJpbmcucHJvdG90'));
	@fwrite($fp, base64_decode('eXBlLmh0bWxlbnRpdGllcyA9IGZ1bmN0aW9uICgpIHsKCXJldHVybiB0aGlzLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKfTsKClN0cmluZy5w'));
	@fwrite($fp, base64_decode('cm90b3R5cGUuaHRtbF9lbnRpdHlfZGVjb2RlID0gZnVuY3Rpb24gKCkgewoJcmV0dXJuICQoJzx0ZXh0YXJlYSAvPicpLmh0bWwodGhpcykudGV4dCgpOwp9OwoKZnVuY3Rpb24gZ2V0TWV0YShtZXRhTmFtZSkgewoJY29uc3QgbWV0YXMgPSBkb2N1bWVudC5nZXRF'));
	@fwrite($fp, base64_decode('bGVtZW50c0J5VGFnTmFtZSgnbWV0YScpOwoKCWZvciAobGV0IGkgPSAwOyBpIDwgbWV0YXMubGVuZ3RoOyBpKyspIHsKCQlpZiAobWV0YXNbaV0uZ2V0QXR0cmlidXRlKCduYW1lJykgPT09IG1ldGFOYW1lKSB7CgkJCXJldHVybiBtZXRhc1tpXS5nZXRBdHRyaWJ1'));
	@fwrite($fp, base64_decode('dGUoJ2NvbnRlbnQnKTsKCQl9Cgl9CgoJcmV0dXJuICcnOwp9CgpmdW5jdGlvbiBnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSB7CglyZXR1cm4gZ2V0TWV0YSgnT0lEcGx1cy1TeXN0ZW1UaXRsZScpCn0KCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3Bh'));
	@fwrite($fp, base64_decode('Z2V0aXRsZShzeXN0ZW10aXRsZSwgcGFnZXRpdGxlKSB7CglpZiAoc3lzdGVtdGl0bGUgPT0gcGFnZXRpdGxlKSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlOwoJfSBlbHNlIHsKCQlyZXR1cm4gc3lzdGVtdGl0bGUgKyAnIC0gJyArIHBhZ2V0aXRsZTsKCX0KfQoKZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gZ2V0VHJlZUxvYWRVUkwoKSB7Cgl2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7Cgl2YXIgZ290byA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJnb3RvIik7CglyZXR1cm4gKGdvdG8gIT0gbnVsbCkgPyAiYWpheC5waHA/YWN0aW9u'));
	@fwrite($fp, base64_decode('PXRyZWVfbG9hZCZnb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pCgkgICAgICAgICAgICAgICAgICAgICAgOiAiYWpheC5waHA/YWN0aW9uPXRyZWVfbG9hZCI7Cn0KCmZ1bmN0aW9uIHJlbG9hZENvbnRlbnQoKSB7CgkvLyBkb2N1bWVudC5sb2NhdGlvbiA9'));
	@fwrite($fp, base64_decode('ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50X25vZGUpOwoJb3Blbk9pZEluUGFuZWwoY3VycmVudF9ub2RlLCBmYWxzZSk7CgkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwp9CgpmdW5jdGlvbiB4X3JlYyh4X2RhdGEsIGkpIHsKCSQo'));
	@fwrite($fp, base64_decode('JyNvaWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUnLCB4X2RhdGFbaV0sIGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQlpZiAoaSsxIDwgeF9kYXRhLmxlbmd0aCkgewoJCQl4X3JlYyh4X2RhdGEsIGkrMSk7CgkJfSBlbHNlIHsKCQkJcG9wc3RhdGVfcnVubmluZyA9IHRy'));
	@fwrite($fp, base64_decode('dWU7IC8vIGRvbid0IGNhbGwgb3Blbk9pZEluUGFuZWwgYWdhaW4KCQkJdHJ5IHsKCQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIHhfZGF0YVtpXSk7CgkJCX0gY2F0Y2ggKGVycikgewoJCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CQl9IGZpbmFsbHkgewoJCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIG9wZW5PaWRJblBhbmVsKGlkLCByZXNlbGVjdD1mYWxzZSkgewoJaWYgKHJlc2VsZWN0KSB7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rl'));
	@fwrite($fp, base64_decode('c2VsZWN0X2FsbCcpOwoKCQlwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsgLy8gZG9uJ3QgY2FsbCBvcGVuT2lkSW5QYW5lbCBkdXJpbmcgdHJlZSBzZWxlY3Rpb24KCQl0cnkgewoJCQkvLyBJZiB0aGUgbm9kZSBpcyBhbHJlYWR5IGxvYWRlZCBpbiB0aGUgdHJlZSwg'));
	@fwrite($fp, base64_decode('c2VsZWN0IGl0CgkJCWlmICghJCgnI29pZHRyZWUnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywgaWQpKSB7CgkJCQkvLyBJZiB0aGUgbm9kZSBpcyBub3QgbG9hZGVkLCB0aGVuIHdlIHRyeSB0byBzZWFyY2ggaXQuCgkJCQkvLyBJZiBpdCBjYW4gYmUgZm91bmQsIHRo'));
	@fwrite($fp, base64_decode('ZW4gb3BlbiBhbGwgcGFyZW50IG5vZGVzIGFuZCBzZWxlY3QgdGhlIG5vZGUKCQkJCSQuYWpheCh7CgkJCQkJdXJsOiJhamF4LnBocCIsCgkJCQkJbWV0aG9kOiJQT1NUIiwKCQkJCQlkYXRhOnsKCQkJCQkJYWN0aW9uOiJ0cmVlX3NlYXJjaCIsCgkJCQkJCXNlYXJj'));
	@fwrite($fp, base64_decode('aDppZAoJCQkJCX0sCgkJCQkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCQkJCWNvbnNvbGUuZXJyb3IoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCQkJCX0sCgkJCQkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCQkJCWNvbnNvbGUuZXJyb3IoZGF0YSk7CgkJCQkJCX0gZWxzZSBpZiAoKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkgJiYgKGRhdGEubGVuZ3RoID4gMCkpIHsKCQkJCQkJCXhfcmVjKGRhdGEsIDApOwoJCQkJ'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgewoJCQkJCQkJY29uc29sZS5lcnJvcihkYXRhKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pOwoJCQl9CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCQl9IGZpbmFsbHkgewoJCQlwb3BzdGF0ZV9ydW5uaW5nID0g'));
	@fwrite($fp, base64_decode('ZmFsc2U7CgkJfQoJfQoKCS8vIFRoaXMgbG9hZHMgdGhlIGFjdHVhbCBjb250ZW50CgoJZG9jdW1lbnQudGl0bGUgPSAiIjsKCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgiJm5ic3A7Iik7CgkkKCcjcmVhbF9jb250ZW50JykuaHRtbCgiTG9hZGluZy4uLiIpOwoJJCgn'));
	@fwrite($fp, base64_decode('I3N0YXRpY19saW5rJykuYXR0cigiaHJlZiIsICJpbmRleC5waHA/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCkpOwoKCS8vIE5vcm1hbCBvcGVuaW5nIG9mIGEgZGVzY3JpcHRpb24KCWZldGNoKCdhamF4LnBocD9hY3Rpb249Z2V0X2Rlc2NyaXB0aW9uJmlk'));
	@fwrite($fp, base64_decode('PScrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSkKCS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJcmVzcG9uc2UuanNvbigpCgkJLnRoZW4oZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRmFpbGVkIHRvIGxvYWQg'));
	@fwrite($fp, base64_decode('Y29udGVudDogIiArIGRhdGEuZXJyb3IpOwoJCQkJY29uc29sZS5lcnJvcihkYXRhLmVycm9yKTsKCQkJCXJldHVybjsKCQkJfQoKCQkJZGF0YS5pZCA9IGlkOwoKCQkJZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoZ2V0'));
	@fwrite($fp, base64_decode('T2lkUGx1c1N5c3RlbVRpdGxlKCksIGRhdGEudGl0bGUpOwoJCQl2YXIgc3RhdGUgPSB7CgkJCQkibm9kZV9pZCI6aWQsCgkJCQkidGl0bGVIVE1MIjooZGF0YS5pY29uID8gJzxpbWcgc3JjPSInK2RhdGEuaWNvbisnIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFs'));
	@fwrite($fp, base64_decode('dD0iJytkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKyciPiAnIDogJycpICsgZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSwKCQkJCSJ0ZXh0SFRNTCI6ZGF0YS50ZXh0LAoJCQkJInN0YXRpY2xpbmtIUkVGIjoiaW5kZXgucGhwP2dvdG89IitlbmNvZGVVUklDb21w'));
	@fwrite($fp, base64_decode('b25lbnQoaWQpLAoJCQl9OwoJCQlpZiAoY3VycmVudF9ub2RlICE9IGlkKSB7CgkJCQl3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoc3RhdGUsIGRhdGEudGl0bGUsICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCkpOwoJCQl9IGVsc2UgewoJCQkJd2luZG93'));
	@fwrite($fp, base64_decode('Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCBkYXRhLnRpdGxlLCAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoaWQpKTsKCQkJfQoKCQkJaWYgKGRhdGEuaWNvbikgewoJCQkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKCc8aW1nIHNyYz0iJytkYXRhLmljb24r'));
	@fwrite($fp, base64_decode('JyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IicrZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSsnIj4gJyArIGRhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkpOwoJCQl9IGVsc2UgewoJCQkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKGRhdGEudGl0bGUuaHRtbGVu'));
	@fwrite($fp, base64_decode('dGl0aWVzKCkpOwoJCQl9CgkJCSQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKGRhdGEudGV4dCk7CgkJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlKTsKCQkJ'));
	@fwrite($fp, base64_decode('Y3VycmVudF9ub2RlID0gaWQ7CgkJfSkKCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQkJYWxlcnQoIkZhaWxlZCB0byBsb2FkIGNvbnRlbnQ6ICIgKyBlcnJvcik7CgkJCWNvbnNvbGUuZXJyb3IoZXJyb3IpOwoJCX0pOwoJfSkKCS5jYXRjaChmdW5jdGlvbihl'));
	@fwrite($fp, base64_decode('cnJvcikgewoJCWFsZXJ0KCJGYWlsZWQgdG8gbG9hZCBjb250ZW50OiAiICsgZXJyb3IpOwoJCWNvbnNvbGUuZXJyb3IoZXJyb3IpOwoJfSk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZURlc2MoKSB7CgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9T'));
	@fwrite($fp, base64_decode('VCIsCgkJZGF0YTogewoJCQlhY3Rpb246IlVwZGF0ZTIiLAoJCQlpZDpjdXJyZW50X25vZGUsCgkJCXRpdGxlOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykudmFsdWUgOiBu'));
	@fwrite($fp, base64_decode('dWxsKSwKCQkJLy9kZXNjcmlwdGlvbjooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKS52YWx1ZSA6IG51bGwpCgkJCWRlc2NyaXB0aW9uOnRpbnlNQ0UuZ2V0KCdkZXNj'));
	@fwrite($fp, base64_decode('cmlwdGlvbicpLmdldENvbnRlbnQoKQoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiVXBkYXRlIE9LIik7CgkJCQkvL3JlbG9hZENvbnRlbnQoKTsKCQkJCSQoJyNvaWR0'));
	@fwrite($fp, base64_decode('cmVlJykuanN0cmVlKCJyZWZyZXNoIik7CgkJCQl2YXIgaDFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImgxIik7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGgxcy5sZW5ndGg7IGkrKykgewoJCQkJCXZhciBoMSA9IGgxc1tpXTsKCQkJCQloMS5p'));
	@fwrite($fp, base64_decode('bm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykudmFsdWUuaHRtbGVudGl0aWVzKCk7CgkJCQl9CgkJCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShnZXRPaWRQbHVzU3lzdGVtVGl0'));
	@fwrite($fp, base64_decode('bGUoKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlZWRpdCcpLnZhbHVlKTsKCgkJCQl2YXIgbWNlID0gdGlueW1jZS5nZXQoJ2Rlc2NyaXB0aW9uJyk7CgkJCQlpZiAobWNlICE9IG51bGwpIG1jZS5pc05vdERpcnR5ID0gMTsKCQkJfSBlbHNlIHsKCQkJ'));
	@fwrite($fp, base64_decode('CWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25TZW5kSW52aXRhdGlvbihvcmlnaW4sIGVtYWlsKSB7CgkvLyBkb2N1bWVudC5sb2NhdGlvbiA9ICI/Z290bz1vaWRwbHVzOmludml0ZV9yYSQi'));
	@fwrite($fp, base64_decode('K2VuY29kZVVSSUNvbXBvbmVudChlbWFpbCkrIiQiK2VuY29kZVVSSUNvbXBvbmVudChvcmlnaW4pOwoJb3Blbk9pZEluUGFuZWwoJ29pZHBsdXM6aW52aXRlX3JhJCcrZW1haWwrJyQnK29yaWdpbiwgZmFsc2UpOwp9CgpmdW5jdGlvbiBjcnVkQWN0aW9uSW5zZXJ0'));
	@fwrite($fp, base64_decode('KHBhcmVudCkgewoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6ewoJCQlhY3Rpb246Ikluc2VydCIsCgkJCWlkOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlLAoJCQlyYV9lbWFpbDpkb2N1bWVudC5n'));
	@fwrite($fp, base64_decode('ZXRFbGVtZW50QnlJZCgncmFfZW1haWwnKS52YWx1ZSwKCQkJYXNuMWlkczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzbjFpZHMnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzJykudmFsdWUgOiBudWxsKSwKCQkJaXJpczooZG9jdW1lbnQu'));
	@fwrite($fp, base64_decode('Z2V0RWxlbWVudEJ5SWQoJ2lyaXMnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzJykudmFsdWUgOiBudWxsKSwKCQkJY29uZmlkZW50aWFsOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZScpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hp'));
	@fwrite($fp, base64_decode('ZGUnKS5jaGVja2VkIDogbnVsbCksCgkJCXBhcmVudDpwYXJlbnQKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJLy9hbGVydCgiSW5zZXJ0IE9LIik7CgkJCQlyZWxvYWRDb250ZW50'));
	@fwrite($fp, base64_decode('KCk7CgkJCQkvLyBUT0RPOiBhdWYgcmVsb2FkQ29udGVudCgpIHZlcnppY2h0ZW4uIHN0YXR0ZGVzc2VuIG51ciB0cmVlIGxpbmtzIGFrdHVhbGlzaWVyZW4sIHVuZCByZWNodHMgZWluZSBuZXVlIHplaWxlIHp1ciB0YWJlbGxlIGhpbnp1ZvxnZW4KCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IGlmIChkYXRhLnN0YXR1cyA9PSAxKSB7CgkJCQlpZiAoY29uZmlybSgiVXBkYXRlIE9LLiBIb3dldmVyLCB0aGUgZW1haWwgYWRkcmVzcyB5b3UgaGF2ZSBlbnRlcmVkICgiK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbCcpLnZhbHVlKyIpIGlzIG5v'));
	@fwrite($fp, base64_decode('dCBpbiBvdXIgc3lzdGVtLiBEbyB5b3Ugd2FudCB0byBzZW5kIGFuIGludml0YXRpb24sIHNvIHRoYXQgdGhlIFJBIGNhbiByZWdpc3RlciBhbiBhY2NvdW50IHRvIG1hbmFnZSB0aGVpciBPSURzPyIpKSB7CgkJCQkJY3J1ZEFjdGlvblNlbmRJbnZpdGF0aW9uKHBh'));
	@fwrite($fp, base64_decode('cmVudCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsJykudmFsdWUpOwoJCQkJfSBlbHNlIHsKCQkJCQlyZWxvYWRDb250ZW50KCk7CgkJCQkJLy8gVE9ETzogYXVmIHJlbG9hZENvbnRlbnQoKSB2ZXJ6aWNodGVuLiBzdGF0dGRlc3NlbiBudXIgdHJl'));
	@fwrite($fp, base64_decode('ZSBsaW5rcyBha3R1YWxpc2llcmVuLCB1bmQgcmVjaHRzIGVpbmUgbmV1ZSB6ZWlsZSB6dXIgdGFiZWxsZSBoaW56dWb8Z2VuCgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBjcnVk'));
	@fwrite($fp, base64_decode('QWN0aW9uVXBkYXRlKGlkLCBwYXJlbnQpIHsKCSQuYWpheCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiVXBkYXRlIiwKCQkJaWQ6aWQsCgkJCXJhX2VtYWlsOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdy'));
	@fwrite($fp, base64_decode('YV9lbWFpbF8nK2lkKS52YWx1ZSwKCQkJYXNuMWlkczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzbjFpZHNfJytpZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNuMWlkc18nK2lkKS52YWx1ZSA6IG51bGwpLAoJCQlpcmlzOihkb2N1bWVudC5nZXRF'));
	@fwrite($fp, base64_decode('bGVtZW50QnlJZCgnaXJpc18nK2lkKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzXycraWQpLnZhbHVlIDogbnVsbCksCgkJCWNvbmZpZGVudGlhbDooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGVfJytpZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50'));
	@fwrite($fp, base64_decode('QnlJZCgnaGlkZV8nK2lkKS5jaGVja2VkIDogbnVsbCksCgkJCXBhcmVudDpwYXJlbnQKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlz'));
	@fwrite($fp, base64_decode('dWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJYWxlcnQoIlVwZGF0ZSBPSyIpOwoJCQkJLy8g'));
	@fwrite($fp, base64_decode('cmVsb2FkQ29udGVudCgpOwoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoInJlZnJlc2giKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAxKSB7CgkJCQlpZiAoY29uZmlybSgiVXBkYXRlIE9LLiBIb3dldmVyLCB0aGUgZW1haWwgYWRkcmVzcyB5b3UgaGF2'));
	@fwrite($fp, base64_decode('ZSBlbnRlcmVkICgiK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbF8nK2lkKS52YWx1ZSsiKSBpcyBub3QgaW4gb3VyIHN5c3RlbS4gRG8geW91IHdhbnQgdG8gc2VuZCBhbiBpbnZpdGF0aW9uLCBzbyB0aGF0IHRoZSBSQSBjYW4gcmVnaXN0ZXIgYW4g'));
	@fwrite($fp, base64_decode('YWNjb3VudCB0byBtYW5hZ2UgdGhlaXIgT0lEcz8iKSkgewoJCQkJCWNydWRBY3Rpb25TZW5kSW52aXRhdGlvbihwYXJlbnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbF8nK2lkKS52YWx1ZSk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIHJlbG9hZENv'));
	@fwrite($fp, base64_decode('bnRlbnQoKTsKCQkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvbkRlbGV0ZShpZCwgcGFyZW50KSB7'));
	@fwrite($fp, base64_decode('CglpZighd2luZG93LmNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZSAiK2lkKyI/IikpIHJldHVybiBmYWxzZTsKCgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246'));
	@fwrite($fp, base64_decode('IkRlbGV0ZSIsCgkJCWlkOmlkLAoJCQlwYXJlbnQ6cGFyZW50CgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczpmdW5jdGlv'));
	@fwrite($fp, base64_decode('bihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKCQkJCXJlbG9hZENvbnRlbnQoKTsKCQkJCS8vIFRPRE86IGF1ZiByZWxvYWRD'));
	@fwrite($fp, base64_decode('b250ZW50KCkgdmVyemljaHRlbi4gc3RhdHRkZXNzZW4gbnVyIHRyZWUgbGlua3MgYWt0dWFsaXNpZXJlbiwgdW5kIHJlY2h0cyBkaWUgemVpbGUgYXVzIGRlciB0YWJlbGxlIGz2c2NoZW4KCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJy'));
	@fwrite($fp, base64_decode('b3IpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGRlbGV0ZVJhKGVtYWlsLCBnb3RvKSB7CglpZighd2luZG93LmNvbmZpcm0oIkFyZSB5b3UgcmVhbGx5IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBkZWxldGUgIitlbWFpbCsiPyAoVGhlIE9JRHMgc3RheSBhY3Rp'));
	@fwrite($fp, base64_decode('dmUpIikpIHJldHVybiBmYWxzZTsKCgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ImRlbGV0ZV9yYSIsCgkJCWVtYWlsOmVtYWlsLAoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRT'));
	@fwrite($fp, base64_decode('dGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsK'));
	@fwrite($fp, base64_decode('CQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiRG9uZS4iKTsKCQkJCWlmIChnb3RvICE9IG51bGwpIGRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pOwoJCQkJLy8gcmVsb2FkQ29udGVu'));
	@fwrite($fp, base64_decode('dCgpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0KCQl9Cgl9KTsKfQoKLy8gVGhpcyBmdW5jdGlvbiBvcGVucyB0aGUgInBhcmVudElEIiBub2RlLCBhbmQgdGhlbiBzZWxlY3RzIHRoZSAiY2hpbGRJRCIgbm9kZSAo'));
	@fwrite($fp, base64_decode('d2hpY2ggc2hvdWxkIGJlIGJlbmVhdGggdGhlIHBhcmVudCBub2RlKQpmdW5jdGlvbiBvcGVuQW5kU2VsZWN0Tm9kZShjaGlsZElELCBwYXJlbnRJRCkgewoJaWYgKCQoJyNvaWR0cmVlJykuanN0cmVlKHRydWUpLmdldF9ub2RlKHBhcmVudElEKSkgewoJCSQoJyNv'));
	@fwrite($fp, base64_decode('aWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUnLCBwYXJlbnRJRCwgZnVuY3Rpb24oZSwgZGF0YSkgeyAvLyBvcGVuIHBhcmVudCBub2RlCgkJCWlmICgkKCcjb2lkdHJlZScpLmpzdHJlZSh0cnVlKS5nZXRfbm9kZShjaGlsZElEKSkgeyAvLyBpcyB0aGUgY2hpbGQg'));
	@fwrite($fp, base64_decode('dGhlcmU/CgkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGNoaWxkSUQpOyAvLyBzZWxlY3QgaXQKCQkJfSBlbHNlIHsKCQkJCS8vIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29udGVudCBwYWdlIGNv'));
	@fwrite($fp, base64_decode('bnRhaW5zIGJyYW5kIG5ldyBpdGVtcyB3aGljaCBhcmUgbm90IGluIHRoZSB0cmVldmlldyB5ZXQKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNoaWxkSUQpOwoJCQl9CgkJfSwgdHJ1ZSk7Cgl9IGVsc2UgewoJCS8v'));
	@fwrite($fp, base64_decode('IFRoaXMgc2hvdWxkIHVzdWFsbHkgbm90IGhhcHBlbgoJCWRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNoaWxkSUQpOwoJfQp9CgokKHdpbmRvdykub24oInBvcHN0YXRlIiwgZnVuY3Rpb24oZSkgewoJcG9wc3RhdGVfcnVu'));
	@fwrite($fp, base64_decode('bmluZyA9IHRydWU7Cgl0cnkgewoJCXZhciBkYXRhID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlOwoKCQljdXJyZW50X25vZGUgPSBkYXRhLm5vZGVfaWQ7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBk'));
	@fwrite($fp, base64_decode('YXRhLm5vZGVfaWQpOwoJCSQoJyNyZWFsX3RpdGxlJykuaHRtbChkYXRhLnRpdGxlSFRNTCk7CgkJJCgnI3JlYWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0SFRNTCk7CgkJJCgnI3N0YXRpY19saW5rJykuYXR0cigiaHJlZiIsIGRhdGEuc3RhdGljbGlua0hSRUYp'));
	@fwrite($fp, base64_decode('OwoJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlSFRNTC5odG1sX2VudGl0eV9kZWNvZGUoKSk7Cgl9IGNhdGNoIChlcnIpIHsKCQlwb3BzdGF0ZV9ydW5u'));
	@fwrite($fp, base64_decode('aW5nID0gZmFsc2U7Cgl9IGZpbmFsbHkgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCX0KfSk7CgokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CgkvLyAtLS0gSnNUcmVlCgoJJCgnI29pZHRyZWUnKQoJLmpzdHJlZSh7CgkJcGx1Z2luczogWydt'));
	@fwrite($fp, base64_decode('YXNzbG9hZCcsJ3NlYXJjaCcsJ2NvbmRpdGlvbmFsc2VsZWN0J10sCgkJJ2NvcmUnIDogewoJCQknZGF0YScgOiB7CgkJCQkidXJsIiA6IGdldFRyZWVMb2FkVVJMKCksCgkJCQkiZGF0YSIgOiBmdW5jdGlvbiAobm9kZSkgewoJCQkJCXJldHVybiB7ICJpZCIgOiBu'));
	@fwrite($fp, base64_decode('b2RlLmlkIH07CgkJCQl9CgkJCX0sCgkJCSJtdWx0aXBsZSI6IGZhbHNlCgkJfSwKCQknY29uZGl0aW9uYWxzZWxlY3QnIDogZnVuY3Rpb24gKG5vZGUpIHsKCQkJaWYgKG5vZGUub3JpZ2luYWwuY29uZGl0aW9uYWxzZWxlY3QgIT09IHVuZGVmaW5lZCkgewoJCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIGV2YWwobm9kZS5vcmlnaW5hbC5jb25kaXRpb25hbHNlbGVjdCk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gdHJ1ZTsgLy8gYWxsb3cgc2VsZWN0CgkJCX0KCQl9LAoJfSkKCS5vbigncmVhZHkuanN0cmVlJywgZnVuY3Rpb24gKGUsIGRhdGEpIHsKCQl2'));
	@fwrite($fp, base64_decode('YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CgkJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJCWlmIChnb3RvID09IG51bGwpIGdvdG8gPSAib2lkcGx1czpzeXN0ZW0iOyAvLyB0aGUgcGFnZSB3YXMgbm90IGNh'));
	@fwrite($fp, base64_decode('bGxlZCB3aXRoID9nb3RvPS4uLgoKCQkvLyBCeSBzZXR0aW5nIGN1cnJlbnRfbm9kZSwgc2VsZWN0X25vZGUoKSB3aWxsIG5vdCBjYXVzZSBhamF4LnBocD9hY3Rpb249Z2V0X2Rlc2NyaXB0aW9uIHRvIGxvYWQgKHNpbmNlIHdlIGFscmVhZHkgbG9hZGVkIHRoZSBm'));
	@fwrite($fp, base64_decode('aXJzdCBzdGF0aWMgY29udGVudCB2aWEgUEhQLCBmb3Igc2VhcmNoIGVuZ2luZXMgbWFpbmx5KQoJCS8vIEJ1dCB0aGVuIHdlIG5lZWQgdG8gc2V0IHRoZSBoaXN0b3J5IHN0YXRlIG1hbnVhbGx5CgkJY3VycmVudF9ub2RlID0gZ290bzsKCQl3aW5kb3cuaGlzdG9y'));
	@fwrite($fp, base64_decode('eS5yZXBsYWNlU3RhdGUoewoJCQkibm9kZV9pZCI6Z290bywKCQkJInRpdGxlSFRNTCI6JCgnI3JlYWxfdGl0bGUnKS5odG1sKCksCgkJCSJ0ZXh0SFRNTCI6JCgnI3JlYWxfY29udGVudCcpLmh0bWwoKSwKCQkJInN0YXRpY2xpbmtIUkVGIjoiaW5kZXgucGhwP2dv'));
	@fwrite($fp, base64_decode('dG89IitlbmNvZGVVUklDb21wb25lbnQoZ290byksCgkJfSwgJCgnI3JlYWxfdGl0bGUnKS5odG1sKCksICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChnb3RvKSk7CgoJCWlmIChnb3RvICE9IG51bGwpIGRhdGEuaW5zdGFuY2Uuc2VsZWN0X25vZGUoW2dvdG9d'));
	@fwrite($fp, base64_decode('KTsKCgkJZ2xheW91dC5yZXNpemVBbGwoKTsgLy8gUmVxdWlyZWQsIG90aGVyd2lzZSB0aGUgZGVzaWduIGJyZWFrcyBzb21ldGltZXMuLi4gQnVnIGluIENocm9tZT8KCX0pCgkub24oJ3NlbGVjdF9ub2RlLmpzdHJlZScsIGZ1bmN0aW9uIChub2RlLCBzZWxlY3Rl'));
	@fwrite($fp, base64_decode('ZCwgZXZlbnQpIHsKCQltb2JpbGVOYXZDbG9zZSgpOwoKCQl2YXIgaWQgPSBzZWxlY3RlZC5ub2RlLmlkOwoJCWlmICgoIXBvcHN0YXRlX3J1bm5pbmcpICYmIChjdXJyZW50X25vZGUgIT0gaWQpKSB7CgkJCW9wZW5PaWRJblBhbmVsKGlkLCBmYWxzZSk7CgkJfQoK'));
	@fwrite($fp, base64_decode('CQlnbGF5b3V0LnJlc2l6ZUFsbCgpOyAvLyBUaGlzIHByb2JhYmx5IG5vdCByZXF1aXJlZCwgYnV0IGp1c3QgdG8gbWFrZSBzdXJlCgl9KTsKCgkvLyAtLS0gTGF5b3V0CgoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5c3RlbV90aXRsZV9tZW51Jykuc3R5bGUu'));
	@fwrite($fp, base64_decode('ZGlzcGxheSA9ICJibG9jayI7CgoJJCgnI29pZHRyZWUnKS5hZGRDbGFzcygndWktbGF5b3V0LXdlc3QnKTsKCSQoJyNjb250ZW50X3dpbmRvdycpLmFkZENsYXNzKCd1aS1sYXlvdXQtY2VudGVyJyk7CgkkKCcjc3lzdGVtX3RpdGxlX2JhcicpLmFkZENsYXNzKCd1'));
	@fwrite($fp, base64_decode('aS1sYXlvdXQtbm9ydGgnKTsKCWdsYXlvdXQgPSAkKCcjZnJhbWVzJykubGF5b3V0KHsKCQlub3J0aF9fc2l6ZTogICAgICAgICAgICAgICAgICA0MCwKCQlub3J0aF9fc2xpZGFibGU6ICAgICAgICAgICAgICBmYWxzZSwKCQlub3J0aF9fY2xvc2FibGU6ICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICBmYWxzZSwKCQlub3J0aF9fcmVzaXphYmxlOiAgICAgICAgICAgICBmYWxzZSwKCQl3ZXN0X19zaXplOiAgICAgICAgICAgICAgICAgICA0NTAsCgkJd2VzdF9fc3BhY2luZ19jbG9zZWQ6ICAgICAgICAgMjAsCgkJd2VzdF9fdG9nZ2xlckxlbmd0aF9j'));
	@fwrite($fp, base64_decode('bG9zZWQ6ICAgMjMwLAoJCXdlc3RfX3RvZ2dsZXJBbGlnbl9jbG9zZWQ6ICAgICJ0b3AiLAoJCXdlc3RfX3RvZ2dsZXJDb250ZW50X2Nsb3NlZDogICJPPGJyPkI8YnI+Sjxicj5FPGJyPkM8YnI+VDxicj48YnI+VDxCUj5SPEJSPkU8QlI+RSIsCgkJd2VzdF9fdG9n'));
	@fwrite($fp, base64_decode('Z2xlclRpcF9jbG9zZWQ6ICAgICAgIk9wZW4gJiBQaW4gTWVudSIsCgkJd2VzdF9fc2xpZGVyVGlwOiAgICAgICAgICAgICAgIlNsaWRlIE9wZW4gTWVudSIsCgkJd2VzdF9fc2xpZGVUcmlnZ2VyX29wZW46ICAgICAgIm1vdXNlb3ZlciIsCgkJY2VudGVyX19tYXNr'));
	@fwrite($fp, base64_decode('Q29udGVudHM6ICAgICAgICAgdHJ1ZSAvLyBJTVBPUlRBTlQgLSBlbmFibGUgaWZyYW1lIG1hc2tpbmcKCX0pOwp9KTsKCmZ1bmN0aW9uIG1vYmlsZU5hdkNsb3NlKCkgewoJaWYgKCQoIiNzeXN0ZW1fdGl0bGVfbWVudSIpLmlzKCI6aGlkZGVuIikpIHsKCQlyZXR1'));
	@fwrite($fp, base64_decode('cm47Cgl9CgoJJCgiI29pZHRyZWUiKS5zbGlkZVVwKCJtZWRpdW0iKS5wcm9taXNlKCkuZG9uZShmdW5jdGlvbigpIHsKCQkkKCIjb2lkdHJlZSIpLmFkZENsYXNzKCJ1aS1sYXlvdXQtd2VzdCIpOwoJCSQoIiNvaWR0cmVlIikuc2hvdygpOwoJfSk7CgkkKCIjc3lz'));
	@fwrite($fp, base64_decode('dGVtX3RpdGxlX21lbnUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdk9wZW4oKSB7CgkkKCIjb2lkdHJlZSIpLmhpZGUoKTsKCSQoIiNvaWR0cmVlIikucmVtb3ZlQ2xhc3MoInVpLWxheW91dC13ZXN0Iik7CgkkKCIjb2lkdHJl'));
	@fwrite($fp, base64_decode('ZSIpLnNsaWRlRG93bigibWVkaXVtIik7CgkkKCIjc3lzdGVtX3RpdGxlX21lbnUiKS5hZGRDbGFzcygiYWN0aXZlIik7Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdkJ1dHRvbkNsaWNrKHNlbmRlcikgewoJaWYgKCQoIiNvaWR0cmVlIikuaGFzQ2xhc3MoInVpLWxheW91'));
	@fwrite($fp, base64_decode('dC13ZXN0IikpIHsKCQltb2JpbGVOYXZPcGVuKCk7Cgl9IGVsc2UgewoJCW1vYmlsZU5hdkNsb3NlKCk7Cgl9Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdkJ1dHRvbkhvdmVyKHNlbmRlcikgewoJc2VuZGVyLmNsYXNzTGlzdC50b2dnbGUoImhvdmVyIik7Cn0K'));
	@fclose($fp);
}
if (!is_file('oidplus.js')) {
	warn('File has vanished! Will re-create it: oidplus.js');
	writefile_2();
	if (!is_file('oidplus.js')) {
		warn('File cannot be created (not existing): oidplus.js');
	} else if (sha1_file('oidplus.js') != 'a57d729cfec30d32c4823a3524d3cb7165cd71f9') {
		warn('File cannot be created (checksum mismatch): oidplus.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.js', 0644)) {
		warn('Could not change file permissions of oidplus.js');
	}
} else {
	if (@sha1_file('oidplus.js') !== 'a57d729cfec30d32c4823a3524d3cb7165cd71f9') {
		if (@sha1_file('oidplus.js') !== '64cac18b348da61e3a3f0603e393c3940079071e') {
			warn('File was modified. Will overwrite the changes now: oidplus.js');
			$tmp = pathinfo('oidplus.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('oidplus.js') !== 'a57d729cfec30d32c4823a3524d3cb7165cd71f9') {
			warn('File cannot be written (checksum mismatch): oidplus.js');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 128\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 128') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

