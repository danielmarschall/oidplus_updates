<?php /* <ViaThinkSoftSignature>
aXYSBPwK4bf42MsS2pZTqyFdIeP+tUV16tzLVfVHNIqweey5MKijTl2QDAEN4Ig+P
Dhu+6Xbfcx/1Yeq6OYijtrjFKEAyMTt/VHc48HWmd/Qza3Q3rM6pDmoL0vvn1GtmO
FlyWYzO/MkiVc4xVSfnC/P8HSYL4NkZ0xCYtN8sUNCJ9u8oKY90X+DyPfTT95N4be
yn0BD85E+W67eyPgOo8PaiDNSzurUGyv7ZHqt4DsOi0eHwlgJq4mSFFUwSkiLh/nd
mumyUDBQmQcyBQOS8k1f0Q1l8/lg+VsCLITc3drtLtb/NOqeCrSPbMNJIYSceHHC8
TCKtpicUGgmhBlZ9GSSyVb9tpJdIIMxlaMY8A3X1KnGYYju9GU1/+szxhwfgJkiF8
yVIthKIkbiAYLstvuSAAa4Dd584C0ACzi8dwiP/MPZTj6Rhlqh/+XGzaIl9mGcTog
XrJIaHUV28iR4MA7tcOHMhDkd04HgeXxv7P9atZcTx2szJmPDZRxWvNoPc3NaAxQ0
eqzISBADHPP8+CUS4oelMv6M2X4FFRFT3P4OPOK3EoU8ThYLqhq1dDQDpIGX5bSWA
jrB8SAd9k+APccvC/Xh//J84coKdMUBIWMhnbK7k1+by4PGGmUokbzn2ShgbyYmsG
QQiTzN9qixUXf4q9MdUEMKSC9Ho/mFAvzkiswnDnlVfPSUrmSERbVlK6QBnYQAa/I
WK3tLmFRYuNNt8aA4hyDOx4MP/Pi+mldgKpsFxwVEUaBFxuWw0DzmvWrBDlVnICv9
Mtn5TsQpTSD1uBXbRo7x3fU6FNeU6a0w2XHb11eFSuDcaodKlRtXtVA1Kr+jYnQWV
F5q8oNZraDV9xGD2DKlTWOcQvW6e/XJFlR2A9TAVcRn1vLWytqkhG+kbiN+kBVk9a
IWCxlvUhU3/I10yV5nVF8Rivcd6FUoy/sdTIfnmFH1XhAlwWugIZa+rTq9ByMtHxC
jWCFNHbRPe570XDXvrlELNh6KSGrLGqFuzZsXxGTneutTvtea3TdWd+saB4BM2Emo
r0yiOPGGtZAE2tWSD6SUYK25vNeEioX6WQ7oOdYDH7skSa0KOPGtM0FeA8IQKgfmq
bYlsEE6IaNGGCfd0187nUV8YIqhfMbr1W+OkxFrIM4B5MN4eHTHcEwlQDt8kUYsmV
CaPtR/pbBh1i/v5D8ByE8/sh1UUyTHvel+IXntWo1HzFTbBQS0RiRImG0a6a/mMSZ
NhgxBskVHPn2Ik76TGgfj0+sLVZN1y3Aj1P0gg/ye/ZGyDbuq+YtfHf1+DQKrio9k
vL6tYHkTlUv47Y/b3HZXq0s7CZzgXTzrpA9tMT94jsAe3gscs/4syc3I5jPFmw3Bx
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 772') {
	err('This update can only be applied to OIDplus version 2.0.0.772!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: ajax.php
function writefile_1() {
	@$fp = fopen('ajax.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCnRyeSB7CglPSURwbHVzOjppbml0KGZhbHNlKTsKCglpZiAoaXNzZXQoJF9HRVRbJ09JRFBM'));
	@fwrite($fp, base64_decode('VVNfQVVUSF9KV1QnXSkgfHwgaXNzZXQoJF9QT1NUWydPSURQTFVTX0FVVEhfSldUJ10pKSB7CgkJb3JpZ2luSGVhZGVycygpOyAvLyBBbGxvd3MgcXVlcmllcyBmcm9tIG90aGVyIGRvbWFpbnMKCQlPSURwbHVzOjphdXRoVXRpbHMoKS0+ZGlzYWJsZUNTUkYoKTsg'));
	@fwrite($fp, base64_decode('Ly8gYWxsb3cgYWNjZXNzIHRvIGFqYXgucGhwIHdpdGhvdXQgdmFsaWQgQ1NSRiB0b2tlbgoJfQoKCSRqc29uX291dCA9IG51bGw7CgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsncGx1Z2luJ10pICYmICgkX1JFUVVFU1RbJ3BsdWdpbiddICE9ICcnKSkgewoKCQkvLyBB'));
	@fwrite($fp, base64_decode('Y3Rpb25zIGhhbmRsZWQgYnkgcGx1Z2lucwoKCQkkcGx1Z2luID0gT0lEcGx1czo6Z2V0UGx1Z2luQnlPaWQoJF9SRVFVRVNUWydwbHVnaW4nXSk7CgkJaWYgKCEkcGx1Z2luKSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdQbHVnaW4gd2l0aCBP'));
	@fwrite($fp, base64_decode('SUQgIiUxIiBub3QgZm91bmQnLCRfUkVRVUVTVFsncGx1Z2luJ10pKTsKCQl9CgoJCSRwYXJhbXMgPSBhcnJheSgpOwoJCWZvcmVhY2ggKGFycmF5X21lcmdlKCRfUE9TVCwkX0dFVCkgYXMgJG5hbWUgPT4gJHZhbCkgewoJCQlpZiAoKCRuYW1lICE9ICdhY3Rpb24n'));
	@fwrite($fp, base64_decode('KSAmJiAoJG5hbWUgIT0gJ3BsdWdpbicpKSB7CgkJCQkkcGFyYW1zWyRuYW1lXSA9ICR2YWw7CgkJCX0KCQl9CgoJCWlmIChpc3NldCgkX1JFUVVFU1RbJ2FjdGlvbiddKSAmJiAoJF9SRVFVRVNUWydhY3Rpb24nXSAhPSAnJykpIHsKCQkJaWYgKCRwbHVnaW4tPmNz'));
	@fwrite($fp, base64_decode('cmZVbmxvY2soJF9SRVFVRVNUWydhY3Rpb24nXSkpIHsKCQkJCW9yaWdpbkhlYWRlcnMoKTsgLy8gQWxsb3dzIHF1ZXJpZXMgZnJvbSBvdGhlciBkb21haW5zCgkJCQlPSURwbHVzOjphdXRoVXRpbHMoKS0+ZGlzYWJsZUNTUkYoKTsgLy8gYWxsb3cgYWNjZXNzIHRv'));
	@fwrite($fp, base64_decode('IGFqYXgucGhwIHdpdGhvdXQgdmFsaWQgQ1NSRiB0b2tlbgoJCQl9CgoJCQlPSURwbHVzOjphdXRoVXRpbHMoKS0+Y2hlY2tDU1JGKCk7CgoJCQlpZiAoIU9JRHBsdXM6OmJhc2Vjb25maWcoKS0+Z2V0VmFsdWUoJ0RJU0FCTEVfQUpBWF9UUkFOU0FDVElPTlMnLGZh'));
	@fwrite($fp, base64_decode('bHNlKSAmJiBPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9zdXBwb3J0ZWQoKSkgewoJCQkJT0lEcGx1czo6ZGIoKS0+dHJhbnNhY3Rpb25fYmVnaW4oKTsKCQkJfQoKCQkJJGpzb25fb3V0ID0gJHBsdWdpbi0+YWN0aW9uKCRfUkVRVUVTVFsnYWN0aW9uJ10sICRw'));
	@fwrite($fp, base64_decode('YXJhbXMpOwoJCQlpZiAoIWlzX2FycmF5KCRqc29uX291dCkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdQbHVnaW4gd2l0aCBPSUQgJTEgZGlkIG5vdCBvdXRwdXQgYXJyYXkgb2YgcmVzdWx0IGRhdGEnLCRfUkVRVUVTVFsncGx1Z2luJ10p'));
	@fwrite($fp, base64_decode('KTsKCQkJfQoJCQlpZiAoIWlzc2V0KCRqc29uX291dFsnc3RhdHVzJ10pKSAkanNvbl9vdXRbJ3N0YXR1cyddID0gLTE7CgoJCQlpZiAoIU9JRHBsdXM6OmJhc2Vjb25maWcoKS0+Z2V0VmFsdWUoJ0RJU0FCTEVfQUpBWF9UUkFOU0FDVElPTlMnLGZhbHNlKSAmJiBP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9zdXBwb3J0ZWQoKSkgewoJCQkJT0lEcGx1czo6ZGIoKS0+dHJhbnNhY3Rpb25fY29tbWl0KCk7CgkJCX0KCQl9IGVsc2UgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSW52YWxpZCBhY3Rpb24gSUQn'));
	@fwrite($fp, base64_decode('KSk7CgkJfQoKCX0gZWxzZSB7CgoJCS8vIEFjdGlvbnMgaGFuZGxlZCBieSB0aGUgc3lzdGVtIChiYXNlIGZ1bmN0aW9uYWxpdHkgbGlrZSB0aGUgSlMgdHJlZSkKCgkJT0lEcGx1czo6YXV0aFV0aWxzKCktPmNoZWNrQ1NSRigpOwoKCQlpZiAoaXNzZXQoJF9SRVFV'));
	@fwrite($fp, base64_decode('RVNUWydhY3Rpb24nXSkgJiYgKCRfUkVRVUVTVFsnYWN0aW9uJ10gPT0gJ2dldF9kZXNjcmlwdGlvbicpKSB7CgkJCS8vIEFjdGlvbjogICAgIGdldF9kZXNjcmlwdGlvbgoJCQkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkJCS8vIFBhcmFtZXRlcnM6IGlkCgkJ'));
	@fwrite($fp, base64_decode('CS8vIE91dHB1dHM6ICAgIEpTT04KCQkJX0NoZWNrUGFyYW1FeGlzdHMoJF9SRVFVRVNULCAnaWQnKTsKCQkJJF9SRVFVRVNUWydpZCddID0gdHJ5X2NvbnZlcnRfd2VpZF90b19vaWQoJF9SRVFVRVNUWydpZCddLCBmYWxzZSk7CgkJCXRyeSB7CgkJCQkkanNvbl9v'));
	@fwrite($fp, base64_decode('dXQgPSBPSURwbHVzOjpndWkoKS0+Z2VuZXJhdGVDb250ZW50UGFnZSgkX1JFUVVFU1RbJ2lkJ10pOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJCSRqc29uX291dCA9IGFycmF5KCk7CgkJCQkkanNvbl9vdXRbJ3RpdGxlJ10gPSBfTCgnRXJyb3InKTsK'));
	@fwrite($fp, base64_decode('CQkJCSRqc29uX291dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRqc29uX291dFsndGV4dCddID0gJGUtPmdldE1lc3NhZ2UoKTsKCQkJfQoJCQkkanNvbl9vdXRbJ3N0YXR1cyddID0gMDsKCQl9IGVsc2UgaWYgKGlzc2V0KCRfUkVRVUVTVFsn'));
	@fwrite($fp, base64_decode('YWN0aW9uJ10pICYmICgkX1JFUVVFU1RbJ2FjdGlvbiddID09ICd0cmVlX3NlYXJjaCcpKSB7CgkJCS8vIEFjdGlvbjogICAgIHRyZWVfc2VhcmNoCgkJCS8vIE1ldGhvZDogICAgIEdFVCAvIFBPU1QKCQkJLy8gUGFyYW1ldGVyczogc2VhcmNoCgkJCS8vIE91dHB1'));
	@fwrite($fp, base64_decode('dHM6ICAgIEpTT04KCQkJX0NoZWNrUGFyYW1FeGlzdHMoJF9SRVFVRVNULCAnc2VhcmNoJyk7CgoJCQkkZm91bmQgPSBmYWxzZTsKCQkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCQkkanNvbl9vdXQgPSAkcGx1Z2lu'));
	@fwrite($fp, base64_decode('LT50cmVlX3NlYXJjaCgkX1JFUVVFU1RbJ3NlYXJjaCddKTsKCQkJCWlmICgkanNvbl9vdXQpIHsKCQkJCQkkZm91bmQgPSB0cnVlOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgoJCQlpZiAoISRmb3VuZCkgewoJCQkJJGpzb25fb3V0ID0gYXJyYXkoKTsKCQkJfQoJ'));
	@fwrite($fp, base64_decode('CX0gZWxzZSBpZiAoaXNzZXQoJF9SRVFVRVNUWydhY3Rpb24nXSkgJiYgKCRfUkVRVUVTVFsnYWN0aW9uJ10gPT0gJ3RyZWVfbG9hZCcpKSB7CgkJCS8vIEFjdGlvbjogICAgIHRyZWVfbG9hZAoJCQkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkJCS8vIFBhcmFt'));
	@fwrite($fp, base64_decode('ZXRlcnM6IGlkOyBnb3RvIChvcHRpb25hbCkKCQkJLy8gT3V0cHV0czogICAgSlNPTgoJCQlfQ2hlY2tQYXJhbUV4aXN0cygkX1JFUVVFU1QsICdpZCcpOwoJCQkkX1JFUVVFU1RbJ2lkJ10gPSB0cnlfY29udmVydF93ZWlkX3RvX29pZCgkX1JFUVVFU1RbJ2lkJ10s'));
	@fwrite($fp, base64_decode('IGZhbHNlKTsKCQkJJGpzb25fb3V0ID0gT0lEcGx1czo6bWVudVV0aWxzKCktPmpzb25fdHJlZSgkX1JFUVVFU1RbJ2lkJ10sIGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJycpOwoJCX0gZWxzZSB7CgkJCXRocm93IG5ldyBP'));
	@fwrite($fp, base64_decode('SURwbHVzRXhjZXB0aW9uKF9MKCdJbnZhbGlkIGFjdGlvbiBJRCcpKTsKCQl9Cgl9CgoJT0lEcGx1czo6aW52b2tlX3NodXRkb3duKCk7CgoJQGhlYWRlcignQ29udGVudC1UeXBlOmFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLTgnKTsKCWVjaG8ganNvbl9l'));
	@fwrite($fp, base64_decode('bmNvZGUoJGpzb25fb3V0KTsKCn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoKCXRyeSB7CgkJaWYgKCFPSURwbHVzOjpiYXNlY29uZmlnKCktPmdldFZhbHVlKCdESVNBQkxFX0FKQVhfVFJBTlNBQ1RJT05TJyxmYWxzZSkgJiYgT0lEcGx1czo6ZGIoKS0+dHJhbnNh'));
	@fwrite($fp, base64_decode('Y3Rpb25fc3VwcG9ydGVkKCkgJiYgKE9JRHBsdXM6OmRiKCktPnRyYW5zYWN0aW9uX2xldmVsKCkgPiAwKSkgewoJCQlPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9yb2xsYmFjaygpOwoJCX0KCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZTEpIHsKCX0KCgkkZXJybXNn'));
	@fwrite($fp, base64_decode('ID0gJGUtPmdldE1lc3NhZ2UoKTsKCSRlcnJtc2cgPSBzdHJpcF90YWdzKCRlcnJtc2cpOwoJJGVycm1zZyA9IGh0bWxfZW50aXR5X2RlY29kZSgkZXJybXNnLCBFTlRfUVVPVEVTLCAnVVRGLTgnKTsKCgkkanNvbl9vdXQgPSBhcnJheSgpOwoJJGpzb25fb3V0Wydz'));
	@fwrite($fp, base64_decode('dGF0dXMnXSA9IC0yOwoJJGpzb25fb3V0WydlcnJvciddID0gJGVycm1zZzsKCSRvdXQgPSBqc29uX2VuY29kZSgkanNvbl9vdXQpOwoKCWlmICgkb3V0ID09PSBmYWxzZSkgewoJCS8vIFNvbWUgbW9kdWxlcyAobGlrZSBPREJDKSBtaWdodCBvdXRwdXQgbm9uLVVU'));
	@fwrite($fp, base64_decode('RjggZGF0YQoJCSRqc29uX291dFsnZXJyb3InXSA9IHV0ZjhfZW5jb2RlKCRlcnJtc2cpOwoJCSRvdXQgPSBqc29uX2VuY29kZSgkanNvbl9vdXQpOwoJfQoKCUBoZWFkZXIoJ0NvbnRlbnQtVHlwZTphcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Jyk7CgoJ'));
	@fwrite($fp, base64_decode('ZWNobyAkb3V0Owp9Cg=='));
	@fclose($fp);
}
if (!is_file('ajax.php')) {
	warn('File has vanished! Will re-create it: ajax.php');
	writefile_1();
	if (!is_file('ajax.php')) {
		warn('File cannot be created (not existing): ajax.php');
	} else if (sha1_file('ajax.php') != '1e7bec22e157d2ab5312d2f90a8864bdf52da0cf') {
		warn('File cannot be created (checksum mismatch): ajax.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('ajax.php', 0644)) {
		warn('Could not change file permissions of ajax.php');
	}
} else {
	if (@sha1_file('ajax.php') !== '1e7bec22e157d2ab5312d2f90a8864bdf52da0cf') {
		if (@sha1_file('ajax.php') !== 'd7ff9332e0e821df6861532996d801f31b8cc020') {
			warn('File was modified. Will overwrite the changes now: ajax.php');
			$tmp = pathinfo('ajax.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('ajax.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('ajax.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('ajax.php') !== '1e7bec22e157d2ab5312d2f90a8864bdf52da0cf') {
			warn('File cannot be written (checksum mismatch): ajax.php');
		}
	}
}

// Files different: includes/functions.inc.php
function writefile_2() {
	@$fp = fopen('includes/functions.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpmdW5jdGlvbiBpbnNlcnRXaGl0ZXNwYWNlKCRzdHIsICRpbmRleCkgewoJcmV0dXJuIHN1YnN0cigkc3RyLCAwLCAkaW5kZXgpIC4gJyAnIC4gc3Vic3RyKCRzdHIsICRpbmRleCk7Cn0K'));
	@fwrite($fp, base64_decode('CmZ1bmN0aW9uIGpzX2VzY2FwZSgkZGF0YSkgewoJLy8gVE9ETy4uLi4ganNvbl9lbmNvZGU/PwoJJGRhdGEgPSBzdHJfcmVwbGFjZSgnXFwnLCAnXFxcXCcsICRkYXRhKTsKCSRkYXRhID0gc3RyX3JlcGxhY2UoJ1wnJywgJ1xcXCcnLCAkZGF0YSk7CglyZXR1cm4g'));
	@fwrite($fp, base64_decode('IiciIC4gJGRhdGEgLiAiJyI7Cn0KCmZ1bmN0aW9uIHRyaW1fYnIoJGh0bWwpIHsKCSRjb3VudCA9IDA7CglkbyB7ICRodG1sID0gcHJlZ19yZXBsYWNlKCdAXlxzKjxccypiclxzKi97MCwxfVxzKj5AaXNVJywgJycsICRodG1sLCAtMSwgJGNvdW50KTsgfSB3aGls'));
	@fwrite($fp, base64_decode('ZSAoJGNvdW50ID4gMCk7IC8vIGxlZnQgdHJpbQoJZG8geyAkaHRtbCA9IHByZWdfcmVwbGFjZSgnQDxccypiclxzKi97MCwxfVxzKj5ccyokQGlzVScsICcnLCAkaHRtbCwgLTEsICRjb3VudCk7IH0gd2hpbGUgKCRjb3VudCA+IDApOyAvLyByaWdodCB0cmltCgly'));
	@fwrite($fp, base64_decode('ZXR1cm4gJGh0bWw7Cn0KCmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tU3RyaW5nKCRsZW5ndGgpIHsKCS8vIE5vdGU6IFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgaW4gdGVtcG9yYXJ5IGZpbGUgbmFtZXMsIHNvIHlvdQoJLy8gbWF5IG5vdCBnZW5lcmF0ZSBpbGxl'));
	@fwrite($fp, base64_decode('Z2FsIGZpbGUgbmFtZSBjaGFyYWN0ZXJzLgoJJGNoYXJhY3RlcnMgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonOwoJJGNoYXJhY3RlcnNMZW5ndGggPSBzdHJsZW4oJGNoYXJhY3RlcnMpOwoJ'));
	@fwrite($fp, base64_decode('JHJhbmRvbVN0cmluZyA9ICcnOwoJZm9yICgkaSA9IDA7ICRpIDwgJGxlbmd0aDsgJGkrKykgewoJCSRyYW5kb21TdHJpbmcgLj0gJGNoYXJhY3RlcnNbcmFuZCgwLCAkY2hhcmFjdGVyc0xlbmd0aCAtIDEpXTsKCX0KCXJldHVybiAkcmFuZG9tU3RyaW5nOwp9Cgpm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiB2ZXJpZnlfcHJpdmF0ZV9wdWJsaWNfa2V5KCRwcml2S2V5LCAkcHViS2V5KSB7CglpZiAoIWZ1bmN0aW9uX2V4aXN0cygnb3BlbnNzbF9wdWJsaWNfZW5jcnlwdCcpKSByZXR1cm4gZmFsc2U7Cgl0cnkgewoJCWlmIChlbXB0eSgkcHJpdktleSkpIHJl'));
	@fwrite($fp, base64_decode('dHVybiBmYWxzZTsKCQlpZiAoZW1wdHkoJHB1YktleSkpIHJldHVybiBmYWxzZTsKCQkkZGF0YSA9IGdlbmVyYXRlUmFuZG9tU3RyaW5nKDI1KTsKCQkkZW5jcnlwdGVkID0gJyc7CgkJJGRlY3J5cHRlZCA9ICcnOwoJCWlmICghQG9wZW5zc2xfcHVibGljX2VuY3J5'));
	@fwrite($fp, base64_decode('cHQoJGRhdGEsICRlbmNyeXB0ZWQsICRwdWJLZXkpKSByZXR1cm4gZmFsc2U7CgkJaWYgKCFAb3BlbnNzbF9wcml2YXRlX2RlY3J5cHQoJGVuY3J5cHRlZCwgJGRlY3J5cHRlZCwgJHByaXZLZXkpKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuICRkZWNyeXB0ZWQgPT0g'));
	@fwrite($fp, base64_decode('JGRhdGE7Cgl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9Cn0KCmZ1bmN0aW9uIHNtYWxsaGFzaCgkZGF0YSkgeyAvLyBnZXQgMzEgYml0cyBmcm9tIFNIQTEuIFZhbHVlcyAwLi4yMTQ3NDgzNjQ3CglyZXR1cm4gKGhleGRlYyhzdWJz'));
	@fwrite($fp, base64_decode('dHIoc2hhMSgkZGF0YSksLTQqMikpICYgMHg3RkZGRkZGRik7Cn0KCmZ1bmN0aW9uIHNwbGl0X2ZpcnN0bmFtZV9sYXN0bmFtZSgkbmFtZSkgewoJJGFyeSA9IGV4cGxvZGUoJyAnLCAkbmFtZSk7CgkkbGFzdF9uYW1lID0gYXJyYXlfcG9wKCRhcnkpOwoJJGZpcnN0'));
	@fwrite($fp, base64_decode('X25hbWUgPSBpbXBsb2RlKCcgJywgJGFyeSk7CglyZXR1cm4gYXJyYXkoJGZpcnN0X25hbWUsICRsYXN0X25hbWUpOwp9CgpmdW5jdGlvbiBvcmlnaW5IZWFkZXJzKCkgewoJLy8gQ09SUwoJLy8gQXV0aG9yOiBUaWxsIFdlaG93c2tpCgkvLyBUT0RPOiBhZGQgdG8g'));
	@fwrite($fp, base64_decode('Y2xhc3MgT0lEcGx1cwoKCWhlYWRlcigiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHM6IHRydWUiKTsKCWhlYWRlcigiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luOiAiLnN0cmlwX3RhZ3MoKChpc3NldCgkX1NFUlZFUlsnSFRUUF9PUklHSU4nXSkp'));
	@fwrite($fp, base64_decode('ID8gJF9TRVJWRVJbJ0hUVFBfT1JJR0lOJ10gOiAiKiIpKSk7CgoJaGVhZGVyKCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzOiBJZi1Ob25lLU1hdGNoLCBYLVJlcXVlc3RlZC1XaXRoLCBPcmlnaW4sIFgtRnJkbHdlYi1CdWdzLCBFdGFnLCBYLUZvcmdlcnkt'));
	@fwrite($fp, base64_decode('UHJvdGVjdGlvbi1Ub2tlbiwgWC1DU1JGLVRva2VuIik7CgoJaWYgKGlzc2V0KCRfU0VSVkVSWydIVFRQX09SSUdJTiddKSkgewoJCWhlYWRlcignWC1GcmFtZS1PcHRpb25zOiBBTExPVy1GUk9NICcuJF9TRVJWRVJbJ0hUVFBfT1JJR0lOJ10pOwoJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQloZWFkZXJfcmVtb3ZlKCJYLUZyYW1lLU9wdGlvbnMiKTsKCX0KCgkkZXhwb3NlID0gYXJyYXkoJ0V0YWcnLCAnWC1DU1JGLVRva2VuJyk7Cglmb3JlYWNoIChoZWFkZXJzX2xpc3QoKSBhcyAkbnVtID0+ICRoZWFkZXIpIHsKCQkkaCA9IGV4cGxvZGUoJzonLCAk'));
	@fwrite($fp, base64_decode('aGVhZGVyKTsKCQkkZXhwb3NlW10gPSB0cmltKCRoWzBdKTsKCX0KCWhlYWRlcigiQWNjZXNzLUNvbnRyb2wtRXhwb3NlLUhlYWRlcnM6ICIuaW1wbG9kZSgnLCcsJGV4cG9zZSkpOwoKCWhlYWRlcigiVmFyeTogT3JpZ2luIik7Cn0KCmZ1bmN0aW9uIGdldF9jYWxs'));
	@fwrite($fp, base64_decode('aW5nX2Z1bmN0aW9uKCkgewoJJGV4ID0gbmV3IEV4Y2VwdGlvbigpOwoJJHRyYWNlID0gJGV4LT5nZXRUcmFjZSgpOwoJaWYgKCFpc3NldCgkdHJhY2VbMl0pKSByZXR1cm4gX0woJyhtYWluKScpOwoJJGZpbmFsX2NhbGwgPSAkdHJhY2VbMl07CglyZXR1cm4gJGZp'));
	@fwrite($fp, base64_decode('bmFsX2NhbGxbJ2ZpbGUnXS4nOicuJGZpbmFsX2NhbGxbJ2xpbmUnXS4nLycuJGZpbmFsX2NhbGxbJ2Z1bmN0aW9uJ10uJygpJzsKfQoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ21iX3dvcmR3cmFwJykpIHsKCWZ1bmN0aW9uIG1iX3dvcmR3cmFwKCRzdHIsICR3aWR0'));
	@fwrite($fp, base64_decode('aCA9IDc1LCAkYnJlYWsgPSAiXG4iLCAkY3V0ID0gZmFsc2UpIHsKCQkvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDk4ODQ5NC80ODg1MzkKCQkkbGluZXMgPSBleHBsb2RlKCRicmVhaywgJHN0cik7CgkJZm9yZWFjaCAoJGxpbmVzIGFzICYkbGluZSkg'));
	@fwrite($fp, base64_decode('ewoJCQkkbGluZSA9IHJ0cmltKCRsaW5lKTsKCQkJaWYgKG1iX3N0cmxlbigkbGluZSkgPD0gJHdpZHRoKSB7CgkJCQljb250aW51ZTsKCQkJfQoJCQkkd29yZHMgPSBleHBsb2RlKCcgJywgJGxpbmUpOwoJCQkkbGluZSA9ICcnOwoJCQkkYWN0dWFsID0gJyc7CgkJ'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKCR3b3JkcyBhcyAkd29yZCkgewoJCQkJaWYgKG1iX3N0cmxlbigkYWN0dWFsLiR3b3JkKSA8PSAkd2lkdGgpIHsKCQkJCQkkYWN0dWFsIC49ICR3b3JkLicgJzsKCQkJCX0gZWxzZSB7CgkJCQkJaWYgKCRhY3R1YWwgIT0gJycpIHsKCQkJCQkJJGxp'));
	@fwrite($fp, base64_decode('bmUgLj0gcnRyaW0oJGFjdHVhbCkuJGJyZWFrOwoJCQkJCX0KCQkJCQkkYWN0dWFsID0gJHdvcmQ7CgkJCQkJaWYgKCRjdXQpIHsKCQkJCQkJd2hpbGUgKG1iX3N0cmxlbigkYWN0dWFsKSA+ICR3aWR0aCkgewoJCQkJCQkJJGxpbmUgLj0gbWJfc3Vic3RyKCRhY3R1'));
	@fwrite($fp, base64_decode('YWwsIDAsICR3aWR0aCkuJGJyZWFrOwoJCQkJCQkJJGFjdHVhbCA9IG1iX3N1YnN0cigkYWN0dWFsLCAkd2lkdGgpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCSRhY3R1YWwgLj0gJyAnOwoJCQkJfQoJCQl9CgkJCSRsaW5lIC49IHRyaW0oJGFjdHVhbCk7CgkJfQoJCXJl'));
	@fwrite($fp, base64_decode('dHVybiBpbXBsb2RlKCRicmVhaywgJGxpbmVzKTsKCX0KfQoKZnVuY3Rpb24gaHR0cE91dFdpdGhFVGFnKCRvdXQsICRjb250ZW50VHlwZSwgJGZpbGVuYW1lPScnKSB7CgkkZXRhZyA9IG1kNSgkb3V0KTsKCWhlYWRlcigiRXRhZzogJGV0YWciKTsKCWhlYWRlcigi'));
	@fwrite($fp, base64_decode('Q29udGVudC1NRDU6ICRldGFnIik7IC8vIFJGQyAyNjE2IGNsYXVzZSAxNC4xNQoJaWYgKGlzc2V0KCRfU0VSVkVSWydIVFRQX0lGX05PTkVfTUFUQ0gnXSkgJiYgKHRyaW0oJF9TRVJWRVJbJ0hUVFBfSUZfTk9ORV9NQVRDSCddKSA9PSAkZXRhZykpIHsKCQloZWFk'));
	@fwrite($fp, base64_decode('ZXIoIkhUVFAvMS4xIDMwNCBOb3QgTW9kaWZpZWQiKTsKCX0gZWxzZSB7CgkJaGVhZGVyKCJDb250ZW50LVR5cGU6ICRjb250ZW50VHlwZSIpOwoJCWlmICghZW1wdHkoJGZpbGVuYW1lKSkgewoJCQloZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb246aW5saW5lOyBm'));
	@fwrite($fp, base64_decode('aWxlbmFtZT0iJy4kZmlsZW5hbWUuJyInKTsKCQl9CgkJZWNobyAkb3V0OwoJfQoJZGllKCk7Cn0KCmZ1bmN0aW9uIG15X3ZzcHJpbnRmKCRzdHIsICRhcmdzKSB7CiAgICAgICAgJG4gPSAxOwogICAgICAgIGZvcmVhY2ggKCRhcmdzIGFzICR2YWwpIHsKICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICRzdHIgPSBzdHJfcmVwbGFjZSgiJSRuIiwgJHZhbCwgJHN0cik7CiAgICAgICAgICAgICAgICAkbisrOwogICAgICAgIH0KICAgICAgICAkc3RyID0gc3RyX3JlcGxhY2UoIiUlIiwgIiUiLCAkc3RyKTsKICAgICAgICByZXR1cm4gJHN0cjsKfQoK'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gX0woJHN0ciwgLi4uJHNwcmludGZBcmdzKSB7CglzdGF0aWMgJHRyYW5zbGF0aW9uX2FycmF5ID0gYXJyYXkoKTsKCXN0YXRpYyAkdHJhbnNsYXRpb25fbG9hZGVkID0gbnVsbDsKCgkkc3RyID0gdHJpbSgkc3RyKTsKCglpZiAoIWNsYXNzX2V4aXN0'));
	@fwrite($fp, base64_decode('cygnT0lEcGx1cycpKSB7CgkJcmV0dXJuIG15X3ZzcHJpbnRmKCRzdHIsICRzcHJpbnRmQXJncyk7Cgl9CgoJJGxhbmcgPSBPSURwbHVzOjpnZXRDdXJyZW50TGFuZygpOwoJJHRhID0gT0lEcGx1czo6Z2V0VHJhbnNsYXRpb25BcnJheSgkbGFuZyk7CgkkcmVzID0g'));
	@fwrite($fp, base64_decode('KGlzc2V0KCR0YVskbGFuZ10pICYmIGlzc2V0KCR0YVskbGFuZ11bJHN0cl0pKSA/ICR0YVskbGFuZ11bJHN0cl0gOiAkc3RyOwoKCSRyZXMgPSBzdHJfcmVwbGFjZSgnIyMjJywgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnVEFCTEVOQU1FX1BSRUZJ'));
	@fwrite($fp, base64_decode('WCcsICcnKSwgJHJlcyk7CgoJJHJlcyA9IG15X3ZzcHJpbnRmKCRyZXMsICRzcHJpbnRmQXJncyk7CgoJcmV0dXJuICRyZXM7Cn0KCmZ1bmN0aW9uIF9DaGVja1BhcmFtRXhpc3RzKCRwYXJhbXMsICRrZXkpIHsKCWlmIChjbGFzc19leGlzdHMoJ09JRHBsdXNFeGNl'));
	@fwrite($fp, base64_decode('cHRpb24nKSkgewoJCWlmICghaXNzZXQoJHBhcmFtc1ska2V5XSkpIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdQYXJhbWV0ZXIgJTEgaXMgbWlzc2luZycsICRrZXkpKTsKCX0gZWxzZSB7CgkJaWYgKCFpc3NldCgkcGFyYW1zWyRrZXldKSkgdGhyb3cg'));
	@fwrite($fp, base64_decode('bmV3IEV4Y2VwdGlvbihfTCgnUGFyYW1ldGVyICUxIGlzIG1pc3NpbmcnLCAka2V5KSk7Cgl9Cn0KCmZ1bmN0aW9uIGNvbnZlcnRfdG9fdXRmOF9ub19ib20oJGNvbnQpIHsKCWlmIChtYl9kZXRlY3RfZW5jb2RpbmcoJGNvbnQsICJhdXRvIiwgdHJ1ZSkgIT0gJ1VU'));
	@fwrite($fp, base64_decode('Ri04JykgewoJCSMgJGNvbnQgPSBtYl9jb252ZXJ0X2VuY29kaW5nKCRjb250LCAnVVRGLTgnLCAnV2luZG93cy0xMjUyJyk7CgkJIyAkY29udCA9IG1iX2NvbnZlcnRfZW5jb2RpbmcoJGNvbnQsICdVVEYtOCcsICdhdXRvJyk7CgkJJGNvbnQgPSBtYl9jb252ZXJ0'));
	@fwrite($fp, base64_decode('X2VuY29kaW5nKCRjb250LCAnVVRGLTgnKTsKCX0KCgkvLyBSZW1vdmUgQk9NCgkkYm9tID0gcGFjaygnSConLCdFRkJCQkYnKTsKCSRjb250ID0gcHJlZ19yZXBsYWNlKCIvXiRib20vIiwgJycsICRjb250KTsKCXJldHVybiAkY29udDsKfQoKZnVuY3Rpb24gZXh0'));
	@fwrite($fp, base64_decode('cmFjdEh0bWxDb250ZW50cygkY29udCkgewoJLy8gbWFrZSBzdXJlIHRoZSBwcm9ncmFtIHdvcmtzIGV2ZW4gaWYgdGhlIHVzZXIgcHJvdmlkZWQgSFRNTCBpcyBub3QgVVRGLTgKCSRjb250ID0gY29udmVydF90b191dGY4X25vX2JvbSgkY29udCk7CgoJJG91dF9q'));
	@fwrite($fp, base64_decode('cyA9ICcnOwoJJG0gPSBhcnJheSgpOwoJcHJlZ19tYXRjaF9hbGwoJ0A8c2NyaXB0W14+XSo+KC4rKTwvc2NyaXB0PkBpc21VJywgJGNvbnQsICRtKTsKCWZvcmVhY2ggKCRtWzFdIGFzICR4KSB7CgkJJG91dF9qcyA9ICR4IC4gIlxuXG4iOwoJfQoKCSRvdXRfY3Nz'));
	@fwrite($fp, base64_decode('ID0gJyc7CgkkbSA9IGFycmF5KCk7CglwcmVnX21hdGNoX2FsbCgnQDxzdHlsZVtePl0qPiguKyk8L3N0eWxlPkBpc21VJywgJGNvbnQsICRtKTsKCWZvcmVhY2ggKCRtWzFdIGFzICR4KSB7CgkJJG91dF9jc3MgPSAkeCAuICJcblxuIjsKCX0KCgkkb3V0X2h0bWwg'));
	@fwrite($fp, base64_decode('PSAkY29udDsKCSRvdXRfaHRtbCA9IHByZWdfcmVwbGFjZSgnQF4oLispPGJvZHlbXj5dKj5AaXNVJywgJycsICRvdXRfaHRtbCk7Cgkkb3V0X2h0bWwgPSBwcmVnX3JlcGxhY2UoJ0A8L2JvZHk+LiskQGlzVScsICcnLCAkb3V0X2h0bWwpOwoJJG91dF9odG1sID0g'));
	@fwrite($fp, base64_decode('cHJlZ19yZXBsYWNlKCdAPHRpdGxlPi4rPC90aXRsZT5AaXNVJywgJycsICRvdXRfaHRtbCk7Cgkkb3V0X2h0bWwgPSBwcmVnX3JlcGxhY2UoJ0A8aDE+Lis8L2gxPkBpc1UnLCAnJywgJG91dF9odG1sLCAxKTsKCSRvdXRfaHRtbCA9IHByZWdfcmVwbGFjZSgnQDxz'));
	@fwrite($fp, base64_decode('Y3JpcHRbXj5dKj4oLispPC9zY3JpcHQ+QGlzbVUnLCAnJywgJG91dF9odG1sKTsKCSRvdXRfaHRtbCA9IHByZWdfcmVwbGFjZSgnQDxzdHlsZVtePl0qPiguKyk8L3N0eWxlPkBpc21VJywgJycsICRvdXRfaHRtbCk7CgoJcmV0dXJuIGFycmF5KCRvdXRfaHRtbCwg'));
	@fwrite($fp, base64_decode('JG91dF9qcywgJG91dF9jc3MpOwp9CgpmdW5jdGlvbiBzaGEzXzUxMigkcGFzc3dvcmQsICRyYXdfb3V0cHV0PWZhbHNlKSB7CglpZiAodmVyc2lvbl9jb21wYXJlKFBIUF9WRVJTSU9OLCAnNy4xLjAnKSA+PSAwKSB7CgkJcmV0dXJuIGhhc2goJ3NoYTMtNTEyJywg'));
	@fwrite($fp, base64_decode('JHBhc3N3b3JkLCAkcmF3X291dHB1dCk7Cgl9IGVsc2UgewoJCXJldHVybiBiYlxTaGEzXFNoYTM6Omhhc2goJHBhc3N3b3JkLCA1MTIsICRyYXdfb3V0cHV0KTsKCX0KfQoKZnVuY3Rpb24gc2hhM181MTJfaG1hYygkbWVzc2FnZSwgJGtleSwgJHJhd19vdXRwdXQ9'));
	@fwrite($fp, base64_decode('ZmFsc2UpIHsKCS8vIFJGQyAyMTA0IEhNQUMKCQlpZiAodmVyc2lvbl9jb21wYXJlKFBIUF9WRVJTSU9OLCAnNy4xLjAnKSA+PSAwKSB7CgkJCQlyZXR1cm4gaGFzaF9obWFjKCdzaGEzLTUxMicsICRtZXNzYWdlLCAka2V5LCAkcmF3X291dHB1dCk7CgkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IHsKCQkkYmxvY2tzaXplID0gNTc2OyAvLyBibG9jayBzaXplIG9mIHNoYS01MTIhCgoJCWlmIChzdHJsZW4oJGtleSkgPiAoJGJsb2Nrc2l6ZS84KSkgewoJCQkka18gPSBzaGEzXzUxMigka2V5LHRydWUpOwoJCX0gZWxzZSB7CgkJCSRrXyA9ICRrZXk7CgkJfQoK'));
	@fwrite($fp, base64_decode('CQkka19vcGFkID0gc3RyX3JlcGVhdChjaHIoMHg1QyksKCRibG9ja3NpemUvOCkpOwoJCSRrX2lwYWQgPSBzdHJfcmVwZWF0KGNocigweDM2KSwoJGJsb2Nrc2l6ZS84KSk7CgkJZm9yICgkaT0wOyAkaTxzdHJsZW4oJGtfKTsgJGkrKykgewoJCQkka19vcGFkWyRp'));
	@fwrite($fp, base64_decode('XSA9ICRrX29wYWRbJGldIF4gJGtfWyRpXTsKCQkJJGtfaXBhZFskaV0gPSAka19pcGFkWyRpXSBeICRrX1skaV07CgkJfQoKCQlyZXR1cm4gc2hhM181MTIoJGtfb3BhZCAuIHNoYTNfNTEyKCRrX2lwYWQgLiAkbWVzc2FnZSwgdHJ1ZSkpOwoJCX0KfQoKaWYgKCFm'));
	@fwrite($fp, base64_decode('dW5jdGlvbl9leGlzdHMoJ3N0cl9lbmRzX3dpdGgnKSkgewoJLy8gUEhQIDcueCBjb21wYXRpYmlsaXR5CglmdW5jdGlvbiBzdHJfZW5kc193aXRoKCRoYXlzdGFjaywgJG5lZWRsZSkgewoJCSRsZW5ndGggPSBzdHJsZW4oJG5lZWRsZSk7CgkJcmV0dXJuICRsZW5n'));
	@fwrite($fp, base64_decode('dGggPiAwID8gc3Vic3RyKCRoYXlzdGFjaywgLSRsZW5ndGgpID09PSAkbmVlZGxlIDogdHJ1ZTsKCX0KfQoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ3N0cl9zdGFydHNfd2l0aCcpKSB7CgkvLyBQSFAgNy54IGNvbXBhdGliaWxpdHkKCWZ1bmN0aW9uIHN0cl9zdGFy'));
	@fwrite($fp, base64_decode('dHNfd2l0aCgkaGF5c3RhY2ssICRuZWVkbGUpIHsKCQlyZXR1cm4gc3RycG9zKCRoYXlzdGFjaywgJG5lZWRsZSkgPT09IDA7Cgl9Cn0KCmZ1bmN0aW9uIHJlY19pc19kaXIoJGRpcikgewoJJGRpcnMgPSBAZ2xvYigkZGlyKTsKCWlmICgkZGlycykgZm9yZWFjaCAo'));
	@fwrite($fp, base64_decode('JGRpcnMgYXMgJGRpcikgewoJCWlmIChpc19kaXIoJGRpcikpIHJldHVybiB0cnVlOwoJfQoJcmV0dXJuIGZhbHNlOwp9CgpmdW5jdGlvbiBpc0ludGVybmV0RXhwbG9yZXIoKSB7CgkvLyBzZWUgYWxzbyBpbmNsdWRlcy9vaWRwbHVzX2Jhc2UuanMKCSR1YSA9IGlz'));
	@fwrite($fp, base64_decode('c2V0KCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSkgPyAkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10gOiAnJzsKCXJldHVybiAoKHN0cnBvcygkdWEsJ01TSUUgJykgIT09IGZhbHNlKSB8fCAoc3RycG9zKCR1YSwnVHJpZGVudC8nKSAhPT0gZmFsc2UpKTsK'));
	@fwrite($fp, base64_decode('fQoKZnVuY3Rpb24gdXJsX2dldF9jb250ZW50cygkdXJsKSB7CglpZiAoZnVuY3Rpb25fZXhpc3RzKCdjdXJsX2luaXQnKSkgewoJCSRjaCA9IGN1cmxfaW5pdCgpOwoJCWlmIChjbGFzc19leGlzdHMoJ09JRHBsdXMnKSkgewoJCQlpZiAoaW5pX2dldCgnY3VybC5j'));
	@fwrite($fp, base64_decode('YWluZm8nKSA9PSAnJykgY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0NBSU5GTywgT0lEcGx1czo6bG9jYWxwYXRoKCkgLiAndmVuZG9yL2NhY2VydC5wZW0nKTsKCQl9CgkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgJHVybCk7CgkJY3VybF9zZXRvcHQo'));
	@fwrite($fp, base64_decode('JGNoLCBDVVJMT1BUX1VTRVJBR0VOVCwgJ1ZpYVRoaW5rU29mdC1PSURwbHVzLzIuMCcpOwoJCWN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9QT1NULCAwKTsKCQljdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIHRydWUpOwoJCWN1cmxfc2V0'));
	@fwrite($fp, base64_decode('b3B0KCRjaCwgQ1VSTE9QVF9GT0xMT1dMT0NBVElPTiwgdHJ1ZSk7CgkJY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0FVVE9SRUZFUkVSLCB0cnVlKTsKCQlpZiAoISgkcmVzID0gQGN1cmxfZXhlYygkY2gpKSkgcmV0dXJuIGZhbHNlOwoJCWN1cmxfY2xvc2UoJGNo'));
	@fwrite($fp, base64_decode('KTsKCX0gZWxzZSB7CgkJJG9wdHMgPSBbCgkJCSJodHRwIiA9PiBbCgkJCQkibWV0aG9kIiA9PiAiR0VUIiwKCQkJCSJoZWFkZXIiID0+ICJVc2VyLUFnZW50OiBWaWFUaGlua1NvZnQtT0lEcGx1cy8yLjBcclxuIgoJCQldCgkJXTsKCQkkY29udGV4dCA9IHN0cmVh'));
	@fwrite($fp, base64_decode('bV9jb250ZXh0X2NyZWF0ZSgkb3B0cyk7CgkJJHJlcyA9IEBmaWxlX2dldF9jb250ZW50cygkdXJsLCBmYWxzZSwgJGNvbnRleHQpOwoJCWlmICgkcmVzID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoJfQoJcmV0dXJuICRyZXM7Cn0KCmZ1bmN0aW9uIHRyeV9jb252'));
	@fwrite($fp, base64_decode('ZXJ0X3dlaWRfdG9fb2lkKCRzdGF0aWNfbm9kZV9pZCwgJHRocm93X2V4Y2VwdGlvbikgewoJLy8gQ29udmVydCBXRUlEIHRvIE9JRAoJaWYgKChzdWJzdHIoc3RydG9sb3dlcigkc3RhdGljX25vZGVfaWQpLDAsNSkgPT0gJ3dlaWQ6JykgJiYgY2xhc3NfZXhpc3Rz'));
	@fwrite($fp, base64_decode('KCdXZWlkT2lkQ29udmVydGVyJykpIHsKCQkkYXJ5ID0gZXhwbG9kZSgnJCcsICRzdGF0aWNfbm9kZV9pZCwgMik7CgkJJHdlaWQgPSAkYXJ5WzBdOwoJCSRvaWQgPSBXZWlkT2lkQ29udmVydGVyOjp3ZWlkMm9pZCgkd2VpZCk7CgkJaWYgKCRvaWQgPT09IGZhbHNl'));
	@fwrite($fp, base64_decode('KSB7CgkJCWlmICgkdGhyb3dfZXhjZXB0aW9uKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbignVGhpcyBpcyBub3QgYSB2YWxpZCBXRUlEJyk7CgkJfSBlbHNlIHsKCQkJJGFyeVswXSA9ICRvaWQ7CgkJCSRzdGF0aWNfbm9kZV9pZCA9ICdvaWQ6Jy5pbXBsb2Rl'));
	@fwrite($fp, base64_decode('KCckJywgJGFyeSk7CgkJfQoJfQoJcmV0dXJuICRzdGF0aWNfbm9kZV9pZDsKfQo='));
	@fclose($fp);
}
if (!is_file('includes/functions.inc.php')) {
	warn('File has vanished! Will re-create it: includes/functions.inc.php');
	writefile_2();
	if (!is_file('includes/functions.inc.php')) {
		warn('File cannot be created (not existing): includes/functions.inc.php');
	} else if (sha1_file('includes/functions.inc.php') != '53463cfad1bc6651fd6a2b4c57038b670787ede8') {
		warn('File cannot be created (checksum mismatch): includes/functions.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/functions.inc.php', 0644)) {
		warn('Could not change file permissions of includes/functions.inc.php');
	}
} else {
	if (@sha1_file('includes/functions.inc.php') !== '53463cfad1bc6651fd6a2b4c57038b670787ede8') {
		if (@sha1_file('includes/functions.inc.php') !== '03dec8e0924c123d27bc1ba7aa986df422f7c0b5') {
			warn('File was modified. Will overwrite the changes now: includes/functions.inc.php');
			$tmp = pathinfo('includes/functions.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/functions.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/functions.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/functions.inc.php') !== '53463cfad1bc6651fd6a2b4c57038b670787ede8') {
			warn('File cannot be written (checksum mismatch): includes/functions.inc.php');
		}
	}
}

// Files different: index.php
function writefile_3() {
	@$fp = fopen('index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpoZWFkZXIoJ0NvbnRlbnQtVHlwZTp0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgnKTsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKc2V0'));
	@fwrite($fp, base64_decode('X2V4Y2VwdGlvbl9oYW5kbGVyKGFycmF5KCdPSURwbHVzR3VpJywgJ2h0bWxfZXhjZXB0aW9uX2hhbmRsZXInKSk7CgpvYl9zdGFydCgpOyAvLyBhbGxvdyBjb29raWUgaGVhZGVycyB0byBiZSBzZW50CgpPSURwbHVzOjppbml0KHRydWUpOwoKJHN0YXRpY19ub2Rl'));
	@fwrite($fp, base64_decode('X2lkID0gaXNzZXQoJF9SRVFVRVNUWydnb3RvJ10pID8gJF9SRVFVRVNUWydnb3RvJ10gOiAnb2lkcGx1czpzeXN0ZW0nOwoKJHN0YXRpY19ub2RlX2lkID0gdHJ5X2NvbnZlcnRfd2VpZF90b19vaWQoJHN0YXRpY19ub2RlX2lkLCBmYWxzZSk7Cgokc3RhdGljID0g'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6Z3VpKCktPmdlbmVyYXRlQ29udGVudFBhZ2UoJHN0YXRpY19ub2RlX2lkKTsKJHN0YXRpY190aXRsZSA9ICRzdGF0aWNbJ3RpdGxlJ107CiRzdGF0aWNfaWNvbiA9ICRzdGF0aWNbJ2ljb24nXTsKJHN0YXRpY19jb250ZW50ID0gJHN0YXRpY1sndGV4'));
	@fwrite($fp, base64_decode('dCddOwoKaWYgKCFpc3NldCgkX0NPT0tJRVsnY3NyZl90b2tlbiddKSkgewoJLy8gVGhpcyBpcyB0aGUgbWFpbiBDU1JGIHRva2VuIHVzZWQgZm9yIEFKQVguCgkkdG9rZW4gPSBPSURwbHVzOjphdXRoVXRpbHMoKS0+Z2VuQ1NSRlRva2VuKCk7CglPSURwbHVzOjpj'));
	@fwrite($fp, base64_decode('b29raWVVdGlscygpLT5zZXRjb29raWUoJ2NzcmZfdG9rZW4nLCAkdG9rZW4sIDAsIGZhbHNlKTsKCXVuc2V0KCR0b2tlbik7Cn0KCmlmICghaXNzZXQoJF9DT09LSUVbJ2NzcmZfdG9rZW5fd2VhayddKSkgewoJLy8gVGhpcyBDU1JGIHRva2VuIGlzIGNyZWF0ZWQg'));
	@fwrite($fp, base64_decode('d2l0aCBTYW1lU2l0ZT1MYXggYW5kIG11c3QgYmUgdXNlZAoJLy8gZm9yIE9BdXRoIDIuMCByZWRpcmVjdHMgb3Igc2ltaWxhciBwdXJwb3Nlcy4KCSR0b2tlbiA9IE9JRHBsdXM6OmF1dGhVdGlscygpLT5nZW5DU1JGVG9rZW4oKTsKCU9JRHBsdXM6OmNvb2tpZVV0'));
	@fwrite($fp, base64_decode('aWxzKCktPnNldGNvb2tpZSgnY3NyZl90b2tlbl93ZWFrJywgJHRva2VuLCAwLCBmYWxzZSwgJ0xheCcpOwoJdW5zZXQoJHRva2VuKTsKfQoKT0lEcGx1czo6aGFuZGxlTGFuZ0FyZ3VtZW50KCk7CgpmdW5jdGlvbiBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUoJHN5c3RlbXRpdGxlLCAkcGFnZXRpdGxlKSB7CgkvLyBQbGVhc2UgYWxzbyBjaGFuZ2UgdGhlIGZ1bmN0aW9uIGluIG9pZHBsdXNfYmFzZS5qcwoJaWYgKCRzeXN0ZW10aXRsZSA9PSAkcGFnZXRpdGxlKSB7CgkJcmV0dXJuICRzeXN0ZW10aXRsZTsKCX0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7CgkJcmV0dXJuICRwYWdldGl0bGUgLiAnIC0gJyAuICRzeXN0ZW10aXRsZTsKCX0KfQoKJGFkZF9jc3NfYXJncyA9IGFycmF5KCk7CmlmIChjbGFzc19leGlzdHMoJ09JRHBsdXNQYWdlQWRtaW5Db2xvcnMnKSkgewoJLy8gVXN1YWxseSwgc3VjaCB0aGlu'));
	@fwrite($fp, base64_decode('Z3Mgd291bGQgYmUgZG9uZSB1c2luZyAiZmVhdHVyZXMiIChpbXBsZW1lbnRzRmVhdHVyZSksCgkvLyBidXQgdGhlcmUgYXJlIGZvbGxvd2luZyByZWFzb25zIHdoeSB3ZSBET04nVCBkbyBpdDoKCS8vIDEuIEp1c3QgaGF2aW5nIGEgIkNTUyBVUkwgcGFyYW1ldGVy'));
	@fwrite($fp, base64_decode('IGZlYXR1cmUiIHdvdWxkIGNoYW5nZSB0aGUgVVJMIHBhcmFtZXRlciwKCS8vICAgIGJ1dCBpdCB3b3VsZCBub3QgYWZmZWN0IHRoZSBjdXN0b20gY29kZSBpbiBvaWRwbHVzLm1pbi5jc3MucGhwCgkvLyAyLiBUaGUgSlMgZnVuY3Rpb24gT0lEcGx1c1BhZ2VBZG1p'));
	@fwrite($fp, base64_decode('bkNvbG9ycy50ZXN0X2NvbG9yX3RoZW1lKCkgaGFzIGFuIGhhcmRjb2RlZCBzZXQgb2YgcGFyYW1ldGVycwoJLy8gICAgYW5kIGRvZXMgbm90IGZvbGxvdyB0aGUgYXJndW1lbnRzIHRoYXQgbWlnaHQgYmUgc2V0IGJ5IG90aGVyIHBsdWdpbnMuCgkkYWRkX2Nzc19h'));
	@fwrite($fp, base64_decode('cmdzW10gPSAndGhlbWU9Jy51cmxlbmNvZGUoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdkZXNpZ24nKSk7CgkkYWRkX2Nzc19hcmdzW10gPSAnaW52ZXJ0PScudXJsZW5jb2RlKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnY29sb3JfaW52ZXJ0Jykp'));
	@fwrite($fp, base64_decode('OwoJJGFkZF9jc3NfYXJnc1tdID0gJ2hfc2hpZnQ9Jy51cmxlbmNvZGUobnVtYmVyX2Zvcm1hdChPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2NvbG9yX2h1ZV9zaGlmdCcpLzM2MCw1LCcuJywnJykpOwoJJGFkZF9jc3NfYXJnc1tdID0gJ3Nfc2hpZnQ9Jy51'));
	@fwrite($fp, base64_decode('cmxlbmNvZGUobnVtYmVyX2Zvcm1hdChPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2NvbG9yX3NhdF9zaGlmdCcpLzEwMCw1LCcuJywnJykpOwoJJGFkZF9jc3NfYXJnc1tdID0gJ3Zfc2hpZnQ9Jy51cmxlbmNvZGUobnVtYmVyX2Zvcm1hdChPSURwbHVzOjpj'));
	@fwrite($fp, base64_decode('b25maWcoKS0+Z2V0VmFsdWUoJ2NvbG9yX3ZhbF9zaGlmdCcpLzEwMCw1LCcuJywnJykpOwp9CiRhZGRfY3NzX2FyZ3MgPSBjb3VudCgkYWRkX2Nzc19hcmdzKSA+IDAgPyAnPycuaW1wbG9kZSgnJicsJGFkZF9jc3NfYXJncykgOiAnJzsKCi8vIEdldCB0aGVtZSBj'));
	@fwrite($fp, base64_decode('b2xvciAoY29sb3Igb2YgdGl0bGUgYmFyKQokdGhlbWVfY29sb3IgPSAnJzsKJHBsdWdpbnMgPSBPSURwbHVzOjpnZXREZXNpZ25QbHVnaW5zKCk7CmZvcmVhY2ggKCRwbHVnaW5zIGFzICRwbHVnaW4pIHsKCWlmICgoYmFzZW5hbWUoJHBsdWdpbi0+Z2V0UGx1Z2lu'));
	@fwrite($fp, base64_decode('RGlyZWN0b3J5KCkpKSA9PSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2Rlc2lnbicsJ2RlZmF1bHQnKSkgewoJCSR0aGVtZV9jb2xvciA9ICRwbHVnaW4tPmdldFRoZW1lQ29sb3IoKTsKCQlpZiAoKCR0aGVtZV9jb2xvciAhPSAnJykgJiYgY2xhc3NfZXhp'));
	@fwrite($fp, base64_decode('c3RzKCdPSURwbHVzUGFnZUFkbWluQ29sb3JzJykpIHsKCQkJJGhzID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdjb2xvcl9odWVfc2hpZnQnLDApLzM2MDsKCQkJJHNzID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdjb2xvcl9zYXRfc2hpZnQn'));
	@fwrite($fp, base64_decode('LDApLzEwMDsKCQkJJHZzID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdjb2xvcl92YWxfc2hpZnQnLDApLzEwMDsKCQkJJHRoZW1lX2NvbG9yID0gY2hhbmdlSHVlT2ZDU1MoJHRoZW1lX2NvbG9yLCAkaHMsICRzcywgJHZzKTsgLy8gImNoYW5nZUh1ZU9m'));
	@fwrite($fp, base64_decode('Q1NTIiBjYW4gYWxzbyBjaGFuZ2UgYSBzaW5nbGUgY29sb3IgdmFsdWUgaWYgaXQgaGFzIHRoZSBmb3JtICN4eHl5enogb3IgI3h5egoJCX0KCX0KfQoKPz48IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iPD9waHAgZWNobyBzdWJzdHIoT0lEcGx1czo6Z2V0Q3Vy'));
	@fwrite($fp, base64_decode('cmVudExhbmcoKSwwLDIpOyA/PiI+Cgo8aGVhZD4KCTxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KCTxtZXRhIG5hbWU9Ik9JRHBsdXMtU3lzdGVtVGl0bGUiIGNvbnRlbnQ9Ijw/cGhwIGVj'));
	@fwrite($fp, base64_decode('aG8gaHRtbGVudGl0aWVzKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnc3lzdGVtX3RpdGxlJykpOyAvKiBEbyBub3QgcmVtb3ZlLiBUaGlzIG1ldGEgdGFnIGlzIGFjZXNzZWQgYnkgb2lkcGx1c19iYXNlLmpzICovID8+Ij4KCTw/cGhwCglpZiAoJHRoZW1l'));
	@fwrite($fp, base64_decode('X2NvbG9yICE9ICcnKSBlY2hvICc8bWV0YSBuYW1lPSJ0aGVtZS1jb2xvciIgY29udGVudD0iJy4kdGhlbWVfY29sb3IuJyI+JzsKCT8+Cgk8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+'));
	@fwrite($fp, base64_decode('CgoJPHRpdGxlPjw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3N5c3RlbV90aXRsZScpLCAkc3RhdGljX3RpdGxlKSk7ID8+PC90aXRsZT4KCgk8c2NyaXB0'));
	@fwrite($fp, base64_decode('IHNyYz0icG9seWZpbGwubWluLmpzLnBocCI+PC9zY3JpcHQ+Cgk8P3BocAoJZWNobyBPSURwbHVzOjpnZXRBY3RpdmVDYXB0Y2hhUGx1Z2luKCktPmNhcHRjaGFEb21IZWFkKCk7Cgk/PgoJPHNjcmlwdCBzcmM9Im9pZHBsdXMubWluLmpzLnBocCI+PC9zY3JpcHQ+'));
	@fwrite($fp, base64_decode('CgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJvaWRwbHVzLm1pbi5jc3MucGhwPD9waHAgZWNobyBodG1sZW50aXRpZXMoJGFkZF9jc3NfYXJncyk7ID8+Ij4KCTxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgdHlwZT0iaW1hZ2UveC1pY29uIiBocmVmPSJm'));
	@fwrite($fp, base64_decode('YXZpY29uLmljby5waHAiPgo8L2hlYWQ+Cgo8Ym9keT4KCjxkaXYgaWQ9ImxvYWRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPkxvYWRpbmcmIzgyMzA7PC9kaXY+Cgo8ZGl2IGlkPSJmcmFtZXMiPgoJPGRpdiBpZD0iY29udGVudF93aW5kb3ciIGNsYXNzPSJib3Jk'));
	@fwrite($fp, base64_decode('ZXJib3giPgoJCTw/cGhwCgkJJHN0YXRpY19jb250ZW50ID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKAoJCQknfDxhXHMoW14+XSopaHJlZj0ibWFpbHRvOihbXiJdKykiKFtePl0qKT4oW148XSopPC9hPnxpc21VJywKCQkJZnVuY3Rpb24gKCR0cmVmZmVyKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkkZW1haWwgPSAkdHJlZmZlclsyXTsKCQkJCSR0ZXh0ID0gJHRyZWZmZXJbNF07CgkJCQlyZXR1cm4gT0lEcGx1czo6bWFpbFV0aWxzKCktPnNlY3VyZUVtYWlsQWRkcmVzcygkZW1haWwsICR0ZXh0LCAxKTsgLy8gQW50aVNwYW0KCQkJfSwgJHN0YXRpY19jb250'));
	@fwrite($fp, base64_decode('ZW50KTsKCgkJZWNobyAnPGgxIGlkPSJyZWFsX3RpdGxlIj4nOwoJCWlmICgkc3RhdGljX2ljb24gIT0gJycpIGVjaG8gJzxpbWcgc3JjPSInLmh0bWxlbnRpdGllcygkc3RhdGljX2ljb24pLiciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSIiPiAnOwoJCWVj'));
	@fwrite($fp, base64_decode('aG8gaHRtbGVudGl0aWVzKCRzdGF0aWNfdGl0bGUpLic8L2gxPic7CgkJZWNobyAnPGRpdiBpZD0icmVhbF9jb250ZW50Ij4nLiRzdGF0aWNfY29udGVudC4nPC9kaXY+JzsKCQlpZiAoKCFpc3NldCgkX1NFUlZFUlsnUkVRVUVTVF9NRVRIT0QnXSkpIHx8ICgkX1NF'));
	@fwrite($fp, base64_decode('UlZFUlsnUkVRVUVTVF9NRVRIT0QnXSA9PSAnR0VUJykpIHsKCQkJZWNobyAnPGJyPjxwPjxpbWcgc3JjPSJpbWcvc2hhcmUucG5nIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIGFsdD0iJy5fTCgnU2hhcmUnKS4nIj4gPGEgaHJlZj0iP2dvdG89Jy5odG1sZW50aXRp'));
	@fwrite($fp, base64_decode('ZXMoJHN0YXRpY19ub2RlX2lkKS4nIiBpZD0ic3RhdGljX2xpbmsiIGNsYXNzPSJncmF5X2Zvb3Rlcl9mb250Ij4nLl9MKCdTdGF0aWMgbGluayB0byB0aGlzIHBhZ2UnKS4nPC9hPic7CgkJCWVjaG8gJzwvcD4nOwoJCX0KCQllY2hvICc8YnI+JzsKCQk/PgoJPC9k'));
	@fwrite($fp, base64_decode('aXY+CgoJPGRpdiBpZD0ic3lzdGVtX3RpdGxlX2JhciI+CgkJPD9waHAKCQllY2hvICc8ZGl2IGlkPSJzeXN0ZW1fdGl0bGVfbWVudSIgb25jbGljaz0ibW9iaWxlTmF2QnV0dG9uQ2xpY2sodGhpcykiIG9ubW91c2VlbnRlcj0ibW9iaWxlTmF2QnV0dG9uSG92ZXIo'));
	@fwrite($fp, base64_decode('dGhpcykiIG9ubW91c2VsZWF2ZT0ibW9iaWxlTmF2QnV0dG9uSG92ZXIodGhpcykiPic7CgkJZWNobyAnCTxkaXYgaWQ9ImJhcjEiPjwvZGl2Pic7CgkJZWNobyAnCTxkaXYgaWQ9ImJhcjIiPjwvZGl2Pic7CgkJZWNobyAnCTxkaXYgaWQ9ImJhcjMiPjwvZGl2Pic7'));
	@fwrite($fp, base64_decode('CgkJZWNobyAnPC9kaXY+JzsKCQllY2hvICcnOwoJCWVjaG8gJzxkaXYgaWQ9InN5c3RlbV90aXRsZV90ZXh0Ij4nOwoJCWVjaG8gJwk8YSAnLk9JRHBsdXM6Omd1aSgpLT5saW5rKCdvaWRwbHVzOnN5c3RlbScpLicgaWQ9InN5c3RlbV90aXRsZV9hIj4nOwoJCWVj'));
	@fwrite($fp, base64_decode('aG8gJwkJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV9sb2dvIj48L3NwYW4+JzsKCQllY2hvICcJCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMSI+Jy5fTCgnVmlhVGhpbmtTb2Z0IE9JRHBsdXMgMi4wJykuJzwvc3Bhbj48YnI+JzsKCQllY2hvICcJCTxzcGFuIGlkPSJz'));
	@fwrite($fp, base64_decode('eXN0ZW1fdGl0bGVfMiI+Jy5odG1sZW50aXRpZXMoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdzeXN0ZW1fdGl0bGUnKSkuJzwvc3Bhbj4nOwoJCWVjaG8gJwk8L2E+JzsKCQllY2hvICc8L2Rpdj4nOwoJCT8+Cgk8L2Rpdj4KCgk8P3BocAoJZWNobyBPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpndWkoKS0+Z2V0TGFuZ3VhZ2VCb3goJHN0YXRpY19ub2RlX2lkLCB0cnVlKTsKCT8+CgoJPGRpdiBpZD0iZ290b2JveCI+CgkJPD9waHAKCQllY2hvICc8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZ290byIgaWQ9ImdvdG9lZGl0IiB2YWx1ZT0iJy5odG1s'));
	@fwrite($fp, base64_decode('ZW50aXRpZXMoJHN0YXRpY19ub2RlX2lkKS4nIj4nOwoJCWVjaG8gJzxpbnB1dCB0eXBlPSJidXR0b24iIHZhbHVlPSInLl9MKCdHbycpLiciIG9uY2xpY2s9ImdvdG9CdXR0b25DbGlja2VkKCkiIGlkPSJnb3RvYnV0dG9uIj4nOwoJCT8+Cgk8L2Rpdj4KCgk8ZGl2'));
	@fwrite($fp, base64_decode('IGlkPSJvaWR0cmVlIiBjbGFzcz0iYm9yZGVyYm94Ij4KCQk8P3BocAoJCS8vZWNobyAnPG5vc2NyaXB0Pic7CgkJLy9lY2hvICc8cD48Yj4nLl9MKCdQbGVhc2UgZW5hYmxlIEphdmFTY3JpcHQgdG8gdXNlIGFsbCBmZWF0dXJlcycpLic8L2I+PC9wPic7CgkJLy9l'));
	@fwrite($fp, base64_decode('Y2hvICc8L25vc2NyaXB0Pic7CgkJT0lEcGx1czo6bWVudVV0aWxzKCktPm5vbmpzX21lbnUoKTsKCQk/PgoJPC9kaXY+CjwvZGl2PgoKPC9ib2R5Pgo8L2h0bWw+Cjw/cGhwCgokY29udCA9IG9iX2dldF9jb250ZW50cygpOwpvYl9lbmRfY2xlYW4oKTsKCk9JRHBs'));
	@fwrite($fp, base64_decode('dXM6Omludm9rZV9zaHV0ZG93bigpOwoKZWNobyAkY29udDsK'));
	@fclose($fp);
}
if (!is_file('index.php')) {
	warn('File has vanished! Will re-create it: index.php');
	writefile_3();
	if (!is_file('index.php')) {
		warn('File cannot be created (not existing): index.php');
	} else if (sha1_file('index.php') != '22e2ef8ec56588364e2c2e7da5123d85115c3bbf') {
		warn('File cannot be created (checksum mismatch): index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index.php', 0644)) {
		warn('Could not change file permissions of index.php');
	}
} else {
	if (@sha1_file('index.php') !== '22e2ef8ec56588364e2c2e7da5123d85115c3bbf') {
		if (@sha1_file('index.php') !== 'd48d91889ba07f30c84181d798106bf05a954ebb') {
			warn('File was modified. Will overwrite the changes now: index.php');
			$tmp = pathinfo('index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('index.php') !== '22e2ef8ec56588364e2c2e7da5123d85115c3bbf') {
			warn('File cannot be written (checksum mismatch): index.php');
		}
	}
}

// Files different: plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php
function writefile_4() {
	@$fp = fopen('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vLi4vLi4vLi4vLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCi8vZGVmaW5lKCdYTUxfVVJOJywgJ3VybjpvaWQ6MS4zLjYuMS40'));
	@fwrite($fp, base64_decode('LjEuMzc0NzYuMi41LjIuNS4xLjEnKTsKZGVmaW5lKCdYTUxfVVJOJywgJ3VybjppZXRmOmlkOnZpYXRoaW5rc29mdC1vaWRpcC0wMicpOwoKLy8gZGVmaW5lKCdYTUxfVVJOX1VSTCcsICdodHRwczovL29pZHBsdXMudmlhdGhpbmtzb2Z0LmNvbS9vaWRwbHVzL3Bs'));
	@fwrite($fp, base64_decode('dWdpbnMvcHVibGljUGFnZXMvMTAwX3dob2lzL3dob2lzL3htbF9zY2hlbWEueHNkJyk7CmRlZmluZSgnWE1MX1VSTl9VUkwnLCBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18sdHJ1ZSkuJ3htbF9zY2hlbWEueHNkJyk7CgpPSURwbHVzOjppbml0KHRydWUpOwpzZXRf'));
	@fwrite($fp, base64_decode('ZXhjZXB0aW9uX2hhbmRsZXIoYXJyYXkoJ09JRHBsdXNHdWknLCAnaHRtbF9leGNlcHRpb25faGFuZGxlcicpKTsKCmlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdESVNBQkxFX1BMVUdJTl9PSURwbHVzUGFnZVB1YmxpY1dob2lzJywgZmFsc2Up'));
	@fwrite($fp, base64_decode('KSB7Cgl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhpcyBwbHVnaW4gd2FzIGRpc2FibGVkIGJ5IHRoZSBzeXN0ZW0gYWRtaW5pc3RyYXRvciEnKSk7Cn0KCm9yaWdpbkhlYWRlcnMoKTsKCi8vIFN0ZXAgMDogR2V0IHJlcXVlc3QgcGFyYW1ldGVyCgpp'));
	@fwrite($fp, base64_decode('ZiAoUEhQX1NBUEkgPT0gJ2NsaScpIHsKCWlmICgkX1NFUlZFUlsnYXJnYyddICE9IDIpIHsKCQllY2hvIF9MKCdTeW50YXgnKS4nOiAnLiRfU0VSVkVSWydhcmd2J11bMF0uJyA8cXVlcnk+Jy4iXG4iOwoJCWV4aXQoMik7Cgl9CgkkcXVlcnkgPSAkX1NFUlZFUlsn'));
	@fwrite($fp, base64_decode('YXJndiddWzFdOwp9IGVsc2UgewoJaWYgKCFpc3NldCgkX1JFUVVFU1RbJ3F1ZXJ5J10pKSB7CgkJaHR0cF9yZXNwb25zZV9jb2RlKDQwMCk7CgkJZGllKCc8aDE+Jy5fTCgnRXJyb3InKS4nPC9oMT48cD4nLl9MKCdBcmd1bWVudCAiJTEiIGlzIG1pc3NpbmcnLCdx'));
	@fwrite($fp, base64_decode('dWVyeScpLic8cD4nKTsKCX0KCSRxdWVyeSA9ICRfUkVRVUVTVFsncXVlcnknXTsKfQoKLy8gU3BsaXQgaW5wdXQgaW50byBxdWVyeSwgYXV0aFRva2VucyBhbmQgc2VydmVyQ29tbWFuZHMKJHRva2VucyA9IGV4cGxvZGUoJyQnLCAkcXVlcnkpOwokcXVlcnkgPSBh'));
	@fwrite($fp, base64_decode('cnJheV9zaGlmdCgkdG9rZW5zKTsKJGF1dGhUb2tlbnNbXSA9IGFycmF5KCk7CiRzZXJ2ZXJDb21tYW5kcyA9IGFycmF5KCk7CmZvcmVhY2ggKCR0b2tlbnMgYXMgJHRva2VuKSB7CglpZiAoc3RycG9zKCR0b2tlbiwnPScpICE9PSBmYWxzZSkgewoJCSR0bXAgPSBl'));
	@fwrite($fp, base64_decode('eHBsb2RlKCc9JywkdG9rZW4sMik7CgkJJHNlcnZlckNvbW1hbmRzW3N0cnRvbG93ZXIoJHRtcFswXSldID0gJHRtcFsxXTsKCX0gZWxzZSB7CgkJJGF1dGhUb2tlbnNbXSA9ICR0b2tlbjsKCX0KfQoKJHF1ZXJ5ID0gc3RyX3JlcGxhY2UoJ29pZDouJywgJ29pZDon'));
	@fwrite($fp, base64_decode('LCAkcXVlcnkpOyAvLyBhbGxvdyBsZWFkaW5nIGRvdAoKaWYgKGlzc2V0KCRfUkVRVUVTVFsnZm9ybWF0J10pKSB7CgkkZm9ybWF0ID0gJF9SRVFVRVNUWydmb3JtYXQnXTsKfSBlbHNlIGlmIChpc3NldCgkc2VydmVyQ29tbWFuZHNbJ2Zvcm1hdCddKSkgewoJJGZv'));
	@fwrite($fp, base64_decode('cm1hdCA9ICRzZXJ2ZXJDb21tYW5kc1snZm9ybWF0J107Cn0gZWxzZSB7CgkkZm9ybWF0ID0gJ3RleHQnOyAvLyBkZWZhdWx0Cn0KCiR1bmltcGxlbWVudGVkX2Zvcm1hdCA9ICgkZm9ybWF0ICE9ICd0ZXh0JykgJiYgKCRmb3JtYXQgIT0gJ2pzb24nKSAmJiAoJGZv'));
	@fwrite($fp, base64_decode('cm1hdCAhPSAneG1sJyk7CmlmICgkdW5pbXBsZW1lbnRlZF9mb3JtYXQpIHsKCSRmb3JtYXQgPSAndGV4dCc7Cn0KCi8vIFN0ZXAgMTogQ29sbGVjdCBkYXRhCgokb3V0ID0gYXJyYXkoKTsKCiRvdXRbXSA9ICJxdWVyeTogJHF1ZXJ5IjsKCiRxdWVyeSA9IHRyeV9j'));
	@fwrite($fp, base64_decode('b252ZXJ0X3dlaWRfdG9fb2lkKCRxdWVyeSwgZmFsc2UpOwoKaWYgKCR1bmltcGxlbWVudGVkX2Zvcm1hdCkgewoJJG91dFtdID0gJ3Jlc3VsdDogU2VydmljZSBlcnJvcic7Cgkkb3V0W10gPSAnbWVzc2FnZTogRm9ybWF0IGlzIG5vdCBpbXBsZW1lbnRlZCc7Cn0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7CgoJJGRpc3RhbmNlID0gbnVsbDsKCSRmb3VuZCA9IG51bGw7CgoJdHJ5IHsKCQkkb2JqID0gT0lEcGx1c09iamVjdDo6ZmluZEZpdHRpbmcoJHF1ZXJ5KTsKCQlpZiAoISRvYmopICRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkcXVlcnkpOyAvLyBp'));
	@fwrite($fp, base64_decode('biBjYXNlIHdlIGRpZG4ndCBmaW5kIGFueXRoaW5nIGZpdHRpbmcsIHdlIHRha2UgaXQgYXMgaXQgaXMgYW5kIGxhdGVyIHVzZSBnZXRQYXJlbnQoKSB0byBmaW5kIHNvbWV0aGluZyBlbHNlCgkJJHF1ZXJ5ID0gJG9iai0+bm9kZUlkKCk7Cgl9IGNhdGNoIChFeGNl'));
	@fwrite($fp, base64_decode('cHRpb24gJGUpIHsKCQkkb2JqID0gbnVsbDsKCX0KCgkkb25seV93ZWxsa25vd25faWRzX2ZvdW5kID0gZmFsc2U7CgkkY29udGludWUgPSBmYWxzZTsKCglpZiAoISRvYmopIHsKCQkkb3V0W10gPSAicmVzdWx0OiBOb3QgZm91bmQiOyAvLyBETyBOT1QgVFJBTlNM'));
	@fwrite($fp, base64_decode('QVRFIQoJCSRjb250aW51ZSA9IGZhbHNlOwoJCSRyZXMgPSBudWxsOwoJfSBlbHNlIHsKCQkkb2JqID0gbnVsbDsKCQkkZGlzdGFuY2UgPSAwOwoKCQkkaW5pdF9xdWVyeSA9ICRxdWVyeTsKCQl3aGlsZSAodHJ1ZSkgewoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+'));
	@fwrite($fp, base64_decode('cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkcXVlcnkpKTsKCQkJaWYgKCRyZXMtPm51bV9yb3dzKCkgPiAwKSB7CgkJCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHF1ZXJ5KTsKCQkJCWlmICgkZGlzdGFu'));
	@fwrite($fp, base64_decode('Y2UgPiAwKSB7CgkJCQkJJG91dFtdID0gInJlc3VsdDogTm90IGZvdW5kOyBzdXBlcmlvciBvYmplY3QgZm91bmQiOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJCSRvdXRbXSA9ICJkaXN0YW5jZTogJGRpc3RhbmNlIjsgLy8gRE8gTk9UIFRSQU5TTEFURQoJCQkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIHsKCQkJCQkkb3V0W10gPSAicmVzdWx0OiBGb3VuZCI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQl9CgkJCQkkY29udGludWUgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCgkJCWlmIChzdWJzdHIoJHF1ZXJ5LDAsNCkgPT09ICdvaWQ6JykgewoJCQkJ'));
	@fwrite($fp, base64_decode('JHF1ZXJ5X3ByZXYgPSAkcXVlcnk7CgkJCQkkcXVlcnkgPSAnb2lkOicub2lkX3VwKGV4cGxvZGUoJzonLCRxdWVyeSwyKVsxXSk7CgkJCQlpZiAoJHF1ZXJ5ID09ICRxdWVyeV9wcmV2KSBicmVhazsKCQkJCSRkaXN0YW5jZSsrOwoJCQl9IGVsc2UgewoJCQkJLy8g'));
	@fwrite($fp, base64_decode('Z2V0UGFyZW50KCkgd2lsbCBmaW5kIHRoZSBwYXJlbnQgd2hpY2ggRE9FUyBleGlzdCBpbiB0aGUgREIuCgkJCQkvLyBJdCBkb2VzIG5vdCBuZWVkIHRvIGJlIHRoZSBkaXJlY3QgcGFyZW50IChsaWtlIC0+b25lX3VwKCkgZG9lcykKCQkJCSRvYmogPSBPSURwbHVz'));
	@fwrite($fp, base64_decode('T2JqZWN0OjpwYXJzZSgkcXVlcnkpLT5nZXRQYXJlbnQoKTsgLy8gRm9yIG9iamVjdHMsIHdlIGFzc3VtZSB0aGF0IHRoZXkgYXJlIHBhcmVudHMgb2YgZWFjaCBvdGhlcgoJCQkJaWYgKCRvYmopIHsKCQkJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNl'));
	@fwrite($fp, base64_decode('bGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkb2JqLT5ub2RlSWQoKSkpOwoJCQkJCSRkaXN0YW5jZSA9ICRvYmotPmRpc3RhbmNlKCRxdWVyeSk7CgkJCQkJYXNzZXJ0KCRyZXMtPm51bV9yb3dzKCkgPiAwKTsKCgkJCQkJJHF1ZXJ5'));
	@fwrite($fp, base64_decode('ID0gJG9iai0+bm9kZUlkKCk7CgkJCQl9CgoJCQkJaWYgKCRkaXN0YW5jZSA+IDApIHsKCQkJCQkkb3V0W10gPSAicmVzdWx0OiBOb3QgZm91bmQ7IHN1cGVyaW9yIG9iamVjdCBmb3VuZCI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQkJJG91dFtdID0gImRpc3Rh'));
	@fwrite($fp, base64_decode('bmNlOiAkZGlzdGFuY2UiOyAvLyBETyBOT1QgVFJBTlNMQVRFCgkJCQl9CgkJCQkkY29udGludWUgPSB0cnVlOwoKCQkJCWJyZWFrOwoJCQl9CgkJfQoKCQlpZiAoKHN1YnN0cigkcXVlcnksMCw0KSA9PT0gJ29pZDonKSAmJiAoISRvYmopKSB7CgkJCSRxdWVyeSA9'));
	@fwrite($fp, base64_decode('ICRpbml0X3F1ZXJ5OwoJCQkkZGlzdGFuY2UgPSAwOwoJCQl3aGlsZSAodHJ1ZSkgewoJCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI2FzbjFpZCB3aGVyZSBvaWQgPSA/IHVuaW9uIHNlbGVjdCAqIGZyb20gIyMjaXJpIHdo'));
	@fwrite($fp, base64_decode('ZXJlIG9pZCA9ID8iLCBhcnJheSgkcXVlcnksICRxdWVyeSkpOwoJCQkJaWYgKCRyZXMtPm51bV9yb3dzKCkgPiAwKSB7CgkJCQkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRxdWVyeSk7CgkJCQkJJHJlcyA9IG51bGw7CgkJCQkJaWYgKCRkaXN0YW5jZSA+'));
	@fwrite($fp, base64_decode('IDApIHsKCQkJCQkJJG91dFtdID0gInJlc3VsdDogTm90IGZvdW5kOyBzdXBlcmlvciBvYmplY3QgZm91bmQiOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJCQkkb3V0W10gPSAiZGlzdGFuY2U6ICRkaXN0YW5jZSI7IC8vIERPIE5PVCBUUkFOU0xBVEUKCQkJCQl9'));
	@fwrite($fp, base64_decode('IGVsc2UgewoJCQkJCQkkb3V0W10gPSAicmVzdWx0OiBGb3VuZCI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQkJfQoJCQkJCSRvbmx5X3dlbGxrbm93bl9pZHNfZm91bmQgPSB0cnVlOyAvLyBJbmZvcm1hdGlvbiBwYXJ0aWFsbHkgYXZhaWxhYmxlCgkJCQkJJGNv'));
	@fwrite($fp, base64_decode('bnRpbnVlID0gdHJ1ZTsKCQkJCQlicmVhazsKCQkJCX0KCQkJCSRxdWVyeV9wcmV2ID0gJHF1ZXJ5OwoJCQkJJHF1ZXJ5ID0gJ29pZDonLm9pZF91cChleHBsb2RlKCc6JywkcXVlcnksMilbMV0pOwoJCQkJaWYgKCRxdWVyeSA9PSAkcXVlcnlfcHJldikgYnJlYWs7'));
	@fwrite($fp, base64_decode('CgkJCQkkZGlzdGFuY2UrKzsKCQkJfQoJCX0KCgkJaWYgKCEkb2JqKSB7CgkJCSRvdXRbXSA9ICJyZXN1bHQ6IE5vdCBmb3VuZCI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCSRjb250aW51ZSA9IGZhbHNlOwoJCX0KCgkJJGZvdW5kID0gJGRpc3RhbmNlID09IDA7'));
	@fwrite($fp, base64_decode('Cgl9CgoJaWYgKCRjb250aW51ZSkgewoJCSRvdXRbXSA9ICIiOwoJCSRvdXRbXSA9ICJvYmplY3Q6ICRxdWVyeSI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJaWYgKCFhbGxvd09iamVjdFZpZXcoJG9iaiwgJGF1dGhUb2tlbnMpKSB7CgkJCSRvdXRbXSA9ICJzdGF0'));
	@fwrite($fp, base64_decode('dXM6IEluZm9ybWF0aW9uIHVuYXZhaWxhYmxlIjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJJG91dFtdID0gImF0dHJpYnV0ZTogY29uZmlkZW50aWFsIjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQl9IGVsc2UgewoJCQlpZiAoJG9ubHlfd2VsbGtub3duX2lkc19m'));
	@fwrite($fp, base64_decode('b3VuZCkgewoJCQkJJG91dFtdID0gInN0YXR1czogSW5mb3JtYXRpb24gcGFydGlhbGx5IGF2YWlsYWJsZSI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCX0gZWxzZSB7CgkJCQkkb3V0W10gPSAic3RhdHVzOiBJbmZvcm1hdGlvbiBhdmFpbGFibGUiOyAvLyBETyBO'));
	@fwrite($fp, base64_decode('T1QgVFJBTlNMQVRFIQoJCQl9CgoJCQkkcm93ID0gJHJlcyA/ICRyZXMtPmZldGNoX29iamVjdCgpIDogbnVsbDsKCgkJCWlmICghaXNfbnVsbCgkcm93KSkgewoJCQkJJG91dFtdID0gJ25hbWU6ICcgLiAkcm93LT50aXRsZTsgLy8gRE8gTk9UIFRSQU5TTEFURSEK'));
	@fwrite($fp, base64_decode('CgkJCQkkY29udCA9ICRyb3ctPmRlc2NyaXB0aW9uOwoJCQkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0A8YVtePl0raHJlZlxzKj1ccypbIlwnXShbXlwnIl0rKVsiXCddW14+XSo+KC4rKTxccyovXHMqYVxzKj5AaXNtVScsICdcMiAoXDEpJywgJGNvbnQpOwoJCQkJ'));
	@fwrite($fp, base64_decode('JGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0A8YnIuKj5AJywgIlxuIiwgJGNvbnQpOwoJCQkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoJ0BcXG4rQCcsICJcbiIsICRjb250KTsKCQkJCSRvdXRbXSA9ICdkZXNjcmlwdGlvbjogJyAuIHRyaW0oaHRtbF9lbnRpdHlfZGVjb2Rl'));
	@fwrite($fp, base64_decode('KHN0cmlwX3RhZ3MoJGNvbnQpKSk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCX0KCgkJCWlmIChzdWJzdHIoJHF1ZXJ5LDAsNCkgPT09ICdvaWQ6JykgewoJCQkJJG91dFtdID0gJ2FzbjEtbm90YXRpb246ICcgLiAkb2JqLT5nZXRBc24xTm90YXRpb24oZmFsc2Up'));
	@fwrite($fp, base64_decode('OyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJJG91dFtdID0gJ2lyaS1ub3RhdGlvbjogJyAuICRvYmotPmdldElyaU5vdGF0aW9uKGZhbHNlKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCgkJCQkkcmVzMiA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBm'));
	@fwrite($fp, base64_decode('cm9tICMjI2FzbjFpZCB3aGVyZSBvaWQgPSA/IiwgYXJyYXkoJG9iai0+bm9kZUlkKCkpKTsKCQkJCXdoaWxlICgkcm93MiA9ICRyZXMyLT5mZXRjaF9vYmplY3QoKSkgewoJCQkJCSRvdXRbXSA9ICdpZGVudGlmaWVyOiAnIC4gJHJvdzItPm5hbWU7IC8vIERPIE5P'));
	@fwrite($fp, base64_decode('VCBUUkFOU0xBVEUhCgkJCQl9CgoJCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNhc24xaWQgd2hlcmUgc3RhbmRhcmRpemVkID0gPyBhbmQgb2lkID0gPyIsIGFycmF5KHRydWUsICRvYmotPm5vZGVJZCgpKSk7CgkJCQl3'));
	@fwrite($fp, base64_decode('aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJCQkkb3V0W10gPSAnc3RhbmRhcmRpemVkLWlkOiAnIC4gJHJvdzItPm5hbWU7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQl9CgoJCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgi'));
	@fwrite($fp, base64_decode('c2VsZWN0ICogZnJvbSAjIyNpcmkgd2hlcmUgb2lkID0gPyIsIGFycmF5KCRvYmotPm5vZGVJZCgpKSk7CgkJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJCQkkb3V0W10gPSAndW5pY29kZS1sYWJlbDogJyAuICRyb3cyLT5uYW1l'));
	@fwrite($fp, base64_decode('OyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJfQoKCQkJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjaXJpIHdoZXJlIGxvbmdhcmMgPSA/IGFuZCBvaWQgPSA/IiwgYXJyYXkodHJ1ZSwgJG9iai0+bm9kZUlkKCkpKTsKCQkJ'));
	@fwrite($fp, base64_decode('CXdoaWxlICgkcm93MiA9ICRyZXMyLT5mZXRjaF9vYmplY3QoKSkgewoJCQkJCSRvdXRbXSA9ICdsb25nLWFyYzogJyAuICRyb3cyLT5uYW1lOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJfQoJCQl9CgoJCQlpZiAoJG9iai0+aXNDb25maWRlbnRpYWwoKSkgeyAv'));
	@fwrite($fp, base64_decode('LyB5ZXMsIHdlIHVzZSBpc0NvbmZpZGVudGlhbCgpIGluc3RlYWQgb2YgYWxsb3dPYmplY3RWaWV3KCkhCgkJCQkkb3V0W10gPSAnYXR0cmlidXRlOiBjb25maWRlbnRpYWwnOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQl9CgoJCQlpZiAoJG9iai0+aW1wbGVtZW50'));
	@fwrite($fp, base64_decode('c0ZlYXR1cmUoJzEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjMuNCcpKSB7CgkJCQkvLyBBbHNvIGFzayAkb2JqIGZvciBleHRyYSBhdHRyaWJ1dGVzOgoJCQkJLy8gVGhpcyB3YXkgd2UgY291bGQgYWRkIHZhcmlvdXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiwgZS5n'));
	@fwrite($fp, base64_decode('LiBJUHY0LzYgcmFuZ2UgYW5hbHlzaXMsIGludGVycHJldGF0aW9uIG9mIEdVSUQsIGV0Yy4gKFRPRE8pCgkJCQkkb2JqLT53aG9pc09iamVjdEF0dHJpYnV0ZXMoJG9iai0+bm9kZUlkKCksICRvdXQpOwoJCQl9CgoJCQlmb3JlYWNoIChPSURwbHVzOjpnZXRQYWdl'));
	@fwrite($fp, base64_decode('UGx1Z2lucygpIGFzICRwbHVnaW4pIHsKCQkJCWlmICgkcGx1Z2luLT5pbXBsZW1lbnRzRmVhdHVyZSgnMS4zLjYuMS40LjEuMzc0NzYuMi41LjIuMy40JykpIHsKCQkJCQkkcGx1Z2luLT53aG9pc09iamVjdEF0dHJpYnV0ZXMoJG9iai0+bm9kZUlkKCksICRvdXQp'));
	@fwrite($fp, base64_decode('OwoJCQkJfQoJCQl9CgoJCQlpZiAoc3Vic3RyKCRxdWVyeSwwLDQpID09PSAnb2lkOicpIHsKCQkJCSRzUGFyZW50ID0gJ29pZDonLm9pZF91cChleHBsb2RlKCc6JywkcXVlcnksMilbMV0pOwoKCQkJCSRvYmpUZXN0ID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHNQ'));
	@fwrite($fp, base64_decode('YXJlbnQpOwoJCQkJaWYgKGFsbG93T2JqZWN0Vmlldygkb2JqVGVzdCwgJGF1dGhUb2tlbnMpKSB7CgkJCQkJJG91dFtdID0gJ3BhcmVudDogJyAuICRzUGFyZW50IC4gc2hvd19hc24xX2FwcGVuZGl4KCRzUGFyZW50KTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJ'));
	@fwrite($fp, base64_decode('CX0gZWxzZSB7CgkJCQkJJG91dFtdID0gJ3BhcmVudDogJyAuICRzUGFyZW50OyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJfQoJCQl9IGVsc2UgaWYgKCFpc19udWxsKCRyb3cpICYmICFlbXB0eSgkcm93LT5wYXJlbnQpICYmICghaXNfcm9vdCgkcm93LT5wYXJl'));
	@fwrite($fp, base64_decode('bnQpKSkgewoJCQkJJHNQYXJlbnQgPSAkcm93LT5wYXJlbnQ7CgkJCQkkb3V0W10gPSAncGFyZW50OiAnIC4gJHJvdy0+cGFyZW50OyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQl9CgoJCQkkcmVzMiA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9t'));
	@fwrite($fp, base64_decode('ICMjI29iamVjdHMgd2hlcmUgcGFyZW50ID0gPyBvcmRlciBieSAiLk9JRHBsdXM6OmRiKCktPm5hdE9yZGVyKCdpZCcpLCBhcnJheSgkb2JqLT5ub2RlSWQoKSkpOwoJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJCSRvYmpUZXN0'));
	@fwrite($fp, base64_decode('ID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHJvdzItPmlkKTsKCQkJCWlmIChhbGxvd09iamVjdFZpZXcoJG9ialRlc3QsICRhdXRoVG9rZW5zKSkgewoJCQkJCSRvdXRbXSA9ICdzdWJvcmRpbmF0ZTogJyAuICRyb3cyLT5pZCAuIHNob3dfYXNuMV9hcHBlbmRpeCgk'));
	@fwrite($fp, base64_decode('cm93Mi0+aWQpOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJfSBlbHNlIHsKCQkJCQkkb3V0W10gPSAnc3Vib3JkaW5hdGU6ICcgLiAkcm93Mi0+aWQ7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQl9CgkJCX0KCgkJCWlmICghaXNfbnVsbCgkcm93KSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCRyb3ctPmNyZWF0ZWQpICRvdXRbXSA9ICdjcmVhdGVkOiAnIC4gZGF0ZSgnWS1tLWQgSDppOnMnLCBzdHJ0b3RpbWUoJHJvdy0+Y3JlYXRlZCkpOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJaWYgKCRyb3ctPnVwZGF0ZWQpICRvdXRbXSA9ICd1cGRhdGVk'));
	@fwrite($fp, base64_decode('OiAnIC4gZGF0ZSgnWS1tLWQgSDppOnMnLCBzdHJ0b3RpbWUoJHJvdy0+dXBkYXRlZCkpOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQl9CgoJCQkkb3V0W10gPSAnJzsKCgkJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjcmEg'));
	@fwrite($fp, base64_decode('d2hlcmUgZW1haWwgPSA/IiwgYXJyYXkoaXNfbnVsbCgkcm93KSA/ICcnIDogJHJvdy0+cmFfZW1haWwpKTsKCQkJaWYgKCRyb3cyID0gJHJlczItPmZldGNoX29iamVjdCgpKSB7CgkJCQkkb3V0W10gPSAncmE6ICcuKCFlbXB0eSgkcm93Mi0+cmFfbmFtZSkgPyAk'));
	@fwrite($fp, base64_decode('cm93Mi0+cmFfbmFtZSA6ICghZW1wdHkoJHJvdzItPmVtYWlsKSA/ICRyb3cyLT5lbWFpbCA6IF9MKCdVbmtub3duJykpKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCSRvdXRbXSA9ICdyYS1zdGF0dXM6IEluZm9ybWF0aW9uIGF2YWlsYWJsZSc7IC8vIERPIE5P'));
	@fwrite($fp, base64_decode('VCBUUkFOU0xBVEUhCgoJCQkJJHRtcCA9IGFycmF5KCk7CgkJCQlpZiAoIWVtcHR5KCRyb3cyLT5vZmZpY2UpKSAkdG1wW10gPSAkcm93Mi0+b2ZmaWNlOwoJCQkJaWYgKCFlbXB0eSgkcm93Mi0+b3JnYW5pemF0aW9uKSkgJHRtcFtdID0gJHJvdzItPm9yZ2FuaXph'));
	@fwrite($fp, base64_decode('dGlvbjsKCQkJCSR0bXAgPSBpbXBsb2RlKCcsICcsICR0bXApOwoKCQkJCSRvdXRbXSA9ICdyYS1jb250YWN0LW5hbWU6ICcgLiAkcm93Mi0+cGVyc29uYWxfbmFtZS4oIWVtcHR5KCR0bXApID8gIiAoJHRtcCkiIDogJycpOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJ'));
	@fwrite($fp, base64_decode('CQkJaWYgKCFhbGxvd1JBVmlldygkcm93MiwgJGF1dGhUb2tlbnMpKSB7CgkJCQkJaWYgKCFlbXB0eSgkcm93Mi0+c3RyZWV0KSB8fCAhZW1wdHkoJHJvdzItPnppcF90b3duKSB8fCAhZW1wdHkoJHJvdzItPmNvdW50cnkpKSB7CgkJCQkJCSRvdXRbXSA9ICdyYS1h'));
	@fwrite($fp, base64_decode('ZGRyZXNzOiAnLl9MKCcocmVkYWN0ZWQpJyk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQkJfQoJCQkJCSRvdXRbXSA9ICdyYS1waG9uZTogJyAuICghZW1wdHkoJHJvdzItPnBob25lKSA/IF9MKCcocmVkYWN0ZWQpJykgOiAnJyk7IC8vIERPIE5PVCBUUkFOU0xB'));
	@fwrite($fp, base64_decode('VEUhCgkJCQkJJG91dFtdID0gJ3JhLW1vYmlsZTogJyAuICghZW1wdHkoJHJvdzItPm1vYmlsZSkgPyBfTCgnKHJlZGFjdGVkKScpIDogJycpOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJCSRvdXRbXSA9ICdyYS1mYXg6ICcgLiAoIWVtcHR5KCRyb3cyLT5mYXgp'));
	@fwrite($fp, base64_decode('ID8gX0woJyhyZWRhY3RlZCknKSA6ICcnKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCX0gZWxzZSB7CgkJCQkJaWYgKCFlbXB0eSgkcm93Mi0+c3RyZWV0KSkgICAkb3V0W10gPSAncmEtYWRkcmVzczogJyAuICRyb3cyLT5zdHJlZXQ7IC8vIERPIE5PVCBUUkFO'));
	@fwrite($fp, base64_decode('U0xBVEUhCgkJCQkJaWYgKCFlbXB0eSgkcm93Mi0+emlwX3Rvd24pKSAkb3V0W10gPSAncmEtYWRkcmVzczogJyAuICRyb3cyLT56aXBfdG93bjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCQlpZiAoIWVtcHR5KCRyb3cyLT5jb3VudHJ5KSkgICRvdXRbXSA9ICdy'));
	@fwrite($fp, base64_decode('YS1hZGRyZXNzOiAnIC4gJHJvdzItPmNvdW50cnk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQkJJG91dFtdID0gJ3JhLXBob25lOiAnIC4gJHJvdzItPnBob25lOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJCSRvdXRbXSA9ICdyYS1tb2JpbGU6ICcgLiAkcm93'));
	@fwrite($fp, base64_decode('Mi0+bW9iaWxlOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJCSRvdXRbXSA9ICdyYS1mYXg6ICcgLiAkcm93Mi0+ZmF4OyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJfQoJCQkJJG91dFtdID0gJ3JhLWVtYWlsOiAnIC4gJHJvdy0+cmFfZW1haWw7IC8vIERPIE5P'));
	@fwrite($fp, base64_decode('VCBUUkFOU0xBVEUhCgoJCQkJJHJhID0gbmV3IE9JRHBsdXNSQSgkcm93LT5yYV9lbWFpbCk7CgkJCQlpZiAoJHJhLT5pbXBsZW1lbnRzRmVhdHVyZSgnMS4zLjYuMS40LjEuMzc0NzYuMi41LjIuMy40JykpIHsKCQkJCQkkcmEtPndob2lzUmFBdHRyaWJ1dGVzKCRy'));
	@fwrite($fp, base64_decode('b3ctPnJhX2VtYWlsLCAkb3V0KTsgLyoqIEBwaHBzdGFuLWlnbm9yZS1saW5lICovCgkJCQl9CgoJCQkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCQkJaWYgKCRwbHVnaW4tPmltcGxlbWVudHNGZWF0dXJlKCcxLjMu'));
	@fwrite($fp, base64_decode('Ni4xLjQuMS4zNzQ3Ni4yLjUuMi4zLjQnKSkgewoJCQkJCQkkcGx1Z2luLT53aG9pc1JhQXR0cmlidXRlcygkcm93LT5yYV9lbWFpbCwgJG91dCk7CgkJCQkJfQoJCQkJfQoKCQkJCWlmICgkcm93Mi0+cHJpdmFjeSkgeyAvLyB5ZXMsIHdlIHVzZSByb3cyLT5wcml2'));
	@fwrite($fp, base64_decode('YWN5KCkgaW5zdGVhZCBvZiBhbGxvd1JBVmlldygpIQoJCQkJCSRvdXRbXSA9ICdyYS1hdHRyaWJ1dGU6IGNvbmZpZGVudGlhbCc7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQl9CgoJCQkJaWYgKCRyb3cyLT5yZWdpc3RlcmVkKSAkb3V0W10gPSAncmEtY3JlYXRl'));
	@fwrite($fp, base64_decode('ZDogJyAuIGRhdGUoJ1ktbS1kIEg6aTpzJywgc3RydG90aW1lKCRyb3cyLT5yZWdpc3RlcmVkKSk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQlpZiAoJHJvdzItPnVwZGF0ZWQpICAgICRvdXRbXSA9ICdyYS11cGRhdGVkOiAnIC4gZGF0ZSgnWS1tLWQgSDppOnMn'));
	@fwrite($fp, base64_decode('LCBzdHJ0b3RpbWUoJHJvdzItPnVwZGF0ZWQpKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJfSBlbHNlIHsKCQkJCSRvdXRbXSA9ICdyYTogJy4oIWlzX251bGwoJHJvdykgJiYgIWVtcHR5KCRyb3ctPnJhX2VtYWlsKSA/ICRyb3ctPnJhX2VtYWlsIDogX0woJ1Vu'));
	@fwrite($fp, base64_decode('a25vd24nKSk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQlpZiAoIWlzX251bGwoJHJvdykpIHsKCQkJCQlmb3JlYWNoIChPSURwbHVzOjpnZXRQYWdlUGx1Z2lucygpIGFzICRwbHVnaW4pIHsKCQkJCQkJaWYgKCRwbHVnaW4tPmltcGxlbWVudHNGZWF0dXJlKCcx'));
	@fwrite($fp, base64_decode('LjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi4zLjQnKSkgewoJCQkJCQkJJHBsdWdpbi0+d2hvaXNSYUF0dHJpYnV0ZXMoJHJvdy0+cmFfZW1haWwsICRvdXQpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQkJJG91dFtdID0gInJhLXN0YXR1czogSW5mb3JtYXRpb24gdW5h'));
	@fwrite($fp, base64_decode('dmFpbGFibGUiOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQl9CgkJfQoJfQp9CgovLyBTdGVwIDI6IEZvcm1hdCBvdXRwdXQKCmlmICgkZm9ybWF0ID09ICd0ZXh0JykgewoJaGVhZGVyKCdDb250ZW50LVR5cGU6dGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOCcpOwoK'));
	@fwrite($fp, base64_decode('CSRsb25nZXN0X2tleSA9IDA7Cglmb3JlYWNoICgkb3V0IGFzICRsaW5lKSB7CgkJJGxvbmdlc3Rfa2V5ID0gbWF4KCRsb25nZXN0X2tleSwgc3RybGVuKHRyaW0oZXhwbG9kZSgnOicsJGxpbmUsMilbMF0pKSk7Cgl9CgoJb2Jfc3RhcnQoKTsKCgkvL2VjaG8gJyUg'));
	@fwrite($fp, base64_decode('JyAuIHN0cl9yZXBlYXQoJyonLCBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3dlYndob2lzX291dHB1dF9mb3JtYXRfbWF4X2xpbmVfbGVuZ3RoJywgODApLTIpLiJcclxuIjsKCglmb3JlYWNoICgkb3V0IGFzICRsaW5lKSB7CgkJaWYgKHRyaW0oJGxpbmUp'));
	@fwrite($fp, base64_decode('ID09ICcnKSB7CgkJCWVjaG8gIlxyXG4iOwoJCQljb250aW51ZTsKCQl9CgoJCSRhcnkgPSBleHBsb2RlKCc6JywgJGxpbmUsIDIpOwoKCQkka2V5ID0gdHJpbSgkYXJ5WzBdKTsKCgkJJHZhbHVlID0gaXNzZXQoJGFyeVsxXSkgPyB0cmltKCRhcnlbMV0pIDogJyc7'));
	@fwrite($fp, base64_decode('CgoJCS8vIE5vcm1hbGl6ZSBsaW5lLWJyZWFrcyB0byBcclxuLCBvdGhlcndpc2UgbWJfd29yZHdyYXAgd29uJ3Qgd29yayBjb3JyZWN0bHkKCQkkdmFsdWUgPSBzdHJfcmVwbGFjZSgiXHJcbiIsICJcbiIsICR2YWx1ZSk7CgkJJHZhbHVlID0gc3RyX3JlcGxhY2Uo'));
	@fwrite($fp, base64_decode('IlxyIiwgIlxuIiwgJHZhbHVlKTsKCQkkdmFsdWUgPSBzdHJfcmVwbGFjZSgiXG4iLCAiXHJcbiIsICR2YWx1ZSk7CgoJCSR2YWx1ZSA9IG1iX3dvcmR3cmFwKCR2YWx1ZSwgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCd3ZWJ3aG9pc19vdXRwdXRfZm9ybWF0'));
	@fwrite($fp, base64_decode('X21heF9saW5lX2xlbmd0aCcsIDgwKSAtICRsb25nZXN0X2tleSAtIHN0cmxlbignOicpIC0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCd3ZWJ3aG9pc19vdXRwdXRfZm9ybWF0X3NwYWNlcicsIDIpLCAiXHJcbiIpOwoJCSR2YWx1ZSA9IHN0cl9yZXBsYWNl'));
	@fwrite($fp, base64_decode('KCJcclxuIiwgIlxyXG4ka2V5OiIuc3RyX3JlcGVhdCgnICcsICRsb25nZXN0X2tleS1zdHJsZW4oJGtleSkpIC4gc3RyX3JlcGVhdCgnICcsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2Vid2hvaXNfb3V0cHV0X2Zvcm1hdF9zcGFjZXInLCAyKSksICR2'));
	@fwrite($fp, base64_decode('YWx1ZSk7CgoJCWlmICghZW1wdHkoJHZhbHVlKSkgewoJCQllY2hvICRrZXkuJzonIC4gc3RyX3JlcGVhdCgnICcsICRsb25nZXN0X2tleS1zdHJsZW4oJGtleSkpIC4gc3RyX3JlcGVhdCgnICcsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2Vid2hvaXNf'));
	@fwrite($fp, base64_decode('b3V0cHV0X2Zvcm1hdF9zcGFjZXInLCAyKSkgLiAkdmFsdWUgLiAiXHJcbiI7CgkJfQoJfQoKCS8vZWNobyAnJSAnIC4gc3RyX3JlcGVhdCgnKicsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2Vid2hvaXNfb3V0cHV0X2Zvcm1hdF9tYXhfbGluZV9sZW5n'));
	@fwrite($fp, base64_decode('dGgnLCA4MCktMikuIlxyXG4iOwoKCSRjb250ID0gb2JfZ2V0X2NvbnRlbnRzKCk7CglvYl9lbmRfY2xlYW4oKTsKCgllY2hvICRjb250OwoKCWlmIChPSURwbHVzOjpnZXRQa2lTdGF0dXMoKSkgewoJCSRzaWduYXR1cmUgPSAnJzsKCQlpZiAoQG9wZW5zc2xfc2ln'));
	@fwrite($fp, base64_decode('bigkY29udCwgJHNpZ25hdHVyZSwgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdvaWRwbHVzX3ByaXZhdGVfa2V5JykpKSB7CgkJCSRzaWduYXR1cmUgPSBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpOwoJCQkkc2lnbmF0dXJlID0gbWJfd29yZHdyYXAoJHNp'));
	@fwrite($fp, base64_decode('Z25hdHVyZSwgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCd3ZWJ3aG9pc19vdXRwdXRfZm9ybWF0X21heF9saW5lX2xlbmd0aCcsIDgwKSAtIHN0cmxlbignJSAnKSwgIlxyXG4iLCB0cnVlKTsKCQkJJHNpZ25hdHVyZSA9ICIlIC0tLS0tQkVHSU4gUlNBIFNJ'));
	@fwrite($fp, base64_decode('R05BVFVSRS0tLS0tXHJcbiIuCgkJCSAgICAgICAgICAgICBwcmVnX3JlcGxhY2UoJy9eL20nLCAnJSAnLCAkc2lnbmF0dXJlKS4iXHJcbiIuCgkJCSAgICAgICAgICAgICAiJSAtLS0tLUVORCBSU0EgU0lHTkFUVVJFLS0tLS1cclxuIjsKCQkJZWNobyAkc2lnbmF0'));
	@fwrite($fp, base64_decode('dXJlOwoJCX0KCX0KfQoKaWYgKCRmb3JtYXQgPT0gJ2pzb24nKSB7CgkkYXJ5ID0gYXJyYXkoKTsKCgkkY3VycmVudF9zZWN0aW9uID0gYXJyYXkoKTsKCSRhcnlbXSA9ICYkY3VycmVudF9zZWN0aW9uOwoKCWZvcmVhY2ggKCRvdXQgYXMgJGxpbmUpIHsKCQlpZiAo'));
	@fwrite($fp, base64_decode('JGxpbmUgPT0gJycpIHsKCQkJdW5zZXQoJGN1cnJlbnRfc2VjdGlvbik7CgkJCSRjdXJyZW50X3NlY3Rpb24gPSBhcnJheSgpOwoJCQkkYXJ5W10gPSAmJGN1cnJlbnRfc2VjdGlvbjsKCQl9IGVsc2UgewoJCQlsaXN0KCRrZXksJHZhbCkgPSBleHBsb2RlKCc6Jywg'));
	@fwrite($fp, base64_decode('JGxpbmUsIDIpOwoJCQkkdmFsID0gdHJpbSgkdmFsKTsKCQkJaWYgKCFlbXB0eSgkdmFsKSkgewoJCQkJaWYgKCFpc3NldCgkY3VycmVudF9zZWN0aW9uWyRrZXldKSkgewoJCQkJCSRjdXJyZW50X3NlY3Rpb25bJGtleV0gPSAkdmFsOwoJCQkJfSBlbHNlaWYgKGlz'));
	@fwrite($fp, base64_decode('X2FycmF5KCRjdXJyZW50X3NlY3Rpb25bJGtleV0pKSB7CgkJCQkJJGN1cnJlbnRfc2VjdGlvblska2V5XVtdID0gJHZhbDsKCQkJCX0gZWxzZSB7CgkJCQkJJGN1cnJlbnRfc2VjdGlvblska2V5XSA9IGFycmF5KCRjdXJyZW50X3NlY3Rpb25bJGtleV0sICR2YWwp'));
	@fwrite($fp, base64_decode('OwoJCQkJfQoJCQl9CgkJfQoJfQoJJGFyeSA9IGFycmF5KAoJCS8vIGh0dHBzOi8vY29kZS52aXN1YWxzdHVkaW8uY29tL2RvY3MvbGFuZ3VhZ2VzL2pzb24jX21hcHBpbmctaW4tdGhlLWpzb24KCQkvLyBOb3RlIHRoYXQgdGhpcyBzeW50YXggaXMgVlMgQ29kZS1z'));
	@fwrite($fp, base64_decode('cGVjaWZpYyBhbmQgbm90IHBhcnQgb2YgdGhlIEpTT04gU2NoZW1hIHNwZWNpZmljYXRpb24uCgkJLy8nJHNjaGVtYScgPT4gJ2h0dHBzOi8vb2lkcGx1cy52aWF0aGlua3NvZnQuY29tL29pZHBsdXMvcGx1Z2lucy9wdWJsaWNQYWdlcy8xMDBfd2hvaXMvd2hvaXMv'));
	@fwrite($fp, base64_decode('anNvbl9zY2hlbWEuanNvbicsCgkJJyRzY2hlbWEnID0+IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXyx0cnVlKS4nanNvbl9zY2hlbWEuanNvbicsCgoJCS8vIHdlIG5lZWQgdGhpcyBOQU1FRCByb290LCBvdGhlcndpc2UgUEhQIHdpbGwgbmFtZSB0aGUgc2VjdGlv'));
	@fwrite($fp, base64_decode('bnMgIjAiLCAiMSIsICIyIiBpZiB0aGUgYXJyYXkgaXMgbm90IHNlcXVlbmNpYWwgKGUuZy4gYmVjYXVzZSAic2lnbmF0dXJlIiBpcyBhZGRlZCkKCQknb2lkaXAnID0+ICRhcnkKCSk7CgoJaWYgKE9JRHBsdXM6OmdldFBraVN0YXR1cygpKSB7CgkJJGNvbnQgPSBq'));
	@fwrite($fp, base64_decode('c29uX2VuY29kZSgkYXJ5KTsKCQkkc2lnbmF0dXJlID0gJyc7CgkJaWYgKEBvcGVuc3NsX3NpZ24oJGNvbnQsICRzaWduYXR1cmUsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnb2lkcGx1c19wcml2YXRlX2tleScpKSkgewoJCQkkc2lnbmF0dXJlID0gYmFz'));
	@fwrite($fp, base64_decode('ZTY0X2VuY29kZSgkc2lnbmF0dXJlKTsKCQkJJGFyeVsnc2lnbmF0dXJlJ10gPSBhcnJheSgnY29udGVudCcgPT4gJGNvbnQsICdzaWduYXR1cmUnID0+ICRzaWduYXR1cmUpOwoJCX0KCX0KCgkvLyBHb29kIEpTT04gc2NoZW1hIHZhbGlkYXRvciBoZXJlOiBodHRw'));
	@fwrite($fp, base64_decode('czovL3d3dy5qc29uc2NoZW1hdmFsaWRhdG9yLm5ldAoJaGVhZGVyKCdDb250ZW50LVR5cGU6YXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcpOwoJZWNobyBqc29uX2VuY29kZSgkYXJ5KTsKfQoKaWYgKCRmb3JtYXQgPT0gJ3htbCcpIHsKCSR4bWwgPSAn'));
	@fwrite($fp, base64_decode('PG9pZGlwPjxzZWN0aW9uPic7Cglmb3JlYWNoICgkb3V0IGFzICRsaW5lKSB7CgkJaWYgKCRsaW5lID09ICcnKSB7CgkJCSR4bWwgLj0gJzwvc2VjdGlvbj48c2VjdGlvbj4nOwoJCX0gZWxzZSB7CgkJCWxpc3QoJGtleSwkdmFsKSA9IGV4cGxvZGUoJzonLCAkbGlu'));
	@fwrite($fp, base64_decode('ZSwgMik7CgkJCSR2YWwgPSB0cmltKCR2YWwpOwoJCQlpZiAoIWVtcHR5KCR2YWwpKSB7CgkJCQkkeG1sIC49ICI8JGtleT4iLmh0bWxzcGVjaWFsY2hhcnMoJHZhbCkuIjwvJGtleT4iOwoJCQl9CgkJfQoJfQoJJHhtbCAuPSAnPC9zZWN0aW9uPjwvb2lkaXA+JzsK'));
	@fwrite($fp, base64_decode('CgkkeG1sID0gcHJlZ19yZXBsYWNlKCdAPHNlY3Rpb24+PCguKyk+KC4rKTwvc2VjdGlvbj5AaXNtVScsICc8XFwxU2VjdGlvbj48XFwxPlxcMjwvXFwxU2VjdGlvbj4nLCAkeG1sKTsKCglpZiAoT0lEcGx1czo6Z2V0UGtpU3RhdHVzKCkpIHsKCQkkY29udCA9ICR4'));
	@fwrite($fp, base64_decode('bWw7CgkJJHNpZ25hdHVyZSA9ICcnOwoJCWlmIChAb3BlbnNzbF9zaWduKCRjb250LCAkc2lnbmF0dXJlLCBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknKSkpIHsKCQkJJHNpZ25hdHVyZSA9IGJhc2U2NF9lbmNvZGUoJHNp'));
	@fwrite($fp, base64_decode('Z25hdHVyZSk7CgkJCSRjZGF0YSA9ICc8IVtDREFUQVsnLnN0cl9yZXBsYWNlKCddXT4nLCAnXV1dXT48IVtDREFUQVs+JywgJGNvbnQpLiddXT4nOwoJCQkkeG1sIC49ICI8c2lnbmF0dXJlU2VjdGlvbj48Y29udGVudD4iLiRjZGF0YS4iPC9jb250ZW50PjxzaWdu'));
	@fwrite($fp, base64_decode('YXR1cmU+Ii5odG1sc3BlY2lhbGNoYXJzKCRzaWduYXR1cmUpLiI8L3NpZ25hdHVyZT48L3NpZ25hdHVyZVNlY3Rpb24+IjsKCQl9Cgl9CgoJLy8gR29vZCBYU0QgdmFsaWRhdG9yIGhlcmU6IGh0dHBzOi8vd3d3LmxpcXVpZC10ZWNobm9sb2dpZXMuY29tL29ubGlu'));
	@fwrite($fp, base64_decode('ZS14c2QtdmFsaWRhdG9yCgloZWFkZXIoJ0NvbnRlbnQtVHlwZTphcHBsaWNhdGlvbi94bWw7IGNoYXJzZXQ9VVRGLTgnKTsKCWVjaG8gJzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9IlVURi04IiBzdGFuZGFsb25lPSJ5ZXMiID8+JzsKCWVjaG8gJzxyb290'));
	@fwrite($fp, base64_decode('IHhtbG5zPSInLlhNTF9VUk4uJyInOwoJZWNobyAnICAgICAgeG1sbnM6eHNpPSJodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYS1pbnN0YW5jZSInOwoJZWNobyAnICAgICAgeHNpOnNjaGVtYUxvY2F0aW9uPSInLlhNTF9VUk4uJyAnLlhNTF9VUk5fVVJM'));
	@fwrite($fp, base64_decode('LiciPic7CgllY2hvICR4bWw7CgllY2hvICc8L3Jvb3Q+JzsKfQoKIyAtLS0KCmZ1bmN0aW9uIHNob3dfYXNuMV9hcHBlbmRpeCgkaWQpIHsKCWlmIChzdWJzdHIoJGlkLDAsNCkgPT09ICdvaWQ6JykgewoJCSRhcHBlbmRpeF9hc24xaWRzID0gYXJyYXkoKTsKCQkk'));
	@fwrite($fp, base64_decode('cmVzMyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI2FzbjFpZCB3aGVyZSBvaWQgPSA/IiwgYXJyYXkoJGlkKSk7CgkJd2hpbGUgKCRyb3czID0gJHJlczMtPmZldGNoX29iamVjdCgpKSB7CgkJCSRhcHBlbmRpeF9hc24xaWRzW10gPSAk'));
	@fwrite($fp, base64_decode('cm93My0+bmFtZTsKCQl9CgoJCSRhcHBlbmRpeCA9IGltcGxvZGUoJywgJywgJGFwcGVuZGl4X2FzbjFpZHMpOwoJCWlmICghZW1wdHkoJGFwcGVuZGl4KSkgJGFwcGVuZGl4ID0gIiAoJGFwcGVuZGl4KSI7Cgl9IGVsc2UgewoJCSRhcHBlbmRpeCA9ICcnOwoJfQoJ'));
	@fwrite($fp, base64_decode('cmV0dXJuICRhcHBlbmRpeDsKfQoKZnVuY3Rpb24gaXNfcm9vdCgkaWQpIHsKCXJldHVybiBlbXB0eShleHBsb2RlKCc6JywkaWQsMilbMV0pOwp9CgpmdW5jdGlvbiBhdXRoVG9rZW5BY2NlcHRlZCgkY29udGVudCwgJGF1dGhUb2tlbnMpIHsKCWZvcmVhY2ggKCRh'));
	@fwrite($fp, base64_decode('dXRoVG9rZW5zIGFzICR0b2tlbikgewoJCWlmIChPSURwbHVzUGFnZVB1YmxpY1dob2lzOjpnZW5XaG9pc0F1dGhUb2tlbigkY29udGVudCkgPT0gJHRva2VuKSByZXR1cm4gdHJ1ZTsKCX0KCXJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gYWxsb3dPYmplY3RWaWV3'));
	@fwrite($fp, base64_decode('KCRvYmosICRhdXRoVG9rZW5zKSB7CgkvLyBNYXN0ZXIgYXV0aCB0b2tlbgoJJGF1dGhUb2tlbiA9IHRyaW0oT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCd3aG9pc19hdXRoX3Rva2VuJykpOwoJaWYgKGVtcHR5KCRhdXRoVG9rZW4pKSAkYXV0aFRva2VuID0g'));
	@fwrite($fp, base64_decode('ZmFsc2U7CglpZiAoJGF1dGhUb2tlbiAmJiBpbl9hcnJheSgkYXV0aFRva2VuLCAkYXV0aFRva2VucykpIHJldHVybiB0cnVlOwoKCS8vIFBlci1PSUQgYXV0aCB0b2tlbnMKCSRjdXJpZCA9ICRvYmotPm5vZGVJZCgpOwoJd2hpbGUgKCgkcmVzID0gT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('ZGIoKS0+cXVlcnkoInNlbGVjdCBwYXJlbnQsIGNvbmZpZGVudGlhbCBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSA/IiwgYXJyYXkoJGN1cmlkKSkpLT5udW1fcm93cygpID4gMCkgewoJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCS8vIEV4YW1wbGU6'));
	@fwrite($fp, base64_decode('IFlvdSBoYXZlIGFuIGF1dGggVG9rZW4gZm9yIDIuOTk5LjEuMi4zCgkJLy8gVGhpcyBhbGxvd3MgeW91IHRvIHZpZXcgMi45OTkuMS4yLjMgYW5kIGFsbCBvZiBpdHMgY2hpbGRyZW4sCgkJLy8gYXMgbG9uZyBhcyB0aGV5IGFyZSBub3QgY29uZmlkZW50aWFsICh0'));
	@fwrite($fp, base64_decode('aGVuIHlvdSBuZWVkIHRoZWlyIGF1dGggdG9rZW4pLgoJCS8vIDIsIDIuOTk5LCAyLjk5OS4xIGFuZCAyLjk5OS4xLjIgYXJlIHZpc2libGUsCgkJLy8gKGJlY2F1c2UgdGhlaXIgZXhpc3RlbmNlIGlzIG5vdyBvYnZpb3VzKS4KCQlpZiAoJHJvd1snY29uZmlkZW50'));
	@fwrite($fp, base64_decode('aWFsJ10gJiYgIWF1dGhUb2tlbkFjY2VwdGVkKCRjdXJpZCwgJGF1dGhUb2tlbnMpKSByZXR1cm4gZmFsc2U7CgkJJGN1cmlkID0gJHJvd1sncGFyZW50J107Cgl9CgoJLy8gQWxsb3cKCXJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBhbGxvd1JBVmlldygkcm93LCAk'));
	@fwrite($fp, base64_decode('YXV0aFRva2VucykgewoJLy8gTWFzdGVyIGF1dGggdG9rZW4KCSRhdXRoVG9rZW4gPSB0cmltKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2hvaXNfYXV0aF90b2tlbicpKTsKCWlmIChlbXB0eSgkYXV0aFRva2VuKSkgJGF1dGhUb2tlbiA9IGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('aWYgKCRhdXRoVG9rZW4gJiYgaW5fYXJyYXkoJGF1dGhUb2tlbiwgJGF1dGhUb2tlbnMpKSByZXR1cm4gdHJ1ZTsKCgkvLyBQZXItUkEgYXV0aCB0b2tlbnMKCWlmICgkcm93LT5wcml2YWN5ICYmICFhdXRoVG9rZW5BY2NlcHRlZCgncmE6Jy4kcm93LT5yYV9uYW1l'));
	@fwrite($fp, base64_decode('LCAkYXV0aFRva2VucykpIHJldHVybiBmYWxzZTsKCgkvLyBBbGxvdwoJcmV0dXJuIHRydWU7Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	writefile_4();
	if (!is_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	} else if (sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') != '030ba457fa15bb1b26f293d770311f6a301fc7ca') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') !== '030ba457fa15bb1b26f293d770311f6a301fc7ca') {
		if (@sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') !== '3206830aac058e02d589b1807af5632522782499') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
			$tmp = pathinfo('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') !== '030ba457fa15bb1b26f293d770311f6a301fc7ca') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 773\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 773') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

