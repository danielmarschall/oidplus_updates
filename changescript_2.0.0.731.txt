<?php /* <ViaThinkSoftSignature>
BLvfnivoTqdY1v1OqpzLYb4ZEaZpH1gxeeO19LbEUiWNY1IPGXokbVWB5plZPdaE+
Ha8URMEF1vZH5oeouiCMPwIZ1HpKY40bv7Qha8CcZoTBc7/wmhvGdILw5xKI1Nuhu
VFB5D240deFEKgyBcmzPnvS6REaES7xuuQsLVzxqlUW0lqaHnnDPLcIvktbn2ic8I
cGZN55MikcrolTf6v0TLNNdNQ/1lDbjXA4ZlVb4STHIAkgdYSG80IAOQ1hPrhJtos
mp0azCli01q3JW24Vrae+6kj6YqRPbHyymBDyqQPD0/7GLxuKpxtYamVWXjdiID98
HP3tp8klwcbcIt9ZcTN7dQ5mG3reWNAS0vucIiQG9Ue1XpxWBSBHL9b98IDAU+I6D
/i/OslMESOEAKTU1m7tihCrXpAofbBMci4yjQ7U94pGYlAxse5qEnPR247DovaSnw
lVs6aWpDNgy4gz77FF8ZNhqRi+fq4XnmdLNIe4mze28V2wwognLeVUK6F//XuG9pL
TCkcKvGkCHeDNo3eWd1zRAPP2S+7DJgwdgg5y8oRzwy3WoAPBptFRYfYxv3Ce/jeg
qYhcJ+k9s2NXPF/tgRSvuhvAVWq11y3RFtGYKeF6naJRVdGy0Lbu+PqPzf4/tCfDF
6BU4L1tzXOamwygv9i0G5palCa3qV9ieagunnmLlCNsyN6XMD3mY/p8bG05z8GPM1
T1Hngq/JtWp1abx1w6AIJ6YEwfWrC56ZlcTrlFdvoIi98oeK2NY7zCbOssbOKbYve
FXDM4d/ipRBLoJhbQsjxl14LcX+Y3dNryI+kWaVGJEekV51l4nXwDctHKkxs9ASWn
KvVhYBz/aNEX6Pz8Y5gK2mT1k/pwoWc7KyzgsNK4XBLqpL5JEXjczzMwNr7ftWhn2
PFIjPie5lnFLIto7buRhcR56nrTb7eu61pBQnefS5/1v2cngazJYmV/F9GTcsWcHy
O09nJSdIkXNTusH8nwJAZJqYU2cTy2GCZxcSkfU92iVfTRZ351zkhURRrN16bk4Bu
gL9qIZw9ZyQ2ECKcfaM1rVeqpKCNBHzQpSLsMgJwMX6YiGI2Y+ueo7rwulUatxBGu
HNGp6abqQD8vINtx4PKSyEO+H/VI38xmRJ3cNVCov6MBnXD/PAKCBxOQiYgPAU3RK
bWWZDqBSg99oL/uePczQorLANDuGIBkXoO0ZIaa8owQ1fs+88RKg9ZiVZqQd32zzm
Eon62KzVhG6Vnj27DYBvih01N3TDTaWpxk9Edk8Js3X44navPQgcGdyQpIg0ZBea6
6+TJX409NW3XHfjH8Hia1ZqIfpHOIM1HoYJkY7oqUmKdQ+Uhp2aULDBeMiivQDsxb
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 730') {
	err('This update can only be applied to OIDplus version 2.0.0.730!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMSBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vLi4vLi4vLi4vLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCk9JRHBsdXM6OmluaXQodHJ1ZSk7CnNldF9leGNlcHRpb25faGFu'));
	@fwrite($fp, base64_decode('ZGxlcihhcnJheSgnT0lEcGx1c0d1aScsICdodG1sX2V4Y2VwdGlvbl9oYW5kbGVyJykpOwoKaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RJU0FCTEVfUExVR0lOX09JRHBsdXNQYWdlUHVibGljV2hvaXMnLCBmYWxzZSkpIHsKCXRocm93IG5l'));
	@fwrite($fp, base64_decode('dyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGlzIHBsdWdpbiB3YXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbSBhZG1pbmlzdHJhdG9yIScpKTsKfQoKb3JpZ2luSGVhZGVycygpOwoKLy8gU3RlcCAwOiBHZXQgcmVxdWVzdCBwYXJhbWV0ZXIKCmlmIChQSFBfU0FQSSA9'));
	@fwrite($fp, base64_decode('PSAnY2xpJykgewoJaWYgKCRfU0VSVkVSWydhcmdjJ10gIT0gMikgewoJCWVjaG8gX0woJ1N5bnRheCcpLic6ICcuJF9TRVJWRVJbJ2FyZ3YnXVswXS4nIDxxdWVyeT4nLiJcbiI7CgkJZXhpdCgyKTsKCX0KCSRxdWVyeSA9ICRfU0VSVkVSWydhcmd2J11bMV07Cn0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7CglpZiAoIWlzc2V0KCRfUkVRVUVTVFsncXVlcnknXSkpIHsKCQlodHRwX3Jlc3BvbnNlX2NvZGUoNDAwKTsKCQlkaWUoJzxoMT4nLl9MKCdFcnJvcicpLic8L2gxPjxwPicuX0woJ0FyZ3VtZW50ICIlMSIgaXMgbWlzc2luZycsJ3F1ZXJ5JykuJzxwPicp'));
	@fwrite($fp, base64_decode('OwoJfQoJJHF1ZXJ5ID0gJF9SRVFVRVNUWydxdWVyeSddOwp9CgovLyBTcGxpdCBpbnB1dCBpbnRvIHF1ZXJ5LCBhdXRoVG9rZW5zIGFuZCBzZXJ2ZXJDb21tYW5kcwokdG9rZW5zID0gZXhwbG9kZSgnJCcsICRxdWVyeSk7CiRxdWVyeSA9IGFycmF5X3NoaWZ0KCR0'));
	@fwrite($fp, base64_decode('b2tlbnMpOwokYXV0aFRva2Vuc1tdID0gYXJyYXkoKTsKJHNlcnZlckNvbW1hbmRzID0gYXJyYXkoKTsKZm9yZWFjaCAoJHRva2VucyBhcyAkdG9rZW4pIHsKCWlmIChzdHJwb3MoJHRva2VuLCc9JykgIT09IGZhbHNlKSB7CgkJJHRtcCA9IGV4cGxvZGUoJz0nLCR0'));
	@fwrite($fp, base64_decode('b2tlbiwyKTsKCQkkc2VydmVyQ29tbWFuZHNbc3RydG9sb3dlcigkdG1wWzBdKV0gPSAkdG1wWzFdOwoJfSBlbHNlIHsKCQkkYXV0aFRva2Vuc1tdID0gJHRva2VuOwoJfQp9CgokcXVlcnkgPSBzdHJfcmVwbGFjZSgnb2lkOi4nLCAnb2lkOicsICRxdWVyeSk7IC8v'));
	@fwrite($fp, base64_decode('IGFsbG93IGxlYWRpbmcgZG90CgovLyBTdGVwIDE6IENvbGxlY3QgZGF0YQoKJG91dCA9IGFycmF5KCk7Cgokb3V0W10gPSAicXVlcnk6ICRxdWVyeSI7CgokZGlzdGFuY2UgPSBudWxsOwokZm91bmQgPSBudWxsOwoKdHJ5IHsKCSRvYmogPSBPSURwbHVzT2JqZWN0'));
	@fwrite($fp, base64_decode('OjpmaW5kRml0dGluZygkcXVlcnkpOwoJaWYgKCEkb2JqKSAkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHF1ZXJ5KTsgLy8gaW4gY2FzZSB3ZSBkaWRuJ3QgZmluZCBhbnl0aGluZyBmaXR0aW5nLCB3ZSB0YWtlIGl0IGFzIGl0IGlzIGFuZCBsYXRlciB1c2Ug'));
	@fwrite($fp, base64_decode('Z2V0UGFyZW50KCkgdG8gZmluZCBzb21ldGhpbmcgZWxzZQoJJHF1ZXJ5ID0gJG9iai0+bm9kZUlkKCk7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJJG9iaiA9IG51bGw7Cn0KCiRvbmx5X3dlbGxrbm93bl9pZHNfZm91bmQgPSBmYWxzZTsKJGNvbnRpbnVlID0g'));
	@fwrite($fp, base64_decode('ZmFsc2U7CgppZiAoISRvYmopIHsKCSRvdXRbXSA9ICJyZXN1bHQ6IE5vdCBmb3VuZCI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkkY29udGludWUgPSBmYWxzZTsKCSRyZXMgPSBudWxsOwp9IGVsc2UgewoJJG9iaiA9IG51bGw7CgkkZGlzdGFuY2UgPSAwOwoKCSRp'));
	@fwrite($fp, base64_decode('bml0X3F1ZXJ5ID0gJHF1ZXJ5OwoJd2hpbGUgKHRydWUpIHsKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ID8iLCBhcnJheSgkcXVlcnkpKTsKCQlpZiAoJHJlcy0+bnVtX3Jvd3MoKSA+IDAp'));
	@fwrite($fp, base64_decode('IHsKCQkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRxdWVyeSk7CgkJCWlmICgkZGlzdGFuY2UgPiAwKSB7CgkJCQkkb3V0W10gPSAicmVzdWx0OiBOb3QgZm91bmQ7IHN1cGVyaW9yIG9iamVjdCBmb3VuZCI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCQkk'));
	@fwrite($fp, base64_decode('b3V0W10gPSAiZGlzdGFuY2U6ICRkaXN0YW5jZSI7IC8vIERPIE5PVCBUUkFOU0xBVEUKCQkJfSBlbHNlIHsKCQkJCSRvdXRbXSA9ICJyZXN1bHQ6IEZvdW5kIjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJfQoJCQkkY29udGludWUgPSB0cnVlOwoJCQlicmVhazsK'));
	@fwrite($fp, base64_decode('CQl9CgoJCWlmIChzdWJzdHIoJHF1ZXJ5LDAsNCkgPT09ICdvaWQ6JykgewoJCQkkcXVlcnlfcHJldiA9ICRxdWVyeTsKCQkJJHF1ZXJ5ID0gJ29pZDonLm9pZF91cChleHBsb2RlKCc6JywkcXVlcnksMilbMV0pOwoJCQlpZiAoJHF1ZXJ5ID09ICRxdWVyeV9wcmV2'));
	@fwrite($fp, base64_decode('KSBicmVhazsKCQkJJGRpc3RhbmNlKys7CgkJfSBlbHNlIHsKCQkJLy8gZ2V0UGFyZW50KCkgd2lsbCBmaW5kIHRoZSBwYXJlbnQgd2hpY2ggRE9FUyBleGlzdCBpbiB0aGUgREIuCgkJCS8vIEl0IGRvZXMgbm90IG5lZWQgdG8gYmUgdGhlIGRpcmVjdCBwYXJlbnQg'));
	@fwrite($fp, base64_decode('KGxpa2UgLT5vbmVfdXAoKSBkb2VzKQoJCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHF1ZXJ5KS0+Z2V0UGFyZW50KCk7IC8vIEZvciBvYmplY3RzLCB3ZSBhc3N1bWUgdGhhdCB0aGV5IGFyZSBwYXJlbnRzIG9mIGVhY2ggb3RoZXIKCQkJaWYgKCRvYmop'));
	@fwrite($fp, base64_decode('IHsKCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gPyIsIGFycmF5KCRvYmotPm5vZGVJZCgpKSk7CgkJCQkkZGlzdGFuY2UgPSAkb2JqLT5kaXN0YW5jZSgkcXVlcnkpOwoJCQkJYXNzZXJ0'));
	@fwrite($fp, base64_decode('KCRyZXMtPm51bV9yb3dzKCkgPiAwKTsKCgkJCQkkcXVlcnkgPSAkb2JqLT5ub2RlSWQoKTsKCQkJfQoKCQkJaWYgKCRkaXN0YW5jZSA+IDApIHsKCQkJCSRvdXRbXSA9ICJyZXN1bHQ6IE5vdCBmb3VuZDsgc3VwZXJpb3Igb2JqZWN0IGZvdW5kIjsgLy8gRE8gTk9U'));
	@fwrite($fp, base64_decode('IFRSQU5TTEFURSEKCQkJCSRvdXRbXSA9ICJkaXN0YW5jZTogJGRpc3RhbmNlIjsgLy8gRE8gTk9UIFRSQU5TTEFURQoJCQl9CgkJCSRjb250aW51ZSA9IHRydWU7CgoJCQlicmVhazsKCQl9Cgl9CgoJaWYgKChzdWJzdHIoJHF1ZXJ5LDAsNCkgPT09ICdvaWQ6Jykg'));
	@fwrite($fp, base64_decode('JiYgKCEkb2JqKSkgewoJCSRxdWVyeSA9ICRpbml0X3F1ZXJ5OwoJCSRkaXN0YW5jZSA9IDA7CgkJd2hpbGUgKHRydWUpIHsKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI2FzbjFpZCB3aGVyZSBvaWQgPSA/IHVuaW9uIHNl'));
	@fwrite($fp, base64_decode('bGVjdCAqIGZyb20gIyMjaXJpIHdoZXJlIG9pZCA9ID8iLCBhcnJheSgkcXVlcnksICRxdWVyeSkpOwoJCQlpZiAoJHJlcy0+bnVtX3Jvd3MoKSA+IDApIHsKCQkJCSRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkcXVlcnkpOwoJCQkJJHJlcyA9IG51bGw7CgkJ'));
	@fwrite($fp, base64_decode('CQlpZiAoJGRpc3RhbmNlID4gMCkgewoJCQkJCSRvdXRbXSA9ICJyZXN1bHQ6IE5vdCBmb3VuZDsgc3VwZXJpb3Igb2JqZWN0IGZvdW5kIjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCQkkb3V0W10gPSAiZGlzdGFuY2U6ICRkaXN0YW5jZSI7IC8vIERPIE5PVCBU'));
	@fwrite($fp, base64_decode('UkFOU0xBVEUKCQkJCX0gZWxzZSB7CgkJCQkJJG91dFtdID0gInJlc3VsdDogRm91bmQiOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJfQoJCQkJJG9ubHlfd2VsbGtub3duX2lkc19mb3VuZCA9IHRydWU7IC8vIEluZm9ybWF0aW9uIHBhcnRpYWxseSBhdmFpbGFi'));
	@fwrite($fp, base64_decode('bGUKCQkJCSRjb250aW51ZSA9IHRydWU7CgkJCQlicmVhazsKCQkJfQoJCQkkcXVlcnlfcHJldiA9ICRxdWVyeTsKCQkJJHF1ZXJ5ID0gJ29pZDonLm9pZF91cChleHBsb2RlKCc6JywkcXVlcnksMilbMV0pOwoJCQlpZiAoJHF1ZXJ5ID09ICRxdWVyeV9wcmV2KSBi'));
	@fwrite($fp, base64_decode('cmVhazsKCQkJJGRpc3RhbmNlKys7CgkJfQoJfQoKCWlmICghJG9iaikgewoJCSRvdXRbXSA9ICJyZXN1bHQ6IE5vdCBmb3VuZCI7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJJGNvbnRpbnVlID0gZmFsc2U7Cgl9CgoJJGZvdW5kID0gJGRpc3RhbmNlID09IDA7Cn0K'));
	@fwrite($fp, base64_decode('CmlmICgkY29udGludWUpIHsKCSRvdXRbXSA9ICIiOwoJJG91dFtdID0gIm9iamVjdDogJHF1ZXJ5IjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCWlmICghYWxsb3dPYmplY3RWaWV3KCRvYmosICRhdXRoVG9rZW5zKSkgewoJCSRvdXRbXSA9ICJzdGF0dXM6IEluZm9y'));
	@fwrite($fp, base64_decode('bWF0aW9uIHVuYXZhaWxhYmxlIjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkkb3V0W10gPSAiYXR0cmlidXRlOiBjb25maWRlbnRpYWwiOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJfSBlbHNlIHsKCQlpZiAoJG9ubHlfd2VsbGtub3duX2lkc19mb3VuZCkgewoJCQkk'));
	@fwrite($fp, base64_decode('b3V0W10gPSAic3RhdHVzOiBJbmZvcm1hdGlvbiBwYXJ0aWFsbHkgYXZhaWxhYmxlIjsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQl9IGVsc2UgewoJCQkkb3V0W10gPSAic3RhdHVzOiBJbmZvcm1hdGlvbiBhdmFpbGFibGUiOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJ'));
	@fwrite($fp, base64_decode('CX0KCgkJJHJvdyA9ICRyZXMgPyAkcmVzLT5mZXRjaF9vYmplY3QoKSA6IG51bGw7CgoJCWlmICghaXNfbnVsbCgkcm93KSkgJG91dFtdID0gJ25hbWU6ICcgLiAkcm93LT50aXRsZTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCgkJaWYgKCFpc19udWxsKCRyb3cpKSB7'));
	@fwrite($fp, base64_decode('CgkJCSRjb250ID0gJHJvdy0+ZGVzY3JpcHRpb247CgkJCSRjb250ID0gcHJlZ19yZXBsYWNlKCdAPGFbXj5dK2hyZWZccyo9XHMqWyJcJ10oW15cJyJdKylbIlwnXVtePl0qPiguKyk8XHMqL1xzKmFccyo+QGlzbVUnLCAnXDIgKFwxKScsICRjb250KTsKCQkJJGNv'));
	@fwrite($fp, base64_decode('bnQgPSBwcmVnX3JlcGxhY2UoJ0A8YnIuKj5AJywgIlxuIiwgJGNvbnQpOwoJCQkkY29udCA9IHByZWdfcmVwbGFjZSgnQFxcbitAJywgIlxuIiwgJGNvbnQpOwoJCQkkb3V0W10gPSAnZGVzY3JpcHRpb246ICcgLiB0cmltKGh0bWxfZW50aXR5X2RlY29kZShzdHJp'));
	@fwrite($fp, base64_decode('cF90YWdzKCRjb250KSkpOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCX0KCgkJaWYgKHN1YnN0cigkcXVlcnksMCw0KSA9PT0gJ29pZDonKSB7CgkJCSRvdXRbXSA9ICdhc24xLW5vdGF0aW9uOiAnIC4gJG9iai0+Z2V0QXNuMU5vdGF0aW9uKGZhbHNlKTsgLy8gRE8g'));
	@fwrite($fp, base64_decode('Tk9UIFRSQU5TTEFURSEKCQkJJG91dFtdID0gJ2lyaS1ub3RhdGlvbjogJyAuICRvYmotPmdldElyaU5vdGF0aW9uKGZhbHNlKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCgkJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjYXNu'));
	@fwrite($fp, base64_decode('MWlkIHdoZXJlIG9pZCA9ID8iLCBhcnJheSgkb2JqLT5ub2RlSWQoKSkpOwoJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJCSRvdXRbXSA9ICdpZGVudGlmaWVyOiAnIC4gJHJvdzItPm5hbWU7IC8vIERPIE5PVCBUUkFOU0xBVEUh'));
	@fwrite($fp, base64_decode('CgkJCX0KCgkJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjYXNuMWlkIHdoZXJlIHN0YW5kYXJkaXplZCA9ID8gYW5kIG9pZCA9ID8iLCBhcnJheSh0cnVlLCAkb2JqLT5ub2RlSWQoKSkpOwoJCQl3aGlsZSAoJHJvdzIgPSAk'));
	@fwrite($fp, base64_decode('cmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJCSRvdXRbXSA9ICdzdGFuZGFyZGl6ZWQtaWQ6ICcgLiAkcm93Mi0+bmFtZTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJfQoKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNp'));
	@fwrite($fp, base64_decode('cmkgd2hlcmUgb2lkID0gPyIsIGFycmF5KCRvYmotPm5vZGVJZCgpKSk7CgkJCXdoaWxlICgkcm93MiA9ICRyZXMyLT5mZXRjaF9vYmplY3QoKSkgewoJCQkJJG91dFtdID0gJ3VuaWNvZGUtbGFiZWw6ICcgLiAkcm93Mi0+bmFtZTsgLy8gRE8gTk9UIFRSQU5TTEFU'));
	@fwrite($fp, base64_decode('RSEKCQkJfQoKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNpcmkgd2hlcmUgbG9uZ2FyYyA9ID8gYW5kIG9pZCA9ID8iLCBhcnJheSh0cnVlLCAkb2JqLT5ub2RlSWQoKSkpOwoJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+'));
	@fwrite($fp, base64_decode('ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJCSRvdXRbXSA9ICdsb25nLWFyYzogJyAuICRyb3cyLT5uYW1lOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQl9CgkJfQoKCQlpZiAoJG9iai0+aXNDb25maWRlbnRpYWwoKSkgeyAvLyB5ZXMsIHdlIHVzZSBpc0NvbmZpZGVudGlh'));
	@fwrite($fp, base64_decode('bCgpIGluc3RlYWQgb2YgYWxsb3dPYmplY3RWaWV3KCkhCgkJCSRvdXRbXSA9ICdhdHRyaWJ1dGU6IGNvbmZpZGVudGlhbCc7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJfQoKCQlpZiAoJG9iai0+aW1wbGVtZW50c0ZlYXR1cmUoJzEuMy42LjEuNC4xLjM3NDc2LjIu'));
	@fwrite($fp, base64_decode('NS4yLjMuNCcpKSB7CgkJCS8vIEFsc28gYXNrICRvYmogZm9yIGV4dHJhIGF0dHJpYnV0ZXM6CgkJCS8vIFRoaXMgd2F5IHdlIGNvdWxkIGFkZCB2YXJpb3VzIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24sIGUuZy4gSVB2NC82IHJhbmdlIGFuYWx5c2lzLCBpbnRlcnBy'));
	@fwrite($fp, base64_decode('ZXRhdGlvbiBvZiBHVUlELCBldGMuIChUT0RPKQoJCQkkb2JqLT53aG9pc09iamVjdEF0dHJpYnV0ZXMoJG9iai0+bm9kZUlkKCksICRvdXQpOwoJCX0KCgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCWlmICgkcGx1'));
	@fwrite($fp, base64_decode('Z2luLT5pbXBsZW1lbnRzRmVhdHVyZSgnMS4zLjYuMS40LjEuMzc0NzYuMi41LjIuMy40JykpIHsKCQkJCSRwbHVnaW4tPndob2lzT2JqZWN0QXR0cmlidXRlcygkb2JqLT5ub2RlSWQoKSwgJG91dCk7CgkJCX0KCQl9CgoJCWlmIChzdWJzdHIoJHF1ZXJ5LDAsNCkg'));
	@fwrite($fp, base64_decode('PT09ICdvaWQ6JykgewoJCQkkc1BhcmVudCA9ICdvaWQ6Jy5vaWRfdXAoZXhwbG9kZSgnOicsJHF1ZXJ5LDIpWzFdKTsKCgkJCSRvYmpUZXN0ID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHNQYXJlbnQpOwoJCQlpZiAoYWxsb3dPYmplY3RWaWV3KCRvYmpUZXN0LCAk'));
	@fwrite($fp, base64_decode('YXV0aFRva2VucykpIHsKCQkJCSRvdXRbXSA9ICdwYXJlbnQ6ICcgLiAkc1BhcmVudCAuIHNob3dfYXNuMV9hcHBlbmRpeCgkc1BhcmVudCk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCX0gZWxzZSB7CgkJCQkkb3V0W10gPSAncGFyZW50OiAnIC4gJHNQYXJlbnQ7'));
	@fwrite($fp, base64_decode('IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCX0KCQl9IGVsc2UgaWYgKCFpc19udWxsKCRyb3cpICYmICFlbXB0eSgkcm93LT5wYXJlbnQpICYmICghaXNfcm9vdCgkcm93LT5wYXJlbnQpKSkgewoJCQkkc1BhcmVudCA9ICRyb3ctPnBhcmVudDsKCQkJJG91dFtdID0g'));
	@fwrite($fp, base64_decode('J3BhcmVudDogJyAuICRyb3ctPnBhcmVudDsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQl9CgoJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5ICIuT0lEcGx1czo6ZGIo'));
	@fwrite($fp, base64_decode('KS0+bmF0T3JkZXIoJ2lkJyksIGFycmF5KCRvYmotPm5vZGVJZCgpKSk7CgkJd2hpbGUgKCRyb3cyID0gJHJlczItPmZldGNoX29iamVjdCgpKSB7CgkJCSRvYmpUZXN0ID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHJvdzItPmlkKTsKCQkJaWYgKGFsbG93T2JqZWN0'));
	@fwrite($fp, base64_decode('Vmlldygkb2JqVGVzdCwgJGF1dGhUb2tlbnMpKSB7CgkJCQkkb3V0W10gPSAnc3Vib3JkaW5hdGU6ICcgLiAkcm93Mi0+aWQgLiBzaG93X2FzbjFfYXBwZW5kaXgoJHJvdzItPmlkKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJfSBlbHNlIHsKCQkJCSRvdXRbXSA9'));
	@fwrite($fp, base64_decode('ICdzdWJvcmRpbmF0ZTogJyAuICRyb3cyLT5pZDsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJfQoJCX0KCgkJaWYgKCFpc19udWxsKCRyb3cpKSB7CgkJCWlmICgkcm93LT5jcmVhdGVkKSAkb3V0W10gPSAnY3JlYXRlZDogJyAuIGRhdGUoJ1ktbS1kIEg6aTpzJywg'));
	@fwrite($fp, base64_decode('c3RydG90aW1lKCRyb3ctPmNyZWF0ZWQpKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJaWYgKCRyb3ctPnVwZGF0ZWQpICRvdXRbXSA9ICd1cGRhdGVkOiAnIC4gZGF0ZSgnWS1tLWQgSDppOnMnLCBzdHJ0b3RpbWUoJHJvdy0+dXBkYXRlZCkpOyAvLyBETyBOT1Qg'));
	@fwrite($fp, base64_decode('VFJBTlNMQVRFIQoJCX0KCgkJJG91dFtdID0gJyc7CgoJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjcmEgd2hlcmUgZW1haWwgPSA/IiwgYXJyYXkoaXNfbnVsbCgkcm93KSA/ICcnIDogJHJvdy0+cmFfZW1haWwpKTsKCQlp'));
	@fwrite($fp, base64_decode('ZiAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfb2JqZWN0KCkpIHsKCQkJJG91dFtdID0gJ3JhOiAnLighZW1wdHkoJHJvdzItPnJhX25hbWUpID8gJHJvdzItPnJhX25hbWUgOiAoIWVtcHR5KCRyb3cyLT5lbWFpbCkgPyAkcm93Mi0+ZW1haWwgOiBfTCgnVW5rbm93bicp'));
	@fwrite($fp, base64_decode('KSk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJCSRvdXRbXSA9ICdyYS1zdGF0dXM6IEluZm9ybWF0aW9uIGF2YWlsYWJsZSc7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgoJCQkkdG1wID0gYXJyYXkoKTsKCQkJaWYgKCFlbXB0eSgkcm93Mi0+b2ZmaWNlKSkgJHRtcFtd'));
	@fwrite($fp, base64_decode('ID0gJHJvdzItPm9mZmljZTsKCQkJaWYgKCFlbXB0eSgkcm93Mi0+b3JnYW5pemF0aW9uKSkgJHRtcFtdID0gJHJvdzItPm9yZ2FuaXphdGlvbjsKCQkJJHRtcCA9IGltcGxvZGUoJywgJywgJHRtcCk7CgoJCQkkb3V0W10gPSAncmEtY29udGFjdC1uYW1lOiAnIC4g'));
	@fwrite($fp, base64_decode('JHJvdzItPnBlcnNvbmFsX25hbWUuKCFlbXB0eSgkdG1wKSA/ICIgKCR0bXApIiA6ICcnKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJaWYgKCFhbGxvd1JBVmlldygkcm93MiwgJGF1dGhUb2tlbnMpKSB7CgkJCQlpZiAoIWVtcHR5KCRyb3cyLT5zdHJlZXQpIHx8'));
	@fwrite($fp, base64_decode('ICFlbXB0eSgkcm93Mi0+emlwX3Rvd24pIHx8ICFlbXB0eSgkcm93Mi0+Y291bnRyeSkpIHsKCQkJCQkkb3V0W10gPSAncmEtYWRkcmVzczogJy5fTCgnKHJlZGFjdGVkKScpOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJfQoJCQkJJG91dFtdID0gJ3JhLXBob25l'));
	@fwrite($fp, base64_decode('OiAnIC4gKCFlbXB0eSgkcm93Mi0+cGhvbmUpID8gX0woJyhyZWRhY3RlZCknKSA6ICcnKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCSRvdXRbXSA9ICdyYS1tb2JpbGU6ICcgLiAoIWVtcHR5KCRyb3cyLT5tb2JpbGUpID8gX0woJyhyZWRhY3RlZCknKSA6ICcn'));
	@fwrite($fp, base64_decode('KTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCSRvdXRbXSA9ICdyYS1mYXg6ICcgLiAoIWVtcHR5KCRyb3cyLT5mYXgpID8gX0woJyhyZWRhY3RlZCknKSA6ICcnKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJfSBlbHNlIHsKCQkJCWlmICghZW1wdHkoJHJvdzIt'));
	@fwrite($fp, base64_decode('PnN0cmVldCkpICAgJG91dFtdID0gJ3JhLWFkZHJlc3M6ICcgLiAkcm93Mi0+c3RyZWV0OyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJaWYgKCFlbXB0eSgkcm93Mi0+emlwX3Rvd24pKSAkb3V0W10gPSAncmEtYWRkcmVzczogJyAuICRyb3cyLT56aXBfdG93bjsg'));
	@fwrite($fp, base64_decode('Ly8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCWlmICghZW1wdHkoJHJvdzItPmNvdW50cnkpKSAgJG91dFtdID0gJ3JhLWFkZHJlc3M6ICcgLiAkcm93Mi0+Y291bnRyeTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCSRvdXRbXSA9ICdyYS1waG9uZTogJyAuICRyb3cy'));
	@fwrite($fp, base64_decode('LT5waG9uZTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJCSRvdXRbXSA9ICdyYS1tb2JpbGU6ICcgLiAkcm93Mi0+bW9iaWxlOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQkJJG91dFtdID0gJ3JhLWZheDogJyAuICRyb3cyLT5mYXg7IC8vIERPIE5PVCBUUkFOU0xB'));
	@fwrite($fp, base64_decode('VEUhCgkJCX0KCQkJJG91dFtdID0gJ3JhLWVtYWlsOiAnIC4gJHJvdy0+cmFfZW1haWw7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgoJCQkkcmEgPSBuZXcgT0lEcGx1c1JBKCRyb3ctPnJhX2VtYWlsKTsKCQkJaWYgKCRyYS0+aW1wbGVtZW50c0ZlYXR1cmUoJzEuMy42'));
	@fwrite($fp, base64_decode('LjEuNC4xLjM3NDc2LjIuNS4yLjMuNCcpKSB7CgkJCQkkcmEtPndob2lzUmFBdHRyaWJ1dGVzKCRyb3ctPnJhX2VtYWlsLCAkb3V0KTsgLyoqIEBwaHBzdGFuLWlnbm9yZS1saW5lICovCgkJCX0KCgkJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCkg'));
	@fwrite($fp, base64_decode('YXMgJHBsdWdpbikgewoJCQkJaWYgKCRwbHVnaW4tPmltcGxlbWVudHNGZWF0dXJlKCcxLjMuNi4xLjQuMS4zNzQ3Ni4yLjUuMi4zLjQnKSkgewoJCQkJCSRwbHVnaW4tPndob2lzUmFBdHRyaWJ1dGVzKCRyb3ctPnJhX2VtYWlsLCAkb3V0KTsKCQkJCX0KCQkJfQoK'));
	@fwrite($fp, base64_decode('CQkJaWYgKCRyb3cyLT5wcml2YWN5KSB7IC8vIHllcywgd2UgdXNlIHJvdzItPnByaXZhY3koKSBpbnN0ZWFkIG9mIGFsbG93UkFWaWV3KCkhCgkJCQkkb3V0W10gPSAncmEtYXR0cmlidXRlOiBjb25maWRlbnRpYWwnOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCQl9'));
	@fwrite($fp, base64_decode('CgoJCQlpZiAoJHJvdzItPnJlZ2lzdGVyZWQpICRvdXRbXSA9ICdyYS1jcmVhdGVkOiAnIC4gZGF0ZSgnWS1tLWQgSDppOnMnLCBzdHJ0b3RpbWUoJHJvdzItPnJlZ2lzdGVyZWQpKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJaWYgKCRyb3cyLT51cGRhdGVkKSAg'));
	@fwrite($fp, base64_decode('ICAkb3V0W10gPSAncmEtdXBkYXRlZDogJyAuIGRhdGUoJ1ktbS1kIEg6aTpzJywgc3RydG90aW1lKCRyb3cyLT51cGRhdGVkKSk7IC8vIERPIE5PVCBUUkFOU0xBVEUhCgkJfSBlbHNlIHsKCQkJJG91dFtdID0gJ3JhOiAnLighaXNfbnVsbCgkcm93KSAmJiAhZW1w'));
	@fwrite($fp, base64_decode('dHkoJHJvdy0+cmFfZW1haWwpID8gJHJvdy0+cmFfZW1haWwgOiBfTCgnVW5rbm93bicpKTsgLy8gRE8gTk9UIFRSQU5TTEFURSEKCQkJaWYgKCFpc19udWxsKCRyb3cpKSB7CgkJCQlmb3JlYWNoIChPSURwbHVzOjpnZXRQYWdlUGx1Z2lucygpIGFzICRwbHVnaW4p'));
	@fwrite($fp, base64_decode('IHsKCQkJCQlpZiAoJHBsdWdpbi0+aW1wbGVtZW50c0ZlYXR1cmUoJzEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjMuNCcpKSB7CgkJCQkJCSRwbHVnaW4tPndob2lzUmFBdHRyaWJ1dGVzKCRyb3ctPnJhX2VtYWlsLCAkb3V0KTsKCQkJCQl9CgkJCQl9CgkJCX0KCQkJ'));
	@fwrite($fp, base64_decode('JG91dFtdID0gInJhLXN0YXR1czogSW5mb3JtYXRpb24gdW5hdmFpbGFibGUiOyAvLyBETyBOT1QgVFJBTlNMQVRFIQoJCX0KCX0KfQoKLy8gU3RlcCAyOiBGb3JtYXQgb3V0cHV0CgppZiAoaXNzZXQoJF9SRVFVRVNUWydmb3JtYXQnXSkpIHsKCSRmb3JtYXQgPSAk'));
	@fwrite($fp, base64_decode('X1JFUVVFU1RbJ2Zvcm1hdCddOwp9IGVsc2UgaWYgKGlzc2V0KCRzZXJ2ZXJDb21tYW5kc1snZm9ybWF0J10pKSB7CgkkZm9ybWF0ID0gJHNlcnZlckNvbW1hbmRzWydmb3JtYXQnXTsKfSBlbHNlIHsKCSRmb3JtYXQgPSAndGV4dCc7IC8vIGRlZmF1bHQKfQoKaWYg'));
	@fwrite($fp, base64_decode('KCgkZm9ybWF0ICE9ICd0eHQnKSAmJiAoJGZvcm1hdCAhPSAndGV4dCcpICYmICgkZm9ybWF0ICE9ICdqc29uJykgJiYgKCRmb3JtYXQgIT0gJ3htbCcpKSB7CgkkZm9ybWF0ID0gJ3RleHQnOyAvLyBkZWZhdWx0Cn0KCmlmICgoJGZvcm1hdCA9PSAndGV4dCcpIHx8'));
	@fwrite($fp, base64_decode('ICgkZm9ybWF0ID09ICd0eHQnKSkgewoJaGVhZGVyKCdDb250ZW50LVR5cGU6dGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOCcpOwoKCSRsb25nZXN0X2tleSA9IDA7Cglmb3JlYWNoICgkb3V0IGFzICRsaW5lKSB7CgkJJGxvbmdlc3Rfa2V5ID0gbWF4KCRsb25nZXN0'));
	@fwrite($fp, base64_decode('X2tleSwgc3RybGVuKHRyaW0oZXhwbG9kZSgnOicsJGxpbmUsMilbMF0pKSk7Cgl9CgoJb2Jfc3RhcnQoKTsKCgkvL2VjaG8gJyUgJyAuIHN0cl9yZXBlYXQoJyonLCBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3dlYndob2lzX291dHB1dF9mb3JtYXRfbWF4'));
	@fwrite($fp, base64_decode('X2xpbmVfbGVuZ3RoJywgODApLTIpLiJcclxuIjsKCglmb3JlYWNoICgkb3V0IGFzICRsaW5lKSB7CgkJaWYgKHRyaW0oJGxpbmUpID09ICcnKSB7CgkJCWVjaG8gIlxyXG4iOwoJCQljb250aW51ZTsKCQl9CgoJCSRhcnkgPSBleHBsb2RlKCc6JywgJGxpbmUsIDIp'));
	@fwrite($fp, base64_decode('OwoKCQkka2V5ID0gdHJpbSgkYXJ5WzBdKTsKCgkJJHZhbHVlID0gaXNzZXQoJGFyeVsxXSkgPyB0cmltKCRhcnlbMV0pIDogJyc7CgoJCS8vIE5vcm1hbGl6ZSBsaW5lLWJyZWFrcyB0byBcclxuLCBvdGhlcndpc2UgbWJfd29yZHdyYXAgd29uJ3Qgd29yayBjb3Jy'));
	@fwrite($fp, base64_decode('ZWN0bHkKCQkkdmFsdWUgPSBzdHJfcmVwbGFjZSgiXHJcbiIsICJcbiIsICR2YWx1ZSk7CgkJJHZhbHVlID0gc3RyX3JlcGxhY2UoIlxyIiwgIlxuIiwgJHZhbHVlKTsKCQkkdmFsdWUgPSBzdHJfcmVwbGFjZSgiXG4iLCAiXHJcbiIsICR2YWx1ZSk7CgoJCSR2YWx1'));
	@fwrite($fp, base64_decode('ZSA9IG1iX3dvcmR3cmFwKCR2YWx1ZSwgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCd3ZWJ3aG9pc19vdXRwdXRfZm9ybWF0X21heF9saW5lX2xlbmd0aCcsIDgwKSAtICRsb25nZXN0X2tleSAtIHN0cmxlbignOicpIC0gT0lEcGx1czo6Y29uZmlnKCktPmdl'));
	@fwrite($fp, base64_decode('dFZhbHVlKCd3ZWJ3aG9pc19vdXRwdXRfZm9ybWF0X3NwYWNlcicsIDIpLCAiXHJcbiIpOwoJCSR2YWx1ZSA9IHN0cl9yZXBsYWNlKCJcclxuIiwgIlxyXG4ka2V5OiIuc3RyX3JlcGVhdCgnICcsICRsb25nZXN0X2tleS1zdHJsZW4oJGtleSkpIC4gc3RyX3JlcGVh'));
	@fwrite($fp, base64_decode('dCgnICcsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2Vid2hvaXNfb3V0cHV0X2Zvcm1hdF9zcGFjZXInLCAyKSksICR2YWx1ZSk7CgoJCWlmICghZW1wdHkoJHZhbHVlKSkgewoJCQllY2hvICRrZXkuJzonIC4gc3RyX3JlcGVhdCgnICcsICRsb25nZXN0'));
	@fwrite($fp, base64_decode('X2tleS1zdHJsZW4oJGtleSkpIC4gc3RyX3JlcGVhdCgnICcsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2Vid2hvaXNfb3V0cHV0X2Zvcm1hdF9zcGFjZXInLCAyKSkgLiAkdmFsdWUgLiAiXHJcbiI7CgkJfQoJfQoKCS8vZWNobyAnJSAnIC4gc3RyX3Jl'));
	@fwrite($fp, base64_decode('cGVhdCgnKicsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2Vid2hvaXNfb3V0cHV0X2Zvcm1hdF9tYXhfbGluZV9sZW5ndGgnLCA4MCktMikuIlxyXG4iOwoKCSRjb250ID0gb2JfZ2V0X2NvbnRlbnRzKCk7CglvYl9lbmRfY2xlYW4oKTsKCgllY2hvICRj'));
	@fwrite($fp, base64_decode('b250OwoKCWlmIChPSURwbHVzOjpnZXRQa2lTdGF0dXMoKSkgewoJCSRzaWduYXR1cmUgPSAnJzsKCQlpZiAoQG9wZW5zc2xfc2lnbigkY29udCwgJHNpZ25hdHVyZSwgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdvaWRwbHVzX3ByaXZhdGVfa2V5JykpKSB7'));
	@fwrite($fp, base64_decode('CgkJCSRzaWduYXR1cmUgPSBiYXNlNjRfZW5jb2RlKCRzaWduYXR1cmUpOwoJCQkkc2lnbmF0dXJlID0gbWJfd29yZHdyYXAoJHNpZ25hdHVyZSwgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCd3ZWJ3aG9pc19vdXRwdXRfZm9ybWF0X21heF9saW5lX2xlbmd0'));
	@fwrite($fp, base64_decode('aCcsIDgwKSAtIHN0cmxlbignJSAnKSwgIlxyXG4iLCB0cnVlKTsKCQkJJHNpZ25hdHVyZSA9ICIlIC0tLS0tQkVHSU4gUlNBIFNJR05BVFVSRS0tLS0tXHJcbiIuCgkJCSAgICAgICAgICAgICBwcmVnX3JlcGxhY2UoJy9eL20nLCAnJSAnLCAkc2lnbmF0dXJlKS4i'));
	@fwrite($fp, base64_decode('XHJcbiIuCgkJCSAgICAgICAgICAgICAiJSAtLS0tLUVORCBSU0EgU0lHTkFUVVJFLS0tLS1cclxuIjsKCQkJZWNobyAkc2lnbmF0dXJlOwoJCX0KCX0KfQoKaWYgKCRmb3JtYXQgPT0gJ2pzb24nKSB7CgkkYXJ5ID0gYXJyYXkoKTsKCgkkY3VycmVudF9zZWN0aW9u'));
	@fwrite($fp, base64_decode('ID0gYXJyYXkoKTsKCSRhcnlbXSA9ICYkY3VycmVudF9zZWN0aW9uOwoKCWZvcmVhY2ggKCRvdXQgYXMgJGxpbmUpIHsKCQlpZiAoJGxpbmUgPT0gJycpIHsKCQkJdW5zZXQoJGN1cnJlbnRfc2VjdGlvbik7CgkJCSRjdXJyZW50X3NlY3Rpb24gPSBhcnJheSgpOwoJ'));
	@fwrite($fp, base64_decode('CQkkYXJ5W10gPSAmJGN1cnJlbnRfc2VjdGlvbjsKCQl9IGVsc2UgewoJCQlsaXN0KCRrZXksJHZhbCkgPSBleHBsb2RlKCc6JywgJGxpbmUsIDIpOwoJCQkkdmFsID0gdHJpbSgkdmFsKTsKCQkJaWYgKCFlbXB0eSgkdmFsKSkgewoJCQkJaWYgKCFpc3NldCgkY3Vy'));
	@fwrite($fp, base64_decode('cmVudF9zZWN0aW9uWyRrZXldKSkgewoJCQkJCSRjdXJyZW50X3NlY3Rpb25bJGtleV0gPSAkdmFsOwoJCQkJfSBlbHNlaWYgKGlzX2FycmF5KCRjdXJyZW50X3NlY3Rpb25bJGtleV0pKSB7CgkJCQkJJGN1cnJlbnRfc2VjdGlvblska2V5XVtdID0gJHZhbDsKCQkJ'));
	@fwrite($fp, base64_decode('CX0gZWxzZSB7CgkJCQkJJGN1cnJlbnRfc2VjdGlvblska2V5XSA9IGFycmF5KCRjdXJyZW50X3NlY3Rpb25bJGtleV0sICR2YWwpOwoJCQkJfQoJCQl9CgkJfQoJfQoJJGFyeSA9IGFycmF5KAoJCS8vIGh0dHBzOi8vY29kZS52aXN1YWxzdHVkaW8uY29tL2RvY3Mv'));
	@fwrite($fp, base64_decode('bGFuZ3VhZ2VzL2pzb24jX21hcHBpbmctaW4tdGhlLWpzb24KCQkvLyBOb3RlIHRoYXQgdGhpcyBzeW50YXggaXMgVlMgQ29kZS1zcGVjaWZpYyBhbmQgbm90IHBhcnQgb2YgdGhlIEpTT04gU2NoZW1hIHNwZWNpZmljYXRpb24uCgkJLy8nJHNjaGVtYScgPT4gJ2h0'));
	@fwrite($fp, base64_decode('dHBzOi8vb2lkcGx1cy52aWF0aGlua3NvZnQuY29tL29pZHBsdXMvcGx1Z2lucy9wdWJsaWNQYWdlcy8xMDBfd2hvaXMvd2hvaXMvanNvbl9zY2hlbWEuanNvbicsCgkJJyRzY2hlbWEnID0+IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXyx0cnVlKS4nanNvbl9zY2hl'));
	@fwrite($fp, base64_decode('bWEuanNvbicsCgoJCS8vIHdlIG5lZWQgdGhpcyBOQU1FRCByb290LCBvdGhlcndpc2UgUEhQIHdpbGwgbmFtZSB0aGUgc2VjdGlvbnMgIjAiLCAiMSIsICIyIiBpZiB0aGUgYXJyYXkgaXMgbm90IHNlcXVlbmNpYWwgKGUuZy4gYmVjYXVzZSAic2lnbmF0dXJlIiBp'));
	@fwrite($fp, base64_decode('cyBhZGRlZCkKCQknd2hvaXMnID0+ICRhcnkKCSk7CgoJaWYgKE9JRHBsdXM6OmdldFBraVN0YXR1cygpKSB7CgkJJGNvbnQgPSBqc29uX2VuY29kZSgkYXJ5KTsKCQkkc2lnbmF0dXJlID0gJyc7CgkJaWYgKEBvcGVuc3NsX3NpZ24oJGNvbnQsICRzaWduYXR1cmUs'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnb2lkcGx1c19wcml2YXRlX2tleScpKSkgewoJCQkkc2lnbmF0dXJlID0gYmFzZTY0X2VuY29kZSgkc2lnbmF0dXJlKTsKCQkJJGFyeVsnc2lnbmF0dXJlJ10gPSBhcnJheSgnY29udGVudCcgPT4gJGNvbnQsICdz'));
	@fwrite($fp, base64_decode('aWduYXR1cmUnID0+ICRzaWduYXR1cmUpOwoJCX0KCX0KCgkvLyBHb29kIEpTT04gc2NoZW1hIHZhbGlkYXRvciBoZXJlOiBodHRwczovL3d3dy5qc29uc2NoZW1hdmFsaWRhdG9yLm5ldAoJaGVhZGVyKCdDb250ZW50LVR5cGU6YXBwbGljYXRpb24vanNvbjsgY2hh'));
	@fwrite($fp, base64_decode('cnNldD1VVEYtOCcpOwoJZWNobyBqc29uX2VuY29kZSgkYXJ5KTsKfQoKaWYgKCRmb3JtYXQgPT0gJ3htbCcpIHsKCSR4bWwgPSAnPHdob2lzPjxzZWN0aW9uPic7Cglmb3JlYWNoICgkb3V0IGFzICRsaW5lKSB7CgkJaWYgKCRsaW5lID09ICcnKSB7CgkJCSR4bWwg'));
	@fwrite($fp, base64_decode('Lj0gJzwvc2VjdGlvbj48c2VjdGlvbj4nOwoJCX0gZWxzZSB7CgkJCWxpc3QoJGtleSwkdmFsKSA9IGV4cGxvZGUoJzonLCAkbGluZSwgMik7CgkJCSR2YWwgPSB0cmltKCR2YWwpOwoJCQlpZiAoIWVtcHR5KCR2YWwpKSB7CgkJCQkkeG1sIC49ICI8JGtleT4iLmh0'));
	@fwrite($fp, base64_decode('bWxzcGVjaWFsY2hhcnMoJHZhbCkuIjwvJGtleT4iOwoJCQl9CgkJfQoJfQoJJHhtbCAuPSAnPC9zZWN0aW9uPjwvd2hvaXM+JzsKCgkkeG1sID0gcHJlZ19yZXBsYWNlKCdAPHNlY3Rpb24+PCguKyk+KC4rKTwvc2VjdGlvbj5AaXNtVScsICc8XFwxU2VjdGlvbj48'));
	@fwrite($fp, base64_decode('XFwxPlxcMjwvXFwxU2VjdGlvbj4nLCAkeG1sKTsKCglpZiAoT0lEcGx1czo6Z2V0UGtpU3RhdHVzKCkpIHsKCQkkY29udCA9ICR4bWw7CgkJJHNpZ25hdHVyZSA9ICcnOwoJCWlmIChAb3BlbnNzbF9zaWduKCRjb250LCAkc2lnbmF0dXJlLCBPSURwbHVzOjpjb25m'));
	@fwrite($fp, base64_decode('aWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknKSkpIHsKCQkJJHNpZ25hdHVyZSA9IGJhc2U2NF9lbmNvZGUoJHNpZ25hdHVyZSk7CgkJCSR4bWwgLj0gIjxzaWduYXR1cmU+PGNvbnRlbnQ+Ii5odG1sc3BlY2lhbGNoYXJzKCRjb250KS4iPC9jb250'));
	@fwrite($fp, base64_decode('ZW50PjxzaWduYXR1cmU+Ii5odG1sc3BlY2lhbGNoYXJzKCRzaWduYXR1cmUpLiI8L3NpZ25hdHVyZT48L3NpZ25hdHVyZT4iOwoJCX0KCX0KCgkvLyBHb29kIFhTRCB2YWxpZGF0b3IgaGVyZTogaHR0cHM6Ly93d3cubGlxdWlkLXRlY2hub2xvZ2llcy5jb20vb25s'));
	@fwrite($fp, base64_decode('aW5lLXhzZC12YWxpZGF0b3IKCWhlYWRlcignQ29udGVudC1UeXBlOmFwcGxpY2F0aW9uL3htbDsgY2hhcnNldD1VVEYtOCcpOwoJZWNobyAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyIgPz4nOwoJZWNobyAnPHJv'));
	@fwrite($fp, base64_decode('b3QgeG1sbnM9InVybjpvaWQ6MS4zLjYuMS40LjEuMzc0NzYuMi41LjIuNS4xLjEiJzsKCWVjaG8gJyAgICAgIHhtbG5zOnhzaT0iaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEtaW5zdGFuY2UiJzsKCS8vZWNobyAnICAgICAgeHNpOnNjaGVtYUxvY2F0'));
	@fwrite($fp, base64_decode('aW9uPSJ1cm46b2lkOjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjUuMS4xIGh0dHBzOi8vb2lkcGx1cy52aWF0aGlua3NvZnQuY29tL29pZHBsdXMvcGx1Z2lucy9wdWJsaWNQYWdlcy8xMDBfd2hvaXMvd2hvaXMveG1sX3NjaGVtYS54c2QiPic7CgllY2hvICcgICAg'));
	@fwrite($fp, base64_decode('ICB4c2k6c2NoZW1hTG9jYXRpb249InVybjpvaWQ6MS4zLjYuMS40LjEuMzc0NzYuMi41LjIuNS4xLjEgJy5PSURwbHVzOjp3ZWJwYXRoKF9fRElSX18sdHJ1ZSkuJ3htbF9zY2hlbWEueHNkIj4nOwoJZWNobyAkeG1sOwoJZWNobyAnPC9yb290Pic7Cn0KCiMgLS0t'));
	@fwrite($fp, base64_decode('CgpmdW5jdGlvbiBzaG93X2FzbjFfYXBwZW5kaXgoJGlkKSB7CglpZiAoc3Vic3RyKCRpZCwwLDQpID09PSAnb2lkOicpIHsKCQkkYXBwZW5kaXhfYXNuMWlkcyA9IGFycmF5KCk7CgkJJHJlczMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAj'));
	@fwrite($fp, base64_decode('IyNhc24xaWQgd2hlcmUgb2lkID0gPyIsIGFycmF5KCRpZCkpOwoJCXdoaWxlICgkcm93MyA9ICRyZXMzLT5mZXRjaF9vYmplY3QoKSkgewoJCQkkYXBwZW5kaXhfYXNuMWlkc1tdID0gJHJvdzMtPm5hbWU7CgkJfQoKCQkkYXBwZW5kaXggPSBpbXBsb2RlKCcsICcs'));
	@fwrite($fp, base64_decode('ICRhcHBlbmRpeF9hc24xaWRzKTsKCQlpZiAoIWVtcHR5KCRhcHBlbmRpeCkpICRhcHBlbmRpeCA9ICIgKCRhcHBlbmRpeCkiOwoJfSBlbHNlIHsKCQkkYXBwZW5kaXggPSAnJzsKCX0KCXJldHVybiAkYXBwZW5kaXg7Cn0KCmZ1bmN0aW9uIGlzX3Jvb3QoJGlkKSB7'));
	@fwrite($fp, base64_decode('CglyZXR1cm4gZW1wdHkoZXhwbG9kZSgnOicsJGlkLDIpWzFdKTsKfQoKZnVuY3Rpb24gYXV0aFRva2VuQWNjZXB0ZWQoJGNvbnRlbnQsICRhdXRoVG9rZW5zKSB7Cglmb3JlYWNoICgkYXV0aFRva2VucyBhcyAkdG9rZW4pIHsKCQlpZiAoT0lEcGx1c1BhZ2VQdWJs'));
	@fwrite($fp, base64_decode('aWNXaG9pczo6Z2VuV2hvaXNBdXRoVG9rZW4oJGNvbnRlbnQpID09ICR0b2tlbikgcmV0dXJuIHRydWU7Cgl9CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGFsbG93T2JqZWN0Vmlldygkb2JqLCAkYXV0aFRva2VucykgewoJLy8gTWFzdGVyIGF1dGggdG9rZW4K'));
	@fwrite($fp, base64_decode('CSRhdXRoVG9rZW4gPSB0cmltKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnd2hvaXNfYXV0aF90b2tlbicpKTsKCWlmIChlbXB0eSgkYXV0aFRva2VuKSkgJGF1dGhUb2tlbiA9IGZhbHNlOwoJaWYgKCRhdXRoVG9rZW4gJiYgaW5fYXJyYXkoJGF1dGhUb2tl'));
	@fwrite($fp, base64_decode('biwgJGF1dGhUb2tlbnMpKSByZXR1cm4gdHJ1ZTsKCgkvLyBQZXItT0lEIGF1dGggdG9rZW5zCgkkY3VyaWQgPSAkb2JqLT5ub2RlSWQoKTsKCXdoaWxlICgoJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcGFyZW50LCBjb25maWRlbnRpYWwgZnJv'));
	@fwrite($fp, base64_decode('bSAjIyNvYmplY3RzIHdoZXJlIGlkID0gPyIsIGFycmF5KCRjdXJpZCkpKS0+bnVtX3Jvd3MoKSA+IDApIHsKCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkvLyBFeGFtcGxlOiBZb3UgaGF2ZSBhbiBhdXRoIFRva2VuIGZvciAyLjk5OS4xLjIuMwoJCS8v'));
	@fwrite($fp, base64_decode('IFRoaXMgYWxsb3dzIHlvdSB0byB2aWV3IDIuOTk5LjEuMi4zIGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuLAoJCS8vIGFzIGxvbmcgYXMgdGhleSBhcmUgbm90IGNvbmZpZGVudGlhbCAodGhlbiB5b3UgbmVlZCB0aGVpciBhdXRoIHRva2VuKS4KCQkvLyAyLCAyLjk5'));
	@fwrite($fp, base64_decode('OSwgMi45OTkuMSBhbmQgMi45OTkuMS4yIGFyZSB2aXNpYmxlLAoJCS8vIChiZWNhdXNlIHRoZWlyIGV4aXN0ZW5jZSBpcyBub3cgb2J2aW91cykuCgkJaWYgKCRyb3dbJ2NvbmZpZGVudGlhbCddICYmICFhdXRoVG9rZW5BY2NlcHRlZCgkY3VyaWQsICRhdXRoVG9r'));
	@fwrite($fp, base64_decode('ZW5zKSkgcmV0dXJuIGZhbHNlOwoJCSRjdXJpZCA9ICRyb3dbJ3BhcmVudCddOwoJfQoKCS8vIEFsbG93CglyZXR1cm4gdHJ1ZTsKfQoKZnVuY3Rpb24gYWxsb3dSQVZpZXcoJHJvdywgJGF1dGhUb2tlbnMpIHsKCS8vIE1hc3RlciBhdXRoIHRva2VuCgkkYXV0aFRv'));
	@fwrite($fp, base64_decode('a2VuID0gdHJpbShPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3dob2lzX2F1dGhfdG9rZW4nKSk7CglpZiAoZW1wdHkoJGF1dGhUb2tlbikpICRhdXRoVG9rZW4gPSBmYWxzZTsKCWlmICgkYXV0aFRva2VuICYmIGluX2FycmF5KCRhdXRoVG9rZW4sICRhdXRo'));
	@fwrite($fp, base64_decode('VG9rZW5zKSkgcmV0dXJuIHRydWU7CgoJLy8gUGVyLVJBIGF1dGggdG9rZW5zCglpZiAoJHJvdy0+cHJpdmFjeSAmJiAhYXV0aFRva2VuQWNjZXB0ZWQoJ3JhOicuJHJvdy0+cmFfbmFtZSwgJGF1dGhUb2tlbnMpKSByZXR1cm4gZmFsc2U7CgoJLy8gQWxsb3cKCXJl'));
	@fwrite($fp, base64_decode('dHVybiB0cnVlOwp9Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	writefile_1();
	if (!is_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	} else if (sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') != '384544c5c66c2e86040325e298b7107796921707') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') !== '384544c5c66c2e86040325e298b7107796921707') {
		if (@sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') !== 'da21d58db5b0b1df6cb14576e2c555ea053f97d9') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
			$tmp = pathinfo('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php') !== '384544c5c66c2e86040325e298b7107796921707') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/publicPages/100_whois/whois/webwhois.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 731\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 731') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

