<?php /* <ViaThinkSoftSignature>
ditoS7cvyTsN2Njt7YT/ZC6K+ZedMxqZhrJyOVd9iuTovIyAEkAuIZo0ymwFvUUfq
4BNKyNzM/Yawzq7Kr3CsVUzhJ1AW0aXqB2f+7lRarXeW3ZHA6Qn2W9ORcHXen2X73
CS3m//LMLGk4fx/n8pInuiAI76gUigTADSn0BV8oVMam5wDTaYzIQYW56wwOmZEGA
WoCVgxgOypcComYFjyth9KbSFFR0w6Id5l1X2DZdYnNdAoWTZ40sJh9u8aCcqK2Fa
ck0Jqrc0OerpDs74RF9e26T+//CPdB4w4duoka/hI5Vnt5+BJwWn/eTruYw6eMD0v
c8w8NzHqvzG5vbS7wdG71Nty9nN9s+LP+7mZ8SuGNFi+Co0j8hgRH5NUU08BKyf9N
5IFkNn7FuKRw2v18THW6Dd/a8o4dYgHFjZQMckg3ecE3d759l4uYMgtXG0vMhadEZ
nfQzhpzCqUbI/M9WqLDBvBwcINk0Vk/YGi5IRJkW5vbYqRwfeC2yQ26hsLKUQKmGF
bhC84iBCom1XHgG7/f+2IEgFJMY9TiBj7bp4wAgF9BSbnxGvdccLXVoBRJviMU2Tc
j+2e10icnwFmwHXkoWVbC2g/iZ3tMTCmT+QyXMNZjCpdwy9Nkwa/Eaw6U+yVjYNHr
bwXsyPZvDBKIpzrf1slSM+eByclEMowmVSGNWMU8vzkrKaNE3MWlAG4XInJJej3cU
E5VXWufoACmNA21mTgsUiM2v9v0ToelttsFxk9KeLBr4nMNB+6fTweFLyT7Qu3G5x
QdBINMq84kji8A8oxy8KffVOY62GR8b/Qsz6aLV24tWACgfaOv7ggOjRx7pUTmA65
D84iPURBRuwQnPZXMmVPblqmbTTmvvF+XJpv2fiMH0ozb8tN97h8Yn7uo1/lQATIJ
xp6K6oim2WocwHSGLfSCTWq4opp/Gnc+GxiBa+QjB76HhdHxemoishO/3yA27Gjng
jcJh60ybE0GHZWzfRK09zr8RNqb+f5HHtMJKNipwLjjQYknz8ok+oCGmCMAMNLlCU
PpqNqKJtbFsyB/XQMsz0K3kz3hPTgCTNkc/ggS7Nlijhu1KoRRoVTBjn4rQ0Q49PY
70BDkixx6ApJb8mz6rT+YSGBDQfsFnmvzu51EsCoifssla/wBZ0bX/t2uk30TT5Yi
wrf/HTTEFYPrm2JPKS88blY1MpYsSR1E8W/w5/sPuAWSIJq5ea/8syNBuBGXMZIoy
L+hN0yRgYLXLE5HYGgsnIv/WeVHYJh7h0+JONLTj0d8N8sIkuoOOIAjEL1HlkOTfU
Jfd9j0ikNf0X71HjgwDHU33l5xhLy/NQ/N1/YL48Rwq2JmVsYLVeMtI5BmQxxrOvL
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 732') {
	err('This update can only be applied to OIDplus version 2.0.0.732!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js', 'w');
	@fwrite($fp, base64_decode('DQovKioNCiAqIFdFSUQ8PT5PSUQgQ29udmVydGVyDQogKiAoYykgV2ViZmFuLmRlLCBWaWFUaGlua1NvZnQNCiAqIFJldmlzaW9uIDIwMjItMDItMjINCiAqKi8NCg0KLy8gV2hhdCBpcyBhIFdFSUQ/DQovLyAgICAgQSBXRUlEIChXRWhvd3NraSBJRGVudGlmaWVy'));
	@fwrite($fp, base64_decode('KSBpcyBhbiBhbHRlcm5hdGl2ZSByZXByZXNlbnRhdGlvbiBvZiBhbg0KLy8gICAgIE9JRCAoT2JqZWN0IElEZW50aWZpZXIpIGRlZmluZWQgYnkgVGlsbCBXZWhvd3NraS4NCi8vICAgICBJbiBPSURzLCBhcmNzIGFyZSBpbiBkZWNpbWFsIGJhc2UgMTAuIEluIFdF'));
	@fwrite($fp, base64_decode('SURzLCB0aGUgYXJjcyBhcmUgaW4gYmFzZSAzNi4NCi8vICAgICBBbHNvLCBlYWNoIFdFSUQgaGFzIGEgY2hlY2sgZGlnaXQgYXQgdGhlIGVuZCAoY2FsbGVkIFdlTG9obiBDaGVjayBEaWdpdCkuDQovLw0KLy8gQ2hhbmdlcyBpbiB0aGUgRGVjZW1iZXIgMjAyMSBk'));
	@fwrite($fp, base64_decode('ZWZpbml0aW9uIGJ5IERhbmllbCBNYXJzY2hhbGw6DQovLyAgICAgLSBUaGVyZSBhcmUgc2V2ZXJhbCBjbGFzc2VzIG9mIFdFSURzIHdoaWNoIGhhdmUgZGlmZmVyZW50IE9JRCBiYXNlczoNCi8vICAgICAgICAgICAiQ2xhc3MgQyIgV0VJRDogIHdlaWQ6RVhBTVBM'));
	@fwrite($fp, base64_decode('RS0zICAgICAgKGJhc2UgLjEuMy42LjEuNC4xLjM3NTUzLjguKQ0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2lkOjEuMy42LjEuNC4xLjM3NTUzLjguMzI0ODgxOTIyNzQNCi8vICAgICAgICAgICAiQ2xhc3MgQiIgV0VJRDogIHdlaWQ6cGVuOlNYMC03'));
	@fwrite($fp, base64_decode('UFItNiAgKGJhc2UgLjEuMy42LjEuNC4xLikNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9pZDoxLjMuNi4xLjQuMS4zNzQ3Ni45OTk5DQovLyAgICAgICAgICAgIkNsYXNzIEEiIFdFSUQ6ICB3ZWlkOnJvb3Q6Mi1SUi0yICAgIChiYXNlIC4pDQovLyAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICAgICAgICBvaWQ6Mi45OTkNCi8vICAgICAtIFRoZSBuYW1lc3BhY2UgKHdlaWQ6LCB3ZWlkOnBlbjosIHdlaWQ6cm9vdDopIGlzIG5vdyBjYXNlIGluc2Vuc2l0aXZlLg0KLy8gICAgIC0gUGFkZGluZyB3aXRoICcwJyBjaGFyYWN0'));
	@fwrite($fp, base64_decode('ZXJzIGlzIHZhbGlkIChlLmcuIHdlaWQ6MDAwRVhBTVBMRS0zKQ0KLy8gICAgICAgVGhlIHBhZGRpbmdzIGRvIG5vdCBjb3VudCBpbnRvIHRoZSBXZUx1aG4gY2hlY2stZGlnaXQuDQoNCi8vIFJlcXVpcmVzICJtaWtlbWNsL2JpZ251bWJlci5qcyIgbGlicmFyeQ0K'));
	@fwrite($fp, base64_decode('DQp2YXIgV2VpZE9pZENvbnZlcnRlciA9IHsNCg0KCXdlTHVobkNoZWNrRGlnaXQ6IGZ1bmN0aW9uKHN0cikgew0KCQkvLyBQYWRkaW5nIHplcm9zIGRvbid0IGNvdW50IHRvIHRoZSBjaGVjayBkaWdpdCAoRGVjZW1iZXIgMjAyMSkNCgkJdmFyIGFyeSA9IHN0ci5z'));
	@fwrite($fp, base64_decode('cGxpdCgnLScpOw0KCQlhcnkuZm9yRWFjaCgobyxpLGEpID0+IHsNCgkJCWFbaV0gPSBhW2ldLnJlcGxhY2UoL14wKy8sICcnKTsNCgkJfSApOw0KCQlzdHIgPSBhcnkuam9pbignLScpOw0KDQoJCS8vIHJlbW92ZSBzZXBhcmF0b3JzIGZyb20gdGhlIFdFSUQgc3Ry'));
	@fwrite($fp, base64_decode('aW5nDQoJCXZhciB3cmtzdHIgPSBzdHIucmVwbGFjZUFsbCgnLScsICcnKTsNCg0KCQkvLyBSZXBsYWNlICdhJyB3aXRoICcxMCcsICdiJyB3aXRoICcxJywgZXRjLg0KCQlmb3IgKHZhciBpPTA7IGk8MjY7IGkrKykgew0KCQkJd3Jrc3RyID0gd3Jrc3RyLnRvTG93'));
	@fwrite($fp, base64_decode('ZXJDYXNlKCkucmVwbGFjZUFsbChTdHJpbmcuZnJvbUNoYXJDb2RlKCdhJy5jaGFyQ29kZUF0KDApK2kpLnRvTG93ZXJDYXNlKCksICgxMCtpKSk7DQoJCX0NCg0KCQkvLyBBdCB0aGUgZW5kLCB3cmtzdHIgc2hvdWxkIG9ubHkgY29udGFpbiBkaWdpdHMhIFZlcmlm'));
	@fwrite($fp, base64_decode('eSBpdCENCgkJaWYgKCF3cmtzdHIubWF0Y2goL15cZCskLykpIHJldHVybiBmYWxzZTsNCg0KCQkvLyBOb3cgZG8gdGhlIHN0YW5kYXJkIEx1aG4gYWxnb3JpdGhtDQoJCXZhciBuYmRpZ2l0cyA9IHdya3N0ci5sZW5ndGg7DQoJCXZhciBwYXJpdHkgPSBuYmRpZ2l0'));
	@fwrite($fp, base64_decode('cyAmIDE7IC8vIG1vZCAyDQoJCXZhciBzdW0gPSAwOw0KCQlmb3IgKHZhciBuPW5iZGlnaXRzLTE7IG4+PTA7IG4tLSkgew0KCQkJdmFyIGRpZ2l0ID0gcGFyc2VJbnQod3Jrc3RyLnN1YnN0cihuLDEpKTsNCgkJCWlmICgobiAmIDEpICE9IHBhcml0eSkgZGlnaXQg'));
	@fwrite($fp, base64_decode('Kj0gMjsNCgkJCWlmIChkaWdpdCA+IDkpIGRpZ2l0IC09IDk7DQoJCQlzdW0gKz0gZGlnaXQ7DQoJCX0NCgkJcmV0dXJuIChzdW0lMTApID09IDAgPyAwIDogMTAtKHN1bSUxMCk7DQoJfSwNCg0KCS8vIFRyYW5zbGF0ZXMgYSBXRUlEIHRvIGFuIE9JRA0KCS8vICJ3'));
	@fwrite($fp, base64_decode('ZWlkOkVYQU1QTEUtMyIgYmVjb21lcyAiMS4zLjYuMS40LjEuMzc1NTMuOC4zMjQ4ODE5MjI3NCINCgkvLyBJZiBpdCBmYWlsZWQgKGUuZy4gd3JvbmcgbmFtZXNwYWNlLCB3cm9uZyBjaGVja3N1bSwgZXRjLikgdGhlbiBmYWxzZSBpcyByZXR1cm5lZC4NCgkvLyBJ'));
	@fwrite($fp, base64_decode('ZiB0aGUgd2VpZCBlbmRzIHdpdGggJz8nLCB0aGUgY2hlY2tzdW0gd2lsbCBiZSBhZGRlZA0KCS8vIFJldHVybiB2YWx1ZSBpcyBhbiBhcnJheSB3aXRoIHRoZSBlbGVtZW50cyAib2lkIiBhbmQgIndlaWQiLg0KCS8vIEV4YW1wbGU6DQoJLy8gICAgIHdlaWQyb2lk'));
	@fwrite($fp, base64_decode('KCJ3ZWlkOkVYQU1QTEUtPyIpLndlaWQgPT0gIndlaWQ6RVhBTVBMRS0zIg0KCS8vICAgICB3ZWlkMm9pZCgid2VpZDpFWEFNUExFLT8iKS5vaWQgID09ICIxLjMuNi4xLjQuMS4zNzU1My44LjMyNDg4MTkyMjc0Ig0KCXdlaWQyb2lkOiBmdW5jdGlvbih3ZWlkKSB7'));
	@fwrite($fp, base64_decode('DQoJCXZhciBwID0gd2VpZC5sYXN0SW5kZXhPZignOicpOw0KCQl2YXIgbmFtZXNwYWNlID0gd2VpZC5zdWJzdHIoMCwgcCsxKTsNCgkJdmFyIHJlc3QgPSB3ZWlkLnN1YnN0cihwKzEpOw0KDQoJCW5hbWVzcGFjZSA9IG5hbWVzcGFjZS50b0xvd2VyQ2FzZSgpOyAv'));
	@fwrite($fp, base64_decode('LyBuYW1lc3BhY2UgaXMgY2FzZSBpbnNlbnNpdGl2ZQ0KCQlpZiAobmFtZXNwYWNlID09ICd3ZWlkOicpIHsNCgkJCS8vIENsYXNzIEMNCgkJCXZhciBiYXNlID0gJzEtMy02LTEtNC0xLVNaNS04JzsNCgkJfSBlbHNlIGlmIChuYW1lc3BhY2UgPT0gJ3dlaWQ6cGVu'));
	@fwrite($fp, base64_decode('OicpIHsNCgkJCS8vIENsYXNzIEINCgkJCXZhciBiYXNlID0gJzEtMy02LTEtNC0xJzsNCgkJfSBlbHNlIGlmIChuYW1lc3BhY2UgPT0gJ3dlaWQ6cm9vdDonKSB7DQoJCQkvLyBDbGFzcyBBDQoJCQl2YXIgYmFzZSA9ICcnOw0KCQl9IGVsc2Ugew0KCQkJLy8gV3Jv'));
	@fwrite($fp, base64_decode('bmcgbmFtZXNwYWNlDQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0NCg0KCQl3ZWlkID0gcmVzdDsNCg0KCQl2YXIgZWxlbWVudHMgPSAoKGJhc2UgIT0gJycpID8gYmFzZS5zcGxpdCgnLScpIDogW10pLmNvbmNhdCh3ZWlkLnNwbGl0KCctJykpOw0KCQl2YXIgYWN0dWFs'));
	@fwrite($fp, base64_decode('X2NoZWNrc3VtID0gZWxlbWVudHMucG9wKCk7DQoJCXZhciBleHBlY3RlZF9jaGVja3N1bSA9IHdlTHVobkNoZWNrRGlnaXQoZWxlbWVudHMuam9pbignLScpKTsNCgkJaWYgKGFjdHVhbF9jaGVja3N1bSAhPSAnPycpIHsNCgkJCWlmIChhY3R1YWxfY2hlY2tzdW0g'));
	@fwrite($fp, base64_decode('IT0gZXhwZWN0ZWRfY2hlY2tzdW0pIHJldHVybiBmYWxzZTsgLy8gd3JvbmcgY2hlY2tzdW0NCgkJfSBlbHNlIHsNCgkJCS8vIElmIGNoZWNrc3VtIGlzICc/JywgaXQgd2lsbCBiZSByZXBsYWNlZCBieSB0aGUgYWN0dWFsIGNoZWNrc3VtLA0KCQkJLy8gZS5nLiB3'));
	@fwrite($fp, base64_decode('ZWlkOkVYQU1QTEUtPyBiZWNvbWVzIHdlaWQ6RVhBTVBMRS0zDQoJCQl3ZWlkID0gd2VpZC5yZXBsYWNlKCc/JywgZXhwZWN0ZWRfY2hlY2tzdW0pOw0KCQl9DQoJCWVsZW1lbnRzLmZvckVhY2goKG8saSxhKSA9PiB7DQoJCQlhW2ldID0gQmlnTnVtYmVyKGFbaV0s'));
	@fwrite($fp, base64_decode('MzYpLnRvU3RyaW5nKDEwKS50b1VwcGVyQ2FzZSgpOw0KCQl9KTsNCgkJdmFyIG9pZHN0ciA9IGVsZW1lbnRzLmpvaW4oJy4nKTsNCg0KCQl3ZWlkID0gbmFtZXNwYWNlLnRvTG93ZXJDYXNlKCkgKyB3ZWlkLnRvVXBwZXJDYXNlKCk7IC8vIGFkZCBuYW1lc3BhY2Ug'));
	@fwrite($fp, base64_decode('YWdhaW4NCg0KCQlyZXR1cm4geyAid2VpZCI6IHdlaWQsICJvaWQiIDogb2lkc3RyIH07DQoJfSwNCg0KCS8vIENvbnZlcnRzIGFuIE9JRCB0byBXRUlEDQoJLy8gIjEuMy42LjEuNC4xLjM3NTUzLjguMzI0ODgxOTIyNzQiIGJlY29tZXMgIndlaWQ6RVhBTVBMRS0z'));
	@fwrite($fp, base64_decode('Ig0KCW9pZDJ3ZWlkOiBmdW5jdGlvbihvaWQpIHsNCgkJaWYgKG9pZC5zdWJzdHIoMCwxKSA9PSAnLicpIG9pZCA9IG9pZC5zdWJzdHIoMSk7IC8vIHJlbW92ZSBsZWFkaW5nIGRvdA0KDQoJCWlmIChvaWQgIT0gJycpIHsNCgkJCXZhciBlbGVtZW50cyA9IG9pZC5z'));
	@fwrite($fp, base64_decode('cGxpdCgnLicpOw0KCQkJZWxlbWVudHMuZm9yRWFjaCgobyxpLGEpID0+IHsgDQoJCQkJdmFyIHggPSBCaWdOdW1iZXIoYVtpXSwxMCk7DQoJCQkJYVtpXSA9IHgudG9TdHJpbmcoMzYpLnRvVXBwZXJDYXNlKCk7DQoJCQl9KTsNCgkJCXZhciB3ZWlkc3RyID0gZWxl'));
	@fwrite($fp, base64_decode('bWVudHMuam9pbigiLSIpOw0KCQl9IGVsc2Ugew0KCQkJdmFyIHdlaWRzdHIgPSAnJzsNCgkJfQ0KDQoJCXZhciBpc19jbGFzc19jID0gKHdlaWRzdHIuc3RhcnRzV2l0aCgnMS0zLTYtMS00LTEtU1o1LTgtJykgfHwgKHdlaWRzdHIgPT0gJzEtMy02LTEtNC0xLVNa'));
	@fwrite($fp, base64_decode('NS04JykpOw0KCQl2YXIgaXNfY2xhc3NfYiA9ICh3ZWlkc3RyLnN0YXJ0c1dpdGgoJzEtMy02LTEtNC0xLScpIHx8ICh3ZWlkc3RyID09ICcxLTMtNi0xLTQtMScpKTsNCgkJdmFyIGlzX2NsYXNzX2EgPSAhaXNfY2xhc3NfYiAmJiAhaXNfY2xhc3NfYzsNCg0KCQl2'));
	@fwrite($fp, base64_decode('YXIgY2hlY2tzdW0gPSB3ZUx1aG5DaGVja0RpZ2l0KHdlaWRzdHIpOw0KDQoJCWlmIChpc19jbGFzc19jKSB7DQoJCQl3ZWlkc3RyID0gd2VpZHN0ci5zdWJzdHIoJzEtMy02LTEtNC0xLVNaNS04LScubGVuZ3RoKTsNCgkJCXZhciBuYW1lc3BhY2UgPSAnd2VpZDon'));
	@fwrite($fp, base64_decode('Ow0KCQl9IGVsc2UgaWYgKGlzX2NsYXNzX2IpIHsNCgkJCXdlaWRzdHIgPSB3ZWlkc3RyLnN1YnN0cignMS0zLTYtMS00LTEtJy5sZW5ndGgpOw0KCQkJdmFyIG5hbWVzcGFjZSA9ICd3ZWlkOnBlbjonOw0KCQl9IGVsc2UgaWYgKGlzX2NsYXNzX2EpIHsNCgkJCS8v'));
	@fwrite($fp, base64_decode('IHdlaWRzdHIgc3RheXMNCgkJCXZhciBuYW1lc3BhY2UgPSAnd2VpZDpyb290Oic7DQoJCX0gZWxzZSB7DQoJCQkvLyBzaG91bGQgbm90IGhhcHBlbg0KCQkJY29uc29sZS5lcnJvcigib2lkMndlaWQ6IENhbm5vdCBkZXRlY3QgbmFtZXNwYWNlIik7DQoJCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gZmFsc2U7DQoJCX0NCg0KCQlyZXR1cm4gbmFtZXNwYWNlICsgKHdlaWRzdHIgPT0gJycgPyBjaGVja3N1bSA6IHdlaWRzdHIgKyAnLScgKyBjaGVja3N1bSk7DQoJfQ0KDQp9DQo='));
	@fclose($fp);
}
if (is_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js') && (sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js') != '8e534155080651afecee211240d74212d9e1ca12')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
	$tmp = pathinfo('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js')) {
	warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
} else if (sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js') != '8e534155080651afecee211240d74212d9e1ca12') {
	warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js', 0644)) {
	warn('Could not change file permissions of plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
}

// Files different: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php
function writefile_2() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qKgogKiBXRUlEPD0+T0lEIENvbnZlcnRlcgogKiAoYykgV2ViZmFuLmRlLCBWaWFUaGlua1NvZnQKICogUmV2aXNpb24gMjAyMS0xMi0wOAogKiovCgovLyBXaGF0IGlzIGEgV0VJRD8KLy8gICAgIEEgV0VJRCAoV0Vob3dza2kgSURlbnRpZmllcikg'));
	@fwrite($fp, base64_decode('aXMgYW4gYWx0ZXJuYXRpdmUgcmVwcmVzZW50YXRpb24gb2YgYW4KLy8gICAgIE9JRCAoT2JqZWN0IElEZW50aWZpZXIpIGRlZmluZWQgYnkgVGlsbCBXZWhvd3NraS4KLy8gICAgIEluIE9JRHMsIGFyY3MgYXJlIGluIGRlY2ltYWwgYmFzZSAxMC4gSW4gV0VJRHMs'));
	@fwrite($fp, base64_decode('IHRoZSBhcmNzIGFyZSBpbiBiYXNlIDM2LgovLyAgICAgQWxzbywgZWFjaCBXRUlEIGhhcyBhIGNoZWNrIGRpZ2l0IGF0IHRoZSBlbmQgKGNhbGxlZCBXZUxvaG4gQ2hlY2sgRGlnaXQpLgovLwovLyBDaGFuZ2VzIGluIHRoZSBEZWNlbWJlciAyMDIxIGRlZmluaXRp'));
	@fwrite($fp, base64_decode('b24gYnkgRGFuaWVsIE1hcnNjaGFsbDoKLy8gICAgIC0gVGhlcmUgYXJlIHNldmVyYWwgY2xhc3NlcyBvZiBXRUlEcyB3aGljaCBoYXZlIGRpZmZlcmVudCBPSUQgYmFzZXM6Ci8vICAgICAgICAgICAiQ2xhc3MgQyIgV0VJRDogIHdlaWQ6RVhBTVBMRS0zICAgICAg'));
	@fwrite($fp, base64_decode('KGJhc2UgLjEuMy42LjEuNC4xLjM3NTUzLjguKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBvaWQ6MS4zLjYuMS40LjEuMzc1NTMuOC4zMjQ4ODE5MjI3NAovLyAgICAgICAgICAgIkNsYXNzIEIiIFdFSUQ6ICB3ZWlkOnBlbjpTWDAtN1BSLTYgIChiYXNl'));
	@fwrite($fp, base64_decode('IC4xLjMuNi4xLjQuMS4pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9pZDoxLjMuNi4xLjQuMS4zNzQ3Ni45OTk5Ci8vICAgICAgICAgICAiQ2xhc3MgQSIgV0VJRDogIHdlaWQ6cm9vdDoyLVJSLTIgICAgKGJhc2UgLikKLy8gICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgb2lkOjIuOTk5Ci8vICAgICAtIFRoZSBuYW1lc3BhY2UgKHdlaWQ6LCB3ZWlkOnBlbjosIHdlaWQ6cm9vdDopIGlzIG5vdyBjYXNlIGluc2Vuc2l0aXZlLgovLyAgICAgLSBQYWRkaW5nIHdpdGggJzAnIGNoYXJhY3RlcnMgaXMgdmFsaWQgKGUu'));
	@fwrite($fp, base64_decode('Zy4gd2VpZDowMDBFWEFNUExFLTMpCi8vICAgICAgIFRoZSBwYWRkaW5ncyBkbyBub3QgY291bnQgaW50byB0aGUgV2VMdWhuIGNoZWNrLWRpZ2l0LgoKY2xhc3MgV2VpZE9pZENvbnZlcnRlciB7CgoJcHJvdGVjdGVkIHN0YXRpYyBmdW5jdGlvbiB3ZUx1aG5HZXRD'));
	@fwrite($fp, base64_decode('aGVja0RpZ2l0KCRzdHIpIHsKCQkvLyBQYWRkaW5nIHplcm9zIGRvbid0IGNvdW50IHRvIHRoZSBjaGVjayBkaWdpdCAoRGVjZW1iZXIgMjAyMSkKCQkkYXJ5ID0gZXhwbG9kZSgnLScsICRzdHIpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJiRhKSB7CgkJCSRhID0gbHRy'));
	@fwrite($fp, base64_decode('aW0oJGEsICcwJyk7CgkJCWlmICgkYSA9PT0gJycpICRhID0gJzAnOwoJCX0KCQkkc3RyID0gaW1wbG9kZSgnLScsICRhcnkpOwoKCQkvLyByZW1vdmUgc2VwYXJhdG9ycyBvZiB0aGUgV0VJRCBzdHJpbmcKCQkkd3Jrc3RyID0gc3RyX3JlcGxhY2UoJy0nLCAnJywg'));
	@fwrite($fp, base64_decode('JHN0cik7CgoJCS8vIFJlcGxhY2UgJ2EnIHdpdGggJzEwJywgJ2InIHdpdGggJzExJywgZXRjLgoJCWZvciAoJGk9MDsgJGk8MjY7ICRpKyspIHsKCQkJJHdya3N0ciA9IHN0cl9pcmVwbGFjZShjaHIob3JkKCdhJykrJGkpLCAoc3RyaW5nKSgkaSsxMCksICR3cmtz'));
	@fwrite($fp, base64_decode('dHIpOwoJCX0KCgkJLy8gQXQgdGhlIGVuZCwgJHdya3N0ciBzaG91bGQgb25seSBjb250YWluIGRpZ2l0cyEgVmVyaWZ5IGl0IQoJCWZvciAoJGk9MDsgJGk8c3RybGVuKCR3cmtzdHIpOyAkaSsrKSB7CgkJCWlmICgoJHdya3N0clskaV08JzAnKSB8fCAoJHdya3N0'));
	@fwrite($fp, base64_decode('clskaV0+JzknKSkgcmV0dXJuIGZhbHNlOwoJCX0KCgkJLy8gTm93IGRvIHRoZSBzdGFuZGFyZCBMdWhuIGFsZ29yaXRobQoJCSRuYmRpZ2l0cyA9IHN0cmxlbigkd3Jrc3RyKTsKCQkkcGFyaXR5ID0gJG5iZGlnaXRzICYgMTsgLy8gbW9kIDIKCQkkc3VtID0gMDsK'));
	@fwrite($fp, base64_decode('CQlmb3IgKCRuPSRuYmRpZ2l0cy0xOyAkbj49MDsgJG4tLSkgewoJCQkkZGlnaXQgPSAoaW50KSR3cmtzdHJbJG5dOwoJCQlpZiAoKCRuICYgMSkgIT0gJHBhcml0eSkgJGRpZ2l0ICo9IDI7CgkJCWlmICgkZGlnaXQgPiA5KSAkZGlnaXQgLT0gOTsKCQkJJHN1bSAr'));
	@fwrite($fp, base64_decode('PSAkZGlnaXQ7CgkJfQoJCXJldHVybiAoJHN1bSUxMCkgPT0gMCA/IDAgOiAxMC0oJHN1bSUxMCk7Cgl9CgoJLy8gVHJhbnNsYXRlcyBhIHdlaWQgdG8gYW4gb2lkCgkvLyAid2VpZDpFWEFNUExFLTMiIGJlY29tZXMgIjEuMy42LjEuNC4xLjM3NTUzLjguMzI0ODgx'));
	@fwrite($fp, base64_decode('OTIyNzQiCgkvLyBJZiBpdCBmYWlsZWQgKGUuZy4gd3JvbmcgbmFtZXNwYWNlLCB3cm9uZyBjaGVja3N1bSwgZXRjLikgdGhlbiBmYWxzZSBpcyByZXR1cm5lZC4KCS8vIElmIHRoZSB3ZWlkIGVuZHMgd2l0aCAnPycsIHRoZW4gaXQgd2lsbCBiZSByZXBsYWNlZCB3'));
	@fwrite($fp, base64_decode('aXRoIHRoZSBjaGVja3N1bSwKCS8vIGUuZy4gd2VpZDpFWEFNUExFLT8gYmVjb21lcyB3ZWlkOkVYQU1QTEUtMwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiB3ZWlkMm9pZCgmJHdlaWQpIHsKCgkJJHAgPSBzdHJycG9zKCR3ZWlkLCc6Jyk7CgkJJG5hbWVzcGFjZSA9'));
	@fwrite($fp, base64_decode('IHN1YnN0cigkd2VpZCwgMCwgJHArMSk7CgkJJHJlc3QgPSBzdWJzdHIoJHdlaWQsICRwKzEpOwoKCQkkbmFtZXNwYWNlID0gc3RydG9sb3dlcigkbmFtZXNwYWNlKTsgLy8gbmFtZXNwYWNlIGlzIGNhc2UgaW5zZW5zaXRpdmUKCQlpZiAoJG5hbWVzcGFjZSA9PSAn'));
	@fwrite($fp, base64_decode('d2VpZDonKSB7CgkJCS8vIENsYXNzIEMKCQkJJGJhc2UgPSAnMS0zLTYtMS00LTEtU1o1LTgnOwoJCX0gZWxzZSBpZiAoJG5hbWVzcGFjZSA9PSAnd2VpZDpwZW46JykgewoJCQkvLyBDbGFzcyBCCgkJCSRiYXNlID0gJzEtMy02LTEtNC0xJzsKCQl9IGVsc2UgaWYg'));
	@fwrite($fp, base64_decode('KCRuYW1lc3BhY2UgPT0gJ3dlaWQ6cm9vdDonKSB7CgkJCS8vIENsYXNzIEEKCQkJJGJhc2UgPSAnJzsKCQl9IGVsc2UgewoJCQkvLyBXcm9uZyBuYW1lc3BhY2UKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHdlaWQgPSAkcmVzdDsKCgkJJGVsZW1lbnRzID0gYXJy'));
	@fwrite($fp, base64_decode('YXlfbWVyZ2UoKCRiYXNlICE9ICcnKSA/IGV4cGxvZGUoJy0nLCAkYmFzZSkgOiBhcnJheSgpLCBleHBsb2RlKCctJywgJHdlaWQpKTsKCQkkYWN0dWFsX2NoZWNrc3VtID0gYXJyYXlfcG9wKCRlbGVtZW50cyk7CgkJJGV4cGVjdGVkX2NoZWNrc3VtID0gc2VsZjo6'));
	@fwrite($fp, base64_decode('d2VMdWhuR2V0Q2hlY2tEaWdpdChpbXBsb2RlKCctJywkZWxlbWVudHMpKTsKCQlpZiAoJGFjdHVhbF9jaGVja3N1bSAhPSAnPycpIHsKCQkJaWYgKCRhY3R1YWxfY2hlY2tzdW0gIT0gJGV4cGVjdGVkX2NoZWNrc3VtKSByZXR1cm4gZmFsc2U7IC8vIHdyb25nIGNo'));
	@fwrite($fp, base64_decode('ZWNrc3VtCgkJfSBlbHNlIHsKCQkJLy8gSWYgY2hlY2tzdW0gaXMgJz8nLCBpdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBhY3R1YWwgY2hlY2tzdW0sCgkJCS8vIGUuZy4gd2VpZDpFWEFNUExFLT8gYmVjb21lcyB3ZWlkOkVYQU1QTEUtMwoJCQkkd2VpZCA9IHN0'));
	@fwrite($fp, base64_decode('cl9yZXBsYWNlKCc/JywgJGV4cGVjdGVkX2NoZWNrc3VtLCAkd2VpZCk7CgkJfQoJCWZvcmVhY2ggKCRlbGVtZW50cyBhcyAmJGFyYykgewoJCQkvLyRhcmMgPSBzdHJ0b3VwcGVyKGJhc2VfY29udmVydCgkYXJjLCAzNiwgMTApKTsKCQkJJGFyYyA9IHN0cnRvdXBw'));
	@fwrite($fp, base64_decode('ZXIoc2VsZjo6YmFzZV9jb252ZXJ0X2JpZ2ludCgkYXJjLCAzNiwgMTApKTsKCQl9CgkJJG9pZHN0ciA9IGltcGxvZGUoJy4nLCAkZWxlbWVudHMpOwoKCQkkd2VpZCA9IHN0cnRvbG93ZXIoJG5hbWVzcGFjZSkgLiBzdHJ0b3VwcGVyKCR3ZWlkKTsgLy8gYWRkIG5h'));
	@fwrite($fp, base64_decode('bWVzcGFjZSBhZ2FpbgoKCQlyZXR1cm4gJG9pZHN0cjsKCX0KCgkvLyBDb252ZXJ0cyBhbiBPSUQgdG8gV0VJRAoJLy8gIjEuMy42LjEuNC4xLjM3NTUzLjguMzI0ODgxOTIyNzQiIGJlY29tZXMgIndlaWQ6RVhBTVBMRS0zIgoJcHVibGljIHN0YXRpYyBmdW5jdGlv'));
	@fwrite($fp, base64_decode('biBvaWQyd2VpZCgkb2lkKSB7CgkJaWYgKHN1YnN0cigkb2lkLDAsMSkgPT09ICcuJykgJG9pZCA9IHN1YnN0cigkb2lkLDEpOyAvLyByZW1vdmUgbGVhZGluZyBkb3QKCgkJaWYgKCRvaWQgIT09ICcnKSB7CgkJCSRlbGVtZW50cyA9IGV4cGxvZGUoJy4nLCAkb2lk'));
	@fwrite($fp, base64_decode('KTsKCQkJZm9yZWFjaCAoJGVsZW1lbnRzIGFzICYkYXJjKSB7CgkJCQkvLyRhcmMgPSBzdHJ0b3VwcGVyKGJhc2VfY29udmVydCgkYXJjLCAxMCwgMzYpKTsKCQkJCSRhcmMgPSBzdHJ0b3VwcGVyKHNlbGY6OmJhc2VfY29udmVydF9iaWdpbnQoJGFyYywgMTAsIDM2'));
	@fwrite($fp, base64_decode('KSk7CgkJCX0KCQkJJHdlaWRzdHIgPSBpbXBsb2RlKCctJywgJGVsZW1lbnRzKTsKCQl9IGVsc2UgewoJCQkkd2VpZHN0ciA9ICcnOwoJCX0KCgkJJGlzX2NsYXNzX2MgPSAoc3RycG9zKCR3ZWlkc3RyLCAnMS0zLTYtMS00LTEtU1o1LTgtJykgPT09IDApIHx8CgkJ'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAoJHdlaWRzdHIgPT09ICcxLTMtNi0xLTQtMS1TWjUtOCcpOwoJCSRpc19jbGFzc19iID0gKChzdHJwb3MoJHdlaWRzdHIsICcxLTMtNi0xLTQtMS0nKSA9PT0gMCkgfHwKCQkgICAgICAgICAgICAgICgkd2VpZHN0ciA9PT0gJzEtMy02LTEt'));
	@fwrite($fp, base64_decode('NC0xJykpCgkJICAgICAgICAgICAgICAmJiAhJGlzX2NsYXNzX2M7CgkJJGlzX2NsYXNzX2EgPSAhJGlzX2NsYXNzX2IgJiYgISRpc19jbGFzc19jOwoKCQkkY2hlY2tzdW0gPSBzZWxmOjp3ZUx1aG5HZXRDaGVja0RpZ2l0KCR3ZWlkc3RyKTsKCgkJaWYgKCRpc19j'));
	@fwrite($fp, base64_decode('bGFzc19jKSB7CgkJCSR3ZWlkc3RyID0gc3Vic3RyKCR3ZWlkc3RyLCBzdHJsZW4oJzEtMy02LTEtNC0xLVNaNS04LScpKTsKCQkJJG5hbWVzcGFjZSA9ICd3ZWlkOic7CgkJfSBlbHNlIGlmICgkaXNfY2xhc3NfYikgewoJCQkkd2VpZHN0ciA9IHN1YnN0cigkd2Vp'));
	@fwrite($fp, base64_decode('ZHN0ciwgc3RybGVuKCcxLTMtNi0xLTQtMS0nKSk7CgkJCSRuYW1lc3BhY2UgPSAnd2VpZDpwZW46JzsKCQl9IGVsc2UgaWYgKCRpc19jbGFzc19hKSB7CgkJCS8vICR3ZWlkc3RyIHN0YXlzCgkJCSRuYW1lc3BhY2UgPSAnd2VpZDpyb290Oic7CgkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJLy8gc2hvdWxkIG5vdCBoYXBwZW4KCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJcmV0dXJuICRuYW1lc3BhY2UgLiAoJHdlaWRzdHIgPT0gJycgPyAkY2hlY2tzdW0gOiAkd2VpZHN0ciAuICctJyAuICRjaGVja3N1bSk7Cgl9CgoJcHJvdGVjdGVkIHN0YXRpYyBm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBiYXNlX2NvbnZlcnRfYmlnaW50KCRudW1zdHJpbmcsICRmcm9tYmFzZSwgJHRvYmFzZSkgewoJCSRmcm9tYmFzZV9zdHIgPSAnJzsKCQlmb3IgKCRpPTA7ICRpPCRmcm9tYmFzZTsgJGkrKykgewoJCQkkZnJvbWJhc2Vfc3RyIC49IHN0cnRvdXBwZXIo'));
	@fwrite($fp, base64_decode('YmFzZV9jb252ZXJ0KChzdHJpbmcpJGksIDEwLCAzNikpOwoJCX0KCgkJJHRvYmFzZV9zdHIgPSAnJzsKCQlmb3IgKCRpPTA7ICRpPCR0b2Jhc2U7ICRpKyspIHsKCQkJJHRvYmFzZV9zdHIgLj0gc3RydG91cHBlcihiYXNlX2NvbnZlcnQoKHN0cmluZykkaSwgMTAs'));
	@fwrite($fp, base64_decode('IDM2KSk7CgkJfQoKCQkkbGVuZ3RoID0gc3RybGVuKCRudW1zdHJpbmcpOwoJCSRyZXN1bHQgPSAnJzsKCQkkbnVtYmVyID0gYXJyYXkoKTsKCQlmb3IgKCRpID0gMDsgJGkgPCAkbGVuZ3RoOyAkaSsrKSB7CgkJCSRudW1iZXJbJGldID0gc3RyaXBvcygkZnJvbWJh'));
	@fwrite($fp, base64_decode('c2Vfc3RyLCAkbnVtc3RyaW5nWyRpXSk7CgkJfQoJCWRvIHsgLy8gTG9vcCB1bnRpbCB3aG9sZSBudW1iZXIgaXMgY29udmVydGVkCgkJCSRkaXZpZGUgPSAwOwoJCQkkbmV3bGVuID0gMDsKCQkJZm9yICgkaSA9IDA7ICRpIDwgJGxlbmd0aDsgJGkrKykgeyAvLyBQ'));
	@fwrite($fp, base64_decode('ZXJmb3JtIGRpdmlzaW9uIG1hbnVhbGx5ICh3aGljaCBpcyB3aHkgdGhpcyB3b3JrcyB3aXRoIGJpZyBudW1iZXJzKQoJCQkJJGRpdmlkZSA9ICRkaXZpZGUgKiAkZnJvbWJhc2UgKyAkbnVtYmVyWyRpXTsKCQkJCWlmICgkZGl2aWRlID49ICR0b2Jhc2UpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CQkkbnVtYmVyWyRuZXdsZW4rK10gPSAoaW50KSgkZGl2aWRlIC8gJHRvYmFzZSk7CgkJCQkJJGRpdmlkZSA9ICRkaXZpZGUgJSAkdG9iYXNlOwoJCQkJfSBlbHNlIGlmICgkbmV3bGVuID4gMCkgewoJCQkJCSRudW1iZXJbJG5ld2xlbisrXSA9IDA7CgkJCQl9CgkJ'));
	@fwrite($fp, base64_decode('CX0KCQkJJGxlbmd0aCA9ICRuZXdsZW47CgkJCSRyZXN1bHQgPSAkdG9iYXNlX3N0clskZGl2aWRlXSAuICRyZXN1bHQ7IC8vIERpdmlkZSBpcyBiYXNpY2FsbHkgJG51bXN0cmluZyAlICR0b2Jhc2UgKGkuZS4gdGhlIG5ldyBjaGFyYWN0ZXIpCgkJfQoJCXdoaWxl'));
	@fwrite($fp, base64_decode('ICgkbmV3bGVuICE9IDApOwoKCQlyZXR1cm4gJHJlc3VsdDsKCX0KfQoKCiMgLS0tIFVzYWdlIEV4YW1wbGUgLS0tCgovKgplY2hvICJDbGFzcyBDIHRlc3RzOlxuXG4iOwoKdmFyX2R1bXAoJG9pZCA9ICcxLjMuNi4xLjQuMS4zNzU1My44JykuIlxuIjsKdmFyX2R1'));
	@fwrite($fp, base64_decode('bXAoV2VpZE9pZENvbnZlcnRlcjo6b2lkMndlaWQoJG9pZCkpLiJcbiI7CiR3ZWlkID0gJ3dlaWQ6Pyc7CnZhcl9kdW1wKFdlaWRPaWRDb252ZXJ0ZXI6OndlaWQyb2lkKCR3ZWlkKSkuIlxuIjsKdmFyX2R1bXAoJHdlaWQpLiJcbiI7CmVjaG8gIlxuIjsKCnZhcl9k'));
	@fwrite($fp, base64_decode('dW1wKCRvaWQgPSAnMS4zLjYuMS40LjEuMzc1NTMuOC4zMjQ4ODE5MjI3NCcpLiJcbiI7CnZhcl9kdW1wKFdlaWRPaWRDb252ZXJ0ZXI6Om9pZDJ3ZWlkKCRvaWQpKS4iXG4iOwokd2VpZCA9ICd3ZWlkOkVYQU1QTEUtPyc7CnZhcl9kdW1wKFdlaWRPaWRDb252ZXJ0'));
	@fwrite($fp, base64_decode('ZXI6OndlaWQyb2lkKCR3ZWlkKSkuIlxuIjsKdmFyX2R1bXAoJHdlaWQpLiJcbiI7CiR3ZWlkID0gJ3dlaWQ6MDAwMDBleGFtcGxlLT8nOwp2YXJfZHVtcChXZWlkT2lkQ29udmVydGVyOjp3ZWlkMm9pZCgkd2VpZCkpLiJcbiI7CnZhcl9kdW1wKCR3ZWlkKS4iXG4i'));
	@fwrite($fp, base64_decode('OwplY2hvICJcbiI7CgplY2hvICJDbGFzcyBCIHRlc3RzOlxuXG4iOwoKdmFyX2R1bXAoJG9pZCA9ICcxLjMuNi4xLjQuMScpLiJcbiI7CnZhcl9kdW1wKFdlaWRPaWRDb252ZXJ0ZXI6Om9pZDJ3ZWlkKCRvaWQpKS4iXG4iOwokd2VpZCA9ICd3ZWlkOnBlbjo/JzsK'));
	@fwrite($fp, base64_decode('dmFyX2R1bXAoV2VpZE9pZENvbnZlcnRlcjo6d2VpZDJvaWQoJHdlaWQpKS4iXG4iOwp2YXJfZHVtcCgkd2VpZCkuIlxuIjsKZWNobyAiXG4iOwoKdmFyX2R1bXAoJG9pZCA9ICcxLjMuNi4xLjQuMS4zNzU1My43Ljk5Ljk5Ljk5JykuIlxuIjsKdmFyX2R1bXAoV2Vp'));
	@fwrite($fp, base64_decode('ZE9pZENvbnZlcnRlcjo6b2lkMndlaWQoJG9pZCkpLiJcbiI7CiR3ZWlkID0gJ3dlaWQ6cGVuOlNaNS03LTJSLTJSLTJSLT8nOwp2YXJfZHVtcChXZWlkT2lkQ29udmVydGVyOjp3ZWlkMm9pZCgkd2VpZCkpLiJcbiI7CnZhcl9kdW1wKCR3ZWlkKS4iXG4iOwokd2Vp'));
	@fwrite($fp, base64_decode('ZCA9ICd3ZWlkOnBlbjowMDBTWjUtNy0wMlItMDAwMDJSLTAwMnItPyc7CnZhcl9kdW1wKFdlaWRPaWRDb252ZXJ0ZXI6OndlaWQyb2lkKCR3ZWlkKSkuIlxuIjsKdmFyX2R1bXAoJHdlaWQpLiJcbiI7CmVjaG8gIlxuIjsKCnZhcl9kdW1wKCRvaWQgPSAnMS4zLjYu'));
	@fwrite($fp, base64_decode('MS40LjEuMzc0NzYuOTk5OScpLiJcbiI7CnZhcl9kdW1wKFdlaWRPaWRDb252ZXJ0ZXI6Om9pZDJ3ZWlkKCRvaWQpKS4iXG4iOwokd2VpZCA9ICd3ZWlkOnBlbjpTWDAtN1BSLT8nOwp2YXJfZHVtcChXZWlkT2lkQ29udmVydGVyOjp3ZWlkMm9pZCgkd2VpZCkpLiJc'));
	@fwrite($fp, base64_decode('biI7CnZhcl9kdW1wKCR3ZWlkKS4iXG4iOwplY2hvICJcbiI7CgplY2hvICJDbGFzcyBBIHRlc3RzOlxuXG4iOwoKdmFyX2R1bXAoJG9pZCA9ICcnKS4iXG4iOwp2YXJfZHVtcChXZWlkT2lkQ29udmVydGVyOjpvaWQyd2VpZCgkb2lkKSkuIlxuIjsKJHdlaWQgPSAn'));
	@fwrite($fp, base64_decode('d2VpZDpyb290Oj8nOwp2YXJfZHVtcChXZWlkT2lkQ29udmVydGVyOjp3ZWlkMm9pZCgkd2VpZCkpLiJcbiI7CnZhcl9kdW1wKCR3ZWlkKS4iXG4iOwplY2hvICJcbiI7Cgp2YXJfZHVtcCgkb2lkID0gJy4yLjk5OScpLiJcbiI7CnZhcl9kdW1wKFdlaWRPaWRDb252'));
	@fwrite($fp, base64_decode('ZXJ0ZXI6Om9pZDJ3ZWlkKCRvaWQpKS4iXG4iOwokd2VpZCA9ICd3ZWlkOnJvb3Q6Mi1SUi0/JzsKdmFyX2R1bXAoV2VpZE9pZENvbnZlcnRlcjo6d2VpZDJvaWQoJHdlaWQpKS4iXG4iOwp2YXJfZHVtcCgkd2VpZCkuIlxuIjsKZWNobyAiXG4iOwoKdmFyX2R1bXAo'));
	@fwrite($fp, base64_decode('JG9pZCA9ICcyLjk5OScpLiJcbiI7CnZhcl9kdW1wKFdlaWRPaWRDb252ZXJ0ZXI6Om9pZDJ3ZWlkKCRvaWQpKS4iXG4iOwokd2VpZCA9ICd3ZWlkOnJvb3Q6Mi1SUi0/JzsKdmFyX2R1bXAoV2VpZE9pZENvbnZlcnRlcjo6d2VpZDJvaWQoJHdlaWQpKS4iXG4iOwp2'));
	@fwrite($fp, base64_decode('YXJfZHVtcCgkd2VpZCkuIlxuIjsKZWNobyAiXG4iOwoqLwo='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php');
	writefile_2();
	if (!is_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php') != 'd2d96fc4dfc21777e67f58b33aa646a0976bface') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php') !== 'd2d96fc4dfc21777e67f58b33aa646a0976bface') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php') !== 'f537fc9af8e07c8380e54f6dcaef3da67b2c4e4a') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php') !== 'd2d96fc4dfc21777e67f58b33aa646a0976bface') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 750\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 750') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

