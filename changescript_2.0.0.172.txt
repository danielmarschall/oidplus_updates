<?php /* <ViaThinkSoftSignature>
r7RZ2zB7k9/dURCDuOQF1RPs4XEFk8ZezOaBd0KlzPgJslmhkCir2Q7++apvXiURS
sx01xoDSyzLC5jUtBJNSgt6UD+e9/kNkT88MQOSLIJre4qMB8cw1Dd4fYp6kfaGe/
ywa4i4IKopTs9ilSDJRqTae1kJ9AiqWKbxrS9g44VB7LrL9QNDwuug9jhn6gtIAH1
seFZLoGFFC7cQYLF+7xGkAZlrs3baRAHDlnIn828aX69JpPL8iAYMMG7+U5nt7NvT
q7PO339cKN9Aa2bXIbRgQ12mqhQRXE23pBjORGmpJfSTT6GJxgFMS+wy1sRkPj5kb
ieJder3UuIqlxdzXqV4OG0LtP1vrZ4Q7L2wyfkv2l083Fb3HE0cp1odBeBtXYIT+7
6nv7KHCpn/Zxe/fQ9m4zIGV5iQEIYLO7AXzffT4738LYE25UZwjtoA849PHJY/YtO
9pTZ+l930cULbnAadv8vxIXwENn98LJJEn4Fz7vA3y3cH/QPvANnfaMtsT/uB8FPJ
2d7YPYki2EB2UGm1FdXzZ+mGU7OBbCVYxJCZaAzh4fENuFDha8wUVvBIyWDd9uGst
Vq80pk8YmK0IlWGf+C+wjgYRl+SYz0xU7dYzWekbc2sNYB1/f7T/9EASCBJy7Wio8
3VaC4tXVO9hvZhS2o6nzlb6AKTtcBjQGbRm51qCD1GKjZTLI2SrUaBEPnZZnVDlyW
5+yAZlx33zTavt5dsh7xnQnkySDHc5uWJ+HInGY7PPY0+Idj18zvDKRI1cC1AttGe
E6AEYDGYrALOm05vHF69wqahxsa2Cwww74bljZSFnaYmZLIXm0t1UkjNEWygJJra3
ZrFKBEr7mtfgcllTNeKb2B4Q2TCXzi/YOTCurdVn0HAgOko53KnFGamUwIMgPJLNf
V5gYKOiH4VWqE5tAVTyJIAt+c1m/NideQOFXjtYSuX/wwM3UBnsG/tMvPpRbhOAnc
HOITXBFpUjrz781ugiU8fVTKINpPqQSX4+nYraVELq3SxwNAqITPDwZ5og7wR4lv4
zjFQwnnnjY26K0upVo64JdEYHODscwiMcb8W5QkgRcuz9qAn7y2/gjTBWF0myLFAb
Ova5CnQGivzqEJQdwf8sls5/dAQhi59pgWsxevtNfijV1UapqYdpLEhr2v41oNfA9
HM9PQvk+vHaoaYXwBDBNu8cQTUJgPktV597dNxl/E60gfgdGpgh7rm1R435HLm7FQ
gSg3/CgzDZ4twmL+BNINEE72OJbCSu2h+cL+YYuLEtZ+tC/kRUbL8lqkXG1HpGI8i
bObQ1Kr9S2Htk0sP+jnWPHkcrKVHVAGOigBiL35whwCsklSjHX7dqcLAafVkG800L
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 171') {
	err('This update can only be applied to OIDplus version 2.0.0.171!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: update/includes/phpsvnclient.class.php
function writefile_1() {
	@$fp = fopen('update/includes/phpsvnclient.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCi8qCiAqIFRoaXMgZmlsZSBpbmNsdWRlczoKICoKICogMS4gIlBIUCBTVk4gQ0xJRU5UIiBjbGFzcwogKiAgICBDb3B5cmlnaHQgKEMpIDIwMDctMjAwOCBieSBTaXhkZWdyZWVzIDxjZXNh'));
	@fwrite($fp, base64_decode('ckBzaXhkZWdyZWVzLmNvbS5icj4KICogICAgQ2VzYXIgRC4gUm9kYXMKICogICAgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vYXJjaGl2ZS9wL3BocHN2bmNsaWVudC8KICogICAgTGljZW5zZTogQlNEIExpY2Vuc2UKICogICAgQ0hBTkdFUyBieSBEYW5pZWwgTWFy'));
	@fwrite($fp, base64_decode('c2NoYWxsLCBWaWFUaGlua1NvZnQgaW4gMjAxOToKICogICAgLSBUaGUgY2xhc3MgaGFzIGJlZW4gY3VzdG9taXplZCBhbmQgY29udGFpbnMgc3BlY2lmaWMgY2hhbmdlcyBmb3IgdGhlIHNvZnR3YXJlICJPSURwbHVzIgogKiAgICAtIEZ1bmN0aW9ucyB3aGljaCBh'));
	@fwrite($fp, base64_decode('cmUgbm90IHVzZWQgaW4gdGhlICJTVk4gY2hlY2tvdXQiIHdlcmUgcmVtb3ZlZC4KICogICAgICBUaGUgb25seSBpbXBvcnRhbnQgZnVuY3Rpb25zIGFyZSBnZXRWZXJzaW9uKCkgYW5kIHVwZGF0ZVdvcmtpbmdDb3B5KCkKICogICAgLSBUaGUgZGVwZW5kZW5jeSBj'));
	@fwrite($fp, base64_decode('bGFzcyB4bWwyYXJyYXkgd2FzIGNvbnZlcnRlZCBmcm9tIGEgY2xhc3MgaW50byBhIGZ1bmN0aW9uIGFuZAogKiAgICAgIGluY2x1ZGVkIGludG8gdGhpcyBjbGFzcwogKiAgICAtIEFkZGVkICJyZXZpc2lvbiBsb2cvY29tbWVudCIgZnVuY3Rpb25hbGl0eQogKgog'));
	@fwrite($fp, base64_decode('KiAyLiAieG1sMmFycmF5IiBjbGFzcwogKiAgICBUYWtlbiBmcm9tIGh0dHA6Ly93d3cucGhwLm5ldC9tYW51YWwvZW4vZnVuY3Rpb24ueG1sLXBhcnNlLnBocCM1MjU2NwogKiAgICBNb2RpZmllZCBieSBNYXJ0aW4gR3VwcHkgPGh0dHA6Ly93d3cuZGVhZHBhbjEx'));
	@fwrite($fp, base64_decode('MC5jb20vPgogKiAgICBDSEFOR0VTIGJ5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdCBpbiAyMDE5OgogKiAgICAtIENvbnZlcnRlZCBjbGFzcyBpbnRvIGEgc2luZ2xlIGZ1bmN0aW9uIGFuZCBhZGRlZCB0aGF0IGZ1bmN0aW9uIGludG8gdGhlIHBocHN2'));
	@fwrite($fp, base64_decode('bmNsaWVudCBjbGFzcwogKi8KCmRlZmluZSgiUEhQU1ZOX05PUk1BTF9SRVFVRVNUIiwgJzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9InV0Zi04Ij8+PHByb3BmaW5kIHhtbG5zPSJEQVY6Ij48cHJvcD4KPGdldGxhc3Rtb2RpZmllZCB4bWxucz0iREFWOiIv'));
	@fwrite($fp, base64_decode('PiA8Y2hlY2tlZC1pbiB4bWxucz0iREFWOiIvPjx2ZXJzaW9uLW5hbWUgeG1sbnM9IkRBVjoiLz48dmVyc2lvbi1jb250cm9sbGVkLWNvbmZpZ3VyYXRpb24geG1sbnM9IkRBVjoiLz48cmVzb3VyY2V0eXBlIHhtbG5zPSJEQVY6Ii8+PGJhc2VsaW5lLXJlbGF0aXZl'));
	@fwrite($fp, base64_decode('LXBhdGggeG1sbnM9Imh0dHA6Ly9zdWJ2ZXJzaW9uLnRpZ3Jpcy5vcmcveG1sbnMvZGF2LyIvPjxyZXBvc2l0b3J5LXV1aWQgeG1sbnM9Imh0dHA6Ly9zdWJ2ZXJzaW9uLnRpZ3Jpcy5vcmcveG1sbnMvZGF2LyIvPjwvcHJvcD48L3Byb3BmaW5kPicpOwpkZWZpbmUo'));
	@fwrite($fp, base64_decode('IlBIUFNWTl9WRVJTSU9OX1JFUVVFU1QiLCAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48cHJvcGZpbmQgeG1sbnM9IkRBVjoiPjxwcm9wPjxjaGVja2VkLWluIHhtbG5zPSJEQVY6Ii8+PC9wcm9wPjwvcHJvcGZpbmQ+Jyk7CmRlZmluZSgi'));
	@fwrite($fp, base64_decode('UEhQU1ZOX0xPR1NfUkVRVUVTVCIsICc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJ1dGYtOCI/PiA8Uzpsb2ctcmVwb3J0IHhtbG5zOlM9InN2bjoiPiA8UzpzdGFydC1yZXZpc2lvbj4lZDwvUzpzdGFydC1yZXZpc2lvbj48UzplbmQtcmV2aXNpb24+JWQ8'));
	@fwrite($fp, base64_decode('L1M6ZW5kLXJldmlzaW9uPjxTOnBhdGg+PC9TOnBhdGg+PFM6ZGlzY292ZXItY2hhbmdlZC1wYXRocy8+PC9TOmxvZy1yZXBvcnQ+Jyk7CgpkZWZpbmUoIk5PVF9GT1VORCIsIDIpOwpkZWZpbmUoIkFVVEhfUkVRVUlSRUQiLCAzKTsKZGVmaW5lKCJVTktOT1dOX0VS'));
	@fwrite($fp, base64_decode('Uk9SIiwgNCk7CmRlZmluZSgiTk9fRVJST1IiLCAxKTsKCi8qKgogKiAgUEhQIFNWTiBDTElFTlQKICoKICogIFRoaXMgY2xhc3MgaXMgYSBTVk4gY2xpZW50LiBJdCBjYW4gcGVyZm9ybSByZWFkIG9wZXJhdGlvbnMKICogIHRvIGEgU1ZOIHNlcnZlciAob3ZlciBX'));
	@fwrite($fp, base64_decode('ZWItREFWKS4KICogIEl0IGNhbiBnZXQgZGlyZWN0b3J5IGZpbGVzLCBmaWxlIGNvbnRlbnRzLCBsb2dzLiBBbGwgdGhlIG9wZXJhcmF0aW9uCiAqICBjb3VsZCBiZSBkb25lIGZvciBhIHNwZWNpZmljIHZlcnNpb24gb3IgZm9yIHRoZSBsYXN0IHZlcnNpb24uCiAq'));
	@fwrite($fp, base64_decode('CiAqICBAYXV0aG9yIENlc2FyIEQuIFJvZGFzIDxjZXNhckBzaXhkZWdyZWVzLmNvbS5icj4KICogIEBsaWNlbnNlIEJTRCBMaWNlbnNlCiAqLwpjbGFzcyBwaHBzdm5jbGllbnQKewoJLyoqCgkgKiAgU1ZOIFJlcG9zaXRvcnkgVVJMCgkgKgoJICogIEB2YXIgc3Ry'));
	@fwrite($fp, base64_decode('aW5nCgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgJF91cmw7CgoJLyoqCgkgKiAgSFRUUCBDbGllbnQgb2JqZWN0CgkgKgoJICogIEB2YXIgb2JqZWN0CgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgJF9odHRwOwoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('IFJlc3Bvc2l0b3J5IFZlcnNpb24uCgkgKgoJICogIEBhY2Nlc3MgcHJpdmF0ZQoJICogIEB2YXIgaW50ZXJnZXIKCSAqLwoJcHJpdmF0ZSAkX3JlcFZlcnNpb247CgoJLyoqCgkgKiAgTGFzdCBlcnJvciBudW1iZXIKCSAqCgkgKiAgUG9zc2libGUgdmFsdWVzIGFy'));
	@fwrite($fp, base64_decode('ZSBOT1RfRVJST1IsIE5PVF9GT1VORCwgQVVUSF9SRVFVSVJFRCwgVU5LT1dOX0VSUk9SCgkgKgoJICogIEBhY2Nlc3MgcHVibGljCgkgKiAgQHZhciBpbnRlZ2VyCgkgKi8KCXB1YmxpYyAkZXJyTnJvOwoKCS8qKgoJICogTnVtYmVyIG9mIGFjdHVhbCByZXZpc2lv'));
	@fwrite($fp, base64_decode('biBsb2NhbCByZXBvc2l0b3J5LgoJICogQHZhciBJbnRlZ2VyLCBMb25nCgkgKi8KCXByaXZhdGUgJGFjdFZlcnNpb247Cglwcml2YXRlICRzdG9yZURpcmVjdG9yeUZpbGVzID0gYXJyYXkoKTsKCXByaXZhdGUgJGxhc3REaXJlY3RvcnlGaWxlczsKCXByaXZhdGUg'));
	@fwrite($fp, base64_decode('JGZpbGVfc2l6ZTsKCXByaXZhdGUgJGZpbGVfc2l6ZV9mb3VuZGVkID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR1cmwpCgl7CgkJJGh0dHAgPSYgJHRoaXMtPl9odHRwOwoJCSRodHRwICAgICAgICAgICAgID0gbmV3IGh0dHBfY2xhc3M7'));
	@fwrite($fp, base64_decode('CgkJJGh0dHAtPnVzZXJfYWdlbnQgPSAicGhwc3ZuY2xpZW50IChodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9hcmNoaXZlL3AvcGhwc3ZuY2xpZW50LykiOwoKCQkkdGhpcy0+X3VybCA9ICR1cmw7CgoJCSR0aGlzLT5hY3RWZXJzaW9uID0gJHRoaXMtPmdldFZlcnNp'));
	@fwrite($fp, base64_decode('b24oKTsKCX0KCgkvKioKCSAqIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBkaXJlY3Rvcmllcy4KCSAqIEBwYXJhbSB0eXBlICRwYXRoIFRoZSBwYXRoIHRvIHRoZSBkaXJlY3RvcnkgdGhhdCB3aWxsIGJlIGNyZWF0ZWQuCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gY3Jl'));
	@fwrite($fp, base64_decode('YXRlRGlycygkcGF0aCkKCXsKCQkkZGlycyA9IGV4cGxvZGUoIi8iLCAkcGF0aCk7CgoJCWZvcmVhY2ggKCRkaXJzIGFzICRkaXIpIHsKCQkJaWYgKCRkaXIgIT0gIiIpIHsKCQkJCSRjcmVhdGVEaXIgPSBzdWJzdHIoJHBhdGgsIDAsIHN0cnBvcygkcGF0aCwgJGRp'));
	@fwrite($fp, base64_decode('cikgKyBzdHJsZW4oJGRpcikpOwoJCQkJQG1rZGlyKCRjcmVhdGVEaXIpOwoJCQl9CgkJfQoJfQoKCS8qKgoJICogRnVuY3Rpb24gZm9yIHRoZSByZWN1cnNpdmUgcmVtb3ZhbCBvZiBkaXJlY3Rvcmllcy4KCSAqIEBwYXJhbSB0eXBlICRwYXRoIFRoZSBwYXRoIHRv'));
	@fwrite($fp, base64_decode('IHRoZSBkaXJlY3RvcnkgdG8gYmUgZGVsZXRlZC4KCSAqIEByZXR1cm4gdHlwZSBSZXR1cm5zIHRoZSBzdGF0dXMgb2YgYSBmdW5jdGlvbiBvciBmdW5jdGlvbiBybWRpciB1bmxpbmsuCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gcmVtb3ZlRGlycygkcGF0aCkKCXsK'));
	@fwrite($fp, base64_decode('CQlpZiAoaXNfZGlyKCRwYXRoKSkgewoJCQkkZW50cmllcyA9IHNjYW5kaXIoJHBhdGgpOwoJCQlpZiAoJGVudHJpZXMgPT09IGZhbHNlKSB7CgkJCQkkZW50cmllcyA9IGFycmF5KCk7CgkJCX0KCQkJZm9yZWFjaCAoJGVudHJpZXMgYXMgJGVudHJ5KSB7CgkJCQlp'));
	@fwrite($fp, base64_decode('ZiAoJGVudHJ5ICE9ICcuJyAmJiAkZW50cnkgIT0gJy4uJykgewoJCQkJCSR0aGlzLT5yZW1vdmVEaXJzKCRwYXRoIC4gJy8nIC4gJGVudHJ5KTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gQHJtZGlyKCRwYXRoKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gQHVubGluaygk'));
	@fwrite($fp, base64_decode('cGF0aCk7CgkJfQoJfQoKCS8qKgoJICogIFB1YmxpYyBGdW5jdGlvbnMKCSAqLwoKCS8qKgoJKiBVcGRhdGVzIGEgd29ya2luZyBjb3B5CgkqIEBwYXJhbSAkZnJvbV9yZXZpc2lvbiBFaXRoZXIgYSByZXZpc2lvbiBudW1iZXIgb3IgYSB0ZXh0IGZpbGUgd2l0aCB0'));
	@fwrite($fp, base64_decode('aGUKCSogICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzICJSZXZpc2lvbiAuLi4iIChpZiBpdCBpcyBhIGZpbGUsCgkqICAgICAgICAgICAgICAgICAgICAgICB0aGUgZmlsZSByZXZpc2lvbiB3aWxsIGJlIHVwZGF0ZWQgaWYgZXZlcnl0aGluZwoJKiAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgd2FzIHN1Y2Nlc3NmdWwpCgkqIEBwYXJhbSAkZm9sZGVyICAgICAgICBTVk4gcmVtb3RlIGZvbGRlcgoJKiBAcGFyYW0gJG91dHBhdGggICAgICAgTG9jYWwgcGF0aCBvZiB0aGUgd29ya2luZyBjb3B5CgkqIEBwYXJhbSAkcHJldmll'));
	@fwrite($fp, base64_decode('dyAgICAgICBPbmx5IHNpbXVsYXRlLCBkbyBub3Qgd3JpdGUgdG8gZmlsZXMKCSoqLwoJcHVibGljIGZ1bmN0aW9uIHVwZGF0ZVdvcmtpbmdDb3B5KCRmcm9tX3JldmlzaW9uPSd2ZXJzaW9uLnR4dCcsICRmb2xkZXIgPSAnL3RydW5rLycsICRvdXRQYXRoID0gJy4n'));
	@fwrite($fp, base64_decode('LCAkcHJldmlldyA9IGZhbHNlKQoJewoJCWlmICghaXNfZGlyKCRvdXRQYXRoKSkgewoJCQllY2hvICJFUlJPUjogTG9jYWwgcGF0aCAkb3V0UGF0aCBub3QgZXhpc3RpbmdcbiI7CgkJCWZsdXNoKCk7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCWlmICghaXNfbnVt'));
	@fwrite($fp, base64_decode('ZXJpYygkZnJvbV9yZXZpc2lvbikpIHsKCQkJJHZlcnNpb25fZmlsZSA9ICRmcm9tX3JldmlzaW9uOwogICAgICAgICAgICAgICAgICAgICAgICAkZnJvbV9yZXZpc2lvbiA9IC0xOwoKCQkJaWYgKCFmaWxlX2V4aXN0cygkdmVyc2lvbl9maWxlKSkgewoJCQkJZWNo'));
	@fwrite($fp, base64_decode('byAiRVJST1I6ICR2ZXJzaW9uX2ZpbGUgbWlzc2luZ1xuIjsKCQkJCWZsdXNoKCk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0gZWxzZSB7CgkJCQkvL09idGFpbiB0aGUgbnVtYmVyIG9mIGN1cnJlbnQgdmVyc2lvbiBudW1iZXIgb2YgdGhlIGxvY2FsIGNvcHkuCgkJ'));
	@fwrite($fp, base64_decode('CQkkY29udCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCR2ZXJzaW9uX2ZpbGUpOwoJCQkJaWYgKCFwcmVnX21hdGNoKCdAUmV2aXNpb24gKFxkKylAJywgJGNvbnQsICRtKSkgewoJCQkJCWVjaG8gIkVSUk9SOiAkdmVyc2lvbl9maWxlIHVua25vd24gZm9ybWF0XG4iOwoJ'));
	@fwrite($fp, base64_decode('CQkJCWZsdXNoKCk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJJGZyb21fcmV2aXNpb24gPSAkbVsxXTsKCgkJCQllY2hvICJGb3VuZCAkdmVyc2lvbl9maWxlIHdpdGggcmV2aXNpb24gaW5mb3JtYXRpb24gJGZyb21fcmV2aXNpb25cbiI7CgkJCQlmbHVz'));
	@fwrite($fp, base64_decode('aCgpOwoJCQl9CgkJfSBlbHNlIHsKCQkJJHZlcnNpb25fZmlsZSA9ICcnOwoJCX0KCgkJJGVycm9yc19oYXBwZW5lZCA9IGZhbHNlOwoKCQkvLyBGaXJzdCwgZG8gc29tZSByZWFkL3dyaXRlIHRlc3QgKGV2ZW4gaWYgd2UgYXJlIGluIHByZXZpZXcgbW9kZSwgYmVj'));
	@fwrite($fp, base64_decode('YXVzZSB3ZSB3YW50IHRvIGRldGVjdCBlcnJvcnMgYmVmb3JlIGl0IGlzIHRvbyBsYXRlKQoJCSRmaWxlID0gJG91dFBhdGggLiAnL2R1bW15XycudW5pcWlkKCkuJy50bXAnOwoJCSRmaWxlID0gc3RyX3JlcGxhY2UoIi8vLyIsICIvIiwgJGZpbGUpOwoJCWlmIChA'));
	@fwrite($fp, base64_decode('ZmlsZV9wdXRfY29udGVudHMoJGZpbGUsICdXcml0ZSBUZXN0JykgPT09IGZhbHNlKSB7CgkJCWVjaG8gIkNhbm5vdCB3cml0ZSB0ZXN0IGZpbGUgJGZpbGVcbiI7CgkJCWZsdXNoKCk7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJQHVubGluaygkZmlsZSk7CgkJaWYg'));
	@fwrite($fp, base64_decode('KGZpbGVfZXhpc3RzKCRmaWxlKSkgewoJCQllY2hvICJDYW5ub3QgZGVsZXRlIHRlc3QgZmlsZSAkZmlsZVxuIjsKCQkJZmx1c2goKTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJLy9HZXQgYSBsaXN0IG9mIG9iamVjdHMgdG8gYmUgdXBkYXRlZC4KCQkkb2JqZWN0'));
	@fwrite($fp, base64_decode('c19saXN0ID0gJHRoaXMtPmdldExvZ3NGb3JVcGRhdGUoJGZvbGRlciwgJGZyb21fcmV2aXNpb24gKyAxKTsKCQlpZiAoIWlzX251bGwoJG9iamVjdHNfbGlzdCkpIHsKCQkJLy8gT3V0cHV0IHZlcnNpb24gaW5mb3JtYXRpb24KCQkJZm9yZWFjaCAoJG9iamVjdHNf'));
	@fwrite($fp, base64_decode('bGlzdFsncmV2aXNpb25zJ10gYXMgJHJldmlzaW9uKSB7CgkJCQllY2hvIHRyaW0oIk5ldyByZXZpc2lvbiAiLiRyZXZpc2lvblsndmVyc2lvbk5hbWUnXS4iIGJ5ICIuJHJldmlzaW9uWydjcmVhdG9yJ10uIiAoIi4kcmV2aXNpb25bJ2RhdGUnXS4iKSAiLiRyZXZp'));
	@fwrite($fp, base64_decode('c2lvblsnY29tbWVudCddKS4iXG4iOwoJCQl9CgoJCQkvLy8vTGV0cyB1cGRhdGUgZGlycwoJCQkvLyBBZGQgZGlycwoJCQlmb3JlYWNoICgkb2JqZWN0c19saXN0WydkaXJzJ10gYXMgJGZpbGUpIHsKCQkJCWlmICgkZmlsZSAhPSAnJykgewoJCQkJCSRsb2NhbFBh'));
	@fwrite($fp, base64_decode('dGggPSBzdHJfcmVwbGFjZSgkZm9sZGVyLCAiIiwgJGZpbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2FsUGF0aCA9IHJ0cmltKCRvdXRQYXRoLERJUkVDVE9SWV9TRVBBUkFUT1IpIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAu'));
	@fwrite($fp, base64_decode('IGx0cmltKCRsb2NhbFBhdGgsRElSRUNUT1JZX1NFUEFSQVRPUik7CgoJCQkJCWVjaG8gIkFkZGVkIG9yIG1vZGlmaWVkIGRpcmVjdG9yeTogJGZpbGVcbiI7CgkJCQkJZmx1c2goKTsKCQkJCQlpZiAoISRwcmV2aWV3KSB7CgkJCQkJCSR0aGlzLT5jcmVhdGVEaXJz'));
	@fwrite($fp, base64_decode('KCRsb2NhbFBhdGgpOwoJCQkJCQlpZiAoIWlzX2RpcigkbG9jYWxQYXRoKSkgewoJCQkJCQkJJGVycm9yc19oYXBwZW5lZCA9IHRydWU7CgkJCQkJCQllY2hvICI9PiBGQUlMRURcbiI7CgkJCQkJCQlmbHVzaCgpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgoJ'));
	@fwrite($fp, base64_decode('CQkvLy8vTGV0cyB1cGRhdGUgZmlsZXMKCQkJLy8gQWRkIGZpbGVzCgkJCWZvcmVhY2ggKCRvYmplY3RzX2xpc3RbJ2ZpbGVzJ10gYXMgJGZpbGUpIHsKCQkJCWlmICgkZmlsZSAhPSAnJykgewoJCQkJCSRsb2NhbEZpbGUgPSBzdHJfcmVwbGFjZSgkZm9sZGVyLCAi'));
	@fwrite($fp, base64_decode('IiwgJGZpbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2FsRmlsZSA9IHJ0cmltKCRvdXRQYXRoLERJUkVDVE9SWV9TRVBBUkFUT1IpIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuIGx0cmltKCRsb2NhbEZpbGUsRElSRUNUT1JZ'));
	@fwrite($fp, base64_decode('X1NFUEFSQVRPUik7CgoJCQkJCWVjaG8gIkFkZGVkIG9yIG1vZGlmaWVkIGZpbGU6ICRmaWxlXG4iOwoJCQkJCWZsdXNoKCk7CgkJCQkJaWYgKCEkcHJldmlldykgewoJCQkJCQkkY29udGVudHMgPSAkdGhpcy0+Z2V0RmlsZSgkZmlsZSk7CgkJCQkJCWlmIChAZmls'));
	@fwrite($fp, base64_decode('ZV9wdXRfY29udGVudHMoJGxvY2FsRmlsZSwgJGNvbnRlbnRzKSA9PT0gZmFsc2UpIHsKCQkJCQkJCSRlcnJvcnNfaGFwcGVuZWQgPSB0cnVlOwoJCQkJCQkJZWNobyAiPT4gRkFJTEVEXG4iOwoJCQkJCQkJZmx1c2goKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJ'));
	@fwrite($fp, base64_decode('fQoJCQkvL1JlbW92ZSBmaWxlcwoJCQlmb3JlYWNoICgkb2JqZWN0c19saXN0WydmaWxlc0RlbGV0ZSddIGFzICRmaWxlKSB7CgkJCQlpZiAoJGZpbGUgIT0gJycpIHsKCQkJCQkkbG9jYWxGaWxlID0gc3RyX3JlcGxhY2UoJGZvbGRlciwgIiIsICRmaWxlKTsKICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhbEZpbGUgPSBydHJpbSgkb3V0UGF0aCxESVJFQ1RPUllfU0VQQVJBVE9SKSAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiBsdHJpbSgkbG9jYWxGaWxlLERJUkVDVE9SWV9TRVBBUkFUT1IpOwoK'));
	@fwrite($fp, base64_decode('CQkJCQllY2hvICJSZW1vdmVkIGZpbGU6ICRmaWxlXG4iOwoJCQkJCWZsdXNoKCk7CgoJCQkJCWlmICghJHByZXZpZXcpIHsKCQkJCQkJQHVubGluaygkbG9jYWxGaWxlKTsKCQkJCQkJaWYgKGZpbGVfZXhpc3RzKCRsb2NhbEZpbGUpKSB7CgkJCQkJCQkkZXJyb3Jz'));
	@fwrite($fp, base64_decode('X2hhcHBlbmVkID0gdHJ1ZTsKCQkJCQkJCWVjaG8gIj0+IEZBSUxFRFxuIjsKCQkJCQkJCWZsdXNoKCk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIFJlbW92ZSBkaXJzCgkJCS8vIENoYW5nZWQgYnkgRGFuaWVsIE1hcnNjaGFsbDogbW92ZWQgdGhp'));
	@fwrite($fp, base64_decode('cyB0byB0aGUgZW5kLCBiZWNhdXNlICJhZGQvdXBkYXRlIiByZXF1ZXN0cyBmb3IgdGhpcyBkaXJlY3RvcnkgbWlnaHQgaGFwcGVuIGJlZm9yZSB0aGUgZGlyZWN0b3J5IGdldHMgcmVtb3ZlZAoJCQlmb3JlYWNoICgkb2JqZWN0c19saXN0WydkaXJzRGVsZXRlJ10g'));
	@fwrite($fp, base64_decode('YXMgJGZpbGUpIHsKCQkJCWlmICgkZmlsZSAhPSAnJykgewoJCQkJCSRsb2NhbFBhdGggPSBzdHJfcmVwbGFjZSgkZm9sZGVyLCAiIiwgJGZpbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2FsUGF0aCA9IHJ0cmltKCRvdXRQ'));
	@fwrite($fp, base64_decode('YXRoLERJUkVDVE9SWV9TRVBBUkFUT1IpIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuIGx0cmltKCRsb2NhbFBhdGgsRElSRUNUT1JZX1NFUEFSQVRPUik7CgoJCQkJCWVjaG8gIlJlbW92ZWQgZGlyZWN0b3J5OiAkZmlsZVxuIjsKCQkJCQlmbHVzaCgpOwoKCQkJCQlp'));
	@fwrite($fp, base64_decode('ZiAoISRwcmV2aWV3KSB7CgkJCQkJCSR0aGlzLT5yZW1vdmVEaXJzKCRsb2NhbFBhdGgpOwoJCQkJCQlpZiAoaXNfZGlyKCRsb2NhbFBhdGgpKSB7CgkJCQkJCQkkZXJyb3JzX2hhcHBlbmVkID0gdHJ1ZTsKCQkJCQkJCWVjaG8gIj0+IEZBSUxFRFxuIjsKCQkJCQkJ'));
	@fwrite($fp, base64_decode('CWZsdXNoKCk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vVXBkYXRlIHZlcnNpb24gZmlsZQoJCQkvLyBDaGFuZ2VkIGJ5IERhbmllbCBNYXJzY2hhbGw6IEFkZGVkICRlcnJvcnNfaGFwcGVuZWQKCQkJaWYgKCEkcHJldmlldyAmJiAhZW1wdHkoJHZl'));
	@fwrite($fp, base64_decode('cnNpb25fZmlsZSkpIHsKCQkJCWlmICghJGVycm9yc19oYXBwZW5lZCkgewoJCQkJCWlmIChAZmlsZV9wdXRfY29udGVudHMoJHZlcnNpb25fZmlsZSwgIlJldmlzaW9uICIgLiAkdGhpcy0+YWN0VmVyc2lvbiAuICJcbiIpID09PSBmYWxzZSkgewoJCQkJCQllY2hv'));
	@fwrite($fp, base64_decode('ICJFUlJPUjogQ291bGQgbm90IHNldCB0aGUgcmV2aXNpb25cbiI7CgkJCQkJCWZsdXNoKCk7CgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9IGVsc2UgewoJCQkJCQllY2hvICJTZXQgcmV2aXNpb24gdG8gIiAuICR0aGlzLT5hY3RWZXJzaW9uIC4gIlxuIjsKCQkJ'));
	@fwrite($fp, base64_decode('CQkJZmx1c2goKTsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQllY2hvICJSZXZpc2lvbiBOT1Qgc2V0IHRvICIgLiAkdGhpcy0+YWN0VmVyc2lvbiAuICIgYmVjYXVzZSBzb21lIGZpbGVzL2RpcnMgY291bGQgbm90IGJlIHVwZGF0'));
	@fwrite($fp, base64_decode('ZWQuIFBsZWFzZSB0cnkgYWdhaW4uXG4iOwoJCQkJCWZsdXNoKCk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9Cgl9CgoJLyoqCgkgKiAgcmF3RGlyZWN0b3J5RHVtcAoJICoKCSAqIER1bXBzIFNW'));
	@fwrite($fp, base64_decode('TiBkYXRhIGZvciAkZm9sZGVyIGluIHRoZSB2ZXJzaW9uICR2ZXJzaW9uIG9mIHRoZSByZXBvc2l0b3J5LgoJICoKCSAqICBAcGFyYW0gc3RyaW5nICAkZm9sZGVyIEZvbGRlciB0byBnZXQgZGF0YQoJICogIEBwYXJhbSBpbnRlZ2VyICR2ZXJzaW9uIFJlcG9zaXRv'));
	@fwrite($fp, base64_decode('cnkgdmVyc2lvbiwgLTEgbWVhbnMgYWN0dWFsCgkgKiAgQHJldHVybiBhcnJheSBTVk4gZGF0YSBkdW1wLgoJICovCglwcml2YXRlIGZ1bmN0aW9uIHJhd0RpcmVjdG9yeUR1bXAoJGZvbGRlciA9ICcvdHJ1bmsvJywgJHZlcnNpb24gPSAtMSkKCXsKCQlpZiAoJHZl'));
	@fwrite($fp, base64_decode('cnNpb24gPT0gLTEgfHwgJHZlcnNpb24gPiAkdGhpcy0+YWN0VmVyc2lvbikgewoJCQkkdmVyc2lvbiA9ICR0aGlzLT5hY3RWZXJzaW9uOwoJCX0KCQkkdXJsID0gJHRoaXMtPmNsZWFuVVJMKCR0aGlzLT5fdXJsIC4gIi8hc3ZuL2JjLyIgLiAkdmVyc2lvbiAuICIv'));
	@fwrite($fp, base64_decode('IiAuICRmb2xkZXIgLiAiLyIpOwoJCSR0aGlzLT5pbml0UXVlcnkoJGFyZ3MsICJQUk9QRklORCIsICR1cmwpOwoJCSRhcmdzWydCb2R5J10gICAgICAgICAgICAgICAgICAgICAgPSBQSFBTVk5fTk9STUFMX1JFUVVFU1Q7CgkJJGFyZ3NbJ0hlYWRlcnMnXVsnQ29u'));
	@fwrite($fp, base64_decode('dGVudC1MZW5ndGgnXSA9IHN0cmxlbihQSFBTVk5fTk9STUFMX1JFUVVFU1QpOwoKCQlpZiAoISR0aGlzLT5SZXF1ZXN0KCRhcmdzLCAkaGVhZGVycywgJGJvZHkpKQoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJDYW5ub3QgZ2V0IHJhd0RpcmVjdG9yeUR1bXAgKFJl'));
	@fwrite($fp, base64_decode('cXVlc3QgZmFpbGVkKSIpOwoKCQlyZXR1cm4gJHRoaXMtPnhtbFBhcnNlKCRib2R5KTsKCX0KCgkvKioKCSAqICBnZXREaXJlY3RvcnlGaWxlcwoJICoKCSAqICBSZXR1cm5zIGFsbCB0aGUgZmlsZXMgaW4gJGZvbGRlciBpbiB0aGUgdmVyc2lvbiAkdmVyc2lvbiBv'));
	@fwrite($fp, base64_decode('ZgoJICogIHRoZSByZXBvc2l0b3J5LgoJICoKCSAqICBAcGFyYW0gc3RyaW5nICAkZm9sZGVyIEZvbGRlciB0byBnZXQgZmlsZXMKCSAqICBAcGFyYW0gaW50ZWdlciAkdmVyc2lvbiBSZXBvc2l0b3J5IHZlcnNpb24sIC0xIG1lYW5zIGFjdHVhbAoJICogIEByZXR1'));
	@fwrite($fp, base64_decode('cm4gYXJyYXkgTGlzdCBvZiBmaWxlcy4KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXREaXJlY3RvcnlGaWxlcygkZm9sZGVyID0gJy90cnVuay8nLCAkdmVyc2lvbiA9IC0xKQoJewoJCWlmICgkYXJyT3V0cHV0ID0gJHRoaXMtPnJhd0RpcmVjdG9yeUR1bXAoJGZv'));
	@fwrite($fp, base64_decode('bGRlciwgJHZlcnNpb24pKSB7CgkJCSRmaWxlcyA9IGFycmF5KCk7CgkJCWZvcmVhY2ggKCRhcnJPdXRwdXRbJ2NoaWxkcmVuJ10gYXMgJGtleSA9PiAkdmFsdWUpIHsKCQkJCWFycmF5X3dhbGtfcmVjdXJzaXZlKCR2YWx1ZSwKCQkJCQlmdW5jdGlvbiAoJGl0ZW0s'));
	@fwrite($fp, base64_decode('ICRrZXkpIHsKCQkJCQkJaWYgKCRrZXkgPT0gJ25hbWUnKSB7CgkJCQkJCQlpZiAoKCRpdGVtID09ICdEOkhSRUYnKSB8fCAoJGl0ZW0gPT0gJ0xQMTpHRVRMQVNUTU9ESUZJRUQnKSB8fCAoJGl0ZW0gPT0gJ0xQMTpWRVJTSU9OLU5BTUUnKSB8fCAoJGl0ZW0gPT0g'));
	@fwrite($fp, base64_decode('J0xQMjpCQVNFTElORS1SRUxBVElWRS1QQVRIJykgfHwgKCRpdGVtID09ICdMUDM6QkFTRUxJTkUtUkVMQVRJVkUtUEFUSCcpIHx8ICgkaXRlbSA9PSAnRDpTVEFUVVMnKSkgewoJCQkJCQkJCSR0aGlzLT5sYXN0RGlyZWN0b3J5RmlsZXMgPSAkaXRlbTsKCQkJCQkJ'));
	@fwrite($fp, base64_decode('CX0KCQkJCQkJfSBlbHNlaWYgKCgka2V5ID09ICd0YWdEYXRhJykgJiYgKCR0aGlzLT5sYXN0RGlyZWN0b3J5RmlsZXMgIT0gJycpKSB7CgoJCQkJCQkJLy8gVW5zdXJlIGlmIHRoZSAxc3Qgb2YgdHdvIEQ6SFJFRidzIGFsd2F5cyByZXR1cm5zIHRoZSByZXN1bHQg'));
	@fwrite($fp, base64_decode('d2Ugd2FudCwgYnV0IGZvciBub3cuLi4KCQkJCQkJCWlmICgoJHRoaXMtPmxhc3REaXJlY3RvcnlGaWxlcyA9PSAnRDpIUkVGJykgJiYgKGlzc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWyd0eXBlJ10pKSkKCQkJCQkJCQlyZXR1cm47CgoJCQkJCQkJLy8g'));
	@fwrite($fp, base64_decode('RHVtcCBpbnRvIHRoZSBhcnJheQoJCQkJCQkJc3dpdGNoICgkdGhpcy0+bGFzdERpcmVjdG9yeUZpbGVzKSB7CgkJCQkJCQkJY2FzZSAnRDpIUkVGJzoKCQkJCQkJCQkJJHZhciA9ICd0eXBlJzsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAnTFAxOlZFUlNJ'));
	@fwrite($fp, base64_decode('T04tTkFNRSc6CgkJCQkJCQkJCSR2YXIgPSAndmVyc2lvbic7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgJ0xQMTpHRVRMQVNUTU9ESUZJRUQnOgoJCQkJCQkJCQkkdmFyID0gJ2xhc3QtbW9kJzsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAnTFAy'));
	@fwrite($fp, base64_decode('OkJBU0VMSU5FLVJFTEFUSVZFLVBBVEgnOgoJCQkJCQkJCWNhc2UgJ0xQMzpCQVNFTElORS1SRUxBVElWRS1QQVRIJzoKCQkJCQkJCQkJJHZhciA9ICdwYXRoJzsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAnRDpTVEFUVVMnOgoJCQkJCQkJCQkkdmFyID0g'));
	@fwrite($fp, base64_decode('J3N0YXR1cyc7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJfQoJCQkJCQkJJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJHZhcl0gPSAkaXRlbTsKCQkJCQkJCSR0aGlzLT5sYXN0RGlyZWN0b3J5RmlsZXMgICAgICAgID0gJyc7CgoJCQkJCQkJLy8gRGV0ZWN0ICd0'));
	@fwrite($fp, base64_decode('eXBlJyBhcyBlaXRoZXIgYSAnZGlyZWN0b3J5JyBvciAnZmlsZScKCQkJCQkJCWlmICgoaXNzZXQoJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3R5cGUnXSkpICYmIChpc3NldCgkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1snbGFzdC1tb2QnXSkpICYmIChp'));
	@fwrite($fp, base64_decode('c3NldCgkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sncGF0aCddKSkgJiYgKGlzc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWydzdGF0dXMnXSkpKSB7CgkJCQkJCQkJJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3BhdGgnXSA9IHN0cl9yZXBsYWNl'));
	@fwrite($fp, base64_decode('KCcgJywgJyUyMCcsICR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWydwYXRoJ10pOyAvL0hhY2sgdG8gbWFrZSBmaWxlbmFtZXMgd2l0aCBzcGFjZXMgd29yay4KCQkJCQkJCQkkbGVuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID0gc3RybGVuKCR0aGlz'));
	@fwrite($fp, base64_decode('LT5zdG9yZURpcmVjdG9yeUZpbGVzWydwYXRoJ10pOwoJCQkJCQkJCWlmIChzdWJzdHIoJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3R5cGUnXSwgc3RybGVuKCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWyd0eXBlJ10pIC0gJGxlbikgPT0gJHRoaXMtPnN0'));
	@fwrite($fp, base64_decode('b3JlRGlyZWN0b3J5RmlsZXNbJ3BhdGgnXSkgewoJCQkJCQkJCQkkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sndHlwZSddID0gJ2ZpbGUnOwoJCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJCSR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWyd0eXBlJ10gPSAnZGly'));
	@fwrite($fp, base64_decode('ZWN0b3J5JzsKCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkkdGhpcy0+bGFzdERpcmVjdG9yeUZpbGVzID0gJyc7CgkJCQkJCX0KCQkJCQl9CgkJCQkpOwoJCQkJYXJyYXlfcHVzaCgkZmlsZXMsICR0aGlzLT5zdG9yZURpcmVjdG9yeUZp'));
	@fwrite($fp, base64_decode('bGVzKTsKCQkJCXVuc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzKTsKCQkJfQoJCQlyZXR1cm4gJGZpbGVzOwoJCX0KCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiAgZ2V0RGlyZWN0b3J5VHJlZQoJICoKCSAqICBSZXR1cm5zIHRoZSBjb21wbGV0ZSB0'));
	@fwrite($fp, base64_decode('cmVlIG9mIGZpbGVzIGFuZCBkaXJlY3RvcmllcyBpbiAkZm9sZGVyIGZyb20gdGhlCgkgKiAgdmVyc2lvbiAkdmVyc2lvbiBvZiB0aGUgcmVwb3NpdG9yeS4gQ2FuIGFsc28gYmUgdXNlZCB0byBnZXQgdGhlIGluZm8KCSAqICBmb3IgYSBzaW5nbGUgZmlsZSBvciBk'));
	@fwrite($fp, base64_decode('aXJlY3RvcnkuCgkgKgoJICogIEBwYXJhbSBzdHJpbmcgICRmb2xkZXIgRm9sZGVyIHRvIGdldCB0cmVlCgkgKiAgQHBhcmFtIGludGVnZXIgJHZlcnNpb24gUmVwb3NpdG9yeSB2ZXJzaW9uLCAtMSBtZWFucyBjdXJyZW50CgkgKiAgQHBhcmFtIGJvb2xlYW4gJHJl'));
	@fwrite($fp, base64_decode('Y3Vyc2l2ZSBXaGV0aGVyIHRvIGdldCB0aGUgdHJlZSByZWN1cnNpdmVseSwgb3IganVzdAoJICogIHRoZSBzcGVjaWZpZWQgZGlyZWN0b3J5L2ZpbGUuCgkgKgoJICogIEByZXR1cm4gYXJyYXkgTGlzdCBvZiBmaWxlcyBhbmQgZGlyZWN0b3JpZXMuCgkgKi8KCXBy'));
	@fwrite($fp, base64_decode('aXZhdGUgZnVuY3Rpb24gZ2V0RGlyZWN0b3J5VHJlZSgkZm9sZGVyID0gJy90cnVuay8nLCAkdmVyc2lvbiA9IC0xLCAkcmVjdXJzaXZlID0gdHJ1ZSkKCXsKCQkkZGlyZWN0b3J5VHJlZSA9IGFycmF5KCk7CgoJCWlmICghKCRhcnJPdXRwdXQgPSAkdGhpcy0+Z2V0'));
	@fwrite($fp, base64_decode('RGlyZWN0b3J5RmlsZXMoJGZvbGRlciwgJHZlcnNpb24pKSkKCQkJcmV0dXJuIGZhbHNlOwoKCQlpZiAoISRyZWN1cnNpdmUpCgkJCXJldHVybiAkYXJyT3V0cHV0WzBdOwoKCQl3aGlsZSAoY291bnQoJGFyck91dHB1dCkgJiYgaXNfYXJyYXkoJGFyck91dHB1dCkp'));
	@fwrite($fp, base64_decode('IHsKCQkJJGFycmF5ID0gYXJyYXlfc2hpZnQoJGFyck91dHB1dCk7CgoJCQlhcnJheV9wdXNoKCRkaXJlY3RvcnlUcmVlLCAkYXJyYXkpOwoKCQkJaWYgKHRyaW0oJGFycmF5WydwYXRoJ10sICcvJykgPT0gdHJpbSgkZm9sZGVyLCAnLycpKQoJCQkJY29udGludWU7'));
	@fwrite($fp, base64_decode('CgoJCQlpZiAoJGFycmF5Wyd0eXBlJ10gPT0gJ2RpcmVjdG9yeScpIHsKCQkJCSR3YWxrID0gJHRoaXMtPmdldERpcmVjdG9yeUZpbGVzKCRhcnJheVsncGF0aCddLCAkdmVyc2lvbik7CgkJCQlhcnJheV9zaGlmdCgkd2Fsayk7CgoJCQkJZm9yZWFjaCAoJHdhbGsg'));
	@fwrite($fp, base64_decode('YXMgJHN0ZXApIHsKCQkJCQlhcnJheV91bnNoaWZ0KCRhcnJPdXRwdXQsICRzdGVwKTsKCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gJGRpcmVjdG9yeVRyZWU7Cgl9CgoJLyoqCgkgKiAgUmV0dXJucyBmaWxlIGNvbnRlbnRzCgkgKgoJICogIEBwYXJhbQlzdHJpbmcg'));
	@fwrite($fp, base64_decode('ICRmaWxlIEZpbGUgcGF0aG5hbWUKCSAqICBAcGFyYW0JaW50ZWdlcgkkdmVyc2lvbiBGaWxlIFZlcnNpb24KCSAqICBAcmV0dXJuCXN0cmluZwlGaWxlIGNvbnRlbnQgYW5kIGluZm9ybWF0aW9uLCBmYWxzZSBvbiBlcnJvciwgb3IgaWYgYQoJICogICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgIGRpcmVjdG9yeSBpcyByZXF1ZXN0ZWQKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRGaWxlKCRmaWxlLCAkdmVyc2lvbiA9IC0xKQoJewoJCWlmICgkdmVyc2lvbiA9PSAtMSB8fCAkdmVyc2lvbiA+ICR0aGlzLT5hY3RWZXJzaW9uKSB7CgkJCSR2ZXJzaW9u'));
	@fwrite($fp, base64_decode('ID0gJHRoaXMtPmFjdFZlcnNpb247CgkJfQoKCQkvLyBjaGVjayBpZiB0aGlzIGlzIGEgZGlyZWN0b3J5Li4uIGlmIHNvLCByZXR1cm4gZmFsc2UsIG90aGVyd2lzZSB3ZQoJCS8vIGdldCB0aGUgSFRNTCBvdXRwdXQgb2YgdGhlIGRpcmVjdG9yeSBsaXN0aW5nIGZy'));
	@fwrite($fp, base64_decode('b20gdGhlIFNWTiBzZXJ2ZXIuCgkJLy8gVGhpcyBpcyBtYXliZSBhIGJpdCBoZWF2eSBzaW5jZSBpdCBtYWtlcyBhbm90aGVyIGNvbm5lY3Rpb24gdG8gdGhlCgkJLy8gU1ZOIHNlcnZlci4gTWF5YmUgYWRkIHRoaXMgYXMgYW4gb3B0aW9uL3BhcmFtZXRlcj8gRVMg'));
	@fwrite($fp, base64_decode('MjMvMDYvMDgKCQkkZmlsZUluZm8gPSAkdGhpcy0+Z2V0RGlyZWN0b3J5VHJlZSgkZmlsZSwgJHZlcnNpb24sIGZhbHNlKTsKCQlpZiAoJGZpbGVJbmZvWyJ0eXBlIl0gPT0gImRpcmVjdG9yeSIpCgkJCXJldHVybiBmYWxzZTsKCgkJJHVybCA9ICR0aGlzLT5jbGVh'));
	@fwrite($fp, base64_decode('blVSTCgkdGhpcy0+X3VybCAuICIvIXN2bi9iYy8iIC4gJHZlcnNpb24gLiAiLyIgLiAkZmlsZSAuICIvIik7CgkJJHRoaXMtPmluaXRRdWVyeSgkYXJncywgIkdFVCIsICR1cmwpOwoJCWlmICghJHRoaXMtPlJlcXVlc3QoJGFyZ3MsICRoZWFkZXJzLCAkYm9keSkp'));
	@fwrite($fp, base64_decode('CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkNhbm5vdCBjYWxsIGdldEZpbGUgKFJlcXVlc3QgZmFpbGVkKSIpOwoKCQlyZXR1cm4gJGJvZHk7Cgl9CgoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRMb2dzRm9yVXBkYXRlKCRmaWxlLCAkdmluaSA9IDAsICR2ZW5kID0gLTEp'));
	@fwrite($fp, base64_decode('Cgl7CgkJJGZpbGVMb2dzID0gYXJyYXkoKTsKCgkJaWYgKCR2ZW5kID09IC0xKSB7CgkJCSR2ZW5kID0gJHRoaXMtPmFjdFZlcnNpb247CgkJfQoKCQlpZiAoJHZpbmkgPCAwKQoJCQkkdmluaSA9IDA7CgoJCWlmICgkdmluaSA+ICR2ZW5kKSB7CgkJCSR2aW5pID0g'));
	@fwrite($fp, base64_decode('JHZlbmQ7CgkJCWVjaG8gIk5vdGhpbmcgdXBkYXRlZFxuIjsKCQkJZmx1c2goKTsKCQkJcmV0dXJuIG51bGw7CgkJfQoKCQkkdXJsID0gJHRoaXMtPmNsZWFuVVJMKCR0aGlzLT5fdXJsIC4gIi8hc3ZuL2JjLyIgLiAkdGhpcy0+YWN0VmVyc2lvbiAuICIvIiAuICRm'));
	@fwrite($fp, base64_decode('aWxlIC4gIi8iKTsKCQkkdGhpcy0+aW5pdFF1ZXJ5KCRhcmdzLCAiUkVQT1JUIiwgJHVybCk7CgkJJGFyZ3NbJ0JvZHknXSAgICAgICAgICAgICAgICAgICAgICA9IHNwcmludGYoUEhQU1ZOX0xPR1NfUkVRVUVTVCwgJHZpbmksICR2ZW5kKTsKCQkkYXJnc1snSGVh'));
	@fwrite($fp, base64_decode('ZGVycyddWydDb250ZW50LUxlbmd0aCddID0gc3RybGVuKCRhcmdzWydCb2R5J10pOwoJCSRhcmdzWydIZWFkZXJzJ11bJ0RlcHRoJ10gICAgICAgICAgPSAxOwoKCQlpZiAoISR0aGlzLT5SZXF1ZXN0KCRhcmdzLCAkaGVhZGVycywgJGJvZHkpKQoJCQl0aHJvdyBu'));
	@fwrite($fp, base64_decode('ZXcgRXhjZXB0aW9uKCJDYW5ub3QgY2FsbCBnZXRMb2dzRm9yVXBkYXRlIChSZXF1ZXN0IGZhaWxlZCkiKTsKCgkJJGFyck91dHB1dCA9ICR0aGlzLT54bWxQYXJzZSgkYm9keSk7CgoJCSRyZXZsb2dzID0gYXJyYXkoKTsKCgkJJGFycmF5ID0gYXJyYXkoKTsKCQlm'));
	@fwrite($fp, base64_decode('b3JlYWNoICgkYXJyT3V0cHV0WydjaGlsZHJlbiddIGFzICR2YWx1ZSkgewoJCQkvKgogICAgICAgICAgICAgICAgICAgICAgICA8Uzpsb2ctaXRlbT4KCQkJPEQ6dmVyc2lvbi1uYW1lPjE2NDwvRDp2ZXJzaW9uLW5hbWU+CgkJCTxTOmRhdGU+MjAxOS0wOC0xM1Qx'));
	@fwrite($fp, base64_decode('MzoxMjoxMy45MTU5MjBaPC9TOmRhdGU+CgkJCTxEOmNvbW1lbnQ+VXBkYXRlIGFzc2lzdGFudCBidWdmaXg8L0Q6Y29tbWVudD4KCQkJPEQ6Y3JlYXRvci1kaXNwbGF5bmFtZT5kYW5pZWwtbWFyc2NoYWxsPC9EOmNyZWF0b3ItZGlzcGxheW5hbWU+CgkJCTxTOm1v'));
	@fwrite($fp, base64_decode('ZGlmaWVkLXBhdGggbm9kZS1raW5kPSJmaWxlIiB0ZXh0LW1vZHM9InRydWUiIHByb3AtbW9kcz0iZmFsc2UiPi90cnVuay91cGRhdGUvaW5kZXgucGhwPC9TOm1vZGlmaWVkLXBhdGg+CgkJCTxTOm1vZGlmaWVkLXBhdGggbm9kZS1raW5kPSJmaWxlIiB0ZXh0LW1v'));
	@fwrite($fp, base64_decode('ZHM9InRydWUiIHByb3AtbW9kcz0iZmFsc2UiPi90cnVuay91cGRhdGUvcGhwc3ZuY2xpZW50LmluYy5waHA8L1M6bW9kaWZpZWQtcGF0aD4KCQkJPC9TOmxvZy1pdGVtPgoJCQkqLwoKCQkJJHZlcnNpb25OYW1lID0gJyc7CgkJCSRkYXRlID0gJyc7CgkJCSRjb21t'));
	@fwrite($fp, base64_decode('ZW50ID0gJyc7CgkJCWZvcmVhY2ggKCR2YWx1ZVsnY2hpbGRyZW4nXSBhcyAkZW50cnkpIHsKCQkJCWlmICgoJGVudHJ5WyduYW1lJ10gPT0gJ1M6QURERUQtUEFUSCcpIHx8ICgkZW50cnlbJ25hbWUnXSA9PSAnUzpNT0RJRklFRC1QQVRIJykgfHwgKCRlbnRyeVsn'));
	@fwrite($fp, base64_decode('bmFtZSddID09ICdTOkRFTEVURUQtUEFUSCcpKSB7CgkJCQkJaWYgKCRlbnRyeVsnYXR0cnMnXVsnTk9ERS1LSU5EJ10gPT0gImZpbGUiKSB7CgkJCQkJCSRhcnJheVsnb2JqZWN0cyddW10gPSBhcnJheSgKCQkJCQkJCSdvYmplY3RfbmFtZScgPT4gJGVudHJ5Wyd0'));
	@fwrite($fp, base64_decode('YWdEYXRhJ10sCgkJCQkJCQknYWN0aW9uJyA9PiAkZW50cnlbJ25hbWUnXSwKCQkJCQkJCSd0eXBlJyA9PiAnZmlsZScKCQkJCQkJKTsKCQkJCQl9IGVsc2UgaWYgKCRlbnRyeVsnYXR0cnMnXVsnTk9ERS1LSU5EJ10gPT0gImRpciIpIHsKCQkJCQkJJGFycmF5Wydv'));
	@fwrite($fp, base64_decode('YmplY3RzJ11bXSA9IGFycmF5KAoJCQkJCQkJJ29iamVjdF9uYW1lJyA9PiAkZW50cnlbJ3RhZ0RhdGEnXSwKCQkJCQkJCSdhY3Rpb24nID0+ICRlbnRyeVsnbmFtZSddLAoJCQkJCQkJJ3R5cGUnID0+ICdkaXInCgkJCQkJCSk7CgkJCQkJfQoJCQkJfSBlbHNlIGlm'));
	@fwrite($fp, base64_decode('ICgkZW50cnlbJ25hbWUnXSA9PSAnRDpWRVJTSU9OLU5BTUUnKSB7CgkJCQkJJHZlcnNpb25OYW1lID0gaXNzZXQoJGVudHJ5Wyd0YWdEYXRhJ10pID8gJGVudHJ5Wyd0YWdEYXRhJ10gOiAnJzsKCQkJCX0gZWxzZSBpZiAoJGVudHJ5WyduYW1lJ10gPT0gJ1M6REFU'));
	@fwrite($fp, base64_decode('RScpIHsKCQkJCQkkZGF0ZSA9IGlzc2V0KCRlbnRyeVsndGFnRGF0YSddKSA/ICRlbnRyeVsndGFnRGF0YSddIDogJyc7CgkJCQl9IGVsc2UgaWYgKCRlbnRyeVsnbmFtZSddID09ICdEOkNPTU1FTlQnKSB7CgkJCQkJJGNvbW1lbnQgPSBpc3NldCgkZW50cnlbJ3Rh'));
	@fwrite($fp, base64_decode('Z0RhdGEnXSkgPyAkZW50cnlbJ3RhZ0RhdGEnXSA6ICcnOwoJCQkJfSBlbHNlIGlmICgkZW50cnlbJ25hbWUnXSA9PSAnRDpDUkVBVE9SLURJU1BMQVlOQU1FJykgewoJCQkJCSRjcmVhdG9yID0gaXNzZXQoJGVudHJ5Wyd0YWdEYXRhJ10pID8gJGVudHJ5Wyd0YWdE'));
	@fwrite($fp, base64_decode('YXRhJ10gOiAnJzsKCQkJCX0KCQkJfQogICAgICAgICAgICAgICAgICAgICAgICAkcmV2bG9nc1tdID0gYXJyYXkoJ3ZlcnNpb25OYW1lJyA9PiAkdmVyc2lvbk5hbWUsCgkJCSAgICAgICAgICAgICAgICAgICAnZGF0ZScgPT4gJGRhdGUsCgkJCQkJICAgJ2NvbW1l'));
	@fwrite($fp, base64_decode('bnQnID0+ICRjb21tZW50LAoJCQkJCSAgICdjcmVhdG9yJyA9PiAkY3JlYXRvcik7CgkJfQoJCSRmaWxlcyAgICAgICA9ICIiOwoJCSRmaWxlc0RlbGV0ZSA9ICIiOwoJCSRkaXJzICAgICAgICA9ICIiOwoJCSRkaXJzRGVsZXRlICA9ICIiOwoKCQlmb3JlYWNoICgk'));
	@fwrite($fp, base64_decode('YXJyYXlbJ29iamVjdHMnXSBhcyAkb2JqZWN0cykgewoJCQlpZiAoJG9iamVjdHNbJ3R5cGUnXSA9PSAiZmlsZSIpIHsKCQkJCWlmICgkb2JqZWN0c1snYWN0aW9uJ10gPT0gIlM6QURERUQtUEFUSCIgfHwgJG9iamVjdHNbJ2FjdGlvbiddID09ICJTOk1PRElGSUVE'));
	@fwrite($fp, base64_decode('LVBBVEgiKSB7CgkJCQkJJGZpbGUgPSAkb2JqZWN0c1snb2JqZWN0X25hbWUnXSAuICIvKisrKyovIjsKCQkJCQkkZmlsZXMgLj0gJGZpbGU7CgkJCQkJJGZpbGVzRGVsZXRlID0gc3RyX3JlcGxhY2UoJGZpbGUsICIiLCAkZmlsZXNEZWxldGUsICRjb3VudCk7CgkJ'));
	@fwrite($fp, base64_decode('CQl9CgkJCQlpZiAoJG9iamVjdHNbJ2FjdGlvbiddID09ICJTOkRFTEVURUQtUEFUSCIpIHsKCQkJCQlpZiAoc3RycG9zKCRmaWxlcywgJG9iamVjdHNbJ29iamVjdF9uYW1lJ10pICE9PSBmYWxzZSkgewoJCQkJCQkkZmlsZSAgPSAkb2JqZWN0c1snb2JqZWN0X25h'));
	@fwrite($fp, base64_decode('bWUnXSAuICIvKisrKyovIjsKCQkJCQkJJGNvdW50ID0gMTsKCQkJCQkJJGZpbGVzID0gc3RyX3JlcGxhY2UoJGZpbGUsICIiLCAkZmlsZXMsICRjb3VudCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJGZpbGVzRGVsZXRlIC49ICRvYmplY3RzWydvYmplY3RfbmFtZSdd'));
	@fwrite($fp, base64_decode('IC4gIi8qKysrKi8iOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQlpZiAoJG9iamVjdHNbJ3R5cGUnXSA9PSAiZGlyIikgewoJCQkJaWYgKCRvYmplY3RzWydhY3Rpb24nXSA9PSAiUzpBRERFRC1QQVRIIiB8fCAkb2JqZWN0c1snYWN0aW9uJ10gPT0gIlM6TU9ESUZJRUQt'));
	@fwrite($fp, base64_decode('UEFUSCIpIHsKCQkJCQkkZGlyID0gJG9iamVjdHNbJ29iamVjdF9uYW1lJ10gLiAiLyorKysqLyI7CgkJCQkJJGRpcnMgLj0gJGRpcjsKCQkJCQkkZGlyc0RlbGV0ZSA9IHN0cl9yZXBsYWNlKCRkaXIsICIiLCAkZGlyc0RlbGV0ZSwgJGNvdW50KTsKCQkJCX0KCQkJ'));
	@fwrite($fp, base64_decode('CWlmICgkb2JqZWN0c1snYWN0aW9uJ10gPT0gIlM6REVMRVRFRC1QQVRIIikgewoJCQkJCS8vIERlbGV0ZSBmaWxlcyBmcm9tIGZpbGVsaXN0CgkJCQkJJGRpciAgICA9ICRvYmplY3RzWydvYmplY3RfbmFtZSddIC4gIi8iOwoJCQkJCSRmaWxlczEgPSBleHBsb2Rl'));
	@fwrite($fp, base64_decode('KCIvKisrKyovIiwgJGZpbGVzKTsKCQkJCQlmb3IgKCR4ID0gMDsgJHggPCBjb3VudCgkZmlsZXMxKTsgJHgrKykgewoJCQkJCQlpZiAoc3RycG9zKCRmaWxlczFbJHhdLCAkZGlyKSAhPT0gZmFsc2UpIHsKCQkJCQkJCXVuc2V0KCRmaWxlczFbJHhdKTsKCQkJCQkJ'));
	@fwrite($fp, base64_decode('fQoJCQkJCX0KCQkJCQkkZmlsZXMgPSBpbXBsb2RlKCIvKisrKyovIiwgJGZpbGVzMSk7CgkJCQkJLy8gRU5EIE9GIERlbGV0ZSBmaWxlcyBmcm9tIGZpbGVsaXN0CgkJCQkJLy8gRGVsZXRlIGRpcnMgZnJvbSBkaXJzbGlzdAoJCQkJCWlmIChzdHJwb3MoJGRpcnMs'));
	@fwrite($fp, base64_decode('ICRvYmplY3RzWydvYmplY3RfbmFtZSddKSAhPT0gZmFsc2UpIHsKCQkJCQkJJGRpciAgID0gJG9iamVjdHNbJ29iamVjdF9uYW1lJ10gLiAiLyorKysqLyI7CgkJCQkJCSRjb3VudCA9IDE7CgkJCQkJCSRkaXJzICA9IHN0cl9yZXBsYWNlKCRkaXIsICIiLCAkZGly'));
	@fwrite($fp, base64_decode('cywgJGNvdW50KTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkZGlyc0RlbGV0ZSAuPSAkb2JqZWN0c1snb2JqZWN0X25hbWUnXSAuICIvKisrKyovIjsKCQkJCQl9CgkJCQkJLy8gRU5EIE9GIERlbGV0ZSBkaXJzIGZyb20gZGlyc2xpc3QKCQkJCX0KCQkJfQoJCX0KCQkk'));
	@fwrite($fp, base64_decode('ZmlsZXMgICAgICAgICAgICAgID0gZXhwbG9kZSgiLyorKysqLyIsICRmaWxlcyk7CgkJJGZpbGVzRGVsZXRlICAgICAgICA9IGV4cGxvZGUoIi8qKysrKi8iLCAkZmlsZXNEZWxldGUpOwoJCSRkaXJzICAgICAgICAgICAgICAgPSBleHBsb2RlKCIvKisrKyovIiwg'));
	@fwrite($fp, base64_decode('JGRpcnMpOwoJCSRkaXJzRGVsZXRlICAgICAgICAgPSBleHBsb2RlKCIvKisrKyovIiwgJGRpcnNEZWxldGUpOwoJCSRvdXQgICAgICAgICAgICAgICAgPSBhcnJheSgpOwoJCSRvdXRbJ2ZpbGVzJ10gICAgICAgPSAkZmlsZXM7CgkJJG91dFsnZmlsZXNEZWxldGUn'));
	@fwrite($fp, base64_decode('XSA9ICRmaWxlc0RlbGV0ZTsKCQkkb3V0WydkaXJzJ10gICAgICAgID0gJGRpcnM7CgkJJG91dFsnZGlyc0RlbGV0ZSddICA9ICRkaXJzRGVsZXRlOwoJCSRvdXRbJ3JldmlzaW9ucyddICAgPSAkcmV2bG9nczsKCQlyZXR1cm4gJG91dDsKCX0KCgkvKioKCSAqICBS'));
	@fwrite($fp, base64_decode('ZXR1cm5zIHRoZSByZXBvc2l0b3J5IHZlcnNpb24KCSAqCgkgKiAgQHJldHVybiBpbnRlZ2VyIFJlcG9zaXRvcnkgdmVyc2lvbgoJICogIEBhY2Nlc3MgcHVibGljCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRWZXJzaW9uKCkKCXsKCQlpZiAoJHRoaXMtPl9yZXBW'));
	@fwrite($fp, base64_decode('ZXJzaW9uID4gMCkKCQkJcmV0dXJuICR0aGlzLT5fcmVwVmVyc2lvbjsKCgkJJHRoaXMtPl9yZXBWZXJzaW9uID0gLTE7CgkJJHRoaXMtPmluaXRRdWVyeSgkYXJncywgIlBST1BGSU5EIiwgJHRoaXMtPmNsZWFuVVJMKCR0aGlzLT5fdXJsIC4gIi8hc3ZuL3ZjYy9k'));
	@fwrite($fp, base64_decode('ZWZhdWx0IikpOwoJCSRhcmdzWydCb2R5J10gICAgICAgICAgICAgICAgICAgICAgPSBQSFBTVk5fVkVSU0lPTl9SRVFVRVNUOwoJCSRhcmdzWydIZWFkZXJzJ11bJ0NvbnRlbnQtTGVuZ3RoJ10gPSBzdHJsZW4oUEhQU1ZOX05PUk1BTF9SRVFVRVNUKTsKCQkkYXJn'));
	@fwrite($fp, base64_decode('c1snSGVhZGVycyddWydEZXB0aCddICAgICAgICAgID0gMDsKCgkJaWYgKCEkdGhpcy0+UmVxdWVzdCgkYXJncywgJHRtcCwgJGJvZHkpKQoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJDYW5ub3QgZ2V0IHJlcG9zaXRvcnkgcmV2aXNpb24gKFJlcXVlc3QgZmFpbGVk'));
	@fwrite($fp, base64_decode('KSIpOwoKCQkkdGhpcy0+X3JlcFZlcnNpb24gPSBudWxsOwoJCWlmIChwcmVnX21hdGNoKCdALyhcZCspXHMqPC9EOmhyZWY+QGlzbVUnLCAkYm9keSwgJG0pKSB7CgkJCSR0aGlzLT5fcmVwVmVyc2lvbiA9ICRtWzFdOwoJCX0gZWxzZSB7CgkJCXRocm93IG5ldyBF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24oIkNhbm5vdCBnZXQgcmVwb3NpdG9yeSByZXZpc2lvbiAoUmVnRXggZmFpbGVkKSIpOwoJCX0KCgkJcmV0dXJuICR0aGlzLT5fcmVwVmVyc2lvbjsKCX0KCgkvKioKCSAqICBQcml2YXRlIEZ1bmN0aW9ucwoJICovCgoJLyoqCgkgKiAgUHJlcGFyZSBI'));
	@fwrite($fp, base64_decode('VFRQIENMSUVOVCBvYmplY3QKCSAqCgkgKiAgQHBhcmFtIGFycmF5ICYkYXJndW1lbnRzIEJ5cmVmZXJlbmNlcyB2YXJpYWJsZS4KCSAqICBAcGFyYW0gc3RyaW5nICRtZXRob2QgTWV0aG9kIGZvciB0aGUgcmVxdWVzdCAoR0VULFBPU1QsUFJPUEZJTkQsIFJFUE9S'));
	@fwrite($fp, base64_decode('VCxFVEMpLgoJICogIEBwYXJhbSBzdHJpbmcgJHVybCBVUkwgZm9yIHRoZSBhY3Rpb24uCgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gaW5pdFF1ZXJ5KCYkYXJndW1lbnRzLCAkbWV0aG9kLCAkdXJsKQoJewoJCSRodHRwID0mICR0'));
	@fwrite($fp, base64_decode('aGlzLT5faHR0cDsKCQkkaHR0cC0+R2V0UmVxdWVzdEFyZ3VtZW50cygkdXJsLCAkYXJndW1lbnRzKTsKCQkkYXJndW1lbnRzWyJSZXF1ZXN0TWV0aG9kIl0gICAgICAgICAgID0gJG1ldGhvZDsKCQkkYXJndW1lbnRzWyJIZWFkZXJzIl1bIkNvbnRlbnQtVHlwZSJd'));
	@fwrite($fp, base64_decode('ID0gInRleHQveG1sIjsKCQkkYXJndW1lbnRzWyJIZWFkZXJzIl1bIkRlcHRoIl0gICAgICAgID0gMTsKCX0KCgkvKioKCSAqICBPcGVuIGEgY29ubmVjdGlvbiwgc2VuZCByZXF1ZXN0LCByZWFkIGhlYWRlcgoJICogIGFuZCBib2R5LgoJICoKCSAqICBAcGFyYW0g'));
	@fwrite($fp, base64_decode('QXJyYXkgJGFyZ3MgQ29ubmV0aW9uJ3MgYXJndW1lbnQKCSAqICBAcGFyYW0gQXJyYXkgJiRoZWFkZXJzIEFycmF5IHdpdGggdGhlIGhlYWRlciByZXNwb25zZS4KCSAqICBAcGFyYW0gc3RyaW5nICYkYm9keSBCb2R5IHJlc3BvbnNlLgoJICogIEByZXR1cm4gYm9v'));
	@fwrite($fp, base64_decode('bGVhbiBUcnVlIGlzIHF1ZXJ5IHN1Y2Nlc3MKCSAqICBAYWNjZXNzIHByaXZhdGUKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBSZXF1ZXN0KCRhcmdzLCAmJGhlYWRlcnMsICYkYm9keSkKCXsKCQkkYXJnc1snUmVxdWVzdFVSSSddID0gc3RyX3JlcGxhY2UoJyAnLCAn'));
	@fwrite($fp, base64_decode('JTIwJywgJGFyZ3NbJ1JlcXVlc3RVUkknXSk7IC8vSGFjayB0byBtYWtlIGZpbGVuYW1lcyB3aXRoIHNwYWNlcyB3b3JrLgoJCSRodHRwID0mICR0aGlzLT5faHR0cDsKCQkkaHR0cC0+T3BlbigkYXJncyk7CgkJJGh0dHAtPlNlbmRSZXF1ZXN0KCRhcmdzKTsKCQkk'));
	@fwrite($fp, base64_decode('aHR0cC0+UmVhZFJlcGx5SGVhZGVycygkaGVhZGVycyk7CgkJaWYgKCRodHRwLT5yZXNwb25zZV9zdGF0dXNbMF0gIT0gMikgewoJCQlzd2l0Y2ggKCRodHRwLT5yZXNwb25zZV9zdGF0dXMpIHsKCQkJCWNhc2UgNDA0OgoJCQkJCSR0aGlzLT5lcnJOcm8gPSBOT1Rf'));
	@fwrite($fp, base64_decode('Rk9VTkQ7CgkJCQkJYnJlYWs7CgkJCQljYXNlIDQwMToKCQkJCQkkdGhpcy0+ZXJyTnJvID0gQVVUSF9SRVFVSVJFRDsKCQkJCQlicmVhazsKCQkJCWRlZmF1bHQ6CgkJCQkJJHRoaXMtPmVyck5ybyA9IFVOS05PV05fRVJST1I7CgkJCQkJYnJlYWs7CgkJCX0KCQkJ'));
	@fwrite($fp, base64_decode('Ly8gICAgICAgICAgICB0cmlnZ2VyX2Vycm9yKCJyZXF1ZXN0IHRvICRhcmdzW1JlcXVlc3RVUkldIGZhaWxlZDogJGh0dHAtPnJlc3BvbnNlX3N0YXR1cwoJCQkvL0Vycm9yOiAkaHR0cC0+ZXJyb3IiKTsKCQkJJGh0dHAtPmNsb3NlKCk7CgkJCXJldHVybiBmYWxz'));
	@fwrite($fp, base64_decode('ZTsKCQl9CgkJJHRoaXMtPmVyck5ybyA9IE5PX0VSUk9SOwoJCSRib2R5ICAgICAgICAgPSAnJzsKCQkkdGJvZHkgICAgICAgID0gJyc7CgkJZm9yICg7OykgewoJCQkkZXJyb3IgPSAkaHR0cC0+UmVhZFJlcGx5Qm9keSgkdGJvZHksIDEwMDApOwoJCQlpZiAoJGVy'));
	@fwrite($fp, base64_decode('cm9yICE9ICIiIHx8IHN0cmxlbigkdGJvZHkpID09IDApIHsKCQkJCWJyZWFrOwoJCQl9CgkJCSRib2R5IC49ICgkdGJvZHkpOwoJCX0KCQkkaHR0cC0+Y2xvc2UoKTsKCQlyZXR1cm4gdHJ1ZTsKCX0KCgkvKioKCSAqICBSZXR1cm5zICR1cmwgc3RyaXBwZWQgb2Yg'));
	@fwrite($fp, base64_decode('Jy8vJwoJICoKCSAqICBEZWxldGUgIi8vIiBvbiBVUkwgcmVxdWVzdHMuCgkgKgoJICogIEBwYXJhbSBzdHJpbmcgJHVybCBVUkwKCSAqICBAcmV0dXJuIHN0cmluZyBOZXcgY2xlYW5lZCBVUkwuCgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gY2xlYW5VUkwoJHVybCkKCXsKCQlyZXR1cm4gcHJlZ19yZXBsYWNlKCIvKCheOilcL1wvKS8iLCAiLy8iLCAkdXJsKTsKCX0KCgkvKgoJICBUYWtlbiBmcm9tIGh0dHA6Ly93d3cucGhwLm5ldC9tYW51YWwvZW4vZnVuY3Rpb24ueG1sLXBhcnNlLnBocCM1'));
	@fwrite($fp, base64_decode('MjU2NwoJICBNb2RpZmllZCBieSBNYXJ0aW4gR3VwcHkgPGh0dHA6Ly93d3cuZGVhZHBhbjExMC5jb20vPgoJICBVc2FnZQoJICBHcmFiIHNvbWUgWE1MIGRhdGEsIGVpdGhlciBmcm9tIGEgZmlsZSwgVVJMLCBldGMuIGhvd2V2ZXIgeW91IHdhbnQuCgkgIEFzc3Vt'));
	@fwrite($fp, base64_decode('ZSBzdG9yYWdlIGluICRzdHJZb3VyWE1MOwoJICBDb252ZXJ0ZWQgImNsYXNzIiBpbnRvIGEgc2luZ2xlIGZ1bmN0aW9uIGJ5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAoJICovCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiB4bWxQYXJzZSgkc3RySW5w'));
	@fwrite($fp, base64_decode('dXRYTUwpIHsKCQkkYXJyT3V0cHV0ID0gYXJyYXkoKTsKCgkJJHJlc1BhcnNlciA9IHhtbF9wYXJzZXJfY3JlYXRlKCk7CgkJeG1sX3NldF9lbGVtZW50X2hhbmRsZXIoJHJlc1BhcnNlciwKCQkJZnVuY3Rpb24gLyp0YWdPcGVuKi8oJHBhcnNlciwgJG5hbWUsICRh'));
	@fwrite($fp, base64_decode('dHRycykgdXNlICgmJGFyck91dHB1dCkgewoJCQkJJHRhZyA9IGFycmF5KCJuYW1lIiA9PiAkbmFtZSwgImF0dHJzIiA9PiAkYXR0cnMpOwoJCQkJYXJyYXlfcHVzaCgkYXJyT3V0cHV0LCAkdGFnKTsKCQkJfSwKCQkJZnVuY3Rpb24gLyp0YWdDbG9zZWQqLygkcGFy'));
	@fwrite($fp, base64_decode('c2VyLCAkbmFtZSkgdXNlICgmJGFyck91dHB1dCkgewoJCQkJJGFyck91dHB1dFtjb3VudCgkYXJyT3V0cHV0KSAtIDJdWydjaGlsZHJlbiddW10gPSAkYXJyT3V0cHV0W2NvdW50KCRhcnJPdXRwdXQpIC0gMV07CgkJCQlhcnJheV9wb3AoJGFyck91dHB1dCk7CgkJ'));
	@fwrite($fp, base64_decode('CX0KCQkpOwoJCXhtbF9zZXRfY2hhcmFjdGVyX2RhdGFfaGFuZGxlcigkcmVzUGFyc2VyLAoJCQlmdW5jdGlvbiAvKnRhZ0RhdGEqLygkcGFyc2VyLCAkdGFnRGF0YSkgdXNlICgmJGFyck91dHB1dCkgewoJCQkJaWYgKHRyaW0oJHRhZ0RhdGEpKSB7CgkJCQkJaWYg'));
	@fwrite($fp, base64_decode('KGlzc2V0KCRhcnJPdXRwdXRbY291bnQoJGFyck91dHB1dCkgLSAxXVsndGFnRGF0YSddKSkgewoJCQkJCQkkYXJyT3V0cHV0W2NvdW50KCRhcnJPdXRwdXQpIC0gMV1bJ3RhZ0RhdGEnXSAuPSAkdGFnRGF0YTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkYXJyT3V0cHV0'));
	@fwrite($fp, base64_decode('W2NvdW50KCRhcnJPdXRwdXQpIC0gMV1bJ3RhZ0RhdGEnXSA9ICR0YWdEYXRhOwoJCQkJCX0KCQkJCX0KCQkJfQoJCSk7CgoJCWlmICgheG1sX3BhcnNlKCRyZXNQYXJzZXIsICRzdHJJbnB1dFhNTCkpIHsKCQkJZGllKHNwcmludGYoIlhNTCBlcnJvcjogJXMgYXQg'));
	@fwrite($fp, base64_decode('bGluZSAlZCIsIHhtbF9lcnJvcl9zdHJpbmcoeG1sX2dldF9lcnJvcl9jb2RlKCRyZXNQYXJzZXIpKSwgeG1sX2dldF9jdXJyZW50X2xpbmVfbnVtYmVyKCRyZXNQYXJzZXIpKSk7CgkJfQoKCQl4bWxfcGFyc2VyX2ZyZWUoJHJlc1BhcnNlcik7CgoJCXJldHVybiAk'));
	@fwrite($fp, base64_decode('YXJyT3V0cHV0WzBdOwoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('update/includes/phpsvnclient.class.php')) {
	warn('File has vanished! Will re-create it: update/includes/phpsvnclient.class.php');
	writefile_1();
	if (!is_file('update/includes/phpsvnclient.class.php')) {
		warn('File cannot be created (not existing): update/includes/phpsvnclient.class.php');
	} else if (sha1_file('update/includes/phpsvnclient.class.php') != '67cd04d2f86b8512315747b020f1adfa8db4d01e') {
		warn('File cannot be created (checksum mismatch): update/includes/phpsvnclient.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/includes/phpsvnclient.class.php', 0644)) {
		warn('Could not change file permissions of update/includes/phpsvnclient.class.php');
	}
} else {
	if (@sha1_file('update/includes/phpsvnclient.class.php') !== '67cd04d2f86b8512315747b020f1adfa8db4d01e') {
		if (@sha1_file('update/includes/phpsvnclient.class.php') !== 'ceae04d9db097ec7291ebbc83f1f9a345e04d4de') {
			warn('File was modified. Will overwrite the changes now: update/includes/phpsvnclient.class.php');
			$tmp = pathinfo('update/includes/phpsvnclient.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/includes/phpsvnclient.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('update/includes/phpsvnclient.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('update/includes/phpsvnclient.class.php') !== '67cd04d2f86b8512315747b020f1adfa8db4d01e') {
			warn('File cannot be written (checksum mismatch): update/includes/phpsvnclient.class.php');
		}
	}
}

// Files different: update/index.php
function writefile_2() {
	@$fp = fopen('update/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmRlY2xhcmUodGlja3M9MSk7CgpzZXRfdGltZV9saW1pdCgwKTsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJf'));
	@fwrite($fp, base64_decode('XyAuICcvLi4vaW5jbHVkZXMvY29uZmlnLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaW5jbHVkZXMvcGhwc3ZuY2xpZW50LmNsYXNzLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9odHRwX2NsYXNzLmNsYXNzLnBocCc7'));
	@fwrite($fp, base64_decode('CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy92bmFnX2ZyYW1ld29yay5pbmMucGhwJzsKCmRlZmluZSgnT0lEUExVU19SRVBPJywgJ2h0dHBzOi8vc3ZuLnZpYXRoaW5rc29mdC5jb20vc3ZuL29pZHBsdXMnKTsKCj8+PCFET0NUWVBFIGh0bWw+Cjxo'));
	@fwrite($fp, base64_decode('dG1sIGxhbmc9ImVuIj4KCjxoZWFkPgoJPHRpdGxlPk9JRHBsdXMgVXBkYXRlPC90aXRsZT4KCTxtZXRhIG5hbWU9InJvYm90cyIgY29udGVudD0ibm9pbmRleCI+Cgk8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0'));
	@fwrite($fp, base64_decode('aWFsLXNjYWxlPTEuMCI+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Ii4uL3NldHVwL3NldHVwLmNzcyI+Cgk8P3BocAoJaWYgKFJFQ0FQVENIQV9FTkFCTEVEKSB7Cgk/PgoJPHNjcmlwdCBzcmM9Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hh'));
	@fwrite($fp, base64_decode('L2FwaS5qcyI+PC9zY3JpcHQ+Cgk8P3BocAoJfQoJPz4KPC9oZWFkPgoKPGJvZHk+Cgo8aDE+VXBkYXRlIE9JRHBsdXM8L2gxPgoKPD9waHAKCmlmIChpc3NldCgkX1JFUVVFU1RbJ3VwZGF0ZV9ub3cnXSkpIHsKCWlmIChSRUNBUFRDSEFfRU5BQkxFRCkgewoJCSRz'));
	@fwrite($fp, base64_decode('ZWNyZXQgPSBSRUNBUFRDSEFfUFJJVkFURTsKCQkkcmVzcG9uc2UgPSAkX1BPU1RbImctcmVjYXB0Y2hhLXJlc3BvbnNlIl07CgkJJHZlcmlmeSA9IGZpbGVfZ2V0X2NvbnRlbnRzKCJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkvc2l0ZXZlcmlm'));
	@fwrite($fp, base64_decode('eT9zZWNyZXQ9eyRzZWNyZXR9JnJlc3BvbnNlPXskcmVzcG9uc2V9Iik7CgkJJGNhcHRjaGFfc3VjY2VzcyA9IGpzb25fZGVjb2RlKCR2ZXJpZnkpOwoJfQoJaWYgKFJFQ0FQVENIQV9FTkFCTEVEICYmICgkY2FwdGNoYV9zdWNjZXNzLT5zdWNjZXNzPT1mYWxzZSkp'));
	@fwrite($fp, base64_decode('IHsKCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj48Yj5DQVBUQ0hBIG5vdCBzdWNlc3NmdWxseSB2ZXJpZmllZDwvYj48L2ZvbnQ+PC9wPic7CgkJZWNobyAnPHA+PGEgaHJlZj0iaW5kZXgucGhwIj5UcnkgYWdhaW48L2E+PC9wPic7Cgl9IGVsc2UgewoJCWlm'));
	@fwrite($fp, base64_decode('ICghT0lEcGx1c0F1dGhVdGlsczo6YWRtaW5DaGVja1Bhc3N3b3JkKCRfUkVRVUVTVFsnYWRtaW5fcGFzc3dvcmQnXSkpIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+PGI+V3JvbmcgcGFzc3dvcmQ8L2I+PC9mb250PjwvcD4nOwoJCQllY2hvICc8cD48'));
	@fwrite($fp, base64_decode('YSBocmVmPSJpbmRleC5waHAiPlRyeSBhZ2FpbjwvYT48L3A+JzsKCQl9IGVsc2UgewoJCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudCgnaHR0cHM6Ly9zdm4udmlhdGhpbmtzb2Z0LmNvbS9zdm4vb2lkcGx1cycpOwoJCQkkc3ZuLT52ZXJzaW9uRmlsZSA9ICdvaWRw'));
	@fwrite($fp, base64_decode('bHVzX3ZlcnNpb24udHh0JzsKCQkJZWNobyAnPGgyPlVwZGF0aW5nIC4uLjwvaDI+JzsKCQkJZWNobyAnPHByZT4nOwoJCQkkc3ZuLT51cGRhdGVXb3JraW5nQ29weSgnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgZmFsc2UpOwoJCQllY2hvICc8L3ByZT4nOwoJ'));
	@fwrite($fp, base64_decode('CQllY2hvICc8cD48YSBocmVmPSJpbmRleC5waHAiPkJhY2sgdG8gdXBkYXRlIHBhZ2U8L2E+PC9wPic7CgkJCWVjaG8gJzxocj4nOwoJCX0KCX0KCn0gZWxzZSB7CgoJY2xhc3MgVk5hZ01vbml0b3JEdW1teSBleHRlbmRzIFZOYWcgewoJCXByaXZhdGUgJHN0YXR1'));
	@fwrite($fp, base64_decode('czsKCQlwcml2YXRlICRjb250ZW50OwoKCQlwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHN0YXR1cywgJGNvbnRlbnQpIHsKCQkJcGFyZW50OjpfX2NvbnN0cnVjdCgpOwoJCQkkdGhpcy0+c3RhdHVzID0gJHN0YXR1czsKCQkJJHRoaXMtPmNvbnRlbnQgPSAk'));
	@fwrite($fp, base64_decode('Y29udGVudDsKCQl9CgoJCXByb3RlY3RlZCBmdW5jdGlvbiBjYlJ1bigkb3B0aW9uYWxfYXJncz1hcnJheSgpKSB7CgkJCSR0aGlzLT5zZXRTdGF0dXMoJHRoaXMtPnN0YXR1cyk7CgkJCSR0aGlzLT5zZXRIZWFkbGluZSgkdGhpcy0+Y29udGVudCk7CgkJfQoJfQoK'));
	@fwrite($fp, base64_decode('CT8+CgoJPHA+PHU+VGhlcmUgYXJlIHR3byBwb3NzaWJpbGl0aWVzIGhvdyB0byBrZWVwIE9JRHBsdXMgdXAtdG8tZGF0ZTo8L3U+PC9wPgoKCTxwPjxiPk1ldGhvZCBBPC9iPjogSW5zdGFsbCBPSURwbHVzIHVzaW5nIHRoZSBzdWJ2ZXJzaW9uIHRvb2wgaW4geW91'));
	@fwrite($fp, base64_decode('ciBTU0gvTGludXggc2hlbGwgdXNpbmcgdGhlIGNvbW1hbmQgPGNvZGU+c3ZuIGNvIDw/cGhwIGVjaG8gT0lEUExVU19SRVBPOyA/Pi90cnVuazwvY29kZT4KCWFuZCB1cGRhdGUgaXQgcmVndWxhcmx5IHdpdGggdGhlIGNvbW1hbmQgPGNvZGU+c3ZuIHVwZGF0ZTwv'));
	@fwrite($fp, base64_decode('Y29kZT4gLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseSBkb3dubG9hZCB0aGUgbGF0ZXN0IHZlcnNpb24gYW5kIGFsc28gY2hlY2sgZm9yCgljb25mbGljdHMuIEhpZ2hseSByZWNvbW1lbmRlZCBpZiB5b3UgaGF2ZSBhIFNoZWxsL1NTSCBhY2Nlc3MgdG8geW91ciB3'));
	@fwrite($fp, base64_decode('ZWJzcGFjZSE8L3A+CgoJPHA+PGI+TWV0aG9kIEI6PC9iPiBJbnN0YWxsIE9JRHBsdXMgYnkgZG93bmxvYWRpbmcgYSBaSVAgZmlsZSBmcm9tIHd3dy52aWF0aGlua3NvZnQuY29tLCB3aGljaCBjb250YWlucyBhIFNWTiBzbmFwc2hvdCwgYW5kIGV4dHJhY3QgaXQg'));
	@fwrite($fp, base64_decode('dG8geW91ciB3ZWJzcGFjZS4KCVRoZSBaSVAgZmlsZSBjb250YWlucyBhIGZpbGUgbmFtZWQgIm9pZHBsdXNfdmVyc2lvbi50eHQiIHdoaWNoIGNvbnRhaW5zIHRoZSBTVk4gcmV2aXNpb24gb2YgdGhlIHNuYXBzaG90LiBUaGlzIHVwZGF0ZS10b29sIHdpbGwgdGhl'));
	@fwrite($fp, base64_decode('biB0cnkgdG8gdXBkYXRlIHlvdXIgZmlsZXMKCW9uLXRoZS1mbHkgYnkgZG93bmxvYWRpbmcgdGhlbSBmcm9tIHRoZSBWaWFUaGlua1NvZnQgU1ZOIHJlcG9zaXRvcnkgZGlyZWN0bHkgaW50byB5b3VyIHdlYnNwYWNlIGRpcmVjdG9yeSB1c2luZyBQSFAuIEl0IGlz'));
	@fwrite($fp, base64_decode('IHJlcXVpcmVkIHRoYXQgdGhlIGZpbGVzIG9uIHlvdXIgd2Vic3BhY2UgaGF2ZQoJY3JlYXRlL3dyaXRlL2RlbGV0ZSBwZXJtaXNzaW9ucy4gT25seSByZWNvbW1lbmRlZCBpZiB5b3UgaGF2ZSBubyBhY2Nlc3MgdG8gdGhlIFNTSC9MaW51eCBzaGVsbC48L3A+CgoJ'));
	@fwrite($fp, base64_decode('PGhyPgoKCTw/cGhwCgoJJHN2bl93Y19leGlzdHMgPSBpc19kaXIoX19ESVJfXyAuICcvLi4vLnN2bicpOwoJJHNuYXBzaG90X2V4aXN0cyA9IGZpbGVfZXhpc3RzKF9fRElSX18gLiAnLy4uL29pZHBsdXNfdmVyc2lvbi50eHQnKTsKCglpZiAoJHN2bl93Y19leGlz'));
	@fwrite($fp, base64_decode('dHMgJiYgJHNuYXBzaG90X2V4aXN0cykgewoJCWVjaG8gJzxmb250IGNvbG9yPSJyZWQiPkVSUk9SOiBCb3RoLCBvaWRwbHVzX3ZlcnNpb24udHh0IGFuZCAuc3ZuIGRpcmVjdG9yeSBleGlzdCEgVGhlcmVmb3JlLCB0aGUgdmVyc2lvbiBpcyBhbWJpZ291cyE8L2Zv'));
	@fwrite($fp, base64_decode('bnQ+JzsKCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX0NSSVRJQ0FMLCAiRVJST1I6IEJvdGgsIG9pZHBsdXNfdmVyc2lvbi50eHQgYW5kIC5zdm4gZGlyZWN0b3J5IGV4aXN0ISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGlzIGFtYmln'));
	@fwrite($fp, base64_decode('b3VzISIpOwoJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCSRqb2ItPnJ1bigpOwoJCXVuc2V0KCRqb2IpOwoJfSBlbHNlIGlmICghJHN2bl93Y19leGlzdHMgJiYgISRzbmFwc2hvdF9leGlzdHMpIHsKCQllY2hvICc8Zm9udCBjb2xvcj0icmVk'));
	@fwrite($fp, base64_decode('Ij5FUlJPUjogTmVpdGhlciBvaWRwbHVzX3ZlcnNpb24udHh0LCBub3IgLnN2biBkaXJlY3RvcnkgZXhpc3QhIFRoZXJlZm9yZSwgdGhlIHZlcnNpb24gY2Fubm90IGJlIGRldGVybWluZWQgYW5kIHRoZSB1cGRhdGUgbmVlZHMgdG8gYmUgYXBwbGllZCBtYW51YWxs'));
	@fwrite($fp, base64_decode('eSE8L2ZvbnQ+JzsKCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX0NSSVRJQ0FMLCAiTmVpdGhlciBvaWRwbHVzX3ZlcnNpb24udHh0LCBub3IgLnN2biBkaXJlY3RvcnkgZXhpc3QhIFRoZXJlZm9yZSwgdGhlIHZlcnNpb24gY2Fubm90'));
	@fwrite($fp, base64_decode('IGJlIGRldGVybWluZWQgYW5kIHRoZSB1cGRhdGUgbmVlZHMgdG8gYmUgYXBwbGllZCBtYW51YWxseSEiKTsKCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBmYWxzZTsKCQkkam9iLT5ydW4oKTsKCQl1bnNldCgkam9iKTsKCX0gZWxzZSBpZiAoJHN2bl93Y19l'));
	@fwrite($fp, base64_decode('eGlzdHMpIHsKCQllY2hvICc8cD5Zb3UgYXJlIHVzaW5nIDxiPm1ldGhvZCBBPC9iPiAoU1ZOIHdvcmtpbmcgY29weSkuPC9wPic7CgoJCSRsb2NhbF9pbnN0YWxsYXRpb24gPSBPSURwbHVzOjpnZXRWZXJzaW9uKCk7CgkJJHN2biA9IG5ldyBwaHBzdm5jbGllbnQo'));
	@fwrite($fp, base64_decode('T0lEUExVU19SRVBPKTsKCQkkbmV3ZXN0X3ZlcnNpb24gPSAnc3ZuLScuJHN2bi0+Z2V0VmVyc2lvbigpOwoKCQllY2hvICdMb2NhbCBpbnN0YWxsYXRpb246ICcgLiAkbG9jYWxfaW5zdGFsbGF0aW9uLic8YnI+JzsKCQllY2hvICdMYXRlc3QgcHVibGlzaGVkIHZl'));
	@fwrite($fp, base64_decode('cnNpb246ICcgLiAkbmV3ZXN0X3ZlcnNpb24uJzxicj4nOwoKCQlpZiAoJGxvY2FsX2luc3RhbGxhdGlvbiA9PSAkbmV3ZXN0X3ZlcnNpb24pIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9ImdyZWVuIj5Zb3UgYXJlIGFscmVhZHkgdXNpbmcgdGhlIGxhdGVzdCB2'));
	@fwrite($fp, base64_decode('ZXJzaW9uIG9mIE9JRHBsdXMuPC9mb250PjwvcD4nOwoKCQkJJGpvYiA9IG5ldyBWTmFnTW9uaXRvckR1bW15KFZOYWc6OlNUQVRVU19PSywgIllvdSBhcmUgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIE9JRHBsdXMgKCRsb2NhbF9pbnN0YWxsYXRpb24gbG9j'));
	@fwrite($fp, base64_decode('YWwgLyAkbmV3ZXN0X3ZlcnNpb24gcmVtb3RlKSIpOwoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBmYWxzZTsKCQkJJGpvYi0+cnVuKCk7CgkJCXVuc2V0KCRqb2IpOwoJCX0gZWxzZSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJibHVlIj5QbGVhc2Ug'));
	@fwrite($fp, base64_decode('ZW50ZXIgPGNvZGU+c3ZuIHVwZGF0ZTwvY29kZT4gaW50byB0aGUgU1NIIHNoZWxsIHRvIHVwZGF0ZSBPSURwbHVzIHRvIHRoZSBsYXRlc3QgdmVyc2lvbi48L2ZvbnQ+PC9wPic7CgoJCQllY2hvICc8aDI+UHJldmlldyBvZiB1cGRhdGUgJy4kbG9jYWxfaW5zdGFs'));
	@fwrite($fp, base64_decode('bGF0aW9uLicgPT4gJy4kbmV3ZXN0X3ZlcnNpb24uJzwvaDI+JzsKCQkJJHN2biA9IG5ldyBwaHBzdm5jbGllbnQoT0lEUExVU19SRVBPKTsKCQkJZWNobyAnPHByZT4nOwoJCQkkc3ZuLT51cGRhdGVXb3JraW5nQ29weShzdHJfcmVwbGFjZSgnc3ZuLScsICcnLCAk'));
	@fwrite($fp, base64_decode('bG9jYWxfaW5zdGFsbGF0aW9uKSwgJy90cnVuaycsIGRpcm5hbWUoX19ESVJfXyksIHRydWUpOwoJCQllY2hvICc8L3ByZT4nOwoKCQkJJGpvYiA9IG5ldyBWTmFnTW9uaXRvckR1bW15KFZOYWc6OlNUQVRVU19XQVJOSU5HLCAiT0lEcGx1cyBpcyBvdXRkYXRlZC4g'));
	@fwrite($fp, base64_decode('KCRsb2NhbF9pbnN0YWxsYXRpb24gbG9jYWwgLyAkbmV3ZXN0X3ZlcnNpb24gcmVtb3RlKSIpOwoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBmYWxzZTsKCQkJJGpvYi0+cnVuKCk7CgkJCXVuc2V0KCRqb2IpOwoJCX0KCX0gZWxzZSBpZiAoJHNuYXBzaG90'));
	@fwrite($fp, base64_decode('X2V4aXN0cykgewoJCWVjaG8gJzxwPllvdSBhcmUgdXNpbmcgPGI+bWV0aG9kIEI8L2I+IChTbmFwc2hvdCBaSVAgZmlsZSB3aXRoIG9pZHBsdXNfdmVyc2lvbi50eHQgZmlsZSkuPC9wPic7CgoJCSRsb2NhbF9pbnN0YWxsYXRpb24gPSBPSURwbHVzOjpnZXRWZXJz'));
	@fwrite($fp, base64_decode('aW9uKCk7CgkJJHN2biA9IG5ldyBwaHBzdm5jbGllbnQoT0lEUExVU19SRVBPKTsKCQkkbmV3ZXN0X3ZlcnNpb24gPSAnc3ZuLScuJHN2bi0+Z2V0VmVyc2lvbigpOwoKCQllY2hvICdMb2NhbCBpbnN0YWxsYXRpb246ICcgLiAkbG9jYWxfaW5zdGFsbGF0aW9uLic8'));
	@fwrite($fp, base64_decode('YnI+JzsKCQllY2hvICdMYXRlc3QgcHVibGlzaGVkIHZlcnNpb246ICcgLiAkbmV3ZXN0X3ZlcnNpb24uJzxicj4nOwoKCQlpZiAoJGxvY2FsX2luc3RhbGxhdGlvbiA9PSAkbmV3ZXN0X3ZlcnNpb24pIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9ImdyZWVuIj5Z'));
	@fwrite($fp, base64_decode('b3UgYXJlIGFscmVhZHkgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIE9JRHBsdXMuPC9mb250PjwvcD4nOwoKCQkJJGpvYiA9IG5ldyBWTmFnTW9uaXRvckR1bW15KFZOYWc6OlNUQVRVU19PSywgIllvdSBhcmUgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9m'));
	@fwrite($fp, base64_decode('IE9JRHBsdXMgKCRsb2NhbF9pbnN0YWxsYXRpb24gbG9jYWwgLyAkbmV3ZXN0X3ZlcnNpb24gcmVtb3RlKSIpOwoJCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBmYWxzZTsKCQkJJGpvYi0+cnVuKCk7CgkJCXVuc2V0KCRqb2IpOwoJCX0gZWxzZSB7CgkJCWVj'));
	@fwrite($fp, base64_decode('aG8gJzxwPjxmb250IGNvbG9yPSJibHVlIj5UbyB1cGRhdGUgeW91ciBPSURwbHVzIGluc3RhbGxhdGlvbiwgcGxlYXNlIGVudGVyIHlvdXIgcGFzc3dvcmQgYW5kIGNsaWNrIHRoZSBidXR0b24gIlVwZGF0ZSBOT1ciLjwvZm9udD48L3A+JzsKCQkJZWNobyAnPHA+'));
	@fwrite($fp, base64_decode('PGZvbnQgY29sb3I9InJlZCI+V0FSTklORzogUGxlYXNlIG1ha2UgYSBiYWNrdXAgb2YgeW91ciBmaWxlcyBiZWZvcmUgdXBkYXRpbmcuIEluIGNhc2Ugb2YgYW4gZXJyb3IsIHRoZSBPSURwbHVzIGluc3RhbGxhdGlvbiAoaW5jbHVkaW5nIHRoaXMgdXBkYXRlLWFz'));
	@fwrite($fp, base64_decode('c2lzdGFudCkgbWlnaHQgYmVjb21lIHVuYXZhaWxhYmxlLiBBbHNvLCBzaW5jZSB0aGUgd2ViLXVwZGF0ZSBkb2VzIG5vdCBjb250YWluIGNvbGxpc3Npb24tZGV0ZWN0aW9uLCBjaGFuZ2VzIHlvdSBoYXZlIGFwcGxpZWQgKGxpa2UgYWRkaW5nLCByZW1vdmluZyBv'));
	@fwrite($fp, base64_decode('ciBtb2RpZmllZCBmaWxlcykgbWlnaHQgZ2V0IHJldmVydGVkL2xvc3QhPC9mb250PjwvcD4nOwoJCQllY2hvICc8Zm9ybSBtZXRob2Q9IlBPU1QiIGFjdGlvbj0iaW5kZXgucGhwIj4nOwoKCQkJaWYgKFJFQ0FQVENIQV9FTkFCTEVEKSB7CgkJCQllY2hvICc8bm9z'));
	@fwrite($fp, base64_decode('Y3JpcHQ+JzsKCQkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPllvdSBuZWVkIHRvIGVuYWJsZSBKYXZhU2NyaXB0IHRvIHNvbHZlIHRoZSBDQVBUQ0hBLjwvZm9udD48L3A+JzsKCQkJCWVjaG8gJzwvbm9zY3JpcHQ+JzsKCQkJCWVjaG8gJzxzY3JpcHQ+IGdy'));
	@fwrite($fp, base64_decode('ZWNhcHRjaGEucmVuZGVyKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJnLXJlY2FwdGNoYSIpLCB7ICJzaXRla2V5IiA6ICInLlJFQ0FQVENIQV9QVUJMSUMuJyIgfSk7IDwvc2NyaXB0Pic7CgkJCQllY2hvICc8ZGl2IGlkPSJnLXJlY2FwdGNoYSIgY2xhc3M9Imct'));
	@fwrite($fp, base64_decode('cmVjYXB0Y2hhIiBkYXRhLXNpdGVrZXk9IicuUkVDQVBUQ0hBX1BVQkxJQy4nIj48L2Rpdj4nOwoJCQl9CgoJCQllY2hvICc8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ1cGRhdGVfbm93IiB2YWx1ZT0iMSI+JzsKCQkJZWNobyAnPGlucHV0IHR5cGU9InBhc3N3'));
	@fwrite($fp, base64_decode('b3JkIiBuYW1lPSJhZG1pbl9wYXNzd29yZCI+JzsKCQkJZWNobyAnPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlVwZGF0ZSBOT1ciPic7CgkJCWVjaG8gJzwvZm9ybT4nOwoKCQkJZWNobyAnPGgyPlByZXZpZXcgb2YgdXBkYXRlICcuJGxvY2FsX2luc3RhbGxh'));
	@fwrite($fp, base64_decode('dGlvbi4nID0+ICcuJG5ld2VzdF92ZXJzaW9uLic8L2gyPic7CgkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9JRFBMVVNfUkVQTyk7CgkJCWVjaG8gJzxwcmU+JzsKCQkJJHN2bi0+dXBkYXRlV29ya2luZ0NvcHkoZGlybmFtZShfX0RJUl9fKS4nL29pZHBsdXNf'));
	@fwrite($fp, base64_decode('dmVyc2lvbi50eHQnLCAnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgdHJ1ZSk7CgkJCWVjaG8gJzwvcHJlPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX1dBUk5JTkcsICJPSURwbHVzIGlzIG91dGRhdGVkLiAoJGxvY2Fs'));
	@fwrite($fp, base64_decode('X2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCQkkam9iLT5ydW4oKTsKCQkJdW5zZXQoJGpvYik7CgkJfQoJfQoKCWVjaG8gJzxocj4nOwoKCWVjaG8gJzxw'));
	@fwrite($fp, base64_decode('PjxpbnB1dCB0eXBlPSJidXR0b24iIG9uY2xpY2s9ImRvY3VtZW50LmxvY2F0aW9uPVwnLi4vXCciIHZhbHVlPSJHbyBiYWNrIHRvIE9JRHBsdXMiPjwvcD4nOwoKCWVjaG8gJzxicj48cD5EaWQgeW91IGtub3cgdGhhdCB0aGlzIHBhZ2UgY29udGFpbnMgYW4gaW52'));
	@fwrite($fp, base64_decode('aXNpYmxlIFZOYWcgdGFnPyBZb3UgY2FuIHdhdGNoIHRoaXMgcGFnZSB1c2luZyB0aGUgIndlYnJlYWRlciIgcGx1Z2luIG9mIFZOYWcsIGFuZCB0aGVuIG1vbml0b3IgaXQgd2l0aCBhbnkgTmFnaW9zIGNvbXBhdGlibGUgc29mdHdhcmUhIDxhIGhyZWY9Imh0dHBz'));
	@fwrite($fp, base64_decode('Oi8vd3d3LnZpYXRoaW5rc29mdC5jb20vcHJvamVjdHMvdm5hZyI+TW9yZSBpbmZvcm1hdGlvbjwvYT4uPC9wPic7Cn0KCj8+Cgo8L2JvZHk+CjwvaHRtbD4K'));
	@fclose($fp);
}
if (!is_file('update/index.php')) {
	warn('File has vanished! Will re-create it: update/index.php');
	writefile_2();
	if (!is_file('update/index.php')) {
		warn('File cannot be created (not existing): update/index.php');
	} else if (sha1_file('update/index.php') != '3608c4720a169b4c33fa2cf1a38b987083cdf436') {
		warn('File cannot be created (checksum mismatch): update/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/index.php', 0644)) {
		warn('Could not change file permissions of update/index.php');
	}
} else {
	if (@sha1_file('update/index.php') !== '3608c4720a169b4c33fa2cf1a38b987083cdf436') {
		if (@sha1_file('update/index.php') !== '741839ac5c595825e31b9d85d6cea8ecdd8e52f0') {
			warn('File was modified. Will overwrite the changes now: update/index.php');
			$tmp = pathinfo('update/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('update/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('update/index.php') !== '3608c4720a169b4c33fa2cf1a38b987083cdf436') {
			warn('File cannot be written (checksum mismatch): update/index.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 172\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 172') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

