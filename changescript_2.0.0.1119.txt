<?php /* <ViaThinkSoftSignature>
TyUSp1WgzXr0O6QTKxVfEd0vNeLxpxYYRYBwi/zCdRDz4uZdFuwVQVxWXSA5unTWe
SkEGppUuFtaWhMuwhXY1jNf7lHi4iptHSCb/VYBy9dzp6Ge3wTe0GDZeA3IZoSQVA
i35EI+aeNLxubjskaVVEtFuwkVO8w3iECWm/REp994MLGmmk2InxVOD1EjX4ABRaE
jbwIpJBkqJT3DJxCHcjkX5yzl+MjHBKsHgHB/Zi0ctZ/B3Y8Zwi6qgQ5JfKvDxabG
Sj0kKoXFOPLAN1793FYweyshUPTzHj9DEZ+xjiBr/+sR8A4NNdQLAhgxHbNhl6MZy
NOAzkvSGk/L1u/jSPG+L9c+D4F614MlP38bXTJdaGVNPP6aexK9M6Jncth4JL3/Vg
sVc2IBXz7f/FLHJOHBWnBP8F7RN2UGvteNU2wFcvUE5AutYdEEDbngeQn47DP06jp
28gtlHJ2YLOGNvNPIGEmjigG9FUo3TihsIlhn2fs9uhQPDEWL4kIeu2BqbiqVMk9T
ZqhsG7XIyWOor+AHAQZ9FMFnLdex89r5C0uA8mjDEIEVyXDeCCFNJMG5jjNSFyTcG
oql2Lq4AU0jWzNfwPNKrgEhBb3T/F1NDN+2zNWR3qdGFGsYeOYif9j6aBM62YwMTk
fuQs0MQ/G43Wg7qBy9WOWYWDXrzsVKiV0G/0sB/GntK6N1785/NcvWJuS9xFLrDBI
UUUGK5ZIQ4BY+ZkJund9G7VqXVWTRvaguqXMyUOlmK/Lp1+kUAfNh9Aout9+KbuRy
rlyLSQUoBBbIdqjb01OhJ1xbGaZ7yEBM+Y6V8gLA6tNmk/sJGiMyNseS61375Hc1k
P/bXDNOWBdJCgUHPKiiZJTJOfMF+FbrbOxuNcC12uM6o5wIMlxdaLN8X3/EQTqM+i
QeB5smort7jCFUYsGQ+wxsKLCbk6F0RMEdYBWT60WRq/t2kuUEmwgxb4S66Xb6IgT
g1z81x9/y6u3fdaD5CH1Lpg6N128hKm4kAmRywlv0Mq4d8BSJUqER/531nWYVqqXq
LL+RU7Ln4exLQZXANVxLfxWzNTGj8ZmMUKR41RoBIXlvpQaQ9Up7WfKJdzLbh7uy+
4gfeM23CQfi79CDtF24sJ+2rOnYl0YwpKtVr2cWPJpoxdWhirlQzufUhO7uoy2ixv
2ydptlDnQ8aqoIlkO3h5pewsFO4/zmVjPLByyjZy9GNibgs/CzWPrTzwyveYJbs6o
wyd9NVjF3iSziRqOXfDXMZ3N6YdEjtnuGIiIy3Txj/ZVttlP/6F15Jx1g3StXh5cd
AQ0pX8SbIE1lVWvwj5sueCWWy1HFHsJQsPkLIS25qWwFGM18Fww20T2XWBvGSVCxP
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1118') {
	err('This update can only be applied to OIDplus version 2.0.0.1118!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/classes/OIDplusRA.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusRA.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c1JBIGV4dGVuZHMgT0lEcGx1c0Jhc2VDbGFzcyB7Cglwcml2YXRlICRlbWFpbCA9IG51bGw7CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRlbWFpbAoJICovCglwdWJs'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24gX19jb25zdHJ1Y3Qoc3RyaW5nICRlbWFpbCkgewoJCSR0aGlzLT5lbWFpbCA9ICRlbWFpbDsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByYUVtYWlsKCk6IHN0cmluZyB7CgkJcmV0dXJuICR0aGlz'));
	@fwrite($fp, base64_decode('LT5lbWFpbDsKCX0KCgkvKioKCSAqIEByZXR1cm4gYm9vbAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBleGlzdGluZygpOiBib29sIHsKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBlbWFpbCBm'));
	@fwrite($fp, base64_decode('cm9tICMjI3JhIHdoZXJlIGVtYWlsID0gPyIsIGFycmF5KCR0aGlzLT5lbWFpbCkpOwoJCXJldHVybiAoJHJlcy0+YW55KCkpOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gcmFOYW1lKCk6IHN0cmluZyB7CgkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcmFfbmFtZSBmcm9tICMjI3JhIHdoZXJlIGVtYWlsID0gPyIsIGFycmF5KCR0aGlzLT5lbWFpbCkpOwoJCWlmICghJHJlcy0+YW55KCkpIHJldHVybiBfTCgn'));
	@fwrite($fp, base64_decode('KFJBIG5vdCBpbiBkYXRhYmFzZSknKTsKCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQlyZXR1cm4gJHJvd1sncmFfbmFtZSddID8/ICcnOwoJfQoKCS8qKgoJICogQHJldHVybiBPSURwbHVzUkFbXQoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkg'));
	@fwrite($fp, base64_decode('Ki8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0QWxsUkFzKCk6IGFycmF5IHsKCQkkb3V0ID0gYXJyYXkoKTsKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBlbWFpbCBmcm9tICMjI3JhIik7CgkJd2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRj'));
	@fwrite($fp, base64_decode('aF9hcnJheSgpKSB7CgkJCSRvdXRbXSA9IG5ldyBPSURwbHVzUkEoJHJvd1snZW1haWwnXSA/PyAnJyk7CgkJfQoJCXJldHVybiAkb3V0OwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbmV3X3Bhc3N3b3JkCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3Mg'));
	@fwrite($fp, base64_decode('T0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gY2hhbmdlX3Bhc3N3b3JkKHN0cmluZyAkbmV3X3Bhc3N3b3JkKSB7CgkJJGF1dGhJbmZvID0gT0lEcGx1czo6YXV0aFV0aWxzKCktPnJhR2VuZXJhdGVQYXNzd29yZCgkbmV3X3Bhc3N3b3JkKTsK'));
	@fwrite($fp, base64_decode('CQkkY2FsY19hdXRoa2V5ID0gJGF1dGhJbmZvLT5nZXRBdXRoS2V5KCk7CgkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoInVwZGF0ZSAjIyNyYSBzZXQgYXV0aGtleT0/IHdoZXJlIGVtYWlsID0gPyIsIGFycmF5KCRjYWxjX2F1dGhrZXksICR0aGlzLT5lbWFpbCkpOwoJ'));
	@fwrite($fp, base64_decode('fQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbmV3X2VtYWlsCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gY2hhbmdlX2VtYWlsKHN0cmluZyAkbmV3X2VtYWlsKSB7CgkJT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('ZGIoKS0+cXVlcnkoInVwZGF0ZSAjIyNyYSBzZXQgZW1haWwgPSA/IHdoZXJlIGVtYWlsID0gPyIsIGFycmF5KCRuZXdfZW1haWwsICR0aGlzLT5lbWFpbCkpOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZ3xudWxsICRuZXdfcGFzc3dvcmQKCSAqIEByZXR1cm4g'));
	@fwrite($fp, base64_decode('dm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZWdpc3Rlcl9yYSgvKj9zdHJpbmcqLyAkbmV3X3Bhc3N3b3JkKSB7CgkJaWYgKGlzX251bGwoJG5ld19wYXNzd29yZCkpIHsKCQkJLy8gSW52YWxpZCBwYXNzd29y'));
	@fwrite($fp, base64_decode('ZCAodXNlZCBmb3IgTERBUC9PQXV0aCkKCQkJJGNhbGNfYXV0aGtleSA9ICcnOwoJCX0gZWxzZSB7CgkJCSRhdXRoSW5mbyA9IE9JRHBsdXM6OmF1dGhVdGlscygpLT5yYUdlbmVyYXRlUGFzc3dvcmQoJG5ld19wYXNzd29yZCk7CgkJCSRjYWxjX2F1dGhrZXkgPSAk'));
	@fwrite($fp, base64_decode('YXV0aEluZm8tPmdldEF1dGhLZXkoKTsKCQl9CgoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNyYSAoYXV0aGtleSwgZW1haWwsIHJlZ2lzdGVyZWQsIHJhX25hbWUsIHBlcnNvbmFsX25hbWUsIG9yZ2FuaXphdGlvbiwgb2ZmaWNlLCBzdHJl'));
	@fwrite($fp, base64_decode('ZXQsIHppcF90b3duLCBjb3VudHJ5LCBwaG9uZSwgbW9iaWxlLCBmYXgpIHZhbHVlcyAoPywgPywgIi5PSURwbHVzOjpkYigpLT5zcWxEYXRlKCkuIiwgPywgPywgPywgPywgPywgPywgPywgPywgPywgPykiLCBhcnJheSgkY2FsY19hdXRoa2V5LCAkdGhpcy0+ZW1h'));
	@fwrite($fp, base64_decode('aWwsICIiLCAiIiwgIiIsICIiLCAiIiwgIiIsICIiLCAiIiwgIiIsICIiKSk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIE9JRHBsdXNSQUF1dGhJbmZvfG51bGwKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0QXV0aElu'));
	@fwrite($fp, base64_decode('Zm8oKS8qOiA/T0lEcGx1c1JBQXV0aEluZm8qLyB7CgkJJHJhX3JlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgYXV0aGtleSBmcm9tICMjI3JhIHdoZXJlIGVtYWlsID0gPyIsIGFycmF5KCR0aGlzLT5lbWFpbCkpOwoJCWlmICghJHJhX3Jlcy0+YW55'));
	@fwrite($fp, base64_decode('KCkpIHJldHVybiBudWxsOyAvLyBVc2VyIG5vdCBmb3VuZAoJCSRyYV9yb3cgPSAkcmFfcmVzLT5mZXRjaF9hcnJheSgpOwoKCQlyZXR1cm4gbmV3IE9JRHBsdXNSQUF1dGhJbmZvKCRyYV9yb3dbJ2F1dGhrZXknXSk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5n'));
	@fwrite($fp, base64_decode('ICRwYXNzd29yZAoJICogQHJldHVybiBib29sCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNoZWNrUGFzc3dvcmQoc3RyaW5nICRwYXNzd29yZCk6IGJvb2wgewoJCXJldHVybiBPSURwbHVzOjphdXRoVXRpbHMoKS0+'));
	@fwrite($fp, base64_decode('cmFDaGVja1Bhc3N3b3JkKCR0aGlzLT5lbWFpbCwgJHBhc3N3b3JkKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBkZWxldGUoKSB7CgkJT0lEcGx1czo6ZGIoKS0+cXVl'));
	@fwrite($fp, base64_decode('cnkoImRlbGV0ZSBmcm9tICMjI3JhIHdoZXJlIGVtYWlsID0gPyIsIGFycmF5KCR0aGlzLT5lbWFpbCkpOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkcmFfbmFtZQoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJ'));
	@fwrite($fp, base64_decode('cHVibGljIGZ1bmN0aW9uIHNldFJhTmFtZShzdHJpbmcgJHJhX25hbWUpIHsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgidXBkYXRlICMjI3JhIHNldCByYV9uYW1lID0gPyB3aGVyZSBlbWFpbCA9ID8iLCBhcnJheSgkcmFfbmFtZSwgJHRoaXMtPmVtYWlsKSk7Cgl9'));
	@fwrite($fp, base64_decode('CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2x8bnVsbAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc1Bhc3N3b3JkTGVzcygpLyo6ID9ib29sKi8gewoJCSRhdXRoSW5mbyA9ICR0aGlzLT5nZXRBdXRoSW5mbygpOwoJCWlm'));
	@fwrite($fp, base64_decode('ICghJGF1dGhJbmZvKSByZXR1cm4gbnVsbDsgLy8gdXNlciBub3QgZm91bmQKCQlyZXR1cm4gJGF1dGhJbmZvLT5pc1Bhc3N3b3JkTGVzcygpOwoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusRA.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusRA.class.php');
	writefile_1();
	if (!is_file('includes/classes/OIDplusRA.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusRA.class.php');
	} else if (sha1_file('includes/classes/OIDplusRA.class.php') != '18bb9c00b4cd7eedb856d36d6df4cb0f66d72d61') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusRA.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusRA.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusRA.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusRA.class.php') !== '18bb9c00b4cd7eedb856d36d6df4cb0f66d72d61') {
		if (@sha1_file('includes/classes/OIDplusRA.class.php') !== 'e9e149daef94d8a4229ae9e5e501f666bc0f2b0b') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusRA.class.php');
			$tmp = pathinfo('includes/classes/OIDplusRA.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusRA.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusRA.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/classes/OIDplusRA.class.php') !== '18bb9c00b4cd7eedb856d36d6df4cb0f66d72d61') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusRA.class.php');
		}
	}
}

// Files different: includes/db_updates/update1002.inc.php
function writefile_2() {
	@$fp = fopen('includes/db_updates/update1002.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgp1c2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXNcT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbjsKdXNlIFZpYVRoaW5rU29mdFxPSURwbHVzXE9JRHBsdXNFeGNlcHRpb247CgovKioKICogVGhp'));
	@fwrite($fp, base64_decode('cyBmdW5jdGlvbiBpcyBpbnRlcm5hbGx5IGNhbGxlZCBieSBvaWRwbHVzX2RidXBkYXRlXzEwMDIoKS4KICogSXQgY2hhbmdlcyB0aGUgYXV0aCBrZXlzIEExKiMgYW5kIEEyIyB0byBWVFMtTUNGIGFuZCBBMyMgdG8gQkNyeXB0LU1DRi4KICogQHBhcmFtIE9JRHBs'));
	@fwrite($fp, base64_decode('dXNEYXRhYmFzZUNvbm5lY3Rpb24gJGRiIGlzIHRoZSBPSURwbHVzRGF0YWJhc2VDb25uZWN0aW9uIGNsYXNzCiAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgogKi8KZnVuY3Rpb24gb2lkcGx1c19kYnVwZGF0ZV8xMDAyX21pZ3JhdGVfcmFfcGFzc3dvcmRzKE9J'));
	@fwrite($fp, base64_decode('RHBsdXNEYXRhYmFzZUNvbm5lY3Rpb24gJGRiKSB7CgkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNyYSAiKTsKCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCSRzYWx0ID0gJHJvd1snc2FsdCddID8/ICcnOwoJCSRuZXdf'));
	@fwrite($fp, base64_decode('YXV0aF9rZXkgPSB2dHNfY3J5cHRfY29udmVydF9mcm9tX29sZF9vaWRwbHVzKCRyb3dbJ2F1dGhrZXknXSwgJHNhbHQpOwoJCSRlbWFpbCA9ICRyb3dbJ2VtYWlsJ107CgkJaWYgKCRuZXdfYXV0aF9rZXkgIT09ICRyb3dbJ2F1dGhrZXknXSkgewoJCQkvL2VjaG8g'));
	@fwrite($fp, base64_decode('J01pZ3JhdGUgYXV0aGtleSAnLiRyb3dbJ2F1dGhrZXknXS4nIHRvICcuJG5ld19hdXRoX2tleS4nIGZvciAnLiRlbWFpbC4nPGJyPjxicj4nOwoJCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjcmEgc2V0IGF1dGhrZXkgPSA/LCBzYWx0ID0gPyB3aGVyZSBlbWFpbCA9'));
	@fwrite($fp, base64_decode('ID8iLCBhcnJheSgkbmV3X2F1dGhfa2V5LCAnJywgJGVtYWlsKSk7CgkJfQoJfQp9CgovKioKICogVGhpcyBmdW5jdGlvbiBjb252ZXJ0cyBBMSojLCBBMiMsIEEzIyBoYXNoZXMgdG8gQ3J5cHQgY29tcGF0aWJsZSBoYXNoZXMuCiAqIEBwYXJhbSBzdHJpbmcgJGF1'));
	@fwrite($fp, base64_decode('dGhrZXkgaXMgb2xkIGRhdGFiYXNlIGZpZWxkIHZhbHVlICJhdXRoa2V5IgogKiBAcGFyYW0gc3RyaW5nICRzYWx0IGlzIG9sZCBkYXRhYmFzZSBmaWVsZCB2YWx1ZSAic2FsdCIKICogQHJldHVybnMgTmV3IGF1dGhrZXkgZmllbGQgKENyeXB0IGNvbXBhdGlibGUg'));
	@fwrite($fp, base64_decode('aGFzaCkKICovCmZ1bmN0aW9uIHZ0c19jcnlwdF9jb252ZXJ0X2Zyb21fb2xkX29pZHBsdXMoJGF1dGhrZXksICRzYWx0KSB7CglpZiAocHJlZ19tYXRjaCgnQF5BMShbYWJjZF0pIyguKyk6KC4rKSRAJywgJGF1dGhrZXksICRtKSkgewoJCS8vIEExYSNoYXNoYWxn'));
	@fwrite($fp, base64_decode('bzpYIHdpdGggWCBiZWluZyBIKHNhbHQrcGFzc3dvcmQpIGluIGhleC0gb3IgcmZjNDY0OC1iYXNlNjQtbm90YXRpb24KCQkvLyBBMWIjaGFzaGFsZ286WCB3aXRoIFggYmVpbmcgSChwYXNzd29yZCtzYWx0KSBpbiBoZXgtIG9yIHJmYzQ2NDgtYmFzZTY0LW5vdGF0'));
	@fwrite($fp, base64_decode('aW9uCgkJLy8gQTFjI2hhc2hhbGdvOlggd2l0aCBYIGJlaW5nIEgoc2FsdCtwYXNzd29yZCtzYWx0KSBpbiBoZXgtIG9yIHJmYzQ2NDgtYmFzZTY0LW5vdGF0aW9uCgkJLy8gQTFkI2hhc2hhbGdvOlggd2l0aCBYIGJlaW5nIEhfSE1BQyhwYXNzd29yZCxzYWx0KSBp'));
	@fwrite($fp, base64_decode('biBoZXgtIG9yIHJmYzQ2NDgtYmFzZTY0LW5vdGF0aW9uCgkJJG1vZGUgPSAnJzsgLy8gYXZvaWQgUEhQc3RhbiB3YXJuaW5nCgkJaWYgKCRtWzFdID09ICdhJykgJG1vZGUgPSAnc3AnOwoJCWVsc2UgaWYgKCRtWzFdID09ICdiJykgJG1vZGUgPSAncHMnOwoJCWVs'));
	@fwrite($fp, base64_decode('c2UgaWYgKCRtWzFdID09ICdjJykgJG1vZGUgPSAnc3BzJzsKCQllbHNlIGlmICgkbVsxXSA9PSAnZCcpICRtb2RlID0gJ2htYWMnOwoJCWVsc2UgYXNzZXJ0KGZhbHNlKTsKCQkkYWxnbyA9ICRtWzJdOwoJCSRiaW5fc2FsdCA9ICRzYWx0OwoJCWlmICgoJGFsZ28g'));
	@fwrite($fp, base64_decode('PT0gJ3NoYTMtNTEyJykgfHwgKCRhbGdvID09ICdzaGEzLTM4NCcpIHx8ICgkYWxnbyA9PSAnc2hhNTEyJykgfHwgKCRhbGdvID09ICdzaGEzODQnKSkgewoJCQkkYmluX2hhc2ggPSBiYXNlNjRfZGVjb2RlKCRtWzNdKTsKCQl9IGVsc2UgewoJCQkkYmluX2hhc2gg'));
	@fwrite($fp, base64_decode('PSBoZXgyYmluKCRtWzNdKTsKCQl9CgkJcmV0dXJuIGNyeXB0X21vZHVsYXJfZm9ybWF0X2VuY29kZShPSURfTUNGX1ZUU19WMSwgJGJpbl9zYWx0LCAkYmluX2hhc2gsIGFycmF5KCdhJz0+JGFsZ28sJ20nPT4kbW9kZSkpOwoJfSBlbHNlIGlmIChwcmVnX21hdGNo'));
	@fwrite($fp, base64_decode('KCdAXkEyIyguKykkQCcsICRhdXRoa2V5LCAkbSkpIHsKCQkvLyBBMiNYIHdpdGggWCBiZWluZyBzaGEzKHNhbHQrcGFzc3dvcmQpIGluIHJmYzQ2NDgtYmFzZTY0LW5vdGF0aW9uCgkJJG1vZGUgPSAnc3AnOwoJCSRhbGdvID0gJ3NoYTMtNTEyJzsKCQkkYmluX3Nh'));
	@fwrite($fp, base64_decode('bHQgPSAkc2FsdDsKCQkkYmluX2hhc2ggPSBiYXNlNjRfZGVjb2RlKCRtWzFdKTsKCQlyZXR1cm4gY3J5cHRfbW9kdWxhcl9mb3JtYXRfZW5jb2RlKE9JRF9NQ0ZfVlRTX1YxLCAkYmluX3NhbHQsICRiaW5faGFzaCwgYXJyYXkoJ2EnPT4kYWxnbywnbSc9PiRtb2Rl'));
	@fwrite($fp, base64_decode('KSk7Cgl9IGVsc2UgaWYgKHByZWdfbWF0Y2goJ0BeQTMjKC4rKSRAJywgJGF1dGhrZXksICRtKSkgewoJCS8vIEEzI1ggd2l0aCBYIGJlaW5nIGJjcnlwdCAgW25vdCBWVFMgaGFzaCFdCgkJcmV0dXJuICRtWzFdOwoJfSBlbHNlIHsKCQkvLyBOb3RoaW5nIHRvIGNv'));
	@fwrite($fp, base64_decode('bnZlcnQKCQlyZXR1cm4gJGF1dGhrZXk7Cgl9Cn0KCi8qKgogKiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGJ5IE9JRHBsdXNEYXRhYmFzZUNvbm5lY3Rpb24uY2xhc3MucGhwIGF0IG1ldGhvZCBhZnRlckNvbm5lY3QoKS4KICogQHBhcmFtIE9JRHBsdXNE'));
	@fwrite($fp, base64_decode('YXRhYmFzZUNvbm5lY3Rpb24gJGRiIGlzIHRoZSBPSURwbHVzRGF0YWJhc2VDb25uZWN0aW9uIGNsYXNzCiAqIEByZXR1cm4gaW50IG5ldyB2ZXJzaW9uIHNldAogKiBAdGhyb3dzIFxWaWFUaGlua1NvZnRcT0lEcGx1c1xPSURwbHVzRXhjZXB0aW9uCiAqLwpmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiBvaWRwbHVzX2RidXBkYXRlXzEwMDIoT0lEcGx1c0RhdGFiYXNlQ29ubmVjdGlvbiAkZGIpIHsKCWlmICgkZGItPnRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpKSAkZGItPnRyYW5zYWN0aW9uX2JlZ2luKCk7CgoJaWYgKCRkYi0+Z2V0U2xhbmcoKS0+aWQoKSA9'));
	@fwrite($fp, base64_decode('PSAnbXNzcWwnKSB7CgkJJGRiLT5xdWVyeSgiYWx0ZXIgdGFibGUgIyMjcmEgYWx0ZXIgY29sdW1uIFthdXRoa2V5XSBbdmFyY2hhcl0oMjUwKSBOVUxMOyIpOwoJCW9pZHBsdXNfZGJ1cGRhdGVfMTAwMl9taWdyYXRlX3JhX3Bhc3N3b3JkcygkZGIpOwoJCXRyeSB7'));
	@fwrite($fp, base64_decode('CgkJCSRkYi0+cXVlcnkoImFsdGVyIHRhYmxlICMjI3JhIGRyb3AgY29sdW1uIFtzYWx0XTsiKTsKCQl9IGNhdGNoKEV4Y2VwdGlvbiAkZSkge30KCX0KCWVsc2UgaWYgKCRkYi0+Z2V0U2xhbmcoKS0+aWQoKSA9PSAnbXlzcWwnKSB7CgkJJGRiLT5xdWVyeSgiYWx0'));
	@fwrite($fp, base64_decode('ZXIgdGFibGUgIyMjcmEgbW9kaWZ5IGF1dGhrZXkgdmFyY2hhcigyNTApIE5VTEw7Iik7CgkJb2lkcGx1c19kYnVwZGF0ZV8xMDAyX21pZ3JhdGVfcmFfcGFzc3dvcmRzKCRkYik7CgkJdHJ5IHsKCQkJJGRiLT5xdWVyeSgiYWx0ZXIgdGFibGUgIyMjcmEgZHJvcCBj'));
	@fwrite($fp, base64_decode('b2x1bW4gc2FsdDsiKTsKCQl9IGNhdGNoKEV4Y2VwdGlvbiAkZSkge30KCX0KCWVsc2UgaWYgKCRkYi0+Z2V0U2xhbmcoKS0+aWQoKSA9PSAncGdzcWwnKSB7CgkJJGRiLT5xdWVyeSgiYWx0ZXIgdGFibGUgIyMjcmEgYWx0ZXIgY29sdW1uIGF1dGhrZXkgdHlwZSB2'));
	@fwrite($fp, base64_decode('YXJjaGFyKDI1MCkiKTsKCQlvaWRwbHVzX2RidXBkYXRlXzEwMDJfbWlncmF0ZV9yYV9wYXNzd29yZHMoJGRiKTsKCQl0cnkgewoJCQkkZGItPnF1ZXJ5KCJhbHRlciB0YWJsZSAjIyNyYSBkcm9wIGNvbHVtbiBzYWx0Iik7CgkJfSBjYXRjaChFeGNlcHRpb24gJGUp'));
	@fwrite($fp, base64_decode('IHt9Cgl9CgllbHNlIGlmICgkZGItPmdldFNsYW5nKCktPmlkKCkgPT0gJ29yYWNsZScpIHsKCQkkZGItPnF1ZXJ5KCJhbHRlciB0YWJsZSAjIyNyYSBtb2RpZnkgYXV0aGtleSB2YXJjaGFyMigyNTApIik7CgkJb2lkcGx1c19kYnVwZGF0ZV8xMDAyX21pZ3JhdGVf'));
	@fwrite($fp, base64_decode('cmFfcGFzc3dvcmRzKCRkYik7CgkJdHJ5IHsKCQkJJGRiLT5xdWVyeSgiYWx0ZXIgdGFibGUgIyMjcmEgc2V0IHVudXNlZCBjb2x1bW4gc2FsdCIpOwoJCQkkZGItPnF1ZXJ5KCJhbHRlciB0YWJsZSAjIyNyYSBzZXQgZHJvcCB1bnVzZWQgY29sdW1ucyIpOwoJCX0g'));
	@fwrite($fp, base64_decode('Y2F0Y2goRXhjZXB0aW9uICRlKSB7fQoJfQoJZWxzZSBpZiAoJGRiLT5nZXRTbGFuZygpLT5pZCgpID09ICdzcWxpdGUnKSB7CgkJb2lkcGx1c19kYnVwZGF0ZV8xMDAyX21pZ3JhdGVfcmFfcGFzc3dvcmRzKCRkYik7CgkJdHJ5IHsKCQkJJGRiLT5xdWVyeSgiYWx0'));
	@fwrite($fp, base64_decode('ZXIgdGFibGUgIyMjcmEgZHJvcCBjb2x1bW4gc2FsdCIpOwoJCX0gY2F0Y2goRXhjZXB0aW9uICRlKSB7fQoJfQoJZWxzZSBpZiAoJGRiLT5nZXRTbGFuZygpLT5pZCgpID09ICdhY2Nlc3MnKSB7CgkJb2lkcGx1c19kYnVwZGF0ZV8xMDAyX21pZ3JhdGVfcmFfcGFz'));
	@fwrite($fp, base64_decode('c3dvcmRzKCRkYik7CgkJdHJ5IHsKCQkJJGRiLT5xdWVyeSgiYWx0ZXIgdGFibGUgIyMjcmEgZHJvcCBjb2x1bW4gc2FsdCIpOwoJCX0gY2F0Y2goRXhjZXB0aW9uICRlKSB7fQoJfQoKCS8vIEF1dGggcGx1Z2lucyBBMSBhbmQgQTIgaGF2ZSBiZWVuIHJlcGxhY2Vk'));
	@fwrite($fp, base64_decode('IHdpdGggQTUKCS8vIE5vdGUgdGhhdCB5b3UgY2Fubm90IHVzZSBgdmFsdWVgIGluIHRoZSB3aGVyZSBjbGF1c2Ugb24gTVNTUUwsIGJlY2F1c2UgInRleHQgYW5kIHZhcmNoYXIiIGFyZSBpbmNvbXBhdGlibGUuLi4KCSRyZXMgPSAkZGItPnF1ZXJ5KCJTRUxFQ1Qg'));
	@fwrite($fp, base64_decode('dmFsdWUgZnJvbSAjIyNjb25maWcgd2hlcmUgbmFtZSA9ICdkZWZhdWx0X3JhX2F1dGhfbWV0aG9kJyIpOwoJaWYgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpKSB7CgkJaWYgKCgkcm93Wyd2YWx1ZSddID09ICdBMV9waHBnZW5lcmljX3NhbHRlZF9oZXgnKSB8'));
	@fwrite($fp, base64_decode('fCAoJHJvd1sndmFsdWUnXSA9PSAnQTJfc2hhM19zYWx0ZWRfYmFzZTY0JykpIHsKCQkJJGRiLT5xdWVyeSgiVVBEQVRFICMjI2NvbmZpZyBTRVQgdmFsdWUgPSAnQTVfdnRzX21jZicgV0hFUkUgbmFtZSA9ICdkZWZhdWx0X3JhX2F1dGhfbWV0aG9kJyIpOwoJCX0K'));
	@fwrite($fp, base64_decode('CX0KCgkkdmVyc2lvbiA9IDEwMDI7CgkkZGItPnF1ZXJ5KCJVUERBVEUgIyMjY29uZmlnIFNFVCB2YWx1ZSA9ID8gV0hFUkUgbmFtZSA9ICdkYXRhYmFzZV92ZXJzaW9uJyIsIGFycmF5KCR2ZXJzaW9uKSk7CgoJaWYgKCRkYi0+dHJhbnNhY3Rpb25fc3VwcG9ydGVk'));
	@fwrite($fp, base64_decode('KCkpICRkYi0+dHJhbnNhY3Rpb25fY29tbWl0KCk7CgoJcmV0dXJuICR2ZXJzaW9uOwp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/db_updates/update1002.inc.php')) {
	warn('File has vanished! Will re-create it: includes/db_updates/update1002.inc.php');
	writefile_2();
	if (!is_file('includes/db_updates/update1002.inc.php')) {
		warn('File cannot be created (not existing): includes/db_updates/update1002.inc.php');
	} else if (sha1_file('includes/db_updates/update1002.inc.php') != 'ca9c6dc9ced4267a3a05694734490f976bb99582') {
		warn('File cannot be created (checksum mismatch): includes/db_updates/update1002.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/db_updates/update1002.inc.php', 0644)) {
		warn('Could not change file permissions of includes/db_updates/update1002.inc.php');
	}
} else {
	if (@sha1_file('includes/db_updates/update1002.inc.php') !== 'ca9c6dc9ced4267a3a05694734490f976bb99582') {
		if (@sha1_file('includes/db_updates/update1002.inc.php') !== '089f4f8e8fc3de64c1d0d41304c277ea8467544c') {
			warn('File was modified. Will overwrite the changes now: includes/db_updates/update1002.inc.php');
			$tmp = pathinfo('includes/db_updates/update1002.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/db_updates/update1002.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/db_updates/update1002.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/db_updates/update1002.inc.php') !== 'ca9c6dc9ced4267a3a05694734490f976bb99582') {
			warn('File cannot be written (checksum mismatch): includes/db_updates/update1002.inc.php');
		}
	}
}

// Files different: plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php
function writefile_3() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c09pZCBleHRlbmRzIE9JRHBsdXNPYmplY3QgewoJcHJpdmF0ZSAkb2lkOwoKCS8qKgoJICogQHBhcmFtICRvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJ'));
	@fwrite($fp, base64_decode('ICovCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG9pZCkgewoJCSRiYWtfb2lkID0gJG9pZDsKCgkJJG9pZCA9IHNhbml0aXplT0lEKCRvaWQsICdhdXRvJyk7CgkJaWYgKCRvaWQgPT09IGZhbHNlKSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KF9MKCdJbnZhbGlkIE9JRCAlMScsJGJha19vaWQpKTsKCQl9CgoJCWlmICgoJG9pZCAhPSAnJykgJiYgKCFvaWRfdmFsaWRfZG90bm90YXRpb24oJG9pZCwgZmFsc2UsIHRydWUsIDApKSkgewoJCQkvLyBhdm9pZCBPSURzIGxpa2UgMy4wCgkJCXRocm93IG5ldyBP'));
	@fwrite($fp, base64_decode('SURwbHVzRXhjZXB0aW9uKF9MKCdJbnZhbGlkIE9JRCAlMScsJGJha19vaWQpKTsKCQl9CgoJCSR0aGlzLT5vaWQgPSAkb2lkOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkbm9kZV9pZAoJICogQHJldHVybiBPSURwbHVzT2lkfG51bGwKCSAqLwoJcHVibGlj'));
	@fwrite($fp, base64_decode('IHN0YXRpYyBmdW5jdGlvbiBwYXJzZShzdHJpbmcgJG5vZGVfaWQpLyo6ID9PSURwbHVzT2lkKi8gewoJCUBsaXN0KCRuYW1lc3BhY2UsICRvaWQpID0gZXhwbG9kZSgnOicsICRub2RlX2lkLCAyKTsKCQlpZiAoJG5hbWVzcGFjZSAhPT0gc2VsZjo6bnMoKSkgcmV0'));
	@fwrite($fp, base64_decode('dXJuIG51bGw7CgkJcmV0dXJuIG5ldyBzZWxmKCRvaWQpOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBvYmplY3RUeXBlVGl0bGUoKTogc3RyaW5nIHsKCQlyZXR1cm4gX0woJ09iamVjdCBJZGVudGlmaWVy'));
	@fwrite($fp, base64_decode('IChPSUQpJyk7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG9iamVjdFR5cGVUaXRsZVNob3J0KCk6IHN0cmluZyB7CgkJcmV0dXJuIF9MKCdPSUQnKTsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkg'));
	@fwrite($fp, base64_decode('Ki8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbnMoKTogc3RyaW5nIHsKCQlyZXR1cm4gJ29pZCc7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHJvb3QoKTogc3RyaW5nIHsKCQlyZXR1cm4gc2VsZjo6bnMo'));
	@fwrite($fp, base64_decode('KS4nOic7Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIGJvb2wKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzUm9vdCgpOiBib29sIHsKCQlyZXR1cm4gJHRoaXMtPm9pZCA9PSAnJzsKCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICR3aXRoX25zCgkgKiBAcmV0dXJuIHN0cmlu'));
	@fwrite($fp, base64_decode('ZwoJICovCglwdWJsaWMgZnVuY3Rpb24gbm9kZUlkKGJvb2wgJHdpdGhfbnM9dHJ1ZSk6IHN0cmluZyB7CgkJcmV0dXJuICR3aXRoX25zID8gc2VsZjo6cm9vdCgpLiR0aGlzLT5vaWQgOiAkdGhpcy0+b2lkOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkc3Ry'));
	@fwrite($fp, base64_decode('CgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhZGRTdHJpbmcoc3RyaW5nICRzdHIpOiBzdHJpbmcgewoJCWlmICghJHRoaXMtPmlzUm9vdCgpKSB7CgkJCWlmIChzdHJwb3MoJHN0ciwn'));
	@fwrite($fp, base64_decode('LicpICE9PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1BsZWFzZSBvbmx5IHN1Ym1pdCBvbmUgYXJjIChub3QgYW4gYWJzb2x1dGUgT0lEIG9yIG11bHRpcGxlIGFyY3MpLicpKTsKCQl9CgoJCXJldHVybiAkdGhpcy0+YXBwZW5kQXJjcygk'));
	@fwrite($fp, base64_decode('c3RyKS0+bm9kZUlkKCk7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gT0lEcGx1c09iamVjdCAkcGFyZW50CgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglwdWJsaWMgZnVuY3Rpb24gY3J1ZFNob3dJZChPSURwbHVzT2JqZWN0ICRwYXJlbnQpOiBzdHJpbmcgewoJCWlmICgk'));
	@fwrite($fp, base64_decode('cGFyZW50IGluc3RhbmNlb2YgT0lEcGx1c09pZCkgewoJCQlyZXR1cm4gJHRoaXMtPmRlbHRhRG90Tm90YXRpb24oJHBhcmVudCk7CgkJfSBlbHNlIHsKCQkJcmV0dXJuICcnOwoJCX0KCX0KCgkvKioKCSAqIEBwYXJhbSBPSURwbHVzT2JqZWN0fG51bGwgJHBhcmVu'));
	@fwrite($fp, base64_decode('dAoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGpzVHJlZU5vZGVOYW1lKE9JRHBsdXNPYmplY3QgJHBhcmVudCA9IG51bGwpOiBzdHJpbmcgewoJCWlmICgkcGFyZW50ID09IG51bGwpIHJldHVybiAkdGhpcy0+b2JqZWN0VHlwZVRpdGxl'));
	@fwrite($fp, base64_decode('KCk7CgkJaWYgKCRwYXJlbnQgaW5zdGFuY2VvZiBPSURwbHVzT2lkKSB7CgkJCXJldHVybiAkdGhpcy0+dmlld0dldEFyY0FzbjFzKCRwYXJlbnQpOwoJCX0gZWxzZSB7CgkJCXJldHVybiAnJzsKCQl9Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIHN0cmluZwoJICovCglw'));
	@fwrite($fp, base64_decode('dWJsaWMgZnVuY3Rpb24gZGVmYXVsdFRpdGxlKCk6IHN0cmluZyB7CgkJcmV0dXJuIF9MKCdPSUQgJTEnLCR0aGlzLT5vaWQpOwoJfQoKCS8qKgoJICogQHJldHVybiBib29sCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBpc0xlYWZOb2RlKCk6IGJvb2wgewoJCXJldHVy'));
	@fwrite($fp, base64_decode('biBmYWxzZTsKCX0KCgkvKioKCSAqIEByZXR1cm4gYXJyYXkKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRUZWNoSW5mbygpOiBhcnJheSB7CgkJJHRlY2hfaW5mbyA9IGFycmF5KCk7CgoJCSR0bXAgPSBfTCgnRG90IG5vdGF0aW9uJyk7CgkJJHRtcCA9IHN0cl9y'));
	@fwrite($fp, base64_decode('ZXBsYWNlKGV4cGxvZGUoJyAnLCAkdG1wLCAyKVswXSwgJzxhIGhyZWY9Imh0dHBzOi8vb2lkLXJlcC5vcmFuZ2UtbGFicy5mci9mYXEuaHRtIzE0IiB0YXJnZXQ9Il9ibGFuayI+Jy5leHBsb2RlKCcgJywgJHRtcCwgMilbMF0uJzwvYT4nLCAkdG1wKTsKCQkkdGVj'));
	@fwrite($fp, base64_decode('aF9pbmZvWyR0bXBdID0gJHRoaXMtPmdldERvdE5vdGF0aW9uKCk7CgoJCSR0bXAgPSBfTCgnQVNOLjEgbm90YXRpb24nKTsKCQkkdG1wID0gc3RyX3JlcGxhY2UoZXhwbG9kZSgnICcsICR0bXAsIDIpWzBdLCAnPGEgaHJlZj0iaHR0cHM6Ly9vaWQtcmVwLm9yYW5n'));
	@fwrite($fp, base64_decode('ZS1sYWJzLmZyL2ZhcS5odG0jMTciIHRhcmdldD0iX2JsYW5rIj4nLmV4cGxvZGUoJyAnLCAkdG1wLCAyKVswXS4nPC9hPicsICR0bXApOwoJCSR0ZWNoX2luZm9bJHRtcF0gPSAkdGhpcy0+Z2V0QXNuMU5vdGF0aW9uKCk7CgoJCSR0bXAgPSBfTCgnT0lELUlSSSBu'));
	@fwrite($fp, base64_decode('b3RhdGlvbicpOwoJCSR0bXAgPSBzdHJfcmVwbGFjZShleHBsb2RlKCcgJywgJHRtcCwgMilbMF0sICc8YSBocmVmPSJodHRwczovL29pZC1yZXAub3JhbmdlLWxhYnMuZnIvZmFxLmh0bSNpcmkiIHRhcmdldD0iX2JsYW5rIj4nLmV4cGxvZGUoJyAnLCAkdG1wLCAy'));
	@fwrite($fp, base64_decode('KVswXS4nPC9hPicsICR0bXApOwoJCSR0ZWNoX2luZm9bJHRtcF0gPSAkdGhpcy0+Z2V0SXJpTm90YXRpb24oKTsKCgkJJHRtcCA9IF9MKCdXRUlEIG5vdGF0aW9uJyk7CgkJJHRtcCA9IHN0cl9yZXBsYWNlKGV4cGxvZGUoJyAnLCAkdG1wLCAyKVswXSwgJzxhIGhy'));
	@fwrite($fp, base64_decode('ZWY9Imh0dHBzOi8vd2VpZC5pbmZvLyIgdGFyZ2V0PSJfYmxhbmsiPicuZXhwbG9kZSgnICcsICR0bXAsIDIpWzBdLic8L2E+JywgJHRtcCk7CgkJJHRlY2hfaW5mb1skdG1wXSA9ICR0aGlzLT5nZXRXZWlkTm90YXRpb24oKTsKCgkJJHRtcCA9IF9MKCdERVIgZW5j'));
	@fwrite($fp, base64_decode('b2RpbmcnKTsKCQkkdG1wID0gc3RyX3JlcGxhY2UoZXhwbG9kZSgnICcsICR0bXAsIDIpWzBdLCAnPGEgaHJlZj0iaHR0cHM6Ly9taXNjLmRhbmllbC1tYXJzY2hhbGwuZGUvYXNuLjEvb2lkLWNvbnZlcnRlci9vbmxpbmUucGhwIiB0YXJnZXQ9Il9ibGFuayI+Jy5l'));
	@fwrite($fp, base64_decode('eHBsb2RlKCcgJywgJHRtcCwgMilbMF0uJzwvYT4nLCAkdG1wKTsKCQkkdGVjaF9pbmZvWyR0bXBdID0gc3RyX3JlcGxhY2UoJyAnLCAnOicsIFxPaWREZXJDb252ZXJ0ZXI6OmhleGFycmF5VG9TdHIoXE9pZERlckNvbnZlcnRlcjo6b2lkVG9ERVIoJHRoaXMtPm5v'));
	@fwrite($fp, base64_decode('ZGVJZChmYWxzZSkpKSk7CgoJCXJldHVybiAkdGVjaF9pbmZvOwoJfQoKCS8qKgoJICogQHJldHVybiBib29sCgkgKi8KCXByb3RlY3RlZCBmdW5jdGlvbiBpc0NsYXNzQ1dlaWQoKTogYm9vbCB7CgkJJGRpc3QgPSBvaWRfZGlzdGFuY2UoJHRoaXMtPm9pZCwgJzEu'));
	@fwrite($fp, base64_decode('My42LjEuNC4xLjM3NTUzLjgnKTsKCQlpZiAoJGRpc3QgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuICRkaXN0ID49IDA7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICR0aXRsZQoJICogQHBhcmFtIHN0cmluZyAkY29udGVudAoJICogQHBhcmFt'));
	@fwrite($fp, base64_decode('IHN0cmluZyAkaWNvbgoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldENvbnRlbnRQYWdlKHN0cmluZyAmJHRpdGxlLCBzdHJpbmcgJiRjb250ZW50LCBzdHJpbmcgJiRpY29uKSB7CgkJ'));
	@fwrite($fp, base64_decode('aWYgKCR0aGlzLT5pc0NsYXNzQ1dlaWQoKSkgewoJCQkvLyBUT0RPOiBBbHNvIGNoYW5nZSB0cmVldmlldyBtZW51IG1pbmktaWNvbj8KCQkJJGljb24gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaW1nL3dlaWRfaWNvbi5wbmcnKSA/IE9JRHBsdXM6OndlYnBhdGgo'));
	@fwrite($fp, base64_decode('X19ESVJfXyxPSURwbHVzOjpQQVRIX1JFTEFUSVZFKS4naW1nL3dlaWRfaWNvbi5wbmcnIDogJyc7CgkJfSBlbHNlIHsKCQkJJGljb24gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaW1nL21haW5faWNvbi5wbmcnKSA/IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXyxP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpQQVRIX1JFTEFUSVZFKS4naW1nL21haW5faWNvbi5wbmcnIDogJyc7CgkJfQoKCQlpZiAoJHRoaXMtPmlzUm9vdCgpKSB7CgkJCSR0aXRsZSA9IE9JRHBsdXNPaWQ6Om9iamVjdFR5cGVUaXRsZSgpOwoKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1'));
	@fwrite($fp, base64_decode('ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8iLCBhcnJheShzZWxmOjpyb290KCkpKTsKCQkJaWYgKCRyZXMtPmFueSgpKSB7CgkJCQkkY29udGVudCA9IF9MKCdQbGVhc2Ugc2VsZWN0IGFuIE9JRCBpbiB0aGUgdHJlZSB2aWV3'));
	@fwrite($fp, base64_decode('IGF0IHRoZSBsZWZ0IHRvIHNob3cgaXRzIGNvbnRlbnRzLicpOwoJCQl9IGVsc2UgewoJCQkJJGNvbnRlbnQgPSBfTCgnQ3VycmVudGx5LCBubyBPSUQgaXMgcmVnaXN0ZXJlZCBpbiB0aGUgc3lzdGVtLicpOwoJCQl9CgoJCQlpZiAoISR0aGlzLT5pc0xlYWZOb2Rl'));
	@fwrite($fp, base64_decode('KCkpIHsKCQkJCWlmIChPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNBZG1pbkxvZ2dlZEluKCkpIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPicuX0woJ01hbmFnZSB5b3VyIHJvb3QgT0lEcycpLic8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8'));
	@fwrite($fp, base64_decode('aDI+Jy5fTCgnUm9vdCBPSURzJykuJzwvaDI+JzsKCQkJCX0KCQkJCSRjb250ZW50IC49ICclJUNSVUQlJSc7CgkJCX0KCQl9IGVsc2UgewoJCQkkdGl0bGUgPSAkdGhpcy0+Z2V0VGl0bGUoKTsKCgkJCSR0ZWNoX2luZm8gPSAkdGhpcy0+Z2V0VGVjaEluZm8oKTsK'));
	@fwrite($fp, base64_decode('CQkJJHRlY2hfaW5mb19odG1sID0gJyc7CgkJCWlmIChjb3VudCgkdGVjaF9pbmZvKSA+IDApIHsKCQkJCSR0ZWNoX2luZm9faHRtbCAuPSAnPGgyPicuX0woJ1RlY2huaWNhbCBpbmZvcm1hdGlvbicpLic8L2gyPic7CgkJCQkkdGVjaF9pbmZvX2h0bWwgLj0gJzx0'));
	@fwrite($fp, base64_decode('YWJsZSBib3JkZXI9IjAiPic7CgkJCQlmb3JlYWNoICgkdGVjaF9pbmZvIGFzICRrZXkgPT4gJHZhbHVlKSB7CgkJCQkJJHRlY2hfaW5mb19odG1sIC49ICc8dHI+PHRkPicuJGtleS4nOiA8L3RkPjx0ZD48Y29kZT4nLiR2YWx1ZS4nPC9jb2RlPjwvdGQ+PC90cj4n'));
	@fwrite($fp, base64_decode('OwoJCQkJfQoJCQkJJHRlY2hfaW5mb19odG1sIC49ICc8L3RhYmxlPic7CgkJCX0KCgkJCSRjb250ZW50ID0gJHRlY2hfaW5mb19odG1sOwoKCQkJJGNvbnRlbnQgLj0gJzxoMj4nLl9MKCdEZXNjcmlwdGlvbicpLic8L2gyPiUlREVTQyUlJy4KCQkJICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgJzxoMj4nLl9MKCdSZWdpc3RyYXRpb24gQXV0aG9yaXR5JykuJzwvaDI+JSVSQV9JTkZPJSUnOwoKCQkJaWYgKCEkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQlpZiAoJHRoaXMtPnVzZXJIYXNXcml0ZVJpZ2h0cygpKSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxo'));
	@fwrite($fp, base64_decode('Mj4nLl9MKCdDcmVhdGUgb3IgY2hhbmdlIHN1Ym9yZGluYXRlIG9iamVjdHMnKS4nPC9oMj4nOwoJCQkJfSBlbHNlIHsKCQkJCQkkY29udGVudCAuPSAnPGgyPicuX0woJ1N1Ym9yZGluYXRlIG9iamVjdHMnKS4nPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0g'));
	@fwrite($fp, base64_decode('JyUlQ1JVRCUlJzsKCQkJfQoJCX0KCX0KCgkjIC0tLQoKCS8qKgoJICogR2V0cyB0aGUgbGFzdCBhcmMgb2YgYW4gV0VJRAoJICogQHJldHVybiBmYWxzZXxzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHdlaWRBcmMoKSB7CgkJLy8gRGlydHkgaGFjazogV2Ug'));
	@fwrite($fp, base64_decode('cHJlcGVuZCAnMC4nIGluIGZyb250IG9mIHRoZSBPSUQgdG8gZW5mb3JjZSB0aGUKCQkvLyAgICAgICAgICAgICBjcmVhdGlvbiBvZiBhIENsYXNzIEEgd2VpZCAod2VpZDpyb290OikgLiBPdGhlcndpc2Ugd2UgY291bGQgbm90CgkJLy8gICAgICAgICAgICAgZ2V0'));
	@fwrite($fp, base64_decode('IHRoZSBoaWRkZW4gYXJjIHZhbHVlICI4IiBmcm9tICJ3ZWlkOjQiICh3aGljaCBpcyBhY3R1YWxseSAid2VpZDpwZW46U1o1LTgtPyIKCQkkd2VpZCA9IFxGcmRsXFdlaWRcV2VpZE9pZENvbnZlcnRlcjo6b2lkMndlaWQoJzAuJy4kdGhpcy0+Z2V0RG90Tm90YXRp'));
	@fwrite($fp, base64_decode('b24oKSk7CgkJaWYgKCR3ZWlkID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoJCSRhcnkgPSBleHBsb2RlKCc6JywgJHdlaWQpOwoJCSR3ZWlkID0gYXJyYXlfcG9wKCRhcnkpOyAvLyByZW1vdmUgbmFtZXNwYWNlIGFuZCBzdWItbmFtZXNwYWNlIGlmIGV4aXN0aW5n'));
	@fwrite($fp, base64_decode('CgkJJHggPSBleHBsb2RlKCctJywgJHdlaWQpOwoJCWlmIChjb3VudCgkeCkgPCAyKSByZXR1cm4gJyc7IC8vIFdFSUQgcm9vdCBhcmMuIEhhcyBubyBuYW1lCgkJcmV0dXJuICR4W2NvdW50KCR4KS0yXTsKCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICR3aXRoQWJi'));
	@fwrite($fp, base64_decode('cgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldFdlaWROb3RhdGlvbihib29sICR3aXRoQWJicj10cnVlKTogc3RyaW5nIHsKCQkkd2VpZCA9IFxGcmRsXFdlaWRcV2VpZE9pZENvbnZlcnRlcjo6b2lkMndlaWQoJHRoaXMtPmdldERv'));
	@fwrite($fp, base64_decode('dE5vdGF0aW9uKCkpOwoJCWlmICgkd2l0aEFiYnIpIHsKCQkJJGFyeSA9IGV4cGxvZGUoJzonLCAkd2VpZCk7CgkJCSR3ZWlkID0gYXJyYXlfcG9wKCRhcnkpOyAvLyByZW1vdmUgbmFtZXNwYWNlIGFuZCBzdWItbmFtZXNwYWNlIGlmIGV4aXN0aW5nCgkJCSRucyA9'));
	@fwrite($fp, base64_decode('IGltcGxvZGUoJzonLCAkYXJ5KS4nOic7CgoJCQkkd2VpZF9hcmNzID0gZXhwbG9kZSgnLScsICR3ZWlkKTsKCQkJZm9yZWFjaCAoJHdlaWRfYXJjcyBhcyAkaSA9PiAmJHdlaWQpIHsKCQkJCWlmICgkaSA9PSBjb3VudCgkd2VpZF9hcmNzKS0xKSB7CgkJCQkJJHdl'));
	@fwrite($fp, base64_decode('aWQgPSAnPGFiYnIgdGl0bGU9IicuX0woJ3dlTHVobiBjaGVjayBkaWdpdCcpLiciPicuJHdlaWQuJzwvYWJicj4nOwoJCQkJfSBlbHNlIHsKCQkJCQkkb2lkX2FyY3MgPSBleHBsb2RlKCcuJywkdGhpcy0+b2lkKTsKCQkJCQkkd2VpZF9udW0gPSAkb2lkX2FyY3Nb'));
	@fwrite($fp, base64_decode('KGNvdW50KCRvaWRfYXJjcyktMSktKGNvdW50KCR3ZWlkX2FyY3MpLTEpKygkaSsxKV07CgkJCQkJaWYgKCR3ZWlkX251bSAhPSAkd2VpZCkgewoJCQkJCQkkd2VpZCA9ICc8YWJiciB0aXRsZT0iJy5fTCgnTnVtZXJpYyB2YWx1ZScpLic6ICcuJHdlaWRfbnVtLici'));
	@fwrite($fp, base64_decode('PicuJHdlaWQuJzwvYWJicj4nOwoJCQkJCX0KCQkJCX0KCQkJfQoJCQkkYmFzZV9hcmMgPSAnPz8/JzsKCQkJaWYgKCRucyA9PT0gJ3dlaWQ6JykgICAgICAkYmFzZV9hcmMgPSAnMS4zLjYuMS40LjEuMzc1NTMuOCc7CgkJCWlmICgkbnMgPT09ICd3ZWlkOnBlbjon'));
	@fwrite($fp, base64_decode('KSAgJGJhc2VfYXJjID0gJzEuMy42LjEuNC4xJzsKCQkJaWYgKCRucyA9PT0gJ3dlaWQ6cm9vdDonKSAkYmFzZV9hcmMgPSBfTCgnT0lEIHRyZWUgcm9vdCcpOwoKCQkJJHdlaWQgPSAnPGFiYnIgdGl0bGU9IicuX0woJ0Jhc2UgT0lEJykuJzogJy4kYmFzZV9hcmMu'));
	@fwrite($fp, base64_decode('JyI+JyAuIHJ0cmltKCRucywnOicpIC4gJzwvYWJicj46JyAuIGltcGxvZGUoJy0nLCR3ZWlkX2FyY3MpOwoJCX0KCQlyZXR1cm4gJHdlaWQ7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nfGludCAkYXJjcwoJICogQHJldHVybiBPSURwbHVzT2lkCgkgKiBAdGhy'));
	@fwrite($fp, base64_decode('b3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFwcGVuZEFyY3MoJGFyY3MpOiBPSURwbHVzT2lkIHsKCQkkb3V0ID0gbmV3IHNlbGYoJHRoaXMtPm9pZCk7CgoJCWlmICgkb3V0LT5pc1Jvb3QoKSkgewoJCQkkb3V0LT5vaWQgLj0gJGFy'));
	@fwrite($fp, base64_decode('Y3M7CgkJfSBlbHNlIHsKCQkJJG91dC0+b2lkIC49ICcuJyAuICRhcmNzOwoJCX0KCgkJJGJha19vaWQgPSAkb3V0LT5vaWQ7CgkJJG91dC0+b2lkID0gc2FuaXRpemVPSUQoJG91dC0+b2lkKTsKCQlpZiAoJG91dC0+b2lkID09PSBmYWxzZSkgdGhyb3cgbmV3IE9J'));
	@fwrite($fp, base64_decode('RHBsdXNFeGNlcHRpb24oX0woJyUxIGlzIG5vdCBhIHZhbGlkIE9JRCEnLCRiYWtfb2lkKSk7CgoJCSRtYXhsZW4gPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX0lEX0xFTkdUSCcpLXN0cmxlbihzZWxmOjpyb290KCkpOwoJCWlm'));
	@fwrite($fp, base64_decode('IChzdHJsZW4oJG91dC0+b2lkKSA+ICRtYXhsZW4pIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSByZXN1bHRpbmcgT0lEICIlMSIgaXMgdG9vIGxvbmcgKG1heCBhbGxvd2VkIGxlbmd0aDogJTIpLicsJG91dC0+b2lkLCRtYXhsZW4pKTsK'));
	@fwrite($fp, base64_decode('CQl9CgoJCSRkZXB0aCA9IDA7CgkJZm9yZWFjaCAoZXhwbG9kZSgnLicsJG91dC0+b2lkKSBhcyAkYXJjKSB7CgkJCWlmIChzdHJsZW4oJGFyYykgPiBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX09JRF9BUkNfU0laRScpKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkkbWF4bGVuID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfQVJDX1NJWkUnKTsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdBcmMgIiUxIiBpcyB0b28gbG9uZyBhbmQgdGhlcmVmb3JlIGNhbm5vdCBi'));
	@fwrite($fp, base64_decode('ZSBhcHBlbmRlZCB0byB0aGUgT0lEICIlMiIgKG1heCBhbGxvd2VkIGFyYyBzaXplIGlzICIlMyIpJywkYXJjLCR0aGlzLT5vaWQsJG1heGxlbikpOwoJCQl9CgkJCSRkZXB0aCsrOwoJCX0KCQlpZiAoJGRlcHRoID4gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRW'));
	@fwrite($fp, base64_decode('YWx1ZSgnTElNSVRTX01BWF9PSURfREVQVEgnKSkgewoJCQkkbWF4ZGVwdGggPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX09JRF9ERVBUSCcpOwoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnT0lEICUxIGhhcyB0'));
	@fwrite($fp, base64_decode('b28gbWFueSBhcmNzIChjdXJyZW50IGRlcHRoICUyLCBtYXggZGVwdGggJTMpJywkb3V0LT5vaWQsJGRlcHRoLCRtYXhkZXB0aCkpOwoJCX0KCgkJcmV0dXJuICRvdXQ7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gT0lEcGx1c09pZCAkcGFyZW50CgkgKiBAcmV0dXJuIGZh'));
	@fwrite($fp, base64_decode('bHNlfHN0cmluZwoJICovCglwdWJsaWMgZnVuY3Rpb24gZGVsdGFEb3ROb3RhdGlvbihPSURwbHVzT2lkICRwYXJlbnQpIHsKCQlpZiAoISRwYXJlbnQtPmlzUm9vdCgpKSB7CgkJCWlmIChzdWJzdHIoJHRoaXMtPm9pZCwgMCwgc3RybGVuKCRwYXJlbnQtPm9pZCkr'));
	@fwrite($fp, base64_decode('MSkgPT0gJHBhcmVudC0+b2lkLicuJykgewoJCQkJcmV0dXJuIHN1YnN0cigkdGhpcy0+b2lkLCBzdHJsZW4oJHBhcmVudC0+b2lkKSsxKTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0gZWxzZSB7CgkJCXJldHVybiAkdGhpcy0+b2lkOwoJ'));
	@fwrite($fp, base64_decode('CX0KCX0KCgkvKioKCSAqIEByZXR1cm4gYXJyYXkKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0QXNuMUlkcygpOiBhcnJheSB7CgkJJGFzbl9pZHMgPSBhcnJheSgpOwoJCSRyZXNfYXNuID0gT0lEcGx1czo6ZGIo'));
	@fwrite($fp, base64_decode('KS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjYXNuMWlkIHdoZXJlIG9pZCA9ID8gb3JkZXIgYnkgbGZkIiwgYXJyYXkoIm9pZDoiLiR0aGlzLT5vaWQpKTsKCQl3aGlsZSAoJHJvd19hc24gPSAkcmVzX2Fzbi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkkbmFtZSA9ICRy'));
	@fwrite($fp, base64_decode('b3dfYXNuWyduYW1lJ107CgkJCSRzdGFuZGFyZGl6ZWQgPSAkcm93X2Fzblsnc3RhbmRhcmRpemVkJ10gPz8gZmFsc2U7CgkJCSR3ZWxsX2tub3duID0gJHJvd19hc25bJ3dlbGxfa25vd24nXTsKCQkJJGFzbl9pZHNbXSA9IG5ldyBPSURwbHVzT2lkQXNuMUlkKCRu'));
	@fwrite($fp, base64_decode('YW1lLCAkc3RhbmRhcmRpemVkLCAkd2VsbF9rbm93bik7CgkJfQoJCXJldHVybiAkYXNuX2lkczsKCX0KCgkvKioKCSAqIEByZXR1cm4gYXJyYXkKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0SXJpcygpOiBhcnJh'));
	@fwrite($fp, base64_decode('eSB7CgkJJGlyaV9pZHMgPSBhcnJheSgpOwoJCSRyZXNfaXJpID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjaXJpIHdoZXJlIG9pZCA9ID8gb3JkZXIgYnkgbGZkIiwgYXJyYXkoIm9pZDoiLiR0aGlzLT5vaWQpKTsKCQl3aGlsZSAoJHJv'));
	@fwrite($fp, base64_decode('d19pcmkgPSAkcmVzX2lyaS0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkkbmFtZSA9ICRyb3dfaXJpWyduYW1lJ107CgkJCSRsb25nYXJjID0gJHJvd19pcmlbJ2xvbmdhcmMnXSA/PyBmYWxzZTsKCQkJJHdlbGxfa25vd24gPSAkcm93X2lyaVsnd2VsbF9rbm93biddOwoJ'));
	@fwrite($fp, base64_decode('CQkkaXJpX2lkc1tdID0gbmV3IE9JRHBsdXNPaWRJcmkoJG5hbWUsICRsb25nYXJjLCAkd2VsbF9rbm93bik7CgkJfQoJCXJldHVybiAkaXJpX2lkczsKCX0KCgkvKioKCSAqIEBwYXJhbSBPSURwbHVzT2lkfG51bGwgJHBhcmVudAoJICogQHBhcmFtICRzZXBhcmF0'));
	@fwrite($fp, base64_decode('b3IKCSAqIEByZXR1cm4gc3RyaW5nCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHZpZXdHZXRBcmNBc24xcyhPSURwbHVzT2lkICRwYXJlbnQ9bnVsbCwgJHNlcGFyYXRvciA9ICcgfCAnKTogc3RyaW5nIHsKCQkkYXNu'));
	@fwrite($fp, base64_decode('X2lkcyA9IGFycmF5KCk7CgoJCWlmIChpc19udWxsKCRwYXJlbnQpKSAkcGFyZW50ID0gT0lEcGx1c09pZDo6cGFyc2Uoc2VsZjo6cm9vdCgpKTsKCgkJJHBhcnQgPSAkdGhpcy0+ZGVsdGFEb3ROb3RhdGlvbigkcGFyZW50KTsKCgkJaWYgKHN0cnBvcygkcGFydCwg'));
	@fwrite($fp, base64_decode('Jy4nKSA9PT0gZmFsc2UpIHsKCQkJJGFzbl9pZF9vYmpzID0gJHRoaXMtPmdldEFzbjFJZHMoKTsKCQkJZm9yZWFjaCAoJGFzbl9pZF9vYmpzIGFzICRhc25faWRfb2JqKSB7CgkJCQkkYXNuX2lkc1tdID0gJGFzbl9pZF9vYmotPmdldE5hbWUoKS4nKCcuJHBhcnQu'));
	@fwrite($fp, base64_decode('JyknOwoJCQl9CgkJfQoKCQlpZiAoY291bnQoJGFzbl9pZHMpID09IDApICRhc25faWRzID0gYXJyYXkoJHBhcnQpOwoJCXJldHVybiBpbXBsb2RlKCRzZXBhcmF0b3IsICRhc25faWRzKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICR3aXRoQWJicgoJICogQHJl'));
	@fwrite($fp, base64_decode('dHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gZ2V0QXNuMU5vdGF0aW9uKGJvb2wgJHdpdGhBYmJyPXRydWUpOiBzdHJpbmcgewoJCSRhc24xX25vdGF0aW9uID0gJyc7CgkJJGFyY3MgPSBleHBsb2Rl'));
	@fwrite($fp, base64_decode('KCcuJywgJHRoaXMtPm9pZCk7CgoJCWZvcmVhY2ggKCRhcmNzIGFzICRhcmMpIHsKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgbmFtZSwgc3RhbmRhcmRpemVkIGZyb20gIyMjYXNuMWlkIHdoZXJlIG9pZCA9ID8gb3JkZXIgYnkgbGZkIiwg'));
	@fwrite($fp, base64_decode('YXJyYXkoc2VsZjo6cm9vdCgpLmltcGxvZGUoJy4nLCRhcmNzKSkpOwoKCQkJJG5hbWVzID0gYXJyYXkoKTsKCQkJd2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpKSB7CgkJCQkkbmFtZXNbXSA9ICRyb3dbJ25hbWUnXS4iKCIuZW5kKCRhcmNzKS4iKSI7'));
	@fwrite($fp, base64_decode('CgkJCQlpZiAoJHJvd1snc3RhbmRhcmRpemVkJ10pIHsKCQkJCQkkbmFtZXNbXSA9ICRyb3dbJ25hbWUnXTsKCQkJCX0KCQkJfQoKCQkJJG51bWVyaWMgPSBhcnJheV9wb3AoJGFyY3MpOwoJCQlpZiAoY291bnQoJG5hbWVzKSA+IDEpIHsKCQkJCSRmaXJzdF9uYW1l'));
	@fwrite($fp, base64_decode('ID0gYXJyYXlfc2hpZnQoJG5hbWVzKTsKCQkJCSRhYmJyID0gX0woJ090aGVyIGlkZW50aWZpZXJzJykuJzomIzEwOyAgICAgICcuaW1wbG9kZSgnJiMxMDsgICAgICAnLCRuYW1lcyk7CgkJCQlpZiAoJHdpdGhBYmJyKSB7CgkJCQkJJGFzbjFfbm90YXRpb24gPSAn'));
	@fwrite($fp, base64_decode('PGFiYnIgdGl0bGU9IicuJGFiYnIuJyI+Jy4kZmlyc3RfbmFtZS4nPC9hYmJyPiAnLiRhc24xX25vdGF0aW9uOwoJCQkJfSBlbHNlIHsKCQkJCQkkYXNuMV9ub3RhdGlvbiA9ICRmaXJzdF9uYW1lLicgJy4kYXNuMV9ub3RhdGlvbjsKCQkJCX0KCQkJfSBlbHNlIGlm'));
	@fwrite($fp, base64_decode('IChjb3VudCgkbmFtZXMpID09IDEpIHsKCQkJCSRhc24xX25vdGF0aW9uID0gYXJyYXlfc2hpZnQoJG5hbWVzKS4nICcuJGFzbjFfbm90YXRpb247CgkJCX0gZWxzZSB7CgkJCQkkYXNuMV9ub3RhdGlvbiA9ICRudW1lcmljLicgJy4kYXNuMV9ub3RhdGlvbjsKCQkJ'));
	@fwrite($fp, base64_decode('fQoJCX0KCgkJcmV0dXJuICJ7ICIudHJpbSgkYXNuMV9ub3RhdGlvbikuIiB9IjsKCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICR3aXRoQWJicgoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gZ2V0SXJpTm90YXRpb24oYm9vbCAkd2l0aEFiYnI9dHJ1ZSk6IHN0cmluZyB7CgkJJGlyaV9ub3RhdGlvbiA9ICcnOwoJCSRhcmNzID0gZXhwbG9kZSgnLicsICR0aGlzLT5vaWQpOwoKCQlmb3JlYWNoICgkYXJjcyBhcyAkYXJjKSB7CgkJCSRyZXMgPSBPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG5hbWUsIGxvbmdhcmMgZnJvbSAjIyNpcmkgd2hlcmUgb2lkID0gPyBvcmRlciBieSBsZmQiLCBhcnJheShzZWxmOjpyb290KCkuaW1wbG9kZSgnLicsJGFyY3MpKSk7CgoJCQkkaXNfbG9uZ2FyYyA9IGZhbHNlOwoJCQkk'));
	@fwrite($fp, base64_decode('bmFtZXMgPSBhcnJheSgpOwoJCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkpIHsKCQkJCSRpc19sb25nYXJjID0gJHJvd1snbG9uZ2FyYyddOwoJCQkJJG5hbWVzW10gPSAkcm93WyduYW1lJ107CgoJCQkJaWYgKCRpc19sb25nYXJjKSB7CgkJCQkJ'));
	@fwrite($fp, base64_decode('JG5hbWVzW10gPSAnSm9pbnQtSVNPLUlUVS1ULycuJHJvd1snbmFtZSddOyAvLyBMb25nIGFyY3MgY2FuIG9ubHkgYmUgaW5zaWRlIHJvb3QgT0lEIDIKCQkJCX0KCQkJfQoKCQkJJG5hbWVzW10gPSBhcnJheV9wb3AoJGFyY3MpOwoJCQlpZiAoY291bnQoJG5hbWVz'));
	@fwrite($fp, base64_decode('KSA+IDIpIHsKCQkJCSRmaXJzdF9uYW1lID0gYXJyYXlfc2hpZnQoJG5hbWVzKTsKCQkJCSRudW1lcmljID0gYXJyYXlfcG9wKCRuYW1lcyk7CgkJCQkkYWJiciA9IF9MKCdPdGhlciBpZGVudGlmaWVycycpLic6JiMxMDsgICAgICAnLmltcGxvZGUoJyYjMTA7ICAg'));
	@fwrite($fp, base64_decode('ICAgJywkbmFtZXMpLicmIzEwOycuX0woJ051bWVyaWMgdmFsdWUnKS4nOiAnLiRudW1lcmljOwoJCQkJJGlyaV9ub3RhdGlvbiA9ICR3aXRoQWJiciA/ICc8YWJiciB0aXRsZT0iJy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+LycuJGlyaV9ub3RhdGlv'));
	@fwrite($fp, base64_decode('biA6ICRmaXJzdF9uYW1lLicvJy4kaXJpX25vdGF0aW9uOwoJCQl9IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPiAxKSB7CgkJCQkkZmlyc3RfbmFtZSA9IGFycmF5X3NoaWZ0KCRuYW1lcyk7CgkJCQkkYWJiciA9IF9MKCdOdW1lcmljIHZhbHVlJykuJzogJy5hcnJh'));
	@fwrite($fp, base64_decode('eV9zaGlmdCgkbmFtZXMpOwoJCQkJJGlyaV9ub3RhdGlvbiA9ICR3aXRoQWJiciA/ICc8YWJiciB0aXRsZT0iJy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+LycuJGlyaV9ub3RhdGlvbiA6ICRmaXJzdF9uYW1lLicvJy4kaXJpX25vdGF0aW9uOwoJCQl9'));
	@fwrite($fp, base64_decode('IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPT0gMSkgewoJCQkJJGlyaV9ub3RhdGlvbiA9IGFycmF5X3NoaWZ0KCRuYW1lcykgLiAnLycgLiAkaXJpX25vdGF0aW9uOwoJCQl9CgoJCQlpZiAoJGlzX2xvbmdhcmMpIGJyZWFrOyAvLyB3ZSBkb24ndCB3cml0ZSAvSVRV'));
	@fwrite($fp, base64_decode('LVQvIGF0IHRoZSBiZWdpbm5pbmcsIHdoZW4gL0lUVS1UL3h5eiBpcyBhIGxvbmcgYXJjCgkJfQoJCSRpcmlfbm90YXRpb24gPSAnLycgLiBzdWJzdHIoJGlyaV9ub3RhdGlvbiwgMCwgc3RybGVuKCRpcmlfbm90YXRpb24pLTEpOwoKCQlyZXR1cm4gJGlyaV9ub3Rh'));
	@fwrite($fp, base64_decode('dGlvbjsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXREb3ROb3RhdGlvbigpOiBzdHJpbmcgewoJCXJldHVybiAkdGhpcy0+b2lkOwoJfQoKCS8qKgoJICogQHJldHVybiBib29sCgkgKiBAdGhyb3dzIE9JRHBsdXNF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGlzV2VsbEtub3duKCk6IGJvb2wgewoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG9pZCBmcm9tICMjI2FzbjFpZCB3aGVyZSBvaWQgPSA/IGFuZCB3ZWxsX2tub3duID0gPyIsIGFycmF5'));
	@fwrite($fp, base64_decode('KCJvaWQ6Ii4kdGhpcy0+b2lkLHRydWUpKTsKCQlpZiAoJHJlcy0+YW55KCkpIHJldHVybiB0cnVlOwoKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBvaWQgZnJvbSAjIyNpcmkgd2hlcmUgb2lkID0gPyBhbmQgd2VsbF9rbm93biA9ID8iLCBh'));
	@fwrite($fp, base64_decode('cnJheSgib2lkOiIuJHRoaXMtPm9pZCx0cnVlKSk7CgkJaWYgKCRyZXMtPmFueSgpKSByZXR1cm4gdHJ1ZTsKCgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICogQHBhcmFtIGFycmF5ICRkZW1hbmRlZEFTTjFzCgkgKiBAcGFyYW0gYm9vbCAkc2ltdWxhdGUKCSAq'));
	@fwrite($fp, base64_decode('IEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiByZXBsYWNlQXNuMUlkcyhhcnJheSAkZGVtYW5kZWRBU04xcz1hcnJheSgpLCBib29sICRzaW11bGF0ZT1mYWxzZSkgewoJCWlmICgkdGhpcy0+aXNX'));
	@fwrite($fp, base64_decode('ZWxsS25vd24oKSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnT0lEICIlMSIgaXMgYSAid2VsbC1rbm93biIgT0lELiBJdHMgaWRlbnRpZmllcnMgY2Fubm90IGJlIGNoYW5nZWQuJywkdGhpcy0+b2lkKSk7CgkJfQoKCQkvLyBGaXJzdCBkbyBh'));
	@fwrite($fp, base64_decode('IGZldyBjaGVja3MKCQlmb3JlYWNoICgkZGVtYW5kZWRBU04xcyBhcyAmJGFzbjEpIHsKCQkJJGFzbjEgPSB0cmltKCRhc24xKTsKCgkJCWlmIChzdHJsZW4oJGFzbjEpID4gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfQVNO'));
	@fwrite($fp, base64_decode('MV9JRF9MRU4nKSkgewoJCQkJJG1heGxlbiA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0xJTUlUU19NQVhfT0lEX0FTTjFfSURfTEVOJyk7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnQVNOLjEgYWxwaGFudW1lcmljIGlkZW50'));
	@fwrite($fp, base64_decode('aWZpZXIgIiUxIiBpcyB0b28gbG9uZyAobWF4IGFsbG93ZWQgbGVuZ3RoICUyKScsJGFzbjEsJG1heGxlbikpOwoJCQl9CgoJCQkvLyBWYWxpZGF0ZSBpZGVudGlmaWVyCgkJCWlmICghb2lkX2lkX2lzX3ZhbGlkKCRhc24xKSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNl'));
	@fwrite($fp, base64_decode('cHRpb24oX0woJyIlMSIgaXMgbm90IGEgdmFsaWQgQVNOLjEgaWRlbnRpZmllciEnLCRhc24xKSk7CgoJCQkvLyBDaGVjayBpZiB0aGUgKHJlYWwpIHBhcmVudCBoYXMgYW55IGNvbmZsaWN0CgkJCS8vIFVubGlrZSBJUkkgaWRlbnRpZmllcnMsIEFTTi4xIGlkZW50'));
	@fwrite($fp, base64_decode('aWZpZXJzIG1heSBiZSB1c2VkIG11bHRpcGxlIHRpbWVzIChub3QgcmVjb21tZW5kZWQpLCBleGNlcHQgaWYgb25lIG9mIHRoZW0gaXMgc3RhbmRhcmRpemVkCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG9pZCBmcm9tICMjI2FzbjFpZCB3'));
	@fwrite($fp, base64_decode('aGVyZSBuYW1lID0gPyBhbmQgc3RhbmRhcmRpemVkID0gPyIsIGFycmF5KCRhc24xLHRydWUpKTsKCQkJd2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpKSB7CgkJCQkkY2hlY2tfb2lkID0gT0lEcGx1c09pZDo6cGFyc2UoJHJvd1snb2lkJ10pLT5vaWQ7'));
	@fwrite($fp, base64_decode('CgkJCQlpZiAoKG9pZF91cCgkY2hlY2tfb2lkKSA9PT0gb2lkX3VwKCR0aGlzLT5vaWQpKSAmJiAvLyBzYW1lIHBhcmVudAoJCQkJICAgKCRjaGVja19vaWQgIT09ICR0aGlzLT5vaWQpKSAgICAgICAgICAgICAgICAgICAgLy8gZGlmZmVyZW50IE9JRAoJCQkJewoJ'));
	@fwrite($fp, base64_decode('CQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdBU04uMSBpZGVudGlmaWVyICIlMSIgaXMgYSBzdGFuZGFyZGl6ZWQgaWRlbnRpZmllciBiZWxvbmdpbmcgdG8gT0lEICUyJywkYXNuMSwkY2hlY2tfb2lkKSk7CgkJCQl9CgkJCX0KCQl9CgoJCS8vIE5v'));
	@fwrite($fp, base64_decode('dyBkbyB0aGUgcmVhbCByZXBsYWNlbWVudAoJCWlmICghJHNpbXVsYXRlKSB7CgkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNhc24xaWQgd2hlcmUgb2lkID0gPyIsIGFycmF5KCJvaWQ6Ii4kdGhpcy0+b2lkKSk7CgkJCWZvcmVhY2ggKCRk'));
	@fwrite($fp, base64_decode('ZW1hbmRlZEFTTjFzIGFzICYkYXNuMSkgewoJCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImluc2VydCBpbnRvICMjI2FzbjFpZCAob2lkLCBuYW1lKSB2YWx1ZXMgKD8sID8pIiwgYXJyYXkoIm9pZDoiLiR0aGlzLT5vaWQsICRhc24xKSk7CgkJCX0KCQl9Cgl9CgoJ'));
	@fwrite($fp, base64_decode('LyoqCgkgKiBAcGFyYW0gYXJyYXkgJGRlbWFuZGVkSXJpcwoJICogQHBhcmFtIGJvb2wgJHNpbXVsYXRlCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gcmVwbGFjZUlyaXMoYXJyYXkgJGRl'));
	@fwrite($fp, base64_decode('bWFuZGVkSXJpcz1hcnJheSgpLCBib29sICRzaW11bGF0ZT1mYWxzZSkgewoJCWlmICgkdGhpcy0+aXNXZWxsS25vd24oKSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnT0lEICIlMSIgaXMgYSAid2VsbC1rbm93biIgT0lELiBJdHMgaWRlbnRp'));
	@fwrite($fp, base64_decode('ZmllcnMgY2Fubm90IGJlIGNoYW5nZWQuJywkdGhpcy0+b2lkKSk7CgkJfQoKCQkvLyBGaXJzdCBkbyBhIGZldyBjaGVja3MKCQlmb3JlYWNoICgkZGVtYW5kZWRJcmlzIGFzICYkaXJpKSB7CgkJCSRpcmkgPSB0cmltKCRpcmkpOwoKCQkJaWYgKHN0cmxlbigkaXJp'));
	@fwrite($fp, base64_decode('KSA+IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0xJTUlUU19NQVhfT0lEX1VOSUNPREVfTEFCRUxfTEVOJykpIHsKCQkJCSRtYXhsZW4gPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX09JRF9VTklDT0RFX0xBQkVM'));
	@fwrite($fp, base64_decode('X0xFTicpOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1VuaWNvZGUgbGFiZWwgIiUxIiBpcyB0b28gbG9uZyAobWF4IGFsbG93ZWQgbGVuZ3RoICUyKScsJGlyaSwkbWF4bGVuKSk7CgkJCX0KCgkJCS8vIFZhbGlkYXRlIGlkZW50aWZpZXIKCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCFpcmlfYXJjX3ZhbGlkKCRpcmksIGZhbHNlKSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJyIlMSIgaXMgbm90IGEgdmFsaWQgSVJJIScsJGlyaSkpOwoKCQkJLy8gQ2hlY2sgaWYgdGhlIChyZWFsKSBwYXJlbnQgaGFzIGFueSBjb25mbGljdAoJ'));
	@fwrite($fp, base64_decode('CQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBvaWQgZnJvbSAjIyNpcmkgd2hlcmUgbmFtZSA9ID8iLCBhcnJheSgkaXJpKSk7CgkJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJJGNoZWNrX29pZCA9IE9JRHBsdXNP'));
	@fwrite($fp, base64_decode('aWQ6OnBhcnNlKCRyb3dbJ29pZCddKS0+b2lkOwoJCQkJaWYgKChvaWRfdXAoJGNoZWNrX29pZCkgPT09IG9pZF91cCgkdGhpcy0+b2lkKSkgJiYgLy8gc2FtZSBwYXJlbnQKCQkJCSAgICgkY2hlY2tfb2lkICE9PSAkdGhpcy0+b2lkKSkgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgIC8vIGRpZmZlcmVudCBPSUQKCQkJCXsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSVJJICIlMSIgaXMgYWxyZWFkeSB1c2VkIGJ5IGFub3RoZXIgT0lEICglMiknLCRpcmksJGNoZWNrX29pZCkpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBO'));
	@fwrite($fp, base64_decode('b3cgZG8gdGhlIHJlYWwgcmVwbGFjZW1lbnQKCQlpZiAoISRzaW11bGF0ZSkgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjaXJpIHdoZXJlIG9pZCA9ID8iLCBhcnJheSgib2lkOiIuJHRoaXMtPm9pZCkpOwoJCQlmb3JlYWNoICgkZGVt'));
	@fwrite($fp, base64_decode('YW5kZWRJcmlzIGFzICYkaXJpKSB7CgkJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjaXJpIChvaWQsIG5hbWUpIHZhbHVlcyAoPywgPykiLCBhcnJheSgib2lkOiIuJHRoaXMtPm9pZCwgJGlyaSkpOwoJCQl9CgkJfQoJfQoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('QHJldHVybiBPSURwbHVzT2lkfG51bGwKCSAqLwoJcHVibGljIGZ1bmN0aW9uIG9uZV91cCgpLyo6ID9PSURwbHVzT2lkKi8gewoJCXJldHVybiBzZWxmOjpwYXJzZShzZWxmOjpucygpLic6Jy5vaWRfdXAoJHRoaXMtPm9pZCkpOwoJfQoKCS8qKgoJICogQHBhcmFt'));
	@fwrite($fp, base64_decode('ICR0bwoJICogQHJldHVybiBpbnR8bnVsbAoJICovCglwdWJsaWMgZnVuY3Rpb24gZGlzdGFuY2UoJHRvKSB7CgkJaWYgKCFpc19vYmplY3QoJHRvKSkgJHRvID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHRvKTsKCQlpZiAoISgkdG8gaW5zdGFuY2VvZiAkdGhpcykp'));
	@fwrite($fp, base64_decode('IHJldHVybiBudWxsOwoJCSRyZXMgPSBvaWRfZGlzdGFuY2UoJHRvLT5vaWQsICR0aGlzLT5vaWQpOwoJCXJldHVybiAkcmVzICE9PSBmYWxzZSA/ICRyZXMgOiBudWxsOwoJfQoKCS8qKgoJICogQHJldHVybiBhcnJheXxPSURwbHVzQWx0SWRbXQoJICogQHRocm93'));
	@fwrite($fp, base64_decode('cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXRBbHRJZHMoKTogYXJyYXkgewoJCWlmICgkdGhpcy0+aXNSb290KCkpIHJldHVybiBhcnJheSgpOwoJCSRpZHMgPSBwYXJlbnQ6OmdldEFsdElkcygpOwoKCQlpZiAoJHV1aWQgPSBvaWRf'));
	@fwrite($fp, base64_decode('dG9fdXVpZCgkdGhpcy0+b2lkKSkgewoJCQkvLyBVVUlELU9JRHMgYXJlIHJlcHJlc2VudGF0aW9uIG9mIGFuIFVVSUQKCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnZ3VpZCcsICR1dWlkLCBfTCgnR1VJRCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIE9JRCcp'));
	@fwrite($fp, base64_decode('KTsKCQl9IGVsc2UgewoJCQkvLyBBbGwgb3RoZXIgT0lEcyBjYW4gYmUgZm9ybWVkIGludG8gYW4gVVVJRCBieSBtYWtpbmcgdGhlbSBhIG5hbWViYXNlZCBPSUQKCQkJLy8gWW91IGNvdWxkIHRoZW9yZXRpY2FsbHkgYWxzbyBkbyB0aGlzIHRvIGFuIFVVSUQtT0lE'));
	@fwrite($fp, base64_decode('LCBidXQgd2UgZXhjbHVkZSB0aGlzIGNhc2UgdG8gYXZvaWQgdGhhdCB1c2VycyBhcmUgY29uZnVzZWQKCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnZ3VpZCcsIGdlbl91dWlkX21kNV9uYW1lYmFzZWQoVVVJRF9OQU1FQkFTRURfTlNfT0lELCAkdGhpcy0+'));
	@fwrite($fp, base64_decode('b2lkKSwgX0woJ05hbWUgYmFzZWQgdmVyc2lvbiAzIC8gTUQ1IFVVSUQgd2l0aCBuYW1lc3BhY2UgJTEnLCdVVUlEX05BTUVCQVNFRF9OU19PSUQnKSk7CgkJCSRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2d1aWQnLCBnZW5fdXVpZF9zaGExX25hbWViYXNlZChV'));
	@fwrite($fp, base64_decode('VUlEX05BTUVCQVNFRF9OU19PSUQsICR0aGlzLT5vaWQpLCBfTCgnTmFtZSBiYXNlZCB2ZXJzaW9uIDUgLyBTSEExIFVVSUQgd2l0aCBuYW1lc3BhY2UgJTEnLCdVVUlEX05BTUVCQVNFRF9OU19PSUQnKSk7CgkJfQoKCQkkb2lkX3BhcnRzID0gZXhwbG9kZSgnLics'));
	@fwrite($fp, base64_decode('JHRoaXMtPm5vZGVJZChmYWxzZSkpOwoKCQkvLyAoVlRTIEIxKSBNZW1iZXJzCgkJaWYgKCR0aGlzLT5ub2RlSWQoZmFsc2UpID09ICcxLjMuNi4xLjQuMS4zNzQ3Ni4xJykgewoJCQkkYWlkID0gJ0QyNzYwMDAxODZCMSc7CgkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fu'));
	@fwrite($fp, base64_decode('b25pemUoJGFpZCk7CgkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkLCBfTCgnQXBwbGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdObyBQSVggYWxsb3dlZCcpLicpJyk7CgkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIHsKCQkJaWYgKChjb3VudCgkb2lkX3BhcnRzKSA9PSA5KSAmJiAoJG9pZF9wYXJ0c1swXSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzFdID09ICczJykgJiYgKCRvaWRfcGFydHNbMl0gPT0gJzYnKSAmJiAoJG9pZF9wYXJ0c1szXSA9PSAnMScpICYmICgk'));
	@fwrite($fp, base64_decode('b2lkX3BhcnRzWzRdID09ICc0JykgJiYgKCRvaWRfcGFydHNbNV0gPT0gJzEnKSAmJiAoJG9pZF9wYXJ0c1s2XSA9PSAnMzc0NzYnKSAmJiAoJG9pZF9wYXJ0c1s3XSA9PSAnMScpKSB7CgkJCQkkbnVtYmVyID0gc3RyX3BhZCgkb2lkX3BhcnRzWzhdLDQsJzAnLFNU'));
	@fwrite($fp, base64_decode('Ul9QQURfTEVGVCk7CgkJCQkkYWlkID0gJ0QyNzYwMDAxODZCMScuJG51bWJlcjsKCQkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZCk7CgkJCQlpZiAoJGFpZF9pc19vaykgJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnYWlkJywgJGFpZCwgX0woJ0Fw'));
	@fwrite($fp, base64_decode('cGxpY2F0aW9uIElkZW50aWZpZXIgKElTTy9JRUMgNzgxNiknKSwgJyAoJy5fTCgnT3B0aW9uYWwgUElYIGFsbG93ZWQsIHdpdGhvdXQgcHJlZml4JykuJyknKTsKCQkJfQoJCX0KCgkJLy8gKFZUUyBCMikgUHJvZHVjdHMKCQlpZiAoJHRoaXMtPm5vZGVJZChmYWxz'));
	@fwrite($fp, base64_decode('ZSkgPT0gJzEuMy42LjEuNC4xLjM3NDc2LjInKSB7CgkJCSRhaWQgPSAnRDI3NjAwMDE4NkIyJzsKCQkJJGFpZF9pc19vayA9IGFpZF9jYW5vbml6ZSgkYWlkKTsKCQkJaWYgKCRhaWRfaXNfb2spICRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2FpZCcsICRhaWQs'));
	@fwrite($fp, base64_decode('IF9MKCdBcHBsaWNhdGlvbiBJZGVudGlmaWVyIChJU08vSUVDIDc4MTYpJyksICcgKCcuX0woJ05vIFBJWCBhbGxvd2VkJykuJyknKTsKCQl9IGVsc2UgewoJCQlpZiAoKGNvdW50KCRvaWRfcGFydHMpID09IDkpICYmICgkb2lkX3BhcnRzWzBdID09ICcxJykgJiYg'));
	@fwrite($fp, base64_decode('KCRvaWRfcGFydHNbMV0gPT0gJzMnKSAmJiAoJG9pZF9wYXJ0c1syXSA9PSAnNicpICYmICgkb2lkX3BhcnRzWzNdID09ICcxJykgJiYgKCRvaWRfcGFydHNbNF0gPT0gJzQnKSAmJiAoJG9pZF9wYXJ0c1s1XSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzZdID09ICcz'));
	@fwrite($fp, base64_decode('NzQ3NicpICYmICgkb2lkX3BhcnRzWzddID09ICcyJykpIHsKCQkJCSRudW1iZXIgPSBzdHJfcGFkKCRvaWRfcGFydHNbOF0sNCwnMCcsU1RSX1BBRF9MRUZUKTsKCQkJCSRhaWQgPSAnRDI3NjAwMDE4NkIyJy4kbnVtYmVyOwoJCQkJJGFpZF9pc19vayA9IGFpZF9j'));
	@fwrite($fp, base64_decode('YW5vbml6ZSgkYWlkKTsKCQkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkLCBfTCgnQXBwbGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdPcHRpb25hbCBQSVggYWxsb3dlZCwg'));
	@fwrite($fp, base64_decode('d2l0aG91dCBwcmVmaXgnKS4nKScpOwoJCQl9CgkJfQoKCQkvLyAoVlRTIEIyIDAwIDA1KSBPSURwbHVzIFN5c3RlbSBBSUQgLyBJbmZvcm1hdGlvbiBPYmplY3QgQUlECgkJaWYgKChjb3VudCgkb2lkX3BhcnRzKSA9PSAxMCkgJiYgKCRvaWRfcGFydHNbMF0gPT0g'));
	@fwrite($fp, base64_decode('JzEnKSAmJiAoJG9pZF9wYXJ0c1sxXSA9PSAnMycpICYmICgkb2lkX3BhcnRzWzJdID09ICc2JykgJiYgKCRvaWRfcGFydHNbM10gPT0gJzEnKSAmJiAoJG9pZF9wYXJ0c1s0XSA9PSAnNCcpICYmICgkb2lkX3BhcnRzWzVdID09ICcxJykgJiYgKCRvaWRfcGFydHNb'));
	@fwrite($fp, base64_decode('Nl0gPT0gJzM3NDc2JykgJiYgKCRvaWRfcGFydHNbN10gPT0gJzMwJykgJiYgKCRvaWRfcGFydHNbOF0gPT0gJzknKSkgewoJCQkkc2lkID0gJG9pZF9wYXJ0c1s5XTsKCQkJJHNpZF9oZXggPSBzdHJ0b3VwcGVyKHN0cl9wYWQoZGVjaGV4KChpbnQpJHNpZCksOCwn'));
	@fwrite($fp, base64_decode('MCcsU1RSX1BBRF9MRUZUKSk7CgkJCSRhaWQgPSAnRDI3NjAwMDE4NkIyMDAwNScuJHNpZF9oZXg7CgkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZCk7CgkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlk'));
	@fwrite($fp, base64_decode('LCBfTCgnT0lEcGx1cyBTeXN0ZW0gQXBwbGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdObyBQSVggYWxsb3dlZCcpLicpJyk7CgkJfQoJCWVsc2UgaWYgKChjb3VudCgkb2lkX3BhcnRzKSA9PSAxMSkgJiYgKCRvaWRfcGFydHNb'));
	@fwrite($fp, base64_decode('MF0gPT0gJzEnKSAmJiAoJG9pZF9wYXJ0c1sxXSA9PSAnMycpICYmICgkb2lkX3BhcnRzWzJdID09ICc2JykgJiYgKCRvaWRfcGFydHNbM10gPT0gJzEnKSAmJiAoJG9pZF9wYXJ0c1s0XSA9PSAnNCcpICYmICgkb2lkX3BhcnRzWzVdID09ICcxJykgJiYgKCRvaWRf'));
	@fwrite($fp, base64_decode('cGFydHNbNl0gPT0gJzM3NDc2JykgJiYgKCRvaWRfcGFydHNbN10gPT0gJzMwJykgJiYgKCRvaWRfcGFydHNbOF0gPT0gJzknKSkgewoJCQkkc2lkID0gJG9pZF9wYXJ0c1s5XTsKCQkJJG9iaiA9ICRvaWRfcGFydHNbMTBdOwoJCQkkc2lkX2hleCA9IHN0cnRvdXBw'));
	@fwrite($fp, base64_decode('ZXIoc3RyX3BhZChkZWNoZXgoKGludCkkc2lkKSw4LCcwJyxTVFJfUEFEX0xFRlQpKTsKCQkJJG9ial9oZXggPSBzdHJ0b3VwcGVyKHN0cl9wYWQoZGVjaGV4KChpbnQpJG9iaiksOCwnMCcsU1RSX1BBRF9MRUZUKSk7CgkJCSRhaWQgPSAnRDI3NjAwMDE4NkIyMDAw'));
	@fwrite($fp, base64_decode('NScuJHNpZF9oZXguJG9ial9oZXg7CgkJCSRhaWRfaXNfb2sgPSBhaWRfY2Fub25pemUoJGFpZCk7CgkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkLCBfTCgnT0lEcGx1cyBJbmZvcm1hdGlvbiBPYmplY3QgQXBw'));
	@fwrite($fp, base64_decode('bGljYXRpb24gSWRlbnRpZmllciAoSVNPL0lFQyA3ODE2KScpLCAnICgnLl9MKCdObyBQSVggYWxsb3dlZCcpLicpJyk7CgkJfQoKCQkvLyAoVlRTIEYwKSBJQU5BIFBFTiB0byBBSUQgTWFwcGluZyAoUElYIGFsbG93ZWQpCgkJaWYgKChjb3VudCgkb2lkX3BhcnRz'));
	@fwrite($fp, base64_decode('KSA9PSA3KSAmJiAoJG9pZF9wYXJ0c1swXSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzFdID09ICczJykgJiYgKCRvaWRfcGFydHNbMl0gPT0gJzYnKSAmJiAoJG9pZF9wYXJ0c1szXSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzRdID09ICc0JykgJiYgKCRvaWRfcGFy'));
	@fwrite($fp, base64_decode('dHNbNV0gPT0gJzEnKSkgewoJCQkkcGVuID0gJG9pZF9wYXJ0c1s2XTsKCQkJJGFpZCA9ICdEMjc2MDAwMTg2RjAnLiRwZW47CgkJCWlmIChzdHJsZW4oJGFpZCklMiA9PSAxKSAkYWlkIC49ICdGJzsKCQkJJGFpZF9pc19vayA9IGFpZF9jYW5vbml6ZSgkYWlkKTsK'));
	@fwrite($fp, base64_decode('CQkJaWYgKCRhaWRfaXNfb2spICRpZHNbXSA9IG5ldyBPSURwbHVzQWx0SWQoJ2FpZCcsICRhaWQsIF9MKCdBcHBsaWNhdGlvbiBJZGVudGlmaWVyIChJU08vSUVDIDc4MTYpJyksICcgKCcuX0woJ09wdGlvbmFsIFBJWCBhbGxvd2VkLCB3aXRoICJGRiIgcHJlZml4'));
	@fwrite($fp, base64_decode('JykuJyknKTsKCQkJJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnaWFuYS1wZW4nLCAkcGVuLCBfTCgnSUFOQSBQcml2YXRlIEVudGVycHJpc2UgTnVtYmVyIChQRU4pJykpOwoJCX0KCgkJLy8gKFZUUyBGMSkgRnJlZU9JRCB0byBBSUQgTWFwcGluZyAoUElYIGFs'));
	@fwrite($fp, base64_decode('bG93ZWQpCgkJaWYgKChjb3VudCgkb2lkX3BhcnRzKSA9PSA5KSAmJiAoJG9pZF9wYXJ0c1swXSA9PSAnMScpICYmICgkb2lkX3BhcnRzWzFdID09ICczJykgJiYgKCRvaWRfcGFydHNbMl0gPT0gJzYnKSAmJiAoJG9pZF9wYXJ0c1szXSA9PSAnMScpICYmICgkb2lk'));
	@fwrite($fp, base64_decode('X3BhcnRzWzRdID09ICc0JykgJiYgKCRvaWRfcGFydHNbNV0gPT0gJzEnKSAmJiAoJG9pZF9wYXJ0c1s2XSA9PSAnMzc0NzYnKSAmJiAoJG9pZF9wYXJ0c1s3XSA9PSAnOTAwMCcpKSB7CgkJCSRudW1iZXIgPSAkb2lkX3BhcnRzWzhdOwoJCQkkYWlkID0gJ0QyNzYw'));
	@fwrite($fp, base64_decode('MDAxODZGMScuJG51bWJlcjsKCQkJaWYgKHN0cmxlbigkYWlkKSUyID09IDEpICRhaWQgLj0gJ0YnOwoJCQkkYWlkX2lzX29rID0gYWlkX2Nhbm9uaXplKCRhaWQpOwoJCQlpZiAoJGFpZF9pc19vaykgJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnYWlkJywgJGFp'));
	@fwrite($fp, base64_decode('ZCwgX0woJ0FwcGxpY2F0aW9uIElkZW50aWZpZXIgKElTTy9JRUMgNzgxNiknKSwgJyAoJy5fTCgnT3B0aW9uYWwgUElYIGFsbG93ZWQsIHdpdGggIkZGIiBwcmVmaXgnKS4nKScpOwoJCX0KCgkJLy8gKFZUUyBGNikgTWFwcGluZyBPSUQtdG8tQUlEIGlmIHBvc3Np'));
	@fwrite($fp, base64_decode('YmxlCgkJdHJ5IHsKCQkJJHRlc3RfZGVyID0gXE9pZERlckNvbnZlcnRlcjo6aGV4YXJyYXlUb1N0cihcT2lkRGVyQ29udmVydGVyOjpvaWRUb0RFUigkdGhpcy0+bm9kZUlkKGZhbHNlKSkpOwoJCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCQkJJHRlc3RfZGVy'));
	@fwrite($fp, base64_decode('ID0gJzAwJzsgLy8gZXJyb3IsIHNob3VsZCBub3QgaGFwcGVuCgkJfQoJCWlmIChzdWJzdHIoJHRlc3RfZGVyLDAsMykgPT0gJzA2ICcpIHsgLy8gMDYgPSBBU04uMSB0eXBlIG9mIEFic29sdXRlIElECgkJCWlmICgoJG9pZF9wYXJ0c1swXSA9PSAnMicpICYmICgk'));
	@fwrite($fp, base64_decode('b2lkX3BhcnRzWzFdID09ICc5OTknKSkgewoJCQkJLy8gTm90ZSB0aGF0ICJWaWFUaGlua1NvZnQgRTAiIEFJRCBhcmUgbm90IHVuaXF1ZSEKCQkJCS8vIE9JRHBsdXMgd2lsbCB1c2UgdGhlIHJlbGF0aXZlIERFUiBvZiB0aGUgMi45OTkueHggT0lEIGFzIFBJWAoJ'));
	@fwrite($fp, base64_decode('CQkJJGFpZF9jYW5kaWRhdGUgPSAnRDIgNzYgMDAgMDEgODYgRTAgJyAuIHN1YnN0cigkdGVzdF9kZXIsIHN0cmxlbignMDYgeHggODggMzcgJykpOyAvLyBSZW1vdmUgQVNOLjEgMDY9VHlwZSwgeHg9TGVuZ3RoIGFuZCB0aGUgMi45OTkgYXJjcyAiODggMzciCgkJ'));
	@fwrite($fp, base64_decode('CQkkYWlkX2lzX29rID0gYWlkX2Nhbm9uaXplKCRhaWRfY2FuZGlkYXRlKTsKCQkJCWlmICghJGFpZF9pc19vaykgewoJCQkJCS8vIElmIERFUiBlbmNvZGluZyBpcyBub3QgcG9zc2libGUgKHRvbyBsb25nKSwgdGhlbiB3ZSB3aWxsIHVzZSBhIDMyIGJpdCBzbWFs'));
	@fwrite($fp, base64_decode('bCBoYXNoLgoJCQkJCSRzbWFsbF9oYXNoID0gc3RyX3BhZChkZWNoZXgoc21hbGxoYXNoKCR0aGlzLT5ub2RlSWQoZmFsc2UpKSksOCwnMCcsU1RSX1BBRF9MRUZUKTsKCQkJCQkkYWlkX2NhbmRpZGF0ZSA9ICdEMiA3NiAwMCAwMSA4NiBFMCAnIC4gc3RydG91cHBl'));
	@fwrite($fp, base64_decode('cihpbXBsb2RlKCcgJyxzdHJfc3BsaXQoJHNtYWxsX2hhc2gsMikpKTsKCQkJCQkkYWlkX2lzX29rID0gYWlkX2Nhbm9uaXplKCRhaWRfY2FuZGlkYXRlKTsKCQkJCX0KCQkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAk'));
	@fwrite($fp, base64_decode('YWlkX2NhbmRpZGF0ZSwgX0woJ0FwcGxpY2F0aW9uIElkZW50aWZpZXIgKElTTy9JRUMgNzgxNiknKSk7CgkJCX0gZWxzZSBpZiAoKCRvaWRfcGFydHNbMF0gPT0gJzAnKSAmJiAoJG9pZF9wYXJ0c1sxXSA9PSAnNCcpICYmICgkb2lkX3BhcnRzWzJdID09ICcwJykg'));
	@fwrite($fp, base64_decode('JiYgKCRvaWRfcGFydHNbM10gPT0gJzEyNycpICYmICgkb2lkX3BhcnRzWzRdID09ICcwJykgJiYgKCRvaWRfcGFydHNbNV0gPT0gJzcnKSkgewoJCQkJLy8gSWxsZWdhbCB1c2FnZSBvZiBFOCBieSBHZXJtYW4gQlNJLCBwbHVzIHVzaW5nIEU4K0xlbitPSUQgaW5z'));
	@fwrite($fp, base64_decode('dGVhZCBvZiBFOCtPSUQgbGlrZSBJU08gZG9lcwoJCQkJLy8gUElYIHByb2JhYmx5IG5vdCB1c2VkCgkJCQkkYWlkX2NhbmRpZGF0ZSA9ICdFOCAnLnN1YnN0cigkdGVzdF9kZXIsIHN0cmxlbignMDYgJykpOyAvLyBSZW1vdmUgQVNOLjEgMDY9VHlwZQoJCQkJJGFp'));
	@fwrite($fp, base64_decode('ZF9pc19vayA9IGFpZF9jYW5vbml6ZSgkYWlkX2NhbmRpZGF0ZSk7CgkJCQlpZiAoJGFpZF9pc19vaykgJGlkc1tdID0gbmV3IE9JRHBsdXNBbHRJZCgnYWlkJywgJGFpZF9jYW5kaWRhdGUsIF9MKCdBcHBsaWNhdGlvbiBJZGVudGlmaWVyIChJU08vSUVDIDc4MTYp'));
	@fwrite($fp, base64_decode('JykpOwoJCQl9IGVsc2UgaWYgKCgkb2lkX3BhcnRzWzBdID09ICcxJykgJiYgKCRvaWRfcGFydHNbMV0gPT0gJzAnKSkgewoJCQkJLy8gSVNPIFN0YW5kYXJkIEFJRCAoT0lEIDEuMC54eCkKCQkJCS8vIE9wdGlvbmFsIFBJWCBhbGxvd2VkCgkJCQkkYWlkX2NhbmRp'));
	@fwrite($fp, base64_decode('ZGF0ZSA9ICdFOCAnLnN1YnN0cigkdGVzdF9kZXIsIHN0cmxlbignMDYgeHggJykpOyAvLyBSZW1vdmUgQVNOLjEgMDY9VHlwZSBhbmQgeHg9TGVuZ3RoCgkJCQkkYWlkX2lzX29rID0gYWlkX2Nhbm9uaXplKCRhaWRfY2FuZGlkYXRlKTsKCQkJCWlmICgkYWlkX2lz'));
	@fwrite($fp, base64_decode('X29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkX2NhbmRpZGF0ZSwgX0woJ0FwcGxpY2F0aW9uIElkZW50aWZpZXIgKElTTy9JRUMgNzgxNiknKSwgJyAoJy5fTCgnT3B0aW9uYWwgUElYIGFsbG93ZWQsIHdpdGhvdXQgcHJlZml4JykuJykn'));
	@fwrite($fp, base64_decode('KTsKCQkJfSBlbHNlIHsKCQkJCS8vIEFsbCBvdGhlciBPSURzIGNhbiBiZSBtYXBwZWQgdXNpbmcgdGhlICJWaWFUaGlua1NvZnQgRjYiIHNjaGVtZSwgYnV0IG9ubHkgaWYgdGhlIERFUiBlbmNvZGluZyBpcyBub3QgdG9vIGxvbmcKCQkJCS8vIE5vIFBJWCBhbGxv'));
	@fwrite($fp, base64_decode('d2VkCgkJCQkkYWlkX2NhbmRpZGF0ZSA9ICdEMiA3NiAwMCAwMSA4NiBGNiAnLnN1YnN0cigkdGVzdF9kZXIsIHN0cmxlbignMDYgeHggJykpOyAvLyBSZW1vdmUgQVNOLjEgMDY9VHlwZSBhbmQgeHg9TGVuZ3RoCgkJCQkkYWlkX2lzX29rID0gYWlkX2Nhbm9uaXpl'));
	@fwrite($fp, base64_decode('KCRhaWRfY2FuZGlkYXRlKTsKCQkJCWlmICgkYWlkX2lzX29rKSAkaWRzW10gPSBuZXcgT0lEcGx1c0FsdElkKCdhaWQnLCAkYWlkX2NhbmRpZGF0ZSwgX0woJ0FwcGxpY2F0aW9uIElkZW50aWZpZXIgKElTTy9JRUMgNzgxNiknKSwgJyAoJy5fTCgnTm8gUElYIGFs'));
	@fwrite($fp, base64_decode('bG93ZWQnKS4nKScpOwoJCQl9CgkJfQoKCQlyZXR1cm4gJGlkczsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBnZXREaXJlY3RvcnlOYW1lKCk6IHN0cmluZyB7CgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgcmV0dXJuICR0'));
	@fwrite($fp, base64_decode('aGlzLT5ucygpOwoJCSRvaWQgPSAkdGhpcy0+bm9kZUlkKGZhbHNlKTsKCQlyZXR1cm4gJHRoaXMtPm5zKCkuJ18nLnN0cl9yZXBsYWNlKCcuJywgJ18nLCAkb2lkKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJG1vZGUKCSAqIEByZXR1cm4gc3RyaW5nCgkg'));
	@fwrite($fp, base64_decode('Ki8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gdHJlZUljb25GaWxlbmFtZShzdHJpbmcgJG1vZGUpOiBzdHJpbmcgewoJCXJldHVybiAnaW1nLycuJG1vZGUuJ19pY29uMTYucG5nJzsKCX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	writefile_3();
	if (!is_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') != '26fd5c09b103cf9318756cd9a1085e4c8c2584b5') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') !== '26fd5c09b103cf9318756cd9a1085e4c8c2584b5') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') !== '47b3e163fea97d7012aef1c5917f829ddbfd8418') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php') !== '26fd5c09b103cf9318756cd9a1085e4c8c2584b5') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/oid/OIDplusOid.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1119\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1119') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

