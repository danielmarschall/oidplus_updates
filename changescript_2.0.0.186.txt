<?php /* <ViaThinkSoftSignature>
tregM6OqKuZ7ETBSj7qRhYUW/VDN2TMscxtF4MbNJ4+vZrWBRnfkuTLWSmDbWDY2W
V244bt8hixTCVTnZEnro/wmumTJETlDda/UDoFnqUtgdJfi8nNP15CXkPJRhG9VdC
TCopdMbBejGHuoOMQEK0rK2bZhvKAKMuzNw/J1c1+UFoE2uDcmfy0ovJwiYTfSMKC
ER0wHS3XBIDRO2WvPYeOo7Qwxz6hNerpTmyeyTS6Jq08sfehmynJ/qFpAB3fXk7r1
PHLDi9KstO/cvDvDjOaJe0OOg6wEn+/ijX0vlagwW728VI4MXUsbA1j8k4LAX5+ur
JZXxbayHDl/vpZlJ1mjml33Sd7Z61zVM9hw0hALosTqjBRtUmeLpbdFE4bUdvXaz2
2+CXe2HrrCs8co/fDCoQvXR4x2ijHxVhBqLZRmqXFJw38YVROD3TbdUhwl/QhHkXr
uyDMnj8ltupfsrHWEQUUwchSucwZrZxA30GHPib0DMvJ8Ok5l+OTkD4XY0+6yQ1fX
ujTIBRiikSGc1BkAbV63PEqf0UIXkmvfONXGHvyaSiusGrSmL8U3IaCW1wkYpaXz3
sW6oriiZe37pUjv1xKo2sDyR54qMzuXYhg5J8txZi2jX/U1eaKSlAvtd+WwfPYXkR
tj0hGWHrVr2GBwreszQx9okpe+3geLlqiE2SuOhwlKsuL9QpEy6CYL/uUXOwSIqUD
SR8sEQwRm6AlJhRPYYN//XfsBk0lFyVUE2NIOgnbnLRXMn5e3yGoNc74tgF2jYHNx
XneywFv+CckPG7PNIqPw+Le467YNWOSkk6nkXKtqNVb5qH+lfRnLFwcwMgSeHAt3/
fp8jV3ST5N+rfqWnenvSSTM/tErjR7XjhQXGowT9pACCLGxIhFDknwQTY90UEroTJ
p0C93JvJikFavbeF8j7SPuKMSCYjHr3vM0dZHjHXHAM9zHw/CvmpbRjLZELF4OeD4
lGc0lTZRI0iD66e3VNVR8/tSTEi1FpPplsc9ROm1Dmj26gnBiV5aYXKPMXp7Gxegg
RlC+WHj4JZb9bIwvtG7Z2vPNUmzbh3BMqKpQ2n/berwwKoZRdnEPFvAoULBPwnxn/
kt6B7UT6X1hbmqzzP+mfJl50kcMWmssNyKWy+Aa/wAOsAMZZTJhHBWGFv09fSnP2D
QYBW++CvCK0WkAMY6oOISSwVe625gVwZuOJfwHc1r3doCMU++C7EaB55kEEqhyjq5
ovg5bTnN0fjpzddCoDmglw2prUd8H3XobChOxE0POzKEoAhuA304+Fkj4b4cFCOuR
C7cMaiXcCtD4P3HQ7Vy+6gdiWcFADnEIyIFZ22v8GWxZqLQioxRVyQEywyv8Kx/zC
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 185') {
	err('This update can only be applied to OIDplus version 2.0.0.185!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: index.php
function writefile_1() {
	@$fp = fopen('index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKb2Jfc3RhcnQoKTsgLy8gYWxsb3cgY29va2llIGhlYWRlcnMgdG8gYmUgc2VudAoKaGVhZGVyKCdDb250'));
	@fwrite($fp, base64_decode('ZW50LVR5cGU6dGV4dC9odG1sOyBjaGFyc2V0PVVURi04Jyk7CgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnZ21wX2luaXQnKSkgewoJLy8gUmVxdWlyZWQgZm9yIHV1aWRfZnVuY3Rpb25zLmluYy5waHAgYW5kIGlwdjZfZnVuY3Rpb25zLmluYy5waHAKCWRpZSgnPGgx'));
	@fwrite($fp, base64_decode('Pk9JRHBsdXMgSW5zdGFsbGF0aW9uPC9oMT48cD5FUlJPUjogVGhlIGV4dGVuc2lvbiA8Yj5nbXA8L2I+IGlzIG5vdCBpbnN0YWxsZWQuPC9wPjxwPkluc3RhbGwgaXQgdXNpbmcgPGNvZGU+c3VkbyBhcHRpdHVkZSB1cGRhdGUgJiYgc3VkbyBhcHRpdHVkZSBpbnN0'));
	@fwrite($fp, base64_decode('YWxsIHBocC1nbXAgJiYgc3VkbyBzZXJ2aWNlIGFwYWNoZTIgcmVzdGFydDwvY29kZT4gb24gTGludXggc3lzdGVtcy48L3A+Jyk7Cn0KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdtYl9zdWJzdHInKSkgewoJLy8gUmVxdWlyZWQgZm9yIGluY2x1ZGVzL2NsYXNzZXMv'));
	@fwrite($fp, base64_decode('T0lEcGx1c1Nlc3Npb25IYW5kbGVyLmNsYXNzLnBocCwgaW5jbHVkZXMvb2lkX3V0aWxzLmluYy5waHAsIDNwL21pbmlmeS9wYXRoLWNvbnZlcnRlci9Db252ZXJ0ZXIucGhwLCAzcC8weGJiL1NoYTMuY2xhc3MucGhwCglkaWUoJzxoMT5PSURwbHVzIEluc3RhbGxh'));
	@fwrite($fp, base64_decode('dGlvbjwvaDE+PHA+RVJST1I6IFRoZSBleHRlbnNpb24gPGI+cGhwLW1ic3RyaW5nPC9iPiBpcyBub3QgaW5zdGFsbGVkLjwvcD48cD5JbnN0YWxsIGl0IHVzaW5nIDxjb2RlPnN1ZG8gYXB0aXR1ZGUgdXBkYXRlICYmIHN1ZG8gYXB0aXR1ZGUgaW5zdGFsbCBwaHAt'));
	@fwrite($fp, base64_decode('bWJzdHJpbmcgJiYgc3VkbyBzZXJ2aWNlIGFwYWNoZTIgcmVzdGFydDwvY29kZT4gb24gTGludXggc3lzdGVtcy48L3A+Jyk7Cn0KCk9JRHBsdXM6OmluaXQodHJ1ZSk7Cgokc3RhdGljX25vZGVfaWQgPSBpc3NldCgkX1JFUVVFU1RbJ2dvdG8nXSkgPyAkX1JFUVVF'));
	@fwrite($fp, base64_decode('U1RbJ2dvdG8nXSA6ICdvaWRwbHVzOnN5c3RlbSc7CiRzdGF0aWMgPSBPSURwbHVzOjpndWkoKTo6Z2VuZXJhdGVDb250ZW50UGFnZSgkc3RhdGljX25vZGVfaWQpOwokc3RhdGljX3RpdGxlID0gJHN0YXRpY1sndGl0bGUnXTsKJHN0YXRpY19pY29uID0gJHN0YXRp'));
	@fwrite($fp, base64_decode('Y1snaWNvbiddOwokc3RhdGljX2NvbnRlbnQgPSAkc3RhdGljWyd0ZXh0J107CgpmdW5jdGlvbiBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoJHN5c3RlbXRpdGxlLCAkcGFnZXRpdGxlKSB7CglpZiAoJHN5c3RlbXRpdGxlID09ICRwYWdldGl0bGUp'));
	@fwrite($fp, base64_decode('IHsKCQlyZXR1cm4gJHN5c3RlbXRpdGxlOwoJfSBlbHNlIHsKCQlyZXR1cm4gJHN5c3RlbXRpdGxlIC4gJyAtICcgLiAkcGFnZXRpdGxlOwoJfQp9Cgokc3lzaWRfb2lkID0gT0lEcGx1czo6c3lzdGVtX2lkKHRydWUpOwppZiAoISRzeXNpZF9vaWQpICRzeXNpZF9v'));
	@fwrite($fp, base64_decode('aWQgPSAndW5rbm93bic7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbUlEOicuJHN5c2lkX29pZCk7Cgokc3lzX3VybCA9IE9JRHBsdXM6OnN5c3RlbV91cmwoKTsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtVVJMOicuJHN5c191cmwpOwoKJHN5c192ZXIgPSBPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpnZXRWZXJzaW9uKCk7CmlmICghJHN5c192ZXIpICRzeXNfdmVyID0gJ3Vua25vd24nOwpoZWFkZXIoJ1gtT0lEcGx1cy1TeXN0ZW1WZXJzaW9uOicuJHN5c192ZXIpOwoKJHN5c19pbnN0YWxsX3R5cGUgPSBPSURwbHVzOjpnZXRJbnN0YWxsVHlwZSgpOwpo'));
	@fwrite($fp, base64_decode('ZWFkZXIoJ1gtT0lEcGx1cy1TeXN0ZW1JbnN0YWxsVHlwZTonLiRzeXNfaW5zdGFsbF90eXBlKTsKCiRzeXNfdGl0bGUgPSBPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKTsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtVGl0bGU6Jy4kc3lzX3RpdGxlKTsK'));
	@fwrite($fp, base64_decode('CmlmIChjbGFzc19leGlzdHMoJ09JRHBsdXNQYWdlQWRtaW5Db2xvcnMnKSkgewoJJGNzcyA9ICdvaWRwbHVzLm1pbi5jc3MucGhwP2hfc2hpZnQ9Jy4oT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdjb2xvcl9odWVfc2hpZnQnKS8zNjApLicmc19zaGlmdD0n'));
	@fwrite($fp, base64_decode('LihPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2NvbG9yX3NhdF9zaGlmdCcpLzEwMCkuJyZ2X3NoaWZ0PScuKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnY29sb3JfdmFsX3NoaWZ0JykvMTAwKTsKfSBlbHNlIHsKCSRjc3MgPSAnb2lkcGx1cy5taW4u'));
	@fwrite($fp, base64_decode('Y3NzLnBocCc7Cn0KCj8+PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCjxoZWFkPgoJPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPgoJPG1ldGEgbmFtZT0iT0lEcGx1cy1TeXN0'));
	@fwrite($fp, base64_decode('ZW1JRCIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c2lkX29pZCk7ID8+Ij4KCTxtZXRhIG5hbWU9Ik9JRHBsdXMtU3lzdGVtVVJMIiBjb250ZW50PSI8P3BocCBlY2hvIGh0bWxlbnRpdGllcygkc3lzX3VybCk7ID8+Ij4KCTxtZXRhIG5hbWU9'));
	@fwrite($fp, base64_decode('Ik9JRHBsdXMtU3lzdGVtVmVyc2lvbiIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c192ZXIpOyA/PiI+Cgk8bWV0YSBuYW1lPSJPSURwbHVzLVN5c3RlbUluc3RhbGxUeXBlIiBjb250ZW50PSI8P3BocCBlY2hvIGh0bWxlbnRpdGllcygkc3lz'));
	@fwrite($fp, base64_decode('X2luc3RhbGxfdHlwZSk7ID8+Ij4KCTxtZXRhIG5hbWU9Ik9JRHBsdXMtU3lzdGVtVGl0bGUiIGNvbnRlbnQ9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRzeXNfdGl0bGUpOyAvKiBEbyBub3QgcmVtb3ZlLiBUaGlzIG1ldGEgdGFnIGlzIGFjZXNzZWQgdmlhIEpT'));
	@fwrite($fp, base64_decode('ICovID8+Ij4KCTxtZXRhIG5hbWU9InRoZW1lLWNvbG9yIiBjb250ZW50PSIjQTlEQ0YwIj4KCTxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wIj4KCgk8dGl0bGU+PD9waHAgZWNobyBjb21i'));
	@fwrite($fp, base64_decode('aW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCksICRzdGF0aWNfdGl0bGUpOyA/PjwvdGl0bGU+CgoJPCEtLSBXZSBhcmUgdXNpbmcgalF1ZXJ5IDIuMi4xLCBiZWNhdXNlIDMuMy4xIHNlZW1zIHRvIGJl'));
	@fwrite($fp, base64_decode('IGluY29tcGF0aWJsZSB3aXRoIGpzVHJlZSAoSFRNTCBjb250ZW50IHdpbGwgbm90IGJlIGxvYWRlZCBpbnRvIGpzVHJlZSEpIFRPRE86IEZpbGUgYnVnIHJlcG9ydCAtLT4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnkvanF1ZXJ5LTIuMi4xLm1pbi5qcyI+PC9zY3Jp'));
	@fwrite($fp, base64_decode('cHQ+Cgk8c2NyaXB0IHNyYz0iM3AvYm9vdHN0cmFwL2pzL2Jvb3RzdHJhcC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL2pzdHJlZS9qc3RyZWUubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSczcC90aW55bWNlL3RpbnltY2UubWluLmpz'));
	@fwrite($fp, base64_decode('Jz48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9qcXVlcnktdWkvanF1ZXJ5LXVpLm1pbi5qcyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3AvbGF5b3V0L2pxdWVyeS5sYXlvdXQubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9zcGFtc3Bhbi9z'));
	@fwrite($fp, base64_decode('cGFtc3Bhbi5qcyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3Avc2hhM19qcy9zaGEzLmpzIj48L3NjcmlwdD48IS0tIGh0dHBzOi8vZ2l0aHViLmNvbS9lbW4xNzgvanMtc2hhMyAtLT4KCTw/cGhwCglpZiAoUkVDQVBUQ0hBX0VOQUJMRUQpIHsKCT8+Cgk8c2Ny'));
	@fwrite($fp, base64_decode('aXB0IHNyYz0iaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpLmpzIj48L3NjcmlwdD4KCTw/cGhwCgl9Cgk/PgoJPHNjcmlwdCBzcmM9Imh0dHBzOi8vcG9seWZpbGwuaW8vdjMvcG9seWZpbGwubWluLmpzP2ZlYXR1cmVzPWZldGNoJTJDVVJMIj48'));
	@fwrite($fp, base64_decode('L3NjcmlwdD48IS0tIEZvciBJRS4uLiAtLT4KCTxzY3JpcHQgc3JjPSJvaWRwbHVzLm1pbi5qcy5waHAiPjwvc2NyaXB0PgoKCTxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJGNzcyk7ID8+Ij4KCgk8bGluayByZWw9'));
	@fwrite($fp, base64_decode('InNob3J0Y3V0IGljb24iIHR5cGU9ImltYWdlL3gtaWNvbiIgaHJlZj0iaW1nL2Zhdmljb24uaWNvIj4KCgk8IS0tIERNIDI4IE1heSAyMDE5OiBSZW1vdmVkIENvb2tpZUNvbnNlbnQgdGVtcG9yYXJpbHksIGJlY2F1c2UgaXQgaXMgcGxhY2VkIGF0IHRoZSBiZWdp'));
	@fwrite($fp, base64_decode('bm5pbmcgb2YgdGhlIHBhZ2UgYW5kIHRoZXJlZm9yZSBydWlucyB0aGUgR29vZ2xlIGluZGV4IC4uLiAtLT4KCTwhLS0gV2UgbWlnaHQgbm90IG5lZWQgaXQsIGJlY2F1c2UgY29va2llcyBhcmUgb25seSBzZXQgZHVyaW5nIGxvZ2luLCBhbmQgYXQgdGhlIGxvZ2lu'));
	@fwrite($fp, base64_decode('IHBhZ2Ugd2UgYWxyZWFkeSB3YXJuIGFib3V0IGNvb2tpZXMgLS0+Cgk8IS0tIFRPRE86IEJyaW5nIGJhY2s/IC0tPgoJPCEtLSA8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSIzcC9jb29raWVjb25zZW50L2Nvb2tpZWNvbnNlbnQu'));
	@fwrite($fp, base64_decode('bWluLmNzcyI+Cgk8c2NyaXB0IHNyYz0iM3AvY29va2llY29uc2VudC9jb29raWVjb25zZW50Lm1pbi5qcyI+PC9zY3JpcHQ+Cgk8c2NyaXB0PgoJCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgZnVuY3Rpb24oKXsKCQl3aW5kb3cuY29va2llY29uc2Vu'));
	@fwrite($fp, base64_decode('dC5pbml0aWFsaXNlKHsKCQkJInBhbGV0dGUiOiB7CgkJCQkicG9wdXAiOiB7CgkJCQkJImJhY2tncm91bmQiOiAiI2VkZWZmNSIsCgkJCQkJInRleHQiOiAiIzgzODM5MSIKCQkJCX0sCgkJCQkiYnV0dG9uIjogewoJCQkJCSJiYWNrZ3JvdW5kIjogIiM0YjgxZTgi'));
	@fwrite($fp, base64_decode('CgkJCQl9CgkJCX0sCgkJCSJwb3NpdGlvbiI6ICJib3R0b20tcmlnaHQiCgkJfSl9KTsKCTwvc2NyaXB0PiAtLT4KPC9oZWFkPgoKPGJvZHk+Cgo8ZGl2IGlkPSJmcmFtZXMiPgoJPGRpdiBpZD0iY29udGVudF93aW5kb3ciIGNsYXNzPSJib3JkZXJib3giPgoJCTw/'));
	@fwrite($fp, base64_decode('cGhwCgkJJHN0YXRpY19jb250ZW50ID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKAoJCQknfDxhXHMoW14+XSopaHJlZj0ibWFpbHRvOihbXiJdKykiKFtePl0qKT4oW148XSopPC9hPnxpc21VJywKCQkJZnVuY3Rpb24gKCR0cmVmZmVyKSB7CgkJCQkkZW1haWwgPSAk'));
	@fwrite($fp, base64_decode('dHJlZmZlclsyXTsKCQkJCSR0ZXh0ID0gJHRyZWZmZXJbNF07CgkJCQlyZXR1cm4gc2VjdXJlX2VtYWlsKCRlbWFpbCwgJHRleHQsIDEpOyAvLyBBbnRpU3BhbQoJCQl9LCAkc3RhdGljX2NvbnRlbnQpOwoKCQllY2hvICc8aDEgaWQ9InJlYWxfdGl0bGUiPic7CgkJ'));
	@fwrite($fp, base64_decode('aWYgKCRzdGF0aWNfaWNvbiAhPSAnJykgZWNobyAnPGltZyBzcmM9IicuaHRtbGVudGl0aWVzKCRzdGF0aWNfaWNvbikuJyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IiI+ICc7CgkJZWNobyBodG1sZW50aXRpZXMoJHN0YXRpY190aXRsZSkuJzwvaDE+JzsK'));
	@fwrite($fp, base64_decode('CQllY2hvICc8ZGl2IGlkPSJyZWFsX2NvbnRlbnQiPicuJHN0YXRpY19jb250ZW50Lic8L2Rpdj4nOwoJCWlmICgkX1NFUlZFUlsnUkVRVUVTVF9NRVRIT0QnXSA9PSAnR0VUJykgewoJCQllY2hvICc8YnI+PHA+PGltZyBzcmM9ImltZy9zaGFyZS5wbmciIHdpZHRo'));
	@fwrite($fp, base64_decode('PSIxNSIgaGVpZ2h0PSIxNSIgYWx0PSJTaGFyZSI+IDxhIGhyZWY9Ij9nb3RvPScuaHRtbGVudGl0aWVzKCRzdGF0aWNfbm9kZV9pZCkuJyIgaWQ9InN0YXRpY19saW5rIiBjbGFzcz0iZ3JheV9mb290ZXJfZm9udCI+U3RhdGljIGxpbmsgdG8gdGhpcyBwYWdlPC9h'));
	@fwrite($fp, base64_decode('Pic7CgkJCWVjaG8gJzwvcD4nOwoJCX0KCQllY2hvICc8YnI+JzsKCQk/PgoJPC9kaXY+CgoJPGRpdiBpZD0ic3lzdGVtX3RpdGxlX2JhciI+CgkJPGRpdiBpZD0ic3lzdGVtX3RpdGxlX21lbnUiIG9uY2xpY2s9Im1vYmlsZU5hdkJ1dHRvbkNsaWNrKHRoaXMpIiBv'));
	@fwrite($fp, base64_decode('bm1vdXNlZW50ZXI9Im1vYmlsZU5hdkJ1dHRvbkhvdmVyKHRoaXMpIiBvbm1vdXNlbGVhdmU9Im1vYmlsZU5hdkJ1dHRvbkhvdmVyKHRoaXMpIj4KCQkJPGRpdiBpZD0iYmFyMSI+PC9kaXY+CgkJCTxkaXYgaWQ9ImJhcjIiPjwvZGl2PgoJCQk8ZGl2IGlkPSJiYXIz'));
	@fwrite($fp, base64_decode('Ij48L2Rpdj4KCQk8L2Rpdj4KCgkJPGRpdiBpZD0ic3lzdGVtX3RpdGxlX3RleHQiPgoJCQk8YSA8P3BocCBlY2hvIG9pZHBsdXNfbGluaygnb2lkcGx1czpzeXN0ZW0nKTsgPz4+CgkJCQk8c3BhbiBpZD0ic3lzdGVtX3RpdGxlXzEiPlZpYVRoaW5rU29mdCBPSURw'));
	@fwrite($fp, base64_decode('bHVzIDIuMDwvc3Bhbj48YnI+CgkJCQk8c3BhbiBpZD0ic3lzdGVtX3RpdGxlXzIiPjw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpKTsgPz48L3NwYW4+CgkJCTwvYT4KCQk8L2Rpdj4KCTwvZGl2PgoKCTxkaXYg'));
	@fwrite($fp, base64_decode('aWQ9ImdvdG9ib3giPgoJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJnb3RvIiBpZD0iZ290b2VkaXQiIHZhbHVlPSI8P3BocCBlY2hvIGh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpOyA/PiI+CgkJPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IkdvIiBv'));
	@fwrite($fp, base64_decode('bmNsaWNrPSJnb3RvQnV0dG9uQ2xpY2tlZCgpIiBpZD0iZ290b2J1dHRvbiI+Cgk8L2Rpdj4KCgk8ZGl2IGlkPSJvaWR0cmVlIiBjbGFzcz0iYm9yZGVyYm94Ij4KCQk8IS0tIDxub3NjcmlwdD4KCQkJPHA+PGI+UGxlYXNlIGVuYWJsZSBKYXZhU2NyaXB0IHRvIHVz'));
	@fwrite($fp, base64_decode('ZSBhbGwgZmVhdHVyZXM8L2I+PC9wPgoJCTwvbm9zY3JpcHQ+IC0tPgoJCTw/cGhwIE9JRHBsdXNUcmVlOjpub25qc19tZW51KCk7ID8+Cgk8L2Rpdj4KPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4KPD9waHAKCiRjb250ID0gb2JfZ2V0X2NvbnRlbnRzKCk7Cm9iX2Vu'));
	@fwrite($fp, base64_decode('ZF9jbGVhbigpOwoKZWNobyAkY29udDsK'));
	@fclose($fp);
}
if (!is_file('index.php')) {
	warn('File has vanished! Will re-create it: index.php');
	writefile_1();
	if (!is_file('index.php')) {
		warn('File cannot be created (not existing): index.php');
	} else if (sha1_file('index.php') != '33cd0969952c714b3c236dfadc82ca56c382ec61') {
		warn('File cannot be created (checksum mismatch): index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index.php', 0644)) {
		warn('Could not change file permissions of index.php');
	}
} else {
	if (@sha1_file('index.php') !== '33cd0969952c714b3c236dfadc82ca56c382ec61') {
		if (@sha1_file('index.php') !== '3f638dbb9aff809ea1ae440725f33b0faeb1562d') {
			warn('File was modified. Will overwrite the changes now: index.php');
			$tmp = pathinfo('index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('index.php') !== '33cd0969952c714b3c236dfadc82ca56c382ec61') {
			warn('File cannot be written (checksum mismatch): index.php');
		}
	}
}

// Files different: update/includes/phpsvnclient.class.php
function writefile_2() {
	@$fp = fopen('update/includes/phpsvnclient.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCi8qCiAqIFRoaXMgZmlsZSBpbmNsdWRlczoKICoKICogMS4gIlBIUCBTVk4gQ0xJRU5UIiBjbGFzcwogKiAgICBDb3B5cmlnaHQgKEMpIDIwMDctMjAwOCBieSBTaXhkZWdyZWVzIDxjZXNh'));
	@fwrite($fp, base64_decode('ckBzaXhkZWdyZWVzLmNvbS5icj4KICogICAgQ2VzYXIgRC4gUm9kYXMKICogICAgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vYXJjaGl2ZS9wL3BocHN2bmNsaWVudC8KICogICAgTGljZW5zZTogQlNEIExpY2Vuc2UKICogICAgQ0hBTkdFUyBieSBEYW5pZWwgTWFy'));
	@fwrite($fp, base64_decode('c2NoYWxsLCBWaWFUaGlua1NvZnQgaW4gMjAxOToKICogICAgLSBUaGUgY2xhc3MgaGFzIGJlZW4gY3VzdG9taXplZCBhbmQgY29udGFpbnMgc3BlY2lmaWMgY2hhbmdlcyBmb3IgdGhlIHNvZnR3YXJlICJPSURwbHVzIgogKiAgICAtIEZ1bmN0aW9ucyB3aGljaCBh'));
	@fwrite($fp, base64_decode('cmUgbm90IHVzZWQgaW4gdGhlICJTVk4gY2hlY2tvdXQiIHdlcmUgcmVtb3ZlZC4KICogICAgICBUaGUgb25seSBpbXBvcnRhbnQgZnVuY3Rpb25zIGFyZSBnZXRWZXJzaW9uKCkgYW5kIHVwZGF0ZVdvcmtpbmdDb3B5KCkKICogICAgLSBUaGUgZGVwZW5kZW5jeSBj'));
	@fwrite($fp, base64_decode('bGFzcyB4bWwyYXJyYXkgd2FzIGNvbnZlcnRlZCBmcm9tIGEgY2xhc3MgaW50byBhIGZ1bmN0aW9uIGFuZAogKiAgICAgIGluY2x1ZGVkIGludG8gdGhpcyBjbGFzcwogKiAgICAtIEFkZGVkICJyZXZpc2lvbiBsb2cvY29tbWVudCIgZnVuY3Rpb25hbGl0eQogKgog'));
	@fwrite($fp, base64_decode('KiAyLiAieG1sMmFycmF5IiBjbGFzcwogKiAgICBUYWtlbiBmcm9tIGh0dHA6Ly93d3cucGhwLm5ldC9tYW51YWwvZW4vZnVuY3Rpb24ueG1sLXBhcnNlLnBocCM1MjU2NwogKiAgICBNb2RpZmllZCBieSBNYXJ0aW4gR3VwcHkgPGh0dHA6Ly93d3cuZGVhZHBhbjEx'));
	@fwrite($fp, base64_decode('MC5jb20vPgogKiAgICBDSEFOR0VTIGJ5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdCBpbiAyMDE5OgogKiAgICAtIENvbnZlcnRlZCBjbGFzcyBpbnRvIGEgc2luZ2xlIGZ1bmN0aW9uIGFuZCBhZGRlZCB0aGF0IGZ1bmN0aW9uIGludG8gdGhlIHBocHN2'));
	@fwrite($fp, base64_decode('bmNsaWVudCBjbGFzcwogKi8KCmRlZmluZSgiUEhQU1ZOX05PUk1BTF9SRVFVRVNUIiwgJzw/eG1sIHZlcnNpb249IjEuMCIgZW5jb2Rpbmc9InV0Zi04Ij8+PHByb3BmaW5kIHhtbG5zPSJEQVY6Ij48cHJvcD4KPGdldGxhc3Rtb2RpZmllZCB4bWxucz0iREFWOiIv'));
	@fwrite($fp, base64_decode('PiA8Y2hlY2tlZC1pbiB4bWxucz0iREFWOiIvPjx2ZXJzaW9uLW5hbWUgeG1sbnM9IkRBVjoiLz48dmVyc2lvbi1jb250cm9sbGVkLWNvbmZpZ3VyYXRpb24geG1sbnM9IkRBVjoiLz48cmVzb3VyY2V0eXBlIHhtbG5zPSJEQVY6Ii8+PGJhc2VsaW5lLXJlbGF0aXZl'));
	@fwrite($fp, base64_decode('LXBhdGggeG1sbnM9Imh0dHA6Ly9zdWJ2ZXJzaW9uLnRpZ3Jpcy5vcmcveG1sbnMvZGF2LyIvPjxyZXBvc2l0b3J5LXV1aWQgeG1sbnM9Imh0dHA6Ly9zdWJ2ZXJzaW9uLnRpZ3Jpcy5vcmcveG1sbnMvZGF2LyIvPjwvcHJvcD48L3Byb3BmaW5kPicpOwpkZWZpbmUo'));
	@fwrite($fp, base64_decode('IlBIUFNWTl9WRVJTSU9OX1JFUVVFU1QiLCAnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48cHJvcGZpbmQgeG1sbnM9IkRBVjoiPjxwcm9wPjxjaGVja2VkLWluIHhtbG5zPSJEQVY6Ii8+PC9wcm9wPjwvcHJvcGZpbmQ+Jyk7CmRlZmluZSgi'));
	@fwrite($fp, base64_decode('UEhQU1ZOX0xPR1NfUkVRVUVTVCIsICc8P3htbCB2ZXJzaW9uPSIxLjAiIGVuY29kaW5nPSJ1dGYtOCI/PiA8Uzpsb2ctcmVwb3J0IHhtbG5zOlM9InN2bjoiPiA8UzpzdGFydC1yZXZpc2lvbj4lZDwvUzpzdGFydC1yZXZpc2lvbj48UzplbmQtcmV2aXNpb24+JWQ8'));
	@fwrite($fp, base64_decode('L1M6ZW5kLXJldmlzaW9uPjxTOnBhdGg+PC9TOnBhdGg+PFM6ZGlzY292ZXItY2hhbmdlZC1wYXRocy8+PC9TOmxvZy1yZXBvcnQ+Jyk7CgpkZWZpbmUoIk5PVF9GT1VORCIsIDIpOwpkZWZpbmUoIkFVVEhfUkVRVUlSRUQiLCAzKTsKZGVmaW5lKCJVTktOT1dOX0VS'));
	@fwrite($fp, base64_decode('Uk9SIiwgNCk7CmRlZmluZSgiTk9fRVJST1IiLCAxKTsKCi8qKgogKiAgUEhQIFNWTiBDTElFTlQKICoKICogIFRoaXMgY2xhc3MgaXMgYSBTVk4gY2xpZW50LiBJdCBjYW4gcGVyZm9ybSByZWFkIG9wZXJhdGlvbnMKICogIHRvIGEgU1ZOIHNlcnZlciAob3ZlciBX'));
	@fwrite($fp, base64_decode('ZWItREFWKS4KICogIEl0IGNhbiBnZXQgZGlyZWN0b3J5IGZpbGVzLCBmaWxlIGNvbnRlbnRzLCBsb2dzLiBBbGwgdGhlIG9wZXJhcmF0aW9uCiAqICBjb3VsZCBiZSBkb25lIGZvciBhIHNwZWNpZmljIHZlcnNpb24gb3IgZm9yIHRoZSBsYXN0IHZlcnNpb24uCiAq'));
	@fwrite($fp, base64_decode('CiAqICBAYXV0aG9yIENlc2FyIEQuIFJvZGFzIDxjZXNhckBzaXhkZWdyZWVzLmNvbS5icj4KICogIEBsaWNlbnNlIEJTRCBMaWNlbnNlCiAqLwpjbGFzcyBwaHBzdm5jbGllbnQKewoJLyoqCgkgKiAgU1ZOIFJlcG9zaXRvcnkgVVJMCgkgKgoJICogIEB2YXIgc3Ry'));
	@fwrite($fp, base64_decode('aW5nCgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgJF91cmw7CgoJLyoqCgkgKiAgSFRUUCBDbGllbnQgb2JqZWN0CgkgKgoJICogIEB2YXIgb2JqZWN0CgkgKiAgQGFjY2VzcyBwcml2YXRlCgkgKi8KCXByaXZhdGUgJF9odHRwOwoKCS8qKgoJICog'));
	@fwrite($fp, base64_decode('IFJlc3Bvc2l0b3J5IFZlcnNpb24uCgkgKgoJICogIEBhY2Nlc3MgcHJpdmF0ZQoJICogIEB2YXIgaW50ZXJnZXIKCSAqLwoJcHJpdmF0ZSAkX3JlcFZlcnNpb247CgoJLyoqCgkgKiAgTGFzdCBlcnJvciBudW1iZXIKCSAqCgkgKiAgUG9zc2libGUgdmFsdWVzIGFy'));
	@fwrite($fp, base64_decode('ZSBOT1RfRVJST1IsIE5PVF9GT1VORCwgQVVUSF9SRVFVSVJFRCwgVU5LT1dOX0VSUk9SCgkgKgoJICogIEBhY2Nlc3MgcHVibGljCgkgKiAgQHZhciBpbnRlZ2VyCgkgKi8KCXB1YmxpYyAkZXJyTnJvOwoKCS8qKgoJICogTnVtYmVyIG9mIGFjdHVhbCByZXZpc2lv'));
	@fwrite($fp, base64_decode('biBsb2NhbCByZXBvc2l0b3J5LgoJICogQHZhciBJbnRlZ2VyLCBMb25nCgkgKi8KCXByaXZhdGUgJGFjdFZlcnNpb247Cglwcml2YXRlICRzdG9yZURpcmVjdG9yeUZpbGVzID0gYXJyYXkoKTsKCXByaXZhdGUgJGxhc3REaXJlY3RvcnlGaWxlczsKCXByaXZhdGUg'));
	@fwrite($fp, base64_decode('JGZpbGVfc2l6ZTsKCXByaXZhdGUgJGZpbGVfc2l6ZV9mb3VuZGVkID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCR1cmwpCgl7CgkJJGh0dHAgPSYgJHRoaXMtPl9odHRwOwoJCSRodHRwICAgICAgICAgICAgID0gbmV3IGh0dHBfY2xhc3M7'));
	@fwrite($fp, base64_decode('CgkJJGh0dHAtPnVzZXJfYWdlbnQgPSAicGhwc3ZuY2xpZW50IChodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9hcmNoaXZlL3AvcGhwc3ZuY2xpZW50LykiOwoKCQkkdGhpcy0+X3VybCA9ICR1cmw7CgoJCSR0aGlzLT5hY3RWZXJzaW9uID0gJHRoaXMtPmdldFZlcnNp'));
	@fwrite($fp, base64_decode('b24oKTsKCX0KCgkvKioKCSAqIEZ1bmN0aW9uIGZvciBjcmVhdGluZyBkaXJlY3Rvcmllcy4KCSAqIEBwYXJhbSB0eXBlICRwYXRoIFRoZSBwYXRoIHRvIHRoZSBkaXJlY3RvcnkgdGhhdCB3aWxsIGJlIGNyZWF0ZWQuCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gY3Jl'));
	@fwrite($fp, base64_decode('YXRlRGlycygkcGF0aCkKCXsKCQkkZGlycyA9IGV4cGxvZGUoIi8iLCAkcGF0aCk7CgoJCWZvcmVhY2ggKCRkaXJzIGFzICRkaXIpIHsKCQkJaWYgKCRkaXIgIT0gIiIpIHsKCQkJCSRjcmVhdGVEaXIgPSBzdWJzdHIoJHBhdGgsIDAsIHN0cnBvcygkcGF0aCwgJGRp'));
	@fwrite($fp, base64_decode('cikgKyBzdHJsZW4oJGRpcikpOwoJCQkJQG1rZGlyKCRjcmVhdGVEaXIpOwoJCQl9CgkJfQoJfQoKCS8qKgoJICogRnVuY3Rpb24gZm9yIHRoZSByZWN1cnNpdmUgcmVtb3ZhbCBvZiBkaXJlY3Rvcmllcy4KCSAqIEBwYXJhbSB0eXBlICRwYXRoIFRoZSBwYXRoIHRv'));
	@fwrite($fp, base64_decode('IHRoZSBkaXJlY3RvcnkgdG8gYmUgZGVsZXRlZC4KCSAqIEByZXR1cm4gdHlwZSBSZXR1cm5zIHRoZSBzdGF0dXMgb2YgYSBmdW5jdGlvbiBvciBmdW5jdGlvbiBybWRpciB1bmxpbmsuCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gcmVtb3ZlRGlycygkcGF0aCkKCXsK'));
	@fwrite($fp, base64_decode('CQlpZiAoaXNfZGlyKCRwYXRoKSkgewoJCQkkZW50cmllcyA9IHNjYW5kaXIoJHBhdGgpOwoJCQlpZiAoJGVudHJpZXMgPT09IGZhbHNlKSB7CgkJCQkkZW50cmllcyA9IGFycmF5KCk7CgkJCX0KCQkJZm9yZWFjaCAoJGVudHJpZXMgYXMgJGVudHJ5KSB7CgkJCQlp'));
	@fwrite($fp, base64_decode('ZiAoJGVudHJ5ICE9ICcuJyAmJiAkZW50cnkgIT0gJy4uJykgewoJCQkJCSR0aGlzLT5yZW1vdmVEaXJzKCRwYXRoIC4gJy8nIC4gJGVudHJ5KTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gQHJtZGlyKCRwYXRoKTsKCQl9IGVsc2UgewoJCQlyZXR1cm4gQHVubGluaygk'));
	@fwrite($fp, base64_decode('cGF0aCk7CgkJfQoJfQoKCS8qKgoJICogIFB1YmxpYyBGdW5jdGlvbnMKCSAqLwoKCS8qKgoJKiBVcGRhdGVzIGEgd29ya2luZyBjb3B5CgkqIEBwYXJhbSAkZnJvbV9yZXZpc2lvbiBFaXRoZXIgYSByZXZpc2lvbiBudW1iZXIgb3IgYSB0ZXh0IGZpbGUgd2l0aCB0'));
	@fwrite($fp, base64_decode('aGUKCSogICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRzICJSZXZpc2lvbiAuLi4iIChpZiBpdCBpcyBhIGZpbGUsCgkqICAgICAgICAgICAgICAgICAgICAgICB0aGUgZmlsZSByZXZpc2lvbiB3aWxsIGJlIHVwZGF0ZWQgaWYgZXZlcnl0aGluZwoJKiAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgd2FzIHN1Y2Nlc3NmdWwpCgkqIEBwYXJhbSAkZm9sZGVyICAgICAgICBTVk4gcmVtb3RlIGZvbGRlcgoJKiBAcGFyYW0gJG91dHBhdGggICAgICAgTG9jYWwgcGF0aCBvZiB0aGUgd29ya2luZyBjb3B5CgkqIEBwYXJhbSAkcHJldmll'));
	@fwrite($fp, base64_decode('dyAgICAgICBPbmx5IHNpbXVsYXRlLCBkbyBub3Qgd3JpdGUgdG8gZmlsZXMKCSoqLwoJcHVibGljIGZ1bmN0aW9uIHVwZGF0ZVdvcmtpbmdDb3B5KCRmcm9tX3JldmlzaW9uPSd2ZXJzaW9uLnR4dCcsICRmb2xkZXIgPSAnL3RydW5rLycsICRvdXRQYXRoID0gJy4n'));
	@fwrite($fp, base64_decode('LCAkcHJldmlldyA9IGZhbHNlKQoJewoJCWlmICghaXNfZGlyKCRvdXRQYXRoKSkgewoJCQllY2hvICJFUlJPUjogTG9jYWwgcGF0aCAkb3V0UGF0aCBub3QgZXhpc3RpbmdcbiI7CgkJCWZsdXNoKCk7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCWlmICghaXNfbnVt'));
	@fwrite($fp, base64_decode('ZXJpYygkZnJvbV9yZXZpc2lvbikpIHsKCQkJJHZlcnNpb25fZmlsZSA9ICRmcm9tX3JldmlzaW9uOwogICAgICAgICAgICAgICAgICAgICAgICAkZnJvbV9yZXZpc2lvbiA9IC0xOwoKCQkJaWYgKCFmaWxlX2V4aXN0cygkdmVyc2lvbl9maWxlKSkgewoJCQkJZWNo'));
	@fwrite($fp, base64_decode('byAiRVJST1I6ICR2ZXJzaW9uX2ZpbGUgbWlzc2luZ1xuIjsKCQkJCWZsdXNoKCk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0gZWxzZSB7CgkJCQkvL09idGFpbiB0aGUgbnVtYmVyIG9mIGN1cnJlbnQgdmVyc2lvbiBudW1iZXIgb2YgdGhlIGxvY2FsIGNvcHkuCgkJ'));
	@fwrite($fp, base64_decode('CQkkY29udCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCR2ZXJzaW9uX2ZpbGUpOwoJCQkJaWYgKCFwcmVnX21hdGNoKCdAUmV2aXNpb24gKFxkKylAJywgJGNvbnQsICRtKSkgewoJCQkJCWVjaG8gIkVSUk9SOiAkdmVyc2lvbl9maWxlIHVua25vd24gZm9ybWF0XG4iOwoJ'));
	@fwrite($fp, base64_decode('CQkJCWZsdXNoKCk7CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQkJJGZyb21fcmV2aXNpb24gPSAkbVsxXTsKCgkJCQllY2hvICJGb3VuZCAkdmVyc2lvbl9maWxlIHdpdGggcmV2aXNpb24gaW5mb3JtYXRpb24gJGZyb21fcmV2aXNpb25cbiI7CgkJCQlmbHVz'));
	@fwrite($fp, base64_decode('aCgpOwoJCQl9CgkJfSBlbHNlIHsKCQkJJHZlcnNpb25fZmlsZSA9ICcnOwoJCX0KCgkJJGVycm9yc19oYXBwZW5lZCA9IGZhbHNlOwoKCQkvLyBGaXJzdCwgZG8gc29tZSByZWFkL3dyaXRlIHRlc3QgKGV2ZW4gaWYgd2UgYXJlIGluIHByZXZpZXcgbW9kZSwgYmVj'));
	@fwrite($fp, base64_decode('YXVzZSB3ZSB3YW50IHRvIGRldGVjdCBlcnJvcnMgYmVmb3JlIGl0IGlzIHRvbyBsYXRlKQoJCSRmaWxlID0gJG91dFBhdGggLiAnL2R1bW15XycudW5pcWlkKCkuJy50bXAnOwoJCSRmaWxlID0gc3RyX3JlcGxhY2UoIi8vLyIsICIvIiwgJGZpbGUpOwoJCWlmIChA'));
	@fwrite($fp, base64_decode('ZmlsZV9wdXRfY29udGVudHMoJGZpbGUsICdXcml0ZSBUZXN0JykgPT09IGZhbHNlKSB7CgkJCWVjaG8gIkNhbm5vdCB3cml0ZSB0ZXN0IGZpbGUgJGZpbGVcbiI7CgkJCWZsdXNoKCk7CgkJCXJldHVybiBmYWxzZTsKCQl9CgkJQHVubGluaygkZmlsZSk7CgkJaWYg'));
	@fwrite($fp, base64_decode('KGZpbGVfZXhpc3RzKCRmaWxlKSkgewoJCQllY2hvICJDYW5ub3QgZGVsZXRlIHRlc3QgZmlsZSAkZmlsZVxuIjsKCQkJZmx1c2goKTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJLy9HZXQgYSBsaXN0IG9mIG9iamVjdHMgdG8gYmUgdXBkYXRlZC4KCQkkb2JqZWN0'));
	@fwrite($fp, base64_decode('c19saXN0ID0gJHRoaXMtPmdldExvZ3NGb3JVcGRhdGUoJGZvbGRlciwgJGZyb21fcmV2aXNpb24gKyAxKTsKCQlpZiAoIWlzX251bGwoJG9iamVjdHNfbGlzdCkpIHsKCQkJLy8gT3V0cHV0IHZlcnNpb24gaW5mb3JtYXRpb24KCQkJZm9yZWFjaCAoJG9iamVjdHNf'));
	@fwrite($fp, base64_decode('bGlzdFsncmV2aXNpb25zJ10gYXMgJHJldmlzaW9uKSB7CgkJCQkkdGV4ID0gIk5ldyByZXZpc2lvbiAiLiRyZXZpc2lvblsndmVyc2lvbk5hbWUnXS4iIGJ5ICIuJHJldmlzaW9uWydjcmVhdG9yJ10uIiAoIi5kYXRlKCdZLW0tZCBIOmk6cycsIHN0cnRvdGltZSgk'));
	@fwrite($fp, base64_decode('cmV2aXNpb25bJ2RhdGUnXSkpLiIpICI7CgkJCQllY2hvIHRyaW0oJHRleCAuIHN0cl9yZXBsYWNlKCJcbiIsICJcbiIuc3RyX3JlcGVhdCgnICcsIHN0cmxlbigkdGV4KSksICRyZXZpc2lvblsnY29tbWVudCddKSk7CgkJCQllY2hvICJcbiI7CgkJCX0KCgkJCS8v'));
	@fwrite($fp, base64_decode('Ly9MZXRzIHVwZGF0ZSBkaXJzCgkJCS8vIEFkZCBkaXJzCgkJCWZvcmVhY2ggKCRvYmplY3RzX2xpc3RbJ2RpcnMnXSBhcyAkZmlsZSkgewoJCQkJaWYgKCRmaWxlICE9ICcnKSB7CgkJCQkJJGxvY2FsUGF0aCA9IHN0cl9yZXBsYWNlKCRmb2xkZXIsICIiLCAkZmls'));
	@fwrite($fp, base64_decode('ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYWxQYXRoID0gcnRyaW0oJG91dFBhdGgsRElSRUNUT1JZX1NFUEFSQVRPUikgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gbHRyaW0oJGxvY2FsUGF0aCxESVJFQ1RPUllfU0VQQVJB'));
	@fwrite($fp, base64_decode('VE9SKTsKCgkJCQkJZWNobyAiQWRkZWQgb3IgbW9kaWZpZWQgZGlyZWN0b3J5OiAkZmlsZVxuIjsKCQkJCQlmbHVzaCgpOwoJCQkJCWlmICghJHByZXZpZXcpIHsKCQkJCQkJJHRoaXMtPmNyZWF0ZURpcnMoJGxvY2FsUGF0aCk7CgkJCQkJCWlmICghaXNfZGlyKCRs'));
	@fwrite($fp, base64_decode('b2NhbFBhdGgpKSB7CgkJCQkJCQkkZXJyb3JzX2hhcHBlbmVkID0gdHJ1ZTsKCQkJCQkJCWVjaG8gIj0+IEZBSUxFRFxuIjsKCQkJCQkJCWZsdXNoKCk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vLy9MZXRzIHVwZGF0ZSBmaWxlcwoJCQkvLyBBZGQg'));
	@fwrite($fp, base64_decode('ZmlsZXMKCQkJZm9yZWFjaCAoJG9iamVjdHNfbGlzdFsnZmlsZXMnXSBhcyAkZmlsZSkgewoJCQkJaWYgKCRmaWxlICE9ICcnKSB7CgkJCQkJJGxvY2FsRmlsZSA9IHN0cl9yZXBsYWNlKCRmb2xkZXIsICIiLCAkZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAkbG9jYWxGaWxlID0gcnRyaW0oJG91dFBhdGgsRElSRUNUT1JZX1NFUEFSQVRPUikgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gbHRyaW0oJGxvY2FsRmlsZSxESVJFQ1RPUllfU0VQQVJBVE9SKTsKCgkJCQkJZWNobyAiQWRkZWQgb3Ig'));
	@fwrite($fp, base64_decode('bW9kaWZpZWQgZmlsZTogJGZpbGVcbiI7CgkJCQkJZmx1c2goKTsKCQkJCQlpZiAoISRwcmV2aWV3KSB7CgkJCQkJCSRjb250ZW50cyA9ICR0aGlzLT5nZXRGaWxlKCRmaWxlKTsKCQkJCQkJaWYgKEBmaWxlX3B1dF9jb250ZW50cygkbG9jYWxGaWxlLCAkY29udGVu'));
	@fwrite($fp, base64_decode('dHMpID09PSBmYWxzZSkgewoJCQkJCQkJJGVycm9yc19oYXBwZW5lZCA9IHRydWU7CgkJCQkJCQllY2hvICI9PiBGQUlMRURcbiI7CgkJCQkJCQlmbHVzaCgpOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9CgkJCS8vUmVtb3ZlIGZpbGVzCgkJCWZvcmVhY2ggKCRv'));
	@fwrite($fp, base64_decode('YmplY3RzX2xpc3RbJ2ZpbGVzRGVsZXRlJ10gYXMgJGZpbGUpIHsKCQkJCWlmICgkZmlsZSAhPSAnJykgewoJCQkJCSRsb2NhbEZpbGUgPSBzdHJfcmVwbGFjZSgkZm9sZGVyLCAiIiwgJGZpbGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgJGxvY2FsRmlsZSA9IHJ0cmltKCRvdXRQYXRoLERJUkVDVE9SWV9TRVBBUkFUT1IpIC4gRElSRUNUT1JZX1NFUEFSQVRPUiAuIGx0cmltKCRsb2NhbEZpbGUsRElSRUNUT1JZX1NFUEFSQVRPUik7CgoJCQkJCWVjaG8gIlJlbW92ZWQgZmlsZTogJGZpbGVcbiI7'));
	@fwrite($fp, base64_decode('CgkJCQkJZmx1c2goKTsKCgkJCQkJaWYgKCEkcHJldmlldykgewoJCQkJCQlAdW5saW5rKCRsb2NhbEZpbGUpOwoJCQkJCQlpZiAoZmlsZV9leGlzdHMoJGxvY2FsRmlsZSkpIHsKCQkJCQkJCSRlcnJvcnNfaGFwcGVuZWQgPSB0cnVlOwoJCQkJCQkJZWNobyAiPT4g'));
	@fwrite($fp, base64_decode('RkFJTEVEXG4iOwoJCQkJCQkJZmx1c2goKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJLy8gUmVtb3ZlIGRpcnMKCQkJLy8gQ2hhbmdlZCBieSBEYW5pZWwgTWFyc2NoYWxsOiBtb3ZlZCB0aGlzIHRvIHRoZSBlbmQsIGJlY2F1c2UgImFkZC91cGRhdGUi'));
	@fwrite($fp, base64_decode('IHJlcXVlc3RzIGZvciB0aGlzIGRpcmVjdG9yeSBtaWdodCBoYXBwZW4gYmVmb3JlIHRoZSBkaXJlY3RvcnkgZ2V0cyByZW1vdmVkCgkJCWZvcmVhY2ggKCRvYmplY3RzX2xpc3RbJ2RpcnNEZWxldGUnXSBhcyAkZmlsZSkgewoJCQkJaWYgKCRmaWxlICE9ICcnKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkJJGxvY2FsUGF0aCA9IHN0cl9yZXBsYWNlKCRmb2xkZXIsICIiLCAkZmlsZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYWxQYXRoID0gcnRyaW0oJG91dFBhdGgsRElSRUNUT1JZX1NFUEFSQVRPUikgLiBESVJFQ1RP'));
	@fwrite($fp, base64_decode('UllfU0VQQVJBVE9SIC4gbHRyaW0oJGxvY2FsUGF0aCxESVJFQ1RPUllfU0VQQVJBVE9SKTsKCgkJCQkJZWNobyAiUmVtb3ZlZCBkaXJlY3Rvcnk6ICRmaWxlXG4iOwoJCQkJCWZsdXNoKCk7CgoJCQkJCWlmICghJHByZXZpZXcpIHsKCQkJCQkJJHRoaXMtPnJlbW92'));
	@fwrite($fp, base64_decode('ZURpcnMoJGxvY2FsUGF0aCk7CgkJCQkJCWlmIChpc19kaXIoJGxvY2FsUGF0aCkpIHsKCQkJCQkJCSRlcnJvcnNfaGFwcGVuZWQgPSB0cnVlOwoJCQkJCQkJZWNobyAiPT4gRkFJTEVEXG4iOwoJCQkJCQkJZmx1c2goKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJ'));
	@fwrite($fp, base64_decode('fQoKCQkJLy9VcGRhdGUgdmVyc2lvbiBmaWxlCgkJCS8vIENoYW5nZWQgYnkgRGFuaWVsIE1hcnNjaGFsbDogQWRkZWQgJGVycm9yc19oYXBwZW5lZAoJCQlpZiAoISRwcmV2aWV3ICYmICFlbXB0eSgkdmVyc2lvbl9maWxlKSkgewoJCQkJaWYgKCEkZXJyb3JzX2hh'));
	@fwrite($fp, base64_decode('cHBlbmVkKSB7CgkJCQkJaWYgKEBmaWxlX3B1dF9jb250ZW50cygkdmVyc2lvbl9maWxlLCAiUmV2aXNpb24gIiAuICR0aGlzLT5hY3RWZXJzaW9uIC4gIlxuIikgPT09IGZhbHNlKSB7CgkJCQkJCWVjaG8gIkVSUk9SOiBDb3VsZCBub3Qgc2V0IHRoZSByZXZpc2lv'));
	@fwrite($fp, base64_decode('blxuIjsKCQkJCQkJZmx1c2goKTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWVjaG8gIlNldCByZXZpc2lvbiB0byAiIC4gJHRoaXMtPmFjdFZlcnNpb24gLiAiXG4iOwoJCQkJCQlmbHVzaCgpOwoJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJ'));
	@fwrite($fp, base64_decode('CQl9CgkJCQl9IGVsc2UgewoJCQkJCWVjaG8gIlJldmlzaW9uIE5PVCBzZXQgdG8gIiAuICR0aGlzLT5hY3RWZXJzaW9uIC4gIiBiZWNhdXNlIHNvbWUgZmlsZXMvZGlycyBjb3VsZCBub3QgYmUgdXBkYXRlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cbiI7CgkJCQkJZmx1'));
	@fwrite($fp, base64_decode('c2goKTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCX0KCgkvKioKCSAqICByYXdEaXJlY3RvcnlEdW1wCgkgKgoJICogRHVtcHMgU1ZOIGRhdGEgZm9yICRmb2xkZXIgaW4gdGhlIHZlcnNpb24g'));
	@fwrite($fp, base64_decode('JHZlcnNpb24gb2YgdGhlIHJlcG9zaXRvcnkuCgkgKgoJICogIEBwYXJhbSBzdHJpbmcgICRmb2xkZXIgRm9sZGVyIHRvIGdldCBkYXRhCgkgKiAgQHBhcmFtIGludGVnZXIgJHZlcnNpb24gUmVwb3NpdG9yeSB2ZXJzaW9uLCAtMSBtZWFucyBhY3R1YWwKCSAqICBA'));
	@fwrite($fp, base64_decode('cmV0dXJuIGFycmF5IFNWTiBkYXRhIGR1bXAuCgkgKi8KCXByaXZhdGUgZnVuY3Rpb24gcmF3RGlyZWN0b3J5RHVtcCgkZm9sZGVyID0gJy90cnVuay8nLCAkdmVyc2lvbiA9IC0xKQoJewoJCWlmICgkdmVyc2lvbiA9PSAtMSB8fCAkdmVyc2lvbiA+ICR0aGlzLT5h'));
	@fwrite($fp, base64_decode('Y3RWZXJzaW9uKSB7CgkJCSR2ZXJzaW9uID0gJHRoaXMtPmFjdFZlcnNpb247CgkJfQoJCSR1cmwgPSAkdGhpcy0+Y2xlYW5VUkwoJHRoaXMtPl91cmwgLiAiLyFzdm4vYmMvIiAuICR2ZXJzaW9uIC4gIi8iIC4gJGZvbGRlciAuICIvIik7CgkJJHRoaXMtPmluaXRR'));
	@fwrite($fp, base64_decode('dWVyeSgkYXJncywgIlBST1BGSU5EIiwgJHVybCk7CgkJJGFyZ3NbJ0JvZHknXSAgICAgICAgICAgICAgICAgICAgICA9IFBIUFNWTl9OT1JNQUxfUkVRVUVTVDsKCQkkYXJnc1snSGVhZGVycyddWydDb250ZW50LUxlbmd0aCddID0gc3RybGVuKFBIUFNWTl9OT1JN'));
	@fwrite($fp, base64_decode('QUxfUkVRVUVTVCk7CgoJCWlmICghJHRoaXMtPlJlcXVlc3QoJGFyZ3MsICRoZWFkZXJzLCAkYm9keSkpCgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkNhbm5vdCBnZXQgcmF3RGlyZWN0b3J5RHVtcCAoUmVxdWVzdCBmYWlsZWQpIik7CgoJCXJldHVybiAkdGhpcy0+'));
	@fwrite($fp, base64_decode('eG1sUGFyc2UoJGJvZHkpOwoJfQoKCS8qKgoJICogIGdldERpcmVjdG9yeUZpbGVzCgkgKgoJICogIFJldHVybnMgYWxsIHRoZSBmaWxlcyBpbiAkZm9sZGVyIGluIHRoZSB2ZXJzaW9uICR2ZXJzaW9uIG9mCgkgKiAgdGhlIHJlcG9zaXRvcnkuCgkgKgoJICogIEBw'));
	@fwrite($fp, base64_decode('YXJhbSBzdHJpbmcgICRmb2xkZXIgRm9sZGVyIHRvIGdldCBmaWxlcwoJICogIEBwYXJhbSBpbnRlZ2VyICR2ZXJzaW9uIFJlcG9zaXRvcnkgdmVyc2lvbiwgLTEgbWVhbnMgYWN0dWFsCgkgKiAgQHJldHVybiBhcnJheSBMaXN0IG9mIGZpbGVzLgoJICovCglwcml2'));
	@fwrite($fp, base64_decode('YXRlIGZ1bmN0aW9uIGdldERpcmVjdG9yeUZpbGVzKCRmb2xkZXIgPSAnL3RydW5rLycsICR2ZXJzaW9uID0gLTEpCgl7CgkJaWYgKCRhcnJPdXRwdXQgPSAkdGhpcy0+cmF3RGlyZWN0b3J5RHVtcCgkZm9sZGVyLCAkdmVyc2lvbikpIHsKCQkJJGZpbGVzID0gYXJy'));
	@fwrite($fp, base64_decode('YXkoKTsKCQkJZm9yZWFjaCAoJGFyck91dHB1dFsnY2hpbGRyZW4nXSBhcyAka2V5ID0+ICR2YWx1ZSkgewoJCQkJYXJyYXlfd2Fsa19yZWN1cnNpdmUoJHZhbHVlLAoJCQkJCWZ1bmN0aW9uICgkaXRlbSwgJGtleSkgewoJCQkJCQlpZiAoJGtleSA9PSAnbmFtZScp'));
	@fwrite($fp, base64_decode('IHsKCQkJCQkJCWlmICgoJGl0ZW0gPT0gJ0Q6SFJFRicpIHx8ICgkaXRlbSA9PSAnTFAxOkdFVExBU1RNT0RJRklFRCcpIHx8ICgkaXRlbSA9PSAnTFAxOlZFUlNJT04tTkFNRScpIHx8ICgkaXRlbSA9PSAnTFAyOkJBU0VMSU5FLVJFTEFUSVZFLVBBVEgnKSB8fCAo'));
	@fwrite($fp, base64_decode('JGl0ZW0gPT0gJ0xQMzpCQVNFTElORS1SRUxBVElWRS1QQVRIJykgfHwgKCRpdGVtID09ICdEOlNUQVRVUycpKSB7CgkJCQkJCQkJJHRoaXMtPmxhc3REaXJlY3RvcnlGaWxlcyA9ICRpdGVtOwoJCQkJCQkJfQoJCQkJCQl9IGVsc2VpZiAoKCRrZXkgPT0gJ3RhZ0Rh'));
	@fwrite($fp, base64_decode('dGEnKSAmJiAoJHRoaXMtPmxhc3REaXJlY3RvcnlGaWxlcyAhPSAnJykpIHsKCgkJCQkJCQkvLyBVbnN1cmUgaWYgdGhlIDFzdCBvZiB0d28gRDpIUkVGJ3MgYWx3YXlzIHJldHVybnMgdGhlIHJlc3VsdCB3ZSB3YW50LCBidXQgZm9yIG5vdy4uLgoJCQkJCQkJaWYg'));
	@fwrite($fp, base64_decode('KCgkdGhpcy0+bGFzdERpcmVjdG9yeUZpbGVzID09ICdEOkhSRUYnKSAmJiAoaXNzZXQoJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3R5cGUnXSkpKQoJCQkJCQkJCXJldHVybjsKCgkJCQkJCQkvLyBEdW1wIGludG8gdGhlIGFycmF5CgkJCQkJCQlzd2l0Y2gg'));
	@fwrite($fp, base64_decode('KCR0aGlzLT5sYXN0RGlyZWN0b3J5RmlsZXMpIHsKCQkJCQkJCQljYXNlICdEOkhSRUYnOgoJCQkJCQkJCQkkdmFyID0gJ3R5cGUnOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICdMUDE6VkVSU0lPTi1OQU1FJzoKCQkJCQkJCQkJJHZhciA9ICd2ZXJzaW9u'));
	@fwrite($fp, base64_decode('JzsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQkJY2FzZSAnTFAxOkdFVExBU1RNT0RJRklFRCc6CgkJCQkJCQkJCSR2YXIgPSAnbGFzdC1tb2QnOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICdMUDI6QkFTRUxJTkUtUkVMQVRJVkUtUEFUSCc6CgkJCQkJCQkJ'));
	@fwrite($fp, base64_decode('Y2FzZSAnTFAzOkJBU0VMSU5FLVJFTEFUSVZFLVBBVEgnOgoJCQkJCQkJCQkkdmFyID0gJ3BhdGgnOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlICdEOlNUQVRVUyc6CgkJCQkJCQkJCSR2YXIgPSAnc3RhdHVzJzsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9'));
	@fwrite($fp, base64_decode('CgkJCQkJCQkkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1skdmFyXSA9ICRpdGVtOwoJCQkJCQkJJHRoaXMtPmxhc3REaXJlY3RvcnlGaWxlcyAgICAgICAgPSAnJzsKCgkJCQkJCQkvLyBEZXRlY3QgJ3R5cGUnIGFzIGVpdGhlciBhICdkaXJlY3RvcnknIG9yICdm'));
	@fwrite($fp, base64_decode('aWxlJwoJCQkJCQkJaWYgKChpc3NldCgkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sndHlwZSddKSkgJiYgKGlzc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWydsYXN0LW1vZCddKSkgJiYgKGlzc2V0KCR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWydw'));
	@fwrite($fp, base64_decode('YXRoJ10pKSAmJiAoaXNzZXQoJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3N0YXR1cyddKSkpIHsKCQkJCQkJCQkkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sncGF0aCddID0gc3RyX3JlcGxhY2UoJyAnLCAnJTIwJywgJHRoaXMtPnN0b3JlRGlyZWN0b3J5'));
	@fwrite($fp, base64_decode('RmlsZXNbJ3BhdGgnXSk7IC8vSGFjayB0byBtYWtlIGZpbGVuYW1lcyB3aXRoIHNwYWNlcyB3b3JrLgoJCQkJCQkJCSRsZW4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPSBzdHJsZW4oJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3BhdGgnXSk7CgkJ'));
	@fwrite($fp, base64_decode('CQkJCQkJaWYgKHN1YnN0cigkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sndHlwZSddLCBzdHJsZW4oJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3R5cGUnXSkgLSAkbGVuKSA9PSAkdGhpcy0+c3RvcmVEaXJlY3RvcnlGaWxlc1sncGF0aCddKSB7CgkJCQkJ'));
	@fwrite($fp, base64_decode('CQkJCSR0aGlzLT5zdG9yZURpcmVjdG9yeUZpbGVzWyd0eXBlJ10gPSAnZmlsZSc7CgkJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkJJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXNbJ3R5cGUnXSA9ICdkaXJlY3RvcnknOwoJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJ'));
	@fwrite($fp, base64_decode('fSBlbHNlIHsKCQkJCQkJCSR0aGlzLT5sYXN0RGlyZWN0b3J5RmlsZXMgPSAnJzsKCQkJCQkJfQoJCQkJCX0KCQkJCSk7CgkJCQlhcnJheV9wdXNoKCRmaWxlcywgJHRoaXMtPnN0b3JlRGlyZWN0b3J5RmlsZXMpOwoJCQkJdW5zZXQoJHRoaXMtPnN0b3JlRGlyZWN0'));
	@fwrite($fp, base64_decode('b3J5RmlsZXMpOwoJCQl9CgkJCXJldHVybiAkZmlsZXM7CgkJfQoJCXJldHVybiBmYWxzZTsKCX0KCgkvKioKCSAqICBnZXREaXJlY3RvcnlUcmVlCgkgKgoJICogIFJldHVybnMgdGhlIGNvbXBsZXRlIHRyZWUgb2YgZmlsZXMgYW5kIGRpcmVjdG9yaWVzIGluICRm'));
	@fwrite($fp, base64_decode('b2xkZXIgZnJvbSB0aGUKCSAqICB2ZXJzaW9uICR2ZXJzaW9uIG9mIHRoZSByZXBvc2l0b3J5LiBDYW4gYWxzbyBiZSB1c2VkIHRvIGdldCB0aGUgaW5mbwoJICogIGZvciBhIHNpbmdsZSBmaWxlIG9yIGRpcmVjdG9yeS4KCSAqCgkgKiAgQHBhcmFtIHN0cmluZyAg'));
	@fwrite($fp, base64_decode('JGZvbGRlciBGb2xkZXIgdG8gZ2V0IHRyZWUKCSAqICBAcGFyYW0gaW50ZWdlciAkdmVyc2lvbiBSZXBvc2l0b3J5IHZlcnNpb24sIC0xIG1lYW5zIGN1cnJlbnQKCSAqICBAcGFyYW0gYm9vbGVhbiAkcmVjdXJzaXZlIFdoZXRoZXIgdG8gZ2V0IHRoZSB0cmVlIHJl'));
	@fwrite($fp, base64_decode('Y3Vyc2l2ZWx5LCBvciBqdXN0CgkgKiAgdGhlIHNwZWNpZmllZCBkaXJlY3RvcnkvZmlsZS4KCSAqCgkgKiAgQHJldHVybiBhcnJheSBMaXN0IG9mIGZpbGVzIGFuZCBkaXJlY3Rvcmllcy4KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBnZXREaXJlY3RvcnlUcmVlKCRm'));
	@fwrite($fp, base64_decode('b2xkZXIgPSAnL3RydW5rLycsICR2ZXJzaW9uID0gLTEsICRyZWN1cnNpdmUgPSB0cnVlKQoJewoJCSRkaXJlY3RvcnlUcmVlID0gYXJyYXkoKTsKCgkJaWYgKCEoJGFyck91dHB1dCA9ICR0aGlzLT5nZXREaXJlY3RvcnlGaWxlcygkZm9sZGVyLCAkdmVyc2lvbikp'));
	@fwrite($fp, base64_decode('KQoJCQlyZXR1cm4gZmFsc2U7CgoJCWlmICghJHJlY3Vyc2l2ZSkKCQkJcmV0dXJuICRhcnJPdXRwdXRbMF07CgoJCXdoaWxlIChjb3VudCgkYXJyT3V0cHV0KSAmJiBpc19hcnJheSgkYXJyT3V0cHV0KSkgewoJCQkkYXJyYXkgPSBhcnJheV9zaGlmdCgkYXJyT3V0'));
	@fwrite($fp, base64_decode('cHV0KTsKCgkJCWFycmF5X3B1c2goJGRpcmVjdG9yeVRyZWUsICRhcnJheSk7CgoJCQlpZiAodHJpbSgkYXJyYXlbJ3BhdGgnXSwgJy8nKSA9PSB0cmltKCRmb2xkZXIsICcvJykpCgkJCQljb250aW51ZTsKCgkJCWlmICgkYXJyYXlbJ3R5cGUnXSA9PSAnZGlyZWN0'));
	@fwrite($fp, base64_decode('b3J5JykgewoJCQkJJHdhbGsgPSAkdGhpcy0+Z2V0RGlyZWN0b3J5RmlsZXMoJGFycmF5WydwYXRoJ10sICR2ZXJzaW9uKTsKCQkJCWFycmF5X3NoaWZ0KCR3YWxrKTsKCgkJCQlmb3JlYWNoICgkd2FsayBhcyAkc3RlcCkgewoJCQkJCWFycmF5X3Vuc2hpZnQoJGFy'));
	@fwrite($fp, base64_decode('ck91dHB1dCwgJHN0ZXApOwoJCQkJfQoJCQl9CgkJfQoJCXJldHVybiAkZGlyZWN0b3J5VHJlZTsKCX0KCgkvKioKCSAqICBSZXR1cm5zIGZpbGUgY29udGVudHMKCSAqCgkgKiAgQHBhcmFtCXN0cmluZyAgJGZpbGUgRmlsZSBwYXRobmFtZQoJICogIEBwYXJhbQlp'));
	@fwrite($fp, base64_decode('bnRlZ2VyCSR2ZXJzaW9uIEZpbGUgVmVyc2lvbgoJICogIEByZXR1cm4Jc3RyaW5nCUZpbGUgY29udGVudCBhbmQgaW5mb3JtYXRpb24sIGZhbHNlIG9uIGVycm9yLCBvciBpZiBhCgkgKiAgICAgICAgICAgICAgZGlyZWN0b3J5IGlzIHJlcXVlc3RlZAoJICovCglw'));
	@fwrite($fp, base64_decode('cml2YXRlIGZ1bmN0aW9uIGdldEZpbGUoJGZpbGUsICR2ZXJzaW9uID0gLTEpCgl7CgkJaWYgKCR2ZXJzaW9uID09IC0xIHx8ICR2ZXJzaW9uID4gJHRoaXMtPmFjdFZlcnNpb24pIHsKCQkJJHZlcnNpb24gPSAkdGhpcy0+YWN0VmVyc2lvbjsKCQl9CgoJCS8vIGNo'));
	@fwrite($fp, base64_decode('ZWNrIGlmIHRoaXMgaXMgYSBkaXJlY3RvcnkuLi4gaWYgc28sIHJldHVybiBmYWxzZSwgb3RoZXJ3aXNlIHdlCgkJLy8gZ2V0IHRoZSBIVE1MIG91dHB1dCBvZiB0aGUgZGlyZWN0b3J5IGxpc3RpbmcgZnJvbSB0aGUgU1ZOIHNlcnZlci4KCQkvLyBUaGlzIGlzIG1h'));
	@fwrite($fp, base64_decode('eWJlIGEgYml0IGhlYXZ5IHNpbmNlIGl0IG1ha2VzIGFub3RoZXIgY29ubmVjdGlvbiB0byB0aGUKCQkvLyBTVk4gc2VydmVyLiBNYXliZSBhZGQgdGhpcyBhcyBhbiBvcHRpb24vcGFyYW1ldGVyPyBFUyAyMy8wNi8wOAoJCSRmaWxlSW5mbyA9ICR0aGlzLT5nZXRE'));
	@fwrite($fp, base64_decode('aXJlY3RvcnlUcmVlKCRmaWxlLCAkdmVyc2lvbiwgZmFsc2UpOwoJCWlmICgkZmlsZUluZm9bInR5cGUiXSA9PSAiZGlyZWN0b3J5IikKCQkJcmV0dXJuIGZhbHNlOwoKCQkkdXJsID0gJHRoaXMtPmNsZWFuVVJMKCR0aGlzLT5fdXJsIC4gIi8hc3ZuL2JjLyIgLiAk'));
	@fwrite($fp, base64_decode('dmVyc2lvbiAuICIvIiAuICRmaWxlIC4gIi8iKTsKCQkkdGhpcy0+aW5pdFF1ZXJ5KCRhcmdzLCAiR0VUIiwgJHVybCk7CgkJaWYgKCEkdGhpcy0+UmVxdWVzdCgkYXJncywgJGhlYWRlcnMsICRib2R5KSkKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiQ2Fubm90IGNh'));
	@fwrite($fp, base64_decode('bGwgZ2V0RmlsZSAoUmVxdWVzdCBmYWlsZWQpIik7CgoJCXJldHVybiAkYm9keTsKCX0KCglwcml2YXRlIGZ1bmN0aW9uIGdldExvZ3NGb3JVcGRhdGUoJGZpbGUsICR2aW5pID0gMCwgJHZlbmQgPSAtMSkKCXsKCQkkZmlsZUxvZ3MgPSBhcnJheSgpOwoKCQlpZiAo'));
	@fwrite($fp, base64_decode('JHZlbmQgPT0gLTEpIHsKCQkJJHZlbmQgPSAkdGhpcy0+YWN0VmVyc2lvbjsKCQl9CgoJCWlmICgkdmluaSA8IDApCgkJCSR2aW5pID0gMDsKCgkJaWYgKCR2aW5pID4gJHZlbmQpIHsKCQkJJHZpbmkgPSAkdmVuZDsKCQkJZWNobyAiTm90aGluZyB1cGRhdGVkXG4i'));
	@fwrite($fp, base64_decode('OwoJCQlmbHVzaCgpOwoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCSR1cmwgPSAkdGhpcy0+Y2xlYW5VUkwoJHRoaXMtPl91cmwgLiAiLyFzdm4vYmMvIiAuICR0aGlzLT5hY3RWZXJzaW9uIC4gIi8iIC4gJGZpbGUgLiAiLyIpOwoJCSR0aGlzLT5pbml0UXVlcnkoJGFy'));
	@fwrite($fp, base64_decode('Z3MsICJSRVBPUlQiLCAkdXJsKTsKCQkkYXJnc1snQm9keSddICAgICAgICAgICAgICAgICAgICAgID0gc3ByaW50ZihQSFBTVk5fTE9HU19SRVFVRVNULCAkdmluaSwgJHZlbmQpOwoJCSRhcmdzWydIZWFkZXJzJ11bJ0NvbnRlbnQtTGVuZ3RoJ10gPSBzdHJsZW4o'));
	@fwrite($fp, base64_decode('JGFyZ3NbJ0JvZHknXSk7CgkJJGFyZ3NbJ0hlYWRlcnMnXVsnRGVwdGgnXSAgICAgICAgICA9IDE7CgoJCWlmICghJHRoaXMtPlJlcXVlc3QoJGFyZ3MsICRoZWFkZXJzLCAkYm9keSkpCgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkNhbm5vdCBjYWxsIGdldExvZ3NG'));
	@fwrite($fp, base64_decode('b3JVcGRhdGUgKFJlcXVlc3QgZmFpbGVkKSIpOwoKCQkkYXJyT3V0cHV0ID0gJHRoaXMtPnhtbFBhcnNlKCRib2R5KTsKCgkJJHJldmxvZ3MgPSBhcnJheSgpOwoKCQkkYXJyYXkgPSBhcnJheSgpOwoJCWZvcmVhY2ggKCRhcnJPdXRwdXRbJ2NoaWxkcmVuJ10gYXMg'));
	@fwrite($fp, base64_decode('JHZhbHVlKSB7CgkJCS8qCiAgICAgICAgICAgICAgICAgICAgICAgIDxTOmxvZy1pdGVtPgoJCQk8RDp2ZXJzaW9uLW5hbWU+MTY0PC9EOnZlcnNpb24tbmFtZT4KCQkJPFM6ZGF0ZT4yMDE5LTA4LTEzVDEzOjEyOjEzLjkxNTkyMFo8L1M6ZGF0ZT4KCQkJPEQ6Y29t'));
	@fwrite($fp, base64_decode('bWVudD5VcGRhdGUgYXNzaXN0YW50IGJ1Z2ZpeDwvRDpjb21tZW50PgoJCQk8RDpjcmVhdG9yLWRpc3BsYXluYW1lPmRhbmllbC1tYXJzY2hhbGw8L0Q6Y3JlYXRvci1kaXNwbGF5bmFtZT4KCQkJPFM6bW9kaWZpZWQtcGF0aCBub2RlLWtpbmQ9ImZpbGUiIHRleHQt'));
	@fwrite($fp, base64_decode('bW9kcz0idHJ1ZSIgcHJvcC1tb2RzPSJmYWxzZSI+L3RydW5rL3VwZGF0ZS9pbmRleC5waHA8L1M6bW9kaWZpZWQtcGF0aD4KCQkJPFM6bW9kaWZpZWQtcGF0aCBub2RlLWtpbmQ9ImZpbGUiIHRleHQtbW9kcz0idHJ1ZSIgcHJvcC1tb2RzPSJmYWxzZSI+L3RydW5r'));
	@fwrite($fp, base64_decode('L3VwZGF0ZS9waHBzdm5jbGllbnQuaW5jLnBocDwvUzptb2RpZmllZC1wYXRoPgoJCQk8L1M6bG9nLWl0ZW0+CgkJCSovCgoJCQkkdmVyc2lvbk5hbWUgPSAnJzsKCQkJJGRhdGUgPSAnJzsKCQkJJGNvbW1lbnQgPSAnJzsKCQkJZm9yZWFjaCAoJHZhbHVlWydjaGls'));
	@fwrite($fp, base64_decode('ZHJlbiddIGFzICRlbnRyeSkgewoJCQkJaWYgKCgkZW50cnlbJ25hbWUnXSA9PSAnUzpBRERFRC1QQVRIJykgfHwgKCRlbnRyeVsnbmFtZSddID09ICdTOk1PRElGSUVELVBBVEgnKSB8fCAoJGVudHJ5WyduYW1lJ10gPT0gJ1M6REVMRVRFRC1QQVRIJykpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CQlpZiAoJGVudHJ5WydhdHRycyddWydOT0RFLUtJTkQnXSA9PSAiZmlsZSIpIHsKCQkJCQkJJGFycmF5WydvYmplY3RzJ11bXSA9IGFycmF5KAoJCQkJCQkJJ29iamVjdF9uYW1lJyA9PiAkZW50cnlbJ3RhZ0RhdGEnXSwKCQkJCQkJCSdhY3Rpb24nID0+ICRlbnRy'));
	@fwrite($fp, base64_decode('eVsnbmFtZSddLAoJCQkJCQkJJ3R5cGUnID0+ICdmaWxlJwoJCQkJCQkpOwoJCQkJCX0gZWxzZSBpZiAoJGVudHJ5WydhdHRycyddWydOT0RFLUtJTkQnXSA9PSAiZGlyIikgewoJCQkJCQkkYXJyYXlbJ29iamVjdHMnXVtdID0gYXJyYXkoCgkJCQkJCQknb2JqZWN0'));
	@fwrite($fp, base64_decode('X25hbWUnID0+ICRlbnRyeVsndGFnRGF0YSddLAoJCQkJCQkJJ2FjdGlvbicgPT4gJGVudHJ5WyduYW1lJ10sCgkJCQkJCQkndHlwZScgPT4gJ2RpcicKCQkJCQkJKTsKCQkJCQl9CgkJCQl9IGVsc2UgaWYgKCRlbnRyeVsnbmFtZSddID09ICdEOlZFUlNJT04tTkFN'));
	@fwrite($fp, base64_decode('RScpIHsKCQkJCQkkdmVyc2lvbk5hbWUgPSBpc3NldCgkZW50cnlbJ3RhZ0RhdGEnXSkgPyAkZW50cnlbJ3RhZ0RhdGEnXSA6ICcnOwoJCQkJfSBlbHNlIGlmICgkZW50cnlbJ25hbWUnXSA9PSAnUzpEQVRFJykgewoJCQkJCSRkYXRlID0gaXNzZXQoJGVudHJ5Wyd0'));
	@fwrite($fp, base64_decode('YWdEYXRhJ10pID8gJGVudHJ5Wyd0YWdEYXRhJ10gOiAnJzsKCQkJCX0gZWxzZSBpZiAoJGVudHJ5WyduYW1lJ10gPT0gJ0Q6Q09NTUVOVCcpIHsKCQkJCQkkY29tbWVudCA9IGlzc2V0KCRlbnRyeVsndGFnRGF0YSddKSA/ICRlbnRyeVsndGFnRGF0YSddIDogJyc7'));
	@fwrite($fp, base64_decode('CgkJCQl9IGVsc2UgaWYgKCRlbnRyeVsnbmFtZSddID09ICdEOkNSRUFUT1ItRElTUExBWU5BTUUnKSB7CgkJCQkJJGNyZWF0b3IgPSBpc3NldCgkZW50cnlbJ3RhZ0RhdGEnXSkgPyAkZW50cnlbJ3RhZ0RhdGEnXSA6ICcnOwoJCQkJfQoJCQl9CiAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICRyZXZsb2dzW10gPSBhcnJheSgndmVyc2lvbk5hbWUnID0+ICR2ZXJzaW9uTmFtZSwKCQkJICAgICAgICAgICAgICAgICAgICdkYXRlJyA9PiAkZGF0ZSwKCQkJCQkgICAnY29tbWVudCcgPT4gJGNvbW1lbnQsCgkJCQkJICAgJ2NyZWF0b3In'));
	@fwrite($fp, base64_decode('ID0+ICRjcmVhdG9yKTsKCQl9CgkJJGZpbGVzICAgICAgID0gIiI7CgkJJGZpbGVzRGVsZXRlID0gIiI7CgkJJGRpcnMgICAgICAgID0gIiI7CgkJJGRpcnNEZWxldGUgID0gIiI7CgoJCWZvcmVhY2ggKCRhcnJheVsnb2JqZWN0cyddIGFzICRvYmplY3RzKSB7CgkJ'));
	@fwrite($fp, base64_decode('CWlmICgkb2JqZWN0c1sndHlwZSddID09ICJmaWxlIikgewoJCQkJaWYgKCRvYmplY3RzWydhY3Rpb24nXSA9PSAiUzpBRERFRC1QQVRIIiB8fCAkb2JqZWN0c1snYWN0aW9uJ10gPT0gIlM6TU9ESUZJRUQtUEFUSCIpIHsKCQkJCQkkZmlsZSA9ICRvYmplY3RzWydv'));
	@fwrite($fp, base64_decode('YmplY3RfbmFtZSddIC4gIi8qKysrKi8iOwoJCQkJCSRmaWxlcyAuPSAkZmlsZTsKCQkJCQkkZmlsZXNEZWxldGUgPSBzdHJfcmVwbGFjZSgkZmlsZSwgIiIsICRmaWxlc0RlbGV0ZSwgJGNvdW50KTsKCQkJCX0KCQkJCWlmICgkb2JqZWN0c1snYWN0aW9uJ10gPT0g'));
	@fwrite($fp, base64_decode('IlM6REVMRVRFRC1QQVRIIikgewoJCQkJCWlmIChzdHJwb3MoJGZpbGVzLCAkb2JqZWN0c1snb2JqZWN0X25hbWUnXSkgIT09IGZhbHNlKSB7CgkJCQkJCSRmaWxlICA9ICRvYmplY3RzWydvYmplY3RfbmFtZSddIC4gIi8qKysrKi8iOwoJCQkJCQkkY291bnQgPSAx'));
	@fwrite($fp, base64_decode('OwoJCQkJCQkkZmlsZXMgPSBzdHJfcmVwbGFjZSgkZmlsZSwgIiIsICRmaWxlcywgJGNvdW50KTsKCQkJCQl9IGVsc2UgewoJCQkJCQkkZmlsZXNEZWxldGUgLj0gJG9iamVjdHNbJ29iamVjdF9uYW1lJ10gLiAiLyorKysqLyI7CgkJCQkJfQoJCQkJfQoJCQl9CgkJ'));
	@fwrite($fp, base64_decode('CWlmICgkb2JqZWN0c1sndHlwZSddID09ICJkaXIiKSB7CgkJCQlpZiAoJG9iamVjdHNbJ2FjdGlvbiddID09ICJTOkFEREVELVBBVEgiIHx8ICRvYmplY3RzWydhY3Rpb24nXSA9PSAiUzpNT0RJRklFRC1QQVRIIikgewoJCQkJCSRkaXIgPSAkb2JqZWN0c1snb2Jq'));
	@fwrite($fp, base64_decode('ZWN0X25hbWUnXSAuICIvKisrKyovIjsKCQkJCQkkZGlycyAuPSAkZGlyOwoJCQkJCSRkaXJzRGVsZXRlID0gc3RyX3JlcGxhY2UoJGRpciwgIiIsICRkaXJzRGVsZXRlLCAkY291bnQpOwoJCQkJfQoJCQkJaWYgKCRvYmplY3RzWydhY3Rpb24nXSA9PSAiUzpERUxF'));
	@fwrite($fp, base64_decode('VEVELVBBVEgiKSB7CgkJCQkJLy8gRGVsZXRlIGZpbGVzIGZyb20gZmlsZWxpc3QKCQkJCQkkZGlyICAgID0gJG9iamVjdHNbJ29iamVjdF9uYW1lJ10gLiAiLyI7CgkJCQkJJGZpbGVzMSA9IGV4cGxvZGUoIi8qKysrKi8iLCAkZmlsZXMpOwoJCQkJCWZvciAoJHgg'));
	@fwrite($fp, base64_decode('PSAwOyAkeCA8IGNvdW50KCRmaWxlczEpOyAkeCsrKSB7CgkJCQkJCWlmIChzdHJwb3MoJGZpbGVzMVskeF0sICRkaXIpICE9PSBmYWxzZSkgewoJCQkJCQkJdW5zZXQoJGZpbGVzMVskeF0pOwoJCQkJCQl9CgkJCQkJfQoJCQkJCSRmaWxlcyA9IGltcGxvZGUoIi8q'));
	@fwrite($fp, base64_decode('KysrKi8iLCAkZmlsZXMxKTsKCQkJCQkvLyBFTkQgT0YgRGVsZXRlIGZpbGVzIGZyb20gZmlsZWxpc3QKCQkJCQkvLyBEZWxldGUgZGlycyBmcm9tIGRpcnNsaXN0CgkJCQkJaWYgKHN0cnBvcygkZGlycywgJG9iamVjdHNbJ29iamVjdF9uYW1lJ10pICE9PSBmYWxz'));
	@fwrite($fp, base64_decode('ZSkgewoJCQkJCQkkZGlyICAgPSAkb2JqZWN0c1snb2JqZWN0X25hbWUnXSAuICIvKisrKyovIjsKCQkJCQkJJGNvdW50ID0gMTsKCQkJCQkJJGRpcnMgID0gc3RyX3JlcGxhY2UoJGRpciwgIiIsICRkaXJzLCAkY291bnQpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSRk'));
	@fwrite($fp, base64_decode('aXJzRGVsZXRlIC49ICRvYmplY3RzWydvYmplY3RfbmFtZSddIC4gIi8qKysrKi8iOwoJCQkJCX0KCQkJCQkvLyBFTkQgT0YgRGVsZXRlIGRpcnMgZnJvbSBkaXJzbGlzdAoJCQkJfQoJCQl9CgkJfQoJCSRmaWxlcyAgICAgICAgICAgICAgPSBleHBsb2RlKCIvKisr'));
	@fwrite($fp, base64_decode('KyovIiwgJGZpbGVzKTsKCQkkZmlsZXNEZWxldGUgICAgICAgID0gZXhwbG9kZSgiLyorKysqLyIsICRmaWxlc0RlbGV0ZSk7CgkJJGRpcnMgICAgICAgICAgICAgICA9IGV4cGxvZGUoIi8qKysrKi8iLCAkZGlycyk7CgkJJGRpcnNEZWxldGUgICAgICAgICA9IGV4'));
	@fwrite($fp, base64_decode('cGxvZGUoIi8qKysrKi8iLCAkZGlyc0RlbGV0ZSk7CgkJJG91dCAgICAgICAgICAgICAgICA9IGFycmF5KCk7CgkJJG91dFsnZmlsZXMnXSAgICAgICA9ICRmaWxlczsKCQkkb3V0WydmaWxlc0RlbGV0ZSddID0gJGZpbGVzRGVsZXRlOwoJCSRvdXRbJ2RpcnMnXSAg'));
	@fwrite($fp, base64_decode('ICAgICAgPSAkZGlyczsKCQkkb3V0WydkaXJzRGVsZXRlJ10gID0gJGRpcnNEZWxldGU7CgkJJG91dFsncmV2aXNpb25zJ10gICA9ICRyZXZsb2dzOwoJCXJldHVybiAkb3V0OwoJfQoKCS8qKgoJICogIFJldHVybnMgdGhlIHJlcG9zaXRvcnkgdmVyc2lvbgoJICoK'));
	@fwrite($fp, base64_decode('CSAqICBAcmV0dXJuIGludGVnZXIgUmVwb3NpdG9yeSB2ZXJzaW9uCgkgKiAgQGFjY2VzcyBwdWJsaWMKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldFZlcnNpb24oKQoJewoJCWlmICgkdGhpcy0+X3JlcFZlcnNpb24gPiAwKQoJCQlyZXR1cm4gJHRoaXMtPl9yZXBW'));
	@fwrite($fp, base64_decode('ZXJzaW9uOwoKCQkkdGhpcy0+X3JlcFZlcnNpb24gPSAtMTsKCQkkdGhpcy0+aW5pdFF1ZXJ5KCRhcmdzLCAiUFJPUEZJTkQiLCAkdGhpcy0+Y2xlYW5VUkwoJHRoaXMtPl91cmwgLiAiLyFzdm4vdmNjL2RlZmF1bHQiKSk7CgkJJGFyZ3NbJ0JvZHknXSAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICA9IFBIUFNWTl9WRVJTSU9OX1JFUVVFU1Q7CgkJJGFyZ3NbJ0hlYWRlcnMnXVsnQ29udGVudC1MZW5ndGgnXSA9IHN0cmxlbihQSFBTVk5fTk9STUFMX1JFUVVFU1QpOwoJCSRhcmdzWydIZWFkZXJzJ11bJ0RlcHRoJ10gICAgICAgICAgPSAw'));
	@fwrite($fp, base64_decode('OwoKCQlpZiAoISR0aGlzLT5SZXF1ZXN0KCRhcmdzLCAkdG1wLCAkYm9keSkpCgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkNhbm5vdCBnZXQgcmVwb3NpdG9yeSByZXZpc2lvbiAoUmVxdWVzdCBmYWlsZWQpIik7CgoJCSR0aGlzLT5fcmVwVmVyc2lvbiA9IG51bGw7'));
	@fwrite($fp, base64_decode('CgkJaWYgKHByZWdfbWF0Y2goJ0AvKFxkKylccyo8L0Q6aHJlZj5AaXNtVScsICRib2R5LCAkbSkpIHsKCQkJJHRoaXMtPl9yZXBWZXJzaW9uID0gJG1bMV07CgkJfSBlbHNlIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiQ2Fubm90IGdldCByZXBvc2l0b3J5IHJl'));
	@fwrite($fp, base64_decode('dmlzaW9uIChSZWdFeCBmYWlsZWQpIik7CgkJfQoKCQlyZXR1cm4gJHRoaXMtPl9yZXBWZXJzaW9uOwoJfQoKCS8qKgoJICogIFByaXZhdGUgRnVuY3Rpb25zCgkgKi8KCgkvKioKCSAqICBQcmVwYXJlIEhUVFAgQ0xJRU5UIG9iamVjdAoJICoKCSAqICBAcGFyYW0g'));
	@fwrite($fp, base64_decode('YXJyYXkgJiRhcmd1bWVudHMgQnlyZWZlcmVuY2VzIHZhcmlhYmxlLgoJICogIEBwYXJhbSBzdHJpbmcgJG1ldGhvZCBNZXRob2QgZm9yIHRoZSByZXF1ZXN0IChHRVQsUE9TVCxQUk9QRklORCwgUkVQT1JULEVUQykuCgkgKiAgQHBhcmFtIHN0cmluZyAkdXJsIFVS'));
	@fwrite($fp, base64_decode('TCBmb3IgdGhlIGFjdGlvbi4KCSAqICBAYWNjZXNzIHByaXZhdGUKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBpbml0UXVlcnkoJiRhcmd1bWVudHMsICRtZXRob2QsICR1cmwpCgl7CgkJJGh0dHAgPSYgJHRoaXMtPl9odHRwOwoJCSRodHRwLT5HZXRSZXF1ZXN0QXJn'));
	@fwrite($fp, base64_decode('dW1lbnRzKCR1cmwsICRhcmd1bWVudHMpOwoJCSRhcmd1bWVudHNbIlJlcXVlc3RNZXRob2QiXSAgICAgICAgICAgPSAkbWV0aG9kOwoJCSRhcmd1bWVudHNbIkhlYWRlcnMiXVsiQ29udGVudC1UeXBlIl0gPSAidGV4dC94bWwiOwoJCSRhcmd1bWVudHNbIkhlYWRl'));
	@fwrite($fp, base64_decode('cnMiXVsiRGVwdGgiXSAgICAgICAgPSAxOwoJfQoKCS8qKgoJICogIE9wZW4gYSBjb25uZWN0aW9uLCBzZW5kIHJlcXVlc3QsIHJlYWQgaGVhZGVyCgkgKiAgYW5kIGJvZHkuCgkgKgoJICogIEBwYXJhbSBBcnJheSAkYXJncyBDb25uZXRpb24ncyBhcmd1bWVudAoJ'));
	@fwrite($fp, base64_decode('ICogIEBwYXJhbSBBcnJheSAmJGhlYWRlcnMgQXJyYXkgd2l0aCB0aGUgaGVhZGVyIHJlc3BvbnNlLgoJICogIEBwYXJhbSBzdHJpbmcgJiRib2R5IEJvZHkgcmVzcG9uc2UuCgkgKiAgQHJldHVybiBib29sZWFuIFRydWUgaXMgcXVlcnkgc3VjY2VzcwoJICogIEBh'));
	@fwrite($fp, base64_decode('Y2Nlc3MgcHJpdmF0ZQoJICovCglwcml2YXRlIGZ1bmN0aW9uIFJlcXVlc3QoJGFyZ3MsICYkaGVhZGVycywgJiRib2R5KQoJewoJCSRhcmdzWydSZXF1ZXN0VVJJJ10gPSBzdHJfcmVwbGFjZSgnICcsICclMjAnLCAkYXJnc1snUmVxdWVzdFVSSSddKTsgLy9IYWNr'));
	@fwrite($fp, base64_decode('IHRvIG1ha2UgZmlsZW5hbWVzIHdpdGggc3BhY2VzIHdvcmsuCgkJJGh0dHAgPSYgJHRoaXMtPl9odHRwOwoJCSRodHRwLT5PcGVuKCRhcmdzKTsKCQkkaHR0cC0+U2VuZFJlcXVlc3QoJGFyZ3MpOwoJCSRodHRwLT5SZWFkUmVwbHlIZWFkZXJzKCRoZWFkZXJzKTsK'));
	@fwrite($fp, base64_decode('CQlpZiAoJGh0dHAtPnJlc3BvbnNlX3N0YXR1c1swXSAhPSAyKSB7CgkJCXN3aXRjaCAoJGh0dHAtPnJlc3BvbnNlX3N0YXR1cykgewoJCQkJY2FzZSA0MDQ6CgkJCQkJJHRoaXMtPmVyck5ybyA9IE5PVF9GT1VORDsKCQkJCQlicmVhazsKCQkJCWNhc2UgNDAxOgoJ'));
	@fwrite($fp, base64_decode('CQkJCSR0aGlzLT5lcnJOcm8gPSBBVVRIX1JFUVVJUkVEOwoJCQkJCWJyZWFrOwoJCQkJZGVmYXVsdDoKCQkJCQkkdGhpcy0+ZXJyTnJvID0gVU5LTk9XTl9FUlJPUjsKCQkJCQlicmVhazsKCQkJfQoJCQkvLyAgICAgICAgICAgIHRyaWdnZXJfZXJyb3IoInJlcXVl'));
	@fwrite($fp, base64_decode('c3QgdG8gJGFyZ3NbUmVxdWVzdFVSSV0gZmFpbGVkOiAkaHR0cC0+cmVzcG9uc2Vfc3RhdHVzCgkJCS8vRXJyb3I6ICRodHRwLT5lcnJvciIpOwoJCQkkaHR0cC0+Y2xvc2UoKTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCQkkdGhpcy0+ZXJyTnJvID0gTk9fRVJST1I7'));
	@fwrite($fp, base64_decode('CgkJJGJvZHkgICAgICAgICA9ICcnOwoJCSR0Ym9keSAgICAgICAgPSAnJzsKCQlmb3IgKDs7KSB7CgkJCSRlcnJvciA9ICRodHRwLT5SZWFkUmVwbHlCb2R5KCR0Ym9keSwgMTAwMCk7CgkJCWlmICgkZXJyb3IgIT0gIiIgfHwgc3RybGVuKCR0Ym9keSkgPT0gMCkg'));
	@fwrite($fp, base64_decode('ewoJCQkJYnJlYWs7CgkJCX0KCQkJJGJvZHkgLj0gKCR0Ym9keSk7CgkJfQoJCSRodHRwLT5jbG9zZSgpOwoJCXJldHVybiB0cnVlOwoJfQoKCS8qKgoJICogIFJldHVybnMgJHVybCBzdHJpcHBlZCBvZiAnLy8nCgkgKgoJICogIERlbGV0ZSAiLy8iIG9uIFVSTCBy'));
	@fwrite($fp, base64_decode('ZXF1ZXN0cy4KCSAqCgkgKiAgQHBhcmFtIHN0cmluZyAkdXJsIFVSTAoJICogIEByZXR1cm4gc3RyaW5nIE5ldyBjbGVhbmVkIFVSTC4KCSAqICBAYWNjZXNzIHByaXZhdGUKCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiBjbGVhblVSTCgkdXJsKQoJewoJCXJldHVybiBw'));
	@fwrite($fp, base64_decode('cmVnX3JlcGxhY2UoIi8oKF46KVwvXC8pLyIsICIvLyIsICR1cmwpOwoJfQoKCS8qCgkgIFRha2VuIGZyb20gaHR0cDovL3d3dy5waHAubmV0L21hbnVhbC9lbi9mdW5jdGlvbi54bWwtcGFyc2UucGhwIzUyNTY3CgkgIE1vZGlmaWVkIGJ5IE1hcnRpbiBHdXBweSA8'));
	@fwrite($fp, base64_decode('aHR0cDovL3d3dy5kZWFkcGFuMTEwLmNvbS8+CgkgIFVzYWdlCgkgIEdyYWIgc29tZSBYTUwgZGF0YSwgZWl0aGVyIGZyb20gYSBmaWxlLCBVUkwsIGV0Yy4gaG93ZXZlciB5b3Ugd2FudC4KCSAgQXNzdW1lIHN0b3JhZ2UgaW4gJHN0cllvdXJYTUw7CgkgIENvbnZl'));
	@fwrite($fp, base64_decode('cnRlZCAiY2xhc3MiIGludG8gYSBzaW5nbGUgZnVuY3Rpb24gYnkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHhtbFBhcnNlKCRzdHJJbnB1dFhNTCkgewoJCSRhcnJPdXRwdXQgPSBhcnJheSgpOwoK'));
	@fwrite($fp, base64_decode('CQkkcmVzUGFyc2VyID0geG1sX3BhcnNlcl9jcmVhdGUoKTsKCQl4bWxfc2V0X2VsZW1lbnRfaGFuZGxlcigkcmVzUGFyc2VyLAoJCQlmdW5jdGlvbiAvKnRhZ09wZW4qLygkcGFyc2VyLCAkbmFtZSwgJGF0dHJzKSB1c2UgKCYkYXJyT3V0cHV0KSB7CgkJCQkkdGFn'));
	@fwrite($fp, base64_decode('ID0gYXJyYXkoIm5hbWUiID0+ICRuYW1lLCAiYXR0cnMiID0+ICRhdHRycyk7CgkJCQlhcnJheV9wdXNoKCRhcnJPdXRwdXQsICR0YWcpOwoJCQl9LAoJCQlmdW5jdGlvbiAvKnRhZ0Nsb3NlZCovKCRwYXJzZXIsICRuYW1lKSB1c2UgKCYkYXJyT3V0cHV0KSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkkYXJyT3V0cHV0W2NvdW50KCRhcnJPdXRwdXQpIC0gMl1bJ2NoaWxkcmVuJ11bXSA9ICRhcnJPdXRwdXRbY291bnQoJGFyck91dHB1dCkgLSAxXTsKCQkJCWFycmF5X3BvcCgkYXJyT3V0cHV0KTsKCQkJfQoJCSk7CgkJeG1sX3NldF9jaGFyYWN0ZXJfZGF0YV9o'));
	@fwrite($fp, base64_decode('YW5kbGVyKCRyZXNQYXJzZXIsCgkJCWZ1bmN0aW9uIC8qdGFnRGF0YSovKCRwYXJzZXIsICR0YWdEYXRhKSB1c2UgKCYkYXJyT3V0cHV0KSB7CgkJCQlpZiAodHJpbSgkdGFnRGF0YSkpIHsKCQkJCQlpZiAoaXNzZXQoJGFyck91dHB1dFtjb3VudCgkYXJyT3V0cHV0'));
	@fwrite($fp, base64_decode('KSAtIDFdWyd0YWdEYXRhJ10pKSB7CgkJCQkJCSRhcnJPdXRwdXRbY291bnQoJGFyck91dHB1dCkgLSAxXVsndGFnRGF0YSddIC49ICR0YWdEYXRhOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSRhcnJPdXRwdXRbY291bnQoJGFyck91dHB1dCkgLSAxXVsndGFnRGF0YSdd'));
	@fwrite($fp, base64_decode('ID0gJHRhZ0RhdGE7CgkJCQkJfQoJCQkJfQoJCQl9CgkJKTsKCgkJaWYgKCF4bWxfcGFyc2UoJHJlc1BhcnNlciwgJHN0cklucHV0WE1MKSkgewoJCQlkaWUoc3ByaW50ZigiWE1MIGVycm9yOiAlcyBhdCBsaW5lICVkIiwgeG1sX2Vycm9yX3N0cmluZyh4bWxfZ2V0'));
	@fwrite($fp, base64_decode('X2Vycm9yX2NvZGUoJHJlc1BhcnNlcikpLCB4bWxfZ2V0X2N1cnJlbnRfbGluZV9udW1iZXIoJHJlc1BhcnNlcikpKTsKCQl9CgoJCXhtbF9wYXJzZXJfZnJlZSgkcmVzUGFyc2VyKTsKCgkJcmV0dXJuICRhcnJPdXRwdXRbMF07Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('update/includes/phpsvnclient.class.php')) {
	warn('File has vanished! Will re-create it: update/includes/phpsvnclient.class.php');
	writefile_2();
	if (!is_file('update/includes/phpsvnclient.class.php')) {
		warn('File cannot be created (not existing): update/includes/phpsvnclient.class.php');
	} else if (sha1_file('update/includes/phpsvnclient.class.php') != '049fa69863f29b75988a5c554d7adbee751ec81d') {
		warn('File cannot be created (checksum mismatch): update/includes/phpsvnclient.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/includes/phpsvnclient.class.php', 0644)) {
		warn('Could not change file permissions of update/includes/phpsvnclient.class.php');
	}
} else {
	if (@sha1_file('update/includes/phpsvnclient.class.php') !== '049fa69863f29b75988a5c554d7adbee751ec81d') {
		if (@sha1_file('update/includes/phpsvnclient.class.php') !== '67cd04d2f86b8512315747b020f1adfa8db4d01e') {
			warn('File was modified. Will overwrite the changes now: update/includes/phpsvnclient.class.php');
			$tmp = pathinfo('update/includes/phpsvnclient.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/includes/phpsvnclient.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('update/includes/phpsvnclient.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('update/includes/phpsvnclient.class.php') !== '049fa69863f29b75988a5c554d7adbee751ec81d') {
			warn('File cannot be written (checksum mismatch): update/includes/phpsvnclient.class.php');
		}
	}
}

// Files different: update/index.php
function writefile_3() {
	@$fp = fopen('update/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmRlY2xhcmUodGlja3M9MSk7CgpzZXRfdGltZV9saW1pdCgwKTsKCmlmICghZmlsZV9leGlzdHMoX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvY29uZmlnLmluYy5waHAnKSkgewoJaGVhZGVyKCdsb2Nh'));
	@fwrite($fp, base64_decode('dGlvbjouLi9zZXR1cC8nKTsKCWRpZSgpOwp9CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uL2luY2x1ZGVzL2NvbmZpZy5pbmMucGhwJzsKcmVxdWlyZV9vbmNl'));
	@fwrite($fp, base64_decode('IF9fRElSX18gLiAnL2luY2x1ZGVzL3BocHN2bmNsaWVudC5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaW5jbHVkZXMvaHR0cF9jbGFzcy5jbGFzcy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaW5jbHVkZXMvdm5hZ19mcmFtZXdv'));
	@fwrite($fp, base64_decode('cmsuaW5jLnBocCc7CgpkZWZpbmUoJ09JRFBMVVNfUkVQTycsICdodHRwczovL3N2bi52aWF0aGlua3NvZnQuY29tL3N2bi9vaWRwbHVzJyk7Cgo/PjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+Cgo8aGVhZD4KCTx0aXRsZT5PSURwbHVzIFVwZGF0ZTwv'));
	@fwrite($fp, base64_decode('dGl0bGU+Cgk8bWV0YSBuYW1lPSJyb2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgiPgoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIu'));
	@fwrite($fp, base64_decode('Li9zZXR1cC9zZXR1cC5jc3MiPgoJPD9waHAKCWlmIChSRUNBUFRDSEFfRU5BQkxFRCkgewoJPz4KCTxzY3JpcHQgc3JjPSJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMiPjwvc2NyaXB0PgoJPD9waHAKCX0KCT8+CjwvaGVhZD4KCjxib2R5'));
	@fwrite($fp, base64_decode('PgoKPGgxPlVwZGF0ZSBPSURwbHVzPC9oMT4KCjw/cGhwCgppZiAoaXNzZXQoJF9SRVFVRVNUWyd1cGRhdGVfbm93J10pKSB7CglpZiAoUkVDQVBUQ0hBX0VOQUJMRUQpIHsKCQkkc2VjcmV0ID0gUkVDQVBUQ0hBX1BSSVZBVEU7CgkJJHJlc3BvbnNlID0gJF9QT1NU'));
	@fwrite($fp, base64_decode('WyJnLXJlY2FwdGNoYS1yZXNwb25zZSJdOwoJCSR2ZXJpZnkgPSBmaWxlX2dldF9jb250ZW50cygiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpL3NpdGV2ZXJpZnk/c2VjcmV0PXskc2VjcmV0fSZyZXNwb25zZT17JHJlc3BvbnNlfSIpOwoJCSRj'));
	@fwrite($fp, base64_decode('YXB0Y2hhX3N1Y2Nlc3MgPSBqc29uX2RlY29kZSgkdmVyaWZ5KTsKCX0KCWlmIChSRUNBUFRDSEFfRU5BQkxFRCAmJiAoJGNhcHRjaGFfc3VjY2Vzcy0+c3VjY2Vzcz09ZmFsc2UpKSB7CgkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+PGI+Q0FQVENIQSBub3Qg'));
	@fwrite($fp, base64_decode('c3VjZXNzZnVsbHkgdmVyaWZpZWQ8L2I+PC9mb250PjwvcD4nOwoJCWVjaG8gJzxwPjxhIGhyZWY9ImluZGV4LnBocCI+VHJ5IGFnYWluPC9hPjwvcD4nOwoJfSBlbHNlIHsKCQlpZiAoIU9JRHBsdXNBdXRoVXRpbHM6OmFkbWluQ2hlY2tQYXNzd29yZCgkX1JFUVVF'));
	@fwrite($fp, base64_decode('U1RbJ2FkbWluX3Bhc3N3b3JkJ10pKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPjxiPldyb25nIHBhc3N3b3JkPC9iPjwvZm9udD48L3A+JzsKCQkJZWNobyAnPHA+PGEgaHJlZj0iaW5kZXgucGhwIj5UcnkgYWdhaW48L2E+PC9wPic7CgkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IHsKCQkJJHN2biA9IG5ldyBwaHBzdm5jbGllbnQoJ2h0dHBzOi8vc3ZuLnZpYXRoaW5rc29mdC5jb20vc3ZuL29pZHBsdXMnKTsKCQkJJHN2bi0+dmVyc2lvbkZpbGUgPSAnb2lkcGx1c192ZXJzaW9uLnR4dCc7CgkJCWVjaG8gJzxoMj5VcGRhdGluZyAuLi48L2gy'));
	@fwrite($fp, base64_decode('Pic7CgkJCWVjaG8gJzxwcmU+JzsKCQkJJHN2bi0+dXBkYXRlV29ya2luZ0NvcHkoZGlybmFtZShfX0RJUl9fKS4nL29pZHBsdXNfdmVyc2lvbi50eHQnLCAnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgZmFsc2UpOwoJCQllY2hvICc8L3ByZT4nOwoJCQllY2hv'));
	@fwrite($fp, base64_decode('ICc8cD48YSBocmVmPSJpbmRleC5waHAiPkJhY2sgdG8gdXBkYXRlIHBhZ2U8L2E+PC9wPic7CgkJCWVjaG8gJzxocj4nOwoJCX0KCX0KCn0gZWxzZSB7CgoJY2xhc3MgVk5hZ01vbml0b3JEdW1teSBleHRlbmRzIFZOYWcgewoJCXByaXZhdGUgJHN0YXR1czsKCQlw'));
	@fwrite($fp, base64_decode('cml2YXRlICRjb250ZW50OwoKCQlwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHN0YXR1cywgJGNvbnRlbnQpIHsKCQkJcGFyZW50OjpfX2NvbnN0cnVjdCgpOwoJCQkkdGhpcy0+c3RhdHVzID0gJHN0YXR1czsKCQkJJHRoaXMtPmNvbnRlbnQgPSAkY29udGVu'));
	@fwrite($fp, base64_decode('dDsKCQl9CgoJCXByb3RlY3RlZCBmdW5jdGlvbiBjYlJ1bigkb3B0aW9uYWxfYXJncz1hcnJheSgpKSB7CgkJCSR0aGlzLT5zZXRTdGF0dXMoJHRoaXMtPnN0YXR1cyk7CgkJCSR0aGlzLT5zZXRIZWFkbGluZSgkdGhpcy0+Y29udGVudCk7CgkJfQoJfQoKCT8+CgoJ'));
	@fwrite($fp, base64_decode('PHA+PHU+VGhlcmUgYXJlIHR3byBwb3NzaWJpbGl0aWVzIGhvdyB0byBrZWVwIE9JRHBsdXMgdXAtdG8tZGF0ZTo8L3U+PC9wPgoKCTxwPjxiPk1ldGhvZCBBPC9iPjogSW5zdGFsbCBPSURwbHVzIHVzaW5nIHRoZSBzdWJ2ZXJzaW9uIHRvb2wgaW4geW91ciBTU0gv'));
	@fwrite($fp, base64_decode('TGludXggc2hlbGwgdXNpbmcgdGhlIGNvbW1hbmQgPGNvZGU+c3ZuIGNvIDw/cGhwIGVjaG8gT0lEUExVU19SRVBPOyA/Pi90cnVuazwvY29kZT4KCWFuZCB1cGRhdGUgaXQgcmVndWxhcmx5IHdpdGggdGhlIGNvbW1hbmQgPGNvZGU+c3ZuIHVwZGF0ZTwvY29kZT4g'));
	@fwrite($fp, base64_decode('LiBUaGlzIHdpbGwgYXV0b21hdGljYWxseSBkb3dubG9hZCB0aGUgbGF0ZXN0IHZlcnNpb24gYW5kIGFsc28gY2hlY2sgZm9yCgljb25mbGljdHMuIEhpZ2hseSByZWNvbW1lbmRlZCBpZiB5b3UgaGF2ZSBhIFNoZWxsL1NTSCBhY2Nlc3MgdG8geW91ciB3ZWJzcGFj'));
	@fwrite($fp, base64_decode('ZSE8L3A+CgoJPHA+PGI+TWV0aG9kIEI6PC9iPiBJbnN0YWxsIE9JRHBsdXMgYnkgZG93bmxvYWRpbmcgYSBaSVAgZmlsZSBmcm9tIHd3dy52aWF0aGlua3NvZnQuY29tLCB3aGljaCBjb250YWlucyBhIFNWTiBzbmFwc2hvdCwgYW5kIGV4dHJhY3QgaXQgdG8geW91'));
	@fwrite($fp, base64_decode('ciB3ZWJzcGFjZS4KCVRoZSBaSVAgZmlsZSBjb250YWlucyBhIGZpbGUgbmFtZWQgIm9pZHBsdXNfdmVyc2lvbi50eHQiIHdoaWNoIGNvbnRhaW5zIHRoZSBTVk4gcmV2aXNpb24gb2YgdGhlIHNuYXBzaG90LiBUaGlzIHVwZGF0ZS10b29sIHdpbGwgdGhlbiB0cnkg'));
	@fwrite($fp, base64_decode('dG8gdXBkYXRlIHlvdXIgZmlsZXMKCW9uLXRoZS1mbHkgYnkgZG93bmxvYWRpbmcgdGhlbSBmcm9tIHRoZSBWaWFUaGlua1NvZnQgU1ZOIHJlcG9zaXRvcnkgZGlyZWN0bHkgaW50byB5b3VyIHdlYnNwYWNlIGRpcmVjdG9yeS4KCUEgY2hhbmdlIGNvbmZsaWN0IGRl'));
	@fwrite($fp, base64_decode('dGVjdGlvbiBpcyBOT1QgaW1wbGVtZW50ZWQuCglJdCBpcyByZXF1aXJlZCB0aGF0IHRoZSBmaWxlcyBvbiB5b3VyIHdlYnNwYWNlIGhhdmUKCWNyZWF0ZS93cml0ZS9kZWxldGUgcGVybWlzc2lvbnMuIE9ubHkgcmVjb21tZW5kZWQgaWYgeW91IGhhdmUgbm8gYWNj'));
	@fwrite($fp, base64_decode('ZXNzIHRvIHRoZSBTU0gvTGludXggc2hlbGwuPC9wPgoKCTxocj4KCgk8P3BocAoKCSRzdm5fd2NfZXhpc3RzID0gaXNfZGlyKF9fRElSX18gLiAnLy4uLy5zdm4nKTsKCSRzbmFwc2hvdF9leGlzdHMgPSBmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy8uLi9vaWRwbHVz'));
	@fwrite($fp, base64_decode('X3ZlcnNpb24udHh0Jyk7CgoJaWYgKCRzdm5fd2NfZXhpc3RzICYmICRzbmFwc2hvdF9leGlzdHMpIHsKCQllY2hvICc8Zm9udCBjb2xvcj0icmVkIj5FUlJPUjogQm90aCwgb2lkcGx1c192ZXJzaW9uLnR4dCBhbmQgLnN2biBkaXJlY3RvcnkgZXhpc3QhIFRoZXJl'));
	@fwrite($fp, base64_decode('Zm9yZSwgdGhlIHZlcnNpb24gaXMgYW1iaWdvdXMhPC9mb250Pic7CgkJJGpvYiA9IG5ldyBWTmFnTW9uaXRvckR1bW15KFZOYWc6OlNUQVRVU19DUklUSUNBTCwgIkVSUk9SOiBCb3RoLCBvaWRwbHVzX3ZlcnNpb24udHh0IGFuZCAuc3ZuIGRpcmVjdG9yeSBleGlz'));
	@fwrite($fp, base64_decode('dCEgVGhlcmVmb3JlLCB0aGUgdmVyc2lvbiBpcyBhbWJpZ291cyEiKTsKCQkkam9iLT5odHRwX3Zpc3VhbF9vdXRwdXQgPSBmYWxzZTsKCQkkam9iLT5ydW4oKTsKCQl1bnNldCgkam9iKTsKCX0gZWxzZSBpZiAoISRzdm5fd2NfZXhpc3RzICYmICEkc25hcHNob3Rf'));
	@fwrite($fp, base64_decode('ZXhpc3RzKSB7CgkJZWNobyAnPGZvbnQgY29sb3I9InJlZCI+RVJST1I6IE5laXRoZXIgb2lkcGx1c192ZXJzaW9uLnR4dCwgbm9yIC5zdm4gZGlyZWN0b3J5IGV4aXN0ISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGNhbm5vdCBiZSBkZXRlcm1pbmVkIGFuZCB0aGUg'));
	@fwrite($fp, base64_decode('dXBkYXRlIG5lZWRzIHRvIGJlIGFwcGxpZWQgbWFudWFsbHkhPC9mb250Pic7CgkJJGpvYiA9IG5ldyBWTmFnTW9uaXRvckR1bW15KFZOYWc6OlNUQVRVU19DUklUSUNBTCwgIk5laXRoZXIgb2lkcGx1c192ZXJzaW9uLnR4dCwgbm9yIC5zdm4gZGlyZWN0b3J5IGV4'));
	@fwrite($fp, base64_decode('aXN0ISBUaGVyZWZvcmUsIHRoZSB2ZXJzaW9uIGNhbm5vdCBiZSBkZXRlcm1pbmVkIGFuZCB0aGUgdXBkYXRlIG5lZWRzIHRvIGJlIGFwcGxpZWQgbWFudWFsbHkhIik7CgkJJGpvYi0+aHR0cF92aXN1YWxfb3V0cHV0ID0gZmFsc2U7CgkJJGpvYi0+cnVuKCk7CgkJ'));
	@fwrite($fp, base64_decode('dW5zZXQoJGpvYik7Cgl9IGVsc2UgaWYgKCRzdm5fd2NfZXhpc3RzKSB7CgkJZWNobyAnPHA+WW91IGFyZSB1c2luZyA8Yj5tZXRob2QgQTwvYj4gKFNWTiB3b3JraW5nIGNvcHkpLjwvcD4nOwoKCQkkbG9jYWxfaW5zdGFsbGF0aW9uID0gT0lEcGx1czo6Z2V0VmVy'));
	@fwrite($fp, base64_decode('c2lvbigpOwoJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9JRFBMVVNfUkVQTyk7CgkJJG5ld2VzdF92ZXJzaW9uID0gJ3N2bi0nLiRzdm4tPmdldFZlcnNpb24oKTsKCgkJZWNobyAnTG9jYWwgaW5zdGFsbGF0aW9uOiAnIC4gJGxvY2FsX2luc3RhbGxhdGlvbi4n'));
	@fwrite($fp, base64_decode('PGJyPic7CgkJZWNobyAnTGF0ZXN0IHB1Ymxpc2hlZCB2ZXJzaW9uOiAnIC4gJG5ld2VzdF92ZXJzaW9uLic8YnI+JzsKCgkJaWYgKCRsb2NhbF9pbnN0YWxsYXRpb24gPT0gJG5ld2VzdF92ZXJzaW9uKSB7CgkJCWVjaG8gJzxwPjxmb250IGNvbG9yPSJncmVlbiI+'));
	@fwrite($fp, base64_decode('WW91IGFyZSBhbHJlYWR5IHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBPSURwbHVzLjwvZm9udD48L3A+JzsKCgkJCSRqb2IgPSBuZXcgVk5hZ01vbml0b3JEdW1teShWTmFnOjpTVEFUVVNfT0ssICJZb3UgYXJlIHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBv'));
	@fwrite($fp, base64_decode('ZiBPSURwbHVzICgkbG9jYWxfaW5zdGFsbGF0aW9uIGxvY2FsIC8gJG5ld2VzdF92ZXJzaW9uIHJlbW90ZSkiKTsKCQkJJGpvYi0+aHR0cF92aXN1YWxfb3V0cHV0ID0gZmFsc2U7CgkJCSRqb2ItPnJ1bigpOwoJCQl1bnNldCgkam9iKTsKCQl9IGVsc2UgewoJCQll'));
	@fwrite($fp, base64_decode('Y2hvICc8cD48Zm9udCBjb2xvcj0iYmx1ZSI+UGxlYXNlIGVudGVyIDxjb2RlPnN2biB1cGRhdGU8L2NvZGU+IGludG8gdGhlIFNTSCBzaGVsbCB0byB1cGRhdGUgT0lEcGx1cyB0byB0aGUgbGF0ZXN0IHZlcnNpb24uPC9mb250PjwvcD4nOwoKCQkJZWNobyAnPGgy'));
	@fwrite($fp, base64_decode('PlByZXZpZXcgb2YgdXBkYXRlICcuJGxvY2FsX2luc3RhbGxhdGlvbi4nICZyYXJyOyAnLiRuZXdlc3RfdmVyc2lvbi4nPC9oMj4nOwoJCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQTFVTX1JFUE8pOwoJCQllY2hvICc8cHJlPic7CgkJCSRzdm4tPnVwZGF0'));
	@fwrite($fp, base64_decode('ZVdvcmtpbmdDb3B5KHN0cl9yZXBsYWNlKCdzdm4tJywgJycsICRsb2NhbF9pbnN0YWxsYXRpb24pLCAnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgdHJ1ZSk7CgkJCWVjaG8gJzwvcHJlPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6'));
	@fwrite($fp, base64_decode('U1RBVFVTX1dBUk5JTkcsICJPSURwbHVzIGlzIG91dGRhdGVkLiAoJGxvY2FsX2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCQkkam9iLT5ydW4oKTsKCQkJ'));
	@fwrite($fp, base64_decode('dW5zZXQoJGpvYik7CgkJfQoJfSBlbHNlIGlmICgkc25hcHNob3RfZXhpc3RzKSB7CgkJZWNobyAnPHA+WW91IGFyZSB1c2luZyA8Yj5tZXRob2QgQjwvYj4gKFNuYXBzaG90IFpJUCBmaWxlIHdpdGggb2lkcGx1c192ZXJzaW9uLnR4dCBmaWxlKS48L3A+JzsKCgkJ'));
	@fwrite($fp, base64_decode('JGxvY2FsX2luc3RhbGxhdGlvbiA9IE9JRHBsdXM6OmdldFZlcnNpb24oKTsKCQkkc3ZuID0gbmV3IHBocHN2bmNsaWVudChPSURQTFVTX1JFUE8pOwoJCSRuZXdlc3RfdmVyc2lvbiA9ICdzdm4tJy4kc3ZuLT5nZXRWZXJzaW9uKCk7CgoJCWVjaG8gJ0xvY2FsIGlu'));
	@fwrite($fp, base64_decode('c3RhbGxhdGlvbjogJyAuICRsb2NhbF9pbnN0YWxsYXRpb24uJzxicj4nOwoJCWVjaG8gJ0xhdGVzdCBwdWJsaXNoZWQgdmVyc2lvbjogJyAuICRuZXdlc3RfdmVyc2lvbi4nPGJyPic7CgoJCWlmICgkbG9jYWxfaW5zdGFsbGF0aW9uID09ICRuZXdlc3RfdmVyc2lv'));
	@fwrite($fp, base64_decode('bikgewoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0iZ3JlZW4iPllvdSBhcmUgYWxyZWFkeSB1c2luZyB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgT0lEcGx1cy48L2ZvbnQ+PC9wPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RBVFVTX09L'));
	@fwrite($fp, base64_decode('LCAiWW91IGFyZSB1c2luZyB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgT0lEcGx1cyAoJGxvY2FsX2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCQkkam9iLT5y'));
	@fwrite($fp, base64_decode('dW4oKTsKCQkJdW5zZXQoJGpvYik7CgkJfSBlbHNlIHsKCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9ImJsdWUiPlRvIHVwZGF0ZSB5b3VyIE9JRHBsdXMgaW5zdGFsbGF0aW9uLCBwbGVhc2UgZW50ZXIgeW91ciBwYXNzd29yZCBhbmQgY2xpY2sgdGhlIGJ1dHRvbiAi'));
	@fwrite($fp, base64_decode('VXBkYXRlIE5PVyIuPC9mb250PjwvcD4nOwoJCQllY2hvICc8cD48Zm9udCBjb2xvcj0icmVkIj5XQVJOSU5HOiBQbGVhc2UgbWFrZSBhIGJhY2t1cCBvZiB5b3VyIGZpbGVzIGJlZm9yZSB1cGRhdGluZy4gSW4gY2FzZSBvZiBhbiBlcnJvciwgdGhlIE9JRHBsdXMg'));
	@fwrite($fp, base64_decode('aW5zdGFsbGF0aW9uIChpbmNsdWRpbmcgdGhpcyB1cGRhdGUtYXNzaXN0YW50KSBtaWdodCBiZWNvbWUgdW5hdmFpbGFibGUuIEFsc28sIHNpbmNlIHRoZSB3ZWItdXBkYXRlIGRvZXMgbm90IGNvbnRhaW4gY29sbGlzc2lvbi1kZXRlY3Rpb24sIGNoYW5nZXMgeW91'));
	@fwrite($fp, base64_decode('IGhhdmUgYXBwbGllZCAobGlrZSBhZGRpbmcsIHJlbW92aW5nIG9yIG1vZGlmaWVkIGZpbGVzKSBtaWdodCBnZXQgcmV2ZXJ0ZWQvbG9zdCE8L2ZvbnQ+PC9wPic7CgkJCWVjaG8gJzxmb3JtIG1ldGhvZD0iUE9TVCIgYWN0aW9uPSJpbmRleC5waHAiPic7CgoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoUkVDQVBUQ0hBX0VOQUJMRUQpIHsKCQkJCWVjaG8gJzxub3NjcmlwdD4nOwoJCQkJZWNobyAnPHA+PGZvbnQgY29sb3I9InJlZCI+WW91IG5lZWQgdG8gZW5hYmxlIEphdmFTY3JpcHQgdG8gc29sdmUgdGhlIENBUFRDSEEuPC9mb250PjwvcD4nOwoJCQkJZWNo'));
	@fwrite($fp, base64_decode('byAnPC9ub3NjcmlwdD4nOwoJCQkJZWNobyAnPHNjcmlwdD4gZ3JlY2FwdGNoYS5yZW5kZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImctcmVjYXB0Y2hhIiksIHsgInNpdGVrZXkiIDogIicuUkVDQVBUQ0hBX1BVQkxJQy4nIiB9KTsgPC9zY3JpcHQ+JzsKCQkJ'));
	@fwrite($fp, base64_decode('CWVjaG8gJzxkaXYgaWQ9ImctcmVjYXB0Y2hhIiBjbGFzcz0iZy1yZWNhcHRjaGEiIGRhdGEtc2l0ZWtleT0iJy5SRUNBUFRDSEFfUFVCTElDLiciPjwvZGl2Pic7CgkJCX0KCgkJCWVjaG8gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InVwZGF0ZV9ub3ciIHZh'));
	@fwrite($fp, base64_decode('bHVlPSIxIj4nOwoJCQllY2hvICc8aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9ImFkbWluX3Bhc3N3b3JkIj4nOwoJCQllY2hvICc8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iVXBkYXRlIE5PVyI+JzsKCQkJZWNobyAnPC9mb3JtPic7CgoJCQllY2hvICc8'));
	@fwrite($fp, base64_decode('aDI+UHJldmlldyBvZiB1cGRhdGUgJy4kbG9jYWxfaW5zdGFsbGF0aW9uLicgJnJhcnI7ICcuJG5ld2VzdF92ZXJzaW9uLic8L2gyPic7CgkJCSRzdm4gPSBuZXcgcGhwc3ZuY2xpZW50KE9JRFBMVVNfUkVQTyk7CgkJCWVjaG8gJzxwcmU+JzsKCQkJJHN2bi0+dXBk'));
	@fwrite($fp, base64_decode('YXRlV29ya2luZ0NvcHkoZGlybmFtZShfX0RJUl9fKS4nL29pZHBsdXNfdmVyc2lvbi50eHQnLCAnL3RydW5rJywgZGlybmFtZShfX0RJUl9fKSwgdHJ1ZSk7CgkJCWVjaG8gJzwvcHJlPic7CgoJCQkkam9iID0gbmV3IFZOYWdNb25pdG9yRHVtbXkoVk5hZzo6U1RB'));
	@fwrite($fp, base64_decode('VFVTX1dBUk5JTkcsICJPSURwbHVzIGlzIG91dGRhdGVkLiAoJGxvY2FsX2luc3RhbGxhdGlvbiBsb2NhbCAvICRuZXdlc3RfdmVyc2lvbiByZW1vdGUpIik7CgkJCSRqb2ItPmh0dHBfdmlzdWFsX291dHB1dCA9IGZhbHNlOwoJCQkkam9iLT5ydW4oKTsKCQkJdW5z'));
	@fwrite($fp, base64_decode('ZXQoJGpvYik7CgkJfQoJfQoKCWVjaG8gJzxocj4nOwoKCWVjaG8gJzxwPjxpbnB1dCB0eXBlPSJidXR0b24iIG9uY2xpY2s9ImRvY3VtZW50LmxvY2F0aW9uPVwnLi4vXCciIHZhbHVlPSJHbyBiYWNrIHRvIE9JRHBsdXMiPjwvcD4nOwoKCWVjaG8gJzxicj48cD5E'));
	@fwrite($fp, base64_decode('aWQgeW91IGtub3cgdGhhdCB0aGlzIHBhZ2UgY29udGFpbnMgYW4gaW52aXNpYmxlIFZOYWcgdGFnPyBZb3UgY2FuIHdhdGNoIHRoaXMgcGFnZSB1c2luZyB0aGUgIndlYnJlYWRlciIgcGx1Z2luIG9mIFZOYWcsIGFuZCB0aGVuIG1vbml0b3IgaXQgd2l0aCBhbnkg'));
	@fwrite($fp, base64_decode('TmFnaW9zIGNvbXBhdGlibGUgc29mdHdhcmUhIDxhIGhyZWY9Imh0dHBzOi8vd3d3LnZpYXRoaW5rc29mdC5jb20vcHJvamVjdHMvdm5hZyI+TW9yZSBpbmZvcm1hdGlvbjwvYT4uPC9wPic7Cn0KCj8+Cgo8L2JvZHk+CjwvaHRtbD4K'));
	@fclose($fp);
}
if (!is_file('update/index.php')) {
	warn('File has vanished! Will re-create it: update/index.php');
	writefile_3();
	if (!is_file('update/index.php')) {
		warn('File cannot be created (not existing): update/index.php');
	} else if (sha1_file('update/index.php') != '83ce81cc060fd5268a12d862811039f4a69f8d61') {
		warn('File cannot be created (checksum mismatch): update/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('update/index.php', 0644)) {
		warn('Could not change file permissions of update/index.php');
	}
} else {
	if (@sha1_file('update/index.php') !== '83ce81cc060fd5268a12d862811039f4a69f8d61') {
		if (@sha1_file('update/index.php') !== 'c6c424976fd917b141abfc38da5f635c3e738ffe') {
			warn('File was modified. Will overwrite the changes now: update/index.php');
			$tmp = pathinfo('update/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('update/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('update/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('update/index.php') !== '83ce81cc060fd5268a12d862811039f4a69f8d61') {
			warn('File cannot be written (checksum mismatch): update/index.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 186\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 186') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

