<?php /* <ViaThinkSoftSignature>
rluMmjNeRPSlt6powIlfvF/HveIb/H/tfzw4869bv8L2M0MJJb1B18DOFFwTQSQ9D
9MVZG3/XTnSEXFyX20d+v+rWq4gZK+yLsPBfd/JYbAuqxm6ZbUQCvpTyUKKJBc0DR
AHnX6OcSPM20+8vh4W045Y7zzCbwqXv/iFHSVj/dcgtUxx+ORVjQB3KtOAxeunsFT
mq8QYyeNT1Q+Dc6+GT9iExMlh9znPiy/dfNH8sC7TmG4tr2NyqguBdz3HBCjJfXrL
KgUHFcyxLGT1OjSbIx+kPBxzWTzyDmih7yN1hiA6cAF5Q2wOsPjaSAO45hbQvoypZ
sNy4T8wR108y5h2Q7d8qXM09YK2umknW51VN4Ij7i/wDAP1PtD4aTQWn6b7UG7dc5
XzNyz4Avc1x0ruXoV0OnRz6XNZAcfsXeuYqAGjDryqBJplskcpU6GRr4zhu9VgH3v
adaa0XFb4peftMpXc0T+Ggo3Hb4JAFenuSslBMG3kibcNfN5shwxDW9FBZrJDknlM
KHfncewKp9zXkwQVHJ1V7XpX/od+j6FZQSbkScWqnOQmQJbB4znYCx96UpdaeB2cN
kTsGh3rWpv5AanejkLq5TLw9vdrUd61EzJgxOMp12kgSxQbESXwQ8rnVo3c5IumH7
449mkCoBCO3FLc7OGB99P7AIUXK/AbI5Mddh4eweSMAT1nwFufvSvRmzJj3UiXPNt
o1WzA1GtyrEoXDO0aDp0oJ7Ua4kbhpZHfwSCuiq98A1aWmYuoANnJuEBnhp859bRM
/AW0d/nT5ysq3NIgtHXT/0IsB9ryzxyIEGf181yC0VYmjVhipezcoqkJ47moiUCpr
/aPTqI9IWKucfCef4Y5NUfMsXhdpZmerAEAho34P3gHS+cV9ZbM0ImD3/u/zOqs4m
xkFIuueumAP1MVNNdEfImgEgAQoWFCnssLW8I4jVlrfAlId0ZWLoJLqTJsG4Kn76C
0z1dCkIBg5Fw0qJXZ7UKtqbnKRy1r6KMUbMr0H9BC8WC5C5GRPH4n+pmrfPOAyCzb
UE4jqzXSeXl48HEDfX+wDajj1wI4vdqX/zdVCoYCG1y/C1+UArnk9Q9FGSJzLQqfM
IJhuW5mZ0FOeL7ErWfcXPE5XSAN+3gU9+iiuQhRnrMSLFtHj7yfOIMYEwrhzEgUJ7
hu7sdTQ9tFxjBd/7YJi3kvBR3lC8J0Ce0scBrMcZ7cIrOkTS0WiksxlA8fhPYyXSP
d2HKeI4hRf7jpDuj8mKxCvlqPiLQOPLQyRW+CEzMgtYVDv/XilVH/gfwHNcktL/sn
1sCkLD4+PYBlFwY7Qt396LDawKITZMsYQtF6uROOINemfTYjestzCKfeQnSqFB4+y
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 489') {
	err('This update can only be applied to OIDplus version 2.0.0.489!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: oidplus.min.css.php
function writefile_1() {
	@$fp = fopen('oidplus.min.css.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnVzZSBNYXR0aGlhc011bGxpZVxNaW5pZnk7CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8zcC9taW5p'));
	@fwrite($fp, base64_decode('ZnkvcGF0aC1jb252ZXJ0ZXIvQ29udmVydGVySW50ZXJmYWNlLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8zcC9taW5pZnkvcGF0aC1jb252ZXJ0ZXIvQ29udmVydGVyLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8zcC9taW5pZnkvcGhwLWZp'));
	@fwrite($fp, base64_decode('Zy1jYWNoZS9DYWNoZUl0ZW1JbnRlcmZhY2UucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLzNwL21pbmlmeS9zcmMvTWluaWZ5LnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8zcC9taW5pZnkvc3JjL0NTUy5waHAnOwpyZXF1aXJlX29uY2UgX19E'));
	@fwrite($fp, base64_decode('SVJfXyAuICcvM3AvbWluaWZ5L3NyYy9FeGNlcHRpb24ucGhwJzsKCmVycm9yX3JlcG9ydGluZyhPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdERUJVRycpID8gRV9BTEwgOiAwKTsKQGluaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgT0lEcGx1czo6YmFz'));
	@fwrite($fp, base64_decode('ZUNvbmZpZygpLT5nZXRWYWx1ZSgnREVCVUcnKSA/IDEgOiAwKTsKCiRvdXQgPSAnJzsKCiMgLS0tCgokZG9fbWluaWZ5ID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTUlOSUZZX0NTUycsIHRydWUpOwoKZnVuY3Rpb24gcHJvY2Vzc19maWxlKCRm'));
	@fwrite($fp, base64_decode('aWxlbmFtZSkgewoJZ2xvYmFsICRkb19taW5pZnk7CgoJJGZpbGVuYW1lX21pbiA9IHByZWdfcmVwbGFjZSgnL1wuW14uXSskLycsICcubWluLmNzcycsICRmaWxlbmFtZSk7CgkkZmlsZW5hbWVfZnVsbCA9ICRmaWxlbmFtZTsKCglpZiAoJGRvX21pbmlmeSkgewoJ'));
	@fwrite($fp, base64_decode('CWlmIChmaWxlX2V4aXN0cygkZmlsZW5hbWVfbWluKSkgewoJCQkvLyBUaGVyZSBpcyBhIGZpbGUgd2hpY2ggaXMgYWxyZWFkeSBtaW5pZmllZAoJCQkkZmlsZW5hbWUgPSAkZmlsZW5hbWVfbWluOwoJCQkkY29udCA9IGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlbmFt'));
	@fwrite($fp, base64_decode('ZSk7CgkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cygkZmlsZW5hbWVfZnVsbCkpIHsKCQkJLy8gT3RoZXJ3aXNlLCB3ZSBtaW5pZnkgaXQgb3Vyc2VsZgoJCQkkZmlsZW5hbWUgPSAkZmlsZW5hbWVfZnVsbDsKCQkJJG1pbmlmaWVyID0gbmV3IE1pbmlmeVxDU1MoJGZp'));
	@fwrite($fp, base64_decode('bGVuYW1lKTsKCQkJJGNvbnQgPSAkbWluaWZpZXItPm1pbmlmeSgpOwoJCX0gZWxzZSB7CgkJCXJldHVybjsKCQl9Cgl9IGVsc2UgewoJCWlmIChmaWxlX2V4aXN0cygkZmlsZW5hbWVfZnVsbCkpIHsKCQkJJGZpbGVuYW1lID0gJGZpbGVuYW1lX2Z1bGw7CgkJCSRj'));
	@fwrite($fp, base64_decode('b250ID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGVuYW1lKTsKCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKCRmaWxlbmFtZV9taW4pKSB7CgkJCSRmaWxlbmFtZSA9ICRmaWxlbmFtZV9taW47CgkJCSRjb250ID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGVuYW1lKTsK'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgewoJCQlyZXR1cm47CgkJfQoJfQoKCSR0aGlzZGlyID0gX19ESVJfXzsKCSR0aGlzZGlyID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkdGhpc2Rpcik7IC8vIGNoYW5nZSBXaW5kb3dzIEJhY2tzbGFzaGVzIGludG8gV2ViLVNsYXNoZXMKCSRmaWxl'));
	@fwrite($fp, base64_decode('bmFtZSA9IHN0cl9yZXBsYWNlKCdcXCcsICcvJywgJGZpbGVuYW1lKTsgLy8gY2hhbmdlIFdpbmRvd3MgQmFja3NsYXNoZXMgaW50byBXZWItU2xhc2hlcwoJJGRpciA9IGRpcm5hbWUoKHN0cnBvcygkZmlsZW5hbWUsICR0aGlzZGlyLicvJykgPT09IDApID8gc3Vi'));
	@fwrite($fp, base64_decode('c3RyKCRmaWxlbmFtZSwgc3RybGVuKCR0aGlzZGlyLicvJykpIDogJGZpbGVuYW1lKTsKCgkkY29udCA9IHByZWdfcmVwbGFjZSgnQHVybFxcKFxzK0Bpc20nLCAndXJsKCcsICRjb250KTsKCSRjb250ID0gc3RyX2lyZXBsYWNlKCd1cmwoImRhdGE6JywgJ3VybCMj'));
	@fwrite($fp, base64_decode('IygiZGF0YTonLCAkY29udCk7CgkkY29udCA9IHN0cl9pcmVwbGFjZSgndXJsKCInLCAndXJsIyMjKCInLiRkaXIuJy8nLCAkY29udCk7CgkkY29udCA9IHN0cl9pcmVwbGFjZSgidXJsKCdkYXRhOiIsICJ1cmwjIyMoJ2RhdGE6IiwgJGNvbnQpOwoJJGNvbnQgPSBz'));
	@fwrite($fp, base64_decode('dHJfaXJlcGxhY2UoInVybCgnIiwgInVybCMjIygnIi4kZGlyLicvJywgJGNvbnQpOwoJJGNvbnQgPSBzdHJfaXJlcGxhY2UoInVybChkYXRhOiIsICJ1cmwjIyMoZGF0YToiLCAkY29udCk7CgkkY29udCA9IHN0cl9pcmVwbGFjZSgidXJsKCIsICJ1cmwjIyMoIi4k'));
	@fwrite($fp, base64_decode('ZGlyLicvJywgJGNvbnQpOwoJJGNvbnQgPSBzdHJfaXJlcGxhY2UoInVybCMjIygiLCAidXJsKCIsICRjb250KTsKCXJldHVybiAkY29udC4iXG5cbiI7Cn0KCiMgLS0tCgovLyBUaGlyZC1wYXJ0eSBwcm9kdWN0cwokb3V0IC49IHByb2Nlc3NfZmlsZShfX0RJUl9f'));
	@fwrite($fp, base64_decode('IC4gJy8zcC9qc3RyZWUvdGhlbWVzL2RlZmF1bHQvc3R5bGUuY3NzJyk7CiRvdXQgLj0gcHJvY2Vzc19maWxlKF9fRElSX18gLiAnLzNwL2pxdWVyeS11aS9qcXVlcnktdWkuY3NzJyk7CiRvdXQgLj0gcHJvY2Vzc19maWxlKF9fRElSX18gLiAnLzNwL2Jvb3RzdHJh'));
	@fwrite($fp, base64_decode('cDQvY3NzL2Jvb3RzdHJhcC5jc3MnKTsKCi8vIEZpbmQgb3V0IGJhc2UgQ1NTCmlmIChpc3NldCgkX1JFUVVFU1RbJ3RoZW1lJ10pKSB7CgkkdGhlbWUgPSAkX1JFUVVFU1RbJ3RoZW1lJ107CglpZiAoc3RycG9zKCR0aGVtZSwnLycpICE9PSBmYWxzZSkgJHRoZW1l'));
	@fwrite($fp, base64_decode('ID0gJ2RlZmF1bHQnOwoJaWYgKHN0cnBvcygkdGhlbWUsJ1xcJykgIT09IGZhbHNlKSAkdGhlbWUgPSAnZGVmYXVsdCc7CglpZiAoc3RycG9zKCR0aGVtZSwnLi4nKSAhPT0gZmFsc2UpICR0aGVtZSA9ICdkZWZhdWx0JzsKfSBlbHNlIHsKCSR0aGVtZSA9ICdkZWZh'));
	@fwrite($fp, base64_decode('dWx0JzsKfQoKaWYgKGZpbGVfZXhpc3RzKF9fRElSX18gLiAnL3VzZXJkYXRhL3N0eWxlcy9vaWRwbHVzX2Jhc2UuY3NzJykpIHsKCS8vIFRoZXJlIGlzIGEgdXNlciBkZWZpbmVkIENTUyAobm90IHJlY29tbWVuZGVkLCB1c2UgZGVzaWduIHBsdWdpbnMgaW5zdGVh'));
	@fwrite($fp, base64_decode('ZCEpCgkkb3V0IC49IHByb2Nlc3NfZmlsZShfX0RJUl9fIC4gJy91c2VyZGF0YS9zdHlsZXMvb2lkcGx1c19iYXNlLmNzcycpOwp9IGVsc2UgewoJLy8gVXNlIENTUyBvZiB0aGUgZGVzaWduIHBsdWdpbgoJT0lEcGx1czo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdkZXNp'));
	@fwrite($fp, base64_decode('Z24nLCAnT0lEcGx1c0Rlc2lnblBsdWdpbicsIGFycmF5KCdPSURwbHVzJywncmVnaXN0ZXJEZXNpZ25QbHVnaW4nKSk7CgkkcGx1Z2lucyA9IE9JRHBsdXM6OmdldERlc2lnblBsdWdpbnMoKTsKCWZvcmVhY2ggKCRwbHVnaW5zIGFzICRwbHVnaW4pIHsKCQlpZiAo'));
	@fwrite($fp, base64_decode('KGJhc2VuYW1lKCRwbHVnaW4tPmdldFBsdWdpbkRpcmVjdG9yeSgpKSkgPT0gJHRoZW1lKSB7CgkJCSRtYW5pZmVzdCA9ICRwbHVnaW4tPmdldE1hbmlmZXN0KCk7CgkJCWZvcmVhY2ggKCRtYW5pZmVzdC0+Z2V0Q1NTRmlsZXMoKSBhcyAkY3NzX2ZpbGUpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CSRvdXQgLj0gcHJvY2Vzc19maWxlKCRjc3NfZmlsZSk7CgkJCX0KCQl9Cgl9Cn0KCi8vIFRoZW4gcGx1Z2lucwokbWFuaWZlc3RzID0gT0lEcGx1czo6Z2V0QWxsUGx1Z2luTWFuaWZlc3RzKCcqUGFnZXMnLCB0cnVlKTsKZm9yZWFjaCAoJG1hbmlmZXN0cyBhcyAk'));
	@fwrite($fp, base64_decode('bWFuaWZlc3QpIHsKCWZvcmVhY2ggKCRtYW5pZmVzdC0+Z2V0Q1NTRmlsZXMoKSBhcyAkY3NzX2ZpbGUpIHsKCQkkb3V0IC49IHByb2Nlc3NfZmlsZSgkY3NzX2ZpbGUpOwoJfQp9CgovLyBOb3cgdXNlci1kZWZpbmVkIChhZGRpdGlvbmFsKSBkZWZpbml0aW9ucwpp'));
	@fwrite($fp, base64_decode('ZiAoZmlsZV9leGlzdHMoX19ESVJfXyAuICcvdXNlcmRhdGEvc3R5bGVzL29pZHBsdXNfYWRkLmNzcycpKSB7Cgkkb3V0IC49IHByb2Nlc3NfZmlsZShfX0RJUl9fIC4gJy91c2VyZGF0YS9zdHlsZXMvb2lkcGx1c19hZGQuY3NzJyk7Cn0KCiMgLS0tCgokaW52ID0g'));
	@fwrite($fp, base64_decode('aXNzZXQoJF9SRVFVRVNUWydpbnZlcnQnXSkgPyAkX1JFUVVFU1RbJ2ludmVydCddIDogMDsKaWYgKCRpbnYgIT0gMCkgewoJJG91dCA9IGludmVydENvbG9yc09mQ1NTKCRvdXQpOwp9CgokaHMgPSBpc3NldCgkX1JFUVVFU1RbJ2hfc2hpZnQnXSkgPyAkX1JFUVVF'));
	@fwrite($fp, base64_decode('U1RbJ2hfc2hpZnQnXSA6IDA7CiRzcyA9IGlzc2V0KCRfUkVRVUVTVFsnc19zaGlmdCddKSA/ICRfUkVRVUVTVFsnc19zaGlmdCddIDogMDsKJHZzID0gaXNzZXQoJF9SRVFVRVNUWyd2X3NoaWZ0J10pID8gJF9SRVFVRVNUWyd2X3NoaWZ0J10gOiAwOwppZiAoKCRo'));
	@fwrite($fp, base64_decode('cyAhPSAwKSB8fCgkc3MgIT0gMCkgfHwgKCR2cyAhPSAwKSkgewoJJG91dCA9IGNoYW5nZUh1ZU9mQ1NTKCRvdXQsICRocywgJHNzLCAkdnMpOwp9CgojIC0tLQoKaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RFQlVHJykpIHsKCS8vIEluIGRl'));
	@fwrite($fp, base64_decode('YnVnIG1vZGUsIHdlIG1pZ2h0IGdldCBQSFAgZXJyb3IgbWVzc2FnZXMgKHNlZSAiZXJyb3JfcmVwb3J0aW5nIiBhYm92ZSksCgkvLyBzbyBpdCB3b3VsZCBiZSBzZXZlcmUgaWYgd2Ugd291bGQgYWxsb3cgRVRBRyEgKHNpbmNlICRvdXQgZG9lcyBub3QgY29udGFp'));
	@fwrite($fp, base64_decode('biB0aGUgUEhQIGVycm9yIG1lc3NhZ2VzISkKCWhlYWRlcignQ29udGVudC1UeXBlOnRleHQvY3NzJyk7CgllY2hvICRvdXQ7Cn0gZWxzZSB7CglodHRwT3V0V2l0aEVUYWcoJG91dCwgJ3RleHQvY3NzJywgJ29pZHBsdXMuY3NzJyk7Cn0K'));
	@fclose($fp);
}
if (!is_file('oidplus.min.css.php')) {
	warn('File has vanished! Will re-create it: oidplus.min.css.php');
	writefile_1();
	if (!is_file('oidplus.min.css.php')) {
		warn('File cannot be created (not existing): oidplus.min.css.php');
	} else if (sha1_file('oidplus.min.css.php') != '2825177abb6023dfe4f2b61e5e2f24204988ab77') {
		warn('File cannot be created (checksum mismatch): oidplus.min.css.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.min.css.php', 0644)) {
		warn('Could not change file permissions of oidplus.min.css.php');
	}
} else {
	if (@sha1_file('oidplus.min.css.php') !== '2825177abb6023dfe4f2b61e5e2f24204988ab77') {
		if (@sha1_file('oidplus.min.css.php') !== '678690d4b693c2d032249ba189ea9a34e58cdba7') {
			warn('File was modified. Will overwrite the changes now: oidplus.min.css.php');
			$tmp = pathinfo('oidplus.min.css.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.min.css.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.min.css.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('oidplus.min.css.php') !== '2825177abb6023dfe4f2b61e5e2f24204988ab77') {
			warn('File cannot be written (checksum mismatch): oidplus.min.css.php');
		}
	}
}

// Files different: oidplus.min.js.php
function writefile_2() {
	@$fp = fopen('oidplus.min.js.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnVzZSBNYXR0aGlhc011bGxpZVxNaW5pZnk7CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8zcC9taW5p'));
	@fwrite($fp, base64_decode('Znkvc3JjL01pbmlmeS5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvM3AvbWluaWZ5L3NyYy9KUy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvM3AvbWluaWZ5L3NyYy9FeGNlcHRpb24ucGhwJzsKCmVycm9yX3JlcG9ydGluZyhPSURwbHVzOjpi'));
	@fwrite($fp, base64_decode('YXNlQ29uZmlnKCktPmdldFZhbHVlKCdERUJVRycpID8gRV9BTEwgOiAwKTsKQGluaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREVCVUcnKSA/IDEgOiAwKTsKCiRmaWxlcyA9IGFycmF5KCk7CgokZG9fbWlu'));
	@fwrite($fp, base64_decode('aWZ5ID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTUlOSUZZX0pTJywgdHJ1ZSk7CgokZmlsZXNbXSA9IHByb2Nlc3NfZmlsZShfX0RJUl9fIC4gJy8zcC9qcXVlcnkvanF1ZXJ5LTMuNS4xLmpzJyk7CiRmaWxlc1tdID0gcHJvY2Vzc19maWxlKF9f'));
	@fwrite($fp, base64_decode('RElSX18gLiAnLzNwL2Jvb3RzdHJhcDQvanMvYm9vdHN0cmFwLmpzJyk7CiRmaWxlc1tdID0gcHJvY2Vzc19maWxlKF9fRElSX18gLiAnLzNwL2pzdHJlZS9qc3RyZWUuanMnKTsKJGZpbGVzW10gPSBwcm9jZXNzX2ZpbGUoX19ESVJfXyAuICcvM3AvdGlueW1jZS90'));
	@fwrite($fp, base64_decode('aW55bWNlLmpzJyk7CiRmaWxlc1tdID0gcHJvY2Vzc19maWxlKF9fRElSX18gLiAnLzNwL2pxdWVyeS11aS9qcXVlcnktdWkuanMnKTsKJGZpbGVzW10gPSBwcm9jZXNzX2ZpbGUoX19ESVJfXyAuICcvM3AvbGF5b3V0L2pxdWVyeS5sYXlvdXRfYW5kX3BsdWdpbnMu'));
	@fwrite($fp, base64_decode('anMnKTsKJGZpbGVzW10gPSBwcm9jZXNzX2ZpbGUoX19ESVJfXyAuICcvM3Avc3BhbXNwYW4vc3BhbXNwYW4uanMnKTsKJGZpbGVzW10gPSBwcm9jZXNzX2ZpbGUoX19ESVJfXyAuICcvM3AvYmlnbnVtYmVyLmpzL2JpZ251bWJlci5qcycpOwokZmlsZXNbXSA9IHBy'));
	@fwrite($fp, base64_decode('b2Nlc3NfZmlsZShfX0RJUl9fIC4gJy8zcC9zaGEzX2pzL3NoYTMuanMnKTsKCiMgLS0tCgokZmlsZXNbXSA9ICd2YXIgREVGQVVMVF9MQU5HVUFHRSA9ICcuanNvbl9lbmNvZGUoT0lEcGx1czo6REVGQVVMVF9MQU5HVUFHRSkuJzsnOwoKT0lEcGx1czo6cmVnaXN0'));
	@fwrite($fp, base64_decode('ZXJBbGxQbHVnaW5zKCdsYW5ndWFnZScsICdPSURwbHVzTGFuZ3VhZ2VQbHVnaW4nLCBudWxsKTsKJHRyYW5zbGF0aW9uX2FycmF5ID0gT0lEcGx1czo6Z2V0VHJhbnNsYXRpb25BcnJheSgpOwokZmlsZXNbXSA9ICd2YXIgbGFuZ3VhZ2VfbWVzc2FnZXMgPSAnLmpz'));
	@fwrite($fp, base64_decode('b25fZW5jb2RlKCR0cmFuc2xhdGlvbl9hcnJheSkuJzsnOwoKLy8kdGJsX3ByZWZpeCA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ09JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWCcsJycpOwovLyRmaWxlc1tdID0gJ3ZhciBsYW5ndWFnZV90YmxwcmVm'));
	@fwrite($fp, base64_decode('aXggPSAnLmpzb25fZW5jb2RlKCR0YmxfcHJlZml4KS4nOyc7CiRmaWxlc1tdID0gJ3ZhciBsYW5ndWFnZV90YmxwcmVmaXggPSAiPHRhYmxlcHJlZml4PiI7JzsgLy8gaGlkZSBPSURQTFVTX1RBQkxFTkFNRV9QUkVGSVggZnJvbSB0aGUgY2xpZW50CgppZiAoIWlz'));
	@fwrite($fp, base64_decode('c2V0KCRfQ09PS0lFWydjc3JmX3Rva2VuJ10pKSB7CgkkdG9rZW4gPSBPSURwbHVzOjphdXRoVXRpbHMoKS0+Z2VuQ1NSRlRva2VuKCk7CglzZXRjb29raWUoJ2NzcmZfdG9rZW4nLCAkdG9rZW4sIDAsIGluaV9nZXQoJ3Nlc3Npb24uY29va2llX3BhdGgnKSwgJycs'));
	@fwrite($fp, base64_decode('IGZhbHNlLCB0cnVlKTsKCSRmaWxlc1tdID0gJ3ZhciBjc3JmX3Rva2VuID0gJy5qc19lc2NhcGUoJHRva2VuKS4nOyc7Cn0gZWxzZSB7CgkkZmlsZXNbXSA9ICd2YXIgY3NyZl90b2tlbiA9ICcuanNfZXNjYXBlKCRfQ09PS0lFWydjc3JmX3Rva2VuJ10pLic7JzsK'));
	@fwrite($fp, base64_decode('fQoKJGZpbGVzW10gPSBwcm9jZXNzX2ZpbGUoX19ESVJfXyAuICcvaW5jbHVkZXMvb2lkcGx1c19iYXNlLmpzJyk7CgojIC0tLQoKZnVuY3Rpb24gcHJvY2Vzc19maWxlKCRmaWxlbmFtZSkgewoJZ2xvYmFsICRkb19taW5pZnk7CgoJJGZpbGVuYW1lX21pbiA9IHBy'));
	@fwrite($fp, base64_decode('ZWdfcmVwbGFjZSgnL1wuW14uXSskLycsICcubWluLmpzJywgJGZpbGVuYW1lKTsKCSRmaWxlbmFtZV9mdWxsID0gJGZpbGVuYW1lOwoKCWlmICgkZG9fbWluaWZ5KSB7CgkJaWYgKGZpbGVfZXhpc3RzKCRmaWxlbmFtZV9taW4pKSB7CgkJCSRmaWxlbmFtZSA9ICRm'));
	@fwrite($fp, base64_decode('aWxlbmFtZV9taW47CgkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cygkZmlsZW5hbWVfZnVsbCkpIHsKCQkJJGZpbGVuYW1lID0gJGZpbGVuYW1lX2Z1bGw7CgkJfSBlbHNlIHsKCQkJcmV0dXJuICJjb25zb2xlLmVycm9yKCdTY3JpcHQgZmlsZSBub3QgZm91bmQ6ICRm'));
	@fwrite($fp, base64_decode('aWxlbmFtZScpOyI7CgkJfQoJfSBlbHNlIHsKCQlpZiAoZmlsZV9leGlzdHMoJGZpbGVuYW1lX2Z1bGwpKSB7CgkJCSRmaWxlbmFtZSA9ICRmaWxlbmFtZV9mdWxsOwoJCX0gZWxzZSBpZiAoZmlsZV9leGlzdHMoJGZpbGVuYW1lX21pbikpIHsKCQkJJGZpbGVuYW1l'));
	@fwrite($fp, base64_decode('ID0gJGZpbGVuYW1lX21pbjsKCQl9IGVsc2UgewoJCQlyZXR1cm4gImNvbnNvbGUuZXJyb3IoJ1NjcmlwdCBmaWxlIG5vdCBmb3VuZDogJGZpbGVuYW1lJyk7IjsKCQl9Cgl9CgoJJHRoaXNkaXIgPSBfX0RJUl9fOwoJJHRoaXNkaXIgPSBzdHJfcmVwbGFjZSgnXFwn'));
	@fwrite($fp, base64_decode('LCAnLycsICR0aGlzZGlyKTsgLy8gY2hhbmdlIFdpbmRvd3MgQmFja3NsYXNoZXMgaW50byBXZWItU2xhc2hlcwoJJGZpbGVuYW1lID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkZmlsZW5hbWUpOyAvLyBjaGFuZ2UgV2luZG93cyBCYWNrc2xhc2hlcyBpbnRvIFdl'));
	@fwrite($fp, base64_decode('Yi1TbGFzaGVzCgkkZGlyID0gZGlybmFtZSgoc3RycG9zKCRmaWxlbmFtZSwgJHRoaXNkaXIuJy8nKSA9PT0gMCkgPyBzdWJzdHIoJGZpbGVuYW1lLCBzdHJsZW4oJHRoaXNkaXIuJy8nKSkgOiAkZmlsZW5hbWUpOwoJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygk'));
	@fwrite($fp, base64_decode('ZmlsZW5hbWUpOwoKCS8vIFRPRE86IFdIWT8/Pz8gRGV2VG9vbHMgZmFpbGVkIHRvIGxvYWQgU291cmNlTWFwOiBDb3VsZCBub3QgbG9hZCBjb250ZW50IGZvciBodHRwOi8vbG9jYWxob3N0L29pZHBsdXMvYm9vdHN0cmFwLmNzcy5tYXA6IEhUVFAgZXJyb3I6IHN0'));
	@fwrite($fp, base64_decode('YXR1cyBjb2RlIDQwNCwgbmV0OjpFUlJfSFRUUF9SRVNQT05TRV9DT0RFX0ZBSUxVUkUKCSRjb250ID0gc3RyX3JlcGxhY2UoIi8vIyBzb3VyY2VNYXBwaW5nVVJMPSIsICIvLyMgc291cmNlTWFwcGluZ1VSTD0iLiRkaXIuJy8nLCAkY29udCk7CgoJcmV0dXJuICRj'));
	@fwrite($fp, base64_decode('b250LiJcblxuIjsKfQoKIyAtLS0KCiRtYW5pZmVzdHMgPSBPSURwbHVzOjpnZXRBbGxQbHVnaW5NYW5pZmVzdHMoJypQYWdlcycsIHRydWUpOwpmb3JlYWNoICgkbWFuaWZlc3RzIGFzICRtYW5pZmVzdCkgewoJZm9yZWFjaCAoJG1hbmlmZXN0LT5nZXRKU0ZpbGVz'));
	@fwrite($fp, base64_decode('KCkgYXMgJGpzX2ZpbGUpIHsKCQkkZmlsZXNbXSA9IHByb2Nlc3NfZmlsZSgkanNfZmlsZSk7Cgl9Cn0KCiMgLS0tCgppZiAoJGRvX21pbmlmeSkgewoJJG1pbmlmaWVyID0gbnVsbDsKCWZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgewoJCWlmIChpc19udWxsKCRt'));
	@fwrite($fp, base64_decode('aW5pZmllcikpIHsKCQkJJG1pbmlmaWVyID0gbmV3IE1pbmlmeVxKUygkZmlsZSk7CgkJfSBlbHNlIHsKCQkJJG1pbmlmaWVyLT5hZGQoJGZpbGUpOwoJCX0KCX0KCSRvdXQgPSBpc19udWxsKCRtaW5pZmllcikgPyAnJyA6ICRtaW5pZmllci0+bWluaWZ5KCk7Cn0g'));
	@fwrite($fp, base64_decode('ZWxzZSB7Cgkkb3V0ID0gJyc7Cglmb3JlYWNoICgkZmlsZXMgYXMgJGZpbGUpIHsKCQlpZiAoZmlsZV9leGlzdHMoJGZpbGUpKSB7CgkJCSRvdXQgLj0gZmlsZV9nZXRfY29udGVudHMoJGZpbGUpLiJcbiI7CgkJfSBlbHNlIHsKCQkJJG91dCAuPSAiJGZpbGVcbiI7'));
	@fwrite($fp, base64_decode('CgkJfQoJfQp9CgojIC0tLQoKaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RFQlVHJykpIHsKCS8vIEluIGRlYnVnIG1vZGUsIHdlIG1pZ2h0IGdldCBQSFAgZXJyb3IgbWVzc2FnZXMgKHNlZSAiZXJyb3JfcmVwb3J0aW5nIiBhYm92ZSksCgkv'));
	@fwrite($fp, base64_decode('LyBzbyBpdCB3b3VsZCBiZSBzZXZlcmUgaWYgd2Ugd291bGQgYWxsb3cgRVRBRyEgKHNpbmNlICRvdXQgZG9lcyBub3QgY29udGFpbiB0aGUgUEhQIGVycm9yIG1lc3NhZ2VzISkKCWhlYWRlcignQ29udGVudC1UeXBlOmFwcGxpY2F0aW9uL2phdmFzY3JpcHQnKTsK'));
	@fwrite($fp, base64_decode('CWVjaG8gJG91dDsKfSBlbHNlIHsKCWh0dHBPdXRXaXRoRVRhZygkb3V0LCAnYXBwbGljYXRpb24vamF2YXNjcmlwdCcsICdvaWRwbHVzLmpzJyk7Cn0K'));
	@fclose($fp);
}
if (!is_file('oidplus.min.js.php')) {
	warn('File has vanished! Will re-create it: oidplus.min.js.php');
	writefile_2();
	if (!is_file('oidplus.min.js.php')) {
		warn('File cannot be created (not existing): oidplus.min.js.php');
	} else if (sha1_file('oidplus.min.js.php') != '14dfc777d02c096de0e53c4fec699f3986ca9e2d') {
		warn('File cannot be created (checksum mismatch): oidplus.min.js.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.min.js.php', 0644)) {
		warn('Could not change file permissions of oidplus.min.js.php');
	}
} else {
	if (@sha1_file('oidplus.min.js.php') !== '14dfc777d02c096de0e53c4fec699f3986ca9e2d') {
		if (@sha1_file('oidplus.min.js.php') !== 'df713179f2657a20661b84eeeead8f7ceeaa0bdc') {
			warn('File was modified. Will overwrite the changes now: oidplus.min.js.php');
			$tmp = pathinfo('oidplus.min.js.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.min.js.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.min.js.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('oidplus.min.js.php') !== '14dfc777d02c096de0e53c4fec699f3986ca9e2d') {
			warn('File cannot be written (checksum mismatch): oidplus.min.js.php');
		}
	}
}

// Files different: plugins/adminPages/700_colors/OIDplusPageAdminColors.js
function writefile_3() {
	@$fp = fopen('plugins/adminPages/700_colors/OIDplusPageAdminColors.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKZ19odWVfc2hpZnQgPSBudWxsOwpnX3NhdF9zaGlmdCA9IG51bGw7CmdfdmFsX3NoaWZ0ID0gbnVsbDsKZ19pbnZjb2xvcnMgPSBudWxsOwpnX2FjdGl2ZXRoZW1lID0gbnVsbDsKCmdfaHVlX3NoaWZ0X3NhdmVk'));
	@fwrite($fp, base64_decode('ID0gbnVsbDsKZ19zYXRfc2hpZnRfc2F2ZWQgPSBudWxsOwpnX3ZhbF9zaGlmdF9zYXZlZCA9IG51bGw7CmdfaW52Y29sb3JzX3NhdmVkID0gbnVsbDsKZ19hY3RpdmV0aGVtZV9zYXZlZCA9IG51bGw7CgpmdW5jdGlvbiBjb2xvcl9yZXNldF9zbGlkZXJzX2ZhY3Rv'));
	@fwrite($fp, base64_decode('cnkoKSB7CgkkKCIjaHNoaWZ0IikudmFsKGdfaHVlX3NoaWZ0ID0gMCk7CgkkKCIjc3NoaWZ0IikudmFsKGdfc2F0X3NoaWZ0ID0gMCk7CgkkKCIjdnNoaWZ0IikudmFsKGdfdmFsX3NoaWZ0ID0gMCk7CgkkKCIjaWNvbG9yIikudmFsKGdfaW52Y29sb3JzID0gMCk7'));
	@fwrite($fp, base64_decode('CgkkKCIjdGhlbWUiKS52YWwoZ19hY3RpdmV0aGVtZSA9ICJkZWZhdWx0Iik7CgkkKCIjc2xpZGVyLWhzaGlmdCIpLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIiwgZ19odWVfc2hpZnQpOwoJJCgiI3NsaWRlci1zc2hpZnQiKS5zbGlkZXIoIm9wdGlvbiIsICJ2YWx1'));
	@fwrite($fp, base64_decode('ZSIsIGdfc2F0X3NoaWZ0KTsKCSQoIiNzbGlkZXItdnNoaWZ0Iikuc2xpZGVyKCJvcHRpb24iLCAidmFsdWUiLCBnX3ZhbF9zaGlmdCk7CgkkKCIjc2xpZGVyLWljb2xvciIpLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIiwgZ19pbnZjb2xvcnMpOwoJJCgiI3NsaWRl'));
	@fwrite($fp, base64_decode('ci1pY29sb3IiKS5zbGlkZXIoIm9wdGlvbiIsICJ2YWx1ZSIsIGdfaW52Y29sb3JzKTsKCSQoIiNzbGlkZXItaWNvbG9yIikuc2xpZGVyKCJvcHRpb24iLCAidmFsdWUiLCBnX2ludmNvbG9ycyk7Cgl0ZXN0X2NvbG9yX3RoZW1lKCk7Cn0KCmZ1bmN0aW9uIGNvbG9y'));
	@fwrite($fp, base64_decode('X3Jlc2V0X3NsaWRlcnNfY2ZnKCkgewoJJCgiI2hzaGlmdCIpLnZhbChnX2h1ZV9zaGlmdCA9IGdfaHVlX3NoaWZ0X3NhdmVkKTsKCSQoIiNzc2hpZnQiKS52YWwoZ19zYXRfc2hpZnQgPSBnX3NhdF9zaGlmdF9zYXZlZCk7CgkkKCIjdnNoaWZ0IikudmFsKGdfdmFs'));
	@fwrite($fp, base64_decode('X3NoaWZ0ID0gZ192YWxfc2hpZnRfc2F2ZWQpOwoJJCgiI2ljb2xvciIpLnZhbChnX2ludmNvbG9ycyA9IGdfaW52Y29sb3JzX3NhdmVkKTsKCSQoIiN0aGVtZSIpLnZhbChnX2FjdGl2ZXRoZW1lID0gZ19hY3RpdmV0aGVtZV9zYXZlZCk7CgkkKCIjc2xpZGVyLWhz'));
	@fwrite($fp, base64_decode('aGlmdCIpLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIiwgZ19odWVfc2hpZnQpOwoJJCgiI3NsaWRlci1zc2hpZnQiKS5zbGlkZXIoIm9wdGlvbiIsICJ2YWx1ZSIsIGdfc2F0X3NoaWZ0KTsKCSQoIiNzbGlkZXItdnNoaWZ0Iikuc2xpZGVyKCJvcHRpb24iLCAidmFs'));
	@fwrite($fp, base64_decode('dWUiLCBnX3ZhbF9zaGlmdCk7CgkkKCIjc2xpZGVyLWljb2xvciIpLnNsaWRlcigib3B0aW9uIiwgInZhbHVlIiwgZ19pbnZjb2xvcnMpOwoJdGVzdF9jb2xvcl90aGVtZSgpOwp9CgpmdW5jdGlvbiBzZXR1cF9jb2xvcl9zbGlkZXJzKCkgewoJJCgiI3NsaWRlci1o'));
	@fwrite($fp, base64_decode('c2hpZnQiKS5zbGlkZXIoewoJCXZhbHVlOiBnX2h1ZV9zaGlmdCwKCQltaW46ICAgLTM2MCwKCQltYXg6ICAgMzYwLAoJCXNsaWRlOiBmdW5jdGlvbihldmVudCwgdWkpIHsKCQkJJCgiI2hzaGlmdCIpLnZhbCh1aS52YWx1ZSk7CgkJfQoJfSk7CgkkKCIjaHNoaWZ0'));
	@fwrite($fp, base64_decode('IikudmFsKCQoIiNzbGlkZXItaHNoaWZ0Iikuc2xpZGVyKCJ2YWx1ZSIpKTsKCgkkKCIjc2xpZGVyLXNzaGlmdCIpLnNsaWRlcih7CgkJdmFsdWU6IGdfc2F0X3NoaWZ0LAoJCW1pbjogICAtMTAwLAoJCW1heDogICAxMDAsCgkJc2xpZGU6IGZ1bmN0aW9uKGV2ZW50'));
	@fwrite($fp, base64_decode('LCB1aSkgewoJCQkkKCIjc3NoaWZ0IikudmFsKHVpLnZhbHVlKTsKCQl9Cgl9KTsKCSQoIiNzc2hpZnQiKS52YWwoJCgiI3NsaWRlci1zc2hpZnQiKS5zbGlkZXIoInZhbHVlIikpOwoKCSQoIiNzbGlkZXItdnNoaWZ0Iikuc2xpZGVyKHsKCQl2YWx1ZTogZ192YWxf'));
	@fwrite($fp, base64_decode('c2hpZnQsCgkJbWluOiAgIC0xMDAsCgkJbWF4OiAgIDEwMCwKCQlzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7CgkJCSQoIiN2c2hpZnQiKS52YWwodWkudmFsdWUpOwoJCX0KCX0pOwoJJCgiI3ZzaGlmdCIpLnZhbCgkKCIjc2xpZGVyLXZzaGlmdCIpLnNsaWRl'));
	@fwrite($fp, base64_decode('cigidmFsdWUiKSk7CgoJLyogVG9EbzogQ2hlY2tib3ggaW5zdGVhZCAqLwoJJCgiI3NsaWRlci1pY29sb3IiKS5zbGlkZXIoewoJCXZhbHVlOiBnX2ludmNvbG9ycywKCQltaW46ICAgMCwKCQltYXg6ICAgMSwKCQlzbGlkZTogZnVuY3Rpb24oZXZlbnQsIHVpKSB7'));
	@fwrite($fp, base64_decode('CgkJCSQoIiNpY29sb3IiKS52YWwodWkudmFsdWUpOwoJCX0KCX0pOwoJJCgiI2ljb2xvciIpLnZhbCgkKCIjc2xpZGVyLWljb2xvciIpLnNsaWRlcigidmFsdWUiKSk7Cn0KCmZ1bmN0aW9uIHRlc3RfY29sb3JfdGhlbWUoKSB7CglnX2h1ZV9zaGlmdCA9ICQoIiNo'));
	@fwrite($fp, base64_decode('c2hpZnQiKS52YWwoKTsKCWdfc2F0X3NoaWZ0ID0gJCgiI3NzaGlmdCIpLnZhbCgpOwoJZ192YWxfc2hpZnQgPSAkKCIjdnNoaWZ0IikudmFsKCk7CglnX2ludmNvbG9ycyA9ICQoIiNpY29sb3IiKS52YWwoKTsKCWdfYWN0aXZldGhlbWUgPSAkKCIjdGhlbWUiKS52'));
	@fwrite($fp, base64_decode('YWwoKTsKCWNoYW5nZUNTUygnb2lkcGx1cy5taW4uY3NzLnBocCcrCgkJJz90aGVtZT0nK2VuY29kZVVSSUNvbXBvbmVudCgkKCIjdGhlbWUiKS52YWwoKSkrCgkJJyZpbnZlcnQ9JytlbmNvZGVVUklDb21wb25lbnQoJCgiI2ljb2xvciIpLnZhbCgpKSsKCQknJmhf'));
	@fwrite($fp, base64_decode('c2hpZnQ9JytlbmNvZGVVUklDb21wb25lbnQoJCgiI2hzaGlmdCIpLnZhbCgpLzM2MCkrCgkJJyZzX3NoaWZ0PScrZW5jb2RlVVJJQ29tcG9uZW50KCQoIiNzc2hpZnQiICkudmFsKCkvMTAwKSsKCQknJnZfc2hpZnQ9JytlbmNvZGVVUklDb21wb25lbnQoJCgiI3Zz'));
	@fwrite($fp, base64_decode('aGlmdCIgKS52YWwoKS8xMDApLAoJCWZpbmRMaW5rSW5kZXgoJ29pZHBsdXMubWluLmNzcy5waHAnKSk7Cn0KCmZ1bmN0aW9uIGZpbmRMaW5rSW5kZXgoc2VhcmNoU3RyaW5nKSB7Cgl2YXIgbGlua3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVh'));
	@fwrite($fp, base64_decode('ZCIpLml0ZW0oMCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKTsKCglmb3IgKGk9MDsgaTxsaW5rcy5sZW5ndGg7IGkrKykgewoJCWlmIChsaW5rcy5pdGVtKGkpLmhyZWYuaW5jbHVkZXMoc2VhcmNoU3RyaW5nKSkgcmV0dXJuIGk7Cgl9CgoJcmV0dXJuIC0x'));
	@fwrite($fp, base64_decode('Owp9CgpmdW5jdGlvbiBjaGFuZ2VDU1MoY3NzRmlsZSwgY3NzTGlua0luZGV4KSB7Cgl2YXIgb2xkbGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIikuaXRlbSgwKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLml0ZW0oY3NzTGlu'));
	@fwrite($fp, base64_decode('a0luZGV4KTsKCgl2YXIgbmV3bGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpbmsiKTsKCW5ld2xpbmsuc2V0QXR0cmlidXRlKCJyZWwiLCAic3R5bGVzaGVldCIpOwoJbmV3bGluay5zZXRBdHRyaWJ1dGUoInR5cGUiLCAidGV4dC9jc3MiKTsKCW5ld2xp'));
	@fwrite($fp, base64_decode('bmsuc2V0QXR0cmlidXRlKCJocmVmIiwgY3NzRmlsZSk7CgoJZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKS5pdGVtKDApLnJlcGxhY2VDaGlsZChuZXdsaW5rLCBvbGRsaW5rKTsKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvbkNvbG9yVXBkYXRlKG5h'));
	@fwrite($fp, base64_decode('bWUpIHsKCWlmKCF3aW5kb3cuY29uZmlybShfTCgiQXJlIHlvdSBzdXJlIHRoYXQgeW91IHdhbnQgdG8gcGVybWFuZW50bHkgY2hhbmdlIHRoZSBjb2xvciAoZm9yIGFsbCB1c2Vycyk/IFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgdGVzdGVkIHRoZSBjb2xvcnMg'));
	@fwrite($fp, base64_decode('Zmlyc3QsIGJlY2F1c2UgaWYgdGhlIGNvbnRyYXN0IGlzIHRvbyBleHRyZW1lLCB5b3UgbWlnaHQgbm90IGJlIGFibGUgdG8gc2VlIHRoZSBjb250cm9scyBhbnltb3JlLCBpbiBvcmRlciB0byBjb3JyZWN0IHRoZSBjb2xvcnMuIikpKSByZXR1cm4gZmFsc2U7CgoJ'));
	@fwrite($fp, base64_decode('JC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6IHsKCQkJY3NyZl90b2tlbjpjc3JmX3Rva2VuLAoJCQlwbHVnaW46IjEuMy42LjEuNC4xLjM3NDc2LjIuNS4yLjQuMy43MDAiLAoJCQlhY3Rpb246ImNvbG9yX3VwZGF0ZSIs'));
	@fwrite($fp, base64_decode('CgkJCWh1ZV9zaGlmdDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaHNoaWZ0JykudmFsdWUsCgkJCXNhdF9zaGlmdDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3NoaWZ0JykudmFsdWUsCgkJCXZhbF9zaGlmdDpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnNo'));
	@fwrite($fp, base64_decode('aWZ0JykudmFsdWUsCgkJCWludmNvbG9yczpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaWNvbG9yJykudmFsdWUsCgkJCXRoZW1lOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGVtZScpLnZhbHVlLAoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRT'));
	@fwrite($fp, base64_decode('dGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KF9MKCJFcnJvcjogJTEiLGVycm9yVGhyb3duKSk7CgkJfSwKCQlzdWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoX0woIkVycm9yOiAlMSIsZGF0YS5l'));
	@fwrite($fp, base64_decode('cnJvcikpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID49IDApIHsKCQkJCWdfaHVlX3NoaWZ0X3NhdmVkID0gZ19odWVfc2hpZnQ7CgkJCQlnX3NhdF9zaGlmdF9zYXZlZCA9IGdfc2F0X3NoaWZ0OwoJCQkJZ192YWxfc2hpZnRfc2F2ZWQgPSBnX3ZhbF9zaGlm'));
	@fwrite($fp, base64_decode('dDsKCQkJCWdfaW52Y29sb3JzX3NhdmVkID0gZ19pbnZjb2xvcnM7CgkJCQl0ZXN0X2NvbG9yX3RoZW1lKCk7IC8vIGFwcGx5IHZpc3VhbGx5CgkJCQlhbGVydChfTCgiVXBkYXRlIE9LIikpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoX0woIkVycm9yOiAlMSIsZGF0'));
	@fwrite($fp, base64_decode('YSkpOwoJCQl9CgkJfQoJfSk7Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/700_colors/OIDplusPageAdminColors.js')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/700_colors/OIDplusPageAdminColors.js');
	writefile_3();
	if (!is_file('plugins/adminPages/700_colors/OIDplusPageAdminColors.js')) {
		warn('File cannot be created (not existing): plugins/adminPages/700_colors/OIDplusPageAdminColors.js');
	} else if (sha1_file('plugins/adminPages/700_colors/OIDplusPageAdminColors.js') != 'c107b2a5857e604450bb13774d1760a77196d7aa') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/700_colors/OIDplusPageAdminColors.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/700_colors/OIDplusPageAdminColors.js', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/700_colors/OIDplusPageAdminColors.js');
	}
} else {
	if (@sha1_file('plugins/adminPages/700_colors/OIDplusPageAdminColors.js') !== 'c107b2a5857e604450bb13774d1760a77196d7aa') {
		if (@sha1_file('plugins/adminPages/700_colors/OIDplusPageAdminColors.js') !== '16667699f8954df4e5c32433d9fbe15b3a5f296b') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/700_colors/OIDplusPageAdminColors.js');
			$tmp = pathinfo('plugins/adminPages/700_colors/OIDplusPageAdminColors.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/700_colors/OIDplusPageAdminColors.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/700_colors/OIDplusPageAdminColors.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/adminPages/700_colors/OIDplusPageAdminColors.js') !== 'c107b2a5857e604450bb13774d1760a77196d7aa') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/700_colors/OIDplusPageAdminColors.js');
		}
	}
}

// Files different: setup/setup.min.css.php
function writefile_4() {
	@$fp = fopen('setup/setup.min.css.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnVzZSBNYXR0aGlhc011bGxpZVxNaW5pZnk7CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8z'));
	@fwrite($fp, base64_decode('cC9taW5pZnkvcGF0aC1jb252ZXJ0ZXIvQ29udmVydGVySW50ZXJmYWNlLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8zcC9taW5pZnkvcGF0aC1jb252ZXJ0ZXIvQ29udmVydGVyLnBocCc7CnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8zcC9t'));
	@fwrite($fp, base64_decode('aW5pZnkvc3JjL01pbmlmeS5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vM3AvbWluaWZ5L3NyYy9DU1MucGhwJzsKcmVxdWlyZV9vbmNlIF9fRElSX18gLiAnLy4uLzNwL21pbmlmeS9zcmMvRXhjZXB0aW9uLnBocCc7CgplcnJvcl9yZXBvcnRpbmco'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREVCVUcnKSA/IEVfQUxMIDogMCk7CkBpbmlfc2V0KCdkaXNwbGF5X2Vycm9ycycsIE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RFQlVHJykgPyAxIDogMCk7Cgokb3V0ID0gJyc7CgojIC0t'));
	@fwrite($fp, base64_decode('LQoKJGRvX21pbmlmeSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ01JTklGWV9DU1MnLCB0cnVlKTsKCmZ1bmN0aW9uIHByb2Nlc3NfZmlsZSgkZmlsZW5hbWUpIHsKCWdsb2JhbCAkZG9fbWluaWZ5OwoKCWlmICghZmlsZV9leGlzdHMoJGZpbGVu'));
	@fwrite($fp, base64_decode('YW1lKSkgcmV0dXJuOwoKCSR0aGlzZGlyID0gX19ESVJfXzsKCSR0aGlzZGlyID0gc3RyX3JlcGxhY2UoJ1xcJywgJy8nLCAkdGhpc2Rpcik7IC8vIGNoYW5nZSBXaW5kb3dzIEJhY2tzbGFzaGVzIGludG8gV2ViLVNsYXNoZXMKCSRmaWxlbmFtZSA9IHN0cl9yZXBs'));
	@fwrite($fp, base64_decode('YWNlKCdcXCcsICcvJywgJGZpbGVuYW1lKTsgLy8gY2hhbmdlIFdpbmRvd3MgQmFja3NsYXNoZXMgaW50byBXZWItU2xhc2hlcwoJJGRpciA9IGRpcm5hbWUoKHN0cnBvcygkZmlsZW5hbWUsICR0aGlzZGlyLicvJykgPT09IDApID8gc3Vic3RyKCRmaWxlbmFtZSwg'));
	@fwrite($fp, base64_decode('c3RybGVuKCR0aGlzZGlyLicvJykpIDogJGZpbGVuYW1lKTsKCglpZiAoJGRvX21pbmlmeSkgewoJCSRtaW5pZmllciA9IG5ldyBNaW5pZnlcQ1NTKCRmaWxlbmFtZSk7CgkJJGNvbnQgPSAkbWluaWZpZXItPm1pbmlmeSgpOwoJCSRjb250ID0gc3RyX2lyZXBsYWNl'));
	@fwrite($fp, base64_decode('KCJ1cmwoZGF0YToiLCAidXJsIyMjKGRhdGE6IiwgJGNvbnQpOwoJCSRjb250ID0gc3RyX2lyZXBsYWNlKCJ1cmwoIiwgInVybCgiLiRkaXIuJy8nLCAkY29udCk7Cgl9IGVsc2UgewoJCSRjb250ID0gZmlsZV9nZXRfY29udGVudHMoJGZpbGVuYW1lKTsKCQkkY29u'));
	@fwrite($fp, base64_decode('dCA9IHN0cl9pcmVwbGFjZSgndXJsKCJkYXRhOicsICd1cmwjIyMoImRhdGE6JywgJGNvbnQpOwoJCSRjb250ID0gc3RyX2lyZXBsYWNlKCd1cmwoIicsICd1cmwoIicuJGRpci4nLycsICRjb250KTsKCQkkY29udCA9IHN0cl9pcmVwbGFjZSgidXJsKCdkYXRhOiIs'));
	@fwrite($fp, base64_decode('ICJ1cmwjIyMoJ2RhdGE6IiwgJGNvbnQpOwoJCSRjb250ID0gc3RyX2lyZXBsYWNlKCJ1cmwoJyIsICJ1cmwoJyIuJGRpci4nLycsICRjb250KTsKCX0KCSRjb250ID0gc3RyX2lyZXBsYWNlKCJ1cmwjIyMoIiwgInVybCgiLCAkY29udCk7CglyZXR1cm4gJGNvbnQu'));
	@fwrite($fp, base64_decode('IlxuXG4iOwp9CgojIC0tLQoKLy8gVGhpcmQtcGFydHkgcHJvZHVjdHMKLy8gKE5vbmUpCgovLyBPSURwbHVzIGJhc2ljIGRlZmluaXRpb25zCmlmIChmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy8uLi91c2VyZGF0YS9zdHlsZXMvc2V0dXBfYmFzZS5jc3MnKSkgewoJ'));
	@fwrite($fp, base64_decode('JG91dCAuPSBwcm9jZXNzX2ZpbGUoX19ESVJfXyAuICcvLi4vdXNlcmRhdGEvc3R5bGVzL3NldHVwX2Jhc2UuY3NzJyk7Cn0gZWxzZSB7Cgkkb3V0IC49IHByb2Nlc3NfZmlsZShfX0RJUl9fIC4gJy9pbmNsdWRlcy9zZXR1cF9iYXNlLmNzcycpOwp9CgovLyBUaGVu'));
	@fwrite($fp, base64_decode('IHBsdWdpbnMKT0lEcGx1czo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdkYXRhYmFzZScsICdPSURwbHVzRGF0YWJhc2VQbHVnaW4nLCBhcnJheSgnT0lEcGx1cycsJ3JlZ2lzdGVyRGF0YWJhc2VQbHVnaW4nKSk7CiRtYW5pZmVzdHMgPSBPSURwbHVzOjpnZXRBbGxQbHVn'));
	@fwrite($fp, base64_decode('aW5NYW5pZmVzdHMoJ2RhdGFiYXNlJywgdHJ1ZSk7CmZvcmVhY2ggKCRtYW5pZmVzdHMgYXMgJG1hbmlmZXN0KSB7Cglmb3JlYWNoICgkbWFuaWZlc3QtPmdldENTU0ZpbGVzU2V0dXAoKSBhcyAkY3NzX2ZpbGUpIHsKCQkkb3V0IC49IHByb2Nlc3NfZmlsZSgkY3Nz'));
	@fwrite($fp, base64_decode('X2ZpbGUpOwoJfQp9CgovLyBOb3cgdXNlci1kZWZpbmVkIGRlZmluaXRpb25zCmlmIChmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy91c2VyZGF0YS9zdHlsZXMvc2V0dXBfYWRkLmNzcycpKSB7Cgkkb3V0IC49IHByb2Nlc3NfZmlsZShfX0RJUl9fIC4gJy91c2VyZGF0'));
	@fwrite($fp, base64_decode('YS9zdHlsZXMvc2V0dXBfYWRkLmNzcycpOwp9CgojIC0tLQoKaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RFQlVHJykpIHsKCS8vIEluIGRlYnVnIG1vZGUsIHdlIG1pZ2h0IGdldCBQSFAgZXJyb3IgbWVzc2FnZXMgKHNlZSAiZXJyb3JfcmVw'));
	@fwrite($fp, base64_decode('b3J0aW5nIiBhYm92ZSksCgkvLyBzbyBpdCB3b3VsZCBiZSBzZXZlcmUgaWYgd2Ugd291bGQgYWxsb3cgRVRBRyEgKHNpbmNlICRvdXQgZG9lcyBub3QgY29udGFpbiB0aGUgUEhQIGVycm9yIG1lc3NhZ2VzISkKCWhlYWRlcignQ29udGVudC1UeXBlOnRleHQvY3Nz'));
	@fwrite($fp, base64_decode('Jyk7CgllY2hvICRvdXQ7Cn0gZWxzZSB7CglodHRwT3V0V2l0aEVUYWcoJG91dCwgJ3RleHQvY3NzJywgJ29pZHBsdXNfc2V0dXAuY3NzJyk7Cn0K'));
	@fclose($fp);
}
if (!is_file('setup/setup.min.css.php')) {
	warn('File has vanished! Will re-create it: setup/setup.min.css.php');
	writefile_4();
	if (!is_file('setup/setup.min.css.php')) {
		warn('File cannot be created (not existing): setup/setup.min.css.php');
	} else if (sha1_file('setup/setup.min.css.php') != '6f284133ad5bbbc258e4e2e6dee11cae20b7889d') {
		warn('File cannot be created (checksum mismatch): setup/setup.min.css.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/setup.min.css.php', 0644)) {
		warn('Could not change file permissions of setup/setup.min.css.php');
	}
} else {
	if (@sha1_file('setup/setup.min.css.php') !== '6f284133ad5bbbc258e4e2e6dee11cae20b7889d') {
		if (@sha1_file('setup/setup.min.css.php') !== '24d2c89fa0b3bd126459288b3b482f075ea34d2f') {
			warn('File was modified. Will overwrite the changes now: setup/setup.min.css.php');
			$tmp = pathinfo('setup/setup.min.css.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/setup.min.css.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/setup.min.css.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('setup/setup.min.css.php') !== '6f284133ad5bbbc258e4e2e6dee11cae20b7889d') {
			warn('File cannot be written (checksum mismatch): setup/setup.min.css.php');
		}
	}
}

// Files different: setup/setup.min.js.php
function writefile_5() {
	@$fp = fopen('setup/setup.min.js.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnVzZSBNYXR0aGlhc011bGxpZVxNaW5pZnk7CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8z'));
	@fwrite($fp, base64_decode('cC9taW5pZnkvc3JjL01pbmlmeS5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vM3AvbWluaWZ5L3NyYy9KUy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vM3AvbWluaWZ5L3NyYy9FeGNlcHRpb24ucGhwJzsKCmVycm9yX3JlcG9ydGlu'));
	@fwrite($fp, base64_decode('ZyhPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdERUJVRycpID8gRV9BTEwgOiAwKTsKQGluaV9zZXQoJ2Rpc3BsYXlfZXJyb3JzJywgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREVCVUcnKSA/IDEgOiAwKTsKCiRmaWxlcyA9IGFycmF5'));
	@fwrite($fp, base64_decode('KCk7CgovLyBOb3RlOiBDdXJyZW50bHkgd2UgZG8gbm90IHVzZSBwcm9jZXNzX2ZpbGUoKSBsaWtlIGluIG9pZHBsdXMubWluLmpzLnBocCB0byBmaXggcmVsYXRpdmUgcGF0aHMKLy8gICAgICAgc2luY2UgdGhpcyBzY3JpcHQgY3VycmVudGx5IGhhcyBubyByZWx2'));
	@fwrite($fp, base64_decode('YXRlIHJlc291cmNlcyB0aGF0IG5lZWQgdG8gYmUgbG9hZGVkCiRmaWxlc1tdID0gX19ESVJfXyAuICcvLi4vM3Avc2hhM19qcy9zaGEzLmpzJzsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2VtbjE3OC9qcy1zaGEzCgokZmlsZXNbXSA9ICd2YXIgREVGQVVMVF9MQU5H'));
	@fwrite($fp, base64_decode('VUFHRSA9ICcuanNvbl9lbmNvZGUoT0lEcGx1czo6REVGQVVMVF9MQU5HVUFHRSkuJzsnOwoKT0lEcGx1czo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdsYW5ndWFnZScsICdPSURwbHVzTGFuZ3VhZ2VQbHVnaW4nLCBudWxsKTsKJHRyYW5zbGF0aW9uX2FycmF5ID0gT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6Z2V0VHJhbnNsYXRpb25BcnJheSgpOwokZmlsZXNbXSA9ICd2YXIgbGFuZ3VhZ2VfbWVzc2FnZXMgPSAnLmpzb25fZW5jb2RlKCR0cmFuc2xhdGlvbl9hcnJheSkuJzsnOwoKLy8kdGJsX3ByZWZpeCA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFs'));
	@fwrite($fp, base64_decode('dWUoJ09JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWCcsJycpOwovLyRmaWxlc1tdID0gJ3ZhciBsYW5ndWFnZV90YmxwcmVmaXggPSAnLmpzb25fZW5jb2RlKCR0YmxfcHJlZml4KS4nOyc7CiRmaWxlc1tdID0gJ3ZhciBsYW5ndWFnZV90YmxwcmVmaXggPSAiPHRhYmxl'));
	@fwrite($fp, base64_decode('cHJlZml4PiI7JzsgLy8gaGlkZSBPSURQTFVTX1RBQkxFTkFNRV9QUkVGSVggZnJvbSB0aGUgY2xpZW50CgokZmlsZXNbXSA9ICd2YXIgc2V0dXBkaXIgPSAiJy4oKGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAkX1NFUlZFUlsnSFRUUFMnXSA9PT0gJ29uJyA/'));
	@fwrite($fp, base64_decode('ICJodHRwcyIgOiAiaHR0cCIpIC4gIjovLyIgLiAkX1NFUlZFUlsiSFRUUF9IT1NUIl0gLiBkaXJuYW1lKCRfU0VSVkVSWydSRVFVRVNUX1VSSSddKSkuJy8iOyc7CiRmaWxlc1tdID0gJ3ZhciByZWJ1aWxkX2NhbGxiYWNrcyA9IFtdOyc7CiRmaWxlc1tdID0gJ3Zh'));
	@fwrite($fp, base64_decode('ciByZWJ1aWxkX2NvbmZpZ19jYWxsYmFja3MgPSBbXTsnOwokZmlsZXNbXSA9ICd2YXIgcGx1Z2luX2NvbWJvYm94X2NoYW5nZV9jYWxsYmFja3MgPSBbXTsnOwoKT0lEcGx1czo6cmVnaXN0ZXJBbGxQbHVnaW5zKCdkYXRhYmFzZScsICdPSURwbHVzRGF0YWJhc2VQ'));
	@fwrite($fp, base64_decode('bHVnaW4nLCBhcnJheSgnT0lEcGx1cycsJ3JlZ2lzdGVyRGF0YWJhc2VQbHVnaW4nKSk7CiRtYW5pZmVzdHMgPSBPSURwbHVzOjpnZXRBbGxQbHVnaW5NYW5pZmVzdHMoJ2RhdGFiYXNlJywgdHJ1ZSk7CmZvcmVhY2ggKCRtYW5pZmVzdHMgYXMgJG1hbmlmZXN0KSB7'));
	@fwrite($fp, base64_decode('Cglmb3JlYWNoICgkbWFuaWZlc3QtPmdldEpzRmlsZXNTZXR1cCgpIGFzICRqc19maWxlKSB7CgkJaWYgKCFmaWxlX2V4aXN0cygkanNfZmlsZSkpIHsKCQkJJGZpbGVzW10gPSAiY29uc29sZS5lcnJvcignU2NyaXB0IGZpbGUgbm90IGZvdW5kOiAkanNfZmlsZScp'));
	@fwrite($fp, base64_decode('OyI7CgkJfSBlbHNlIHsKCQkJJGZpbGVzW10gPSAkanNfZmlsZTsKCQl9Cgl9Cn0KCiRmaWxlc1tdID0gX19ESVJfXyAuICcvaW5jbHVkZXMvc2V0dXBfYmFzZS5qcyc7CgojIC0tLQoKJG1pbmlmaWVyID0gbnVsbDsKJG91dCA9ICcnOwoKZm9yZWFjaCAoJGZpbGVz'));
	@fwrite($fp, base64_decode('IGFzICRmaWxlKSB7CglpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTUlOSUZZX0pTJywgdHJ1ZSkpIHsKCQlpZiAoaXNfbnVsbCgkbWluaWZpZXIpKSB7CgkJCSRtaW5pZmllciA9IG5ldyBNaW5pZnlcSlMoJGZpbGUpOwoJCX0gZWxzZSB7CgkJ'));
	@fwrite($fp, base64_decode('CSRtaW5pZmllci0+YWRkKCRmaWxlKTsKCQl9Cgl9IGVsc2UgewoJCWlmIChmaWxlX2V4aXN0cygkZmlsZSkpIHsKCQkJJG91dCAuPSBmaWxlX2dldF9jb250ZW50cygkZmlsZSkuIlxuIjsKCQl9IGVsc2UgewoJCQkkb3V0IC49ICIkZmlsZVxuIjsKCQl9Cgl9Cn0K'));
	@fwrite($fp, base64_decode('CmlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdNSU5JRllfSlMnLCB0cnVlKSkgewoJJG91dCA9ICRtaW5pZmllci0+bWluaWZ5KCk7Cn0KCiMgLS0tCgppZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREVCVUcnKSkgewoJLy8g'));
	@fwrite($fp, base64_decode('SW4gZGVidWcgbW9kZSwgd2UgbWlnaHQgZ2V0IFBIUCBlcnJvciBtZXNzYWdlcyAoc2VlICJlcnJvcl9yZXBvcnRpbmciIGFib3ZlKSwKCS8vIHNvIGl0IHdvdWxkIGJlIHNldmVyZSBpZiB3ZSB3b3VsZCBhbGxvdyBFVEFHISAoc2luY2UgJG91dCBkb2VzIG5vdCBj'));
	@fwrite($fp, base64_decode('b250YWluIHRoZSBQSFAgZXJyb3IgbWVzc2FnZXMhKQoJaGVhZGVyKCdDb250ZW50LVR5cGU6YXBwbGljYXRpb24vamF2YXNjcmlwdCcpOwoJZWNobyAkb3V0Owp9IGVsc2UgewoJaHR0cE91dFdpdGhFVGFnKCRvdXQsICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0Jywg'));
	@fwrite($fp, base64_decode('J29pZHBsdXNfc2V0dXAuanMnKTsKfQo='));
	@fclose($fp);
}
if (!is_file('setup/setup.min.js.php')) {
	warn('File has vanished! Will re-create it: setup/setup.min.js.php');
	writefile_5();
	if (!is_file('setup/setup.min.js.php')) {
		warn('File cannot be created (not existing): setup/setup.min.js.php');
	} else if (sha1_file('setup/setup.min.js.php') != '535df9bde0dddc8ed914f383780dce5b5948df58') {
		warn('File cannot be created (checksum mismatch): setup/setup.min.js.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/setup.min.js.php', 0644)) {
		warn('Could not change file permissions of setup/setup.min.js.php');
	}
} else {
	if (@sha1_file('setup/setup.min.js.php') !== '535df9bde0dddc8ed914f383780dce5b5948df58') {
		if (@sha1_file('setup/setup.min.js.php') !== 'cd06cab783e2d1e151c033286d7531c5c51295cc') {
			warn('File was modified. Will overwrite the changes now: setup/setup.min.js.php');
			$tmp = pathinfo('setup/setup.min.js.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/setup.min.js.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/setup.min.js.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('setup/setup.min.js.php') !== '535df9bde0dddc8ed914f383780dce5b5948df58') {
			warn('File cannot be written (checksum mismatch): setup/setup.min.js.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 490\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 490') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

