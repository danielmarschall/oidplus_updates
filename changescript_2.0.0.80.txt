<?php /* <ViaThinkSoftSignature>
jIMrkXp4lP1ZVJdMenZWvx/5rDyTY7cHBa8zPS7j7S0lN5RcQHZCrIl+ab3aRl02l
Xm7T1dxw0FS0dRzUD8lr7ay65EW9eVt4batIMD4L5owNeOfTZXddYvw/1dBtf6QhT
aByMfm8jwZkNdYxqjkyXIF0wo6Yxi6be4C52Qab6nkUrIchej5aAAfQ8c36yKu8ic
RmFUZwxvw1R2k48YXBje5vFKkVeKrqMLI89M1cwddAtpyyCCbS2A4eFUMu7MBpapg
jUYiMCx3xbRN8DnjrISn6rOMwiRsavHJqAIqHtuK5IsA9A4kQuTEd0F9mr00//p0C
E2s1iz8pWmKxkR71gJbCTWrsl1Fa6hykjdDh2VPK8f2k/8+uK0FZrsHA1ZddJVr2N
WPqmtyetdll9VuYIyc5+bRX8EFnHS0eZxN0uMgbKLU28naXvBRXeuTY0a0nfqFKgX
r38tUDaXBe6aCYuiNvfE7nvf1ZBEez7qh28+HuF4xpKKh/m1Dx7atGHtZP5yXFwSd
JHwQPyO9FTFFX08g/WAu4saYF+NmQ0jg4XeMpPyKtArpHz21sAX8r6Njl5syQokPf
Js0U+n0PnrRLszEmu/4PueUNNYoQR023QHY4j7XhxXUIycwvRs7S3CegVV+A8AbOs
p1OrY33eTVM4V5i80PCqIaoH7qUJw4VMgxYpcmRWzkSxNVlDwC1gHiUg3ES9xIzHx
MnGSuKo9Pb1wy32DoeDv+u7qu2+KFbykGXlyjXqN1hYWgJxy3eEHG9+Ysb2gp9Ws5
MOCn4VbNDT4Z2ZPUPb5C5vQbYyd5rX8aeD8ygPzcKo0w0dbDLG0nAH89pu4rGQXIS
QtuCCflxr9sBjWbvOPcaHvaGbCZMF9EUmKIyGHqMVEgdMyCztjDw3nwmfanoxUKzA
hfaiKNpI7JcPXBECHFEUeW1gpLdnQaZxS2FMs+QN3uG7DkotUAQAuRv530FjBWRGx
Y7idbP2ib9paM5IYAFlEnuawzxmChILRVrIiJAHvzwZOBoggNiHTD9F/hD/eE9ZXe
A5Qs/bxTddv6BJ9YoBHAcc/Llg7h8YHg3V1nSS9X90eZfMyI70nLYZHapKl90Fo8/
8W0b2YCUiTEIXlyalfaj9pie2X1+698UmmNWiIdD+FYH3j2Ys++8vF5sOi4Wsu++I
fOR5mjpFFW16qIkWc/vpLq4T8F/GAvIxIDcNqquP05DO7yVdV4kmsx1tameSsTUkq
Jhu54X5xY/Cv6re22DHox1i0K1C2jX68cypN43KrpFAihOwuSHa6zhzmocqDdeBx8
s7tgiPXRdMQncQyGfELLZkm8Qil4XZRpKke7KfHl23vECA0cCF3OjcNL2GIant8Ti
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 79') {
	err('This update can only be applied to OIDplus version 2.0.0.79!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: doc/acknowledgements.html
function writefile_1() {
	@$fp = fopen('doc/acknowledgements.html', 'w');
	@fwrite($fp, base64_decode('PGgxPkFib3V0IE9JRHBsdXMgMi4wPC9oMT4KCjxwPk9JRHBsdXMgaXMgYW4gT3BlblNvdXJjZSBkYXRhYmFzZSBieSA8YSBocmVmPSJodHRwczovL3d3dy52aWF0aGlua3NvZnQuY29tLyI+VmlhVGhpbmtTb2Z0PC9hPiB0aGF0IGNhbiBiZSB1c2VkIGJ5IFJlZ2lz'));
	@fwrite($fp, base64_decode('dHJhdGlvbiBBdXRob3JpdGllcyB0byBtYW5hZ2UgdGhlaXIgb2JqZWN0cywKbGlrZSBPYmplY3QgSWRlbnRpZmllcnMgKE9JRHMpIG9yIEdsb2JhbGx5IFVuaXF1ZSBJZGVudGlmaWVycyAoR1VJRHMpIGFuZCBtdWNoIG1vcmUuPC9wPgoKPHA+PGEgaHJlZj0iaHR0'));
	@fwrite($fp, base64_decode('cHM6Ly93d3cudmlhdGhpbmtzb2Z0LmNvbS9wcm9qZWN0cy9vaWRwbHVzIj5Eb3dubG9hZCBhbmQgaW5zdGFsbCBpdCBvbiB5b3VyIG93biBzeXN0ZW08L2E+PC9wPgoKPGgyPkFja25vd2xlZGdlbWVudHM8L2gyPgoKPHA+VmlhVGhpbmtTb2Z0IE9JRHBsdXMgdXNl'));
	@fwrite($fp, base64_decode('cyB0aGUgZm9sbG93aW5nIHRoaXJkIHBhcnR5IHByb2R1Y3RzOjwvcD4KCjx1bD4KPGxpPjxhIGhyZWY9Imh0dHBzOi8vd3d3LmpzdHJlZS5jb20vIj5qc1RyZWU8L2E+IChNSVQpPC9saT4KPGxpPjxhIGhyZWY9Imh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvIj5UaW55'));
	@fwrite($fp, base64_decode('TUNFPC9hPiAoTEdQTCAyLjEpPC9saT4KPGxpPjxhIGhyZWY9Imh0dHA6Ly9ibG9nLmdldGJvb3RzdHJhcC5jb20vIj5Cb290c3RyYXA8L2E+IChNSVQpPC9saT4KPGxpPjxhIGhyZWY9Imh0dHBzOi8vY29kZS5qcXVlcnkuY29tLyI+alF1ZXJ5PC9hPiAoTUlUKTwv'));
	@fwrite($fp, base64_decode('bGk+CjxsaT48YSBocmVmPSJodHRwOi8vanF1ZXJ5dWkuY29tLyI+alF1ZXJ5IFVJPC9hPiAoTUlUKTwvbGk+CjxsaT48YSBocmVmPSJodHRwczovL2dpdGh1Yi5jb20vYWxscHJvL2xheW91dC8iPmFsbHBybyBsYXlvdXQ8L2E+IChNSVQgLyBHUEx2Myk8L2xpPgo8'));
	@fwrite($fp, base64_decode('bGk+PGEgaHJlZj0iaHR0cHM6Ly9naXRodWIuY29tLzB4YmIvcGhwLXNoYTMiPjB4YmIgU0hBMyBpbXBsZW1lbnRhdGlvbiBpbiBQSFA8L2E+IChNSVQpPC9saT4KPGxpPjxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9lbW4xNzgvanMtc2hhMyI+ZW1uMTc4IFNI'));
	@fwrite($fp, base64_decode('QTMgaW1wbGVtZW50YXRpb24gaW4gSmF2YVNjcmlwdDwvYT4gKE1JVCk8L2xpPgo8bGk+PGEgaHJlZj0iaHR0cDovL3d3dy5zcGFtc3Bhbi5kZS8iPlNwYW1TcGFuPC9hPiAoR1BMdjIpPC9saT4KPGxpPjxhIGhyZWY9Imh0dHBzOi8vY29va2llY29uc2VudC5pbnNp'));
	@fwrite($fp, base64_decode('dGVzLmNvbS8iPkluc2l0ZXMgY29va2llIGNvbnNlbnQ8L2E+IChNSVQpPC9saT4KPGxpPjxhIGhyZWY9Imh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vcmVjYXB0Y2hhLyI+UmVDYXB0Y2hhPC9hPiAoQlNEIDMtQ2xhdXNlICJOZXciIG9yICJSZXZpc2VkIiBMaWNlbnNl'));
	@fwrite($fp, base64_decode('KTwvbGk+CjxsaT48YSBocmVmPSJodHRwczovL3d3dy5pY29uZmluZGVyLmNvbS9pY29uc2V0cy9udXZvbGEyIj5OdXZvbGEgaWNvbiBwYWNrIGJ5IERhdmlkIFZpZ25vbmk8L2E+IChMR1BMKTwvbGk+CjwvdWw+Cgo8aDI+TGljZW5zZTwvaDI+Cgo8ZGl2IHN0eWxl'));
	@fwrite($fp, base64_decode('PSJtYXJnaW46IDNlbSAxMCU7IGZvbnQtZmFtaWx5OnNlcmlmO3RleHQtYWxpZ246anVzdGlmeTsgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7IHBhZGRpbmc6IDJlbTsgICBib3gtc2hhZG93OiA0cHggOHB4ICM4ODg4ODg7Ij4KCjxwIHN0eWxlPSJ0ZXh0LWFsaWdu'));
	@fwrite($fp, base64_decode('OmNlbnRlciI+CjxzdHJvbmc+QXBhY2hlIExpY2Vuc2U8YnI+PC9icj5WZXJzaW9uIDIuMCwgSmFudWFyeSAyMDA0PGJyPjwvYnI+PC9zdHJvbmc+CjxzdHJvbmc+PGEgaHJlZj0iaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzLyI+aHR0cDovL3d3dy5hcGFj'));
	@fwrite($fp, base64_decode('aGUub3JnL2xpY2Vuc2VzLzwvYT48L3N0cm9uZz4KPC9wPgoKPHA+VEVSTVMgQU5EIENPTkRJVElPTlMgRk9SIFVTRSwgUkVQUk9EVUNUSU9OLCBBTkQgRElTVFJJQlVUSU9OPC9wPgoKPHA+PHN0cm9uZz48YSBuYW1lPSJkZWZpbml0aW9ucyI+MS4gRGVmaW5pdGlv'));
	@fwrite($fp, base64_decode('bnM8L2E+PC9zdHJvbmc+LjwvcD4KCjxkaXYgc3R5bGU9Im1hcmdpbi1sZWZ0OiAxZW07Ij4KCiAgPHA+IjxzdHJvbmc+TGljZW5zZTwvc3Ryb25nPiIgc2hhbGwgbWVhbiB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMgZm9yIHVzZSwgcmVwcm9kdWN0aW9uLCBhbmQK'));
	@fwrite($fp, base64_decode('ZGlzdHJpYnV0aW9uIGFzIGRlZmluZWQgYnkgU2VjdGlvbnMgMSB0aHJvdWdoIDkgb2YgdGhpcyBkb2N1bWVudC48L3A+CgogIDxwPiI8c3Ryb25nPkxpY2Vuc29yPC9zdHJvbmc+IiBzaGFsbCBtZWFuIHRoZSBjb3B5cmlnaHQgb3duZXIgb3IgZW50aXR5IGF1dGhv'));
	@fwrite($fp, base64_decode('cml6ZWQgYnkgdGhlCmNvcHlyaWdodCBvd25lciB0aGF0IGlzIGdyYW50aW5nIHRoZSBMaWNlbnNlLjwvcD4KCiAgPHA+IjxzdHJvbmc+TGVnYWwgRW50aXR5PC9zdHJvbmc+IiBzaGFsbCBtZWFuIHRoZSB1bmlvbiBvZiB0aGUgYWN0aW5nIGVudGl0eSBhbmQgYWxs'));
	@fwrite($fp, base64_decode('IG90aGVyCmVudGl0aWVzIHRoYXQgY29udHJvbCwgYXJlIGNvbnRyb2xsZWQgYnksIG9yIGFyZSB1bmRlciBjb21tb24gY29udHJvbCB3aXRoCnRoYXQgZW50aXR5LiBGb3IgdGhlIHB1cnBvc2VzIG9mIHRoaXMgZGVmaW5pdGlvbiwgIjxzdHJvbmc+Y29udHJvbDwv'));
	@fwrite($fp, base64_decode('c3Ryb25nPiIgbWVhbnMgKGkpIHRoZQpwb3dlciwgZGlyZWN0IG9yIGluZGlyZWN0LCB0byBjYXVzZSB0aGUgZGlyZWN0aW9uIG9yIG1hbmFnZW1lbnQgb2Ygc3VjaAplbnRpdHksIHdoZXRoZXIgYnkgY29udHJhY3Qgb3Igb3RoZXJ3aXNlLCBvciAoaWkpIG93bmVy'));
	@fwrite($fp, base64_decode('c2hpcCBvZiBmaWZ0eQpwZXJjZW50ICg1MCUpIG9yIG1vcmUgb2YgdGhlIG91dHN0YW5kaW5nIHNoYXJlcywgb3IgKGlpaSkgYmVuZWZpY2lhbApvd25lcnNoaXAgb2Ygc3VjaCBlbnRpdHkuPC9wPgoKICA8cD4iPHN0cm9uZz5Zb3U8L3N0cm9uZz4iIChvciAiPHN0'));
	@fwrite($fp, base64_decode('cm9uZz5Zb3VyPC9zdHJvbmc+Iikgc2hhbGwgbWVhbiBhbiBpbmRpdmlkdWFsIG9yIExlZ2FsIEVudGl0eSBleGVyY2lzaW5nCnBlcm1pc3Npb25zIGdyYW50ZWQgYnkgdGhpcyBMaWNlbnNlLjwvcD4KCiAgPHA+IjxzdHJvbmc+U291cmNlPC9zdHJvbmc+IiBmb3Jt'));
	@fwrite($fp, base64_decode('IHNoYWxsIG1lYW4gdGhlIHByZWZlcnJlZCBmb3JtIGZvciBtYWtpbmcgbW9kaWZpY2F0aW9ucywKaW5jbHVkaW5nIGJ1dCBub3QgbGltaXRlZCB0byBzb2Z0d2FyZSBzb3VyY2UgY29kZSwgZG9jdW1lbnRhdGlvbiBzb3VyY2UsCmFuZCBjb25maWd1cmF0aW9uIGZp'));
	@fwrite($fp, base64_decode('bGVzLjwvcD4KCiAgPHA+IjxzdHJvbmc+T2JqZWN0PC9zdHJvbmc+IiBmb3JtIHNoYWxsIG1lYW4gYW55IGZvcm0gcmVzdWx0aW5nIGZyb20gbWVjaGFuaWNhbCB0cmFuc2Zvcm1hdGlvbgpvciB0cmFuc2xhdGlvbiBvZiBhIFNvdXJjZSBmb3JtLCBpbmNsdWRpbmcg'));
	@fwrite($fp, base64_decode('YnV0IG5vdCBsaW1pdGVkIHRvIGNvbXBpbGVkCm9iamVjdCBjb2RlLCBnZW5lcmF0ZWQgZG9jdW1lbnRhdGlvbiwgYW5kIGNvbnZlcnNpb25zIHRvIG90aGVyIG1lZGlhIHR5cGVzLjwvcD4KCiAgPHA+IjxzdHJvbmc+V29yazwvc3Ryb25nPiIgc2hhbGwgbWVhbiB0'));
	@fwrite($fp, base64_decode('aGUgd29yayBvZiBhdXRob3JzaGlwLCB3aGV0aGVyIGluIFNvdXJjZSBvciBPYmplY3QgZm9ybSwKbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIExpY2Vuc2UsIGFzIGluZGljYXRlZCBieSBhIGNvcHlyaWdodCBub3RpY2UgdGhhdAppcyBpbmNsdWRlZCBpbiBvciBh'));
	@fwrite($fp, base64_decode('dHRhY2hlZCB0byB0aGUgd29yayAoYW4gZXhhbXBsZSBpcyBwcm92aWRlZCBpbiB0aGUKQXBwZW5kaXggYmVsb3cpLjwvcD4KCiAgPHA+IjxzdHJvbmc+RGVyaXZhdGl2ZSBXb3Jrczwvc3Ryb25nPiIgc2hhbGwgbWVhbiBhbnkgd29yaywgd2hldGhlciBpbiBTb3Vy'));
	@fwrite($fp, base64_decode('Y2Ugb3IgT2JqZWN0IGZvcm0sCnRoYXQgaXMgYmFzZWQgb24gKG9yIGRlcml2ZWQgZnJvbSkgdGhlIFdvcmsgYW5kIGZvciB3aGljaCB0aGUgZWRpdG9yaWFsCnJldmlzaW9ucywgYW5ub3RhdGlvbnMsIGVsYWJvcmF0aW9ucywgb3Igb3RoZXIgbW9kaWZpY2F0aW9u'));
	@fwrite($fp, base64_decode('cyByZXByZXNlbnQsIGFzCmEgd2hvbGUsIGFuIG9yaWdpbmFsIHdvcmsgb2YgYXV0aG9yc2hpcC4gRm9yIHRoZSBwdXJwb3NlcyBvZiB0aGlzIExpY2Vuc2UsCkRlcml2YXRpdmUgV29ya3Mgc2hhbGwgbm90IGluY2x1ZGUgd29ya3MgdGhhdCByZW1haW4gc2VwYXJh'));
	@fwrite($fp, base64_decode('YmxlIGZyb20sIG9yCm1lcmVseSBsaW5rIChvciBiaW5kIGJ5IG5hbWUpIHRvIHRoZSBpbnRlcmZhY2VzIG9mLCB0aGUgV29yayBhbmQgRGVyaXZhdGl2ZQpXb3JrcyB0aGVyZW9mLjwvcD4KCiAgPHA+IjxzdHJvbmc+Q29udHJpYnV0aW9uPC9zdHJvbmc+IiBzaGFs'));
	@fwrite($fp, base64_decode('bCBtZWFuIGFueSB3b3JrIG9mIGF1dGhvcnNoaXAsIGluY2x1ZGluZyB0aGUgb3JpZ2luYWwKdmVyc2lvbiBvZiB0aGUgV29yayBhbmQgYW55IG1vZGlmaWNhdGlvbnMgb3IgYWRkaXRpb25zIHRvIHRoYXQgV29yayBvcgpEZXJpdmF0aXZlIFdvcmtzIHRoZXJlb2Ys'));
	@fwrite($fp, base64_decode('IHRoYXQgaXMgaW50ZW50aW9uYWxseSBzdWJtaXR0ZWQgdG8gTGljZW5zb3IgZm9yCmluY2x1c2lvbiBpbiB0aGUgV29yayBieSB0aGUgY29weXJpZ2h0IG93bmVyIG9yIGJ5IGFuIGluZGl2aWR1YWwgb3IgTGVnYWwKRW50aXR5IGF1dGhvcml6ZWQgdG8gc3VibWl0'));
	@fwrite($fp, base64_decode('IG9uIGJlaGFsZiBvZiB0aGUgY29weXJpZ2h0IG93bmVyLiBGb3IgdGhlCnB1cnBvc2VzIG9mIHRoaXMgZGVmaW5pdGlvbiwgIjxzdHJvbmc+c3VibWl0dGVkPC9zdHJvbmc+IiBtZWFucyBhbnkgZm9ybSBvZiBlbGVjdHJvbmljLAp2ZXJiYWwsIG9yIHdyaXR0ZW4g'));
	@fwrite($fp, base64_decode('Y29tbXVuaWNhdGlvbiBzZW50IHRvIHRoZSBMaWNlbnNvciBvciBpdHMKcmVwcmVzZW50YXRpdmVzLCBpbmNsdWRpbmcgYnV0IG5vdCBsaW1pdGVkIHRvIGNvbW11bmljYXRpb24gb24gZWxlY3Ryb25pYwptYWlsaW5nIGxpc3RzLCBzb3VyY2UgY29kZSBjb250cm9s'));
	@fwrite($fp, base64_decode('IHN5c3RlbXMsIGFuZCBpc3N1ZSB0cmFja2luZyBzeXN0ZW1zIHRoYXQKYXJlIG1hbmFnZWQgYnksIG9yIG9uIGJlaGFsZiBvZiwgdGhlIExpY2Vuc29yIGZvciB0aGUgcHVycG9zZSBvZiBkaXNjdXNzaW5nCmFuZCBpbXByb3ZpbmcgdGhlIFdvcmssIGJ1dCBleGNs'));
	@fwrite($fp, base64_decode('dWRpbmcgY29tbXVuaWNhdGlvbiB0aGF0IGlzIGNvbnNwaWN1b3VzbHkKbWFya2VkIG9yIG90aGVyd2lzZSBkZXNpZ25hdGVkIGluIHdyaXRpbmcgYnkgdGhlIGNvcHlyaWdodCBvd25lciBhcyAiPHN0cm9uZz5Ob3QgYQpDb250cmlidXRpb24uPC9zdHJvbmc+Ijwv'));
	@fwrite($fp, base64_decode('cD4KCiAgPHA+IjxzdHJvbmc+Q29udHJpYnV0b3I8L3N0cm9uZz4iIHNoYWxsIG1lYW4gTGljZW5zb3IgYW5kIGFueSBpbmRpdmlkdWFsIG9yIExlZ2FsIEVudGl0eSBvbgpiZWhhbGYgb2Ygd2hvbSBhIENvbnRyaWJ1dGlvbiBoYXMgYmVlbiByZWNlaXZlZCBieSBM'));
	@fwrite($fp, base64_decode('aWNlbnNvciBhbmQKc3Vic2VxdWVudGx5IGluY29ycG9yYXRlZCB3aXRoaW4gdGhlIFdvcmsuPC9wPgoKPC9kaXY+Cgo8cD48c3Ryb25nPjxhIG5hbWU9ImNvcHlyaWdodCI+Mi4gR3JhbnQgb2YgQ29weXJpZ2h0IExpY2Vuc2U8L2E+PC9zdHJvbmc+LiBTdWJqZWN0'));
	@fwrite($fp, base64_decode('IHRvIHRoZQp0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGlzIExpY2Vuc2UsIGVhY2ggQ29udHJpYnV0b3IgaGVyZWJ5IGdyYW50cyB0byBZb3UKYSBwZXJwZXR1YWwsIHdvcmxkd2lkZSwgbm9uLWV4Y2x1c2l2ZSwgbm8tY2hhcmdlLCByb3lhbHR5LWZyZWUsIGly'));
	@fwrite($fp, base64_decode('cmV2b2NhYmxlCmNvcHlyaWdodCBsaWNlbnNlIHRvIHJlcHJvZHVjZSwgcHJlcGFyZSBEZXJpdmF0aXZlIFdvcmtzIG9mLCBwdWJsaWNseQpkaXNwbGF5LCBwdWJsaWNseSBwZXJmb3JtLCBzdWJsaWNlbnNlLCBhbmQgZGlzdHJpYnV0ZSB0aGUgV29yayBhbmQgc3Vj'));
	@fwrite($fp, base64_decode('aApEZXJpdmF0aXZlIFdvcmtzIGluIFNvdXJjZSBvciBPYmplY3QgZm9ybS48L3A+Cgo8cD48c3Ryb25nPjxhIG5hbWU9InBhdGVudCI+My4gR3JhbnQgb2YgUGF0ZW50IExpY2Vuc2U8L2E+PC9zdHJvbmc+LiBTdWJqZWN0IHRvIHRoZSB0ZXJtcwphbmQgY29uZGl0'));
	@fwrite($fp, base64_decode('aW9ucyBvZiB0aGlzIExpY2Vuc2UsIGVhY2ggQ29udHJpYnV0b3IgaGVyZWJ5IGdyYW50cyB0byBZb3UgYQpwZXJwZXR1YWwsIHdvcmxkd2lkZSwgbm9uLWV4Y2x1c2l2ZSwgbm8tY2hhcmdlLCByb3lhbHR5LWZyZWUsIGlycmV2b2NhYmxlCihleGNlcHQgYXMgc3Rh'));
	@fwrite($fp, base64_decode('dGVkIGluIHRoaXMgc2VjdGlvbikgcGF0ZW50IGxpY2Vuc2UgdG8gbWFrZSwgaGF2ZSBtYWRlLCB1c2UsCm9mZmVyIHRvIHNlbGwsIHNlbGwsIGltcG9ydCwgYW5kIG90aGVyd2lzZSB0cmFuc2ZlciB0aGUgV29yaywgd2hlcmUgc3VjaApsaWNlbnNlIGFwcGxpZXMg'));
	@fwrite($fp, base64_decode('b25seSB0byB0aG9zZSBwYXRlbnQgY2xhaW1zIGxpY2Vuc2FibGUgYnkgc3VjaCBDb250cmlidXRvcgp0aGF0IGFyZSBuZWNlc3NhcmlseSBpbmZyaW5nZWQgYnkgdGhlaXIgQ29udHJpYnV0aW9uKHMpIGFsb25lIG9yIGJ5CmNvbWJpbmF0aW9uIG9mIHRoZWlyIENv'));
	@fwrite($fp, base64_decode('bnRyaWJ1dGlvbihzKSB3aXRoIHRoZSBXb3JrIHRvIHdoaWNoIHN1Y2gKQ29udHJpYnV0aW9uKHMpIHdhcyBzdWJtaXR0ZWQuIElmIFlvdSBpbnN0aXR1dGUgcGF0ZW50IGxpdGlnYXRpb24gYWdhaW5zdAphbnkgZW50aXR5IChpbmNsdWRpbmcgYSBjcm9zcy1jbGFp'));
	@fwrite($fp, base64_decode('bSBvciBjb3VudGVyY2xhaW0gaW4gYSBsYXdzdWl0KSBhbGxlZ2luZwp0aGF0IHRoZSBXb3JrIG9yIGEgQ29udHJpYnV0aW9uIGluY29ycG9yYXRlZCB3aXRoaW4gdGhlIFdvcmsgY29uc3RpdHV0ZXMKZGlyZWN0IG9yIGNvbnRyaWJ1dG9yeSBwYXRlbnQgaW5mcmlu'));
	@fwrite($fp, base64_decode('Z2VtZW50LCB0aGVuIGFueSBwYXRlbnQgbGljZW5zZXMKZ3JhbnRlZCB0byBZb3UgdW5kZXIgdGhpcyBMaWNlbnNlIGZvciB0aGF0IFdvcmsgc2hhbGwgdGVybWluYXRlIGFzIG9mIHRoZQpkYXRlIHN1Y2ggbGl0aWdhdGlvbiBpcyBmaWxlZC48L3A+Cgo8cD48c3Ry'));
	@fwrite($fp, base64_decode('b25nPjxhIG5hbWU9InJlZGlzdHJpYnV0aW9uIj40LiBSZWRpc3RyaWJ1dGlvbjwvYT48L3N0cm9uZz4uIFlvdSBtYXkgcmVwcm9kdWNlIGFuZApkaXN0cmlidXRlIGNvcGllcyBvZiB0aGUgV29yayBvciBEZXJpdmF0aXZlIFdvcmtzIHRoZXJlb2YgaW4gYW55IG1l'));
	@fwrite($fp, base64_decode('ZGl1bSwKd2l0aCBvciB3aXRob3V0IG1vZGlmaWNhdGlvbnMsIGFuZCBpbiBTb3VyY2Ugb3IgT2JqZWN0IGZvcm0sIHByb3ZpZGVkIHRoYXQKWW91IG1lZXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOjwvcD4KCjxvbCBzdHlsZT0ibGlzdC1zdHlsZTogbG93ZXIt'));
	@fwrite($fp, base64_decode('bGF0aW47Ij4KPGxpPllvdSBtdXN0IGdpdmUgYW55IG90aGVyIHJlY2lwaWVudHMgb2YgdGhlIFdvcmsgb3IgRGVyaXZhdGl2ZSBXb3JrcyBhCmNvcHkgb2YgdGhpcyBMaWNlbnNlOyBhbmQ8L2xpPgoKPGxpPllvdSBtdXN0IGNhdXNlIGFueSBtb2RpZmllZCBmaWxl'));
	@fwrite($fp, base64_decode('cyB0byBjYXJyeSBwcm9taW5lbnQgbm90aWNlcyBzdGF0aW5nCnRoYXQgWW91IGNoYW5nZWQgdGhlIGZpbGVzOyBhbmQ8L2xpPgoKPGxpPllvdSBtdXN0IHJldGFpbiwgaW4gdGhlIFNvdXJjZSBmb3JtIG9mIGFueSBEZXJpdmF0aXZlIFdvcmtzIHRoYXQgWW91CmRp'));
	@fwrite($fp, base64_decode('c3RyaWJ1dGUsIGFsbCBjb3B5cmlnaHQsIHBhdGVudCwgdHJhZGVtYXJrLCBhbmQgYXR0cmlidXRpb24gbm90aWNlcyBmcm9tCnRoZSBTb3VyY2UgZm9ybSBvZiB0aGUgV29yaywgZXhjbHVkaW5nIHRob3NlIG5vdGljZXMgdGhhdCBkbyBub3QgcGVydGFpbiB0bwph'));
	@fwrite($fp, base64_decode('bnkgcGFydCBvZiB0aGUgRGVyaXZhdGl2ZSBXb3JrczsgYW5kPC9saT4KCjxsaT5JZiB0aGUgV29yayBpbmNsdWRlcyBhICI8c3Ryb25nPk5PVElDRTwvc3Ryb25nPiIgdGV4dCBmaWxlIGFzIHBhcnQgb2YgaXRzIGRpc3RyaWJ1dGlvbiwKdGhlbiBhbnkgRGVyaXZh'));
	@fwrite($fp, base64_decode('dGl2ZSBXb3JrcyB0aGF0IFlvdSBkaXN0cmlidXRlIG11c3QgaW5jbHVkZSBhIHJlYWRhYmxlIGNvcHkKb2YgdGhlIGF0dHJpYnV0aW9uIG5vdGljZXMgY29udGFpbmVkIHdpdGhpbiBzdWNoIE5PVElDRSBmaWxlLCBleGNsdWRpbmcKdGhvc2Ugbm90aWNlcyB0aGF0'));
	@fwrite($fp, base64_decode('IGRvIG5vdCBwZXJ0YWluIHRvIGFueSBwYXJ0IG9mIHRoZSBEZXJpdmF0aXZlIFdvcmtzLCBpbgphdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBwbGFjZXM6IHdpdGhpbiBhIE5PVElDRSB0ZXh0IGZpbGUgZGlzdHJpYnV0ZWQKYXMgcGFydCBvZiB0aGUgRGVy'));
	@fwrite($fp, base64_decode('aXZhdGl2ZSBXb3Jrczsgd2l0aGluIHRoZSBTb3VyY2UgZm9ybSBvciBkb2N1bWVudGF0aW9uLAppZiBwcm92aWRlZCBhbG9uZyB3aXRoIHRoZSBEZXJpdmF0aXZlIFdvcmtzOyBvciwgd2l0aGluIGEgZGlzcGxheSBnZW5lcmF0ZWQKYnkgdGhlIERlcml2YXRpdmUg'));
	@fwrite($fp, base64_decode('V29ya3MsIGlmIGFuZCB3aGVyZXZlciBzdWNoIHRoaXJkLXBhcnR5IG5vdGljZXMgbm9ybWFsbHkKYXBwZWFyLiBUaGUgY29udGVudHMgb2YgdGhlIE5PVElDRSBmaWxlIGFyZSBmb3IgaW5mb3JtYXRpb25hbCBwdXJwb3NlcyBvbmx5CmFuZCBkbyBub3QgbW9kaWZ5'));
	@fwrite($fp, base64_decode('IHRoZSBMaWNlbnNlLiBZb3UgbWF5IGFkZCBZb3VyIG93biBhdHRyaWJ1dGlvbiBub3RpY2VzCndpdGhpbiBEZXJpdmF0aXZlIFdvcmtzIHRoYXQgWW91IGRpc3RyaWJ1dGUsIGFsb25nc2lkZSBvciBhcyBhbiBhZGRlbmR1bSB0bwp0aGUgTk9USUNFIHRleHQgZnJv'));
	@fwrite($fp, base64_decode('bSB0aGUgV29yaywgcHJvdmlkZWQgdGhhdCBzdWNoIGFkZGl0aW9uYWwgYXR0cmlidXRpb24Kbm90aWNlcyBjYW5ub3QgYmUgY29uc3RydWVkIGFzIG1vZGlmeWluZyB0aGUgTGljZW5zZS4KPGJyLz4KPGJyLz4KWW91IG1heSBhZGQgWW91ciBvd24gY29weXJpZ2h0'));
	@fwrite($fp, base64_decode('IHN0YXRlbWVudCB0byBZb3VyIG1vZGlmaWNhdGlvbnMgYW5kIG1heQpwcm92aWRlIGFkZGl0aW9uYWwgb3IgZGlmZmVyZW50IGxpY2Vuc2UgdGVybXMgYW5kIGNvbmRpdGlvbnMgZm9yIHVzZSwKcmVwcm9kdWN0aW9uLCBvciBkaXN0cmlidXRpb24gb2YgWW91ciBt'));
	@fwrite($fp, base64_decode('b2RpZmljYXRpb25zLCBvciBmb3IgYW55IHN1Y2gKRGVyaXZhdGl2ZSBXb3JrcyBhcyBhIHdob2xlLCBwcm92aWRlZCBZb3VyIHVzZSwgcmVwcm9kdWN0aW9uLCBhbmQKZGlzdHJpYnV0aW9uIG9mIHRoZSBXb3JrIG90aGVyd2lzZSBjb21wbGllcyB3aXRoIHRoZSBj'));
	@fwrite($fp, base64_decode('b25kaXRpb25zIHN0YXRlZCBpbgp0aGlzIExpY2Vuc2UuCjwvbGk+Cgo8L29sPgoKPHA+PHN0cm9uZz48YSBuYW1lPSJjb250cmlidXRpb25zIj41LiBTdWJtaXNzaW9uIG9mIENvbnRyaWJ1dGlvbnM8L2E+PC9zdHJvbmc+LiBVbmxlc3MgWW91CmV4cGxpY2l0bHkg'));
	@fwrite($fp, base64_decode('c3RhdGUgb3RoZXJ3aXNlLCBhbnkgQ29udHJpYnV0aW9uIGludGVudGlvbmFsbHkgc3VibWl0dGVkIGZvcgppbmNsdXNpb24gaW4gdGhlIFdvcmsgYnkgWW91IHRvIHRoZSBMaWNlbnNvciBzaGFsbCBiZSB1bmRlciB0aGUgdGVybXMgYW5kCmNvbmRpdGlvbnMgb2Yg'));
	@fwrite($fp, base64_decode('dGhpcyBMaWNlbnNlLCB3aXRob3V0IGFueSBhZGRpdGlvbmFsIHRlcm1zIG9yIGNvbmRpdGlvbnMuCk5vdHdpdGhzdGFuZGluZyB0aGUgYWJvdmUsIG5vdGhpbmcgaGVyZWluIHNoYWxsIHN1cGVyc2VkZSBvciBtb2RpZnkgdGhlCnRlcm1zIG9mIGFueSBzZXBhcmF0'));
	@fwrite($fp, base64_decode('ZSBsaWNlbnNlIGFncmVlbWVudCB5b3UgbWF5IGhhdmUgZXhlY3V0ZWQgd2l0aCBMaWNlbnNvcgpyZWdhcmRpbmcgc3VjaCBDb250cmlidXRpb25zLjwvcD4KCjxwPjxzdHJvbmc+PGEgbmFtZT0idHJhZGVtYXJrcyI+Ni4gVHJhZGVtYXJrczwvYT48L3N0cm9uZz4u'));
	@fwrite($fp, base64_decode('IFRoaXMgTGljZW5zZSBkb2VzIG5vdCBncmFudApwZXJtaXNzaW9uIHRvIHVzZSB0aGUgdHJhZGUgbmFtZXMsIHRyYWRlbWFya3MsIHNlcnZpY2UgbWFya3MsIG9yIHByb2R1Y3QKbmFtZXMgb2YgdGhlIExpY2Vuc29yLCBleGNlcHQgYXMgcmVxdWlyZWQgZm9yIHJl'));
	@fwrite($fp, base64_decode('YXNvbmFibGUgYW5kIGN1c3RvbWFyeSB1c2UKaW4gZGVzY3JpYmluZyB0aGUgb3JpZ2luIG9mIHRoZSBXb3JrIGFuZCByZXByb2R1Y2luZyB0aGUgY29udGVudCBvZiB0aGUKTk9USUNFIGZpbGUuPC9wPgoKPHA+PHN0cm9uZz48YSBuYW1lPSJuby13YXJyYW50eSI+'));
	@fwrite($fp, base64_decode('Ny4gRGlzY2xhaW1lciBvZiBXYXJyYW50eTwvYT48L3N0cm9uZz4uIFVubGVzcyByZXF1aXJlZCBieQphcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgTGljZW5zb3IgcHJvdmlkZXMgdGhlIFdvcmsgKGFuZAplYWNoIENvbnRyaWJ1dG9yIHBy'));
	@fwrite($fp, base64_decode('b3ZpZGVzIGl0cyBDb250cmlidXRpb25zKSBvbiBhbiAiQVMgSVMiIEJBU0lTLCBXSVRIT1VUCldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZCwgaW5jbHVkaW5nLAp3aXRob3V0IGxpbWl0YXRpb24s'));
	@fwrite($fp, base64_decode('IGFueSB3YXJyYW50aWVzIG9yIGNvbmRpdGlvbnMgb2YgVElUTEUsCk5PTi1JTkZSSU5HRU1FTlQsIE1FUkNIQU5UQUJJTElUWSwgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuIFlvdQphcmUgc29sZWx5IHJlc3BvbnNpYmxlIGZvciBkZXRlcm1p'));
	@fwrite($fp, base64_decode('bmluZyB0aGUgYXBwcm9wcmlhdGVuZXNzIG9mIHVzaW5nIG9yCnJlZGlzdHJpYnV0aW5nIHRoZSBXb3JrIGFuZCBhc3N1bWUgYW55IHJpc2tzIGFzc29jaWF0ZWQgd2l0aCBZb3VyIGV4ZXJjaXNlCm9mIHBlcm1pc3Npb25zIHVuZGVyIHRoaXMgTGljZW5zZS48L3A+'));
	@fwrite($fp, base64_decode('Cgo8cD48c3Ryb25nPjxhIG5hbWU9Im5vLWxpYWJpbGl0eSI+OC4gTGltaXRhdGlvbiBvZiBMaWFiaWxpdHk8L2E+PC9zdHJvbmc+LiBJbiBubyBldmVudCBhbmQKdW5kZXIgbm8gbGVnYWwgdGhlb3J5LCB3aGV0aGVyIGluIHRvcnQgKGluY2x1ZGluZyBuZWdsaWdl'));
	@fwrite($fp, base64_decode('bmNlKSwgY29udHJhY3QsIG9yCm90aGVyd2lzZSwgdW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IChzdWNoIGFzIGRlbGliZXJhdGUgYW5kCmdyb3NzbHkgbmVnbGlnZW50IGFjdHMpIG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzaGFsbCBhbnkgQ29u'));
	@fwrite($fp, base64_decode('dHJpYnV0b3IgYmUKbGlhYmxlIHRvIFlvdSBmb3IgZGFtYWdlcywgaW5jbHVkaW5nIGFueSBkaXJlY3QsIGluZGlyZWN0LCBzcGVjaWFsLAppbmNpZGVudGFsLCBvciBjb25zZXF1ZW50aWFsIGRhbWFnZXMgb2YgYW55IGNoYXJhY3RlciBhcmlzaW5nIGFzIGEgcmVz'));
	@fwrite($fp, base64_decode('dWx0Cm9mIHRoaXMgTGljZW5zZSBvciBvdXQgb2YgdGhlIHVzZSBvciBpbmFiaWxpdHkgdG8gdXNlIHRoZSBXb3JrIChpbmNsdWRpbmcKYnV0IG5vdCBsaW1pdGVkIHRvIGRhbWFnZXMgZm9yIGxvc3Mgb2YgZ29vZHdpbGwsIHdvcmsgc3RvcHBhZ2UsIGNvbXB1dGVy'));
	@fwrite($fp, base64_decode('CmZhaWx1cmUgb3IgbWFsZnVuY3Rpb24sIG9yIGFueSBhbmQgYWxsIG90aGVyIGNvbW1lcmNpYWwgZGFtYWdlcyBvciBsb3NzZXMpLApldmVuIGlmIHN1Y2ggQ29udHJpYnV0b3IgaGFzIGJlZW4gYWR2aXNlZCBvZiB0aGUgcG9zc2liaWxpdHkgb2Ygc3VjaApkYW1h'));
	@fwrite($fp, base64_decode('Z2VzLjwvcD4KCjxwPjxzdHJvbmc+PGEgbmFtZT0iYWRkaXRpb25hbCI+OS4gQWNjZXB0aW5nIFdhcnJhbnR5IG9yIEFkZGl0aW9uYWwgTGlhYmlsaXR5PC9hPjwvc3Ryb25nPi4KV2hpbGUgcmVkaXN0cmlidXRpbmcgdGhlIFdvcmsgb3IgRGVyaXZhdGl2ZSBXb3Jr'));
	@fwrite($fp, base64_decode('cyB0aGVyZW9mLCBZb3UgbWF5IGNob29zZQp0byBvZmZlciwgYW5kIGNoYXJnZSBhIGZlZSBmb3IsIGFjY2VwdGFuY2Ugb2Ygc3VwcG9ydCwgd2FycmFudHksIGluZGVtbml0eSwKb3Igb3RoZXIgbGlhYmlsaXR5IG9ibGlnYXRpb25zIGFuZC9vciByaWdodHMgY29u'));
	@fwrite($fp, base64_decode('c2lzdGVudCB3aXRoIHRoaXMgTGljZW5zZS4KSG93ZXZlciwgaW4gYWNjZXB0aW5nIHN1Y2ggb2JsaWdhdGlvbnMsIFlvdSBtYXkgYWN0IG9ubHkgb24gWW91ciBvd24gYmVoYWxmCmFuZCBvbiBZb3VyIHNvbGUgcmVzcG9uc2liaWxpdHksIG5vdCBvbiBiZWhhbGYg'));
	@fwrite($fp, base64_decode('b2YgYW55IG90aGVyIENvbnRyaWJ1dG9yLAphbmQgb25seSBpZiBZb3UgYWdyZWUgdG8gaW5kZW1uaWZ5LCBkZWZlbmQsIGFuZCBob2xkIGVhY2ggQ29udHJpYnV0b3IKaGFybWxlc3MgZm9yIGFueSBsaWFiaWxpdHkgaW5jdXJyZWQgYnksIG9yIGNsYWltcyBhc3Nl'));
	@fwrite($fp, base64_decode('cnRlZCBhZ2FpbnN0LCBzdWNoCkNvbnRyaWJ1dG9yIGJ5IHJlYXNvbiBvZiB5b3VyIGFjY2VwdGluZyBhbnkgc3VjaCB3YXJyYW50eSBvciBhZGRpdGlvbmFsCmxpYWJpbGl0eS48L3A+Cgo8cD5FTkQgT0YgVEVSTVMgQU5EIENPTkRJVElPTlM8L3A+Cgo8L2Rpdj4K'));
	@fwrite($fp, base64_decode('Cg=='));
	@fclose($fp);
}
if (!is_file('doc/acknowledgements.html')) {
	warn('File has vanished! Will re-create it: doc/acknowledgements.html');
	writefile_1();
	if (!is_file('doc/acknowledgements.html')) {
		warn('File cannot be created (not existing): doc/acknowledgements.html');
	} else if (sha1_file('doc/acknowledgements.html') != '9cc8f8404705b18f3887df8501c314b956ece938') {
		warn('File cannot be created (checksum mismatch): doc/acknowledgements.html');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('doc/acknowledgements.html', 0644)) {
		warn('Could not change file permissions of doc/acknowledgements.html');
	}
} else {
	if (@sha1_file('doc/acknowledgements.html') !== '9cc8f8404705b18f3887df8501c314b956ece938') {
		if (@sha1_file('doc/acknowledgements.html') !== '855843392f64aa5f179e90d93768998fe1d9b4d0') {
			warn('File was modified. Will overwrite the changes now: doc/acknowledgements.html');
			$tmp = pathinfo('doc/acknowledgements.html');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('doc/acknowledgements.html')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('doc/acknowledgements.html', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('doc/acknowledgements.html') !== '9cc8f8404705b18f3887df8501c314b956ece938') {
			warn('File cannot be written (checksum mismatch): doc/acknowledgements.html');
		}
	}
}

// Files different: includes/classes/OIDplus.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplus.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXMgewoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzRGF0YUJhc2UqLyAkZGF0YWJhc2U7Cglwcml2YXRlIHN0YXRpYyAvKk9JRHBsdXNDb25maWcqLyAkY29uZmlnOwoJcHJpdmF0'));
	@fwrite($fp, base64_decode('ZSBzdGF0aWMgLypPSURwbHVzUGFnZVBsdWdpbltdW10qLyAkcGFnZVBsdWdpbnMgPSBhcnJheSgpOwoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzT2JqZWN0Ki8gJG9iamVjdFR5cGVzID0gYXJyYXkoKTsKCXByaXZhdGUgc3RhdGljIC8qT0lEcGx1c09iamVjdCov'));
	@fwrite($fp, base64_decode('ICRkaXNhYmxlZE9iamVjdFR5cGVzID0gYXJyYXkoKTsKCglwcml2YXRlIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkgewoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZGIoKSB7CgkJaWYgKGlzX251bGwoc2VsZjo6JGRhdGFiYXNlKSkgewoJCQlzZWxmOjokZGF0'));
	@fwrite($fp, base64_decode('YWJhc2UgPSBuZXcgT0lEcGx1c0RhdGFCYXNlTXlTUUwoKTsKCQl9CgkJcmV0dXJuIHNlbGY6OiRkYXRhYmFzZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGNvbmZpZygpIHsKCQlpZiAoaXNfbnVsbChzZWxmOjokY29uZmlnKSkgewoJCQlzZWxmOjokY29u'));
	@fwrite($fp, base64_decode('ZmlnID0gbmV3IE9JRHBsdXNDb25maWcoKTsKCQl9CgkJcmV0dXJuIHNlbGY6OiRjb25maWc7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBndWkoKSB7CgkJcmV0dXJuIG5ldyBPSURwbHVzR3VpKCk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBhdXRo'));
	@fwrite($fp, base64_decode('VXRpbHMoKSB7CgkJcmV0dXJuIG5ldyBPSURwbHVzQXV0aFV0aWxzKCk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBzeXN0ZW1fdXJsKCkgewoJCWlmICghaXNzZXQoJF9TRVJWRVJbIlJFUVVFU1RfVVJJIl0pKSByZXR1cm4gZmFsc2U7CgoJCSR0ZXN0X2Rp'));
	@fwrite($fp, base64_decode('ciA9IGRpcm5hbWUoJF9TRVJWRVJbJ1NDUklQVF9GSUxFTkFNRSddKTsKCQkkYyA9IDA7CgkJd2hpbGUgKCFmaWxlX2V4aXN0cygkdGVzdF9kaXIuJy9vaWRwbHVzLmpzJykpIHsKCQkJJHRlc3RfZGlyID0gZGlybmFtZSgkdGVzdF9kaXIpOwoJCQkkYysrOwoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoJGMgPT0gMTAwMCkgcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHJlcyA9IGRpcm5hbWUoJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10uJ3h4eCcpOwoKCQlmb3IgKCRpPTE7ICRpPD0kYzsgJGkrKykgewoJCQkkcmVzID0gZGlybmFtZSgkcmVzKTsKCQl9CgoJCSRyZXMg'));
	@fwrite($fp, base64_decode('Lj0gJy8nOwoKCQlyZXR1cm4gJHJlczsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHNlc0hhbmRsZXIoKSB7CgkJcmV0dXJuIG5ldyBPSURwbHVzU2Vzc2lvbkhhbmRsZXIoT0lEUExVU19TRVNTSU9OX1NFQ1JFVCk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiByZWdpc3RlclBhZ2VQbHVnaW4oT0lEcGx1c1BhZ2VQbHVnaW4gJHBsdWdpbikgewoJCSR0eXBlID0gJHBsdWdpbi0+dHlwZSgpOwoJCWlmICgkdHlwZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCgkJJHByaW8gPSAkcGx1Z2luLT5wcmlvcml0eSgpOwoJ'));
	@fwrite($fp, base64_decode('CWlmICgkcHJpbyA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCgkJaWYgKCFpc3NldChzZWxmOjokcGFnZVBsdWdpbnNbJHR5cGVdKSkgc2VsZjo6JHBhZ2VQbHVnaW5zWyR0eXBlXSA9IGFycmF5KCk7CgkJc2VsZjo6JHBhZ2VQbHVnaW5zWyR0eXBlXVskcHJpb10g'));
	@fwrite($fp, base64_decode('PSAkcGx1Z2luOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFBhZ2VQbHVnaW5zKCR0eXBlKSB7CgkJaWYgKCR0eXBlID09ICcqJykgewoJCQkkcmVzID0gYXJyYXkoKTsKCQkJZm9yZWFjaCAoc2VsZjo6JHBhZ2VQbHVnaW5z'));
	@fwrite($fp, base64_decode('IGFzICRkYXRhKSB7CgkJCQkkcmVzID0gYXJyYXlfbWVyZ2UoJHJlcywgJGRhdGEpOwoJCQl9CgkJfSBlbHNlIHsKCQkJJHJlcyA9IHNlbGY6OiRwYWdlUGx1Z2luc1skdHlwZV07CgkJfQoJCWtzb3J0KCRyZXMpOwoJCXJldHVybiAkcmVzOwoJfQoKCXB1YmxpYyBz'));
	@fwrite($fp, base64_decode('dGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXJPYmplY3RUeXBlKCRvdCkgewoJCSRucyA9ICRvdDo6bnMoKTsKCgkJaWYgKGVtcHR5KCRucykpIGRpZSgiQXR0ZW50aW9uOiBFbXB0eSBOUyBhdCAkb3RcbiIpOwoKCQkkbnNfZm91bmQgPSBmYWxzZTsKCQlmb3JlYWNoIChP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpnZXRSZWdpc3RlcmVkT2JqZWN0VHlwZXMoKSBhcyAkdGVzdF9vdCkgewoJCQlpZiAoJHRlc3Rfb3Q6Om5zKCkgPT0gJG5zKSB7CgkJCQkkbnNfZm91bmQgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgkJaWYgKCRuc19mb3VuZCkgewoJCQl0aHJv'));
	@fwrite($fp, base64_decode('dyBuZXcgRXhjZXB0aW9uKCJBdHRlbnRpb246IFR3byBvYmplY3RUeXBlIHBsdWdpbnMgdXNlIHRoZSBzYW1lIG5hbWVzcGFjZSBcIiRuc1wiISIpOwoJCX0KCgkJJGluaXQgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoIm9iamVjdHR5cGVzX2luaXRpYWxp'));
	@fwrite($fp, base64_decode('emVkIik7CgkJJGluaXRfYXJ5ID0gZW1wdHkoJGluaXQpID8gYXJyYXkoKSA6IGV4cGxvZGUoJzsnLCAkaW5pdCk7CgkJJGluaXRfYXJ5ID0gYXJyYXlfbWFwKCd0cmltJywgJGluaXRfYXJ5KTsKCgkJJGVuYWJsZWQgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFs'));
	@fwrite($fp, base64_decode('dWUoIm9iamVjdHR5cGVzX2VuYWJsZWQiKTsKCQkkZW5hYmxlZF9hcnkgPSBlbXB0eSgkZW5hYmxlZCkgPyBhcnJheSgpIDogZXhwbG9kZSgnOycsICRlbmFibGVkKTsKCQkkZW5hYmxlZF9hcnkgPSBhcnJheV9tYXAoJ3RyaW0nLCAkZW5hYmxlZF9hcnkpOwoKCQkk'));
	@fwrite($fp, base64_decode('ZG9fZW5hYmxlID0gZmFsc2U7CgkJaWYgKGluX2FycmF5KCRucywgJGVuYWJsZWRfYXJ5KSkgewoJCQkkZG9fZW5hYmxlID0gdHJ1ZTsKCQl9IGVsc2UgewoJCQlpZiAoIU9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgncmVnaXN0cmF0aW9uX2RvbmUnKSkgewoJ'));
	@fwrite($fp, base64_decode('CQkJJGRvX2VuYWJsZSA9ICRucyA9PSAnb2lkJzsKCQkJfSBlbHNlIHsKCQkJCSRkb19lbmFibGUgPSAhaW5fYXJyYXkoJG5zLCAkaW5pdF9hcnkpOwoJCQl9CgkJfQoKCQlpZiAoJGRvX2VuYWJsZSkgewoJCQlzZWxmOjokb2JqZWN0VHlwZXNbXSA9ICRvdDsKCQkJ'));
	@fwrite($fp, base64_decode('dXNvcnQoc2VsZjo6JG9iamVjdFR5cGVzLCBmdW5jdGlvbigkYSwgJGIpIHsKCQkJCSRlbmFibGVkID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCJvYmplY3R0eXBlc19lbmFibGVkIik7CgkJCQkkZW5hYmxlZF9hcnkgPSBleHBsb2RlKCc7JywgJGVuYWJs'));
	@fwrite($fp, base64_decode('ZWQpOwoKCQkJCSRpZHhfYSA9IGFycmF5X3NlYXJjaCgkYTo6bnMoKSwgJGVuYWJsZWRfYXJ5KTsKCQkJCSRpZHhfYiA9IGFycmF5X3NlYXJjaCgkYjo6bnMoKSwgJGVuYWJsZWRfYXJ5KTsKCgkJCSAgICAgICAgaWYgKCRpZHhfYSA9PSAkaWR4X2IpIHsKCQkJICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgcmV0dXJuIDA7CgkJCSAgICAgICAgfQoJCQkgICAgICAgIHJldHVybiAoJGlkeF9hID4gJGlkeF9iKSA/ICsxIDogLTE7CgkJCX0pOwoJCX0gZWxzZSB7CgkJCXNlbGY6OiRkaXNhYmxlZE9iamVjdFR5cGVzW10gPSAkb3Q7CgkJfQoKCQlpZiAoIWlu'));
	@fwrite($fp, base64_decode('X2FycmF5KCRucywgJGluaXRfYXJ5KSkgewoJCQkvLyBXYXMgbmV2ZXIgaW5pdGlhbGl6ZWQgYmVmb3JlLCBzbyB3ZSBhZGQgaXQgdG8gdGhlIGxpc3Qgb2YgZW5hYmxlZCBvYmplY3QgdHlwZXMgb25jZQoKCQkJaWYgKCRkb19lbmFibGUpIHsKCQkJCSRlbmFibGVk'));
	@fwrite($fp, base64_decode('X2FyeVtdID0gJG5zOwoJCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCJvYmplY3R0eXBlc19lbmFibGVkIiwgaW1wbG9kZSgnOycsICRlbmFibGVkX2FyeSkpOwoJCQl9CgoJCQkkaW5pdF9hcnlbXSA9ICRuczsKCQkJT0lEcGx1czo6Y29uZmlnKCktPnNl'));
	@fwrite($fp, base64_decode('dFZhbHVlKCJvYmplY3R0eXBlc19pbml0aWFsaXplZCIsIGltcGxvZGUoJzsnLCAkaW5pdF9hcnkpKTsKCQl9Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRSZWdpc3RlcmVkT2JqZWN0VHlwZXMoKSB7CgkJcmV0dXJuIHNlbGY6OiRvYmplY3RUeXBlczsK'));
	@fwrite($fp, base64_decode('CX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldERpc2FibGVkT2JqZWN0VHlwZXMoKSB7CgkJcmV0dXJuIHNlbGY6OiRkaXNhYmxlZE9iamVjdFR5cGVzOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc3lzdGVtX2lkKCRvaWQ9ZmFsc2UpIHsKCQlpZiAo'));
	@fwrite($fp, base64_decode('IXNlbGY6OnBraVN0YXR1cyh0cnVlKSkgcmV0dXJuIGZhbHNlOwoJCSRwdWJLZXkgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScpOwoJCWlmIChwcmVnX21hdGNoKCdAQkVHSU4gUFVCTElDIEtFWVwtKyguKylcLStFTkQg'));
	@fwrite($fp, base64_decode('UFVCTElDIEtFWUBpc21VJywgJHB1YktleSwgJG0pKSB7CgkJCXJldHVybiAoJG9pZCA/ICcxLjMuNi4xLjQuMS4zNzQ3Ni4zMC45LicgOiAnJykuc21hbGxoYXNoKGJhc2U2NF9kZWNvZGUoJG1bMV0pKTsKCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCXB1YmxpYyBz'));
	@fwrite($fp, base64_decode('dGF0aWMgZnVuY3Rpb24gcGtpU3RhdHVzKCR0cnlfZ2VuZXJhdGU9dHJ1ZSkgewoJCWlmICghZnVuY3Rpb25fZXhpc3RzKCdvcGVuc3NsX3BrZXlfbmV3JykpIHJldHVybiBmYWxzZTsKCgkJJHByaXZLZXkgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29p'));
	@fwrite($fp, base64_decode('ZHBsdXNfcHJpdmF0ZV9rZXknKTsKCQkkcHViS2V5ID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdvaWRwbHVzX3B1YmxpY19rZXknKTsKCgkJaWYgKCR0cnlfZ2VuZXJhdGUgJiYgIXZlcmlmeV9wcml2YXRlX3B1YmxpY19rZXkoJHByaXZLZXksICRwdWJL'));
	@fwrite($fp, base64_decode('ZXkpKSB7CgkJCSRjb25maWcgPSBhcnJheSgKCQkJICAgICJkaWdlc3RfYWxnIiA9PiAic2hhNTEyIiwKCQkJICAgICJwcml2YXRlX2tleV9iaXRzIiA9PiAyMDQ4LAoJCQkgICAgInByaXZhdGVfa2V5X3R5cGUiID0+IE9QRU5TU0xfS0VZVFlQRV9SU0EsCgkJCSk7'));
	@fwrite($fp, base64_decode('CgoJCQkvLyBDcmVhdGUgdGhlIHByaXZhdGUgYW5kIHB1YmxpYyBrZXkKCQkJJHJlcyA9IG9wZW5zc2xfcGtleV9uZXcoJGNvbmZpZyk7CgoJCQkvLyBFeHRyYWN0IHRoZSBwcml2YXRlIGtleSBmcm9tICRyZXMgdG8gJHByaXZLZXkKCQkJb3BlbnNzbF9wa2V5X2V4'));
	@fwrite($fp, base64_decode('cG9ydCgkcmVzLCAkcHJpdktleSk7CgoJCQlPSURwbHVzOjpjb25maWcoKS0+c2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknLCAkcHJpdktleSk7CgoJCQkvLyBFeHRyYWN0IHRoZSBwdWJsaWMga2V5IGZyb20gJHJlcyB0byAkcHViS2V5CgkJCSRwdWJLZXkg'));
	@fwrite($fp, base64_decode('PSBvcGVuc3NsX3BrZXlfZ2V0X2RldGFpbHMoJHJlcyk7CgkJCSRwdWJLZXkgPSAkcHViS2V5WyJrZXkiXTsKCgkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgnb2lkcGx1c19wdWJsaWNfa2V5JywgJHB1YktleSk7CgkJfQoKCQlyZXR1cm4gdmVyaWZ5X3By'));
	@fwrite($fp, base64_decode('aXZhdGVfcHVibGljX2tleSgkcHJpdktleSwgJHB1YktleSk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBpbml0KCRodG1sPXRydWUpIHsKCQlkZWZpbmUoJ09JRFBMVVNfSFRNTF9PVVRQVVQnLCAkaHRtbCk7CgoJCS8vIEluY2x1ZGUgY29uZmlnIGZpbGUK'));
	@fwrite($fp, base64_decode('CgkJaWYgKGZpbGVfZXhpc3RzKF9fRElSX18gLiAnLy4uL2NvbmZpZy5pbmMucGhwJykpIHsKCQkJaW5jbHVkZV9vbmNlIF9fRElSX18gLiAnLy4uL2NvbmZpZy5pbmMucGhwJzsKCQl9IGVsc2UgewoJCQlpZiAoJGh0bWwpIHsKCQkJCWlmICghaXNfZGlyKCdzZXR1'));
	@fwrite($fp, base64_decode('cCcpKSB7CgkJCQkJZWNobyAnRXJyb3I6IFNldHVwIGRpcmVjdG9yeSBtaXNzaW5nLic7CgkJCQl9IGVsc2UgewoJCQkJCWhlYWRlcignTG9jYXRpb246c2V0dXAvJyk7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQllY2hvICdFcnJvcjogU2V0dXAgZGlyZWN0b3J5IG1p'));
	@fwrite($fp, base64_decode('c3NpbmchJzsKCQkJfQoJCQlkaWUoKTsKCQl9CgoJCS8vIEF1dG8tZmlsbCBub24tZXhpc3RpbmcgY29uZmlnIHZhbHVlcwoKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfQ09ORklHX1ZFUlNJT04nKSkgICBkZWZpbmUoJ09JRFBMVVNfQ09ORklHX1ZFUlNJT04nLCAg'));
	@fwrite($fp, base64_decode('IDAuMCk7CgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX0FETUlOX1BBU1NXT1JEJykpICAgZGVmaW5lKCdPSURQTFVTX0FETUlOX1BBU1NXT1JEJywgICAnJyk7CgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX01ZU1FMX0hPU1QnKSkgICAgICAgZGVmaW5lKCdPSURQTFVT'));
	@fwrite($fp, base64_decode('X01ZU1FMX0hPU1QnLCAgICAgICAnbG9jYWxob3N0Jyk7CgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX01ZU1FMX1VTRVJOQU1FJykpICAgZGVmaW5lKCdPSURQTFVTX01ZU1FMX1VTRVJOQU1FJywgICAncm9vdCcpOwoJCWlmICghZGVmaW5lZCgnT0lEUExVU19NWVNR'));
	@fwrite($fp, base64_decode('TF9QQVNTV09SRCcpKSAgIGRlZmluZSgnT0lEUExVU19NWVNRTF9QQVNTV09SRCcsICAgJycpOwoJCWlmICghZGVmaW5lZCgnT0lEUExVU19NWVNRTF9EQVRBQkFTRScpKSAgIGRlZmluZSgnT0lEUExVU19NWVNRTF9EQVRBQkFTRScsICAgJ29pZHBsdXMnKTsKCQlp'));
	@fwrite($fp, base64_decode('ZiAoIWRlZmluZWQoJ09JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWCcpKSBkZWZpbmUoJ09JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWCcsICcnKTsKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfU0VTU0lPTl9TRUNSRVQnKSkgICBkZWZpbmUoJ09JRFBMVVNfU0VTU0lPTl9T'));
	@fwrite($fp, base64_decode('RUNSRVQnLCAgICcnKTsKCQlpZiAoIWRlZmluZWQoJ1JFQ0FQVENIQV9FTkFCTEVEJykpICAgICAgICBkZWZpbmUoJ1JFQ0FQVENIQV9FTkFCTEVEJywgICAgICAgIGZhbHNlKTsKCQlpZiAoIWRlZmluZWQoJ1JFQ0FQVENIQV9QVUJMSUMnKSkgICAgICAgICBkZWZp'));
	@fwrite($fp, base64_decode('bmUoJ1JFQ0FQVENIQV9QVUJMSUMnLCAgICAgICAgICcnKTsKCQlpZiAoIWRlZmluZWQoJ1JFQ0FQVENIQV9QUklWQVRFJykpICAgICAgICBkZWZpbmUoJ1JFQ0FQVENIQV9QUklWQVRFJywgICAgICAgICcnKTsKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfRU5GT1JD'));
	@fwrite($fp, base64_decode('RV9TU0wnKSkgICAgICBkZWZpbmUoJ09JRFBMVVNfRU5GT1JDRV9TU0wnLCAgICAgIDIpOwkJCgoJCS8vIENoZWNrIHZlcnNpb24gb2YgdGhlIGNvbmZpZyBmaWxlCgoJCWlmIChPSURQTFVTX0NPTkZJR19WRVJTSU9OICE9IDIuMCkgewoJCQlpZiAoJGh0bWwpIHsK'));
	@fwrite($fp, base64_decode('CQkJCWVjaG8gJzxoMT5FcnJvcjwvaDE+PHA+VGhlIGluZm9ybWF0aW9uIGxvY2F0ZWQgaW4gPGI+aW5jbHVkZXMvY29uZmlnLmluYy5waHA8L2I+IGlzIG91dGRhdGVkLjwvcD48cD5QbGVhc2UgcnVuIDxhIGhyZWY9InNldHVwLyI+c2V0dXA8L2E+IGFnYWluLjwv'));
	@fwrite($fp, base64_decode('cD4nOwoJCQl9IGVsc2UgewoJCQkJZWNobyAnVGhlIGluZm9ybWF0aW9uIGxvY2F0ZWQgaW4gaW5jbHVkZXMvY29uZmlnLmluYy5waHAgaXMgb3V0ZGF0ZWQuIFBsZWFzZSBydW4gc2V0dXAgYWdhaW4uJzsKCQkJfQoJCQlkaWUoKTsKCQl9CgoJCS8vIERvIHJlZGly'));
	@fwrite($fp, base64_decode('ZWN0IHN0dWZmIGV0Yy4KCgkJZGVmaW5lKCdPSURQTFVTX1NTTF9BVkFJTEFCTEUnLCBzZWxmOjppc1NzbEF2YWlsYWJsZSgpKTsKCgkJLy8gU3lzdGVtIGNvbmZpZyBzZXR0aW5ncwoKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgnb2JqZWN0'));
	@fwrite($fp, base64_decode('dHlwZXNfaW5pdGlhbGl6ZWQnLCAnTGlzdCBvZiBvYmplY3QgdHlwZSBwbHVnaW5zIHRoYXQgd2VyZSBpbml0aWFsaXplZCBvbmNlJywgJycsIDEsIDEpOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5wcmVwYXJlQ29uZmlnS2V5KCdvYmplY3R0eXBlc19lbmFibGVkJywg'));
	@fwrite($fp, base64_decode('J0VuYWJsZWQgb2JqZWN0IHR5cGVzIGFuZCB0aGVpciBvcmRlciwgc2VwYXJhdGVkIHdpdGggYSBzZW1pY29sb24gKHBsZWFzZSByZWxvYWQgdGhlIHBhZ2Ugc28gdGhhdCB0aGUgY2hhbmdlIGlzIGFwcGxpZWQpJywgJycsIDAsIDEpOwoKCQlPSURwbHVzOjpjb25m'));
	@fwrite($fp, base64_decode('aWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgnb2lkcGx1c19wcml2YXRlX2tleScsICdQcml2YXRlIGtleSBmb3IgdGhpcyBzeXN0ZW0nLCAnJywgMSwgMCk7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ29pZHBsdXNfcHVibGljX2tleScsICdQ'));
	@fwrite($fp, base64_decode('dWJsaWMga2V5IGZvciB0aGlzIHN5c3RlbS4gSWYgeW91ICJjbG9uZSIgeW91ciBzeXN0ZW0sIHlvdSBtdXN0IGRlbGV0ZSB0aGlzIGtleSAoZS5nLiB1c2luZyBwaHBNeUFkbWluKSwgc28gdGhhdCBhIG5ldyBvbmUgaXMgY3JlYXRlZC4nLCAnJywgMSwgMSk7CgoJ'));
	@fwrite($fp, base64_decode('CS8vIEluaXRpYWxpemUgcHVibGljIC8gcHJpdmF0ZSBrZXlzCgoJCU9JRHBsdXM6OnBraVN0YXR1cyh0cnVlKTsKCgkJLy8gUmVnaXN0ZXIgcGx1Z2lucwoKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL3N5c3RlbS8nLicqJy4nL3BsdWdp'));
	@fwrite($fp, base64_decode('bi5pbmMucGhwJyk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkYSkgaW5jbHVkZSAkYTsKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL3B1YmxpY1BhZ2VzLycuJyonLicvcGx1Z2luLmluYy5waHAnKTsKCQlmb3JlYWNoICgkYXJ5IGFzICRhKSBp'));
	@fwrite($fp, base64_decode('bmNsdWRlICRhOwoJCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnLy4uLy4uL3BsdWdpbnMvcmFQYWdlcy8nLicqJy4nL3BsdWdpbi5pbmMucGhwJyk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkYSkgaW5jbHVkZSAkYTsKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8u'));
	@fwrite($fp, base64_decode('Li9wbHVnaW5zL2FkbWluUGFnZXMvJy4nKicuJy9wbHVnaW4uaW5jLnBocCcpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7CgkJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvLi4vLi4vcGx1Z2lucy9vYmplY3RUeXBlcy8nLicqJy4nLyouY2xhc3Mu'));
	@fwrite($fp, base64_decode('cGhwJyk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkYSkgaW5jbHVkZSAkYTsKCgkJLy8gSW5pdGlhbGl6ZSBwbHVnaW5zCgoJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCcqJykgYXMgJHBsdWdpbikgewoJCQkkcGx1Z2luLT5pbml0KCRodG1sKTsKCQl9'));
	@fwrite($fp, base64_decode('Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gaXNTc2xBdmFpbGFibGUoKSB7CgkJJHRpbWVvdXQgPSAyOwoJCSRhbHJlYWR5X3NzbCA9IGlzc2V0KCRfU0VSVkVSWydIVFRQUyddKSAmJiAoJF9TRVJWRVJbJ0hUVFBTJ10gPT0gIm9uIik7CgkJJHNzbF9wb3J0'));
	@fwrite($fp, base64_decode('ID0gNDQzOwoKCQlpZiAocGhwX3NhcGlfbmFtZSgpID09ICdjbGknKSByZXR1cm4gZmFsc2U7CgoJCWlmIChPSURQTFVTX0VORk9SQ0VfU1NMID09IDApIHsKCQkJLy8gTm8gU1NMIGF2YWlsYWJsZQoJCQlyZXR1cm4gJGFscmVhZHlfc3NsOwoJCX0KCgkJaWYgKE9J'));
	@fwrite($fp, base64_decode('RFBMVVNfRU5GT1JDRV9TU0wgPT0gMSkgewoJCQkvLyBGb3JjZSBTU0wKCQkJaWYgKCRhbHJlYWR5X3NzbCkgewoJCQkJcmV0dXJuIHRydWU7CgkJCX0gZWxzZSB7CgkJCQkkbG9jYXRpb24gPSAnaHR0cHM6Ly8nIC4gJF9TRVJWRVJbJ0hUVFBfSE9TVCddIC4gJF9T'));
	@fwrite($fp, base64_decode('RVJWRVJbJ1JFUVVFU1RfVVJJJ107CgkJCQloZWFkZXIoJ0xvY2F0aW9uOicuJGxvY2F0aW9uKTsKCQkJCWRpZSgnUmVkaXJlY3QgdG8gSFRUUFMnKTsgCgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCgkJaWYgKE9JRFBMVVNfRU5GT1JDRV9TU0wgPT0gMikgewoJ'));
	@fwrite($fp, base64_decode('CQkvLyBBdXRvbWF0aWMgU1NMIGRldGVjdGlvbgoKCQkJaWYgKCRhbHJlYWR5X3NzbCkgewoJCQkJLy8gd2UgYXJlIGFscmVhZHkgb24gSFRUUFMKCQkJCXNldGNvb2tpZSgnU1NMX0NIRUNLJywgJzEnLCAwLCAnJywgJycsIGZhbHNlLCB0cnVlKTsKCQkJCXJldHVy'));
	@fwrite($fp, base64_decode('biB0cnVlOwoJCQl9IGVsc2UgewoJCQkJaWYgKGlzc2V0KCRfQ09PS0lFWydTU0xfQ0hFQ0snXSkpIHsKCQkJCQkvLyBXZSBhbHJlYWR5IGhhZCB0aGUgSFRUUFMgZGV0ZWN0aW9uIGRvbmUgYmVmb3JlLgoJCQkJCWlmICgkX0NPT0tJRVsnU1NMX0NIRUNLJ10pIHsK'));
	@fwrite($fp, base64_decode('CQkJCQkJLy8gSFRUUFMgd2FzIGRldGVjdGVkIGJlZm9yZSwgYnV0IHdlIGFyZSBIVFRQLiBSZWRpcmVjdCBub3cKCQkJCQkJJGxvY2F0aW9uID0gJ2h0dHBzOi8vJyAuICRfU0VSVkVSWydIVFRQX0hPU1QnXSAuICRfU0VSVkVSWydSRVFVRVNUX1VSSSddOwoJCQkJ'));
	@fwrite($fp, base64_decode('CQloZWFkZXIoJ0xvY2F0aW9uOicuJGxvY2F0aW9uKTsKCQkJCQkJZGllKCdSZWRpcmVjdCB0byBIVFRQUycpOwoJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvLyBObyBIVFRQUyBhdmFpbGFibGUuIERvIG5vdGhpbmcuCgkJCQkJCXJldHVy'));
	@fwrite($fp, base64_decode('biBmYWxzZTsKCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCS8vIFRoaXMgaXMgb3VyIGZpcnN0IGNoZWNrIChvciB0aGUgYnJvd3NlciBkaWRuJ3QgYWNjZXB0IHRoZSBTU0xfQ0hFQ0sgY29va2llKQoJCQkJCWlmIChAZnNvY2tvcGVuKCRfU0VSVkVSWydIVFRQX0hP'));
	@fwrite($fp, base64_decode('U1QnXSwgJHNzbF9wb3J0LCAkZXJybm8sICRlcnJzdHIsICR0aW1lb3V0KSkgewoJCQkJCQkvLyBIVFRQUyBkZXRlY3RlZC4gUmVkaXJlY3Qgbm93LCBhbmQgcmVtZW1iZXIgdGhhdCB3ZSBoYWQgZGV0ZWN0ZWQgSFRUUFMKCQkJCQkJc2V0Y29va2llKCdTU0xfQ0hF'));
	@fwrite($fp, base64_decode('Q0snLCAnMScsIDAsICcnLCAnJywgZmFsc2UsIHRydWUpOwoJCQkJCQkkbG9jYXRpb24gPSAnaHR0cHM6Ly8nIC4gJF9TRVJWRVJbJ0hUVFBfSE9TVCddIC4gJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ107CgkJCQkJCWhlYWRlcignTG9jYXRpb246Jy4kbG9jYXRpb24p'));
	@fwrite($fp, base64_decode('OwoJCQkJCQlkaWUoJ1JlZGlyZWN0IHRvIEhUVFBTJyk7IAoJCQkJCQlyZXR1cm4gdHJ1ZTsKCQkJCQl9IGVsc2UgewoJCQkJCQkvLyBObyBIVFRQUyBkZXRlY3RlZC4gRG8gbm90aGluZywgYW5kIG5leHQgdGltZSwgZG9uJ3QgdHJ5IHRvIGRldGVjdCBIVFRQUyBh'));
	@fwrite($fp, base64_decode('Z2Fpbi4KCQkJCQkJc2V0Y29va2llKCdTU0xfQ0hFQ0snLCAnMCcsIDAsICcnLCAnJywgZmFsc2UsIHRydWUpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfQoJCQl9CgkJfQoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplus.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplus.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplus.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplus.class.php');
	} else if (sha1_file('includes/classes/OIDplus.class.php') != '51d626dfad0a7829f5e3bdc3b74bbd50bb24996e') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplus.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplus.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplus.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplus.class.php') !== '51d626dfad0a7829f5e3bdc3b74bbd50bb24996e') {
		if (@sha1_file('includes/classes/OIDplus.class.php') !== '027e6ec377c06277c09e4eb16d5d0e1c8890ec1f') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplus.class.php');
			$tmp = pathinfo('includes/classes/OIDplus.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplus.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplus.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplus.class.php') !== '51d626dfad0a7829f5e3bdc3b74bbd50bb24996e') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplus.class.php');
		}
	}
}

// Files different: includes/classes/OIDplusConfig.class.php
function writefile_3() {
	@$fp = fopen('includes/classes/OIDplusConfig.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNDb25maWcgewoKCXByb3RlY3RlZCAkdmFsdWVzID0gYXJyYXkoKTsKCXByb3RlY3RlZCAkZGlydHkgPSAxOwoKCXB1YmxpYyBmdW5jdGlvbiBwcmVwYXJlQ29uZmlnS2V5KCRu'));
	@fwrite($fp, base64_decode('YW1lLCAkZGVzY3JpcHRpb24sICRpbml0X3ZhbHVlLCAkcHJvdGVjdGVkLCAkdmlzaWJsZSkgewoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFs'));
	@fwrite($fp, base64_decode('dWUsIHByb3RlY3RlZCwgdmlzaWJsZSkgdmFsdWVzICgnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG5hbWUpLiInLCAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJGRlc2NyaXB0aW9uKS4iJywgJyIuT0lEcGx1czo6ZGIo'));
	@fwrite($fp, base64_decode('KS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRpbml0X3ZhbHVlKS4iJywgIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHByb3RlY3RlZCkuIiwgIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHZpc2libGUpLiIpIik7CgkJJHRoaXMt'));
	@fwrite($fp, base64_decode('PmRpcnR5ID0gMTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoKSB7CgkJJHRoaXMtPnByZXBhcmVDb25maWdLZXkoJ3N5c3RlbV90aXRsZScsICdXaGF0IGlzIHRoZSBuYW1lIG9mIHlvdXIgUkE/JywgJ09JRHBsdXMgMi4wJywgMCwgMSk7CgkJJHRo'));
	@fwrite($fp, base64_decode('aXMtPnByZXBhcmVDb25maWdLZXkoJ2FkbWluX2VtYWlsJywgJ0UtTWFpbCBhZGRyZXNzIG9mIHRoZSBzeXN0ZW0gYWRtaW5pc3RyYXRvcicsICcnLCAwLCAxKTsKCQkkdGhpcy0+cHJlcGFyZUNvbmZpZ0tleSgnZ2xvYmFsX2NjJywgJ0dsb2JhbCBDQyBmb3IgYWxs'));
	@fwrite($fp, base64_decode('IG91dGdvaW5nIGVtYWlscz8nLCAnJywgMCwgMSk7CgkJJHRoaXMtPnByZXBhcmVDb25maWdLZXkoJ3JhX21pbl9wYXNzd29yZF9sZW5ndGgnLCAnTWluaW11bSBsZW5ndGggZm9yIFJBIHBhc3N3b3JkcycsICc2JywgMCwgMSk7CgkJJHRoaXMtPnByZXBhcmVDb25m'));
	@fwrite($fp, base64_decode('aWdLZXkoJ21heF9yYV9pbnZpdGVfdGltZScsICdNYXggUkEgaW52aXRlIHRpbWUgaW4gc2Vjb25kcyAoMCA9IGluZmluaXRlKScsICcwJywgMCwgMSk7CgkJJHRoaXMtPnByZXBhcmVDb25maWdLZXkoJ21heF9yYV9wd2RfcmVzZXRfdGltZScsICdNYXggUkEgcGFz'));
	@fwrite($fp, base64_decode('c3dvcmQgcmVzZXQgdGltZSBpbiBzZWNvbmRzICgwID0gaW5maW5pdGUpJywgJzAnLCAwLCAxKTsKCQkkdGhpcy0+cHJlcGFyZUNvbmZpZ0tleSgnd2hvaXNfYXV0aF90b2tlbicsICdPSUQtb3Zlci1XSE9JUyBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBkaXNwbGF5'));
	@fwrite($fp, base64_decode('IGNvbmZpZGVudGlhbCBkYXRhJywgJycsIDAsIDEpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBzeXN0ZW1UaXRsZSgpIHsKCQlyZXR1cm4gdHJpbSgkdGhpcy0+Z2V0VmFsdWUoJ3N5c3RlbV90aXRsZScpKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2xvYmFsQ0MoKSB7'));
	@fwrite($fp, base64_decode('CgkJcmV0dXJuIHRyaW0oZ2V0VmFsdWUoJ2dsb2JhbF9jYycpKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbWluUmFQYXNzd29yZExlbmd0aCgpIHsKCQlyZXR1cm4gJHRoaXMtPmdldFZhbHVlKCdyYV9taW5fcGFzc3dvcmRfbGVuZ3RoJyk7Cgl9CgoJLyogaGFyZGNv'));
	@fwrite($fp, base64_decode('ZGVkIGluIHNldHVwLywgYmVjYXVzZSBkdXJpbmcgaW5zdGFsbGF0aW9uLCB3ZSBkb24ndCBoYXZlIGEgc2V0dGluZ3MgZGF0YWJhc2UKCXB1YmxpYyBmdW5jdGlvbiBtaW5BZG1pblBhc3N3b3JkTGVuZ3RoKCkgewoJCXJldHVybiAxMDsKCX0KCSovCgoJcHVibGlj'));
	@fwrite($fp, base64_decode('IGZ1bmN0aW9uIG1heEludml0ZVRpbWUoKSB7CgkJcmV0dXJuIGdldFZhbHVlKCdtYXhfcmFfaW52aXRlX3RpbWUnKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbWF4UGFzc3dvcmRSZXNldFRpbWUoKSB7CgkJcmV0dXJuIGdldFZhbHVlKCdtYXhfcmFfcHdkX3Jlc2V0'));
	@fwrite($fp, base64_decode('X3RpbWUnKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYXV0aFRva2VuKCkgewoJCSR2YWwgPSB0cmltKCR0aGlzLT5nZXRWYWx1ZSgnd2hvaXNfYXV0aF90b2tlbicpKTsKCQlyZXR1cm4gZW1wdHkoJHZhbCkgPyBmYWxzZSA6ICR2YWw7Cgl9CgoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGdldFZhbHVlKCRuYW1lKSB7CgkJaWYgKCR0aGlzLT5kaXJ0eSkgewoJCQkkdGhpcy0+dmFsdWVzID0gYXJyYXkoKTsKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25m'));
	@fwrite($fp, base64_decode('aWciKTsKCQkJd2hpbGUgKCRyb3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlcykpIHsKCQkJCSR0aGlzLT52YWx1ZXNbJHJvdy0+bmFtZV0gPSAkcm93LT52YWx1ZTsKCQkJfQoJCQkkdGhpcy0+ZGlydHkgPSAwOwoJCX0KCgkJaWYgKGlzc2V0KCR0'));
	@fwrite($fp, base64_decode('aGlzLT52YWx1ZXNbJG5hbWVdKSkgewoJCQlyZXR1cm4gJHRoaXMtPnZhbHVlc1skbmFtZV07CgkJfSBlbHNlIHsKCQkJcmV0dXJuIG51bGw7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBleGlzdHMoJG5hbWUpIHsKCQlyZXR1cm4gIWlzX251bGwoJHRoaXMtPmdl'));
	@fwrite($fp, base64_decode('dFZhbHVlKCRuYW1lKSk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNldFZhbHVlKCRuYW1lLCAkdmFsdWUpIHsKCQkvLyBDaGVjayBmb3IgdmFsaWQgdmFsdWVzCgoJCWlmICgkbmFtZSA9PSAnc3lzdGVtX3RpdGxlJykgewoJCQlpZiAoZW1wdHkoJHZhbHVlKSkgewoJ'));
	@fwrite($fp, base64_decode('CQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiUGxlYXNlIGVudGVyIGEgdmFsdWUgZm9yIHRoZSBzeXN0ZW0gdGl0bGUuIik7CgoJCQl9CgkJfQoJCWlmICgoJG5hbWUgPT0gJ2dsb2JhbF9jYycpIHx8ICgkbmFtZSA9PSAnYWRtaW5fZW1haWwnKSkgewoJCQlpZiAoIWVt'));
	@fwrite($fp, base64_decode('cHR5KCR2YWx1ZSkgJiYgIW9pZGRiX3ZhbGlkX2VtYWlsKCR2YWx1ZSkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlRoaXMgaXMgbm90IGEgY29ycmVjdCBlbWFpbCBhZGRyZXNzIik7CgkJCX0KCQl9CgkJaWYgKCRuYW1lID09ICdyYV9taW5fcGFzc3dvcmRf'));
	@fwrite($fp, base64_decode('bGVuZ3RoJykgewoJCQlpZiAoIWlzX251bWVyaWMoJHZhbHVlKSB8fCAoJHZhbHVlIDwgMSkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlBsZWFzZSBlbnRlciBhIHZhbGlkIHBhc3N3b3JkIGxlbmd0aC4iKTsKCQkJfQoJCX0KCQlpZiAoKCRuYW1lID09ICdt'));
	@fwrite($fp, base64_decode('YXhfcmFfaW52aXRlX3RpbWUnKSB8fCAoJG5hbWUgPT0gJ21heF9yYV9wd2RfcmVzZXRfdGltZScpKSB7CgkJCWlmICghaXNfbnVtZXJpYygkdmFsdWUpIHx8ICgkdmFsdWUgPCAwKSkgewoJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiUGxlYXNlIGVudGVyIGEgdmFs'));
	@fwrite($fp, base64_decode('aWQgdmFsdWUuIik7CgkJCX0KCQl9CgkJaWYgKCRuYW1lID09ICd3aG9pc19hdXRoX3Rva2VuJykgewoJCQkkdGVzdF92YWx1ZSA9IHByZWdfcmVwbGFjZSgnQFswLTlhLXpBLVpdKkAnLCAnJywgJHZhbHVlKTsKCQkJaWYgKCR0ZXN0X3ZhbHVlICE9ICcnKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJPbmx5IGNoYXJhY3RlcnMgYW5kIG51bWJlcnMgYXJlIGFsbG93ZWQgYXMgYXV0aGVudGljYXRpb24gdG9rZW4uIik7CgkJCX0KCQl9CgoJCWlmICgkbmFtZSA9PSAnb2JqZWN0dHlwZXNfZW5hYmxlZCcpIHsKCQkJIyBUT0RP'));
	@fwrite($fp, base64_decode('OiB3aGVuIG9iamVjdHR5cGVzX2VuYWJsZWQgaXMgY2hhbmdlZCBhdCB0aGUgYWRtaW4gY29udHJvbCBwYW5lbCwgd2UgbmVlZCB0byBkbyBhIHJlbG9hZCBvZiB0aGUgcGFnZSwgc28gdGhhdCBqc1RyZWUgd2lsbCBiZSB1cGRhdGVkLiBJcyB0aGVyZSBhbnl0aGlu'));
	@fwrite($fp, base64_decode('ZyB3ZSBjYW4gZG8/CgoJCQkkYXJ5ID0gZXhwbG9kZSgnOycsJHZhbHVlKTsKCQkJJHVuaXFfYXJ5ID0gYXJyYXlfdW5pcXVlKCRhcnkpOwoKCQkJaWYgKGNvdW50KCRhcnkpICE9IGNvdW50KCR1bmlxX2FyeSkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlBs'));
	@fwrite($fp, base64_decode('ZWFzZSBjaGVjayB5b3VyIGlucHV0LiBTb21lIG9iamVjdCB0eXBlcyBhcmUgZG91YmxlLiIpOwoJCQl9CgoJCQlmb3JlYWNoICgkYXJ5IGFzICRvdF9jaGVjaykgewoJCQkJJG5zX2ZvdW5kID0gZmFsc2U7CgkJCQlmb3JlYWNoIChPSURwbHVzOjpnZXRSZWdpc3Rl'));
	@fwrite($fp, base64_decode('cmVkT2JqZWN0VHlwZXMoKSBhcyAkb3QpIHsKCQkJCQlpZiAoJG90OjpucygpID09ICRvdF9jaGVjaykgewoJCQkJCQkkbnNfZm91bmQgPSB0cnVlOwoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlmb3JlYWNoIChPSURwbHVzOjpnZXREaXNhYmxlZE9iamVj'));
	@fwrite($fp, base64_decode('dFR5cGVzKCkgYXMgJG90KSB7CgkJCQkJaWYgKCRvdDo6bnMoKSA9PSAkb3RfY2hlY2spIHsKCQkJCQkJJG5zX2ZvdW5kID0gdHJ1ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfQoJCQkJaWYgKCEkbnNfZm91bmQpIHsKCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KCJQbGVhc2UgY2hlY2sgeW91ciBpbnB1dC4gTmFtZXNwYWNlIFwiJG90X2NoZWNrXCIgaXMgbm90IGZvdW5kIik7CgkJCQl9CgkJCX0KCQl9CgoJCS8vIEdpdmUgcGx1Z2lucyB0aGUgcG9zc2liaWxpdHkgdG8gc3RvcCB0aGUgcHJvY2VzcyAoZS5nLiBpZiB0aGUg'));
	@fwrite($fp, base64_decode('dmFsdWUgaXMgaW52YWxpZCkKCgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoJyonKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmNmZ1NldFZhbHVlKCRuYW1lLCAkdmFsdWUpOwoJCX0KCgkJLy8gTm93IGNoYW5nZSB0aGUgdmFsdWUgaW4gdGhl'));
	@fwrite($fp, base64_decode('IGRhdGFiYXNlCgoJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoInVwZGF0ZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIHNldCB2YWx1ZSA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkdmFsdWUpLiInIHdoZXJlIG5h'));
	@fwrite($fp, base64_decode('bWUgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG5hbWUpLiInIikpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbihPSURwbHVzOjpkYigpLT5lcnJvcigpKTsKCQl9CgkJJHRoaXMtPnZhbHVlc1skbmFtZV0gPSAkdmFsdWU7Cgl9Cgp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusConfig.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusConfig.class.php');
	writefile_3();
	if (!is_file('includes/classes/OIDplusConfig.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusConfig.class.php');
	} else if (sha1_file('includes/classes/OIDplusConfig.class.php') != '7a7f6c203ed27310299f9da5f7a2ec709291488d') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusConfig.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusConfig.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusConfig.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '7a7f6c203ed27310299f9da5f7a2ec709291488d') {
		if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '1350d8e0b234bfc8a0a28982ae66dde96a7a1c5a') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusConfig.class.php');
			$tmp = pathinfo('includes/classes/OIDplusConfig.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusConfig.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusConfig.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '7a7f6c203ed27310299f9da5f7a2ec709291488d') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusConfig.class.php');
		}
	}
}

// Files different: plugins/adminPages/110_system_config/plugin.inc.php
function writefile_4() {
	@$fp = fopen('plugins/adminPages/110_system_config/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlQWRtaW5TeXN0ZW1Db25maWcgZXh0ZW5kcyBPSURwbHVzUGFnZVBsdWdpbiB7CglwdWJsaWMgZnVuY3Rpb24gdHlwZSgpIHsKCQlyZXR1cm4gJ2FkbWluJzsKCX0KCglw'));
	@fwrite($fp, base64_decode('dWJsaWMgZnVuY3Rpb24gcHJpb3JpdHkoKSB7CgkJcmV0dXJuIDExMDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYWN0aW9uKCYkaGFuZGxlZCkgewoJCWlmICgkX1BPU1RbImFjdGlvbiJdID09ICJjb25maWdfdXBkYXRlIikgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkJZGllKCdZb3UgbmVlZCB0byBsb2cgaW4gYXMgYWRtaW5pc3RyYXRvci4nKTsKCQkJfQoKCQkJJG5hbWUgPSAkX1BPU1RbJ25hbWUnXTsKCQkJJHZhbHVlID0gJF9QT1NU'));
	@fwrite($fp, base64_decode('Wyd2YWx1ZSddOwoKCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCRuYW1lLCAkdmFsdWUpOwoKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcHJvdGVjdGVkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyB3'));
	@fwrite($fp, base64_decode('aGVyZSBuYW1lID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRuYW1lKS4iJzsiKTsKCQkJJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpOwoJCQlpZiAoJHJvd1sncHJvdGVjdGVkJ10gPT0gMSkgewoJCQkJZGllKCdT'));
	@fwrite($fp, base64_decode('ZXR0aW5nIGlzIHdyaXRlIHByb3RlY3RlZCcpOwoJCQl9CgoJCQllY2hvICJPSyI7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpbml0KCRodG1sPXRydWUpIHsKCQkvLyBOb3RoaW5nCgl9CgoJcHVibGljIGZ1bmN0aW9uIGNmZ1NldFZhbHVlKCRuYW1lLCAkdmFs'));
	@fwrite($fp, base64_decode('dWUpIHsKCQkvLyBOb3RoaW5nCgl9CgoJcHVibGljIGZ1bmN0aW9uIGd1aSgkaWQsICYkb3V0LCAmJGhhbmRsZWQpIHsKCQlpZiAoZXhwbG9kZSgnJCcsJGlkKVswXSA9PSAnb2lkcGx1czplZGl0X2NvbmZpZycpIHsKCQkJJGhhbmRsZWQgPSB0cnVlOwoJCQkkb3V0'));
	@fwrite($fp, base64_decode('Wyd0aXRsZSddID0gJ1N5c3RlbSBjb25maWd1cmF0aW9uJzsKCQkJJG91dFsnaWNvbiddID0gZmlsZV9leGlzdHMoX19ESVJfXy4nL2ljb25fYmlnLnBuZycpID8gJ3BsdWdpbnMvYWRtaW5QYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvaWNvbl9iaWcucG5nJyA6'));
	@fwrite($fp, base64_decode('ICcnOwoKCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNBZG1pbkxvZ2dlZEluKCkpIHsKCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPllvdSBuZWVkIHRvIDxhIGhyZWY9Ij9nb3RvPW9p'));
	@fwrite($fp, base64_decode('ZHBsdXM6bG9naW4iPmxvZyBpbjwvYT4gYXMgYWRtaW5pc3RyYXRvci48L3A+JzsKCQkJfSBlbHNlIHsKCQkJCSRvdXRwdXQgPSAnJzsKCQkJCSRvdXRwdXQgLj0gJzxkaXYgY2xhc3M9ImNvbnRhaW5lciBib3giPjxkaXYgaWQ9InN1Ym9pZF90YWJsZSIgY2xhc3M9'));
	@fwrite($fp, base64_decode('InRhYmxlLXJlc3BvbnNpdmUiPic7CgkJCQkkb3V0cHV0IC49ICc8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLXN0cmlwZWQiPic7CgkJCQkkb3V0cHV0IC49ICcJPHRyPic7CgkJCQkkb3V0cHV0IC49ICcJICAgICA8dGg+U2V0dGluZzwv'));
	@fwrite($fp, base64_decode('dGg+JzsKCQkJCSRvdXRwdXQgLj0gJwkgICAgIDx0aD5EZXNjcmlwdGlvbjwvdGg+JzsKCQkJCSRvdXRwdXQgLj0gJwkgICAgIDx0aD5WYWx1ZTwvdGg+JzsKCQkJCSRvdXRwdXQgLj0gJwkgICAgIDx0aD5VcGRhdGU8L3RoPic7CgkJCQkkb3V0cHV0IC49ICcJPC90'));
	@fwrite($fp, base64_decode('cj4nOwoKCQkJCU9JRHBsdXM6OmNvbmZpZygpOyAvLyA8LS0gbWFrZSBzdXJlIHRoYXQgdGhlIGNvbmZpZyB0YWJsZSBpcyBsb2FkZWQvZmlsbGVkIGNvcnJlY3RseSBiZWZvcmUgd2UgZG8gYSBzZWxlY3QKCgkJCQkkcmVzdWx0ID0gT0lEcGx1czo6ZGIoKS0+cXVl'));
	@fwrite($fp, base64_decode('cnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyB3aGVyZSBgdmlzaWJsZWAgPSAxIG9yZGVyIGJ5IG5hbWUiKTsKCQkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXN1bHQpKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkJJG91dHB1dCAuPSAnPHRyPic7CgkJCQkJJG91dHB1dCAuPSAnICAgICA8dGQ+Jy5odG1sZW50aXRpZXMoJHJvdy0+bmFtZSkuJzwvdGQ+JzsKCQkJCQkkb3V0cHV0IC49ICcgICAgIDx0ZD4nLmh0bWxlbnRpdGllcygkcm93LT5kZXNjcmlwdGlvbikuJzwvdGQ+'));
	@fwrite($fp, base64_decode('JzsKCQkJCQlpZiAoJHJvdy0+cHJvdGVjdGVkID09IDEpIHsKCQkJCQkJJGRlc2MgPSAkcm93LT52YWx1ZTsKCQkJCQkJaWYgKHN0cmxlbigkZGVzYykgPiAxMDApICRkZXNjID0gc3Vic3RyKCRkZXNjLCAwLCAxMDApIC4gJy4uLic7CgkJCQkJCSRvdXRwdXQgLj0g'));
	@fwrite($fp, base64_decode('JyAgICAgPHRkPicuaHRtbGVudGl0aWVzKCRkZXNjKS4nPC90ZD4nOwoJCQkJCQkkb3V0cHV0IC49ICcgICAgIDx0ZD4mbmJzcDs8L3RkPic7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJG91dHB1dCAuPSAnICAgICA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGlkPSJjb25m'));
	@fwrite($fp, base64_decode('aWdfJy4kcm93LT5uYW1lLiciIHZhbHVlPSInLmh0bWxlbnRpdGllcygkcm93LT52YWx1ZSkuJyI+PC90ZD4nOwoJCQkJCQkkb3V0cHV0IC49ICcgICAgIDx0ZD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgbmFtZT0iY29uZmlnX3VwZGF0ZV8nLiRyb3ctPm5hbWUuJyIg'));
	@fwrite($fp, base64_decode('aWQ9ImNvbmZpZ191cGRhdGVfJy4kcm93LT5uYW1lLiciIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzIHVwZGF0ZSIgb25jbGljaz0iamF2YXNjcmlwdDpjcnVkQWN0aW9uQ29uZmlnVXBkYXRlKCcuanNfZXNjYXBlKCRyb3ctPm5hbWUpLicpIj5VcGRhdGU8'));
	@fwrite($fp, base64_decode('L2J1dHRvbj48L3RkPic7CgkJCQkJfQoJCQkJCSRvdXRwdXQgLj0gJzwvdHI+JzsKCQkJCX0KCgkJCQkkb3V0cHV0IC49ICc8L3RhYmxlPic7CgkJCQkkb3V0cHV0IC49ICc8L2Rpdj48L2Rpdj4nOwoKCQkJCSRvdXRwdXQgLj0gJzxicj48cD5TZWUgYWxzbzo8L3A+'));
	@fwrite($fp, base64_decode('JzsKCQkJCSRvdXRwdXQgLj0gJzx1bD48bGk+PGEgaHJlZj0ic2V0dXAvIj5TZXR1cCBwYXJ0IDE6IENyZWF0ZSBjb25maWcucGhwIChjb250YWlucyBkYXRhYmFzZSBzZXR0aW5ncywgUmVDQVBUQ0hBLCBhZG1pbiBwYXNzd29yZCBhbmQgU1NMIGVuZm9yY2VtZW50'));
	@fwrite($fp, base64_decode('KTwvYT48L2xpPic7CgkJCQkkb3V0cHV0IC49ICc8bGk+PGEgaHJlZj0icGx1Z2lucy9zeXN0ZW0vMDAwX3JlZ2lzdHJhdGlvbi9yZWdpc3RyYXRpb24ucGhwIj5TZXR1cCBwYXJ0IDI6IEJhc2ljIHNldHRpbmdzICh0aGV5IGFyZSBhbGwgYXZhaWxhYmxlIGFib3Zl'));
	@fwrite($fp, base64_decode('LCB0b28pPC9hPjwvbGk+PC91bD4nOwoKCQkJCSRvdXRbJ3RleHQnXSA9ICRvdXRwdXQ7CgkJCX0KCgkJCXJldHVybiAkb3V0OwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZSgmJGpzb24sICRyYV9lbWFpbD1udWxsKSB7CgkJaWYgKGZpbGVfZXhpc3RzKF9f'));
	@fwrite($fp, base64_decode('RElSX18uJy90cmVlaWNvbi5wbmcnKSkgewoJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvYWRtaW5QYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb24ucG5nJzsKCQl9IGVsc2UgewoJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChm'));
	@fwrite($fp, base64_decode('b2xkZXIpCgkJfQoKCQkkanNvbltdID0gYXJyYXkoCgkJCSdpZCcgPT4gJ29pZHBsdXM6ZWRpdF9jb25maWcnLAoJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+ICdTeXN0ZW0gY29uZmlnJwoJCSk7Cgl9Cn0KCk9JRHBsdXM6OnJlZ2lzdGVyUGFn'));
	@fwrite($fp, base64_decode('ZVBsdWdpbihuZXcgT0lEcGx1c1BhZ2VBZG1pblN5c3RlbUNvbmZpZygpKTsK'));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/110_system_config/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/110_system_config/plugin.inc.php');
	writefile_4();
	if (!is_file('plugins/adminPages/110_system_config/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/110_system_config/plugin.inc.php');
	} else if (sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') != 'df785263660daf39f42a62f0c33ae5994fd17a94') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/110_system_config/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/110_system_config/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/110_system_config/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') !== 'df785263660daf39f42a62f0c33ae5994fd17a94') {
		if (@sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') !== 'b230c850513faee25306b38743d9a356724d9707') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/110_system_config/plugin.inc.php');
			$tmp = pathinfo('plugins/adminPages/110_system_config/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/110_system_config/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/110_system_config/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') !== 'df785263660daf39f42a62f0c33ae5994fd17a94') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/110_system_config/plugin.inc.php');
		}
	}
}

// Files different: setup/index.php
function writefile_5() {
	@$fp = fopen('setup/index.php', 'w');
	@fwrite($fp, base64_decode('PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KCjxoZWFkPgoJPHRpdGxlPk9JRHBsdXMgc2V0dXA8L3RpdGxlPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzZXR1cC5jc3MiPgoJPHNjcmlwdCBzcmM9Ii4uLzNwL3NoYTNfanMvc2hhMy5qcyI+'));
	@fwrite($fp, base64_decode('PC9zY3JpcHQ+PCEtLSBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLXNoYTMgLS0+Cgk8c2NyaXB0IHNyYz0ic2V0dXAuanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cgo8Ym9keSBvbkxvYWQ9ImphdmFzY3JpcHQ6cmVidWlsZCgpIj4KCjxoMT5PSURwbHVzIHNldHVw'));
	@fwrite($fp, base64_decode('IC0gRGF0YWJhc2UgY29ubmVjdGl2aXR5PC9oMT4KCjxkaXYgaWQ9InN0ZXAxIj4KPGgyPlN0ZXAgMTogRW50ZXIgc2V0dXAgaW5mb3JtYXRpb248L2gyPgo8Zm9ybSBpZD0ic3RlcDFfZm9ybSI+CjxwPldoaWNoIGFkbWluIHBhc3N3b3JkIGRvIHlvdSB3YW50Pzxi'));
	@fwrite($fp, base64_decode('cj48aW5wdXQgaWQ9ImFkbWluX3Bhc3N3b3JkIiB0eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQiIG9uS2V5UHJlc3M9ImphdmFzY3JpcHQ6cmVidWlsZCgpIiBvbktleVVwPSJqYXZhc2NyaXB0OnJlYnVpbGQoKSI+IDxzcGFuIGlkPSJw'));
	@fwrite($fp, base64_decode('YXNzd29yZF93YXJuIj48L3NwYW4+PC9wPgo8cD5QbGVhc2UgcmVwZWF0IHRoZSBwYXNzd29yZCBpbnB1dDo8YnI+PGlucHV0IGlkPSJhZG1pbl9wYXNzd29yZDIiIHR5cGU9InBhc3N3b3JkIiBhdXRvY29tcGxldGU9Im5ldy1wYXNzd29yZCIgb25LZXlQcmVzcz0i'));
	@fwrite($fp, base64_decode('amF2YXNjcmlwdDpyZWJ1aWxkKCkiIG9uS2V5VXA9ImphdmFzY3JpcHQ6cmVidWlsZCgpIj4gPHNwYW4gaWQ9InBhc3N3b3JkX3dhcm4yIj48L3NwYW4+PC9wPgo8cD4tLS08L3A+CjxwPk15U1FMIGhvc3RuYW1lICh1c3VhbGx5IDxiPmxvY2FsaG9zdDwvYj4pOjxi'));
	@fwrite($fp, base64_decode('cj48aW5wdXQgaWQ9Im15c3FsX2hvc3QiIHR5cGU9InRleHQiIHZhbHVlPSJsb2NhbGhvc3QiIG9uS2V5UHJlc3M9ImphdmFzY3JpcHQ6cmVidWlsZCgpIiBvbktleVVwPSJqYXZhc2NyaXB0OnJlYnVpbGQoKSI+PC9wPgo8cD5NeVNRTCB1c2VybmFtZTo8YnI+PGlu'));
	@fwrite($fp, base64_decode('cHV0IGlkPSJteXNxbF91c2VybmFtZSIgdHlwZT0idGV4dCIgb25LZXlQcmVzcz0iamF2YXNjcmlwdDpyZWJ1aWxkKCkiIG9uS2V5VXA9ImphdmFzY3JpcHQ6cmVidWlsZCgpIj48L3A+CjxwPk15U1FMIHBhc3N3b3JkOjxicj48aW5wdXQgaWQ9Im15c3FsX3Bhc3N3'));
	@fwrite($fp, base64_decode('b3JkIiB0eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQiIG9uS2V5UHJlc3M9ImphdmFzY3JpcHQ6cmVidWlsZCgpIiBvbktleVVwPSJqYXZhc2NyaXB0OnJlYnVpbGQoKSI+PC9wPgo8cD5NeVNRTCBkYXRhYmFzZSBuYW1lOjxicj48aW5w'));
	@fwrite($fp, base64_decode('dXQgaWQ9Im15c3FsX2RhdGFiYXNlIiB0eXBlPSJ0ZXh0IiBvbktleVByZXNzPSJqYXZhc2NyaXB0OnJlYnVpbGQoKSIgb25LZXlVcD0iamF2YXNjcmlwdDpyZWJ1aWxkKCkiPjwvcD4KPHA+VGFibGVuYW1lIHByZWZpeCAoZS5nLiA8Yj5vaWRwbHVzXzwvYj4pOjxi'));
	@fwrite($fp, base64_decode('cj48aW5wdXQgaWQ9InRhYmxlbmFtZV9wcmVmaXgiIHR5cGU9InRleHQiIHZhbHVlPSJvaWRwbHVzXyIgb25LZXlQcmVzcz0iamF2YXNjcmlwdDpyZWJ1aWxkKCkiIG9uS2V5VXA9ImphdmFzY3JpcHQ6cmVidWlsZCgpIj48L3A+CjxwPi0tLTwvcD4KPHA+PGlucHV0'));
	@fwrite($fp, base64_decode('IGlkPSJyZWNhcHRjaGFfZW5hYmxlZCIgdHlwZT0iY2hlY2tib3giIG9uY2xpY2s9ImphdmFzY3JpcHQ6cmVidWlsZCgpIj4gPGxhYmVsIGZvcj0icmVjYXB0Y2hhX2VuYWJsZWQiPlJFQ0FQVENIQSBFbmFibGVkPC9sYWJlbD48L3A+CjxwPlJFQ0FQVENIQSBQdWJs'));
	@fwrite($fp, base64_decode('aWMga2V5PGJyPjxpbnB1dCBpZD0icmVjYXB0Y2hhX3B1YmxpYyIgdHlwZT0idGV4dCIgb25LZXlQcmVzcz0iamF2YXNjcmlwdDpyZWJ1aWxkKCkiIG9uS2V5VXA9ImphdmFzY3JpcHQ6cmVidWlsZCgpIj48L3A+CjxwPlJFQ0FQVENIQSBQcml2YXRlIGtleTxicj48'));
	@fwrite($fp, base64_decode('aW5wdXQgaWQ9InJlY2FwdGNoYV9wcml2YXRlIiB0eXBlPSJ0ZXh0IiBvbktleVByZXNzPSJqYXZhc2NyaXB0OnJlYnVpbGQoKSIgb25LZXlVcD0iamF2YXNjcmlwdDpyZWJ1aWxkKCkiPjwvcD4KPHA+LS0tPC9wPgo8cD5TU0wgZW5mb3JjZW1lbnQ8YnI+PHNlbGVj'));
	@fwrite($fp, base64_decode('dCBuYW1lPSJlbmZvcmNlX3NzbCIgaWQ9ImVuZm9yY2Vfc3NsIiBvbmNsaWNrPSJqYXZhc2NyaXB0OnJlYnVpbGQoKSI+CjxvcHRpb24gdmFsdWU9IjAiPk5vIFNTTCBhdmFpbGFibGUgKGRvbid0IHJlZGlyZWN0KTwvb3B0aW9uPgo8b3B0aW9uIHZhbHVlPSIxIj5F'));
	@fwrite($fp, base64_decode('bmZvcmNlIFNTTCAoYWx3YXlzIHJlZGlyZWN0KTwvb3B0aW9uPgo8b3B0aW9uIHZhbHVlPSIyIiBzZWxlY3RlZD5JbnRlbGxpZ2VuZXQgU1NMIGRldGVjdGlvbiAocmVkaXJlY3QgaWYgcG9ydCA0NDMgaXMgb3Blbik8L29wdGlvbj4KPC9zZWxlY3Q+PC9wPgo8L2Zv'));
	@fwrite($fp, base64_decode('cm0+CjwvZGl2PgoKPGRpdiBpZD0ic3RlcDIiPgo8aDI+U3RlcCAyOiBJbXBvcnQgZGF0YTwvaDI+CjxwPklmIHlvdSBhbHJlYWR5IGhhdmUgYW4gT0lEcGx1cyBkYXRhYmFzZSBhbmQganVzdCB3YW50IHRvIHJlYnVpbGQgdGhlIGNvbmZpZyBmaWxlLCBwbGVhc2Ug'));
	@fwrite($fp, base64_decode('aWdub3JlIHRoaXMgc3RlcC4gT3RoZXJ3aXNlLCBpbXBvcnQgb25lIG9mIHRoZSBmb2xsb3dpbmcgTXlTUUwgZHVtcHMgaW4geW91ciBkYXRhYmFzZTo8L3A+CjxwPjx1bD4KCTxsaT48YSBocmVmPSJzdHJ1Y3RfZW1wdHkuc3FsLnBocCIgaWQ9InN0cnVjdF8xIiB0'));
	@fwrite($fp, base64_decode('YXJnZXQ9Il9ibGFuayI+RW1wdHkgT0lEcGx1cyBkYXRhYmFzZSB3aXRob3V0IGV4YW1wbGUgZGF0YTwvYT48YnI+PGJyPjwvbGk+Cgk8bGk+PGEgaHJlZj0ic3RydWN0X3dpdGhfZXhhbXBsZXMuc3FsLnBocCIgaWQ9InN0cnVjdF8yIiB0YXJnZXQ9Il9ibGFuayI+'));
	@fwrite($fp, base64_decode('T0lEcGx1cyBkYXRhYmFzZSB3aXRoIGV4YW1wbGUgZGF0YTwvYT48L2xpPgo8L3VsPjwvcD4KCjwhLS0KVE9ETzogQXQgdGhpcyBzdGVwIHdlIGNvdWxkIGFsc28gc2hvdyB3aGF0IHdlIHdvdWxkIG5lZWQgdG8gZG8gYXQgY29tbWFuZCBsaW5lOgp3Z2V0IC4uLgpt'));
	@fwrite($fp, base64_decode('eXNxbCA8IC4uLgotLT4KCjwvZGl2PgoKPGRpdiBpZD0ic3RlcDMiPgo8aDI+U3RlcCAzOiBTYXZlIGNvbmZpZy5pbmMucGhwIGZpbGU8L2gyPgo8cD5TYXZlIGZvbGxvd2luZyBjb250ZW50cyBpbnRvIHRoZSBmaWxlIDxiPmluY2x1ZGVzL2NvbmZpZy5pbmMucGhw'));
	@fwrite($fp, base64_decode('PC9iPjo8L3A+Cjxjb2RlPjxmb250IGNvbG9yPSJkYXJrYmx1ZSI+PGRpdiBpZD0iY29uZmlnIj48L2Rpdj48L2ZvbnQ+PC9jb2RlPgo8L2Rpdj4KCjxkaXYgaWQ9InN0ZXA0Ij4KPGgyPlN0ZXAgNDogQ29udGludWUgdG8gbmV4dCBzdGVwPC9oMj4KPHA+PGlucHV0'));
	@fwrite($fp, base64_decode('IHR5cGU9ImJ1dHRvbiIgb25jbGljaz0iZG9jdW1lbnQubG9jYXRpb249Jy4uLyciIHZhbHVlPSJDb250aW51ZSI+PC9wPgo8IS0tIDxwPjxhIGhyZWY9Ii4uLyI+UnVuIHRoZSBPSURwbHVzIHN5c3RlbTwvYT48L3A+IC0tPgo8L2Rpdj4KCjwvYm9keT4KPC9odG1s'));
	@fwrite($fp, base64_decode('Pgo='));
	@fclose($fp);
}
if (!is_file('setup/index.php')) {
	warn('File has vanished! Will re-create it: setup/index.php');
	writefile_5();
	if (!is_file('setup/index.php')) {
		warn('File cannot be created (not existing): setup/index.php');
	} else if (sha1_file('setup/index.php') != '10f061e963bfe16f18a909af9bd6ae89cf5bd8e0') {
		warn('File cannot be created (checksum mismatch): setup/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/index.php', 0644)) {
		warn('Could not change file permissions of setup/index.php');
	}
} else {
	if (@sha1_file('setup/index.php') !== '10f061e963bfe16f18a909af9bd6ae89cf5bd8e0') {
		if (@sha1_file('setup/index.php') !== '7e537f142373ad272e35fe10ef4b9cff016aeef2') {
			warn('File was modified. Will overwrite the changes now: setup/index.php');
			$tmp = pathinfo('setup/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('setup/index.php') !== '10f061e963bfe16f18a909af9bd6ae89cf5bd8e0') {
			warn('File cannot be written (checksum mismatch): setup/index.php');
		}
	}
}

// Files different: setup/setup.js
function writefile_6() {
	@$fp = fopen('setup/setup.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKbWluX3Bhc3N3b3JkX2xlbmd0aCA9IDEwOwoKZnVuY3Rpb24gYnRvYShiaW4pIHsKCXZhciB0YWJsZVN0ciA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEy'));
	@fwrite($fp, base64_decode('MzQ1Njc4OSsvIjsKCXZhciB0YWJsZSA9IHRhYmxlU3RyLnNwbGl0KCIiKTsKCWZvciAodmFyIGkgPSAwLCBqID0gMCwgbGVuID0gYmluLmxlbmd0aCAvIDMsIGJhc2U2NCA9IFtdOyBpIDwgbGVuOyArK2kpIHsKCQl2YXIgYSA9IGJpbi5jaGFyQ29kZUF0KGorKyks'));
	@fwrite($fp, base64_decode('IGIgPSBiaW4uY2hhckNvZGVBdChqKyspLCBjID0gYmluLmNoYXJDb2RlQXQoaisrKTsKCQlpZiAoKGEgfCBiIHwgYykgPiAyNTUpIHRocm93IG5ldyBFcnJvcigiU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyIik7CgkJYmFzZTY0W2Jhc2U2NC5s'));
	@fwrite($fp, base64_decode('ZW5ndGhdID0gdGFibGVbYSA+PiAyXSArIHRhYmxlWygoYSA8PCA0KSAmIDYzKSB8IChiID4+IDQpXSArCgkJICAgICAgICAgICAgICAgICAgICAgICAoaXNOYU4oYikgPyAiPSIgOiB0YWJsZVsoKGIgPDwgMikgJiA2MykgfCAoYyA+PiA2KV0pICsKCQkgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgIChpc05hTihiICsgYykgPyAiPSIgOiB0YWJsZVtjICYgNjNdKTsKCX0KCXJldHVybiBiYXNlNjQuam9pbigiIik7Cn07CgpmdW5jdGlvbiBoZXhUb0Jhc2U2NChzdHIpIHsKCXJldHVybiBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBw'));
	@fwrite($fp, base64_decode('bHkobnVsbCwKCSAgICAgICAgICAgIHN0ci5yZXBsYWNlKC9ccnxcbi9nLCAiIikucmVwbGFjZSgvKFtcZGEtZkEtRl17Mn0pID8vZywgIjB4JDEgIikucmVwbGFjZSgvICskLywgIiIpLnNwbGl0KCIgIikpKTsKfQoKZnVuY3Rpb24gYjY0RW5jb2RlVW5pY29kZShz'));
	@fwrite($fp, base64_decode('dHIpIHsKCS8vIGZpcnN0IHdlIHVzZSBlbmNvZGVVUklDb21wb25lbnQgdG8gZ2V0IHBlcmNlbnQtZW5jb2RlZCBVVEYtOCwKCS8vIHRoZW4gd2UgY29udmVydCB0aGUgcGVyY2VudCBlbmNvZGluZ3MgaW50byByYXcgYnl0ZXMgd2hpY2gKCS8vIGNhbiBiZSBmZWQg'));
	@fwrite($fp, base64_decode('aW50byBidG9hLgoJcmV0dXJuIGJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvJShbMC05QS1GXXsyfSkvZywKCWZ1bmN0aW9uIHRvU29saWRCeXRlcyhtYXRjaCwgcDEpIHsKCQlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSgnMHgnICsgcDEp'));
	@fwrite($fp, base64_decode('OwoJfSkpOwp9CgpmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVN0cmluZyhsZW5ndGgpIHsKCXZhciBjaGFyc2V0ID0gImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVowMTIzNDU2Nzg5IiwKCXJldFZhbCA9ICIiOwoJZm9y'));
	@fwrite($fp, base64_decode('ICh2YXIgaSA9IDAsIG4gPSBjaGFyc2V0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgKytpKSB7CgkJcmV0VmFsICs9IGNoYXJzZXQuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG4pKTsKCX0KCXJldHVybiByZXRWYWw7Cn0KClN0cmluZy5wcm90b3R5cGUu'));
	@fwrite($fp, base64_decode('cmVwbGFjZUFsbCA9IGZ1bmN0aW9uKHNlYXJjaCwgcmVwbGFjZW1lbnQpIHsKCXZhciB0YXJnZXQgPSB0aGlzOwoJcmV0dXJuIHRhcmdldC5yZXBsYWNlKG5ldyBSZWdFeHAoc2VhcmNoLCAnZycpLCByZXBsYWNlbWVudCk7Cn07CgpmdW5jdGlvbiByZWJ1aWxkKCkg'));
	@fwrite($fp, base64_decode('ewoJdmFyIGVycm9yID0gZmFsc2U7CgoJLy8gQ2hlY2sgMTogRG8gdGhlIHBhc3N3b3JkcyBtYXRjaD8KCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW5fcGFzc3dvcmQnKS52YWx1ZSAhPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRtaW5fcGFz'));
	@fwrite($fp, base64_decode('c3dvcmQyJykudmFsdWUpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRfd2FybjInKS5pbm5lckhUTUwgPSAnPGZvbnQgY29sb3I9InJlZCI+VGhlIHBhc3N3b3JkcyBkbyBub3QgbWF0Y2ghPC9mb250Pic7CgkJZXJyb3IgPSB0cnVlOwoJfSBl'));
	@fwrite($fp, base64_decode('bHNlIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRfd2FybjInKS5pbm5lckhUTUwgPSAnJzsKCX0KCgkvLyBDaGVjayAyOiBIYXMgdGhlIHBhc3N3b3JkIHRoZSBjb3JyZWN0IGxlbmd0aD8KCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgn'));
	@fwrite($fp, base64_decode('YWRtaW5fcGFzc3dvcmQnKS52YWx1ZS5sZW5ndGggPCBtaW5fcGFzc3dvcmRfbGVuZ3RoKQoJewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZF93YXJuJykuaW5uZXJIVE1MID0gJzxmb250IGNvbG9yPSJyZWQiPlBhc3N3b3JkIG11c3QgYmUgYXQg'));
	@fwrite($fp, base64_decode('bGVhc3QgJyttaW5fcGFzc3dvcmRfbGVuZ3RoKycgY2hhcmFjdGVycyBsb25nPC9mb250Pic7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpLmlubmVySFRNTCA9ICc8Yj4mbHQ/cGhwPC9iPjxicj48YnI+PGk+Ly8gRVJST1I6IFBhc3N3b3JkIG11'));
	@fwrite($fp, base64_decode('c3QgYmUgYXQgbGVhc3QgJyttaW5fcGFzc3dvcmRfbGVuZ3RoKycgY2hhcmFjdGVycyBsb25nPC9pPic7CgkJZXJyb3IgPSB0cnVlOwoJfQoJZWxzZQoJewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZF93YXJuJykuaW5uZXJIVE1MID0gJyc7CgkJ'));
	@fwrite($fp, base64_decode('ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpLmlubmVySFRNTCA9ICc8Yj4mbHQ/cGhwPC9iPjxicj48YnI+JyArCgkJCSc8aT4vLyBUbyByZW5ldyB0aGlzIGZpbGUsIHBsZWFzZSBydW4gc2V0dXAvIGluIHlvdXIgYnJvd3Nlci48L2k+PGJyPicgKwoJ'));
	@fwrite($fp, base64_decode('CQknPGk+Ly8gSWYgeW91IGRvblwndCB3YW50IHRvIHJ1biBzZXR1cCBhZ2FpbiwgeW91IGNhbiBhbHNvIGNoYW5nZSBtb3N0IG9mIHRoZSBzZXR0aW5ncyBkaXJlY3RseSBpbiB0aGlzIGZpbGUuPC9pPjxicj4nICsKCQkJJzxicj4nICsKCQkJJzxiPmRlZmluZTwv'));
	@fwrite($fp, base64_decode('Yj4oXCdPSURQTFVTX0NPTkZJR19WRVJTSU9OXCcsICAgMi4wKTs8YnI+JyArCgkJCSc8YnI+JyArCgkJCSc8Yj5kZWZpbmU8L2I+KFwnT0lEUExVU19BRE1JTl9QQVNTV09SRFwnLCAgIFwnJyArIGhleFRvQmFzZTY0KHNoYTNfNTEyKGRvY3VtZW50LmdldEVsZW1l'));
	@fwrite($fp, base64_decode('bnRCeUlkKCdhZG1pbl9wYXNzd29yZCcpLnZhbHVlKSkgKyAnXCcpOyAvLyBiYXNlNjQgZW5jb2RlZCBTSEEzLTUxMiBoYXNoPGJyPicgKwoJCQknPGJyPicgKwoJCQknPGI+ZGVmaW5lPC9iPihcJ09JRFBMVVNfTVlTUUxfSE9TVFwnLCAgICAgICBcJycrZG9jdW1l'));
	@fwrite($fp, base64_decode('bnQuZ2V0RWxlbWVudEJ5SWQoJ215c3FsX2hvc3QnKS52YWx1ZSsnXCcpOzxicj4nICsKCQkJJzxiPmRlZmluZTwvYj4oXCdPSURQTFVTX01ZU1FMX1VTRVJOQU1FXCcsICAgXCcnK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteXNxbF91c2VybmFtZScpLnZhbHVl'));
	@fwrite($fp, base64_decode('KydcJyk7PGJyPicgKwoJCQknPGI+ZGVmaW5lPC9iPihcJ09JRFBMVVNfTVlTUUxfUEFTU1dPUkRcJywgICBcJycrYjY0RW5jb2RlVW5pY29kZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlzcWxfcGFzc3dvcmQnKS52YWx1ZSkrJ1wnKTsgLy8gYmFzZTY0IGVu'));
	@fwrite($fp, base64_decode('Y29kZWQ8YnI+JyArCgkJCSc8Yj5kZWZpbmU8L2I+KFwnT0lEUExVU19NWVNRTF9EQVRBQkFTRVwnLCAgIFwnJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlzcWxfZGF0YWJhc2UnKS52YWx1ZSsnXCcpOzxicj4nICsKCQkJJzxicj4nICsKCQkJJzxiPmRlZmlu'));
	@fwrite($fp, base64_decode('ZTwvYj4oXCdPSURQTFVTX1RBQkxFTkFNRV9QUkVGSVhcJywgXCcnK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZW5hbWVfcHJlZml4JykudmFsdWUrJ1wnKTs8YnI+JyArCgkJCSc8YnI+JyArCgkJCSc8Yj5kZWZpbmU8L2I+KFwnT0lEUExVU19TRVNTSU9O'));
	@fwrite($fp, base64_decode('X1NFQ1JFVFwnLCAgIFwnJytnZW5lcmF0ZVJhbmRvbVN0cmluZygzMikrJ1wnKTs8YnI+JyArCgkJCSc8YnI+JyArCgkJCSc8Yj5kZWZpbmU8L2I+KFwnUkVDQVBUQ0hBX0VOQUJMRURcJywgICAgICAgICcrKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNhcHRj'));
	@fwrite($fp, base64_decode('aGFfZW5hYmxlZCcpLmNoZWNrZWQgPyAxIDogMCkrJyk7PGJyPicgKwoJCQknPGI+ZGVmaW5lPC9iPihcJ1JFQ0FQVENIQV9QVUJMSUNcJywgICAgICAgICBcJycrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2FwdGNoYV9wdWJsaWMnKS52YWx1ZSsnXCcpOzxi'));
	@fwrite($fp, base64_decode('cj4nICsKCQkJJzxiPmRlZmluZTwvYj4oXCdSRUNBUFRDSEFfUFJJVkFURVwnLCAgICAgICAgXCcnK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWNhcHRjaGFfcHJpdmF0ZScpLnZhbHVlKydcJyk7PGJyPicgKwoJCQknPGJyPicgKwoJCQknPGI+ZGVmaW5lPC9i'));
	@fwrite($fp, base64_decode('PihcJ09JRFBMVVNfRU5GT1JDRV9TU0xcJywgICAgICBcJycrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VuZm9yY2Vfc3NsJykudmFsdWUrJ1wnKTs8YnI+JzsKCgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZycpLmlubmVySFRNTCA9IGRvY3VtZW50'));
	@fwrite($fp, base64_decode('LmdldEVsZW1lbnRCeUlkKCdjb25maWcnKS5pbm5lckhUTUwucmVwbGFjZUFsbCgnICcsICcmbmJzcDsnKTsKCX0KCgkvLyBJbiBjYXNlIHNvbWV0aGluZyBpcyBub3QgZ29vZCwgZG8gbm90IGFsbG93IHRoZSB1c2VyIHRvIGNvbnRpbnVlIHdpdGggdGhlIG90aGVy'));
	@fwrite($fp, base64_decode('IGNvbmZpZ3VyYXRpb24gc3RlcHM6CglpZiAoZXJyb3IpIHsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RlcDInKS5zdHlsZS52aXNpYmlsaXR5PSdoaWRkZW4nOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGVwMycpLnN0eWxlLnZpc2liaWxpdHk9'));
	@fwrite($fp, base64_decode('J2hpZGRlbic7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXA0Jykuc3R5bGUudmlzaWJpbGl0eT0naGlkZGVuJzsKCX0gZWxzZSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXAyJykuc3R5bGUudmlzaWJpbGl0eT0ndmlzaWJsZSc7CgkJZG9j'));
	@fwrite($fp, base64_decode('dW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXAzJykuc3R5bGUudmlzaWJpbGl0eT0ndmlzaWJsZSc7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0ZXA0Jykuc3R5bGUudmlzaWJpbGl0eT0ndmlzaWJsZSc7Cgl9CgoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQo'));
	@fwrite($fp, base64_decode('J3N0cnVjdF8xJykuaHJlZiA9ICdzdHJ1Y3RfZW1wdHkuc3FsLnBocD9wcmVmaXg9JytlbmNvZGVVUkkoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlbmFtZV9wcmVmaXgnKS52YWx1ZSkrJyZkYXRhYmFzZT0nK2VuY29kZVVSSShkb2N1bWVudC5nZXRFbGVt'));
	@fwrite($fp, base64_decode('ZW50QnlJZCgnbXlzcWxfZGF0YWJhc2UnKS52YWx1ZSk7Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RydWN0XzInKS5ocmVmID0gJ3N0cnVjdF93aXRoX2V4YW1wbGVzLnNxbC5waHA/cHJlZml4PScrZW5jb2RlVVJJKGRvY3VtZW50LmdldEVsZW1lbnRCeUlk'));
	@fwrite($fp, base64_decode('KCd0YWJsZW5hbWVfcHJlZml4JykudmFsdWUpKycmZGF0YWJhc2U9JytlbmNvZGVVUkkoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215c3FsX2RhdGFiYXNlJykudmFsdWUpOwp9Cg=='));
	@fclose($fp);
}
if (!is_file('setup/setup.js')) {
	warn('File has vanished! Will re-create it: setup/setup.js');
	writefile_6();
	if (!is_file('setup/setup.js')) {
		warn('File cannot be created (not existing): setup/setup.js');
	} else if (sha1_file('setup/setup.js') != 'adbf5ce49d4edbdf6599b0c0acb524ba94e7fda7') {
		warn('File cannot be created (checksum mismatch): setup/setup.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/setup.js', 0644)) {
		warn('Could not change file permissions of setup/setup.js');
	}
} else {
	if (@sha1_file('setup/setup.js') !== 'adbf5ce49d4edbdf6599b0c0acb524ba94e7fda7') {
		if (@sha1_file('setup/setup.js') !== 'e9a7b69ed767c40df9d2652551c0b3e460f922e0') {
			warn('File was modified. Will overwrite the changes now: setup/setup.js');
			$tmp = pathinfo('setup/setup.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/setup.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/setup.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('setup/setup.js') !== 'adbf5ce49d4edbdf6599b0c0acb524ba94e7fda7') {
			warn('File cannot be written (checksum mismatch): setup/setup.js');
		}
	}
}

// Files different: setup/sql/struct.sql
function writefile_7() {
	@$fp = fopen('setup/sql/struct.sql', 'w');
	@fwrite($fp, base64_decode('RFJPUCBUQUJMRSBgY29uZmlnYDsKQ1JFQVRFIFRBQkxFIGBjb25maWdgICgKICBgbmFtZWAgdmFyY2hhcig1MCkgTk9UIE5VTEwsCiAgYHZhbHVlYCB0ZXh0IE5PVCBOVUxMLAogIGBkZXNjcmlwdGlvbmAgdmFyY2hhcigyNTUpLAogIGBwcm90ZWN0ZWRgIGJpdCgx'));
	@fwrite($fp, base64_decode('KSBOT1QgTlVMTCBERUZBVUxUIGInMCcsCiAgYHZpc2libGVgIGJpdCgxKSBOT1QgTlVMTCBERUZBVUxUIGInMCcKKSBFTkdJTkU9SW5ub0RCIERFRkFVTFQgQ0hBUlNFVD11dGY4OwoKRFJPUCBUQUJMRSBgYXNuMWlkYDsKQ1JFQVRFIFRBQkxFIGBhc24xaWRgICgK'));
	@fwrite($fp, base64_decode('ICBgbGZkYCBpbnQoMTEpIE5PVCBOVUxMLAogIGBvaWRgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCwKICBgbmFtZWAgdmFyY2hhcigyNTUpIE5PVCBOVUxMLAogIGBzdGFuZGFyZGl6ZWRgIGJpdCgxKSBOT1QgTlVMTCBERUZBVUxUIGInMCcsCiAgYHdlbGxfa25vd25g'));
	@fwrite($fp, base64_decode('IGJpdCBkZWZhdWx0IDAgTk9UIE5VTEwgREVGQVVMVCBiJzAnCikgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9dXRmODsKCkRST1AgVEFCTEUgYGlyaWA7CkNSRUFURSBUQUJMRSBgaXJpYCAoCiAgYGxmZGAgaW50KDExKSBOT1QgTlVMTCwKICBgb2lkYCB2'));
	@fwrite($fp, base64_decode('YXJjaGFyKDI1NSkgTk9UIE5VTEwsCiAgYG5hbWVgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCwKICBgbG9uZ2FyY2AgYml0IGRlZmF1bHQgMCBOT1QgTlVMTCBERUZBVUxUIGInMCcsCiAgYHdlbGxfa25vd25gIGJpdCBkZWZhdWx0IDAgTk9UIE5VTEwgREVGQVVMVCBi'));
	@fwrite($fp, base64_decode('JzAnCikgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9dXRmODsKCkRST1AgVEFCTEUgYG9iamVjdHNgOwpDUkVBVEUgVEFCTEUgYG9iamVjdHNgICgKICBgaWRgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCwKICBgcGFyZW50YCB2YXJjaGFyKDI1NSkgREVGQVVM'));
	@fwrite($fp, base64_decode('VCBOVUxMLAogIGB0aXRsZWAgdmFyY2hhcigyNTUpIE5PVCBOVUxMLAogIGBkZXNjcmlwdGlvbmAgdGV4dCBOT1QgTlVMTCwKICBgcmFfZW1haWxgIHZhcmNoYXIoMTAwKSBOVUxMLAogIGBjb25maWRlbnRpYWxgIGJpdCBkZWZhdWx0IDAgTk9UIE5VTEwsCiAgYGNy'));
	@fwrite($fp, base64_decode('ZWF0ZWRgIGRhdGV0aW1lLAogIGB1cGRhdGVkYCBkYXRldGltZQopIEVOR0lORT1Jbm5vREIgREVGQVVMVCBDSEFSU0VUPXV0Zjg7CgpEUk9QIFRBQkxFIGByYWA7CkNSRUFURSBUQUJMRSBgcmFgICgKICBgcmFfaWRgIGludCgxMSkgTk9UIE5VTEwsCiAgYGVtYWls'));
	@fwrite($fp, base64_decode('YCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHJhX25hbWVgIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCwKICBgcGVyc29uYWxfbmFtZWAgdmFyY2hhcigxMDApIE5PVCBOVUxMLAogIGBvcmdhbml6YXRpb25gIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCwKICBgb2ZmaWNl'));
	@fwrite($fp, base64_decode('YCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHN0cmVldGAgdmFyY2hhcigxMDApIE5PVCBOVUxMLAogIGB6aXBfdG93bmAgdmFyY2hhcigxMDApIE5PVCBOVUxMLAogIGBjb3VudHJ5YCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHBob25lYCB2YXJjaGFyKDEw'));
	@fwrite($fp, base64_decode('MCkgTk9UIE5VTEwsCiAgYG1vYmlsZWAgdmFyY2hhcigxMDApIE5PVCBOVUxMLAogIGBmYXhgIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCwKICBgcHJpdmFjeWAgYml0KDEpIE5PVCBOVUxMIERFRkFVTFQgYicwJywKICBgc2FsdGAgdmFyY2hhcigxMDApIE5PVCBOVUxM'));
	@fwrite($fp, base64_decode('LAogIGBhdXRoa2V5YCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHJlZ2lzdGVyZWRgIGRhdGV0aW1lLAogIGB1cGRhdGVkYCBkYXRldGltZSwKICBgbGFzdF9sb2dpbmAgZGF0ZXRpbWUKKSBFTkdJTkU9SW5ub0RCIERFRkFVTFQgQ0hBUlNFVD11dGY4OwoKQUxU'));
	@fwrite($fp, base64_decode('RVIgVEFCTEUgYGNvbmZpZ2AKICBBREQgUFJJTUFSWSBLRVkgKGBuYW1lYCk7CgpBTFRFUiBUQUJMRSBgYXNuMWlkYAogIEFERCBQUklNQVJZIEtFWSAoYGxmZGApLAogIEFERCBVTklRVUUgS0VZIGBvaWRgIChgb2lkYCxgbmFtZWApOwoKQUxURVIgVEFCTEUgYGly'));
	@fwrite($fp, base64_decode('aWAKICBBREQgUFJJTUFSWSBLRVkgKGBsZmRgKSwKICBBREQgVU5JUVVFIEtFWSBgb2lkYCAoYG9pZGAsYG5hbWVgKTsKCkFMVEVSIFRBQkxFIGBvYmplY3RzYAogIEFERCBQUklNQVJZIEtFWSAoYGlkYCkgVVNJTkcgQlRSRUU7CgpBTFRFUiBUQUJMRSBgcmFgCiAg'));
	@fwrite($fp, base64_decode('QUREIFBSSU1BUlkgS0VZIChgcmFfaWRgKSwKICBBREQgVU5JUVVFIEtFWSBgZW1haWxgIChgZW1haWxgKTsKCkFMVEVSIFRBQkxFIGBhc24xaWRgCiAgTU9ESUZZIGBsZmRgIGludCgxMSkgTk9UIE5VTEwgQVVUT19JTkNSRU1FTlQ7CgpBTFRFUiBUQUJMRSBgaXJp'));
	@fwrite($fp, base64_decode('YAogIE1PRElGWSBgbGZkYCBpbnQoMTEpIE5PVCBOVUxMIEFVVE9fSU5DUkVNRU5UOwoKQUxURVIgVEFCTEUgYHJhYAogIE1PRElGWSBgcmFfaWRgIGludCgxMSkgTk9UIE5VTEwgQVVUT19JTkNSRU1FTlQ7CkNPTU1JVDsKCklOU0VSVCBJTlRPIGBjb25maWdgIChu'));
	@fwrite($fp, base64_decode('YW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUsIHByb3RlY3RlZCwgdmlzaWJsZSkgVkFMVUVTICgnZGF0YWJhc2VfdmVyc2lvbicsICdWZXJzaW9uIG9mIHRoZSBkYXRhYmFzZSB0YWJsZXMnLCAnMjAwJywgMSwgMCk7Cgo='));
	@fclose($fp);
}
if (!is_file('setup/sql/struct.sql')) {
	warn('File has vanished! Will re-create it: setup/sql/struct.sql');
	writefile_7();
	if (!is_file('setup/sql/struct.sql')) {
		warn('File cannot be created (not existing): setup/sql/struct.sql');
	} else if (sha1_file('setup/sql/struct.sql') != '4f3fcf745014e40a81b9f603f84c043c2f758670') {
		warn('File cannot be created (checksum mismatch): setup/sql/struct.sql');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/sql/struct.sql', 0644)) {
		warn('Could not change file permissions of setup/sql/struct.sql');
	}
} else {
	if (@sha1_file('setup/sql/struct.sql') !== '4f3fcf745014e40a81b9f603f84c043c2f758670') {
		if (@sha1_file('setup/sql/struct.sql') !== 'a5777714e70dd6aa99b340f4b9cb5c6be52f7008') {
			warn('File was modified. Will overwrite the changes now: setup/sql/struct.sql');
			$tmp = pathinfo('setup/sql/struct.sql');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/sql/struct.sql')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/sql/struct.sql', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('setup/sql/struct.sql') !== '4f3fcf745014e40a81b9f603f84c043c2f758670') {
			warn('File cannot be written (checksum mismatch): setup/sql/struct.sql');
		}
	}
}

// Files different: setup/struct_empty.sql.php
function writefile_8() {
	@$fp = fopen('setup/struct_empty.sql.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCiRwcmVmaXggPSBpc3NldCgkX1JFUVVFU1RbJ3ByZWZpeCddKSA/ICRfUkVRVUVTVFsncHJlZml4J10gOiAnJzsKJGRhdGFiYXNlID0gaXNzZXQoJF9SRVFVRVNUWydkYXRhYmFzZSddKSA/ICRfUkVR'));
	@fwrite($fp, base64_decode('VUVTVFsnZGF0YWJhc2UnXSA6ICcnOwoKJGNvbnQgPSB0cmltKGZpbGVfZ2V0X2NvbnRlbnRzKF9fRElSX18uJy9zcWwvc3RydWN0LnNxbCcpKS4iXG5cbiIuCiAgICAgICAgdHJpbShmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fLicvc3FsL3dlbGxrbm93bl9jb3Vu'));
	@fwrite($fp, base64_decode('dHJ5LnNxbCcpKS4iXG5cbiIuCiAgICAgICAgdHJpbShmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fLicvc3FsL3dlbGxrbm93bl9vdGhlci5zcWwnKSkuIlxuXG4iOwoKJHRhYmxlX25hbWVzID0gYXJyYXkoJ29iamVjdHMnLCAnYXNuMWlkJywgJ2lyaScsICdyYScs'));
	@fwrite($fp, base64_decode('ICdjb25maWcnKTsKZm9yZWFjaCAoJHRhYmxlX25hbWVzIGFzICR0YWJsZSkgewoJJGNvbnQgPSBzdHJfcmVwbGFjZSgnYCcuJHRhYmxlLidgJywgJ2AnLiRwcmVmaXguJHRhYmxlLidgJywgJGNvbnQpOwp9CgppZiAocGhwX3NhcGlfbmFtZSgpICE9ICdjbGknKSB7'));
	@fwrite($fp, base64_decode('CgloZWFkZXIoJ0NvbnRlbnQtVHlwZTp0ZXh0L3NxbCcpOwp9CgplY2hvICJDUkVBVEUgREFUQUJBU0UgSUYgTk9UIEVYSVNUUyBgJGRhdGFiYXNlYDtcblxuIjsKZWNobyAiVVNFIGAkZGF0YWJhc2VgO1xuXG4iOwplY2hvICRjb250Owo='));
	@fclose($fp);
}
if (!is_file('setup/struct_empty.sql.php')) {
	warn('File has vanished! Will re-create it: setup/struct_empty.sql.php');
	writefile_8();
	if (!is_file('setup/struct_empty.sql.php')) {
		warn('File cannot be created (not existing): setup/struct_empty.sql.php');
	} else if (sha1_file('setup/struct_empty.sql.php') != '3db7888bd87bb8b8b48d0979ca5b168a4a3f958c') {
		warn('File cannot be created (checksum mismatch): setup/struct_empty.sql.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/struct_empty.sql.php', 0644)) {
		warn('Could not change file permissions of setup/struct_empty.sql.php');
	}
} else {
	if (@sha1_file('setup/struct_empty.sql.php') !== '3db7888bd87bb8b8b48d0979ca5b168a4a3f958c') {
		if (@sha1_file('setup/struct_empty.sql.php') !== '17ef4c4e726031e0108ffa8a774a9f89592d0476') {
			warn('File was modified. Will overwrite the changes now: setup/struct_empty.sql.php');
			$tmp = pathinfo('setup/struct_empty.sql.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/struct_empty.sql.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/struct_empty.sql.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_8();
		if (@sha1_file('setup/struct_empty.sql.php') !== '3db7888bd87bb8b8b48d0979ca5b168a4a3f958c') {
			warn('File cannot be written (checksum mismatch): setup/struct_empty.sql.php');
		}
	}
}

// Files different: setup/struct_with_examples.sql.php
function writefile_9() {
	@$fp = fopen('setup/struct_with_examples.sql.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCiRwcmVmaXggPSBpc3NldCgkX1JFUVVFU1RbJ3ByZWZpeCddKSA/ICRfUkVRVUVTVFsncHJlZml4J10gOiAnJzsKJGRhdGFiYXNlID0gaXNzZXQoJF9SRVFVRVNUWydkYXRhYmFzZSddKSA/ICRfUkVR'));
	@fwrite($fp, base64_decode('VUVTVFsnZGF0YWJhc2UnXSA6ICcnOwoKJGNvbnQgPSB0cmltKGZpbGVfZ2V0X2NvbnRlbnRzKF9fRElSX18uJy9zcWwvc3RydWN0LnNxbCcpKS4iXG5cbiIuCiAgICAgICAgdHJpbShmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fLicvc3FsL3dlbGxrbm93bl9jb3Vu'));
	@fwrite($fp, base64_decode('dHJ5LnNxbCcpKS4iXG5cbiIuCiAgICAgICAgdHJpbShmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fLicvc3FsL3dlbGxrbm93bl9vdGhlci5zcWwnKSkuIlxuXG4iLgogICAgICAgIHRyaW0oZmlsZV9nZXRfY29udGVudHMoX19ESVJfXy4nL3NxbC9leGFtcGxlLnNx'));
	@fwrite($fp, base64_decode('bCcpKS4iXG5cbiI7CgokdGFibGVfbmFtZXMgPSBhcnJheSgnb2JqZWN0cycsICdhc24xaWQnLCAnaXJpJywgJ3JhJywgJ2NvbmZpZycpOwpmb3JlYWNoICgkdGFibGVfbmFtZXMgYXMgJHRhYmxlKSB7CgkkY29udCA9IHN0cl9yZXBsYWNlKCdgJy4kdGFibGUuJ2An'));
	@fwrite($fp, base64_decode('LCAnYCcuJHByZWZpeC4kdGFibGUuJ2AnLCAkY29udCk7Cn0KCmlmIChwaHBfc2FwaV9uYW1lKCkgIT0gJ2NsaScpIHsKCWhlYWRlcignQ29udGVudC1UeXBlOnRleHQvc3FsJyk7Cn0KCmVjaG8gIkNSRUFURSBEQVRBQkFTRSBJRiBOT1QgRVhJU1RTIGAkZGF0YWJh'));
	@fwrite($fp, base64_decode('c2VgO1xuXG4iOwplY2hvICJVU0UgYCRkYXRhYmFzZWA7XG5cbiI7CmVjaG8gJGNvbnQ7Cg=='));
	@fclose($fp);
}
if (!is_file('setup/struct_with_examples.sql.php')) {
	warn('File has vanished! Will re-create it: setup/struct_with_examples.sql.php');
	writefile_9();
	if (!is_file('setup/struct_with_examples.sql.php')) {
		warn('File cannot be created (not existing): setup/struct_with_examples.sql.php');
	} else if (sha1_file('setup/struct_with_examples.sql.php') != '69b1b24c68c2495f517a5bd4c8e0ad1fd573b55d') {
		warn('File cannot be created (checksum mismatch): setup/struct_with_examples.sql.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/struct_with_examples.sql.php', 0644)) {
		warn('Could not change file permissions of setup/struct_with_examples.sql.php');
	}
} else {
	if (@sha1_file('setup/struct_with_examples.sql.php') !== '69b1b24c68c2495f517a5bd4c8e0ad1fd573b55d') {
		if (@sha1_file('setup/struct_with_examples.sql.php') !== '1ecce3261ea2ddae555f8f7440b5590ba3a23d7e') {
			warn('File was modified. Will overwrite the changes now: setup/struct_with_examples.sql.php');
			$tmp = pathinfo('setup/struct_with_examples.sql.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/struct_with_examples.sql.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/struct_with_examples.sql.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_9();
		if (@sha1_file('setup/struct_with_examples.sql.php') !== '69b1b24c68c2495f517a5bd4c8e0ad1fd573b55d') {
			warn('File cannot be written (checksum mismatch): setup/struct_with_examples.sql.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 80\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 80') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

