<?php /* <ViaThinkSoftSignature>
BaqW9hlAERhnTvi4E4T9z9b1SUumzig1oI5WCgDpV9PBjZ6jPXsQ67Tx54HOOa/RX
he/Y6ZxPCuv0FDLbSDObMXMVV28oqS+uOK+cmkgDpAOVsKRjUslo/wFBTF0NK7DFn
5UrFz4Ypv+XFt6hnEUoHJl/lNpSTGsQRegO3Py6gat/83hNZVw690lK6ggC5ZPxQ2
SwIciZn9RwDUJdiy5L1YxpXcaRLgzQKTb85IhKjv6XqLkCj8nBEbvGKWrv86gIVd7
lllKZsUYt4PPE3IuxF6JzMTluV0/jUOAX/nykcWcgsKhU13Kc9gSWQue6RzjMvJw9
XoVluHs2iXM7HoO109CKJ/krYU0wjcVOMsRSCyYLowaOFpykY5nUlJKACHhudmb3F
zsNaS/pPdoUFju4NAXc1shPJM4Pn9Izc7mnu/hx7wgUz2er2h/pI/X3I3ut77XuFM
NvkrwcjdwRY7nrD2P6abSfO052gXIS7QEBl552gZ6FoLzl10CEGRv/r8kMjd85FVW
xFWgwFHdvdETxvrnAexriaZdBCHFWSaK+PliLA1Y6SdZxas1+qLF70Nz0HOvJWJWH
vVljnOWdvZpt0AwvVEdVXYz98eXJo32Y03OvT1xGCcrrmM3FxdXRs80PND79+Dots
Qyu/yIQHags6T15WSAa3WzKuek5eUmkWtkROMfr03KHBQa6WcguFkNrTSKFHWlWdN
LVSz2nKpaTih8Js8VsNqkM2ee8foEB4l6iJf4rJxu2aaS1K5f6BlnnLqYpAmUXE5E
ZiMQ+7qjAIMj//FuvX5BuuS8OnV3IdY6IEgP45Pf7SePSPcvGSLla8KxqI6zyUjEP
NMThY3WoOQhnnnA7UwXKKkzWhhqHHpsBHbAzCK7v+xQ0WUwrnZO6ev3mtRUTFhFaP
L747rP4t55vfY7pO6gTGC74VTYPKDRYfsR0wpgUp6Kbno8ZDxqyW4f8qkuWVVGPtC
DGmfEUuW11DS2x+SOepv0NswYLLH5i/45KF/XVJz1cJ+YzwNX8lyqWRCwUwVNvy7F
pQgmEnXWQZXIz4hwyLrV5XseAspzUSDRM67gHCw0f3iZftPQulQyMdXOZ8wAa47tR
OPtQCqEfPNe+I+Mfe6ynmsGoMeEvAf+1AAZRJNcpTHlOAx+G7Uj8R6ZA/ciNwz9To
AbJLuiL54GQ6qYLS7EReRYbi9NxznwEm8bgMsFbWOxkKVKhGvdQMg+kKSt4h3Mf0u
w1G3PFAvaGrkVB0cM4fraypiPrX8NpEN6U1pHqi9LJ6SW7h4IuTZuVMILu6b7Q5H/
FqLZ4CKcqAbM9Xj6C7hXWLqMsyVdxgwmztdhIcqlYsq6OQg7WUwYLBxO7bJe7jMrv
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1352') {
	err('This update can only be applied to OIDplus version 2.0.0.1352!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: dev/backup_wip.phps
function writefile_1() {
	@$fp = fopen('dev/backup_wip.phps', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgp1c2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXNcT0lEcGx1czsKdXNlIFZpYVRoaW5rU29mdFxPSURwbHVzXE9JRHBsdXNFeGNlcHRpb247CnVzZSBWaWFUaGlua1NvZnRcT0lEcGx1c1xPSURw'));
	@fwrite($fp, base64_decode('bHVzR3VpOwoKaGVhZGVyKCdDb250ZW50LVR5cGU6dGV4dC9odG1sOyBjaGFyc2V0PVVURi04Jyk7CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vaW5jbHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCnNldF9leGNlcHRpb25faGFuZGxlcihhcnJheShPSURwbHVz'));
	@fwrite($fp, base64_decode('R3VpOjpjbGFzcywgJ2h0bWxfZXhjZXB0aW9uX2hhbmRsZXInKSk7CgpvYl9zdGFydCgpOyAvLyBhbGxvdyBjb29raWUgaGVhZGVycyB0byBiZSBzZW50CgpPSURwbHVzOjppbml0KHRydWUpOwoKCgoKZGVmaW5lKCdCQUNLVVBfUkVDT1ZFUllfU1BFQ0lBTF9URVNU'));
	@fwrite($fp, base64_decode('JywgdHJ1ZSk7IC8vIFRPRE86IERpc2FibGUgb24gcmVsZWFzZSEgSnVzdCBmb3IgdGVzdGluZyB0aGUgYmFja3VwL3Jlc3RvcmUgcHJvY2VkdXJlISEhCgoKCgovKnByaXZhdGUqLyBmdW5jdGlvbiBvaWRwbHVzX251bV9yb3dzX2xpc3QoYXJyYXkgJG51bV9yb3dz'));
	@fwrite($fp, base64_decode('KTogc3RyaW5nIHsKCSRvdXQgPSAnJzsKCgkkYXJ5MiA9IFtdOwoJZm9yZWFjaCAoJG51bV9yb3dzIGFzICR0YWJsZSA9PiAkY250KSB7CgkJaWYgKCRjbnQgIT09ICJuL2EiKSAkYXJ5MltdID0gIiR0YWJsZT0kY250IjsKCX0KCSRvdXQgPSBpbXBsb2RlKCIsICIs'));
	@fwrite($fp, base64_decode('ICRhcnkyKTsKCglpZiAoJG91dCA9PT0gJycpICRvdXQgPSAnTm8gdGFibGVzIHNlbGVjdGVkJzsKCXJldHVybiAkb3V0Owp9CgoKCi8vID09PT09PT09PT09PT09PT0gQmFja3VwID09PT09PT09PT09PT09PT0KCi8qcHVibGljKi8gZnVuY3Rpb24gb2lkcGx1c19i'));
	@fwrite($fp, base64_decode('YWNrdXBfZGIoc3RyaW5nICRiYWNrdXBfZmlsZSwgYm9vbCAkZXhwb3J0X29iamVjdHM9dHJ1ZSwgYm9vbCAkZXhwb3J0X3JhPXRydWUsIGJvb2wgJGV4cG9ydF9jb25maWc9ZmFsc2UsIGJvb2wgJGV4cG9ydF9sb2c9ZmFsc2UpOiB2b2lkIHsKCSRudW1fcm93cyA9'));
	@fwrite($fp, base64_decode('IFsKCQkib2JqZWN0cyIgPT4gJGV4cG9ydF9vYmplY3RzID8gMCA6ICJuL2EiLAoJCSJhc24xaWQiID0+ICRleHBvcnRfb2JqZWN0cyA/IDAgOiAibi9hIiwKCQkiaXJpIiA9PiAkZXhwb3J0X29iamVjdHMgPyAwIDogIm4vYSIsCgkJInJhIiA9PiAkZXhwb3J0X3Jh'));
	@fwrite($fp, base64_decode('ID8gMCA6ICJuL2EiLAoJCSJjb25maWciID0+ICRleHBvcnRfY29uZmlnID8gMCA6ICJuL2EiLAoJCSJsb2ciID0+ICRleHBvcnRfbG9nID8gMCA6ICJuL2EiLAoJCSJsb2dfb2JqZWN0IiA9PiAkZXhwb3J0X2xvZyA/IDAgOiAibi9hIiwKCQkibG9nX3VzZXIiID0+'));
	@fwrite($fp, base64_decode('ICRleHBvcnRfbG9nID8gMCA6ICJuL2EiCgldOwoKCWlmIChCQUNLVVBfUkVDT1ZFUllfU1BFQ0lBTF9URVNUKSB7CgkJaWYgKCRleHBvcnRfb2JqZWN0cykgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCBs'));
	@fwrite($fp, base64_decode('aWtlICclX0NMT05FJyIpOwoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjYXNuMWlkIHdoZXJlIG9pZCBsaWtlICclX0NMT05FJyIpOwoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjaXJpIHdoZXJlIG9pZCBsaWtl'));
	@fwrite($fp, base64_decode('ICclX0NMT05FJyIpOwoJCX0KCQlpZiAoJGV4cG9ydF9yYSkgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjcmEgd2hlcmUgZW1haWwgbGlrZSAnJV9DTE9ORSciKTsKCQl9CgkJaWYgKCRleHBvcnRfY29uZmlnKSB7CgkJCU9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNjb25maWcgd2hlcmUgbmFtZSA8PiAnb2lkcGx1c19wcml2YXRlX2tleScgYW5kIG5hbWUgPD4gJ29pZHBsdXNfcHVibGljX2tleScgYW5kIG5hbWUgbGlrZSAnJV9DTE9ORSciKTsKCQl9CgkJaWYgKCRleHBvcnRf'));
	@fwrite($fp, base64_decode('bG9nKSB7CgkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNsb2cgd2hlcmUgYWRkciBsaWtlICclX0NMT05FJyIpOwoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjbG9nX29iamVjdCB3aGVyZSBvYmplY3QgbGlrZSAn'));
	@fwrite($fp, base64_decode('JV9DTE9ORSciKTsKCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI2xvZ191c2VyIHdoZXJlIHVzZXJuYW1lIGxpa2UgJyVfQ0xPTkUnIik7CgkJfQoJfQoKCS8vIEJhY2t1cCBvYmplY3RzIChUYWJsZXMgb2JqZWN0cywgYXNuMWlkLCBpcmkp'));
	@fwrite($fp, base64_decode('Cgkkb2JqZWN0cyA9IFtdOwoJaWYgKCRleHBvcnRfb2JqZWN0cykgewoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNvYmplY3RzIG9yZGVyIGJ5IGlkIik7CgkJJHJvd3MgPSBbXTsKCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZl'));
	@fwrite($fp, base64_decode('dGNoX2FycmF5KCkpIHsKCQkJLy8gTm90IGFsbCBkYXRhYmFzZXMgc3VwcG9ydCBtdWx0aXBsZSBhY3RpdmUgcm93cywgc28gd2UgbmVlZCB0byByZWFkIGl0IGluIGEgaXNvbGF0ZWQgbG9vcAoJCQkkcm93c1tdID0gJHJvdzsKCQl9CgkJZm9yZWFjaCAoJHJvd3Mg'));
	@fwrite($fp, base64_decode('YXMgJHJvdykgewoJCQkkbnVtX3Jvd3NbIm9iamVjdHMiXSsrOwoKCQkJJGFzbjFpZHMgPSBbXTsKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNhc24xaWQgd2hlcmUgb2lkID0gPyBvcmRlciBieSBuYW1lIiwgYXJyYXko'));
	@fwrite($fp, base64_decode('JHJvd1siaWQiXSkpOwoJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJJG51bV9yb3dzWyJhc24xaWQiXSsrOwoJCQkJJGFzbjFpZHNbXSA9IFsKCQkJCQkibmFtZSIgPT4gJHJvdzJbJ25hbWUnXSwKCQkJCQkic3RhbmRhcmRpemVk'));
	@fwrite($fp, base64_decode('IiA9PiAkcm93Mlsnc3RhbmRhcmRpemVkJ10sCgkJCQkJIndlbGxfa25vd24iID0+ICRyb3cyWyd3ZWxsX2tub3duJ10sCgkJCQldOwoJCQl9CgoJCQkkaXJpcyA9IFtdOwoJCQkkcmVzMiA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI2ly'));
	@fwrite($fp, base64_decode('aSB3aGVyZSBvaWQgPSA/IG9yZGVyIGJ5IG5hbWUiLCBhcnJheSgkcm93WyJpZCJdKSk7CgkJCXdoaWxlICgkcm93MiA9ICRyZXMyLT5mZXRjaF9hcnJheSgpKSB7CgkJCQkkbnVtX3Jvd3NbImlyaSJdKys7CgkJCQkkaXJpc1tdID0gWwoJCQkJCSJuYW1lIiA9PiAk'));
	@fwrite($fp, base64_decode('cm93MlsnbmFtZSddLAoJCQkJCSJsb25nYXJjIiA9PiAkcm93MlsnbG9uZ2FyYyddLAoJCQkJCSJ3ZWxsX2tub3duIiA9PiAkcm93Mlsnd2VsbF9rbm93biddLAoJCQkJXTsKCQkJfQoKCQkJJG9iamVjdHNbXSA9IFsKCQkJCSJpZCIgPT4gJHJvd1siaWQiXSwKCQkJ'));
	@fwrite($fp, base64_decode('CSJwYXJlbnQiID0+ICRyb3dbInBhcmVudCJdLAoJCQkJInRpdGxlIiA9PiAkcm93WyJ0aXRsZSJdLAoJCQkJImRlc2NyaXB0aW9uIiA9PiAkcm93WyJkZXNjcmlwdGlvbiJdLAoJCQkJInJhX2VtYWlsIiA9PiAkcm93WyJyYV9lbWFpbCJdLAoJCQkJImNvbmZpZGVu'));
	@fwrite($fp, base64_decode('dGlhbCIgPT4gJHJvd1siY29uZmlkZW50aWFsIl0sCgkJCQkiY3JlYXRlZCIgPT4gJHJvd1siY3JlYXRlZCJdLAoJCQkJInVwZGF0ZWQiID0+ICRyb3dbInVwZGF0ZWQiXSwKCQkJCSJjb21tZW50IiA9PiAkcm93WyJjb21tZW50Il0sCgkJCQkiYXNuMWlkcyIgPT4g'));
	@fwrite($fp, base64_decode('JGFzbjFpZHMsCgkJCQkiaXJpcyIgPT4gJGlyaXMKCQkJXTsKCQl9Cgl9CgoJLy8gQmFja3VwIFJBcyAoVGFibGUgcmEpCgkkcmEgPSBbXTsKCWlmICgkZXhwb3J0X3JhKSB7CgkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI3Jh'));
	@fwrite($fp, base64_decode('IG9yZGVyIGJ5IGVtYWlsIik7CgkJd2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpKSB7CgkJCSRudW1fcm93c1sicmEiXSsrOwoJCQkkcmFbXSA9IFsKCQkJCSJlbWFpbCIgPT4gJHJvd1siZW1haWwiXSwKCQkJCSJyYV9uYW1lIiA9PiAkcm93WyJyYV9u'));
	@fwrite($fp, base64_decode('YW1lIl0sCgkJCQkicGVyc29uYWxfbmFtZSIgPT4gJHJvd1sicGVyc29uYWxfbmFtZSJdLAoJCQkJIm9yZ2FuaXphdGlvbiIgPT4gJHJvd1sib3JnYW5pemF0aW9uIl0sCgkJCQkib2ZmaWNlIiA9PiAkcm93WyJvZmZpY2UiXSwKCQkJCSJzdHJlZXQiID0+ICRyb3db'));
	@fwrite($fp, base64_decode('InN0cmVldCJdLAoJCQkJInppcF90b3duIiA9PiAkcm93WyJ6aXBfdG93biJdLAoJCQkJImNvdW50cnkiID0+ICRyb3dbImNvdW50cnkiXSwKCQkJCSJwaG9uZSIgPT4gJHJvd1sicGhvbmUiXSwKCQkJCSJtb2JpbGUiID0+ICRyb3dbIm1vYmlsZSJdLAoJCQkJImZh'));
	@fwrite($fp, base64_decode('eCIgPT4gJHJvd1siZmF4Il0sCgkJCQkicHJpdmFjeSIgPT4gJHJvd1sicHJpdmFjeSJdLAoJCQkJImF1dGhrZXkiID0+ICRyb3dbImF1dGhrZXkiXSwKCQkJCSJyZWdpc3RlcmVkIiA9PiAkcm93WyJyZWdpc3RlcmVkIl0sCgkJCQkidXBkYXRlZCIgPT4gJHJvd1si'));
	@fwrite($fp, base64_decode('dXBkYXRlZCJdLAoJCQkJImxhc3RfbG9naW4iID0+ICRyb3dbImxhc3RfbG9naW4iXQoJCQldOwoJCX0KCX0KCgkvLyBCYWNrdXAgY29uZmlndXJhdGlvbiAoVGFibGUgY29uZmlnKQoJJGNvbmZpZyA9IFtdOwoJaWYgKCRleHBvcnRfY29uZmlnKSB7CgkJJHJlcyA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICMjI2NvbmZpZyB3aGVyZSBuYW1lIDw+ICdvaWRwbHVzX3ByaXZhdGVfa2V5JyBhbmQgbmFtZSA8PiAnb2lkcGx1c19wdWJsaWNfa2V5JyBvcmRlciBieSBuYW1lIik7CgkJd2hpbGUgKCRyb3cgPSAk'));
	@fwrite($fp, base64_decode('cmVzLT5mZXRjaF9hcnJheSgpKSB7CgkJCSRudW1fcm93c1siY29uZmlnIl0rKzsKCQkJJGNvbmZpZ1tdID0gWwoJCQkJIm5hbWUiID0+ICRyb3dbIm5hbWUiXSwKCQkJCSJ2YWx1ZSIgPT4gJHJvd1sidmFsdWUiXSwKCQkJCSJkZXNjcmlwdGlvbiIgPT4gJHJvd1si'));
	@fwrite($fp, base64_decode('ZGVzY3JpcHRpb24iXSwKCQkJCSJwcm90ZWN0ZWQiID0+ICRyb3dbInByb3RlY3RlZCJdLAoJCQkJInZpc2libGUiID0+ICRyb3dbInZpc2libGUiXQoJCQldOwoJCX0KCX0KCgkvLyBCYWNrdXAgbG9ncyAoVGFibGVzIGxvZywgbG9nX29iamVjdCwgbG9nX3VzZXIp'));
	@fwrite($fp, base64_decode('CgkkbG9nID0gW107CglpZiAoJGV4cG9ydF9sb2cpIHsKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjbG9nIG9yZGVyIGJ5IGlkIik7CgkJJHJvd3MgPSBbXTsKCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkp'));
	@fwrite($fp, base64_decode('IHsKCQkJLy8gTm90IGFsbCBkYXRhYmFzZXMgc3VwcG9ydCBtdWx0aXBsZSBhY3RpdmUgcm93cywgc28gd2UgbmVlZCB0byByZWFkIGl0IGluIGEgaXNvbGF0ZWQgbG9vcAoJCQkkcm93c1tdID0gJHJvdzsKCQl9CgkJZm9yZWFjaCAoJHJvd3MgYXMgJHJvdykgewoJ'));
	@fwrite($fp, base64_decode('CQkkbnVtX3Jvd3NbImxvZyJdKys7CgoJCQkkbG9nX29iamVjdHMgPSBbXTsKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNsb2dfb2JqZWN0IHdoZXJlIGxvZ19pZCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgkcm93WyJp'));
	@fwrite($fp, base64_decode('ZCJdKSk7CgkJCXdoaWxlICgkcm93MiA9ICRyZXMyLT5mZXRjaF9hcnJheSgpKSB7CgkJCQkkbnVtX3Jvd3NbImxvZ19vYmplY3QiXSsrOwoJCQkJJGxvZ19vYmplY3RzW10gPSBbCgkJCQkJIm9iamVjdCIgPT4gJHJvdzJbJ29iamVjdCddLAoJCQkJCSJzZXZlcml0'));
	@fwrite($fp, base64_decode('eSIgPT4gJHJvdzJbJ3NldmVyaXR5J10KCQkJCV07CgkJCX0KCgkJCSRsb2dfdXNlcnMgPSBbXTsKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAjIyNsb2dfdXNlciB3aGVyZSBsb2dfaWQgPSA/IG9yZGVyIGJ5IGlkIiwgYXJy'));
	@fwrite($fp, base64_decode('YXkoJHJvd1siaWQiXSkpOwoJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJJG51bV9yb3dzWyJsb2dfdXNlciJdKys7CgkJCQkkbG9nX3VzZXJzW10gPSBbCgkJCQkJInVzZXJuYW1lIiA9PiAkcm93MlsndXNlcm5hbWUnXSwKCQkJ'));
	@fwrite($fp, base64_decode('CQkic2V2ZXJpdHkiID0+ICRyb3cyWydzZXZlcml0eSddCgkJCQldOwoJCQl9CgoJCQkkbG9nW10gPSBbCgkJCQkidW5peF90cyIgPT4gJHJvd1sidW5peF90cyJdLAoJCQkJImFkZHIiID0+ICRyb3dbImFkZHIiXSwKCQkJCSJldmVudCIgPT4gJHJvd1siZXZlbnQi'));
	@fwrite($fp, base64_decode('XSwKCQkJCSJvYmplY3RzIiA9PiAkbG9nX29iamVjdHMsCgkJCQkidXNlcnMiID0+ICRsb2dfdXNlcnMKCQkJXTsKCQl9Cgl9CgoJLy8gUHV0IGV2ZXJ5dGhpbmcgdG9nZXRoZXIKCSRqc29uID0gWwoJCSJvaWRwbHVzX2JhY2t1cCIgPT4gWwoJCQkiZmlsZV92ZXJz'));
	@fwrite($fp, base64_decode('aW9uIiA9PiAiMjAyMyIsCgkJCSJvcmlnaW5fc3lzdGVtaWQiID0+IE9JRHBsdXM6OmdldFN5c3RlbUlkKGZhbHNlKSA/OiAidW5rbm93biIsCgkJCSJjcmVhdGVkIiA9PiBkYXRlKCdZLW0tZCBIOmk6cyBPJyksCgkJCSJkYXRhc2V0X2NvdW50IiA9PiAkbnVtX3Jv'));
	@fwrite($fp, base64_decode('d3MKCQldLAoJCSJvYmplY3RzIiA9PiAkb2JqZWN0cywKCQkicmEiID0+ICRyYSwKCQkiY29uZmlnIiA9PiAkY29uZmlnLAoJCSJsb2ciID0+ICRsb2cKCV07CgoKCS8vIERvbmUhCgoJJGVuY29kZWRfZGF0YSA9IGpzb25fZW5jb2RlKCRqc29uLCBKU09OX1BSRVRU'));
	@fwrite($fp, base64_decode('WV9QUklOVHxKU09OX1VORVNDQVBFRF9TTEFTSEVTKTsKCWlmIChAZmlsZV9wdXRfY29udGVudHMoJGJhY2t1cF9maWxlLCAkZW5jb2RlZF9kYXRhKSA9PT0gZmFsc2UpIHsKCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiQ291bGQgbm90IHdyaXRlIGZpbGUg'));
	@fwrite($fp, base64_decode('dG8gZGlzazogJGJhY2t1cF9maWxlIik7Cgl9CgoJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiVjI6W0lORk9dQSIsICJDcmVhdGVkIGJhY2t1cDogIi5vaWRwbHVzX251bV9yb3dzX2xpc3QoJG51bV9yb3dzKSk7CgoJZWNobyAiPHA+QmFja3VwIGRvbmU6ICRiYWNr'));
	@fwrite($fp, base64_decode('dXBfZmlsZTwvcD4iOwoJZm9yZWFjaCAoJG51bV9yb3dzIGFzICR0YWJsZV9uYW1lID0+ICRjbnQpIHsKCQlpZiAoJGNudCAhPT0gIm4vYSIpICBlY2hvICI8cD4uLi4gJHRhYmxlX25hbWU6ICRjbnQgZGF0YXNldHM8L3A+IjsKCX0KCWVjaG8gIjxocj4iOwoJZWNo'));
	@fwrite($fp, base64_decode('byAnPHByZT4nOwoJZWNobyBodG1sZW50aXRpZXMoJGVuY29kZWRfZGF0YSk7CgllY2hvICc8L3ByZT4nOwp9CgoKCgovLyA9PT09PT09PT09PT09PT09IFJlY292ZXJ5ID09PT09PT09PT09PT09PT0KCi8qcHVibGljKi8gZnVuY3Rpb24gb2lkcGx1c19yZXN0b3Jl'));
	@fwrite($fp, base64_decode('X2RiKHN0cmluZyAkYmFja3VwX2ZpbGUsIGJvb2wgJGltcG9ydF9vYmplY3RzPXRydWUsIGJvb2wgJGltcG9ydF9yYT10cnVlLCBib29sICRpbXBvcnRfY29uZmlnPWZhbHNlLCBib29sICRpbXBvcnRfbG9nPWZhbHNlKTogdm9pZCB7CgkkbnVtX3Jvd3MgPSBbCgkJ'));
	@fwrite($fp, base64_decode('Im9iamVjdHMiID0+ICRpbXBvcnRfb2JqZWN0cyA/IDAgOiAibi9hIiwKCQkiYXNuMWlkIiA9PiAkaW1wb3J0X29iamVjdHMgPyAwIDogIm4vYSIsCgkJImlyaSIgPT4gJGltcG9ydF9vYmplY3RzID8gMCA6ICJuL2EiLAoJCSJyYSIgPT4gJGltcG9ydF9yYSA/IDAg'));
	@fwrite($fp, base64_decode('OiAibi9hIiwKCQkiY29uZmlnIiA9PiAkaW1wb3J0X2NvbmZpZyA/IDAgOiAibi9hIiwKCQkibG9nIiA9PiAkaW1wb3J0X2xvZyA/IDAgOiAibi9hIiwKCQkibG9nX29iamVjdCIgPT4gJGltcG9ydF9sb2cgPyAwIDogIm4vYSIsCgkJImxvZ191c2VyIiA9PiAkaW1w'));
	@fwrite($fp, base64_decode('b3J0X2xvZyA/IDAgOiAibi9hIgoJXTsKCgkkY29udCA9IEBmaWxlX2dldF9jb250ZW50cygkYmFja3VwX2ZpbGUpOwoJaWYgKCRjb250ID09PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIkNvdWxkIG5vdCByZWFkIGZpbGUgZnJvbSBkaXNrOiAk'));
	@fwrite($fp, base64_decode('YmFja3VwX2ZpbGUiKTsKCSRqc29uID0gQGpzb25fZGVjb2RlKCRjb250LHRydWUpOwoJaWYgKCRqc29uID09PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIkNvdWxkIG5vdCBkZWNvZGUgSlNPTiBzdHJ1Y3R1cmUgb2YgJGJhY2t1cF9maWxlIik7'));
	@fwrite($fp, base64_decode('CgoJaWYgKE9JRHBsdXM6OmRiKCktPnRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpKSBPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9iZWdpbigpOwoJdHJ5IHsKCgkJLy8gUmVzdG9yZSBvYmplY3RzIChUYWJsZXMgb2JqZWN0cywgYXNuMWlkLCBpcmkpCgkJaWYgKCRp'));
	@fwrite($fp, base64_decode('bXBvcnRfb2JqZWN0cykgewoJCQlpZiAoIUJBQ0tVUF9SRUNPVkVSWV9TUEVDSUFMX1RFU1QpIHsKCQkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNvYmplY3RzIik7CgkJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMj'));
	@fwrite($fp, base64_decode('YXNuMWlkIik7CgkJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjaXJpIik7CgkJCX0KCQkJZm9yZWFjaCAoKCRqc29uWyJvYmplY3RzIl0/P1tdKSBhcyAkcm93KSB7CgkJCQlpZiAoQkFDS1VQX1JFQ09WRVJZX1NQRUNJQUxfVEVTVCkgewoJ'));
	@fwrite($fp, base64_decode('CQkJCSRyb3dbJ2lkJ10gLj0gJ19DTE9ORSc7CgkJCQkJaWYgKHN1YnN0cigkcm93WydwYXJlbnQnXSwgLTEpICE9ICc6JykgJHJvd1sncGFyZW50J10gLj0gJ19DTE9ORSc7CgkJCQl9CgoJCQkJJG51bV9yb3dzWyJvYmplY3RzIl0rKzsKCQkJCU9JRHBsdXM6OmRi'));
	@fwrite($fp, base64_decode('KCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNvYmplY3RzIChpZCwgcGFyZW50LCB0aXRsZSwgZGVzY3JpcHRpb24sIHJhX2VtYWlsLCBjb25maWRlbnRpYWwsIGNyZWF0ZWQsIHVwZGF0ZWQsIGNvbW1lbnQpIHZhbHVlcyAoPywgPywgPywgPywgPywgPywgPywgPywg'));
	@fwrite($fp, base64_decode('PykiLAoJCQkJCWFycmF5KCRyb3dbImlkIl0/P251bGwsCgkJCQkJCSRyb3dbInBhcmVudCJdPz9udWxsLAoJCQkJCQkkcm93WyJ0aXRsZSJdPz9udWxsLAoJCQkJCQkkcm93WyJkZXNjcmlwdGlvbiJdPz9udWxsLAoJCQkJCQkkcm93WyJyYV9lbWFpbCJdPz9udWxs'));
	@fwrite($fp, base64_decode('LAoJCQkJCQkkcm93WyJjb25maWRlbnRpYWwiXT8/bnVsbCwKCQkJCQkJJHJvd1siY3JlYXRlZCJdPz9udWxsLAoJCQkJCQkkcm93WyJ1cGRhdGVkIl0/P251bGwsCgkJCQkJCSRyb3dbImNvbW1lbnQiXT8/bnVsbCkKCQkJCSk7CgoJCQkJZm9yZWFjaCAoKCRyb3db'));
	@fwrite($fp, base64_decode('ImFzbjFpZHMiXT8/W10pIGFzICRyb3cyKSB7CgkJCQkJJG51bV9yb3dzWyJhc24xaWQiXSsrOwoJCQkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNhc24xaWQgKG9pZCwgbmFtZSwgc3RhbmRhcmRpemVkLCB3ZWxsX2tub3duKSB2YWx1ZXMg'));
	@fwrite($fp, base64_decode('KD8sID8sID8sID8pIiwKCQkJCQkJYXJyYXkoJHJvd1siaWQiXT8/bnVsbCwgLy8gc2ljOiAkcm93LCBub3QgJHJvdzIKCQkJCQkJCSRyb3cyWyJuYW1lIl0/P251bGwsCgkJCQkJCQkkcm93Mlsic3RhbmRhcmRpemVkIl0/P251bGwsCgkJCQkJCQkkcm93Mlsid2Vs'));
	@fwrite($fp, base64_decode('bF9rbm93biJdPz9udWxsKQoJCQkJCSk7CgkJCQl9CgoJCQkJZm9yZWFjaCAoKCRyb3dbImlyaXMiXT8/W10pIGFzICRyb3cyKSB7CgkJCQkJJG51bV9yb3dzWyJpcmkiXSsrOwoJCQkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNpcmkgKG9p'));
	@fwrite($fp, base64_decode('ZCwgbmFtZSwgbG9uZ2FyYywgd2VsbF9rbm93bikgdmFsdWVzICg/LCA/LCA/LCA/KSIsCgkJCQkJCWFycmF5KCRyb3dbImlkIl0/P251bGwsIC8vIHNpYzogJHJvdywgbm90ICRyb3cyCgkJCQkJCQkkcm93MlsibmFtZSJdPz9udWxsLAoJCQkJCQkJJHJvdzJbImxv'));
	@fwrite($fp, base64_decode('bmdhcmMiXT8/bnVsbCwKCQkJCQkJCSRyb3cyWyJ3ZWxsX2tub3duIl0/P251bGwpCgkJCQkJKTsKCQkJCX0KCQkJfQoJCX0KCgkJLy8gUmVzdG9yZSBSQXMgKFRhYmxlIHJhKQoJCWlmICgkaW1wb3J0X3JhKSB7CgkJCWlmICghQkFDS1VQX1JFQ09WRVJZX1NQRUNJ'));
	@fwrite($fp, base64_decode('QUxfVEVTVCkgewoJCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI3JhIik7CgkJCX0KCQkJZm9yZWFjaCAoKCRqc29uWyJyYSJdPz9bXSkgYXMgJHJvdykgewoJCQkJaWYgKEJBQ0tVUF9SRUNPVkVSWV9TUEVDSUFMX1RFU1QpIHsKCQkJCQkk'));
	@fwrite($fp, base64_decode('cm93WydlbWFpbCddIC49ICdfQ0xPTkUnOwoJCQkJfQoKCQkJCSRudW1fcm93c1sicmEiXSsrOwoJCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImluc2VydCBpbnRvICMjI3JhIChlbWFpbCwgcmFfbmFtZSwgcGVyc29uYWxfbmFtZSwgb3JnYW5pemF0aW9uLCBvZmZp'));
	@fwrite($fp, base64_decode('Y2UsIHN0cmVldCwgemlwX3Rvd24sIGNvdW50cnksIHBob25lLCBtb2JpbGUsIGZheCwgcHJpdmFjeSwgYXV0aGtleSwgcmVnaXN0ZXJlZCwgdXBkYXRlZCwgbGFzdF9sb2dpbikgdmFsdWVzICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/LCA/'));
	@fwrite($fp, base64_decode('LCA/LCA/KSIsCgkJCQkJYXJyYXkoJHJvd1siZW1haWwiXT8/bnVsbCwKCQkJCQkJJHJvd1sicmFfbmFtZSJdPz9udWxsLAoJCQkJCQkkcm93WyJwZXJzb25hbF9uYW1lIl0/P251bGwsCgkJCQkJCSRyb3dbIm9yZ2FuaXphdGlvbiJdPz9udWxsLAoJCQkJCQkkcm93'));
	@fwrite($fp, base64_decode('WyJvZmZpY2UiXT8/bnVsbCwKCQkJCQkJJHJvd1sic3RyZWV0Il0/P251bGwsCgkJCQkJCSRyb3dbInppcF90b3duIl0/P251bGwsCgkJCQkJCSRyb3dbImNvdW50cnkiXT8/bnVsbCwKCQkJCQkJJHJvd1sicGhvbmUiXT8/bnVsbCwKCQkJCQkJJHJvd1sibW9iaWxl'));
	@fwrite($fp, base64_decode('Il0/P251bGwsCgkJCQkJCSRyb3dbImZheCJdPz9udWxsLAoJCQkJCQkkcm93WyJwcml2YWN5Il0/P251bGwsCgkJCQkJCSRyb3dbImF1dGhrZXkiXT8/bnVsbCwKCQkJCQkJJHJvd1sicmVnaXN0ZXJlZCJdPz9udWxsLAoJCQkJCQkkcm93WyJ1cGRhdGVkIl0/P251'));
	@fwrite($fp, base64_decode('bGwsCgkJCQkJCSRyb3dbImxhc3RfbG9naW4iXT8/bnVsbCkKCQkJCSk7CgkJCX0KCQl9CgoJCS8vIFJlc3RvcmUgY29uZmlndXJhdGlvbiAoVGFibGUgY29uZmlnKQoJCWlmICgkaW1wb3J0X2NvbmZpZykgewoJCQlpZiAoIUJBQ0tVUF9SRUNPVkVSWV9TUEVDSUFM'));
	@fwrite($fp, base64_decode('X1RFU1QpIHsKCQkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAjIyNjb25maWcgd2hlcmUgbmFtZSA8PiAnb2lkcGx1c19wcml2YXRlX2tleScgYW5kIG5hbWUgPD4gJ29pZHBsdXNfcHVibGljX2tleSciKTsKCQkJfQoKCQkJZm9yZWFjaCAoKCRq'));
	@fwrite($fp, base64_decode('c29uWyJjb25maWciXT8/W10pIGFzICRyb3cpIHsKCQkJCWlmIChCQUNLVVBfUkVDT1ZFUllfU1BFQ0lBTF9URVNUKSB7CgkJCQkJJHJvd1snbmFtZSddIC49ICdfQ0xPTkUnOwoJCQkJfQoKCQkJCSRudW1fcm93c1siY29uZmlnIl0rKzsKCQkJCU9JRHBsdXM6OmRi'));
	@fwrite($fp, base64_decode('KCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNjb25maWcgKG5hbWUsIHZhbHVlLCBkZXNjcmlwdGlvbiwgcHJvdGVjdGVkLCB2aXNpYmxlKSB2YWx1ZXMgKD8sID8sID8sID8sID8pIiwKCQkJCQlhcnJheSgkcm93WyJuYW1lIl0/P251bGwsCgkJCQkJCSRyb3dbInZh'));
	@fwrite($fp, base64_decode('bHVlIl0/P251bGwsCgkJCQkJCSRyb3dbImRlc2NyaXB0aW9uIl0/P251bGwsCgkJCQkJCSRyb3dbInByb3RlY3RlZCJdPz9udWxsLAoJCQkJCQkkcm93WyJ2aXNpYmxlIl0/P251bGwpCgkJCQkpOwoJCQl9CgoJCX0KCgkJLy8gUmVzdG9yZSBsb2dzIChUYWJsZXMg'));
	@fwrite($fp, base64_decode('bG9nLCBsb2dfb2JqZWN0LCBsb2dfdXNlcikKCQlpZiAoJGltcG9ydF9sb2cpIHsKCQkJaWYgKCFCQUNLVVBfUkVDT1ZFUllfU1BFQ0lBTF9URVNUKSB7CgkJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjbG9nIik7CgkJCQlPSURwbHVzOjpk'));
	@fwrite($fp, base64_decode('YigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjbG9nX29iamVjdCIpOwoJCQkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI2xvZ191c2VyIik7CgkJCX0KCQkJZm9yZWFjaCAoKCRqc29uWyJsb2ciXT8/W10pIGFzICRyb3cpIHsKCQkJCWlmIChC'));
	@fwrite($fp, base64_decode('QUNLVVBfUkVDT1ZFUllfU1BFQ0lBTF9URVNUKSB7CgkJCQkJJHJvd1snYWRkciddIC49ICdfQ0xPTkUnOwoJCQkJfQoKCQkJCSRudW1fcm93c1sibG9nIl0rKzsKCQkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNsb2cgKHVuaXhfdHMsIGFk'));
	@fwrite($fp, base64_decode('ZHIsIGV2ZW50KSB2YWx1ZXMgKD8sID8sID8pIiwKCQkJCQlhcnJheSgkcm93WyJ1bml4X3RzIl0/P251bGwsCgkJCQkJCSRyb3dbImFkZHIiXT8/bnVsbCwKCQkJCQkJJHJvd1siZXZlbnQiXT8/bnVsbCkKCQkJCSk7CgkJCQkkcm93WydpZCddID0gT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('ZGIoKS0+aW5zZXJ0X2lkKCk7CgoJCQkJZm9yZWFjaCAoKCRyb3dbIm9iamVjdHMiXT8/W10pIGFzICRyb3cyKSB7CgkJCQkJJG51bV9yb3dzWyJsb2dfb2JqZWN0Il0rKzsKCQkJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjbG9nX29iamVj'));
	@fwrite($fp, base64_decode('dCAobG9nX2lkLCBvYmplY3QsIHNldmVyaXR5KSB2YWx1ZXMgKD8sID8sID8pIiwKCQkJCQkJYXJyYXkoJHJvd1siaWQiXT8/bnVsbCwgLy8gc2ljOiAkcm93LCBub3QgJHJvdzIKCQkJCQkJCSRyb3cyWyJvYmplY3QiXT8/bnVsbCwKCQkJCQkJCSRyb3cyWyJzZXZl'));
	@fwrite($fp, base64_decode('cml0eSJdPz9udWxsKQoJCQkJCSk7CgkJCQl9CgoJCQkJZm9yZWFjaCAoKCRyb3dbInVzZXJzIl0/P1tdKSBhcyAkcm93MikgewoJCQkJCSRudW1fcm93c1sibG9nX3VzZXIiXSsrOwoJCQkJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNsb2df'));
	@fwrite($fp, base64_decode('dXNlciAobG9nX2lkLCB1c2VybmFtZSwgc2V2ZXJpdHkpIHZhbHVlcyAoPywgPywgPykiLAoJCQkJCQlhcnJheSgkcm93WyJpZCJdPz9udWxsLCAvLyBzaWM6ICRyb3csIG5vdCAkcm93MgoJCQkJCQkJJHJvdzJbInVzZXJuYW1lIl0/P251bGwsCgkJCQkJCQkkcm93'));
	@fwrite($fp, base64_decode('Mlsic2V2ZXJpdHkiXT8/bnVsbCkKCQkJCQkpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBEb25lIQoKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJWMjpbV0FSTl1BIiwgIkVYRUNVVEVEIE9CSkVDVCBBTkQgUkEgREFUQUJBU0UgQkFDS1VQIFJFQ09WRVJZOiAiLm9p'));
	@fwrite($fp, base64_decode('ZHBsdXNfbnVtX3Jvd3NfbGlzdCgkbnVtX3Jvd3MpKTsKCgkJaWYgKE9JRHBsdXM6OmRiKCktPnRyYW5zYWN0aW9uX3N1cHBvcnRlZCgpKSBPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9jb21taXQoKTsKCgkJZWNobyAiPHA+QmFja3VwIHJlc3RvcmUgZG9uZTog'));
	@fwrite($fp, base64_decode('JGJhY2t1cF9maWxlPC9wPiI7CgkJZm9yZWFjaCAoJG51bV9yb3dzIGFzICR0YWJsZV9uYW1lID0+ICRjbnQpIHsKCQkJaWYgKCRjbnQgIT09ICJuL2EiKSAgZWNobyAiPHA+Li4uICR0YWJsZV9uYW1lOiAkY250IGRhdGFzZXRzPC9wPiI7CgkJfQoJCWVjaG8gIjxo'));
	@fwrite($fp, base64_decode('cj4iOwoKCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCQlpZiAoT0lEcGx1czo6ZGIoKS0+dHJhbnNhY3Rpb25fc3VwcG9ydGVkKCkpIE9JRHBsdXM6OmRiKCktPnRyYW5zYWN0aW9uX3JvbGxiYWNrKCk7CgkJdGhyb3cgJGU7Cgl9Cn0KCgoKaWYgKCFpc19kaXIo'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6bG9jYWxwYXRoKCkuJy91c2VyZGF0YS9iYWNrdXBzLycpKSBAbWtkaXIoT0lEcGx1czo6bG9jYWxwYXRoKCkuJy91c2VyZGF0YS9iYWNrdXBzLycpOwokYmFja3VwX2ZpbGUgPSBPSURwbHVzOjpsb2NhbHBhdGgoKS4nL3VzZXJkYXRhL2JhY2t1cHMv'));
	@fwrite($fp, base64_decode('b2lkcGx1cy0nLmRhdGUoJ1ktbS1kLUgtaS1zJykuJy5iYWsuanNvbic7Cm9pZHBsdXNfYmFja3VwX2RiKCRiYWNrdXBfZmlsZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7Cm9pZHBsdXNfcmVzdG9yZV9kYigkYmFja3VwX2ZpbGUsIHRydWUsIHRydWUsIHRydWUs'));
	@fwrite($fp, base64_decode('IHRydWUpOwoKCgoKT0lEcGx1czo6aW52b2tlX3NodXRkb3duKCk7DQo='));
	@fclose($fp);
}
if (!is_file('dev/backup_wip.phps')) {
	warn('File has vanished! Will re-create it: dev/backup_wip.phps');
	writefile_1();
	if (!is_file('dev/backup_wip.phps')) {
		warn('File cannot be created (not existing): dev/backup_wip.phps');
	} else if (sha1_file('dev/backup_wip.phps') != '6a6438b2ea98eef2ff4af80fcc915be012a09002') {
		warn('File cannot be created (checksum mismatch): dev/backup_wip.phps');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('dev/backup_wip.phps', 0644)) {
		warn('Could not change file permissions of dev/backup_wip.phps');
	}
} else {
	if (@sha1_file('dev/backup_wip.phps') !== '6a6438b2ea98eef2ff4af80fcc915be012a09002') {
		if (@sha1_file('dev/backup_wip.phps') !== '9dee19a476e2a665b8db7e349776742ab94615b0') {
			warn('File was modified. Will overwrite the changes now: dev/backup_wip.phps');
			$tmp = pathinfo('dev/backup_wip.phps');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('dev/backup_wip.phps')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('dev/backup_wip.phps', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('dev/backup_wip.phps') !== '6a6438b2ea98eef2ff4af80fcc915be012a09002') {
			warn('File cannot be written (checksum mismatch): dev/backup_wip.phps');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1353\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1353') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

