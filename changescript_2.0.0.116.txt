<?php /* <ViaThinkSoftSignature>
O/SxRo1HcK5OpVLDVvO6mrLajm524uf/Rp3XDtnmJsMCBdKANDYXph2Og8+mKG56o
lf4ngjeOAzj7GGOgRKt/zrKxW7SDicxUsgklvjEedEvr35ufHH0tJqAlb+H27FQ34
h/rkyMi/wK80WquuJPMBBz795Ca1FNv3ih8Fa+mOL2nFdhOcxTceVYMntxooXsEmV
mPYVyQ8aF+LnW3omg9qtXEbfwwpvuLSRmZx6fafRMl5yIiwc+fPCAtvm+g+kxnqe6
xl9gEIZttLYbrba2ZIsrZpPG7SS7rX4V/KQhL3Ag8tlKLt6r4K5IZjSYXPyC3Q2h7
hwi/dhjMQ0YdTARs1LjKbqn06WaLlT8keK8vIJwZSDExNF2hldpI6htEl56/4p2ky
cW77FRsCvmfEpsnORx6RhoyNYIj/Qp68ukyCoHGXJXsvL3ON6Lt4JG9TSSONaWO5t
A9+vDxOp/hQxR4qAO5bUIOcaPMKGPsLp28Z9sNMqMl5zIaCvosqx3KQ0us84BRUrr
tIZuZMZJJOJrGe7zQXWFPOGZHMmcRXoNDWOwz6WgCxcx10mgZ8ayB/i0Cxu6aoP6T
QsJwtKbq9Wec8EN9lP8jHv/2LbjkqURfpsF3nK/Dr90VbkMK13EC7KkqzkkJ/4TNN
hOAS30e5DR+9UUTELqIpjolyGAoMqJtwwEqXRaIMoBBEco++r+h3YfshgqSDsrIOz
jvmLQF/sIkz8SR/6uiK6f7laSnYqga3EpTZQjCJKuAOxZYgVwc/YnLkBtWxb4YHnU
w2h6PALmdX3kEr5U9fQ4wr12yjixCDOtNlkn7jgp8pGe+ACIzSloyY+UuqibAMda1
luevFlUsmhOPa8uSakmO15WeG9QsDe8MJlSVIk3JME4y+EU9chsu+DxvHH7cEagTc
TPm3cw2HgWtEU9BJLRS0ioShgfs1gsrjQfUsY8x9BeU9Dxbdg5Ln8Dh1+5E/wr3PV
QW8PhhNR2bJM9q7VLvwCLLwz9w9mz+rL3/cxL4zvxADWmH1PVFAX7PChhW0QIhx6w
k/Jg9zytTRD+mMZVWUFBMFitac2zWmc6GRyMCQANR/oVM6TJVL3Sz38WgXi9jcexW
YF6s/k+hlvMcr306hhc0q4ofaUjqTYO6/HzWdflkbNpnRpIaFJmgxyh6gs8v6rsQz
OkRD6XNLdpNftZXQ3OOoty5zQL7V2wb5XvXN8jrVayqFy/HLoLtdPSiTDORj0av1L
KAAcyWf618KDah0iGkPkwNLdEHkkeR9BcPOLbqflHHY2G2fOy0k7pe/FRd7B0Gall
vRC6RrmxlrElKYVwCZr9SQ6Yd22IlMEijpIg8j+dFeO3dVyoY1o+Gr3LIwlCQkamP
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 115') {
	err('This update can only be applied to OIDplus version 2.0.0.115!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: ajax.php
function writefile_1() {
	@$fp = fopen('ajax.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKT0lEcGx1czo6aW5pdChmYWxzZSk7CgpPSURwbHVzOjpkYigpLT5zZXRfY2hhcnNldCgiVVRGOCIpOwpP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT5xdWVyeSgiU0VUIE5BTUVTICd1dGY4JyIpOwoKaGVhZGVyKCdDb250ZW50LVR5cGU6YXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcpOwoKdHJ5IHsKCSRoYW5kbGVkID0gZmFsc2U7CgoJLy8gQWN0aW9uOiAgICAgKGFjdGlvbnMg'));
	@fwrite($fp, base64_decode('ZGVmaW5lZCBieSBwbHVnaW5zKQoJLy8gTWV0aG9kOiAgICAgR0VUIC8gUE9TVAoJLy8gUGFyYW1ldGVyczogLi4uCgkvLyBPdXRwdXRzOiAgICAuLi4KCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCcqJykgYXMgJHBsdWdpbikgewoJCSRwbHVnaW4t'));
	@fwrite($fp, base64_decode('PmFjdGlvbigkaGFuZGxlZCk7Cgl9CgoJLy8gQWN0aW9uOiAgICAgZ2V0X2Rlc2NyaXB0aW9uCgkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBpZAoJLy8gT3V0cHV0czogICAgSlNPTgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsiYWN0aW9u'));
	@fwrite($fp, base64_decode('Il0pICYmICgkX1JFUVVFU1RbJ2FjdGlvbiddID09ICdnZXRfZGVzY3JpcHRpb24nKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnaWQnXSkpIHRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgYXJncyIpOwoJCXRyeSB7CgkJ'));
	@fwrite($fp, base64_decode('CSRvdXQgPSBPSURwbHVzOjpndWkoKTo6Z2VuZXJhdGVDb250ZW50UGFnZSgkX1JFUVVFU1RbJ2lkJ10pOwoJCX0gY2F0Y2goRXhjZXB0aW9uICRlKSB7CgkJCSRvdXQgPSBhcnJheSgpOwoJCQkkb3V0Wyd0aXRsZSddID0gJ0Vycm9yJzsKCQkJJG91dFsnaWNvbidd'));
	@fwrite($fp, base64_decode('ID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJJG91dFsndGV4dCddID0gJGUtPmdldE1lc3NhZ2UoKTsKCQl9CgkJZWNobyBqc29uX2VuY29kZSgkb3V0KTsKCX0KCgkvLyA9PT0ganNUcmVlID09PQoKCS8vIEFjdGlvbjogICAgIHRyZWVfc2VhcmNoCgkvLyBNZXRo'));
	@fwrite($fp, base64_decode('b2Q6ICAgICBHRVQgLyBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBzZWFyY2gKCS8vIE91dHB1dHM6ICAgIEpTT04KCWlmIChpc3NldCgkX1JFUVVFU1RbImFjdGlvbiJdKSAmJiAoJF9SRVFVRVNUWydhY3Rpb24nXSA9PSAndHJlZV9zZWFyY2gnKSkgewoJCSRoYW5kbGVk'));
	@fwrite($fp, base64_decode('ID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnc2VhcmNoJ10pKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIGFyZ3MiKTsKCgkJJGZvdW5kID0gZmFsc2U7CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoJyonKSBhcyAkcGx1Z2lu'));
	@fwrite($fp, base64_decode('KSB7CgkJCSRyZXMgPSAkcGx1Z2luLT50cmVlX3NlYXJjaCgkX1JFUVVFU1RbJ3NlYXJjaCddKTsKCQkJaWYgKCRyZXMpIHsKCQkJCWVjaG8ganNvbl9lbmNvZGUoJHJlcyk7CgkJCQkkZm91bmQgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgoJCWlmICghJGZv'));
	@fwrite($fp, base64_decode('dW5kKSB7CgkJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoKSk7CgkJfQoJfQoKCS8vIEFjdGlvbjogICAgIHRyZWVfbG9hZAoJLy8gTWV0aG9kOiAgICAgR0VUIC8gUE9TVAoJLy8gUGFyYW1ldGVyczogaWQ7IGdvdG8gKG9wdGlvbmFsKQoJLy8gT3V0cHV0czogICAg'));
	@fwrite($fp, base64_decode('SlNPTgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsiYWN0aW9uIl0pICYmICgkX1JFUVVFU1RbJ2FjdGlvbiddID09ICd0cmVlX2xvYWQnKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnaWQnXSkpIHRocm93IG5ldyBFeGNlcHRpb24o'));
	@fwrite($fp, base64_decode('IkludmFsaWQgYXJncyIpOwoJCSRqc29uID0gT0lEcGx1c1RyZWU6Ompzb25fdHJlZSgkX1JFUVVFU1RbJ2lkJ10sIGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJycpOwoJCWVjaG8gJGpzb247Cgl9CgoJLy8gPT09IEFkbWlu'));
	@fwrite($fp, base64_decode('IC8gUkEgYWN0aW9ucyA9PT0KCgkvLyBBY3Rpb246ICAgICBkZWxldGVfcmEKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRlcnM6IGVtYWlsCgkvLyBPdXRwdXRzOiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsi'));
	@fwrite($fp, base64_decode('YWN0aW9uIl0gPT0gImRlbGV0ZV9yYSIpKSB7CgkJJGhhbmRsZWQgPSB0cnVlOwoKCQkkZW1haWwgPSAkX1BPU1RbJ2VtYWlsJ107CgoJCSRyYV9sb2dnZWRfaW4gPSBPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNSYUxvZ2dlZEluKCRlbWFpbCk7CgoJCWlmICghT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpICYmICEkcmFfbG9nZ2VkX2luKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oJ0F1dGhlbnRpZmljYXRpb24gZXJyb3IuIFBsZWFzZSBsb2cgaW4uJyk7CgkJfQoKCQlpZiAoJHJhX2xvZ2dlZF9pbikg'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YXV0aFV0aWxzKCktPnJhTG9nb3V0KCRlbWFpbCk7CgoJCSRyYSA9IG5ldyBPSURwbHVzUkEoJGVtYWlsKTsKCQkkcmEtPmRlbGV0ZSgpOwoKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkZW1haWwpPy9BPyIsICJSQSAnJGVtYWlsJyBkZWxl'));
	@fwrite($fp, base64_decode('dGVkIik7CgoJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gMCkpOwoJfQoKCS8vID09PSBPSUQgQ1JVRCA9PT0KCgkvLyBBY3Rpb246ICAgICBEZWxldGUKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRlcnM6IGlkCgkvLyBPdXRwdXRz'));
	@fwrite($fp, base64_decode('OiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gIkRlbGV0ZSIpKSB7CgkJJGhhbmRsZWQgPSB0cnVlOwoKCQkkaWQgPSAkX1BPU1RbJ2lkJ107CgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRp'));
	@fwrite($fp, base64_decode('ZCk7CgoJCS8vIFBy/GZlbiBvYiB6dWdlbGFzc2VuCgkJaWYgKCEkb2JqLT51c2VySGFzUGFyZW50YWxXcml0ZVJpZ2h0cygpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBdXRoZW50aWZpY2F0aW9uIGVycm9yLiBQbGVhc2UgbG9nIGluIGFzIHRoZSBzdXBlcmlvciBS'));
	@fwrite($fp, base64_decode('QSB0byBkZWxldGUgdGhpcyBPSUQuJyk7CgkJCgkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCRpZCkrU1VQT0lEUkEoJGlkKT8vQT8iLCAiT2JqZWN0ICckaWQnIChyZWN1cnNpdmVseSkgZGVsZXRlZCIpOwoKCQkvLyBEZWxldGUgb2JqZWN0CgkJT0lEcGx1'));
	@fwrite($fp, base64_decode('czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJlIGlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRpZCkuIiciKTsKCgkJLy8gRGVsZXRlIG9ycGhhbiBzdHVmZgoJ'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKE9JRHBsdXM6OmdldFJlZ2lzdGVyZWRPYmplY3RUeXBlcygpIGFzICRvdCkgewoJCQkkd2hlcmUgPSAid2hlcmUgcGFyZW50IDw+ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkb3Q6OnJvb3QoKSkuIicgYW5kICIgLgoJCQkg'));
	@fwrite($fp, base64_decode('ICAgICAgICAiICAgICAgcGFyZW50IGxpa2UgJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRvdDo6cm9vdCgpLiclJykuIicgYW5kICIgLgoJCQkgICAgICAgICAiICAgICAgcGFyZW50IG5vdCBpbiAoc2VsZWN0IGlkIGZyb20gIi5PSURQTFVT'));
	@fwrite($fp, base64_decode('X1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgbGlrZSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG90Ojpyb290KCkuJyUnKS4iJykiOwoJCQlkbyB7CgkJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAq'));
	@fwrite($fp, base64_decode('IGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgJHdoZXJlIik7CgkJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpKSB7CgkJCQkJaWYgKCFPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20g'));
	@fwrite($fp, base64_decode('Ii5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHJvd1snaWQnXSkuIiciKSkgewoJCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKE9JRHBsdXM6OmRiKCktPmVycm9y'));
	@fwrite($fp, base64_decode('KCkpOwoJCQkJCX0KCQkJCX0KCQkJfSB3aGlsZSAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPiAwKTsKCQl9CgkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgd2hlcmUgd2Vs'));
	@fwrite($fp, base64_decode('bF9rbm93biA8PiAxIGFuZCBvaWQgbm90IGluIChzZWxlY3QgaWQgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCBsaWtlICdvaWQ6JScpOyIpOwoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAiLk9JRFBM'));
	@fwrite($fp, base64_decode('VVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgIHdoZXJlIHdlbGxfa25vd24gPD4gMSBhbmQgb2lkIG5vdCBpbiAoc2VsZWN0IGlkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgbGlrZSAnb2lkOiUnKTsiKTsKCgkJZWNo'));
	@fwrite($fp, base64_decode('byBqc29uX2VuY29kZShhcnJheSgic3RhdHVzIiA9PiAwKSk7Cgl9CgoJLy8gQWN0aW9uOiAgICAgVXBkYXRlCgkvLyBNZXRob2Q6ICAgICBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBpZCwgcmFfZW1haWwsIGlyaXMsIGFzbjFpZHMsIGNvbmZpZGVudGlhbAoJLy8gT3V0'));
	@fwrite($fp, base64_decode('cHV0czogICAgVGV4dAoJaWYgKGlzc2V0KCRfUE9TVFsiYWN0aW9uIl0pICYmICgkX1BPU1RbImFjdGlvbiJdID09ICJVcGRhdGUiKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCgkJJGlkID0gJF9QT1NUWydpZCddOwoJCSRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJz'));
	@fwrite($fp, base64_decode('ZSgkaWQpOwoKCQkvLyBQcvxmZW4gb2IgenVnZWxhc3NlbgoJCWlmICghJG9iai0+dXNlckhhc1BhcmVudGFsV3JpdGVSaWdodHMoKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXV0aGVudGlmaWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhcyB0aGUgc3VwZXJp'));
	@fwrite($fp, base64_decode('b3IgUkEgdG8gdXBkYXRlIHRoaXMgT0lELicpOwoKCQkvLyBWYWxpZGF0ZSBSQSBlbWFpbCBhZGRyZXNzCgkJJG5ld19yYSA9ICRfUE9TVFsncmFfZW1haWwnXTsKCQlpZiAoIWVtcHR5KCRuZXdfcmEpICYmICFvaWRwbHVzX3ZhbGlkX2VtYWlsKCRuZXdfcmEpKSB7'));
	@fwrite($fp, base64_decode('CgkJCXRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgUkEgZW1haWwgYWRkcmVzcycpOwoJCX0KCQkKCQkvLyBSQSDkbmRlcm4gKHJla3Vyc2l2KQoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IHJhX2VtYWlsIGZyb20gIi5PSURQTFVTX1RB'));
	@fwrite($fp, base64_decode('QkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJGlkKS4iJyIpOwoJCSRyb3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9hcnJheSgkcmVzKTsKCQkkY3VycmVudF9yYSA9ICRyb3dbJ3Jh'));
	@fwrite($fp, base64_decode('X2VtYWlsJ107CgoJCWlmICgkbmV3X3JhICE9ICRjdXJyZW50X3JhKSB7CgkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIk9JRCgkaWQpK1NVUE9JRFJBKCRpZCk/L0E/IiwgIlJBIG9mIG9iamVjdCAnJGlkJyBjaGFuZ2VkIGZyb20gJyRjdXJyZW50X3JhJyB0byAn'));
	@fwrite($fp, base64_decode('JG5ld19yYSciKTsKCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJGN1cnJlbnRfcmEpISIsICJMb3N0IG93bmVyc2hpcCBvZiBvYmplY3QgJyRpZCcgZHVlIHRvIFJBIHRyYW5zZmVyIG9mIHN1cGVyaW9yIFJBIC8gYWRtaW4uIik7CgkJCU9JRHBsdXM6Omxv'));
	@fwrite($fp, base64_decode('Z2dlcigpLT5sb2coIlJBKCRuZXdfcmEpISIsICJHYWluZWQgb3duZXJzaGlwIG9mIG9iamVjdCAnJGlkJyBkdWUgdG8gUkEgdHJhbnNmZXIgb2Ygc3VwZXJpb3IgUkEgLyBhZG1pbi4iKTsKCQkJX3JhX2NoYW5nZV9yZWMoJGlkLCAkY3VycmVudF9yYSwgJG5ld19y'));
	@fwrite($fp, base64_decode('YSk7IC8vIEluaGVyaXRlZCBSQXMgcmVrdXJzaXYgbWl05G5kZXJuCgkJfQoKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJGlkKStTVVBPSURSQSgkaWQpPy9BPyIsICJJZGVudGlmaWVycy9Db25maWRlbnRpYWwgZmxhZyBvZiBvYmplY3QgJyRpZCcgdXBk'));
	@fwrite($fp, base64_decode('YXRlZCIpOyAvLyBUT0RPOiBDaGVjayBpZiB0aGV5IHdlcmUgQUNUVUFMTFkgdXBkYXRlZCEKCgkJLy8gUmVwbGFjZSBBU04uMSB1bmQgSVJJIElEcwoJCWlmICgkb2JqOjpucygpID09ICdvaWQnKSB7CgkJCSRvaWQgPSAkb2JqOwoKCQkJJGlkcyA9ICgkX1BPU1Rb'));
	@fwrite($fp, base64_decode('J2lyaXMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydpcmlzJ10pOwoJCQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJJG9pZC0+cmVwbGFjZUlyaXMoJGlkcyk7CgoJCQkkaWRzID0gKCRfUE9TVFsnYXNuMWlkcyddID09'));
	@fwrite($fp, base64_decode('ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2FzbjFpZHMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkkb2lkLT5yZXBsYWNlQXNuMUlkcygkaWRzKTsKCQl9CgoJCSRjb25maWRlbnRpYWwgPSAkX1BPU1RbJ2NvbmZp'));
	@fwrite($fp, base64_decode('ZGVudGlhbCddID09ICd0cnVlJyA/ICcxJyA6ICcwJzsKCQlpZiAoIU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJVUERBVEUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgU0VUIGNvbmZpZGVudGlhbCA9ICIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2Nh'));
	@fwrite($fp, base64_decode('cGVfc3RyaW5nKCRjb25maWRlbnRpYWwpLiIsIHVwZGF0ZWQgPSBub3coKSBXSEVSRSBpZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQpLiInIikpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbignRXJyb3IgYXQgc2V0dGluZyBjb25m'));
	@fwrite($fp, base64_decode('aWRlbnRpYWwgZmxhZzonIC4gT0lEcGx1czo6ZGIoKS0+ZXJyb3IoKSk7CgkJfQoKCQkkc3RhdHVzID0gMDsKCgkJaWYgKCFlbXB0eSgkbmV3X3JhKSkgewoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCByYV9uYW1lIGZyb20gIi5PSURQTFVT'));
	@fwrite($fp, base64_decode('X1RBQkxFTkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRuZXdfcmEpLiInIik7CgkJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA9PSAwKSAkc3RhdHVzID0gMTsKCQl9CgoJ'));
	@fwrite($fp, base64_decode('CWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gJHN0YXR1cykpOwoJfQoKCS8vIEFjdGlvbjogICAgIFVwZGF0ZTIKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRlcnM6IGlkLCB0aXRsZSwgZGVzY3JpcHRpb24KCS8vIE91dHB1dHM6ICAg'));
	@fwrite($fp, base64_decode('IFRleHQKCWlmIChpc3NldCgkX1BPU1RbImFjdGlvbiJdKSAmJiAoJF9QT1NUWyJhY3Rpb24iXSA9PSAiVXBkYXRlMiIpKSB7CgkJJGhhbmRsZWQgPSB0cnVlOwoKCQkkaWQgPSAkX1BPU1RbJ2lkJ107CgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRpZCk7'));
	@fwrite($fp, base64_decode('CgoJCS8vIFBy/GZlbiBvYiB6dWdlbGFzc2VuCgkJaWYgKCEkb2JqLT51c2VySGFzV3JpdGVSaWdodHMoKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXV0aGVudGlmaWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhcyB0aGUgUkEgdG8gdXBkYXRlIHRoaXMgT0lE'));
	@fwrite($fp, base64_decode('LicpOwoJCQoJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIk9JRCgkaWQpK1NVUE9JRFJBKCRpZCk/L0E/IiwgIlRpdGxlL0Rlc2NyaXB0aW9uIG9mIG9iamVjdCAnJGlkJyB1cGRhdGVkIik7CgoJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlVQREFURSAiLk9J'));
	@fwrite($fp, base64_decode('RFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyBTRVQgdGl0bGUgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJF9QT1NUWyd0aXRsZSddKS4iJywgZGVzY3JpcHRpb24gPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJp'));
	@fwrite($fp, base64_decode('bmcoJF9QT1NUWydkZXNjcmlwdGlvbiddKS4iJywgdXBkYXRlZCA9IG5vdygpIFdIRVJFIGlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRpZCkuIiciKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKE9JRHBsdXM6OmRiKCktPmVycm9y'));
	@fwrite($fp, base64_decode('KCkpOwoJCX0KCgkJZWNobyBqc29uX2VuY29kZShhcnJheSgic3RhdHVzIiA9PiAwKSk7Cgl9CgoJLy8gQWN0aW9uOiAgICAgSW5zZXJ0CgkvLyBNZXRob2Q6ICAgICBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBwYXJlbnQsIGlkLCByYV9lbWFpbCwgY29uZmlkZW50aWFs'));
	@fwrite($fp, base64_decode('LCBpcmlzLCBhc24xaWRzCgkvLyBPdXRwdXRzOiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gIkluc2VydCIpKSB7CgkJJGhhbmRsZWQgPSB0cnVlOwoKCQkvLyBFcyB3aXJkIHZhbGlkaWVydDogSUQs'));
	@fwrite($fp, base64_decode('IHJhIGVtYWlsLCBhc24xIGlkcywgaXJpIGlkcwoKCQkvLyBDaGVjayBpZiB5b3UgaGF2ZSB3cml0ZSByaWdodHMgb24gdGhlIHBhcmVudCAodG8gY3JlYXRlIGEgbmV3IG9iamVjdCkKCQkkb2JqUGFyZW50ID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJF9QT1NUWydw'));
	@fwrite($fp, base64_decode('YXJlbnQnXSk7CgkJaWYgKCEkb2JqUGFyZW50LT51c2VySGFzV3JpdGVSaWdodHMoKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXV0aGVudGlmaWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhcyB0aGUgY29ycmVjdCBSQSB0byBpbnNlcnQgYW4gT0lEIGF0IHRo'));
	@fwrite($fp, base64_decode('aXMgYXJjLicpOwoKCQkvLyBDaGVjayBpZiB0aGUgSUQgaXMgdmFsaWQKCQlpZiAoJF9QT1NUWydpZCddID09ICcnKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdJRCBtYXkgbm90IGJlIGVtcHR5Jyk7CgkJCgkJLy8gQWJzb2x1dGVuIE9JRCBuYW1lbiBiZXN0aW1tZW4K'));
	@fwrite($fp, base64_decode('CQkvLyBOb3RlOiBBdCBhZGRTdHJpbmcoKSBhbmQgcGFyc2UoKSwgdGhlIHN5bnRheCBvZiB0aGUgSUQgd2lsbCBiZSBjaGVja2VkCgkJJGlkID0gJG9ialBhcmVudC0+YWRkU3RyaW5nKCRfUE9TVFsnaWQnXSk7CgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNl'));
	@fwrite($fp, base64_decode('KCRpZCk7CgoJCS8vIFN1cGVyaW9yIFJBIMRuZGVydW5nIGR1cmNoZvxocmVuCgkJJHBhcmVudCA9ICRfUE9TVFsncGFyZW50J107CgkJJHJhX2VtYWlsID0gJF9QT1NUWydyYV9lbWFpbCddOwoJCWlmICghZW1wdHkoJHJhX2VtYWlsKSAmJiAhb2lkcGx1c192YWxp'));
	@fwrite($fp, base64_decode('ZF9lbWFpbCgkcmFfZW1haWwpKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgUkEgZW1haWwgYWRkcmVzcycpOwoJCX0KCQkkY29uZmlkZW50aWFsID0gJF9QT1NUWydjb25maWRlbnRpYWwnXSA9PSAndHJ1ZScgPyAnMScgOiAnMCc7CgoJCU9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmxvZ2dlcigpLT5sb2coIk9JRCgkcGFyZW50KStPSURSQSgkcGFyZW50KT8vQT8iLCAiQ3JlYXRlZCBjaGlsZCBvYmplY3QgJyRpZCciKTsKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJGlkKStTVVBPSURSQSgkaWQpPy9BPyIsICAgICAgIk9iamVj'));
	@fwrite($fp, base64_decode('dCAnJGlkJyBjcmVhdGVkLCBnaXZlbiB0byBSQSAnIi4oZW1wdHkoJHJhX2VtYWlsKSA/ICcodW5kZWZpbmVkKScgOiAkcmFfZW1haWwpLiInIik7CgoJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoIklOU0VSVCBJTlRPICIuT0lEUExVU19UQUJMRU5BTUVfUFJF'));
	@fwrite($fp, base64_decode('RklYLiJvYmplY3RzIChpZCwgcGFyZW50LCByYV9lbWFpbCwgY29uZmlkZW50aWFsLCBjcmVhdGVkKSBWQUxVRVMgKCciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQpLiInLCAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmco'));
	@fwrite($fp, base64_decode('JHBhcmVudCkuIicsICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcmFfZW1haWwpLiInLCAiLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkY29uZmlkZW50aWFsKS4iLCBub3coKSkiKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0'));
	@fwrite($fp, base64_decode('aW9uKE9JRHBsdXM6OmRiKCktPmVycm9yKCkpOwoJCX0KCgkJLy8gU2V0IEFTTi4xIHVuZCBJUkkgSURzCgkJaWYgKCRvYmo6Om5zKCkgPT0gJ29pZCcpIHsKCQkJJG9pZCA9ICRvYmo7CgoJCQkkaWRzID0gKCRfUE9TVFsnaXJpcyddID09ICcnKSA/IGFycmF5KCkg'));
	@fwrite($fp, base64_decode('OiBleHBsb2RlKCcsJywkX1BPU1RbJ2lyaXMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkkb2lkLT5yZXBsYWNlSXJpcygkaWRzKTsKCgkJCSRpZHMgPSAoJF9QT1NUWydhc24xaWRzJ10gPT0gJycpID8gYXJyYXkoKSA6IGV4cGxvZGUo'));
	@fwrite($fp, base64_decode('JywnLCRfUE9TVFsnYXNuMWlkcyddKTsKCQkJJGlkcyA9IGFycmF5X21hcCgndHJpbScsJGlkcyk7CgkJCSRvaWQtPnJlcGxhY2VBc24xSWRzKCRpZHMpOwoJCX0KCgkJJHN0YXR1cyA9IDA7CgoJCWlmICghZW1wdHkoJHJhX2VtYWlsKSkgewoJCQkvLyBEbyB3ZSBu'));
	@fwrite($fp, base64_decode('ZWVkIHRvIG5vdGlmeSB0aGF0IHRoZSBSQSBkb2VzIG5vdCBleGlzdD8KCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcmFfbmFtZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSBlbWFpbCA9ICciLk9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcmFfZW1haWwpLiInIik7CgkJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA9PSAwKSAkc3RhdHVzID0gMTsKCQl9CgoJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gJHN0YXR1cykp'));
	@fwrite($fp, base64_decode('OwoJfQoKCWlmICghJGhhbmRsZWQpIHsKCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCdJbnZhbGlkIGFjdGlvbiBJRCcpOwoJfQp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCSRhcnkgPSBhcnJheSgpOwoJJGFyeVsnZXJyb3InXSA9ICRlLT5nZXRNZXNzYWdlKCk7Cgll'));
	@fwrite($fp, base64_decode('Y2hvIGpzb25fZW5jb2RlKCRhcnkpOwp9CgojIC0tLQoKZnVuY3Rpb24gX3JhX2NoYW5nZV9yZWMoJGlkLCAkb2xkX3JhLCAkbmV3X3JhKSB7CglPSURwbHVzOjpkYigpLT5xdWVyeSgidXBkYXRlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHNl'));
	@fwrite($fp, base64_decode('dCByYV9lbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkbmV3X3JhKS4iJywgdXBkYXRlZCA9IG5vdygpIHdoZXJlIGlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRpZCkuIicgYW5kIGlmbnVsbChyYV9l'));
	@fwrite($fp, base64_decode('bWFpbCwnJykgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG9sZF9yYSkuIiciKTsKCgkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBpZCBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJl'));
	@fwrite($fp, base64_decode('IHBhcmVudCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQpLiInIGFuZCBpZm51bGwocmFfZW1haWwsJycpID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRvbGRfcmEpLiInIik7Cgl3aGlsZSAoJHJvdyA9IE9J'));
	@fwrite($fp, base64_decode('RHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpKSB7CgkJX3JhX2NoYW5nZV9yZWMoJHJvd1snaWQnXSwgJG9sZF9yYSwgJG5ld19yYSk7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('ajax.php')) {
	warn('File has vanished! Will re-create it: ajax.php');
	writefile_1();
	if (!is_file('ajax.php')) {
		warn('File cannot be created (not existing): ajax.php');
	} else if (sha1_file('ajax.php') != '8fb66caf58fc5cb16ee7972da012fbf7f1740ed3') {
		warn('File cannot be created (checksum mismatch): ajax.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('ajax.php', 0644)) {
		warn('Could not change file permissions of ajax.php');
	}
} else {
	if (@sha1_file('ajax.php') !== '8fb66caf58fc5cb16ee7972da012fbf7f1740ed3') {
		if (@sha1_file('ajax.php') !== '48bf27554cc5bdcf03ac2dcf4a56709cd1f49ee6') {
			warn('File was modified. Will overwrite the changes now: ajax.php');
			$tmp = pathinfo('ajax.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('ajax.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('ajax.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('ajax.php') !== '8fb66caf58fc5cb16ee7972da012fbf7f1740ed3') {
			warn('File cannot be written (checksum mismatch): ajax.php');
		}
	}
}

// Files different: includes/classes/OIDplusLogger.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplusLogger.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNMb2dnZXIgewoKCXB1YmxpYyBmdW5jdGlvbiBsb2coJG1hc2tjb2RlcywgJGV2ZW50KSB7CgoJCSR1c2VycyA9'));
	@fwrite($fp, base64_decode('IGFycmF5KCk7CgkJJG9iamVjdHMgPSBhcnJheSgpOwoKCQkvKgoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZcYWpheC5waHAoMTE2KTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJGVtYWlsKT8vQT8iLCAiUkEgJyRlbWFpbCcgZGVsZXRlZCIp'));
	@fwrite($fp, base64_decode('OwoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZcYWpheC5waHAoMTM2KTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCRpZCkrU1VQT0lEUkEoJGlkKT8vQT8iLCAiT2JqZWN0ICckaWQnIChyZWN1cnNpdmVseSkgZGVsZXRlZCIpOwoJCVxccmFz'));
	@fwrite($fp, base64_decode('M1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZcYWpheC5waHAoMTg2KTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCRpZCkrU1VQT0lEUkEoJGlkKT8vQT8iLCAiUkEgb2Ygb2JqZWN0ICckaWQnIGNoYW5nZWQgZnJvbSAnJGN1cnJlbnRfcmEnIHRvICckbmV3'));
	@fwrite($fp, base64_decode('X3JhJyIpOwoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZcYWpheC5waHAoMTg3KTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJGN1cnJlbnRfcmEpISIsICJMb3N0IG93bmVyc2hpcCBvZiBvYmplY3QgJyRpZCcgZHVlIHRvIFJBIHRyYW5zZmVy'));
	@fwrite($fp, base64_decode('IG9mIHN1cGVyaW9yIFJBIC8gYWRtaW4uIik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxhamF4LnBocCgxODgpOiBPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkbmV3X3JhKSEiLCAiR2FpbmVkIG93bmVyc2hpcCBvZiBvYmplY3QgJyRpZCcg'));
	@fwrite($fp, base64_decode('ZHVlIHRvIFJBIHRyYW5zZmVyIG9mIHN1cGVyaW9yIFJBIC8gYWRtaW4uIik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxhamF4LnBocCgxOTIpOiBPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJGlkKStTVVBPSURSQSgkaWQpPy9BPyIsICJJ'));
	@fwrite($fp, base64_decode('ZGVudGlmaWVycy9Db25maWRlbnRpYWwgZmxhZyBvZiBvYmplY3QgJyRpZCcgdXBkYXRlZCIpOyAvLyBUT0RPOiBDaGVjayBpZiB0aGV5IHdlcmUgQUNUVUFMTFkgdXBkYXRlZCEKCQlcXHJhczNcZGF0ZW5caHRkb2NzXG9pZHBsdXNfZGV2XGFqYXgucGhwKDIzNSk6'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIk9JRCgkaWQpK1NVUE9JRFJBKCRpZCk/L0E/IiwgIlRpdGxlL0Rlc2NyaXB0aW9uIG9mIG9iamVjdCAnJGlkJyB1cGRhdGVkIik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxhamF4LnBocCgyNzMpOiBP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJHBhcmVudCkrT0lEUkEoJHBhcmVudCk/L0E/IiwgIkNyZWF0ZWQgY2hpbGQgb2JqZWN0ICckaWQnIik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxhamF4LnBocCgyNzQpOiBPSURwbHVzOjpsb2dn'));
	@fwrite($fp, base64_decode('ZXIoKS0+bG9nKCJPSUQoJGlkKStTVVBPSURSQSgkaWQpPy9BPyIsICJPYmplY3QgJyRpZCcgY3JlYXRlZCwgZ2l2ZW4gdG8gUkEgJyIuKGVtcHR5KCRyYV9lbWFpbCkgPyAnKHVuZGVmaW5lZCknIDogJHJhX2VtYWlsKS4iJyIpOwoJCVxccmFzM1xkYXRlblxodGRv'));
	@fwrite($fp, base64_decode('Y3Ncb2lkcGx1c19kZXZccGx1Z2luc1xwdWJsaWNQYWdlc1wyMDBfdmlhdGhpbmtzb2Z0X2ZyZWVvaWRccGx1Z2luLmluYy5waHAoNjApOiBPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJHJvb3Rfb2lkKStSQSgkZW1haWwpISIsICJSZXF1ZXN0ZWQgYSBmcmVl'));
	@fwrite($fp, base64_decode('IE9JRCBmb3IgZW1haWwgJyRlbWFpbCcgdG8gYmUgcGxhY2VkIGludG8gcm9vdCAnJHJvb3Rfb2lkJyIpOwoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZccGx1Z2luc1xwdWJsaWNQYWdlc1wyMDBfdmlhdGhpbmtzb2Z0X2ZyZWVvaWRccGx1Z2luLmlu'));
	@fwrite($fp, base64_decode('Yy5waHAoMTIwKTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCRyb290X29pZCkrT0lEUkEoJHJvb3Rfb2lkKSEiLCAiQ2hpbGQgT0lEICckbmV3X29pZCcgYWRkZWQgYXV0b21hdGljYWxseSBieSAnJGVtYWlsJyAoUkEgTmFtZTogJyRyYV9uYW1lJykiKTsK'));
	@fwrite($fp, base64_decode('CQlcXHJhczNcZGF0ZW5caHRkb2NzXG9pZHBsdXNfZGV2XHBsdWdpbnNccHVibGljUGFnZXNcMjAwX3ZpYXRoaW5rc29mdF9mcmVlb2lkXHBsdWdpbi5pbmMucGhwKDEyMSk6IE9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIk9JRCgkbmV3X29pZCkrUkEoJGVtYWlsKSEi'));
	@fwrite($fp, base64_decode('LCAgICAgICAgIkZyZWUgT0lEICckbmV3X29pZCcgYWN0aXZhdGVkIChSQSBOYW1lOiAnJHJhX25hbWUnKSIpOwoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZccGx1Z2luc1xwdWJsaWNQYWdlc1wwOTFfZm9yZ290X3Bhc3N3b3JkXHBsdWdpbi5pbmMu'));
	@fwrite($fp, base64_decode('cGhwKDUxKTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJGVtYWlsKSEiLCAiQSBuZXcgcGFzc3dvcmQgZm9yICckZW1haWwnIHdhcyByZXF1ZXN0ZWQgKGZvcmdvdCBwYXNzd29yZCkiKTsKCQlcXHJhczNcZGF0ZW5caHRkb2NzXG9pZHBsdXNfZGV2XHBsdWdp'));
	@fwrite($fp, base64_decode('bnNccHVibGljUGFnZXNcMDkxX2ZvcmdvdF9wYXNzd29yZFxwbHVnaW4uaW5jLnBocCg4OSk6IE9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIlJBKCRlbWFpbCkhIiwgIlJBICckZW1haWwnIGhhcyByZXNldCBoaXMgcGFzc3dvcmQgKGZvcmdvdCBwYXNzd29ydCkiKTsK'));
	@fwrite($fp, base64_decode('CQlcXHJhczNcZGF0ZW5caHRkb2NzXG9pZHBsdXNfZGV2XHBsdWdpbnNccHVibGljUGFnZXNcMDkwX2xvZ2luXHBsdWdpbi5pbmMucGhwKDUwKTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoIi4kX1BPU1RbJ2VtYWlsJ10uIikhIiwgIlJBICciLiRfUE9TVFsn'));
	@fwrite($fp, base64_decode('ZW1haWwnXS4iJyBsb2dnZWQgaW4iKTsKCQlcXHJhczNcZGF0ZW5caHRkb2NzXG9pZHBsdXNfZGV2XHBsdWdpbnNccHVibGljUGFnZXNcMDkwX2xvZ2luXHBsdWdpbi5pbmMucGhwKDY1KTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoIi4kX1BPU1RbJ2VtYWls'));
	@fwrite($fp, base64_decode('J10uIikhIiwgIlJBICciLiRfUE9TVFsnZW1haWwnXS4iJyBsb2dnZWQgb3V0Iik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxwbHVnaW5zXHB1YmxpY1BhZ2VzXDA5MF9sb2dpblxwbHVnaW4uaW5jLnBocCg4Nik6IE9JRHBsdXM6OmxvZ2dlcigp'));
	@fwrite($fp, base64_decode('LT5sb2coIkEhIiwgIkFkbWluIGxvZ2dlZCBpbiIpOwoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZccGx1Z2luc1xwdWJsaWNQYWdlc1wwOTBfbG9naW5ccGx1Z2luLmluYy5waHAoOTUpOiBPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJBISIsICJBZG1p'));
	@fwrite($fp, base64_decode('biBsb2dnZWQgb3V0Iik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxwbHVnaW5zXHB1YmxpY1BhZ2VzXDA5Ml9pbnZpdGVccGx1Z2luLmluYy5waHAoNTMpOiBPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkZW1haWwpISIsICJSQSAnJGVtYWls'));
	@fwrite($fp, base64_decode('JyBoYXMgYmVlbiBpbnZpdGVkIik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxwbHVnaW5zXHB1YmxpY1BhZ2VzXDA5Ml9pbnZpdGVccGx1Z2luLmluYy5waHAoOTEpOiBPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkZW1haWwpISIsICJSQSAn'));
	@fwrite($fp, base64_decode('JGVtYWlsJyBoYXMgYmVlbiByZWdpc3RlcmVkIGR1ZSB0byBpbnZpdGF0aW9uIik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxwbHVnaW5zXHJhUGFnZXNcMTAyX2NoYW5nZV9lbWFpbFxwbHVnaW4uaW5jLnBocCg2MCk6IE9JRHBsdXM6OmxvZ2dl'));
	@fwrite($fp, base64_decode('cigpLT5sb2coIlJBKCRvbGRfZW1haWwpIStSQSgkbmV3X2VtYWlsKSEiLCAiUmVxdWVzdGVkIGVtYWlsIGNoYW5nZSBmcm9tICckb2xkX2VtYWlsJyB0byAnJG5ld19lbWFpbCciKTsKCQlcXHJhczNcZGF0ZW5caHRkb2NzXG9pZHBsdXNfZGV2XHBsdWdpbnNccmFQ'));
	@fwrite($fp, base64_decode('YWdlc1wxMDJfY2hhbmdlX2VtYWlsXHBsdWdpbi5pbmMucGhwKDEyMyk6IE9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIlJBKCRvbGRfZW1haWwpISIsICJDaGFuZ2VkIGVtYWlsIGFkZHJlc3MgZnJvbSAnJG9sZF9lbWFpbCcgdG8gJyRuZXdfZW1haWwnIik7CgkJXFxy'));
	@fwrite($fp, base64_decode('YXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxwbHVnaW5zXHJhUGFnZXNcMTAyX2NoYW5nZV9lbWFpbFxwbHVnaW4uaW5jLnBocCgxMjQpOiBPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkbmV3X2VtYWlsKSEiLCAiUkEgJyRvbGRfZW1haWwnIGhhcyBjaGFu'));
	@fwrite($fp, base64_decode('Z2VkIGl0cyBlbWFpbCBhZGRyZXNzIHRvICckbmV3X2VtYWlsJyIpOwoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZccGx1Z2luc1xyYVBhZ2VzXDEwMV9jaGFuZ2VfcGFzc3dvcmRccGx1Z2luLmluYy5waHAoNjIpOiBPSURwbHVzOjpsb2dnZXIoKS0+'));
	@fwrite($fp, base64_decode('bG9nKCJSQSgkZW1haWwpPy9BPyIsICJQYXNzd29yZCBvZiBSQSAnJGVtYWlsJyBjaGFuZ2VkIik7CgkJXFxyYXMzXGRhdGVuXGh0ZG9jc1xvaWRwbHVzX2RldlxwbHVnaW5zXHJhUGFnZXNcMTAwX2VkaXRfY29udGFjdF9kYXRhXHBsdWdpbi5pbmMucGhwKDQ2KTog'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJGVtYWlsKT8vQT8iLCAiQ2hhbmdlZCBSQSAnJGVtYWlsJyBjb250YWN0IGRhdGEvZGV0YWlscyIpOwoJCVxccmFzM1xkYXRlblxodGRvY3Ncb2lkcGx1c19kZXZccGx1Z2luc1xhZG1pblBhZ2VzXDExMF9zeXN0ZW1f'));
	@fwrite($fp, base64_decode('Y29uZmlnXHBsdWdpbi5pbmMucGhwKDQ5KTogT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiQT8iLCAiQ2hhbmdlZCBzeXN0ZW0gY29uZmlnIHNldHRpbmcgJyRuYW1lJyB0byAnJHZhbHVlJyIpOwoJCSovCgoJCSRtYXNrY29kZXMgPSBzdHJfcmVwbGFjZSgnLycsICcr'));
	@fwrite($fp, base64_decode('JywgJG1hc2tjb2Rlcyk7CgkJJG1hc2tjb2RlcyA9IGV4cGxvZGUoJysnLCAkbWFza2NvZGVzKTsKCQlmb3JlYWNoICgkbWFza2NvZGVzIGFzICRtYXNrY29kZSkgewoJCQkvLyBPSUQoeCkJU2F2ZSBsb2cgZW50cnkgaW50byB0aGUgbG9nYm9vayBvZjogT2JqZWN0'));
	@fwrite($fp, base64_decode('ICJ4IgoJCQlpZiAocHJlZ19tYXRjaCgnQF5PSURcKCguKylcKSRAaXNtVScsICRtYXNrY29kZSwgJG0pKSB7CgkJCQkkb2JqZWN0X2lkID0gJG1bMV07CgkJCQkkb2JqZWN0c1tdID0gJG9iamVjdF9pZDsKCQkJCWlmICgkb2JqZWN0X2lkID09ICcnKSB0aHJvdyBu'));
	@fwrite($fp, base64_decode('ZXcgRXhjZXB0aW9uKCJPSUQgbG9nZ2VyIG1hc2sgcmVxdWlyZXMgT0lEIik7CgkJCX0KCgkJCS8vIE9JRFJBKHgpPwlTYXZlIGxvZyBlbnRyeSBpbnRvIHRoZSBsb2dib29rIG9mOiBMb2dnZWQgaW4gUkEgb2Ygb2JqZWN0ICJ4IgoJCQkvLyBSZXBsYWNlID8gYnkg'));
	@fwrite($fp, base64_decode('ISBpZiB0aGUgZW50aXR5IGRvZXMgbm90IG5lZWQgdG8gYmUgbG9nZ2VkIGluCgkJCWVsc2UgaWYgKHByZWdfbWF0Y2goJ0BeT0lEUkFcKCguKylcKShbXD9cIV0pJEBpc21VJywgJG1hc2tjb2RlLCAkbSkpIHsKCQkJCSRvYmplY3RfaWQgICAgICAgICA9ICRtWzFd'));
	@fwrite($fp, base64_decode('OwoJCQkJJHJhX25lZWRfbG9naW4gICAgID0gJG1bMl0gPT0gJz8nOwoJCQkJaWYgKCRvYmplY3RfaWQgPT0gJycpIHRocm93IG5ldyBFeGNlcHRpb24oIk9JRFJBIGxvZ2dlciBtYXNrIHJlcXVpcmVzIE9JRCIpOwoJCQkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBh'));
	@fwrite($fp, base64_decode('cnNlKCRvYmplY3RfaWQpOwoJCQkJaWYgKCRvYmopIHsKCQkJCQlpZiAoJHJhX25lZWRfbG9naW4pIHsKCQkJCQkJZm9yZWFjaCAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmxvZ2dlZEluUmFMaXN0KCkgYXMgJHJhKSB7CgkJCQkJCQlpZiAoJG9iai0+dXNlckhhc1dy'));
	@fwrite($fp, base64_decode('aXRlUmlnaHRzKCRyYSkpICR1c2Vyc1tdID0gJHJhLT5yYUVtYWlsKCk7CgkJCQkJCX0KCQkJCQl9IGVsc2UgewoJCQkJCQkvLyAkdXNlcnNbXSA9ICRvYmotPmdldFJhKCktPnJhRW1haWwoKTsKCQkJCQkJZm9yZWFjaCAoT0lEcGx1c1JBOjpnZXRBbGxSQXMoKSBh'));
	@fwrite($fp, base64_decode('cyAkcmEpIHsKCQkJCQkJCWlmICgkb2JqLT51c2VySGFzV3JpdGVSaWdodHMoJHJhKSkgJHVzZXJzW10gPSAkcmEtPnJhRW1haWwoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJLy8gU1VQT0lEUkEoeCk/CVNhdmUgbG9nIGVudHJ5IGludG8gdGhlIGxv'));
	@fwrite($fp, base64_decode('Z2Jvb2sgb2Y6IExvZ2dlZCBpbiBSQSB0aGF0IG93bnMgdGhlIHN1cGVyaW9yIG9iamVjdCBvZiAieCIKCQkJLy8gUmVwbGFjZSA/IGJ5ICEgaWYgdGhlIGVudGl0eSBkb2VzIG5vdCBuZWVkIHRvIGJlIGxvZ2dlZCBpbgoJCQllbHNlIGlmIChwcmVnX21hdGNoKCdA'));
	@fwrite($fp, base64_decode('XlNVUE9JRFJBXCgoLispXCkoW1w/XCFdKSRAaXNtVScsICRtYXNrY29kZSwgJG0pKSB7CgkJCQkkb2JqZWN0X2lkICAgICAgICAgPSAkbVsxXTsKCQkJCSRyYV9uZWVkX2xvZ2luICAgICA9ICRtWzJdID09ICc/JzsKCQkJCWlmICgkb2JqZWN0X2lkID09ICcnKSB0'));
	@fwrite($fp, base64_decode('aHJvdyBuZXcgRXhjZXB0aW9uKCJTVVBPSURSQSBsb2dnZXIgbWFzayByZXF1aXJlcyBPSUQiKTsKCQkJCSRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkb2JqZWN0X2lkKTsKCQkJCWlmICgkb2JqKSB7CgkJCQkJaWYgKCRyYV9uZWVkX2xvZ2luKSB7CgkJCQkJ'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKE9JRHBsdXM6OmF1dGhVdGlscygpLT5sb2dnZWRJblJhTGlzdCgpIGFzICRyYSkgewoJCQkJCQkJaWYgKCRvYmotPnVzZXJIYXNQYXJlbnRhbFdyaXRlUmlnaHRzKCRyYSkpICR1c2Vyc1tdID0gJHJhLT5yYUVtYWlsKCk7CgkJCQkJCX0KCQkJCQl9'));
	@fwrite($fp, base64_decode('IGVsc2UgewoJCQkJCQkvLyAkdXNlcnNbXSA9ICRvYmotPmdldFBhcmVudCgpLT5nZXRSYSgpLT5yYUVtYWlsKCk7CgkJCQkJCWZvcmVhY2ggKE9JRHBsdXNSQTo6Z2V0QWxsUkFzKCkgYXMgJHJhKSB7CgkJCQkJCQlpZiAoJG9iai0+dXNlckhhc1BhcmVudGFsV3Jp'));
	@fwrite($fp, base64_decode('dGVSaWdodHMoJHJhKSkgJHVzZXJzW10gPSAkcmEtPnJhRW1haWwoKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJLy8gUkEoeCk/CVNhdmUgbG9nIGVudHJ5IGludG8gdGhlIGxvZ2Jvb2sgb2Y6IExvZ2dlZCBpbiBSQSAieCIKCQkJLy8gUmVwbGFjZSA/'));
	@fwrite($fp, base64_decode('IGJ5ICEgaWYgdGhlIGVudGl0eSBkb2VzIG5vdCBuZWVkIHRvIGJlIGxvZ2dlZCBpbgoJCQllbHNlIGlmIChwcmVnX21hdGNoKCdAXlJBXCgoLispXCkoW1w/XCFdKSRAaXNtVScsICRtYXNrY29kZSwgJG0pKSB7CgkJCQkkcmFfZW1haWwgICAgICAgICAgPSAkbVsx'));
	@fwrite($fp, base64_decode('XTsKCQkJCSRyYV9uZWVkX2xvZ2luICAgICA9ICRtWzJdID09ICc/JzsKCQkJCWlmICgkcmFfbmVlZF9sb2dpbiAmJiBPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNSYUxvZ2dlZEluKCRyYV9lbWFpbCkpIHsKCQkJCQkkdXNlcnNbXSA9ICRyYV9lbWFpbDsKCQkJCX0g'));
	@fwrite($fp, base64_decode('ZWxzZSBpZiAoISRyYV9uZWVkX2xvZ2luKSB7CgkJCQkJJHVzZXJzW10gPSAkcmFfZW1haWw7CgkJCQl9CgkJCX0KCgkJCS8vIEE/CVNhdmUgbG9nIGVudHJ5IGludG8gdGhlIGxvZ2Jvb2sgb2Y6IEEgbG9nZ2VkIGluIGFkbWluCgkJCS8vIFJlcGxhY2UgPyBieSAh'));
	@fwrite($fp, base64_decode('IGlmIHRoZSBlbnRpdHkgZG9lcyBub3QgbmVlZCB0byBiZSBsb2dnZWQgaW4KCQkJZWxzZSBpZiAocHJlZ19tYXRjaCgnQF5BKFtcP1whXSkkQGlzbVUnLCAkbWFza2NvZGUsICRtKSkgewoJCQkJJGFkbWluX25lZWRfbG9naW4gPSAkbVsxXSA9PSAnPyc7CgkJCQlp'));
	@fwrite($fp, base64_decode('ZiAoJGFkbWluX25lZWRfbG9naW4gJiYgT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkJJHVzZXJzW10gPSAnYWRtaW4nOwoJCQkJfSBlbHNlIGlmICghJGFkbWluX25lZWRfbG9naW4pIHsKCQkJCQkkdXNlcnNbXSA9ICdhZG1p'));
	@fwrite($fp, base64_decode('bic7CgkJCQl9CgkJCX0KCgkJCS8vIFVuZXhwZWN0ZWQKCQkJZWxzZSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJVbmV4cGVjdGVkIGxvZ2dlciBtYXNrIGNvZGUgJyRtYXNrY29kZSciKTsKCQkJfQoJCX0KCgkJLy8gVE9ETzogTG9nIHRvIGRhdGFiYXNlCgkJ'));
	@fwrite($fp, base64_decode('JHVzZXJzID0gaW1wbG9kZSgnOycsICR1c2Vycyk7CgkJaWYgKCR1c2VycyA9PSAnJykgJHVzZXJzID0gJy0nOwoJCSRvYmplY3RzID0gaW1wbG9kZSgnOycsICRvYmplY3RzKTsKCQlpZiAoJG9iamVjdHMgPT0gJycpICRvYmplY3RzID0gJy0nOwoJCWZpbGVfcHV0'));
	@fwrite($fp, base64_decode('X2NvbnRlbnRzKF9fRElSX18gLiAnLy4uLy4uL2xvZ3Rlc3QubG9nJywgIiRvYmplY3RzIC8gJHVzZXJzIC8gJGV2ZW50XG4iLCBGSUxFX0FQUEVORCk7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusLogger.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusLogger.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplusLogger.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusLogger.class.php');
	} else if (sha1_file('includes/classes/OIDplusLogger.class.php') != '358ce4d51c1a54a4a62492b0ce4d0b53cf8a8de6') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusLogger.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusLogger.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusLogger.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusLogger.class.php') !== '358ce4d51c1a54a4a62492b0ce4d0b53cf8a8de6') {
		if (@sha1_file('includes/classes/OIDplusLogger.class.php') !== 'f5897ef5ac7db4cd76adefdae69fabaa50909779') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusLogger.class.php');
			$tmp = pathinfo('includes/classes/OIDplusLogger.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusLogger.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusLogger.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplusLogger.class.php') !== '358ce4d51c1a54a4a62492b0ce4d0b53cf8a8de6') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusLogger.class.php');
		}
	}
}

// Files different: plugins/publicPages/090_login/plugin.inc.php
function writefile_3() {
	@$fp = fopen('plugins/publicPages/090_login/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNQYWdlUHVibGljTG9naW4gZXh0ZW5kcyBPSURwbHVzUGFnZVBsdWdpbiB7CglwdWJsaWMgZnVuY3Rpb24gdHlw'));
	@fwrite($fp, base64_decode('ZSgpIHsKCQlyZXR1cm4gJ3B1YmxpYyc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHByaW9yaXR5KCkgewoJCXJldHVybiA5MDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYWN0aW9uKCYkaGFuZGxlZCkgewoJCS8vID09PSBSQSBMT0dJTi9MT0dPVVQgPT09CgoJCWlmIChp'));
	@fwrite($fp, base64_decode('c3NldCgkX1BPU1RbImFjdGlvbiJdKSAmJiAoJF9QT1NUWyJhY3Rpb24iXSA9PSAicmFfbG9naW4iKSkgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJCQkkcmEgPSBuZXcgT0lEcGx1c1JBKCRfUE9TVFsnZW1haWwnXSk7CgkJCQoJCQlpZiAoUkVDQVBUQ0hBX0VOQUJM'));
	@fwrite($fp, base64_decode('RUQpIHsKCQkJCSRzZWNyZXQ9UkVDQVBUQ0hBX1BSSVZBVEU7CgkJCQkkcmVzcG9uc2U9JF9QT1NUWyJjYXB0Y2hhIl07CgkJCQkkdmVyaWZ5PWZpbGVfZ2V0X2NvbnRlbnRzKCJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkvc2l0ZXZlcmlmeT9z'));
	@fwrite($fp, base64_decode('ZWNyZXQ9eyRzZWNyZXR9JnJlc3BvbnNlPXskcmVzcG9uc2V9Iik7CgkJCQkkY2FwdGNoYV9zdWNjZXNzPWpzb25fZGVjb2RlKCR2ZXJpZnkpOwoJCQkJaWYgKCRjYXB0Y2hhX3N1Y2Nlc3MtPnN1Y2Nlc3M9PWZhbHNlKSB7CgkJCQkJZGllKGpzb25fZW5jb2RlKGFy'));
	@fwrite($fp, base64_decode('cmF5KCJlcnJvciIgPT4gJ0NhcHRjaGEgd3JvbmcnKSkpOwoJCQkJfQoJCQl9CgoJCQlpZiAoJHJhLT5jaGVja1Bhc3N3b3JkKCRfUE9TVFsncGFzc3dvcmQnXSkpIHsKCQkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIlJBKCIuJF9QT1NUWydlbWFpbCddLiIpISIs'));
	@fwrite($fp, base64_decode('ICJSQSAnIi4kX1BPU1RbJ2VtYWlsJ10uIicgbG9nZ2VkIGluIik7CgkJCQlPSURwbHVzOjphdXRoVXRpbHMoKTo6cmFMb2dpbigkX1BPU1RbJ2VtYWlsJ10pOwoKCQkJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlVQREFURSAiLk9JRFBMVVNfVEFCTEVOQU1F'));
	@fwrite($fp, base64_decode('X1BSRUZJWC4icmEgc2V0IGxhc3RfbG9naW4gPSBub3coKSB3aGVyZSBlbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkX1BPU1RbJ2VtYWlsJ10pLiInIikpIHsKCQkJCQlkaWUoanNvbl9lbmNvZGUoYXJyYXkoImVycm9yIiA9PiBP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT5lcnJvcigpKSkpOwoJCQkJfQoKCQkJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gMCkpOwoJCQl9IGVsc2UgewoJCQkJZGllKGpzb25fZW5jb2RlKGFycmF5KCJlcnJvciIgPT4gIldyb25nIHBhc3N3b3JkIikpKTsKCQkJ'));
	@fwrite($fp, base64_decode('fQoJCX0KCQlpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gInJhX2xvZ291dCIpKSB7CgkJCSRoYW5kbGVkID0gdHJ1ZTsKCQkJCgkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIlJBKCIuJF9QT1NUWydlbWFpbCddLiIp'));
	@fwrite($fp, base64_decode('ISIsICJSQSAnIi4kX1BPU1RbJ2VtYWlsJ10uIicgbG9nZ2VkIG91dCIpOwoJCQlPSURwbHVzOjphdXRoVXRpbHMoKTo6cmFMb2dvdXQoJF9QT1NUWydlbWFpbCddKTsKCQkJZWNobyBqc29uX2VuY29kZShhcnJheSgic3RhdHVzIiA9PiAwKSk7CgkJfQoKCQkvLyA9'));
	@fwrite($fp, base64_decode('PT0gQURNSU4gTE9HSU4vTE9HT1VUID09PQoKCQlpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gImFkbWluX2xvZ2luIikpIHsKCQkJJGhhbmRsZWQgPSB0cnVlOwoKCQkJaWYgKFJFQ0FQVENIQV9FTkFCTEVEKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkkc2VjcmV0PVJFQ0FQVENIQV9QUklWQVRFOwoJCQkJJHJlc3BvbnNlPSRfUE9TVFsiY2FwdGNoYSJdOwoJCQkJJHZlcmlmeT1maWxlX2dldF9jb250ZW50cygiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9yZWNhcHRjaGEvYXBpL3NpdGV2ZXJpZnk/c2VjcmV0PXsk'));
	@fwrite($fp, base64_decode('c2VjcmV0fSZyZXNwb25zZT17JHJlc3BvbnNlfSIpOwoJCQkJJGNhcHRjaGFfc3VjY2Vzcz1qc29uX2RlY29kZSgkdmVyaWZ5KTsKCQkJCWlmICgkY2FwdGNoYV9zdWNjZXNzLT5zdWNjZXNzPT1mYWxzZSkgewoJCQkJCWRpZShqc29uX2VuY29kZShhcnJheSgiZXJy'));
	@fwrite($fp, base64_decode('b3IiID0+ICdDYXB0Y2hhIHdyb25nJykpKTsKCQkJCX0KCQkJfQoKCQkJaWYgKE9JRHBsdXM6OmF1dGhVdGlscygpOjphZG1pbkNoZWNrUGFzc3dvcmQoJF9QT1NUWydwYXNzd29yZCddKSkgewoJCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiQSEiLCAiQWRtaW4g'));
	@fwrite($fp, base64_decode('bG9nZ2VkIGluIik7CgkJCQlPSURwbHVzOjphdXRoVXRpbHMoKTo6YWRtaW5Mb2dpbigpOwoJCQkJZWNobyBqc29uX2VuY29kZShhcnJheSgic3RhdHVzIiA9PiAwKSk7CgkJCX0gZWxzZSB7CgkJCQlkaWUoanNvbl9lbmNvZGUoYXJyYXkoImVycm9yIiA9PiAiV3Jv'));
	@fwrite($fp, base64_decode('bmcgcGFzc3dvcmQiKSkpOwoJCQl9CgkJfQoJCWlmIChpc3NldCgkX1BPU1RbImFjdGlvbiJdKSAmJiAoJF9QT1NUWyJhY3Rpb24iXSA9PSAiYWRtaW5fbG9nb3V0IikpIHsKCQkJJGhhbmRsZWQgPSB0cnVlOwoJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJBISIs'));
	@fwrite($fp, base64_decode('ICJBZG1pbiBsb2dnZWQgb3V0Iik7CgkJCU9JRHBsdXM6OmF1dGhVdGlscygpOjphZG1pbkxvZ291dCgpOwoJCQllY2hvIGpzb25fZW5jb2RlKGFycmF5KCJzdGF0dXMiID0+IDApKTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGluaXQoJGh0bWw9dHJ1ZSkgewoJ'));
	@fwrite($fp, base64_decode('fQoKCXB1YmxpYyBmdW5jdGlvbiBjZmdTZXRWYWx1ZSgkbmFtZSwgJHZhbHVlKSB7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGd1aSgkaWQsICYkb3V0LCAmJGhhbmRsZWQpIHsKCQlpZiAoJGlkID09PSAnb2lkcGx1czpsb2dpbicpIHsKCQkJJGhhbmRsZWQgPSB0cnVl'));
	@fwrite($fp, base64_decode('OwoJCQkkb3V0Wyd0aXRsZSddID0gJ0xvZ2luJzsKCQkJJG91dFsnaWNvbiddICA9ICdwbHVnaW5zL3B1YmxpY1BhZ2VzLycuYmFzZW5hbWUoX19ESVJfXykuJy9sb2dpbl9iaWcucG5nJzsKCgkJCSRvdXRbJ3RleHQnXSAuPSAnPG5vc2NyaXB0Pic7CgkJCSRvdXRb'));
	@fwrite($fp, base64_decode('J3RleHQnXSAuPSAnPHA+WW91IG5lZWQgdG8gZW5hYmxlIEphdmFTY3JpcHQgdG8gdXNlIHRoZSBsb2dpbiBhcmVhLjwvcD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzwvbm9zY3JpcHQ+JzsKCgkJCSRvdXRbJ3RleHQnXSAuPSAoUkVDQVBUQ0hBX0VOQUJMRUQgPyAn'));
	@fwrite($fp, base64_decode('PHNjcmlwdD4gZ3JlY2FwdGNoYS5yZW5kZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImctcmVjYXB0Y2hhIiksIHsgInNpdGVrZXkiIDogIicuUkVDQVBUQ0hBX1BVQkxJQy4nIiB9KTsgPC9zY3JpcHQ+Jy4KCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICc8cD5CZWZvcmUgbG9nZ2luZyBpbiwgcGxlYXNlIHNvbHZlIHRoZSBmb2xsb3dpbmcgQ0FQVENIQTwvcD48ZGl2IGlkPSJnLXJlY2FwdGNoYSIgY2xhc3M9ImctcmVjYXB0Y2hhIiBkYXRhLXNpdGVrZXk9IicuUkVDQVBUQ0hBX1BVQkxJQy4nIj48L2Rp'));
	@fwrite($fp, base64_decode('dj4nIDogJycpOwoKCgkJCSRvdXRbJ3RleHQnXSAuPSAnPGJyPic7CgoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxkaXYgaWQ9ImxvZ2luQXJlYSIgc3R5bGU9InZpc2liaWxpdHk6IGhpZGRlbiI+PGRpdiBpZD0ibG9naW5UYWIiIGNsYXNzPSJjb250YWluZXIiIHN0eWxl'));
	@fwrite($fp, base64_decode('PSJ3aWR0aDoxMDAlOyI+JzsKCQkJJG91dFsndGV4dCddIC49ICc8dWwgIGNsYXNzPSJuYXYgbmF2LXBpbGxzIj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJCTxsaSBjbGFzcz0iYWN0aXZlIj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJyAgICAgICAgPGEgIGhyZWY9'));
	@fwrite($fp, base64_decode('IiMxYSIgZGF0YS10b2dnbGU9InRhYiI+TG9naW4gYXMgUkE8L2E+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCQk8L2xpPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQkJPGxpPjxhIGhyZWY9IiMyYSIgZGF0YS10b2dnbGU9InRhYiI+TG9naW4gYXMgYWRtaW5pc3Ry'));
	@fwrite($fp, base64_decode('YXRvcjwvYT4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJCTwvbGk+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTwvdWw+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCQk8ZGl2IGNsYXNzPSJ0YWItY29udGVudCBjbGVhcmZpeCI+JzsKCQkJJG91dFsndGV4dCddIC49'));
	@fwrite($fp, base64_decode('ICcJCQkgIDxkaXYgY2xhc3M9InRhYi1wYW5lIGFjdGl2ZSIgaWQ9IjFhIj4nOwoKCQkJJG91dFsndGV4dCddIC49ICc8aDI+TG9naW4gYXMgUkE8L2gyPic7CgoJCQkkbG9naW5fbGlzdCA9IE9JRHBsdXM6OmF1dGhVdGlscygpLT5sb2dnZWRJblJhTGlzdCgpOwoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoY291bnQoJGxvZ2luX2xpc3QpID4gMCkgewoJCQkJZm9yZWFjaCAoJGxvZ2luX2xpc3QgYXMgJHgpIHsKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPllvdSBhcmUgbG9nZ2VkIGluIGFzIDxiPicuJHgtPnJhRW1haWwoKS4nPC9iPiAoPGEgaHJlZj0iIyIg'));
	@fwrite($fp, base64_decode('b25jbGljaz0icmV0dXJuIHJhTG9nb3V0KCcuanNfZXNjYXBlKCR4LT5yYUVtYWlsKCkpLicpOyI+TG9nb3V0PC9hPik8L3A+JzsKCQkJCX0KCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+SWYgeW91IGhhdmUgbW9yZSBhY2NvdW50cywgeW91IGNhbiBsb2cgaW4gd2l0'));
	@fwrite($fp, base64_decode('aCBhIG5ldyBhY2NvdW50OjwvcD4nOwoJCQl9IGVsc2UgewoJCQkJJG91dFsndGV4dCddIC49ICc8cD5FbnRlciB5b3VyIGVtYWlsIGFkZHJlc3MgYW5kIHlvdXIgcGFzc3dvcmQgdG8gbG9nIGluIGFzIFJlZ2lzdHJhdGlvbiBBdXRob3JpdHkuPC9wPic7CgkJCX0K'));
	@fwrite($fp, base64_decode('CQkJJG91dFsndGV4dCddIC49ICc8Zm9ybSBvbnN1Ym1pdD0icmV0dXJuIHJhTG9naW5PblN1Ym1pdCh0aGlzKTsiPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iYWN0aW9uIiB2YWx1ZT0icmFfbG9naW4iPic7CgkJCSRv'));
	@fwrite($fp, base64_decode('dXRbJ3RleHQnXSAuPSAnPGxhYmVsIGNsYXNzPSJwYWRkaW5nX2xhYmVsIj5FLU1haWw6PC9sYWJlbD48aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iZW1haWwiIHZhbHVlPSIiIGlkPSJyYUxvZ2luRU1haWwiPjxicj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxsYWJl'));
	@fwrite($fp, base64_decode('bCBjbGFzcz0icGFkZGluZ19sYWJlbCI+UGFzc3dvcmQ6PC9sYWJlbD48aW5wdXQgdHlwZT0icGFzc3dvcmQiIG5hbWU9InBhc3N3b3JkIiB2YWx1ZT0iIiBpZD0icmFMb2dpblBhc3N3b3JkIj48YnI+PGJyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPGlucHV0IHR5'));
	@fwrite($fp, base64_decode('cGU9InN1Ym1pdCIgdmFsdWU9IkxvZ2luIj48YnI+PGJyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPC9mb3JtPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGEgJy5vaWRwbHVzX2xpbmsoJ29pZHBsdXM6Zm9yZ290X3Bhc3N3b3JkJykuJz5Gb3Jnb3QgcGFzc3dv'));
	@fwrite($fp, base64_decode('cmQ/PC9hPjxicj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxhYmJyIHRpdGxlPSJUbyByZWNlaXZlIGxvZ2luIGRhdGEsIHRoZSBzdXBlcmlvciBSQSBuZWVkcyB0byBzZW5kIHlvdSBhbiBpbnZpdGF0aW9uLiBBZnRlciBjcmVhdGluZyBvciB1cGRhdGluZyB5b3Vy'));
	@fwrite($fp, base64_decode('IE9JRCwgdGhlIHN5c3RlbSB3aWxsIGFzayB0aGVtIGlmIHRoZXkgd2FudCB0byBzZW5kIHlvdSBhbiBpbnZpdGF0aW9uLiBJZiB0aGV5IGFjY2VwdCwgeW91IHdpbGwgcmVjZWl2ZSBhbiBlbWFpbCB3aXRoIGFuIGFjdGl2YXRpb24gbGluay4iPkhvdyB0byByZWdp'));
	@fwrite($fp, base64_decode('c3Rlcj88L2FiYnI+PC9wPic7CgoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJCQk8L2Rpdj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJCQk8ZGl2IGNsYXNzPSJ0YWItcGFuZSIgaWQ9IjJhIj4nOwoKCQkJaWYgKE9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9n'));
	@fwrite($fp, base64_decode('Z2VkSW4oKSkgewoJCQkJJG91dFsndGV4dCddIC49ICc8aDI+QWRtaW4gbG9naW48L2gyPic7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPllvdSBhcmUgbG9nZ2VkIGluIGFzIGFkbWluaXN0cmF0b3IuPC9wPic7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxhIGhyZWY9'));
	@fwrite($fp, base64_decode('IiMiIG9uY2xpY2s9InJldHVybiBhZG1pbkxvZ291dCgpOyI+TG9nb3V0PC9hPic7CgkJCX0gZWxzZSB7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxoMj5Mb2dpbiBhcyBhZG1pbmlzdHJhdG9yPC9oMj4nOwoJCQkJJG91dFsndGV4dCddIC49ICc8Zm9ybSBvbnN1Ym1p'));
	@fwrite($fp, base64_decode('dD0icmV0dXJuIGFkbWluTG9naW5PblN1Ym1pdCh0aGlzKTsiPic7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImFjdGlvbiIgdmFsdWU9ImFkbWluX2xvZ2luIj4nOwoJCQkJJG91dFsndGV4dCddIC49ICc8bGFiZWwgY2xh'));
	@fwrite($fp, base64_decode('c3M9InBhZGRpbmdfbGFiZWwiPlBhc3N3b3JkOjwvbGFiZWw+PGlucHV0IHR5cGU9InBhc3N3b3JkIiBuYW1lPSJwYXNzd29yZCIgdmFsdWU9IiIgaWQ9ImFkbWluTG9naW5QYXNzd29yZCI+PGJyPjxicj4nOwoJCQkJJG91dFsndGV4dCddIC49ICc8aW5wdXQgdHlw'));
	@fwrite($fp, base64_decode('ZT0ic3VibWl0IiB2YWx1ZT0iTG9naW4iPjxicj48YnI+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPC9mb3JtPic7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhYmJyIHRpdGxlPSJEZWxldGUgdGhlIGZpbGUgaW5jbHVkZXMvY29uZmlnLmluYy5waHAgYW5kIHJl'));
	@fwrite($fp, base64_decode('bG9hZCB0aGUgcGFnZSB0byBzdGFydCBTZXR1cCBhZ2FpbiI+Rm9yZ290IHBhc3N3b3JkPzwvYWJicj48L3A+JzsKCQkJfQoKCQkJJG91dFsndGV4dCddIC49ICcJCQkJPC9kaXY+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCQk8L2Rpdj4nOwoJCQkkb3V0Wyd0ZXh0'));
	@fwrite($fp, base64_decode('J10gLj0gJyAgPC9kaXY+PGJyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGZvbnQgc2l6ZT0iLTEiPjxpPlByaXZhY3kgaW5mb3JtYXRpb248L2k+OiBCeSB1c2luZyB0aGUgbG9naW4gZnVuY3Rpb25hbGl0eSwgeW91IGFyZSBhY2NlcHRpbmcgdGhhdCBhICJz'));
	@fwrite($fp, base64_decode('ZXNzaW9uIGNvb2tpZSIgaXMgdGVtcG9yYXJpbHkgc3RvcmVkIGluIHlvdXIgYnJvd3Nlci4gJy4KCQkJICAgICAgICAgICAgICAgICdUaGUgc2Vzc2lvbiBjb29raWUgaXMgYSBzbWFsbCB0ZXh0IGZpbGUgdGhhdCBpcyBzZW50IHRvIHRoaXMgd2Vic2l0ZSBldmVy'));
	@fwrite($fp, base64_decode('eSB0aW1lIHlvdSB2aXNpdCBpdCwgdG8gaWRlbnRpZnkgeW91IGFzIGFuIGFscmVhZHkgbG9nZ2VkIGluIHVzZXIuICcuCgkJCSAgICAgICAgICAgICAgICAnSXQgZG9lcyBub3QgdHJhY2sgYW55IG9mIHlvdXIgb25saW5lIGFjdGl2aXRpZXMgb3V0c2lkZSBPSURw'));
	@fwrite($fp, base64_decode('bHVzLiBUaGUgY29va2llIHdpbGwgYmUgZGVzdHJveWVkIHdoZW4geW91IGxvZyBvdXQgb3IgYWZ0ZXIgYW4gaW5hY3Rpdml0eSBvZiAnLmNlaWwoU0VTU0lPTl9MSUZFVElNRS82MCkuJyBtaW51dGVzLjwvZm9udD48L3A+PC9kaXY+JzsKCgkJCSRvdXRbJ3RleHQn'));
	@fwrite($fp, base64_decode('XSAuPSAnPHNjcmlwdD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9naW5BcmVhIikuc3R5bGUudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjs8L3NjcmlwdD4nOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZSgmJGpzb24sICRyYV9lbWFpbD1udWxsLCAkbm9u'));
	@fwrite($fp, base64_decode('anM9ZmFsc2UsICRyZXFfZ290bz0nJykgewoJCSRsb2dpbkNoaWxkcmVuID0gYXJyYXkoKTsKCgkJaWYgKE9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkkcmFfcm9vdHMgPSBhcnJheSgpOwoKCQkJZm9yZWFjaCAoT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('Z2V0UGFnZVBsdWdpbnMoJ2FkbWluJykgYXMgJHBsdWdpbikgewoJCQkJJHBsdWdpbi0+dHJlZSgkcmFfcm9vdHMpOwoJCQl9CgoJCQkkcmFfcm9vdHNbXSA9IGFycmF5KAoJCQkJJ2lkJyAgICAgICA9PiAnb2lkcGx1czpsb2dvdXQkYWRtaW4nLAoJCQkJJ2ljb24n'));
	@fwrite($fp, base64_decode('ICAgICA9PiAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fbG9nb3V0LnBuZycsCgkJCQknY29uZGl0aW9uYWxzZWxlY3QnID0+ICdhZG1pbkxvZ291dCgpJywgLy8gZGVmaW5lZCBpbiBvaWRwbHVzLmpzCgkJCQkndGV4'));
	@fwrite($fp, base64_decode('dCcgICAgID0+ICdMb2cgb3V0JwoJCQkpOwoJCQkkbG9naW5DaGlsZHJlbltdID0gYXJyYXkoCgkJCQknaWQnICAgICAgID0+ICdvaWRwbHVzOmR1bW15JCcubWQ1KHJhbmQoKSksCgkJCQkndGV4dCcgICAgID0+ICJMb2dnZWQgaW4gYXMgYWRtaW4iLAoJCQkJJ2lj'));
	@fwrite($fp, base64_decode('b24nICAgICA9PiAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fYWRtaW4ucG5nJywKCQkJCSdjb25kaXRpb25hbHNlbGVjdCcgPT4gJ2ZhbHNlJywgLy8gZHVtbXkgbm9kZSB0aGF0IGNhbid0IGJlIHNlbGVjdGVkCgkJ'));
	@fwrite($fp, base64_decode('CQknc3RhdGUnICAgID0+IGFycmF5KCJvcGVuZWQiID0+IHRydWUpLAoJCQkJJ2NoaWxkcmVuJyA9PiAkcmFfcm9vdHMKCQkJKTsKCQl9CgoJCWZvcmVhY2ggKE9JRHBsdXM6OmF1dGhVdGlscygpOjpsb2dnZWRJblJhTGlzdCgpIGFzICRyYSkgewoJCQkkcmFfZW1h'));
	@fwrite($fp, base64_decode('aWwgPSAkcmEtPnJhRW1haWwoKTsKCQkJJHJhX3Jvb3RzID0gYXJyYXkoKTsKCgkJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCdyYScpIGFzICRwbHVnaW4pIHsKCQkJCSRwbHVnaW4tPnRyZWUoJHJhX3Jvb3RzLCAkcmFfZW1haWwpOwoJCQl9CgoJ'));
	@fwrite($fp, base64_decode('CQkkcmFfcm9vdHNbXSA9IGFycmF5KAoJCQkJJ2lkJyAgICAgICA9PiAnb2lkcGx1czpsb2dvdXQkJy4kcmFfZW1haWwsCgkJCQknY29uZGl0aW9uYWxzZWxlY3QnID0+ICdyYUxvZ291dCgnLmpzX2VzY2FwZSgkcmFfZW1haWwpLicpJywgLy8gZGVmaW5lZCBpbiBv'));
	@fwrite($fp, base64_decode('aWRwbHVzLmpzCgkJCQknaWNvbicgICAgID0+ICdwbHVnaW5zL3B1YmxpY1BhZ2VzLycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbl9sb2dvdXQucG5nJywKCQkJCSd0ZXh0JyAgICAgPT4gJ0xvZyBvdXQnCgkJCSk7CgkJCWZvcmVhY2ggKE9JRHBsdXNPYmpl'));
	@fwrite($fp, base64_decode('Y3Q6OmdldFJhUm9vdHMoJHJhX2VtYWlsKSBhcyAkbG9jX3Jvb3QpIHsKCQkJCSRpY28gPSAkbG9jX3Jvb3QtPmdldEljb24oKTsKCQkJCSRyYV9yb290c1tdID0gYXJyYXkoCgkJCQkJJ2lkJyA9PiAnb2lkcGx1czpyYXJvb3QkJy4kbG9jX3Jvb3QtPm5vZGVJZCgp'));
	@fwrite($fp, base64_decode('LAoJCQkJCSd0ZXh0JyA9PiAnSnVtcCB0byBSQSByb290ICcuJGxvY19yb290LT5vYmplY3RUeXBlVGl0bGVTaG9ydCgpLicgJy4kbG9jX3Jvb3QtPmNydWRTaG93SWQoT0lEcGx1c09iamVjdDo6cGFyc2UoJGxvY19yb290Ojpyb290KCkpKSwKCQkJCQknY29uZGl0'));
	@fwrite($fp, base64_decode('aW9uYWxzZWxlY3QnID0+ICdvcGVuT2lkSW5QYW5lbCgnLmpzX2VzY2FwZSgkbG9jX3Jvb3QtPm5vZGVJZCgpKS4nLCB0cnVlKTsnLAoJCQkJCSdpY29uJyA9PiAhaXNfbnVsbCgkaWNvKSA/ICRpY28gOiAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9f'));
	@fwrite($fp, base64_decode('RElSX18pLicvdHJlZWljb25fbGluay5wbmcnCgkJCQkpOwoJCQl9CgkJCSRyYV9lbWFpbF9vcl9uYW1lID0gKG5ldyBPSURwbHVzUkEoJHJhX2VtYWlsKSktPnJhTmFtZSgpOwoJCQlpZiAoJHJhX2VtYWlsX29yX25hbWUgPT0gJycpICRyYV9lbWFpbF9vcl9uYW1l'));
	@fwrite($fp, base64_decode('ID0gJHJhX2VtYWlsOwoJCQkkbG9naW5DaGlsZHJlbltdID0gYXJyYXkoCgkJCQknaWQnICAgICAgID0+ICdvaWRwbHVzOmR1bW15JCcubWQ1KHJhbmQoKSksCgkJCQkndGV4dCcgICAgID0+ICJMb2dnZWQgaW4gYXMgIi5odG1sZW50aXRpZXMoJHJhX2VtYWlsX29y'));
	@fwrite($fp, base64_decode('X25hbWUpLAoJCQkJJ2ljb24nICAgICA9PiAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb25fcmEucG5nJywKCQkJCSdjb25kaXRpb25hbHNlbGVjdCcgPT4gJ2ZhbHNlJywgLy8gZHVtbXkgbm9kZSB0aGF0IGNhbid0IGJl'));
	@fwrite($fp, base64_decode('IHNlbGVjdGVkCgkJCQknc3RhdGUnICAgID0+IGFycmF5KCJvcGVuZWQiID0+IHRydWUpLAoJCQkJJ2NoaWxkcmVuJyA9PiAkcmFfcm9vdHMKCQkJKTsKCQl9CgoJCSRqc29uW10gPSBhcnJheSgKCQkJJ2lkJyAgICAgICA9PiAnb2lkcGx1czpsb2dpbicsCgkJCSdp'));
	@fwrite($fp, base64_decode('Y29uJyAgICAgPT4gJ3BsdWdpbnMvcHVibGljUGFnZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3RyZWVpY29uX2xvZ2luLnBuZycsCgkJCSd0ZXh0JyAgICAgPT4gJ0xvZ2luJywKCQkJJ3N0YXRlJyAgICA9PiBhcnJheSgib3BlbmVkIiA9PiBjb3VudCgkbG9naW5D'));
	@fwrite($fp, base64_decode('aGlsZHJlbik+MCksCgkJCSdjaGlsZHJlbicgPT4gJGxvZ2luQ2hpbGRyZW4KCQkpOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZV9zZWFyY2goJHJlcXVlc3QpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9Cn0KCk9JRHBsdXM6OnJlZ2lzdGVy'));
	@fwrite($fp, base64_decode('UGFnZVBsdWdpbihuZXcgT0lEcGx1c1BhZ2VQdWJsaWNMb2dpbigpKTsK'));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/090_login/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/090_login/plugin.inc.php');
	writefile_3();
	if (!is_file('plugins/publicPages/090_login/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/090_login/plugin.inc.php');
	} else if (sha1_file('plugins/publicPages/090_login/plugin.inc.php') != 'febf4e4395516bbf57f3063da7e386df495e1ba1') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/090_login/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/090_login/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/090_login/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/090_login/plugin.inc.php') !== 'febf4e4395516bbf57f3063da7e386df495e1ba1') {
		if (@sha1_file('plugins/publicPages/090_login/plugin.inc.php') !== '394eb13057303350a9a7725736119ae91924f1b0') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/090_login/plugin.inc.php');
			$tmp = pathinfo('plugins/publicPages/090_login/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/090_login/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/090_login/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/publicPages/090_login/plugin.inc.php') !== 'febf4e4395516bbf57f3063da7e386df495e1ba1') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/090_login/plugin.inc.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 116\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 116') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

