<?php /* <ViaThinkSoftSignature>
QRYuDE1zWww+ns/cmtvKaMGLWnpZ7myv9hGkYzCNyzpQkC1n5SD7bEZZWE3L46e5/
ePew12cSGxN4CEkvvomxwQBLLgyHS+kYzxl0jE6kwdAPPa1Otl3KtaW3R4rXmd/Eu
uBtg4QJEg+FYb6EfRYbBTW0oPip0F7QLwZgGQkVuylfYvrCOdOcrArX2sRHzsTyU4
F7uPitIbR5Jna3rkEuDdaElpDGoCPhf3nAGHAdi/yYlM2UieoF5wQ6z/L6Mtybk31
XtoZ5rASTkqPeu9/yddKIRbuOcwB5soMt5JLe36tEY1fLcUprBY+hQyLDfMpm9VYW
YegLV5er/iwxKNQ3hLsBY+CLBsgzdGmNoz4Vxvfg9PEVrw1T0n3djJSsYsnSUnHro
EPKcbdxhr1J3u0K3yjmpNmdvkS3HaQXc34Vf033vOwFRpiCZQFf/okzsHMFDw8ED8
B5+xXqHOYyo4O43Vg4YU2SErCMLeZgSxsdSRlfeO4SnCgJxNbR7oTmT38XAAh8+gQ
IrZ6YFQNFOL/IWhmnyoYw2kenRiXEFdBmNnLBu3CHZMquVKjvknbyHKPQnZd2+CxG
Xcbipdyd1wplEUJpawpAhcnv5TqLcwnGbcy3ethygRqKUz5LdorV54D51vSSj7lD9
XImxATye4yF/+pN7tZPXTPllOgirwv1eq1QEdO8dDgaK8vaw5+3BcqFJt777vMesx
pXyzG0l0Uwnw2iktSKHo4WKlRwqX/QcyPPKwIOafkpyHz5SS5D65662IOCTyl6I2p
BlH3axSzIOSg1ilnZY0k8TNyOXQ8o7aeJXLjynob99mECCKEm9x7PdV8c+7sijBq3
aOiYNZ38l/bhlzfNFjXAuqXNJrJiSb3AHVtt2IgTlzyKPmGV8eneIWtD9nJdTNFyE
FXZOu+nW+lqEmBKin+upgU2EOPCI1ZXIFkekmm39UEmMsXJ99PAxyt63a4WTKxwkz
b04aAr8QsCCAWqfi4uz3ivINaYPCZBB2s/qPTmiPVx9BD8oFWMZ+sWTVxyzScBL5f
L0pu23XWsxKeLHtbjqNkV8z/tCsVNueZjbsQJgykXTVNEeoToIp4L2RUNp5BGR17Q
1mikiNuMiNVdlyN7bVRImX//7e95LR+ZgOQfH2Llr4XA5+So0kuFoQZVxJyAzS6ky
tSOPsb4rwP7/0GxUosWRf7qEZd62ATu9hoUtowag3zMs/m77vEKYiZIYVPr+3qC92
lKgqc0REZOxnqeInanPFldekPZFAjO4fAeX1PRl+n5TJFRJYG6D/zYIWYffVfDQ06
MG7btfrxkl3Suecx94TqI1BofBL0HH2Ju12tvoayndmgLOJKevXnOXI/zFqcpT5XK
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 59') {
	err('This update can only be applied to OIDplus version 2.0.0.59!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php
function writefile_1() {
	@$fp = fopen('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCk9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUpIHZhbHVlcyAoJ29pZGluZm9f'));
	@fwrite($fp, base64_decode('ZXhwb3J0X3Byb3RlY3RlZCcsICdPSUQtaW5mby5jb20gZXhwb3J0IGludGVyZmFjZSBwcm90ZWN0ZWQgKHJlcXVpcmVzIGFkbWluIGxvZyBpbiksIHZhbHVlcyAwLzEnLCAnMScpIik7Cg=='));
	@fclose($fp);
}
if (is_file('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php') && (sha1_file('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php') != '7b9e77eff72190cb725d30287aa0b88706f55c68')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php');
	$tmp = pathinfo('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php')) {
	warn('File cannot be created (not existing): plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php');
} else if (sha1_file('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php') != '7b9e77eff72190cb725d30287aa0b88706f55c68') {
	warn('File cannot be created (checksum mismatch): plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php', 0644)) {
	warn('Could not change file permissions of plugins/adminPages/400_oidinfo_export/cfg_loadconfig.inc.php');
}

// File added: plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php
function writefile_2() {
	@$fp = fopen('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICgkbmFtZSA9PSAnb2lkaW5mb19leHBvcnRfcHJvdGVjdGVkJykgewoJaWYgKCgkdmFsdWUgIT0gJzAnKSAmJiAoJHZhbHVlICE9ICcxJykpIHsKCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVh'));
	@fwrite($fp, base64_decode('c2UgZW50ZXIgZWl0aGVyIDAgb3IgMS4iKTsKCX0KfQo='));
	@fclose($fp);
}
if (is_file('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php') && (sha1_file('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php') != '9379b2b7d5299215b5ebb6eda909a5747101de14')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php');
	$tmp = pathinfo('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_2();
if (!is_file('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php')) {
	warn('File cannot be created (not existing): plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php');
} else if (sha1_file('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php') != '9379b2b7d5299215b5ebb6eda909a5747101de14') {
	warn('File cannot be created (checksum mismatch): plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php', 0644)) {
	warn('Could not change file permissions of plugins/adminPages/400_oidinfo_export/cfg_setvalue.inc.php');
}

// File added: plugins/publicPages/300_search/cfg_loadconfig.inc.php
function writefile_3() {
	@$fp = fopen('plugins/publicPages/300_search/cfg_loadconfig.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCk9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUpIHZhbHVlcyAoJ3NlYXJjaF9t'));
	@fwrite($fp, base64_decode('aW5fdGVybV9sZW5ndGgnLCAnTWluaW11bSBsZW5ndGggb2YgYSBzZWFyY2ggdGVybScsICczJykiKTsK'));
	@fclose($fp);
}
if (is_file('plugins/publicPages/300_search/cfg_loadconfig.inc.php') && (sha1_file('plugins/publicPages/300_search/cfg_loadconfig.inc.php') != 'cbb85d34cbbdfe79d1b0f0e6c26b709e8da0e7e4')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/publicPages/300_search/cfg_loadconfig.inc.php');
	$tmp = pathinfo('plugins/publicPages/300_search/cfg_loadconfig.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/300_search/cfg_loadconfig.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/publicPages/300_search/cfg_loadconfig.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_3();
if (!is_file('plugins/publicPages/300_search/cfg_loadconfig.inc.php')) {
	warn('File cannot be created (not existing): plugins/publicPages/300_search/cfg_loadconfig.inc.php');
} else if (sha1_file('plugins/publicPages/300_search/cfg_loadconfig.inc.php') != 'cbb85d34cbbdfe79d1b0f0e6c26b709e8da0e7e4') {
	warn('File cannot be created (checksum mismatch): plugins/publicPages/300_search/cfg_loadconfig.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/300_search/cfg_loadconfig.inc.php', 0644)) {
	warn('Could not change file permissions of plugins/publicPages/300_search/cfg_loadconfig.inc.php');
}

// File added: plugins/publicPages/300_search/cfg_setvalue.inc.php
function writefile_4() {
	@$fp = fopen('plugins/publicPages/300_search/cfg_setvalue.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICgkbmFtZSA9PSAnc2VhcmNoX21pbl90ZXJtX2xlbmd0aCcpIHsKCWlmICghaXNfbnVtZXJpYygkdmFsdWUpIHx8ICgkdmFsdWUgPCAwKSkgewoJCXRocm93IG5ldyBFeGNlcHRpb24oIlBsZWFz'));
	@fwrite($fp, base64_decode('ZSBlbnRlciBhIHZhbGlkIHZhbHVlLiIpOwoJfQp9Cg=='));
	@fclose($fp);
}
if (is_file('plugins/publicPages/300_search/cfg_setvalue.inc.php') && (sha1_file('plugins/publicPages/300_search/cfg_setvalue.inc.php') != '2de95c9c2a38b7e8354f7c1bd1fd19b53f4f0a66')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/publicPages/300_search/cfg_setvalue.inc.php');
	$tmp = pathinfo('plugins/publicPages/300_search/cfg_setvalue.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/300_search/cfg_setvalue.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/publicPages/300_search/cfg_setvalue.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_4();
if (!is_file('plugins/publicPages/300_search/cfg_setvalue.inc.php')) {
	warn('File cannot be created (not existing): plugins/publicPages/300_search/cfg_setvalue.inc.php');
} else if (sha1_file('plugins/publicPages/300_search/cfg_setvalue.inc.php') != '2de95c9c2a38b7e8354f7c1bd1fd19b53f4f0a66') {
	warn('File cannot be created (checksum mismatch): plugins/publicPages/300_search/cfg_setvalue.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/300_search/cfg_setvalue.inc.php', 0644)) {
	warn('Could not change file permissions of plugins/publicPages/300_search/cfg_setvalue.inc.php');
}

// File added: plugins/raPages/102_change_email/cfg_loadconfig.inc.php
function writefile_5() {
	@$fp = fopen('plugins/raPages/102_change_email/cfg_loadconfig.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCk9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUpIHZhbHVlcyAoJ21heF9yYV9l'));
	@fwrite($fp, base64_decode('bWFpbF9jaGFuZ2VfdGltZScsICdNYXggUkEgZW1haWwgY2hhbmdlIHRpbWUgaW4gc2Vjb25kcyAoMCA9IGluZmluaXRlKScsICcwJykiKTsKT0lEcGx1czo6ZGIoKS0+cXVlcnkoImluc2VydCBpbnRvICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcg'));
	@fwrite($fp, base64_decode('KG5hbWUsIGRlc2NyaXB0aW9uLCB2YWx1ZSkgdmFsdWVzICgnYWxsb3dfcmFfZW1haWxfY2hhbmdlJywgJ0FsbG93IHRoYXQgUkFzIGNoYW5nZSB0aGVpciBlbWFpbCBhZGRyZXNzICgwLzEpJywgJzEnKSIpOwo='));
	@fclose($fp);
}
if (is_file('plugins/raPages/102_change_email/cfg_loadconfig.inc.php') && (sha1_file('plugins/raPages/102_change_email/cfg_loadconfig.inc.php') != '60f505d80b2d15c491f8eaed6f2d6ef32b047722')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/raPages/102_change_email/cfg_loadconfig.inc.php');
	$tmp = pathinfo('plugins/raPages/102_change_email/cfg_loadconfig.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/102_change_email/cfg_loadconfig.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/raPages/102_change_email/cfg_loadconfig.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_5();
if (!is_file('plugins/raPages/102_change_email/cfg_loadconfig.inc.php')) {
	warn('File cannot be created (not existing): plugins/raPages/102_change_email/cfg_loadconfig.inc.php');
} else if (sha1_file('plugins/raPages/102_change_email/cfg_loadconfig.inc.php') != '60f505d80b2d15c491f8eaed6f2d6ef32b047722') {
	warn('File cannot be created (checksum mismatch): plugins/raPages/102_change_email/cfg_loadconfig.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/102_change_email/cfg_loadconfig.inc.php', 0644)) {
	warn('Could not change file permissions of plugins/raPages/102_change_email/cfg_loadconfig.inc.php');
}

// File added: plugins/raPages/102_change_email/cfg_setvalue.inc.php
function writefile_6() {
	@$fp = fopen('plugins/raPages/102_change_email/cfg_setvalue.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICgkbmFtZSA9PSAnYWxsb3dfcmFfZW1haWxfY2hhbmdlJykgewogICAgICAgIGlmICgoJHZhbHVlICE9ICcwJykgJiYgKCR2YWx1ZSAhPSAnMScpKSB7CiAgICAgICAgICAgICAgICB0aHJvdyBu'));
	@fwrite($fp, base64_decode('ZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgZWl0aGVyIDAgb3IgMS4iKTsKICAgICAgICB9Cn0KaWYgKCgkbmFtZSA9PSAnbWF4X3JhX2ludml0ZV90aW1lJykgfHwgKCRuYW1lID09ICdtYXhfcmFfcHdkX3Jlc2V0X3RpbWUnKSB8fCAoJG5hbWUgPT0gJ21heF9y'));
	@fwrite($fp, base64_decode('YV9lbWFpbF9jaGFuZ2VfdGltZScpKSB7CglpZiAoIWlzX251bWVyaWMoJHZhbHVlKSB8fCAoJHZhbHVlIDwgMCkpIHsKCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgYSB2YWxpZCB2YWx1ZS4iKTsKCX0KfQo='));
	@fclose($fp);
}
if (is_file('plugins/raPages/102_change_email/cfg_setvalue.inc.php') && (sha1_file('plugins/raPages/102_change_email/cfg_setvalue.inc.php') != 'df4b04287edd6d99e40582a5bc27a33fb6c68150')) {
	warn('File was created by someone else. Will overwrite the changes now: plugins/raPages/102_change_email/cfg_setvalue.inc.php');
	$tmp = pathinfo('plugins/raPages/102_change_email/cfg_setvalue.inc.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/102_change_email/cfg_setvalue.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('plugins/raPages/102_change_email/cfg_setvalue.inc.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_6();
if (!is_file('plugins/raPages/102_change_email/cfg_setvalue.inc.php')) {
	warn('File cannot be created (not existing): plugins/raPages/102_change_email/cfg_setvalue.inc.php');
} else if (sha1_file('plugins/raPages/102_change_email/cfg_setvalue.inc.php') != 'df4b04287edd6d99e40582a5bc27a33fb6c68150') {
	warn('File cannot be created (checksum mismatch): plugins/raPages/102_change_email/cfg_setvalue.inc.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/102_change_email/cfg_setvalue.inc.php', 0644)) {
	warn('Could not change file permissions of plugins/raPages/102_change_email/cfg_setvalue.inc.php');
}

// Files different: includes/classes/OIDplusConfig.class.php
function writefile_7() {
	@$fp = fopen('includes/classes/OIDplusConfig.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNDb25maWcgewoKCXByb3RlY3RlZCAkdmFsdWVzOwoKCXByb3RlY3RlZCBmdW5jdGlvbiBsb2FkQ29uZmlnKCkgewoJCS8vIEFkZCBkZWZhdWx0cwoJCU9JRHBsdXM6OmRiKCkt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUpIHZhbHVlcyAoJ3N5c3RlbV90aXRsZScsICdXaGF0IGlzIHRoZSBuYW1lIG9mIHlvdXIgUkE/JywgJ09JRHBsdXMgMi4w'));
	@fwrite($fp, base64_decode('JykiKTsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwgZGVzY3JpcHRpb24sIHZhbHVlKSB2YWx1ZXMgKCdnbG9iYWxfY2MnLCAnR2xvYmFsIENDIGZvciBhbGwgb3V0Z29p'));
	@fwrite($fp, base64_decode('bmcgZW1haWxzPycsICcnKSIpOwoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUpIHZhbHVlcyAoJ3JhX21pbl9wYXNzd29yZF9sZW5ndGgn'));
	@fwrite($fp, base64_decode('LCAnTWluaW11bSBsZW5ndGggZm9yIFJBIHBhc3N3b3JkcycsICc2JykiKTsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwgZGVzY3JpcHRpb24sIHZhbHVlKSB2YWx1ZXMg'));
	@fwrite($fp, base64_decode('KCdtYXhfcmFfaW52aXRlX3RpbWUnLCAnTWF4IFJBIGludml0ZSB0aW1lIGluIHNlY29uZHMgKDAgPSBpbmZpbml0ZSknLCAnMCcpIik7CgkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImluc2VydCBpbnRvICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcg'));
	@fwrite($fp, base64_decode('KG5hbWUsIGRlc2NyaXB0aW9uLCB2YWx1ZSkgdmFsdWVzICgnbWF4X3JhX3B3ZF9yZXNldF90aW1lJywgJ01heCBSQSBwYXNzd29yZCByZXNldCB0aW1lIGluIHNlY29uZHMgKDAgPSBpbmZpbml0ZSknLCAnMCcpIik7CgkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImlu'));
	@fwrite($fp, base64_decode('c2VydCBpbnRvICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgKG5hbWUsIGRlc2NyaXB0aW9uLCB2YWx1ZSkgdmFsdWVzICgnd2hvaXNfYXV0aF90b2tlbicsICdPSUQtb3Zlci1XSE9JUyBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBkaXNwbGF5IGNv'));
	@fwrite($fp, base64_decode('bmZpZGVudGlhbCBkYXRhJywgJycpIik7CgoJCS8vIEFsc28gYXNrIHRoZSBwbHVnaW5zIGlmIHRoZXkgaGF2ZSBkZWZhdWx0cwoJCSRhcnkgPSBnbG9iKF9fRElSX18gLiAnLy4uLy4uL3BsdWdpbnMvJy4nKicuJy8nLicqJy4nL2NmZ19sb2FkY29uZmlnLmluYy5w'));
	@fwrite($fp, base64_decode('aHAnKTsKCQlzb3J0KCRhcnkpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7CgoJCS8vIE5vdyBsb2FkIHRoZSB2YWx1ZXMKCQkkdGhpcy0+dmFsdWVzID0gYXJyYXkoKTsKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZy'));
	@fwrite($fp, base64_decode('b20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyIpOwoJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMpKSB7CgkJCSR0aGlzLT52YWx1ZXNbJHJvdy0+bmFtZV0gPSAkcm93LT52YWx1ZTsKCQl9Cgl9CgoJcHVi'));
	@fwrite($fp, base64_decode('bGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCkgewoJCSR0aGlzLT5sb2FkQ29uZmlnKCk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHN5c3RlbVRpdGxlKCkgewoJCXJldHVybiB0cmltKCR0aGlzLT52YWx1ZXNbJ3N5c3RlbV90aXRsZSddKTsKCX0KCglwdWJsaWMgZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gZ2xvYmFsQ0MoKSB7CgkJcmV0dXJuIHRyaW0oJHRoaXMtPnZhbHVlc1snZ2xvYmFsX2NjJ10pOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBtaW5SYVBhc3N3b3JkTGVuZ3RoKCkgewoJCXJldHVybiAkdGhpcy0+dmFsdWVzWydyYV9taW5fcGFzc3dvcmRfbGVu'));
	@fwrite($fp, base64_decode('Z3RoJ107Cgl9CgoJLyogICBoYXJkY29kZWQgaW4gc2V0dXAvICwgYmVjYXVzZSBkdXJpbmcgaW5zdGFsbGF0aW9uLCB3ZSBkb250IGhhdmUgYSBzZXR0aW5ncyBkYXRhYmFzZQoJcHVibGljIGZ1bmN0aW9uIG1pbkFkbWluUGFzc3dvcmRMZW5ndGgoKSB7CgkJcmV0'));
	@fwrite($fp, base64_decode('dXJuIDY7Cgl9CgkqLwoKCXB1YmxpYyBmdW5jdGlvbiBtYXhJbnZpdGVUaW1lKCkgewoJCXJldHVybiAkdGhpcy0+dmFsdWVzWydtYXhfcmFfaW52aXRlX3RpbWUnXTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbWF4UGFzc3dvcmRSZXNldFRpbWUoKSB7CgkJcmV0dXJu'));
	@fwrite($fp, base64_decode('ICR0aGlzLT52YWx1ZXNbJ21heF9yYV9wd2RfcmVzZXRfdGltZSddOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBhdXRoVG9rZW4oKSB7CgkJJHZhbCA9IHRyaW0oJHRoaXMtPnZhbHVlc1snd2hvaXNfYXV0aF90b2tlbiddKTsKCQlyZXR1cm4gZW1wdHkoJHZhbCkgPyBm'));
	@fwrite($fp, base64_decode('YWxzZSA6ICR2YWw7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldFZhbHVlKCRuYW1lKSB7CgkJaWYgKGlzc2V0KCR0aGlzLT52YWx1ZXNbJG5hbWVdKSkgewoJCQlyZXR1cm4gJHRoaXMtPnZhbHVlc1skbmFtZV07CgkJfSBlbHNlIHsKCQkJcmV0dXJuIG51bGw7CgkJ'));
	@fwrite($fp, base64_decode('fQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBzZXRWYWx1ZSgkbmFtZSwgJHZhbHVlKSB7CgkJLy8gQ2hlY2sgZm9yIHZhbGlkIHZhbHVlcwoKCQlpZiAoJG5hbWUgPT0gJ3N5c3RlbV90aXRsZScpIHsKCQkJaWYgKGVtcHR5KCR2YWx1ZSkpIHsKCQkJCXRocm93IG5ldyBF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24oIlBsZWFzZSBlbnRlciBhIHZhbHVlIGZvciB0aGUgc3lzdGVtIHRpdGxlLiIpOwoKCQkJfQoJCX0KCQlpZiAoJG5hbWUgPT0gJ2dsb2JhbF9jYycpIHsKCQkJaWYgKCFlbXB0eSgkdmFsdWUpICYmICFvaWRkYl92YWxpZF9lbWFpbCgkdmFsdWUpKSB7'));
	@fwrite($fp, base64_decode('CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJUaGlzIGlzIG5vdCBhIGNvcnJlY3QgZW1haWwgYWRkcmVzcyIpOwoJCQl9CgkJfQoJCWlmICgkbmFtZSA9PSAncmFfbWluX3Bhc3N3b3JkX2xlbmd0aCcpIHsKCQkJaWYgKCFpc19udW1lcmljKCR2YWx1ZSkgfHwgKCR2'));
	@fwrite($fp, base64_decode('YWx1ZSA8IDEpKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBwYXNzd29yZCBsZW5ndGguIik7CgkJCX0KCQl9CgkJaWYgKCgkbmFtZSA9PSAnbWF4X3JhX2ludml0ZV90aW1lJykgfHwgKCRuYW1lID09ICdtYXhfcmFfcHdk'));
	@fwrite($fp, base64_decode('X3Jlc2V0X3RpbWUnKSkgewoJCQlpZiAoIWlzX251bWVyaWMoJHZhbHVlKSB8fCAoJHZhbHVlIDwgMCkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlBsZWFzZSBlbnRlciBhIHZhbGlkIHZhbHVlLiIpOwoJCQl9CgkJfQoJCWlmICgkbmFtZSA9PSAnd2hvaXNf'));
	@fwrite($fp, base64_decode('YXV0aF90b2tlbicpIHsKCQkJJHRlc3RfdmFsdWUgPSBwcmVnX3JlcGxhY2UoJ0BbMC05YS16QS1aXSpAJywgJycsICR2YWx1ZSk7CgkJCWlmICgkdGVzdF92YWx1ZSAhPSAnJykgewoJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiT25seSBjaGFyYWN0ZXJzIGFuZCBu'));
	@fwrite($fp, base64_decode('dW1iZXJzIGFyZSBhbGxvd2VkIGFzIGF1dGhlbnRpY2F0aW9uIHRva2VuLiIpOwoJCQl9CgkJfQoKCgkJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvLi4vLi4vcGx1Z2lucy8nLicqJy4nLycuJyonLicvY2ZnX3NldHZhbHVlLmluYy5waHAnKTsKCQlzb3J0KCRhcnkp'));
	@fwrite($fp, base64_decode('OwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7CgoJCS8vIE5vdyBjaGFuZ2UgdGhlIHZhbHVlIGluIHRoZSBkYXRhYmFzZQoKCQlpZiAoIU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJ1cGRhdGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZp'));
	@fwrite($fp, base64_decode('ZyBzZXQgdmFsdWUgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHZhbHVlKS4iJyB3aGVyZSBuYW1lID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRuYW1lKS4iJyIpKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24o'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6ZGIoKS0+ZXJyb3IoKSk7CgkJfQoJfQoKfQo='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusConfig.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusConfig.class.php');
	writefile_7();
	if (!is_file('includes/classes/OIDplusConfig.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusConfig.class.php');
	} else if (sha1_file('includes/classes/OIDplusConfig.class.php') != '78824c2267bcd11799fef3bafe5d82ec09408823') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusConfig.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusConfig.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusConfig.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '78824c2267bcd11799fef3bafe5d82ec09408823') {
		if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== 'c5d6b8bc02ad95628751d569c995029acbf0f0a2') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusConfig.class.php');
			$tmp = pathinfo('includes/classes/OIDplusConfig.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusConfig.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusConfig.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '78824c2267bcd11799fef3bafe5d82ec09408823') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusConfig.class.php');
		}
	}
}

// Files different: plugins/adminPages/400_oidinfo_export/oidinfo_export.php
function writefile_8() {
	@$fp = fopen('plugins/adminPages/400_oidinfo_export/oidinfo_export.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8uLi8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vLi4vLi4vaW5jbHVkZXMvb2lkaW5mb19h'));
	@fwrite($fp, base64_decode('cGkuaW5jLnBocCc7CgpoZWFkZXIoJ0NvbnRlbnQtVHlwZTp0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgnKTsKCk9JRHBsdXM6OmluaXQodHJ1ZSk7CgpPSURwbHVzOjpkYigpLT5zZXRfY2hhcnNldCgiVVRGOCIpOwpPSURwbHVzOjpkYigpLT5xdWVyeSgiU0VUIE5B'));
	@fwrite($fp, base64_decode('TUVTICd1dGY4JyIpOwoKIyAtLS0KCmlmIChPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZGluZm9fZXhwb3J0X3Byb3RlY3RlZCcpICYmICFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNBZG1pbkxvZ2dlZEluKCkpIHsKCWVjaG8gJzxwPllvdSBuZWVkIHRv'));
	@fwrite($fp, base64_decode('IDxhIGhyZWY9Ii4vP2dvdG89b2lkcGx1czpsb2dpbiI+bG9nIGluPC9hPiBhcyBhZG1pbmlzdHJhdG9yLjwvcD4nOwoJZGllKCk7Cn0KCmhlYWRlcignQ29udGVudC1UeXBlOnRleHQveG1sJyk7Cgokb2EgPSBuZXcgT0lESW5mb0FQSSgpOwokb2EtPmFkZFNpbXBs'));
	@fwrite($fp, base64_decode('ZVBpbmdQcm92aWRlcigndmlhdGhpbmtzb2Z0LmRlOjQ5NTAwJyk7CgplY2hvICRvYS0+eG1sQWRkSGVhZGVyKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpLCBpc3NldCgkX1NFUlZFUlsnU0VSVkVSX05BTUUnXSkgPyAkX1NFUlZFUlsnU0VSVkVSX05B'));
	@fwrite($fp, base64_decode('TUUnXSA6ICdFeHBvcnQgaW50ZXJmYWNlJywgT0lEUExVU19BRE1JTl9FTUFJTCk7CgokcGFyYW1zWydhbGxvd19odG1sJ10gPSB0cnVlOwokcGFyYW1zWydhbGxvd19pbGxlZ2FsX2VtYWlsJ10gPSB0cnVlOyAvLyBJdCBzaG91bGQgYmUgZW5hYmxlZCwgYmVjYXVz'));
	@fwrite($fp, base64_decode('ZSB0aGUgY3JlYXRvciBjb3VsZCBoYXZlIHVzZWQgc29tZSBraW5kIG9mIGh1bWFuLXJlYWRhYmxlIGFudGktc3BhbSB0ZWNobmlxdWUKJHBhcmFtc1snc29mdF9jb3JyZWN0X2JlaGF2aW9yJ10gPSBPSURJbmZvQVBJOjpTT0ZUX0NPUlJFQ1RfQkVIQVZJT1JfTk9O'));
	@fwrite($fp, base64_decode('RTsKJHBhcmFtc1snZG9fb25saW5lX2NoZWNrJ10gPSBmYWxzZTsgLy8gRmxhZyB0byBkaXNhYmxlIHRoaXMgb25saW5lIGNoZWNrLCBiZWNhdXNlIGl0IGdlbmVyYXRlcyBhIGxvdCBvZiB0cmFmZmljIGFuZCBydW50aW1lLgokcGFyYW1zWydkb19pbGxlZ2FsaXR5'));
	@fwrite($fp, base64_decode('X2NoZWNrJ10gPSB0cnVlOwokcGFyYW1zWydkb19zaW1wbGVwaW5nX2NoZWNrJ10gPSB0cnVlOwokcGFyYW1zWydhdXRvX2V4dHJhY3RfbmFtZSddID0gJyc7CiRwYXJhbXNbJ2F1dG9fZXh0cmFjdF91cmwnXSA9ICcnOwokcGFyYW1zWydhbHdheXNfb3V0cHV0X2Nv'));
	@fwrite($fp, base64_decode('bW1lbnQnXSA9IGZhbHNlOwokcGFyYW1zWydjcmVhdGlvbl9hbGxvd2VkX2NoZWNrJ10gPSBpc3NldCgkX0dFVFsnb25saW5lJ10pICYmICRfR0VUWydvbmxpbmUnXTsKJHBhcmFtc1sndG9sZXJhbnRfaHRtbGVudGl0aWVzJ10gPSB0cnVlOwokcGFyYW1zWydpZ25v'));
	@fwrite($fp, base64_decode('cmVfeGh0bWxfbGlnaHQnXSA9IGZhbHNlOwoKJG5vbkNvbmZpZGVudGlhbCA9IE9JRHBsdXNPYmplY3Q6OmdldEFsbE5vbkNvbmZpZGVudGlhbCgpOwoKZm9yZWFjaCAoJG5vbkNvbmZpZGVudGlhbCBhcyAkaWQpIHsKCglpZiAoc3Vic3RyKCRpZCwwLDQpICE9ICdv'));
	@fwrite($fp, base64_decode('aWQ6JykgY29udGludWU7CgoJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJlIGlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRpZCku'));
	@fwrite($fp, base64_decode('IiciKTsKCWlmICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMpKSB7CgkJJGVsZW1lbnRzWydpZGVudGlmaWVyJ10gPSBhcnJheSgpOwoJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RB'));
	@fwrite($fp, base64_decode('QkxFTkFNRV9QUkVGSVguImFzbjFpZCB3aGVyZSBvaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHJvdy0+aWQpLiInIik7CgkJd2hpbGUgKCRyb3cyID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMyKSkgewoJCQkkZWxl'));
	@fwrite($fp, base64_decode('bWVudHNbJ2lkZW50aWZpZXInXVtdID0gJHJvdzItPm5hbWU7IC8vICd1bmljb2RlLWxhYmVsJyBpcyBjdXJyZW50bHkgbm90IGluIHRoZSBzdGFuZGFyZCBmb3JtYXQgKG9pZC54c2QpCgkJfQoKCQkkZWxlbWVudHNbJ3VuaWNvZGUtbGFiZWwnXSA9IGFycmF5KCk7'));
	@fwrite($fp, base64_decode('CgkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpIHdoZXJlIG9pZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcm93LT5pZCkuIiciKTsKCQl3aGls'));
	@fwrite($fp, base64_decode('ZSAoJHJvdzIgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlczIpKSB7CgkJCSRlbGVtZW50c1sndW5pY29kZS1sYWJlbCddW10gPSAkcm93Mi0+bmFtZTsKCQl9CgoJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5P'));
	@fwrite($fp, base64_decode('SURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRyb3ctPnJhX2VtYWlsKS4iJyIpOwoJCSRyb3cyID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMyKTsKCgkJ'));
	@fwrite($fp, base64_decode('JGVsZW1lbnRzWydkZXNjcmlwdGlvbiddID0gJHJvdy0+dGl0bGU7CgkJJGVsZW1lbnRzWydpbmZvcm1hdGlvbiddID0gJHJvdy0+ZGVzY3JpcHRpb247CgoJCSRlbGVtZW50c1snZmlyc3QtcmVnaXN0cmFudCddWydmaXJzdC1uYW1lJ10gPSAnJzsKCQkkZWxlbWVu'));
	@fwrite($fp, base64_decode('dHNbJ2ZpcnN0LXJlZ2lzdHJhbnQnXVsnbGFzdC1uYW1lJ10gPSAnJzsKCQkkZWxlbWVudHNbJ2ZpcnN0LXJlZ2lzdHJhbnQnXVsnYWRkcmVzcyddID0gJyc7CgkJJGVsZW1lbnRzWydmaXJzdC1yZWdpc3RyYW50J11bJ2VtYWlsJ10gPSAnJzsKCQkkZWxlbWVudHNb'));
	@fwrite($fp, base64_decode('J2ZpcnN0LXJlZ2lzdHJhbnQnXVsncGhvbmUnXSA9ICcnOwoJCSRlbGVtZW50c1snZmlyc3QtcmVnaXN0cmFudCddWydmYXgnXSA9ICcnOwoJCSRlbGVtZW50c1snZmlyc3QtcmVnaXN0cmFudCddWydjcmVhdGlvbi1kYXRlJ10gPSBfZm9ybWF0ZGF0ZSgkcm93LT5j'));
	@fwrite($fp, base64_decode('cmVhdGVkKTsKCgkJJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnZmlyc3QtbmFtZSddID0gJHJvdzIgPyAkcm93Mi0+cmFfbmFtZSA6ICcnOwoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2xhc3QtbmFtZSddID0gJyc7CgkJJGVsZW1l'));
	@fwrite($fp, base64_decode('bnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnZW1haWwnXSA9ICRyb3ctPnJhX2VtYWlsOwoKCQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydwaG9uZSddID0gJyc7CgkJJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnZmF4J10gPSAnJzsK'));
	@fwrite($fp, base64_decode('CQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydhZGRyZXNzJ10gPSAnJzsKCQlpZiAoJHJvdzIpIHsKCQkJJHRtcCA9IGFycmF5KCk7CgkJCWlmICghZW1wdHkoJHJvdzItPm9yZ2FuaXphdGlvbikpICAkdG1wW10gPSAkcm93Mi0+b3JnYW5pemF0aW9u'));
	@fwrite($fp, base64_decode('OwoJCQlpZiAoIWVtcHR5KCRyb3cyLT5vZmZpY2UpKSAgICAgICAgJHRtcFtdID0gJHJvdzItPm9mZmljZTsKCQkJaWYgKCFlbXB0eSgkcm93Mi0+cGVyc29uYWxfbmFtZSkpICR0bXBbXSA9ICRyb3cyLT5wZXJzb25hbF9uYW1lOwoJCQlpZiAoISRyb3cyLT5wcml2'));
	@fwrite($fp, base64_decode('YWN5KSB7CgkJCQlpZiAoIWVtcHR5KCRyb3cyLT5zdHJlZXQpKSAgICR0bXBbXSA9ICRyb3cyLT5zdHJlZXQ7CgkJCQlpZiAoIWVtcHR5KCRyb3cyLT56aXBfdG93bikpICR0bXBbXSA9ICRyb3cyLT56aXBfdG93bjsKCQkJCWlmICghZW1wdHkoJHJvdzItPmNvdW50'));
	@fwrite($fp, base64_decode('cnkpKSAgJHRtcFtdID0gJHJvdzItPmNvdW50cnk7CgkJCQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydwaG9uZSddID0gIWVtcHR5KCRyb3cyLT5waG9uZSkgPyAkcm93Mi0+cGhvbmUgOiAkcm93Mi0+bW9iaWxlOwoJCQkJJGVsZW1lbnRzWydjdXJy'));
	@fwrite($fp, base64_decode('ZW50LXJlZ2lzdHJhbnQnXVsnZmF4J10gPSAkcm93Mi0+ZmF4OwoJCQl9CgkJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2FkZHJlc3MnXSA9IGltcGxvZGUoIjxici8+XG4iLCAkdG1wKTsKCQl9CgkJJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJh'));
	@fwrite($fp, base64_decode('bnQnXVsnbW9kaWZpY2F0aW9uLWRhdGUnXSA9IF9mb3JtYXRkYXRlKCRyb3ctPnVwZGF0ZWQpOwoKCQkkb2lkID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHJvdy0+aWQpLT5nZXREb3ROb3RhdGlvbigpOwoJCWVjaG8gJG9hLT5jcmVhdGVYTUxFbnRyeSgkb2lkLCAk'));
	@fwrite($fp, base64_decode('ZWxlbWVudHMsICRwYXJhbXMsICRjb21tZW50PScnKTsKCX0KCglmbHVzaCgpOwp9CgplY2hvICRvYS0+eG1sQWRkRm9vdGVyKCk7CgojIC0tLQoKZnVuY3Rpb24gX2Zvcm1hdGRhdGUoJHN0cikgewoJJHN0ciA9IGV4cGxvZGUoJyAnLCRzdHIpWzBdOwoJaWYgKCRz'));
	@fwrite($fp, base64_decode('dHIgPT0gJzAwMDAtMDAtMDAnKSAkc3RyID0gJyc7CglyZXR1cm4gJHN0cjsKfQo='));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	writefile_8();
	if (!is_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	} else if (sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') != 'b3bc72d8a691ffb1657d68c2d8f70340442cf0d8') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/400_oidinfo_export/oidinfo_export.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') !== 'b3bc72d8a691ffb1657d68c2d8f70340442cf0d8') {
		if (@sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') !== 'af8c02888b54b530557e37e82c2a29e4206eb406') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
			$tmp = pathinfo('plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/400_oidinfo_export/oidinfo_export.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/400_oidinfo_export/oidinfo_export.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_8();
		if (@sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') !== 'b3bc72d8a691ffb1657d68c2d8f70340442cf0d8') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
		}
	}
}

// Files different: plugins/files
function writefile_9() {
	@$fp = fopen('plugins/files', 'w');
	@fwrite($fp, base64_decode('VHlwZXMgInJhUGFnZXMiLCAicHVibGljUGFnZXMiLCBhbmQgImFkbWluUGFnZXMiCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCXNjcmlwdC5qcyAob3B0aW9uYWwpCglzdHlsZS5jc3MgKG9wdGlvbmFsKQoJZ3VpLmlu'));
	@fwrite($fp, base64_decode('Yy5waHAKCXRyZWUuaW5jLnBocAoJYWN0aW9uLmluYy5waHAKCXRyZWVpY29uLnBuZyAob3B0aW9uYWwpCgljZmdfbG9hZGNvbmZpZy5pbmMucGhwIChvcHRpb25hbCkKCWNmZ19zZXR2YWx1ZS5pbmMucGhwIChvcHRpb25hbCkKClR5cGUgIm9iamVjdFR5cGVzIgot'));
	@fwrite($fp, base64_decode('LS0tLS0tLS0tLS0tLS0tLS0KCglEZXNjcmlwdGlvbiB3aWxsIGZvbGxvdwoK'));
	@fclose($fp);
}
if (!is_file('plugins/files')) {
	warn('File has vanished! Will re-create it: plugins/files');
	writefile_9();
	if (!is_file('plugins/files')) {
		warn('File cannot be created (not existing): plugins/files');
	} else if (sha1_file('plugins/files') != '13197976dbd54d3b64998741b37448ee714f85ad') {
		warn('File cannot be created (checksum mismatch): plugins/files');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/files', 0644)) {
		warn('Could not change file permissions of plugins/files');
	}
} else {
	if (@sha1_file('plugins/files') !== '13197976dbd54d3b64998741b37448ee714f85ad') {
		if (@sha1_file('plugins/files') !== 'a93b98c23fde0f6357b744e007018f558897a486') {
			warn('File was modified. Will overwrite the changes now: plugins/files');
			$tmp = pathinfo('plugins/files');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/files')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/files', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_9();
		if (@sha1_file('plugins/files') !== '13197976dbd54d3b64998741b37448ee714f85ad') {
			warn('File cannot be written (checksum mismatch): plugins/files');
		}
	}
}

// Files different: plugins/publicPages/300_search/gui.inc.php
function writefile_10() {
	@$fp = fopen('plugins/publicPages/300_search/gui.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmluY2x1ZGVfb25jZSBfX0RJUl9fIC4gJy9mdW5jdGlvbnMuaW5jLnBocCc7CgppZiAoZXhwbG9kZSgnJCcsJGlkKVswXSA9PSAnb2lkcGx1czpzZWFyY2gnKSB7CgkkaGFuZGxlZCA9IHRydWU7CgoJ'));
	@fwrite($fp, base64_decode('JG91dFsndGl0bGUnXSA9ICdTZWFyY2gnOwoJJG91dFsnaWNvbiddID0gZmlsZV9leGlzdHMoX19ESVJfXy4nL2ljb25fYmlnLnBuZycpID8gJ3BsdWdpbnMvcHVibGljUGFnZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCgkkb3V0'));
	@fwrite($fp, base64_decode('Wyd0ZXh0J10gPSAnJzsKCgl0cnkgewoJCSRzZWFyY2hfdGVybSA9IGlzc2V0KCRfUE9TVFsndGVybSddKSA/ICRfUE9TVFsndGVybSddIDogJyc7CgkJJG5zID0gaXNzZXQoJF9QT1NUWyduYW1lc3BhY2UnXSkgPyAkX1BPU1RbJ25hbWVzcGFjZSddIDogJyc7CgoJ'));
	@fwrite($fp, base64_decode('CWlmICghaXNzZXQoJF9QT1NUWydzZWFyY2gnXSkpIHsKCQkJLy8gRGVmYXVsdCBjcml0ZXJpYSBzZWxlY3Rpb24KCQkJJF9QT1NUWydzZWFyY2hfdGl0bGUnXSA9ICcxJzsKCQkJJF9QT1NUWydzZWFyY2hfYXNuMWlkJ10gPSAnMSc7CgkJCSRfUE9TVFsnc2VhcmNo'));
	@fwrite($fp, base64_decode('X2lyaSddID0gJzEnOwoJCX0KCgkJJG91dFsndGV4dCddIC49ICcKCQkJICA8Zm9ybSBpZD0ic2VhcmNoRm9ybSIgYWN0aW9uPSI/Z290bz1vaWRwbHVzOnNlYXJjaCIgbWV0aG9kPSJQT1NUIj4KCQkJCTxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNlYXJjaCIg'));
	@fwrite($fp, base64_decode('dmFsdWU9IjEiPgoJCQkgICAgU2VhcmNoIGZvcjogPGlucHV0IHR5cGU9InRleHQiIGlkPSJ0ZXJtIiBuYW1lPSJ0ZXJtIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHNlYXJjaF90ZXJtKS4nIj48YnI+PGJyPgoKCQkJCTxzY3JpcHQ+CgkJCQlmdW5jdGlvbiBzZWFy'));
	@fwrite($fp, base64_decode('Y2hOc1NlbGVjdChucykgewoJCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hfb3B0aW9uc19vaWQiKS5zdHlsZS5kaXNwbGF5ID0gKG5zID09ICJvaWQiKSA/ICJibG9jayIgOiAibm9uZSI7CgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNl'));
	@fwrite($fp, base64_decode('YXJjaF9vcHRpb25zX29iamVjdCIpLnN0eWxlLmRpc3BsYXkgPSAobnMgPT0gIm9pZHBsdXM6cmEiKSA/ICJub25lIiA6ICJibG9jayI7CgkJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlYXJjaF9vcHRpb25zX3JhIikuc3R5bGUuZGlzcGxheSA9IChucyA9'));
	@fwrite($fp, base64_decode('PSAib2lkcGx1czpyYSIpID8gImJsb2NrIiA6ICJub25lIjsKCQkJCX0KCQkJCSQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKSB7CgkJCQkJc2VhcmNoTnNTZWxlY3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5hbWVzcGFjZSIpLnZhbHVlKTsKCQkJCX0p'));
	@fwrite($fp, base64_decode('OwoJCQkJPC9zY3JpcHQ+CgoJCQkgICAgU2VhcmNoIGluOiA8c2VsZWN0IG5hbWU9Im5hbWVzcGFjZSIgaWQ9Im5hbWVzcGFjZSIgb25jaGFuZ2U9InNlYXJjaE5zU2VsZWN0KHRoaXMudmFsdWUpOyI+PGJyPjxicj4KCQkJJzsKCgkJCWZvcmVhY2ggKE9JRHBsdXNP'));
	@fwrite($fp, base64_decode('YmplY3Q6OiRyZWdpc3RlcmVkT2JqZWN0VHlwZXMgYXMgJG90KSB7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxvcHRpb24gdmFsdWU9IicuaHRtbGVudGl0aWVzKCRvdDo6bnMoKSkuJyInLigoJG5zID09ICRvdDo6bnMoKSkgPyAnIHNlbGVjdGVkJyA6ICcnKS4nPicu'));
	@fwrite($fp, base64_decode('aHRtbGVudGl0aWVzKCRvdDo6b2JqZWN0VHlwZVRpdGxlKCkpLic8L29wdGlvbj4nOwoJCQl9CgkJCSRvdXRbJ3RleHQnXSAuPSAnCgkJCTxvcHRpb24gdmFsdWU9Im9pZHBsdXM6cmEiJy4oKCRucyA9PSAnb2lkcGx1czpyYScpID8gJyBzZWxlY3RlZCcgOiAnJyku'));
	@fwrite($fp, base64_decode('Jz5SZWdpc3RyYXRpb24gQXV0aG9yaXR5PC9vcHRpb24+CgkJCTwvc2VsZWN0Pjxicj48YnI+CgoJCQkJPGRpdiBpZD0ic2VhcmNoX29wdGlvbnNfcmEiPgoJCQkJPCEtLSBUT0RPOiBSQSBzcGVjaWZpYyBzZWxlY3Rpb24gY3JpdGVyaWFzIC0tPgoJCQkJPC9kaXY+'));
	@fwrite($fp, base64_decode('CgkJCQk8ZGl2IGlkPSJzZWFyY2hfb3B0aW9uc19vYmplY3QiPgoJCSAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ic2VhcmNoX3RpdGxlIiBpZD0ic2VhcmNoX3RpdGxlIiB2YWx1ZT0iMSInLihpc3NldCgkX1BPU1RbInNlYXJjaF90aXRs'));
	@fwrite($fp, base64_decode('ZSJdKSA/ICcgY2hlY2tlZCcgOiAnJykuJz4gPGxhYmVsIGZvcj0ic2VhcmNoX3RpdGxlIj5TZWFyY2ggaW4gZmllbGQgIlRpdGxlIjwvbGFiZWw+PGJyPgoJCSAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ic2VhcmNoX2Rlc2NyaXB0aW9u'));
	@fwrite($fp, base64_decode('IiBpZD0ic2VhcmNoX2Rlc2NyaXB0aW9uIiB2YWx1ZT0iMSInLihpc3NldCgkX1BPU1RbInNlYXJjaF9kZXNjcmlwdGlvbiJdKSA/ICcgY2hlY2tlZCcgOiAnJykuJz4gPGxhYmVsIGZvcj0ic2VhcmNoX2Rlc2NyaXB0aW9uIj5TZWFyY2ggaW4gZmllbGQgIkRlc2Ny'));
	@fwrite($fp, base64_decode('aXB0aW9uIjwvbGFiZWw+PGJyPgoJCQkJPGRpdiBpZD0ic2VhcmNoX29wdGlvbnNfb2lkIj4KCQkgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InNlYXJjaF9hc24xaWQiIGlkPSJzZWFyY2hfYXNuMWlkIiB2YWx1ZT0iMSInLihpc3NldCgk'));
	@fwrite($fp, base64_decode('X1BPU1RbInNlYXJjaF9hc24xaWQiXSkgPyAnIGNoZWNrZWQnIDogJycpLic+IDxsYWJlbCBmb3I9InNlYXJjaF9hc24xaWQiPlNlYXJjaCBpbiBmaWVsZCAiQVNOLjEgaWRlbnRpaWVyIiAob25seSBPSURzKTwvbGFiZWw+PGJyPgoJCSAgICAgICAgICAgIDxpbnB1'));
	@fwrite($fp, base64_decode('dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ic2VhcmNoX2lyaSIgaWQ9InNlYXJjaF9pcmkiIHZhbHVlPSIxIicuKGlzc2V0KCRfUE9TVFsic2VhcmNoX2lyaSJdKSA/ICcgY2hlY2tlZCcgOiAnJykuJz4gPGxhYmVsIGZvcj0ic2VhcmNoX2lyaSI+U2VhcmNoIGluIGZp'));
	@fwrite($fp, base64_decode('ZWxkICJVbmljb2RlIGxhYmVsIiAob25seSBPSURzKTwvbGFiZWw+PGJyPgoJCQkJPC9kaXY+CgkJCQk8L2Rpdj4KCQkJCSA8YnI+CgoJCQkgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlNlYXJjaCI+CgkJCSAgPC9mb3JtPic7CgoJCWlmIChpc3NldCgk'));
	@fwrite($fp, base64_decode('X1BPU1RbJ3NlYXJjaCddKSkgewoJCQkvLyBOb3RlOiBUaGUgU1FMIGNvbGxhdGlvbiBkZWZpbmVzIGlmIHNlYXJjaCBpcyBjYXNlIHNlbnNpdGl2ZSBvciBjYXNlIGluc2Vuc2l0aXZlCgoJCQkkbWluX2xlbmd0aCA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1'));
	@fwrite($fp, base64_decode('ZSgnc2VhcmNoX21pbl90ZXJtX2xlbmd0aCcpOwoKCQkJJHNlYXJjaF90ZXJtID0gdHJpbSgkc2VhcmNoX3Rlcm0pOwoKCQkJaWYgKHN0cmxlbigkc2VhcmNoX3Rlcm0pID09IDApIHsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGZvbnQgY29sb3I9InJlZCI+RXJy'));
	@fwrite($fp, base64_decode('b3I6IFlvdSBtdXN0IGVudGVyIGEgc2VhcmNoIHRlcm0uPC9mb250PjwvcD4nOwoJCQl9IGVsc2UgaWYgKHN0cmxlbigkc2VhcmNoX3Rlcm0pIDwgJG1pbl9sZW5ndGgpIHsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGZvbnQgY29sb3I9InJlZCI+RXJyb3I6IFNl'));
	@fwrite($fp, base64_decode('YXJjaCB0ZXJtIG1pbmltdW0gbGVuZ3RoIGlzICcuJG1pbl9sZW5ndGguJyBjaGFyYWN0ZXJzLjwvZm9udD48L3A+JzsKCQkJfSBlbHNlIHsKCQkJCWlmICgkbnMgPT0gJ29pZHBsdXM6cmEnKSB7CgkJCQkJJG91dFsndGV4dCddIC49ICc8aDI+U2VhcmNoIHJlc3Vs'));
	@fwrite($fp, base64_decode('dHMgZm9yIFJBICInLmh0bWxlbnRpdGllcygkc2VhcmNoX3Rlcm0pLiciPC9oMj4nOwoKCQkJCQkkd2hlcmUgPSBhcnJheSgpOwoJCQkJCSR3aGVyZVtdID0gImVtYWlsIGxpa2UgJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCclJy4kc2VhcmNo'));
	@fwrite($fp, base64_decode('X3Rlcm0uJyUnKS4iJyI7CgkJCQkJJHdoZXJlW10gPSAicmFfbmFtZSBsaWtlICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygnJScuJHNlYXJjaF90ZXJtLiclJykuIiciOwoKCQkJCQlpZiAoY291bnQoJHdoZXJlKSA9PSAwKSAkd2hlcmVbXSA9'));
	@fwrite($fp, base64_decode('ICcxPTAnOwoJCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgKCIuaW1wbG9kZSgnIG9yICcsICR3aGVyZSkuIikiKTsKCgkJCQkJd2hpbGUgKCRyb3cgPSBPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlcykpIHsKCQkJCQkJLy8gVE9ETzogYW50aSBzcGFtIQoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhIGhyZWY9Ij9nb3RvPW9pZHBsdXM6cmFpbmZvJCcudXJsZW5jb2RlKCRyb3ctPmVtYWlsKS4nIj4nLmh0bWxl'));
	@fwrite($fp, base64_decode('bnRpdGllcygkcm93LT5lbWFpbCkuJzwvYT46IDxiPicuaHRtbGVudGl0aWVzKCRyb3ctPnJhX25hbWUpLic8L2I+PC9wPic7CgkJCQkJfQoJCQkJfSBlbHNlIHsKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxoMj5TZWFyY2ggcmVzdWx0cyBmb3IgIicuaHRtbGVudGl0'));
	@fwrite($fp, base64_decode('aWVzKCRzZWFyY2hfdGVybSkuJyIgKCcuaHRtbGVudGl0aWVzKCRucykuJyk8L2gyPic7CgoJCQkJCSR3aGVyZSA9IGFycmF5KCk7CgkJCQkJJHdoZXJlW10gPSAiaWQgbGlrZSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJyUnLiRzZWFyY2hf'));
	@fwrite($fp, base64_decode('dGVybS4nJScpLiInIjsgLy8gVE9ETzogc2hvdWxkIHdlIHJhdGhlciBkbyBmaW5kRml0dGluZygpLCBzbyB3ZSBjYW4gZS5nLiBmaW5kIEdVSURzIHdpdGggZGlmZmVyZW50IG5vdGF0aW9uPwoJCQkJCWlmIChpc3NldCgkX1BPU1RbInNlYXJjaF90aXRsZSJdKSkg'));
	@fwrite($fp, base64_decode('JHdoZXJlW10gPSAidGl0bGUgbGlrZSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJyUnLiRzZWFyY2hfdGVybS4nJScpLiInIjsKCQkJCQlpZiAoaXNzZXQoJF9QT1NUWyJzZWFyY2hfZGVzY3JpcHRpb24iXSkpICR3aGVyZVtdID0gImRlc2Ny'));
	@fwrite($fp, base64_decode('aXB0aW9uIGxpa2UgJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCclJy4kc2VhcmNoX3Rlcm0uJyUnKS4iJyI7CgoJCQkJCWlmIChpc3NldCgkX1BPU1RbInNlYXJjaF9hc24xaWQiXSkpIHsKCQkJCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1'));
	@fwrite($fp, base64_decode('ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgd2hlcmUgbmFtZSBsaWtlICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygnJScuJHNlYXJjaF90ZXJtLiclJykuIiciKTsKCQkJCQkJd2hpbGUgKCRy'));
	@fwrite($fp, base64_decode('b3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlcykpIHsKCQkJCQkJCSR3aGVyZVtdID0gImlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRyb3ctPm9pZCkuIiciOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQlpZiAoaXNzZXQo'));
	@fwrite($fp, base64_decode('JF9QT1NUWyJzZWFyY2hfaXJpIl0pKSB7CgkJCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpIHdoZXJlIG5hbWUgbGlrZSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2Fw'));
	@fwrite($fp, base64_decode('ZV9zdHJpbmcoJyUnLiRzZWFyY2hfdGVybS4nJScpLiInIik7CgkJCQkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMpKSB7CgkJCQkJCQkkd2hlcmVbXSA9ICJpZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0'));
	@fwrite($fp, base64_decode('cmluZygkcm93LT5vaWQpLiInIjsKCQkJCQkJfQoJCQkJCX0KCgkJCQkJaWYgKGNvdW50KCR3aGVyZSkgPT0gMCkgJHdoZXJlW10gPSAnMT0wJzsKCQkJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFN'));
	@fwrite($fp, base64_decode('RV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgbGlrZSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG5zLic6JScpLiInIGFuZCAoIi5pbXBsb2RlKCcgb3IgJywgJHdoZXJlKS4iKSIpOwoKCQkJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRi'));
	@fwrite($fp, base64_decode('KCktPmZldGNoX29iamVjdCgkcmVzKSkgewoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhIGhyZWY9Ij9nb3RvPScudXJsZW5jb2RlKCRyb3ctPmlkKS4nIj4nLmh0bWxlbnRpdGllcygkcm93LT5pZCkuJzwvYT46IDxiPicuaHRtbGVudGl0aWVzKCRyb3ctPnRp'));
	@fwrite($fp, base64_decode('dGxlKS4nPC9iPjwvcD4nOyAvLyBUT0RPOiBhbHNvIHNob3cgYXNuMWlkOyBoaWdobGlnaHQgc2VhcmNoIG1hdGNoPwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCSRvdXRbJ3RleHQnXSA9ICJFcnJvcjogIi4kZS0+Z2V0'));
	@fwrite($fp, base64_decode('TWVzc2FnZSgpOwoJfQp9CgoKCg=='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/300_search/gui.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/300_search/gui.inc.php');
	writefile_10();
	if (!is_file('plugins/publicPages/300_search/gui.inc.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/300_search/gui.inc.php');
	} else if (sha1_file('plugins/publicPages/300_search/gui.inc.php') != 'f40ecfc5df168016b8fc10604b4af662e1c3eb2b') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/300_search/gui.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/300_search/gui.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/300_search/gui.inc.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/300_search/gui.inc.php') !== 'f40ecfc5df168016b8fc10604b4af662e1c3eb2b') {
		if (@sha1_file('plugins/publicPages/300_search/gui.inc.php') !== '15de783f59505e68a217c807efe26d3ecfceb6cd') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/300_search/gui.inc.php');
			$tmp = pathinfo('plugins/publicPages/300_search/gui.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/300_search/gui.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/300_search/gui.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_10();
		if (@sha1_file('plugins/publicPages/300_search/gui.inc.php') !== 'f40ecfc5df168016b8fc10604b4af662e1c3eb2b') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/300_search/gui.inc.php');
		}
	}
}

// Files different: plugins/raPages/100_edit_contact_data/gui.inc.php
function writefile_11() {
	@$fp = fopen('plugins/raPages/100_edit_contact_data/gui.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmIChleHBsb2RlKCckJywkaWQpWzBdID09ICdvaWRwbHVzOmVkaXRfcmEnKSB7CgkkaGFuZGxlZCA9IHRydWU7Cgkkb3V0Wyd0aXRsZSddID0gJ0VkaXQgUkEgY29udGFjdCBkYXRhJzsKCSRvdXRb'));
	@fwrite($fp, base64_decode('J2ljb24nXSA9IGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2JpZy5wbmcnKSA/ICdwbHVnaW5zL3JhUGFnZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCgkkcmFfZW1haWwgPSBleHBsb2RlKCckJywkaWQpWzFdOwoKCWlmICgh'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzUmFMb2dnZWRJbigkcmFfZW1haWwpICYmICFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNBZG1pbkxvZ2dlZEluKCkpIHsKCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCSRvdXRbJ3RleHQnXSAuPSAn'));
	@fwrite($fp, base64_decode('PHA+WW91IG5lZWQgdG8gPGEgaHJlZj0iP2dvdG89b2lkcGx1czpsb2dpbiI+bG9nIGluPC9hPiBhcyB0aGUgcmVxdWVzdGVkIFJBIDxiPicuaHRtbGVudGl0aWVzKCRyYV9lbWFpbCkuJzwvYj4uPC9wPic7Cgl9IGVsc2UgewoJCSRvdXRbJ3RleHQnXSAuPSAnPHA+'));
	@fwrite($fp, base64_decode('WW91ciBlbWFpbCBhZGRyZXNzOiA8Yj4nLmh0bWxlbnRpdGllcygkcmFfZW1haWwpLic8L2I+JzsKCgkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSBlbWFpbCA9ICci'));
	@fwrite($fp, base64_decode('Lk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcmFfZW1haWwpLiInIik7CgkJJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpOwoKCQlpZiAoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhbGxvd19yYV9lbWFpbF9jaGFu'));
	@fwrite($fp, base64_decode('Z2UnKSkgewoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhIGhyZWY9Ij9nb3RvPW9pZHBsdXM6Y2hhbmdlX3JhX2VtYWlsJCcudXJsZW5jb2RlKCRyYV9lbWFpbCkuJyI+Q2hhbmdlIGVtYWlsIGFkZHJlc3M8L2E+PC9wPic7CgkJfSBlbHNlIHsKCQkJJG91dFsndGV4'));
	@fwrite($fp, base64_decode('dCddIC49ICc8cD48YWJiciB0aXRsZT0iVG8gY2hhbmdlIHRoZSBlbWFpbCBhZGRyZXNzLCB5b3UgbmVlZCB0byBjb250YWN0IHRoZSBzdXBlcmlvciBSQS4gVGhleSB3aWxsIG5lZWQgdG8gY2hhbmdlIHRoZSBlbWFpbCBhZGRyZXNzIGFuZCBpbnZpdGUgeW91ICh3'));
	@fwrite($fp, base64_decode('aXRoIHlvdXIgbmV3IGVtYWlsIGFkZHJlc3MpIGFnYWluLiI+SG93IHRvIGNoYW5nZSB0aGUgZW1haWwgYWRkcmVzcz88L2FiYnI+PC9wPic7CgkJfQoKCQkvLyAtLS0KCgkJJG91dFsndGV4dCddIC49ICc8cD5DaGFuZ2UgYmFzaWMgaW5mb3JtYXRpb24gKHB1Ymxp'));
	@fwrite($fp, base64_decode('Yyk6PC9wPgoJCSAgPGZvcm0gaWQ9InJhQ2hhbmdlQ29udGFjdERhdGFGb3JtIiBvbnN1Ym1pdD0icmV0dXJuIHJhQ2hhbmdlQ29udGFjdERhdGFGb3JtT25TdWJtaXQoKTsiPgoJCSAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0iZW1haWwiIHZhbHVlPSInLmh0'));
	@fwrite($fp, base64_decode('bWxlbnRpdGllcygkcmFfZW1haWwpLiciLz4KCQkgICAgPGxhYmVsIGNsYXNzPSJwYWRkaW5nX2xhYmVsIj5SQSBOYW1lOjwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIGlkPSJyYV9uYW1lIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHJvd1sncmFfbmFtZSddKS4n'));
	@fwrite($fp, base64_decode('Ii8+PGJyPgoJCSAgICA8bGFiZWwgY2xhc3M9InBhZGRpbmdfbGFiZWwiPk9yZ2FuaXphdGlvbjo8L2xhYmVsPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ib3JnYW5pemF0aW9uIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHJvd1snb3JnYW5pemF0aW9uJ10pLiciLz48'));
	@fwrite($fp, base64_decode('YnI+CgkJICAgIDxsYWJlbCBjbGFzcz0icGFkZGluZ19sYWJlbCI+T2ZmaWNlOjwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIGlkPSJvZmZpY2UiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkcm93WydvZmZpY2UnXSkuJyIvPjxicj4KCQkgICAgPGxhYmVsIGNsYXNz'));
	@fwrite($fp, base64_decode('PSJwYWRkaW5nX2xhYmVsIj5QZXJzb24gbmFtZTo8L2xhYmVsPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0icGVyc29uYWxfbmFtZSIgdmFsdWU9IicuaHRtbGVudGl0aWVzKCRyb3dbJ3BlcnNvbmFsX25hbWUnXSkuJyIvPjxicj4KCQkgICAgPGJyPgoJCSAgICA8bGFi'));
	@fwrite($fp, base64_decode('ZWwgY2xhc3M9InBhZGRpbmdfbGFiZWwiPlByaXZhY3k8L2xhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InByaXZhY3kiIHZhbHVlPSIiICcuKCRyb3dbJ3ByaXZhY3knXSA9PSAxID8gJyBjaGVja2VkJyA6ICcnKS4nLz4gPGxhYmVsIGZvcj0icHJpdmFj'));
	@fwrite($fp, base64_decode('eSI+SGlkZSBwb3N0YWwgYWRkcmVzcyBhbmQgUGhvbmUvRmF4L01vYmlsZSBOdW1iZXJzPC9sYWJlbD48YnI+CgkJICAgIDxsYWJlbCBjbGFzcz0icGFkZGluZ19sYWJlbCI+U3RyZWV0OjwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIGlkPSJzdHJlZXQiIHZhbHVl'));
	@fwrite($fp, base64_decode('PSInLmh0bWxlbnRpdGllcygkcm93WydzdHJlZXQnXSkuJyIvPjxicj4KCQkgICAgPGxhYmVsIGNsYXNzPSJwYWRkaW5nX2xhYmVsIj5aSVAvVG93bjo8L2xhYmVsPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iemlwX3Rvd24iIHZhbHVlPSInLmh0bWxlbnRpdGllcygk'));
	@fwrite($fp, base64_decode('cm93Wyd6aXBfdG93biddKS4nIi8+PGJyPgoJCSAgICA8bGFiZWwgY2xhc3M9InBhZGRpbmdfbGFiZWwiPkNvdW50cnk6PC9sYWJlbD48aW5wdXQgdHlwZT0idGV4dCIgaWQ9ImNvdW50cnkiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkcm93Wydjb3VudHJ5J10pLici'));
	@fwrite($fp, base64_decode('Lz48YnI+CgkJICAgIDxsYWJlbCBjbGFzcz0icGFkZGluZ19sYWJlbCI+UGhvbmU6PC9sYWJlbD48aW5wdXQgdHlwZT0idGV4dCIgaWQ9InBob25lIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHJvd1sncGhvbmUnXSkuJyIvPjxicj4KCQkgICAgPGxhYmVsIGNsYXNz'));
	@fwrite($fp, base64_decode('PSJwYWRkaW5nX2xhYmVsIj5Nb2JpbGU6PC9sYWJlbD48aW5wdXQgdHlwZT0idGV4dCIgaWQ9Im1vYmlsZSIgdmFsdWU9IicuaHRtbGVudGl0aWVzKCRyb3dbJ21vYmlsZSddKS4nIi8+PGJyPgoJCSAgICA8bGFiZWwgY2xhc3M9InBhZGRpbmdfbGFiZWwiPkZheDo8'));
	@fwrite($fp, base64_decode('L2xhYmVsPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZmF4IiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHJvd1snZmF4J10pLiciLz48YnI+CgkJICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJDaGFuZ2UgZGF0YSI+CgkJICA8L2Zvcm0+PGJyPjxicj4nOwoK'));
	@fwrite($fp, base64_decode('CQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhIGhyZWY9IiMiIG9uY2xpY2s9InJldHVybiBkZWxldGVSYSgnLmpzX2VzY2FwZSgkcmFfZW1haWwpLicsXCdvaWRwbHVzOnN5c3RlbVwnKSI+RGVsZXRlIHlvdXIgcHJvZmlsZTwvYT4gKHlvdXIgb2JqZWN0cyBzdGF5IGFj'));
	@fwrite($fp, base64_decode('dGl2ZSk8L3A+JzsKCgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/raPages/100_edit_contact_data/gui.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/raPages/100_edit_contact_data/gui.inc.php');
	writefile_11();
	if (!is_file('plugins/raPages/100_edit_contact_data/gui.inc.php')) {
		warn('File cannot be created (not existing): plugins/raPages/100_edit_contact_data/gui.inc.php');
	} else if (sha1_file('plugins/raPages/100_edit_contact_data/gui.inc.php') != 'e47fdde995e410226a0d0a07198d4ce9d9de6e73') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/100_edit_contact_data/gui.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/100_edit_contact_data/gui.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/raPages/100_edit_contact_data/gui.inc.php');
	}
} else {
	if (@sha1_file('plugins/raPages/100_edit_contact_data/gui.inc.php') !== 'e47fdde995e410226a0d0a07198d4ce9d9de6e73') {
		if (@sha1_file('plugins/raPages/100_edit_contact_data/gui.inc.php') !== 'd86fd3a4f93f02c7cfdf2adeb665d3f52096fbbf') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/100_edit_contact_data/gui.inc.php');
			$tmp = pathinfo('plugins/raPages/100_edit_contact_data/gui.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/100_edit_contact_data/gui.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/100_edit_contact_data/gui.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_11();
		if (@sha1_file('plugins/raPages/100_edit_contact_data/gui.inc.php') !== 'e47fdde995e410226a0d0a07198d4ce9d9de6e73') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/100_edit_contact_data/gui.inc.php');
		}
	}
}

// Files different: plugins/raPages/102_change_email/action.inc.php
function writefile_12() {
	@$fp = fopen('plugins/raPages/102_change_email/action.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICgkX1BPU1RbImFjdGlvbiJdID09ICJjaGFuZ2VfcmFfZW1haWwiKSB7CgkkaGFuZGxlZCA9IHRydWU7CgoJaWYgKCFPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2FsbG93X3JhX2VtYWls'));
	@fwrite($fp, base64_decode('X2NoYW5nZScpKSB7CgkJZGllKCdUaGlzIGZ1bmN0aW9uYWxpdHkgaGFzIGJlZW4gZGlzYWJsZWQgYnkgdGhlIGFkbWluaXN0cmF0b3IuJyk7Cgl9CgoJJG9sZF9lbWFpbCA9ICRfUE9TVFsnb2xkX2VtYWlsJ107CgkkbmV3X2VtYWlsID0gJF9QT1NUWyduZXdfZW1h'));
	@fwrite($fp, base64_decode('aWwnXTsKCglpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc1JhTG9nZ2VkSW4oJG9sZF9lbWFpbCkgJiYgIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgewoJCWRpZSgnQXV0aGVudGlmaWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBp'));
	@fwrite($fp, base64_decode('biBhcyB0aGUgUkEgdG8gdXBkYXRlIGl0cyBlbWFpbCBhZGRyZXNzLicpOwoJfQoKCWlmICghb2lkZGJfdmFsaWRfZW1haWwoJG5ld19lbWFpbCkpIHsKCQlkaWUoJ2VNYWlsIGFkZHJlc3MgaXMgaW52YWxpZC4nKTsKCX0KCgkkcmVzID0gT0lEcGx1czo6ZGIoKS0+'));
	@fwrite($fp, base64_decode('cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRvbGRfZW1haWwpLiInIik7CglpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3Mo'));
	@fwrite($fp, base64_decode('JHJlcykgPT0gMCkgewoJCWRpZSgnZU1haWwgYWRkcmVzcyBkb2VzIG5vdCBleGlzdCBhbnltb3JlLiBJdCB3YXMgcHJvYmFibHkgYWxyZWFkeSBjaGFuZ2VkLicpOwoJfQoKCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBM'));
	@fwrite($fp, base64_decode('VVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG5ld19lbWFpbCkuIiciKTsKCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA+IDApIHsKCQlkaWUoJ2VNYWlsIGFk'));
	@fwrite($fp, base64_decode('ZHJlc3MgaXMgYWxyZWFkeSB1c2VkIGJ5IGFub3RoZXIgUkEuIFRvIG1lcmdlIGFjY291bnRzLCBwbGVhc2UgY29udGFjdCB0aGUgc3VwZXJpb3IgUkEgb2YgeW91ciBvYmplY3RzIGFuZCByZXF1ZXN0IGFuIG93bmVyIGNoYW5nZSBvZiB5b3VyIG9iamVjdHMuJyk7'));
	@fwrite($fp, base64_decode('Cgl9CgoJJHRpbWVzdGFtcCA9IHRpbWUoKTsKCSRhY3RpdmF0ZV91cmwgPSBPSURwbHVzOjpzeXN0ZW1fdXJsKCkgLiAnP2dvdG89Jy51cmxlbmNvZGUoJ29pZHBsdXM6YWN0aXZhdGVfbmV3X3JhX2VtYWlsJCcuJG9sZF9lbWFpbC4nJCcuJG5ld19lbWFpbC4nJCcu'));
	@fwrite($fp, base64_decode('JHRpbWVzdGFtcC4nJCcuT0lEcGx1czo6YXV0aFV0aWxzKCk6Om1ha2VBdXRoS2V5KCdhY3RpdmF0ZV9uZXdfcmFfZW1haWw7Jy4kb2xkX2VtYWlsLic7Jy4kbmV3X2VtYWlsLic7Jy4kdGltZXN0YW1wKSk7CgoJJG1lc3NhZ2UgPSBmaWxlX2dldF9jb250ZW50cyhf'));
	@fwrite($fp, base64_decode('X0RJUl9fIC4gJy9jaGFuZ2VfcmVxdWVzdF9lbWFpbC50cGwnKTsKCSRtZXNzYWdlID0gc3RyX3JlcGxhY2UoJ3t7U1lTVEVNX1VSTH19JywgT0lEcGx1czo6c3lzdGVtX3VybCgpLCAkbWVzc2FnZSk7CgkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e1NZU1RFTV9U'));
	@fwrite($fp, base64_decode('SVRMRX19JywgT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCksICRtZXNzYWdlKTsKCSRtZXNzYWdlID0gc3RyX3JlcGxhY2UoJ3t7QURNSU5fRU1BSUx9fScsIE9JRFBMVVNfQURNSU5fRU1BSUwsICRtZXNzYWdlKTsKCSRtZXNzYWdlID0gc3RyX3JlcGxh'));
	@fwrite($fp, base64_decode('Y2UoJ3t7T0xEX0VNQUlMfX0nLCAkb2xkX2VtYWlsLCAkbWVzc2FnZSk7CgkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e05FV19FTUFJTH19JywgJG5ld19lbWFpbCwgJG1lc3NhZ2UpOwoJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tBQ1RJVkFURV9VUkx9fScs'));
	@fwrite($fp, base64_decode('ICRhY3RpdmF0ZV91cmwsICRtZXNzYWdlKTsKCW15X21haWwoJG5ld19lbWFpbCwgT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCkuJyAtIENoYW5nZSBlbWFpbCByZXF1ZXN0JywgJG1lc3NhZ2UpOwoKCWRpZSgnT0snKTsKfSBlbHNlIGlmICgkX1BPU1Rb'));
	@fwrite($fp, base64_decode('ImFjdGlvbiJdID09ICJhY3RpdmF0ZV9uZXdfcmFfZW1haWwiKSB7CgkkaGFuZGxlZCA9IHRydWU7CgoJaWYgKCFPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2FsbG93X3JhX2VtYWlsX2NoYW5nZScpKSB7CgkJZGllKCdUaGlzIGZ1bmN0aW9uYWxpdHkgaGFz'));
	@fwrite($fp, base64_decode('IGJlZW4gZGlzYWJsZWQgYnkgdGhlIGFkbWluaXN0cmF0b3IuJyk7Cgl9CgoJJG9sZF9lbWFpbCA9ICRfUE9TVFsnb2xkX2VtYWlsJ107CgkkbmV3X2VtYWlsID0gJF9QT1NUWyduZXdfZW1haWwnXTsKCSRwYXNzd29yZCA9ICRfUE9TVFsncGFzc3dvcmQnXTsKCgkk'));
	@fwrite($fp, base64_decode('YXV0aCA9ICRfUE9TVFsnYXV0aCddOwoJJHRpbWVzdGFtcCA9ICRfUE9TVFsndGltZXN0YW1wJ107CgoJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6dmFsaWRhdGVBdXRoS2V5KCdhY3RpdmF0ZV9uZXdfcmFfZW1haWw7Jy4kb2xkX2VtYWlsLic7Jy4kbmV3X2Vt'));
	@fwrite($fp, base64_decode('YWlsLic7Jy4kdGltZXN0YW1wLCAkYXV0aCkpIHsKCQlkaWUoJ0ludmFsaWQgYXV0aCBrZXknKTsKCX0KCglpZiAoKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnbWF4X3JhX2VtYWlsX2NoYW5nZV90aW1lJykgPiAwKSAmJiAodGltZSgpLSR0aW1lc3RhbXAg'));
	@fwrite($fp, base64_decode('PiBPSURwbHVzOjpjb25maWcoKS0+bWF4RW1haWxDaGFuZ2VUaW1lKCkpKSB7CgkJZGllKCdBY3RpdmF0aW9uIGxpbmsgZXhwaXJlZCEnKTsKCX0KCgkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9Q'));
	@fwrite($fp, base64_decode('UkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRvbGRfZW1haWwpLiInIik7CglpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPT0gMCkgewoJCWRpZSgnZU1haWwgYWRkcmVzcyBkb2VzIG5v'));
	@fwrite($fp, base64_decode('dCBleGlzdCBhbnltb3JlLiBJdCB3YXMgcHJvYmFibHkgYWxyZWFkeSBjaGFuZ2VkLicpOwoJfQoKCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSAnIi5P'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG5ld19lbWFpbCkuIiciKTsKCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA+IDApIHsKCQlkaWUoJ2VNYWlsIGFkZHJlc3MgaXMgYWxyZWFkeSB1c2VkIGJ5IGFub3RoZXIgUkEuIFRvIG1l'));
	@fwrite($fp, base64_decode('cmdlIGFjY291bnRzLCBwbGVhc2UgY29udGFjdCB0aGUgc3VwZXJpb3IgUkEgb2YgeW91ciBvYmplY3RzIGFuZCByZXF1ZXN0IGFuIG93bmVyIGNoYW5nZSBvZiB5b3VyIG9iamVjdHMuJyk7Cgl9CgoJJHJhID0gbmV3IE9JRHBsdXNSQSgkb2xkX2VtYWlsKTsKCWlm'));
	@fwrite($fp, base64_decode('ICghJHJhLT5jaGVja1Bhc3N3b3JkKCRwYXNzd29yZCkpIHsKCQlkaWUoJ1dyb25nIHBhc3N3b3JkJyk7Cgl9CgoJJHJhLT5jaGFuZ2VfZW1haWwoJG5ld19lbWFpbCk7CgoJaWYgKCFPSURwbHVzOjpkYigpLT5xdWVyeSgidXBkYXRlICIuT0lEUExVU19UQUJMRU5B'));
	@fwrite($fp, base64_decode('TUVfUFJFRklYLiJvYmplY3RzIHNldCByYV9lbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkbmV3X2VtYWlsKS4iJyB3aGVyZSByYV9lbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkb2xkX2VtYWls'));
	@fwrite($fp, base64_decode('KS4iJyIpKSB7CgkJdGhyb3cgbmV3IEV4Y2VwdGlvbihPSURwbHVzOjpkYigpLT5lcnJvcigpKTsKCX0KCglPSURwbHVzOjphdXRoVXRpbHMoKS0+cmFMb2dvdXQoJG9sZF9lbWFpbCk7CglPSURwbHVzOjphdXRoVXRpbHMoKS0+cmFMb2dpbigkbmV3X2VtYWlsKTsK'));
	@fwrite($fp, base64_decode('CgkkbWVzc2FnZSA9IGZpbGVfZ2V0X2NvbnRlbnRzKF9fRElSX18gLiAnL2VtYWlsX2NoYW5nZV9jb25maXJtYXRpb24udHBsJyk7CgkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e1NZU1RFTV9VUkx9fScsIE9JRHBsdXM6OnN5c3RlbV91cmwoKSwgJG1lc3NhZ2Up'));
	@fwrite($fp, base64_decode('OwoJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tTWVNURU1fVElUTEV9fScsIE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpLCAkbWVzc2FnZSk7CgkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e0FETUlOX0VNQUlMfX0nLCBPSURQTFVTX0FETUlOX0VN'));
	@fwrite($fp, base64_decode('QUlMLCAkbWVzc2FnZSk7CgkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e09MRF9FTUFJTH19JywgJG9sZF9lbWFpbCwgJG1lc3NhZ2UpOwoJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tORVdfRU1BSUx9fScsICRuZXdfZW1haWwsICRtZXNzYWdlKTsKCW15X21h'));
	@fwrite($fp, base64_decode('aWwoJG9sZF9lbWFpbCwgT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCkuJyAtIGVNYWlsIGFkZHJlc3MgY2hhbmdlZCcsICRtZXNzYWdlKTsKCglkaWUoJ09LJyk7Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/raPages/102_change_email/action.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/raPages/102_change_email/action.inc.php');
	writefile_12();
	if (!is_file('plugins/raPages/102_change_email/action.inc.php')) {
		warn('File cannot be created (not existing): plugins/raPages/102_change_email/action.inc.php');
	} else if (sha1_file('plugins/raPages/102_change_email/action.inc.php') != '6474621e61504383c51a6ec29ccbec6de95857c1') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/102_change_email/action.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/102_change_email/action.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/raPages/102_change_email/action.inc.php');
	}
} else {
	if (@sha1_file('plugins/raPages/102_change_email/action.inc.php') !== '6474621e61504383c51a6ec29ccbec6de95857c1') {
		if (@sha1_file('plugins/raPages/102_change_email/action.inc.php') !== 'b83b006adb49d6635d6047ce309e6cb284e8e1a8') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/102_change_email/action.inc.php');
			$tmp = pathinfo('plugins/raPages/102_change_email/action.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/102_change_email/action.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/102_change_email/action.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_12();
		if (@sha1_file('plugins/raPages/102_change_email/action.inc.php') !== '6474621e61504383c51a6ec29ccbec6de95857c1') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/102_change_email/action.inc.php');
		}
	}
}

// Files different: plugins/raPages/102_change_email/gui.inc.php
function writefile_13() {
	@$fp = fopen('plugins/raPages/102_change_email/gui.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmIChleHBsb2RlKCckJywkaWQpWzBdID09ICdvaWRwbHVzOmNoYW5nZV9yYV9lbWFpbCcpIHsKCSRoYW5kbGVkID0gdHJ1ZTsKCSRvdXRbJ3RpdGxlJ10gPSAnQ2hhbmdlIFJBIGVtYWlsJzsKCSRv'));
	@fwrite($fp, base64_decode('dXRbJ2ljb24nXSA9IGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2JpZy5wbmcnKSA/ICdwbHVnaW5zL3JhUGFnZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCgkkcmFfZW1haWwgPSBleHBsb2RlKCckJywkaWQpWzFdOwoKCWlm'));
	@fwrite($fp, base64_decode('ICghT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhbGxvd19yYV9lbWFpbF9jaGFuZ2UnKSkgewoJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJJG91dFsndGV4dCddIC49ICc8cD5UaGlzIGZ1bmN0aW9uYWxpdHkgaGFzIGJlZW4gZGlz'));
	@fwrite($fp, base64_decode('YWJsZWQgYnkgdGhlIGFkbWluaXN0cmF0b3IuPC9wPic7Cgl9IGVsc2UgaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNSYUxvZ2dlZEluKCRyYV9lbWFpbCkgJiYgIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgewoJCSRvdXRbJ2lj'));
	@fwrite($fp, base64_decode('b24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJJG91dFsndGV4dCddIC49ICc8cD5Zb3UgbmVlZCB0byA8YSBocmVmPSI/Z290bz1vaWRwbHVzOmxvZ2luIj5sb2cgaW48L2E+IGFzIHRoZSByZXF1ZXN0ZWQgUkEgPGI+Jy5odG1sZW50aXRpZXMoJHJhX2VtYWls'));
	@fwrite($fp, base64_decode('KS4nPC9iPi48L3A+JzsKCX0gZWxzZSB7CgkJJG91dFsndGV4dCddIC49ICc8Zm9ybSBpZD0iY2hhbmdlUmFFbWFpbEZvcm0iIG9uc3VibWl0PSJyZXR1cm4gY2hhbmdlUmFFbWFpbEZvcm1PblN1Ym1pdCgpOyI+JzsKCQkkb3V0Wyd0ZXh0J10gLj0gJzxpbnB1dCB0'));
	@fwrite($fp, base64_decode('eXBlPSJoaWRkZW4iIGlkPSJvbGRfZW1haWwiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkcmFfZW1haWwpLiciLz48YnI+JzsKCQkkb3V0Wyd0ZXh0J10gLj0gJzxsYWJlbCBjbGFzcz0icGFkZGluZ19sYWJlbCI+T2xkIGFkZHJlc3M6PC9sYWJlbD48Yj4nLmh0bWxl'));
	@fwrite($fp, base64_decode('bnRpdGllcygkcmFfZW1haWwpLic8L2I+PGJyPjxicj4nOwoJCSRvdXRbJ3RleHQnXSAuPSAnPGxhYmVsIGNsYXNzPSJwYWRkaW5nX2xhYmVsIj5OZXcgYWRkcmVzczo8L2xhYmVsPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ibmV3X2VtYWlsIiB2YWx1ZT0iIi8+PGJy'));
	@fwrite($fp, base64_decode('Pjxicj4nOwoJCSRvdXRbJ3RleHQnXSAuPSAnPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlNlbmQgbmV3IGFjdGl2YXRpb24gZW1haWwiPjwvZm9ybT4nOwoJfQp9IGVsc2UgaWYgKGV4cGxvZGUoJyQnLCRpZClbMF0gPT0gJ29pZHBsdXM6YWN0aXZhdGVfbmV3'));
	@fwrite($fp, base64_decode('X3JhX2VtYWlsJykgewoJJGhhbmRsZWQgPSB0cnVlOwoKCSRvbGRfZW1haWwgPSBleHBsb2RlKCckJywkaWQpWzFdOwoJJG5ld19lbWFpbCA9IGV4cGxvZGUoJyQnLCRpZClbMl07CgkkdGltZXN0YW1wID0gZXhwbG9kZSgnJCcsJGlkKVszXTsKCSRhdXRoID0gZXhw'));
	@fwrite($fp, base64_decode('bG9kZSgnJCcsJGlkKVs0XTsKCglpZiAoIU9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnYWxsb3dfcmFfZW1haWxfY2hhbmdlJykpIHsKCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCSRvdXRbJ3RleHQnXSAuPSAnPHA+VGhpcyBmdW5j'));
	@fwrite($fp, base64_decode('dGlvbmFsaXR5IGhhcyBiZWVuIGRpc2FibGVkIGJ5IHRoZSBhZG1pbmlzdHJhdG9yLjwvcD4nOwoJfSBlbHNlIHsKCQkkb3V0Wyd0aXRsZSddID0gJ1BlcmZvcm0gZW1haWwgYWRkcmVzcyBjaGFuZ2UnOwoJCSRvdXRbJ2ljb24nXSA9IGZpbGVfZXhpc3RzKF9fRElS'));
	@fwrite($fp, base64_decode('X18uJy9pY29uX2JpZy5wbmcnKSA/ICdwbHVnaW5zL3JhUGFnZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCgkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJF'));
	@fwrite($fp, base64_decode('RklYLiJyYSB3aGVyZSBlbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkb2xkX2VtYWlsKS4iJyIpOwoJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA9PSAwKSB7CgkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3Jf'));
	@fwrite($fp, base64_decode('YmlnLnBuZyc7CgkJCSRvdXRbJ3RleHQnXSA9ICdlTWFpbCBhZGRyZXNzIGRvZXMgbm90IGV4aXN0IGFueW1vcmUuIEl0IHdhcyBwcm9iYWJseSBhbHJlYWR5IGNoYW5nZWQuJzsKCQl9IGVsc2UgewoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVj'));
	@fwrite($fp, base64_decode('dCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRuZXdfZW1haWwpLiInIik7CgkJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA+IDAp'));
	@fwrite($fp, base64_decode('IHsKCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gPSAnZU1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IHVzZWQgYnkgYW5vdGhlciBSQS4gVG8gbWVyZ2UgYWNjb3VudHMsIHBsZWFzZSBjb250YWN0IHRoZSBzdXBl'));
	@fwrite($fp, base64_decode('cmlvciBSQSBvZiB5b3VyIG9iamVjdHMgYW5kIHJlcXVlc3QgYW4gb3duZXIgY2hhbmdlIG9mIHlvdXIgb2JqZWN0cy4nOwoJCQl9IGVsc2UgewoJCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6dmFsaWRhdGVBdXRoS2V5KCdhY3RpdmF0ZV9uZXdfcmFfZW1h'));
	@fwrite($fp, base64_decode('aWw7Jy4kb2xkX2VtYWlsLic7Jy4kbmV3X2VtYWlsLic7Jy4kdGltZXN0YW1wLCAkYXV0aCkpIHsKCQkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJCSRvdXRbJ3RleHQnXSA9ICdJbnZhbGlkIGF1dGhvcml6YXRpb24uIElzIHRoZSBV'));
	@fwrite($fp, base64_decode('UkwgT0s/JzsKCQkJCX0gZWxzZSB7CgkJCQkJJG91dFsndGV4dCddID0gJzxwPk9sZCBlTWFpbC1BZGRyZXNzOiA8Yj4nLiRvbGRfZW1haWwuJzwvYj48L3A+CgkJCSAgICAgICAgICAgICAgICA8cD5OZXcgZU1haWwtQWRkcmVzczogPGI+Jy4kbmV3X2VtYWlsLic8'));
	@fwrite($fp, base64_decode('L2I+PC9wPgoKCQkJCSAgICAgICAgIDxmb3JtIGlkPSJhY3RpdmF0ZU5ld1JhRW1haWxGb3JtIiBvbnN1Ym1pdD0icmV0dXJuIGFjdGl2YXRlTmV3UmFFbWFpbEZvcm1PblN1Ym1pdCgpOyI+CgkJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9Im9sZF9lbWFp'));
	@fwrite($fp, base64_decode('bCIgdmFsdWU9IicuaHRtbGVudGl0aWVzKCRvbGRfZW1haWwpLiciLz4KCQkJCSAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0ibmV3X2VtYWlsIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJG5ld19lbWFpbCkuJyIvPgoJCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRk'));
	@fwrite($fp, base64_decode('ZW4iIGlkPSJ0aW1lc3RhbXAiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkdGltZXN0YW1wKS4nIi8+CgkJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9ImF1dGgiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkYXV0aCkuJyIvPgoKCQkJCSAgICA8bGFiZWwgY2xh'));
	@fwrite($fp, base64_decode('c3M9InBhZGRpbmdfbGFiZWwiPlBsZWFzZSB2ZXJpZnkgeW91ciBwYXNzd29yZDo8L2xhYmVsPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkIiB2YWx1ZT0iIi8+PGJyPjxicj4KCQkJCSAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iQ2hh'));
	@fwrite($fp, base64_decode('bmdlIGVtYWlsIGFkZHJlc3MiPgoJCQkJICA8L2Zvcm0+JzsKCQkJCX0KCQkJfQoJCX0KCX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/raPages/102_change_email/gui.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/raPages/102_change_email/gui.inc.php');
	writefile_13();
	if (!is_file('plugins/raPages/102_change_email/gui.inc.php')) {
		warn('File cannot be created (not existing): plugins/raPages/102_change_email/gui.inc.php');
	} else if (sha1_file('plugins/raPages/102_change_email/gui.inc.php') != 'e0a766f64da66f183a89e5a6d2ac164f9b177790') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/102_change_email/gui.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/102_change_email/gui.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/raPages/102_change_email/gui.inc.php');
	}
} else {
	if (@sha1_file('plugins/raPages/102_change_email/gui.inc.php') !== 'e0a766f64da66f183a89e5a6d2ac164f9b177790') {
		if (@sha1_file('plugins/raPages/102_change_email/gui.inc.php') !== 'd06ae4535824301f38e02688eb1bdf1a6abbe05b') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/102_change_email/gui.inc.php');
			$tmp = pathinfo('plugins/raPages/102_change_email/gui.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/102_change_email/gui.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/102_change_email/gui.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_13();
		if (@sha1_file('plugins/raPages/102_change_email/gui.inc.php') !== 'e0a766f64da66f183a89e5a6d2ac164f9b177790') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/102_change_email/gui.inc.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 60\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 60') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

