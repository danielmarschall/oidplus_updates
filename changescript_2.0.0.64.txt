<?php /* <ViaThinkSoftSignature>
i1FsAxLleB9tflAeYN60UGnwNMoK8ZbVjaQaM8h1FgnU95IyKzRzpTWy+oJNXVQxu
i9y31pf8YcFbTS/2u8WVRE4THT54TnQNjWDMfYOjiLwuVRPiRkm7hXnMFMO+RKXph
nAPhARsWFm3EiMrVNORWTZbioozAhlxLGn360bqgfUXYnWRVipCzJOBWpYYWd+tYO
z3vwf+NOCnRzKeuUNlBszUACA038lC15Gl5mLUoj/+hlDeTFsBTs2S0HUqCvdsqYm
JTN25dfP6Gv7vGHy/zU0H/bZPCJWs3eAG/YyfUsYmJJSpLlyXQdzlywpTSGZZihPP
kn4ba+GLwnaI34U4kk5IhJJPujFufq2irZ6Pgsn6TNyk2Gyg53wXJPonfl6ZJnQaT
UbopcNh3NMiHytyGztGOeyBju9yM0/ZsL5gfm7MvFxoN7sW6YoDuj4c1k7FwrrG01
wXVUeeBN5ikGJhw0iW5hVn3nTPCFCyse+5uj8HUWJpGCCEqKVHeVF7HvKKdIf0ili
P8wQz8tX0RSew3DfZgGDkkgZgWXTDEcP0ZALQSzblVH9b8Q2TJj/FlBnykaC1427/
DeGtuFYgj971NV8kK0aa5uKPAajgx2YoQe/uRUafp0wSNzvOvzfs/Kl3pxGi+n/PC
TNkpC4yw8wqxLP4qkehG+aGc3Q1xO6UCgE2gkT/bqq4O8GQ+PC/68k2y8Nm6kGmF6
vIKLrnEmY55un3c22Dyt1+y4Q+ee2x827W5RNO4eP6O6uJStj0Q4h8xhcv06OrEmw
frYycmw/vPcpwD8qss8xA1oMRtyUduDuptNXeccQ/xSJddf2gr+FyA1OltuPJ328O
1VosnnOd8F4Ax4Z3BI286c/lpzTFl2EaBNPsbLrgbuz8F8aKyeGQtsQ5CCG6noqLg
iFQ2+P60SdwOC1IbXZ62ajKU5SY8iExGXwKKXilWLyhevpD2cq7YbzSzVM1mfKCFl
EZuUShWgUDHxNBYwp+r/CcqJctrcDMvtjuv+1Rf1fnVQgkped3V7jNNTNPX7/8Flo
nsfQo7B2OtRGC7332/EatT/c0k3Xk7fAWSB+EcScNm0aJvGqbUjAOUSuvSCVA1aWD
79EcLcB4VYZzvNfJHj5XSSeLSIm0MaohN/UsGPXa5Scp5Eg6y/35VIXyt8gctbpJw
jd9YyKJBqBLTBP3y6fDUwEcavP7P8uMCTrOt3LR9YmS1bc8IXGwwOCgNe5ttXDqhb
9b7BSfo0/prKiMzpKkz1fInKxMDAR+3H02/dGw572+gQ+nYzUt+gQ+1ARRUXPQRMl
SrFhiFGEadvZIiBvsPZs4OHxaQZiEWVL1JJ3/7zj3DNuztroS4jW87pRDDZdBsP1Y
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 63') {
	err('This update can only be applied to OIDplus version 2.0.0.63!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: TODO
function writefile_1() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('CkRvd25sb2FkIENvb2tpZUNvbnNlbnQgY29kZSBpbnRvIF8zcCBmb2xkZXIKCkFkbWluaXN0cmF0b3ItSW50ZXJmYWNlOgotIGVuYWJsZSBhbmQgZGlzYWJsZSBvYmplY3QgdHlwZXMKCndoZW4gamF2YXNjcmlwdCBmYWlscywgdGhlIGZvcm0gd2lsbCBiZSBzdWJt'));
	@fwrite($fp, base64_decode('aXR0ZWQgdG8gJy4vJyAsIHRoYXQgaXMgbm90IGdvb2QhIGZhaWxlZCBqYXZhc2NyaXB0IG11c3QgcmV0dXJuIGZhbHNlLCBzbyB0aGF0IHRoZSBmb3JtIGRvZXMgbm90IGdldCBzdWJtaXR0ZWQKCmh0bWwgY2hlY2tib3g6ICJsYWJlbCBmb3IiIHZlcndlbmRlbgoK'));
	@fwrite($fp, base64_decode('YWRtaW46IHNob3cgcHJpdmFjeSBlbnRyaWVzIGZyb20gUkFzIChidXQgZ3JleSwgc28geW91IGtub3cgdGhhdCBpdCBpcyBwcml2YXRlKQoKYWt0dWVsbGUgYmF1c3RlbGxlbjoKLSBlc2NhcGUgZXZlcnl0aGluZwotIGFudGkgeHNzIHdlaXRlciB2ZXJmZWluZXJu'));
	@fwrite($fp, base64_decode('Ci0gKG9pZCsgZ2Vucm9vdCA9IG1hcHBpbmcgdG8gT0lEIHRyZWUpCgphZG1pbiBzb2xsIGNvbnRhY3QgZGF0YSBlaW5lciBmcmVtZGVuIFJBIORuZGVybiBk/HJmZW4KCmZyZWVvaWQ6IGFzbi4xIHVuZCBpcmkgc3BhbHRlbiBhdXNibGVuZGVuLCBkYSBkaWVzZXIg'));
	@fwrite($fp, base64_decode('YXJjIGtlaW5lIElEcyB2ZXJnaWJ0PwoKcHJvIFJBIGRpbmdlIGxvZ2dlbiB3aWUgei5CLiBsYXN0IGxvZ2luCgpQcml2YWN5OiBNZWhyIHN0dWZlbiwgei5iLiBkYXNzIG1hbiBkZW4gcGVyc29uYWwgbmFtZSBldnRsIGdhciBuaWNodCB6ZWlnZW4gbfZjaHRlCgpN'));
	@fwrite($fp, base64_decode('YW4gc29sbHRlICJjcmVhdGVkIiBhYuRuZGVybiBk/HJmZW4hIG9kZXIgZXZ0bCBnYW56IHZlcnN0ZWNrZW4sIHdlbm4gbWFuIGVzIG5pY2h0IHdlad8KCiEhaW4gZGVyIGNydWQgbGlzdGUgZGVuIHRpdGVsIGRlcyBvYmpla3RzIHplaWdlbgoKcXVlOiBuaWNodCB2'));
	@fwrite($fp, base64_decode('ZXJ3ZW5kZXRlIG5hbWVzcGFjZXMgYXVzYmxlbmRlbiBm/HIgZGllIPZmZmVudGxpY2hrZWl0PwoKCm5hdE9yZGVyKCkgaXN0IG51ciBm/HIgT0lEIGf8bHRpZyEhISBhbmRlcmUgc29ydC1tZWNoYW5pc21lbiBm/HIgYW5kZXJlIG9iamVrdHR5cGVuIGVyZm9yZGVy'));
	@fwrite($fp, base64_decode('bGljaAoKdGlueW1jZQoJbWNlIGRpcnR5IGZsYWc6CgkJLSB3ZW5uIG1hbiB3ZWNoc2VsIChqcyB0cmVlIHNlbGVjdCksIGRhbm4gc29sbCBhYmdlZnJhZ3Qgd2VyZGVuLCBvYiB0aW55bWNlIGRpcnR5IGlzdCwgdW5kIGVpbmUgd2FybnVuZyBicmluZ2VuLCBhbHNv'));
	@fwrite($fp, base64_decode('IHNvLCB3aWUgd2VubiBtYW4gZGllIHNlaXRlIG5ldSBsYWRlbiB3/HJkZQoJCS0ga3JpdGlzY2hlciBidWc6IHNlaXRlIPZmZm5lbiwgdGlueSBtY2UgZWRpdGllcmVuLCBzcGVpY2hlcm4ga2xpY2tlbi4gZGFubiBmNSBuZXUgbGFkZW4gKG5pY2h0IHN0cmcrZjUp'));
	@fwrite($fp, base64_decode('OiBkYW5uIGlzdCBkZXIgYWx0ZSBjb250ZW50IHdpZWRlciBkYS4gYXXfZXIgbWFuIGRy/GNrdCBzdHJnK2Y1CglidWc6IG92ZXJsYXkgImJpbGQiIHVuZCAidGFiZWxsZSIgYmxlaWJ0IGF1ZiBkZW0gYmlsZHNjaGlybSwgc2VsYnN0IHdlbm4gbWFuIGRpZSBzZWl0'));
	@fwrite($fp, base64_decode('ZSB3ZWNoc2VsdCD8YmVyIGRhcyBtZW78CgpwcvxmZW4sIG9iIHdpcmtsaWNoIGFsbGVzIG1pdCBub3NjcmlwdCBt9mdsaWNoIGlzdAoKanN0cmVlIHNlbGVjdDogYXV0b21hdGljYWxseSBzY3JvbGwgZG93bgoKaW5uZXJoYWxiIGRlcyBjb250ZW50LXBhbmVzCgkt'));
	@fwrite($fp, base64_decode('IG5hdmlnYXRpb24genUgcGFyZW50IElEcwoKZm9yZWlnbiBrZXlzIG51dHplbgoKb3B0aXNjaCBhdWZo/GJzY2hlbi4gZGluZ2Ugd2llIFJBOiBtZWhyIGRpbmdlIHplaWdlbiwgYWRyZXNzZSwgZW1haWwgZXRjCgpkYgoJLSB3ZWcgdm9uIG15c3FsXyEgKFBETz8p'));
	@fwrite($fp, base64_decode('CgktIG1hbmRhbnRlbiAoZGIgcHLkZml4ZSkKCmF1dGggdW5kIGRhdGVu/GJlcnBy/GZ1bmdzY2hlY2tzIGluIGNydWRfYWN0aW9uLnBocAoKISEgZHNndm8gZGF0ZW5zY2h1dHplcmts5HJ1bmcsIGFnYnMgZXRjLgoKbWFya2VycyBkcmFmdCwgbGVhZiwgZnJvemVu'));
	@fwrite($fp, base64_decode('IGV0YwoKbXVsdGlsYW5nCgphdXNsaWZlcm4gbWl0IDIuOTk5IHVuZCBleGFtcGxlIERPSXMgZXRjCgp3byBpbiB4LjY2MCBpc3QgZmVzdGdlaGFsdGVuLCBkYXNzIGRpZSBlcnN0ZSBSQSBmZXN0Z2VoYWx0ZW4gd2VyZGVuIG11c3M/CnF1ZSA6IGhpc3RvcmllIGVp'));
	@fwrite($fp, base64_decode('bmVyIG9pZAoKaHR0cCBsb2dpbiBuaWNodCBt9mdsaWNoLiB3YXJ1bT8KCm9iamVjdHR5cGVzIGF1dG9tYXRpc2NoIGxhZGVuIChwaHAgZGF0ZWllbiBzdWNoZW4pIHVuZCByZWdpc3RyaWVyZW4uCgpTTUFMTCBUSElOR1MKLSA8YWJicj4gaW4gPGNvZGU+IHdpcmQg'));
	@fwrite($fp, base64_decode('ZG9wcGVsdCB1bnRlcnN0cmljaGVuCi0gd2VubiBtYW4gZWluZSB3ZWxsLWtub3duIE9JRCBhbmxlZ2VuIG32Y2h0ZSwgZGFubiBrb21tdCBmZWhsZXIgd2VnZW4gcmVwbGFjZUFzbjEvcmVwbGFjZUlyaSwgYWJlciBkaWUgT0lEIGlzdCBlcnN0ZWxsdC4gRGllIEFQ'));
	@fwrite($fp, base64_decode('SSBpc3QgYWJlciBuaWNodCByZWxvYWRlZC4gTWFuIHNpZWh0IGFsc28gbmljaHQsIGRhc3MgZGllIE9JRCBlcnN0ZWxsdCB3dXJkZSwgdW5kIGVpbiBlcm5ldXRlciBrbGljayBhdWYgSW5zZXJ0IGb8aHJ0IHp1bSBQcmltYXJ5LUtleSBmZWhsZXIKLSBwcm9ibGVt'));
	@fwrite($fp, base64_decode('OiB3ZW5uIGVpbmUgUkEgZWluZ2VsYWRlbiB3ZXJkZW4gbfZjaHRlLCBtdXNzIG1hbiAidXBkYXRlIiBkcvxja2VuIHVuZCBkaWUgT0lEIHdpcmQgYWxzIHVwZGF0ZWQgbWFya2llcnQKLSBiZWkgbWVocmVyZW4gaWRlbnRpZmllcm4ga2FubiBtYW4gbmljaHQgYmVz'));
	@fwrite($fp, base64_decode('dGltbWVuLCB3ZWxjaGVyIGlkZW50aWZpZXIgZGVyIGJldm9yenVndGUgc2VpbiBzb2xsISEKLSBzaG93IHdob2lzIGxpbmtzIG9ubHkgaWYgZm9sZGVyICJ3aG9pcy8iIGV4aXN0cwotIGRpc2FibGUgYXV0b2NvbXBsZXRlIG9uIHNvbWUgZm9ybXMKLSBncmFwaGlj'));
	@fwrite($fp, base64_decode('YWwgaW1wb3J2ZW1lbnRzIG9mIGZvcm1zIChpbnB1dCBlZGl0cyBhbGlnbmVkKQotICJEb2N1bWVudHMiIHNlY3Rpb246IE1ha2UgZG9jdW1lbnRhdGlvbiBmb3IgdXNhZ2Ugb2YgT0lEcGx1cyAoZm9yIG1lbWJlcnMpCgpGVVRVUkUKLSBhZG1pbjogc29sbCB3ZWxs'));
	@fwrite($fp, base64_decode('a25vd24gb2lkcyDkbmRlcm4gZPxyZmVuCi0gbW92ZSBvaWQgdG8gZGlmZmVyZW50IGFyYwotIGJlaSBzZWhyIGdyb99lbiBhcmNzICh6LkIuIFBFTikgc29sbGVuIG5pY2h0IGFsbGUgYW5nZXplaWd0IHdlcmRlbgotIHVudGVyc3T8dHp1bmcgZvxyIE9SUz8KLSBN'));
	@fwrite($fp, base64_decode('ZWhyICJDdXR0aW5nIEVkZ2UgVGVjaG5vbG9naWUiIHNvbGwgaW4gZGllc2VtIFByb2pla3QgenVtIFRyYWdlbiBrb21tZW46IEFKQVgsIEpTT04sIHZvbGxzdORuZGlnIFVURjgsIENSVUQgZnJhbWV3b3JrcywgUERPLCBIVE1MNSwgTW9iaWxlcyBEZXNpZ24sIFB1'));
	@fwrite($fp, base64_decode('cmUgQ1NTLCBBdXRvbG9hZGluZywgT2JqZWt0b3JpZW50aWVydW5nIChhYmVyIG5pY2h0IHVuYmVkaW5ndCBNVkMpLCAuLi48YnI+Ci0gIlNlYXJjaCIgcGx1Z2luOiBGZWF0dXJlIHRvIHNlYXJjaCBpbnNpZGUgZG9jdW1lbnRhdGlvbiAoZG9jLyBkaXJlY3Rvcnkp'));
	@fwrite($fp, base64_decode('Ci0gTWFrZSBhICJ2ZXJzaW9uIiBmaWVsZCBpbiB0aGUgZGF0YWJhc2UsIHNvIHdlIGtub3cgd2hlbiB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgZGF0YWJhc2Ugc3RydWN0dXJlCgpSRUpFQ1RFRCBJREVBUzoKLSBzb2xsdGUgZXMgbWVoZXJlIGFkbWlucyBnZWJlbj8K'));
	@fwrite($fp, base64_decode('LSBjaGFuZ2UgaGlzdG9yeSBvZiBlYWNoIG9pZAoKSURFQVMKLSB0aGVyZSBzaG91bGQgYmUgYSBmb3JtIHdoZXJlIGFuIFJBIGNhbiByZXF1ZXN0IGFuIGludml0YXRpb24sIGV2ZW4gaWYgdGhlIHN1cGVyaW9yIFJBIGRpZCBub3QgaW52aXRlIHRoZW0uCiAgdGhl'));
	@fwrite($fp, base64_decode('IGZhY3QgdGhhdCBhIFJBIGV4aXN0cyBpbiB0aGUgT2JqZWN0IFRhYmxlIHNob3VsZCBwZXJtaXQgdGhlIFJBIHRvIGludml0ZSB0aGVpcnNlbGYuCi0gYmVpbSB2ZXJsYXNzZW4gZGVyIHNlaXRlLCB6LmIuIHdlbm4gbWFuIGxpbmtzIGF1ZiBlaW5lbiBuZXVlbiBt'));
	@fwrite($fp, base64_decode('ZW78cHVua3Qga2xpY2t0LCBzb2xsIGVpbmUgYWJmcmFnZSBrb21tZW4sIG9iIG1hbiBzcGVpY2hlcm4gbfZjaHRlCi0gbWFrZSBhIGxpc3Qgb2YgT0lEcyB0aGF0IGRvIG5vdCBhc3NpZ24gQVNOMS9JUkkgaWRlbnRpZmllcnMgKGUuZy4gSUFOQSBQRU4gb3IgVmlh'));
	@fwrite($fp, base64_decode('VGhpbmtTb2Z0IEZyZWVPSUQpLCB0aGVuIHJlamVjdCBhbnkgaWRlbnRpZmllciB0aGUgdXNlciBwcm92aWRlcwotIHNhbml0aXplIElQdjQsIElQdjYsIEdVSUQgZHVyaW5nIGNyZWF0aW9uCgliZWkgSVB2NCB1bmQgSVB2NjogLSBpZiBpdCBpcyBhIHNpbmdsZSBo'));
	@fwrite($fp, base64_decode('b3N0IGFkZHJlc3MsIGRvbid0IHB1dCAvMzIgb3IgLzEyOCBzdWZmaXgKCSAgICAgICAgICAgICAgICAgICAtIHN0cmlrZSB1bm5lY2Vzc2FyeSBiaXRzIHRoYXQgYXJlIG5vdCBkZWZpbmVkIGluIHRoZSBuZXRtYXNrIChhbHNvIGF0IHRoZSB3aG9pcyBvdXRwdXQp'));
	@fwrite($fp, base64_decode('Ci0gd2UgbmVlZCBzb21lIGtpbmQgb2YgcGx1Z2luIEFQSSB0byBhbGxvdyBpbmRpdmlkdWFsIGNvbmZpZyB2YWx1ZXMgdG8gYmUgc3RvcmVkCgpRVUVTVElPTlM6Ci0gc2hvdWxkIHRoZSBjb2xsYXRpb24gYmUgY2FzZSBzZW5zaXRpdmUgb3IgY2FzZSBpbnNlbnNp'));
	@fwrite($fp, base64_decode('dGl2ZT8gRm9yIEphdmEgcGFja2FnZSBuYW1lcywgaXQgc2hvdWxkIGJlIGNhc2Ugc2Vuc3RpdmllCi0gd29ydCAiZ3VpZCIgb2RlciAidXVpZCIgdmVyd2VuZGVuPwotIGJpdCBvciB0aW55aW50KDEpID8KLSBzaG91bGQgIk9JRCB1cGRhdGVkIiBiZSBzcGxpdCBp'));
	@fwrite($fp, base64_decode('bnRvIHR3byBjYXRlZ29yaWVzICJ1cGRhdGVkIGJ5IHN1cGVyaW9yIiAoZS5nLiBpZGVudGlmaWVycykgYW5kICJ1cGRhdGVkIGJ5IG93bmVyIiAoZGVzY3JpcHRpb24gZXRjKT8KLSAidXBkYXRlZCIgbmljaHQgYWt0dWFsaXNpZXJlbiwgd2VubiBtYW4gbnVyIGF1'));
	@fwrite($fp, base64_decode('ZiAidXBkYXRlIiBrbGlja3QgYWJlciBuaXggZ2XkbmRlcnQgaGF0Ci0gIkRvY3VtZW50cyIgc2VjdGlvbjogQ2FuIGJhc2Ugb2YgVVJMcy9pbWFnZXMgaW5zaWRlIHRoZSBIVE1MIGJlIGNoYW5nZWQgYXV0b21hdGljYWxseT8KCkdVSUQgTWFuYWdlbWVudAotIExl'));
	@fwrite($fp, base64_decode('YWYgbm9kZXMgKEdVSURzKSBzaG91bGQgc2hvdy9lZGl0IHRoZSBUaXRsZSBpbiB0aGUgQ1JVRCwgc28geW91IGRvbnQgaGF2ZSB0byBjbGljayB0aGUgR1VJRCB0byBzZWUgdGhlIHRpdGxlCi0gc2VsdHNhbWVyIGJ1Zzogd2VubiBpY2ggZ3VpZDpvaWRwbHVzIGVk'));
	@fwrite($fp, base64_decode('aXRpZXJlLCBkYW5uIPZmZm5ldCBzaWNoIGxpbmtzIGd1aWQ6YWN0aXZlZGlyZWN0b3J5IGJlaW0gbmV1bGFkZW4gZGVzIGJhdW1zIG5hY2ggZGVtIHVwZGF0ZS4gaXJnZW5kd2llIPZmZm5ldCBlciBkZW4genVsZXR6dCBnZfZmZm5ldGVuIG5vZGUgYmVpbSByZWxv'));
	@fwrite($fp, base64_decode('YWQgbm9jaG1hbAo='));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_1();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != 'ed3226bcd29ebf098420a2de8d0b2f724422d1d5') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== 'ed3226bcd29ebf098420a2de8d0b2f724422d1d5') {
		if (@sha1_file('TODO') !== 'b09f65639d752d1256dee50b7381402957fda8ea') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('TODO') !== 'ed3226bcd29ebf098420a2de8d0b2f724422d1d5') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: includes/classes/OIDplusConfig.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplusConfig.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNDb25maWcgewoKCXByb3RlY3RlZCAkdmFsdWVzOwoKCXByb3RlY3RlZCBmdW5jdGlvbiBsb2FkQ29uZmlnKCkgewoJCS8vIEFkZCBkZWZhdWx0cwoJCU9JRHBsdXM6OmRiKCkt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUsIHByb3RlY3RlZCwgdmlzaWJsZSkgdmFsdWVzICgnc3lzdGVtX3RpdGxlJywgJ1doYXQgaXMgdGhlIG5hbWUgb2YgeW91'));
	@fwrite($fp, base64_decode('ciBSQT8nLCAnT0lEcGx1cyAyLjAnLCAwLCAxKSIpOwoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUsIHByb3RlY3RlZCwgdmlzaWJsZSkg'));
	@fwrite($fp, base64_decode('dmFsdWVzICgnZ2xvYmFsX2NjJywgJ0dsb2JhbCBDQyBmb3IgYWxsIG91dGdvaW5nIGVtYWlscz8nLCAnJywgMCwgMSkiKTsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwg'));
	@fwrite($fp, base64_decode('ZGVzY3JpcHRpb24sIHZhbHVlLCBwcm90ZWN0ZWQsIHZpc2libGUpIHZhbHVlcyAoJ3JhX21pbl9wYXNzd29yZF9sZW5ndGgnLCAnTWluaW11bSBsZW5ndGggZm9yIFJBIHBhc3N3b3JkcycsICc2JywgMCwgMSkiKTsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5z'));
	@fwrite($fp, base64_decode('ZXJ0IGludG8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwgZGVzY3JpcHRpb24sIHZhbHVlLCBwcm90ZWN0ZWQsIHZpc2libGUpIHZhbHVlcyAoJ21heF9yYV9pbnZpdGVfdGltZScsICdNYXggUkEgaW52aXRlIHRpbWUgaW4gc2Vjb25k'));
	@fwrite($fp, base64_decode('cyAoMCA9IGluZmluaXRlKScsICcwJywgMCwgMSkiKTsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwgZGVzY3JpcHRpb24sIHZhbHVlLCBwcm90ZWN0ZWQsIHZpc2libGUp'));
	@fwrite($fp, base64_decode('IHZhbHVlcyAoJ21heF9yYV9wd2RfcmVzZXRfdGltZScsICdNYXggUkEgcGFzc3dvcmQgcmVzZXQgdGltZSBpbiBzZWNvbmRzICgwID0gaW5maW5pdGUpJywgJzAnLCAwLCAxKSIpOwoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNf'));
	@fwrite($fp, base64_decode('VEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUsIHByb3RlY3RlZCwgdmlzaWJsZSkgdmFsdWVzICgnd2hvaXNfYXV0aF90b2tlbicsICdPSUQtb3Zlci1XSE9JUyBhdXRoZW50aWNhdGlvbiB0b2tlbiB0byBkaXNwbGF5IGNv'));
	@fwrite($fp, base64_decode('bmZpZGVudGlhbCBkYXRhJywgJycsIDAsIDEpIik7CgoJCS8vIEFsc28gYXNrIHRoZSBwbHVnaW5zIGlmIHRoZXkgaGF2ZSBkZWZhdWx0cwoJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCcqJykgYXMgJHBsdWdpbikgewoJCQkkcGx1Z2luLT5jZmdM'));
	@fwrite($fp, base64_decode('b2FkQ29uZmlnKCk7CgkJfQoKCQkvLyBOb3cgbG9hZCB0aGUgdmFsdWVzCgkJJHRoaXMtPnZhbHVlcyA9IGFycmF5KCk7CgkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWci'));
	@fwrite($fp, base64_decode('KTsKCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX29iamVjdCgkcmVzKSkgewoJCQkkdGhpcy0+dmFsdWVzWyRyb3ctPm5hbWVdID0gJHJvdy0+dmFsdWU7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpIHsKCQkkdGhpcy0+'));
	@fwrite($fp, base64_decode('bG9hZENvbmZpZygpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBzeXN0ZW1UaXRsZSgpIHsKCQlyZXR1cm4gdHJpbSgkdGhpcy0+dmFsdWVzWydzeXN0ZW1fdGl0bGUnXSk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdsb2JhbENDKCkgewoJCXJldHVybiB0cmltKCR0aGlz'));
	@fwrite($fp, base64_decode('LT52YWx1ZXNbJ2dsb2JhbF9jYyddKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbWluUmFQYXNzd29yZExlbmd0aCgpIHsKCQlyZXR1cm4gJHRoaXMtPnZhbHVlc1sncmFfbWluX3Bhc3N3b3JkX2xlbmd0aCddOwoJfQoKCS8qICAgaGFyZGNvZGVkIGluIHNldHVwLyAs'));
	@fwrite($fp, base64_decode('IGJlY2F1c2UgZHVyaW5nIGluc3RhbGxhdGlvbiwgd2UgZG9udCBoYXZlIGEgc2V0dGluZ3MgZGF0YWJhc2UKCXB1YmxpYyBmdW5jdGlvbiBtaW5BZG1pblBhc3N3b3JkTGVuZ3RoKCkgewoJCXJldHVybiA2OwoJfQoJKi8KCglwdWJsaWMgZnVuY3Rpb24gbWF4SW52'));
	@fwrite($fp, base64_decode('aXRlVGltZSgpIHsKCQlyZXR1cm4gJHRoaXMtPnZhbHVlc1snbWF4X3JhX2ludml0ZV90aW1lJ107Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG1heFBhc3N3b3JkUmVzZXRUaW1lKCkgewoJCXJldHVybiAkdGhpcy0+dmFsdWVzWydtYXhfcmFfcHdkX3Jlc2V0X3RpbWUn'));
	@fwrite($fp, base64_decode('XTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYXV0aFRva2VuKCkgewoJCSR2YWwgPSB0cmltKCR0aGlzLT52YWx1ZXNbJ3dob2lzX2F1dGhfdG9rZW4nXSk7CgkJcmV0dXJuIGVtcHR5KCR2YWwpID8gZmFsc2UgOiAkdmFsOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXRW'));
	@fwrite($fp, base64_decode('YWx1ZSgkbmFtZSkgewoJCWlmIChpc3NldCgkdGhpcy0+dmFsdWVzWyRuYW1lXSkpIHsKCQkJcmV0dXJuICR0aGlzLT52YWx1ZXNbJG5hbWVdOwoJCX0gZWxzZSB7CgkJCXJldHVybiBudWxsOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gc2V0VmFsdWUoJG5hbWUs'));
	@fwrite($fp, base64_decode('ICR2YWx1ZSkgewoJCS8vIENoZWNrIGZvciB2YWxpZCB2YWx1ZXMKCgkJaWYgKCRuYW1lID09ICdzeXN0ZW1fdGl0bGUnKSB7CgkJCWlmIChlbXB0eSgkdmFsdWUpKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBmb3IgdGhl'));
	@fwrite($fp, base64_decode('IHN5c3RlbSB0aXRsZS4iKTsKCgkJCX0KCQl9CgkJaWYgKCRuYW1lID09ICdnbG9iYWxfY2MnKSB7CgkJCWlmICghZW1wdHkoJHZhbHVlKSAmJiAhb2lkZGJfdmFsaWRfZW1haWwoJHZhbHVlKSkgewoJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiVGhpcyBpcyBub3Qg'));
	@fwrite($fp, base64_decode('YSBjb3JyZWN0IGVtYWlsIGFkZHJlc3MiKTsKCQkJfQoJCX0KCQlpZiAoJG5hbWUgPT0gJ3JhX21pbl9wYXNzd29yZF9sZW5ndGgnKSB7CgkJCWlmICghaXNfbnVtZXJpYygkdmFsdWUpIHx8ICgkdmFsdWUgPCAxKSkgewoJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigi'));
	@fwrite($fp, base64_decode('UGxlYXNlIGVudGVyIGEgdmFsaWQgcGFzc3dvcmQgbGVuZ3RoLiIpOwoJCQl9CgkJfQoJCWlmICgoJG5hbWUgPT0gJ21heF9yYV9pbnZpdGVfdGltZScpIHx8ICgkbmFtZSA9PSAnbWF4X3JhX3B3ZF9yZXNldF90aW1lJykpIHsKCQkJaWYgKCFpc19udW1lcmljKCR2'));
	@fwrite($fp, base64_decode('YWx1ZSkgfHwgKCR2YWx1ZSA8IDApKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgYSB2YWxpZCB2YWx1ZS4iKTsKCQkJfQoJCX0KCQlpZiAoJG5hbWUgPT0gJ3dob2lzX2F1dGhfdG9rZW4nKSB7CgkJCSR0ZXN0X3ZhbHVlID0gcHJlZ19y'));
	@fwrite($fp, base64_decode('ZXBsYWNlKCdAWzAtOWEtekEtWl0qQCcsICcnLCAkdmFsdWUpOwoJCQlpZiAoJHRlc3RfdmFsdWUgIT0gJycpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIk9ubHkgY2hhcmFjdGVycyBhbmQgbnVtYmVycyBhcmUgYWxsb3dlZCBhcyBhdXRoZW50aWNhdGlvbiB0'));
	@fwrite($fp, base64_decode('b2tlbi4iKTsKCQkJfQoJCX0KCgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoJyonKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmNmZ1NldFZhbHVlKCRuYW1lLCAkdmFsdWUpOwoJCX0KCgkJLy8gTm93IGNoYW5nZSB0aGUgdmFsdWUgaW4gdGhl'));
	@fwrite($fp, base64_decode('IGRhdGFiYXNlCgoJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoInVwZGF0ZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIHNldCB2YWx1ZSA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkdmFsdWUpLiInIHdoZXJlIG5h'));
	@fwrite($fp, base64_decode('bWUgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG5hbWUpLiInIikpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbihPSURwbHVzOjpkYigpLT5lcnJvcigpKTsKCQl9Cgl9Cgp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusConfig.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusConfig.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplusConfig.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusConfig.class.php');
	} else if (sha1_file('includes/classes/OIDplusConfig.class.php') != '8d46d1a4b3fac0e5569a8a7c2db95263737c3d7c') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusConfig.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusConfig.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusConfig.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '8d46d1a4b3fac0e5569a8a7c2db95263737c3d7c') {
		if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '38616dc2587b9e562b8663dfd3f053248dc516c7') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusConfig.class.php');
			$tmp = pathinfo('includes/classes/OIDplusConfig.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusConfig.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusConfig.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplusConfig.class.php') !== '8d46d1a4b3fac0e5569a8a7c2db95263737c3d7c') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusConfig.class.php');
		}
	}
}

// Files different: plugins/adminPages/110_system_config/plugin.inc.php
function writefile_3() {
	@$fp = fopen('plugins/adminPages/110_system_config/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlQWRtaW5TeXN0ZW1Db25maWcgZXh0ZW5kcyBPSURwbHVzUGFnZVBsdWdpbiB7CglwdWJsaWMgZnVuY3Rpb24gdHlwZSgpIHsKCQlyZXR1cm4gJ2FkbWluJzsKCX0KCglw'));
	@fwrite($fp, base64_decode('dWJsaWMgZnVuY3Rpb24gcHJpb3JpdHkoKSB7CgkJcmV0dXJuIDExMDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYWN0aW9uKCYkaGFuZGxlZCkgewoJCWlmICgkX1BPU1RbImFjdGlvbiJdID09ICJjb25maWdfdXBkYXRlIikgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkJZGllKCdZb3UgbmVlZCB0byBsb2cgaW4gYXMgYWRtaW5pc3RyYXRvci4nKTsKCQkJfQoKCQkJJG5hbWUgPSAkX1BPU1RbJ25hbWUnXTsKCQkJJHZhbHVlID0gJF9QT1NU'));
	@fwrite($fp, base64_decode('Wyd2YWx1ZSddOwoKCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCRuYW1lLCAkdmFsdWUpOwoKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcHJvdGVjdGVkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyB3'));
	@fwrite($fp, base64_decode('aGVyZSBuYW1lID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRuYW1lKS4iJzsiKTsKCQkJJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpOwoJCQlpZiAoJHJvd1sncHJvdGVjdGVkJ10gPT0gMSkgewoJCQkJZGllKCdT'));
	@fwrite($fp, base64_decode('ZXR0aW5nIGlzIHdyaXRlIHByb3RlY3RlZCcpOwoJCQl9CgoJCQllY2hvICJPSyI7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjZmdMb2FkQ29uZmlnKCkgewoJCS8vIE5vdGhpbmcKCX0KCglwdWJsaWMgZnVuY3Rpb24gY2ZnU2V0VmFsdWUoJG5hbWUsICR2YWx1'));
	@fwrite($fp, base64_decode('ZSkgewoJCS8vIE5vdGhpbmcKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ3VpKCRpZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJCWlmIChleHBsb2RlKCckJywkaWQpWzBdID09ICdvaWRwbHVzOmVkaXRfY29uZmlnJykgewoJCQkkaGFuZGxlZCA9IHRydWU7CgkJCSRvdXRb'));
	@fwrite($fp, base64_decode('J3RpdGxlJ10gPSAnU3lzdGVtIGNvbmZpZ3VyYXRpb24nOwoJCQkkb3V0WydpY29uJ10gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9iaWcucG5nJykgPyAncGx1Z2lucy9hZG1pblBhZ2VzLycuYmFzZW5hbWUoX19ESVJfXykuJy9pY29uX2JpZy5wbmcnIDog'));
	@fwrite($fp, base64_decode('Jyc7CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+WW91IG5lZWQgdG8gPGEgaHJlZj0iP2dvdG89b2lk'));
	@fwrite($fp, base64_decode('cGx1czpsb2dpbiI+bG9nIGluPC9hPiBhcyBhZG1pbmlzdHJhdG9yLjwvcD4nOwoJCQl9IGVsc2UgewoJCQkJJG91dHB1dCA9ICcnOwoJCQkJJG91dHB1dCAuPSAnPGRpdiBjbGFzcz0iY29udGFpbmVyIGJveCI+PGRpdiBpZD0ic3Vib2lkX3RhYmxlIiBjbGFzcz0i'));
	@fwrite($fp, base64_decode('dGFibGUtcmVzcG9uc2l2ZSI+JzsKCQkJCSRvdXRwdXQgLj0gJzx0YWJsZSBjbGFzcz0idGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtc3RyaXBlZCI+JzsKCQkJCSRvdXRwdXQgLj0gJwk8dHI+JzsKCQkJCSRvdXRwdXQgLj0gJwkgICAgIDx0aD5TZXR0aW5nPC90'));
	@fwrite($fp, base64_decode('aD4nOwoJCQkJJG91dHB1dCAuPSAnCSAgICAgPHRoPkRlc2NyaXB0aW9uPC90aD4nOwoJCQkJJG91dHB1dCAuPSAnCSAgICAgPHRoPlZhbHVlPC90aD4nOwoJCQkJJG91dHB1dCAuPSAnCSAgICAgPHRoPlVwZGF0ZTwvdGg+JzsKCQkJCSRvdXRwdXQgLj0gJwk8L3Ry'));
	@fwrite($fp, base64_decode('Pic7CgoJCQkJT0lEcGx1czo6Y29uZmlnKCk7IC8vIDwtLSBtYWtlIHN1cmUgdGhhdCB0aGUgY29uZmlnIHRhYmxlIGlzIGxvYWRlZC9maWxsZWQgY29ycmVjdGx5IGJlZm9yZSB3ZSBkbyBhIHNlbGVjdAoKCQkJCSRyZXN1bHQgPSBPSURwbHVzOjpkYigpLT5xdWVy'));
	@fwrite($fp, base64_decode('eSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIHdoZXJlIGB2aXNpYmxlYCA9IDEgb3JkZXIgYnkgbmFtZSIpOwoJCQkJd2hpbGUgKCRyb3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlc3VsdCkpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CQkkb3V0cHV0IC49ICc8dHI+JzsKCQkJCQkkb3V0cHV0IC49ICcgICAgIDx0ZD4nLmh0bWxlbnRpdGllcygkcm93LT5uYW1lKS4nPC90ZD4nOwoJCQkJCSRvdXRwdXQgLj0gJyAgICAgPHRkPicuaHRtbGVudGl0aWVzKCRyb3ctPmRlc2NyaXB0aW9uKS4nPC90ZD4n'));
	@fwrite($fp, base64_decode('OwoJCQkJCWlmICgkcm93LT5wcm90ZWN0ZWQgPT0gMSkgewoJCQkJCQkkb3V0cHV0IC49ICcgICAgIDx0ZD4nLmh0bWxlbnRpdGllcygkcm93LT52YWx1ZSkuJzwvdGQ+JzsKCQkJCQkJJG91dHB1dCAuPSAnICAgICA8dGQ+Jm5ic3A7PC90ZD4nOwoJCQkJCX0gZWxz'));
	@fwrite($fp, base64_decode('ZSB7CgkJCQkJCSRvdXRwdXQgLj0gJyAgICAgPHRkPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iY29uZmlnXycuJHJvdy0+bmFtZS4nIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHJvdy0+dmFsdWUpLiciPjwvdGQ+JzsKCQkJCQkJJG91dHB1dCAuPSAnICAgICA8dGQ+'));
	@fwrite($fp, base64_decode('PGJ1dHRvbiB0eXBlPSJidXR0b24iIG5hbWU9ImNvbmZpZ191cGRhdGVfJy4kcm93LT5uYW1lLiciIGlkPSJjb25maWdfdXBkYXRlXycuJHJvdy0+bmFtZS4nIiBjbGFzcz0iYnRuIGJ0bi1zdWNjZXNzIGJ0bi14cyB1cGRhdGUiIG9uY2xpY2s9ImphdmFzY3JpcHQ6'));
	@fwrite($fp, base64_decode('Y3J1ZEFjdGlvbkNvbmZpZ1VwZGF0ZSgnLmpzX2VzY2FwZSgkcm93LT5uYW1lKS4nKSI+VXBkYXRlPC9idXR0b24+PC90ZD4nOwoJCQkJCX0KCQkJCQkkb3V0cHV0IC49ICc8L3RyPic7CgkJCQl9CgoJCQkJJG91dHB1dCAuPSAnPC90YWJsZT4nOwoJCQkJJG91dHB1'));
	@fwrite($fp, base64_decode('dCAuPSAnPC9kaXY+PC9kaXY+JzsKCgkJCQkkb3V0Wyd0ZXh0J10gPSAkb3V0cHV0OwoJCQl9CgoJCQlyZXR1cm4gJG91dDsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyZWUoJiRqc29uLCAkcmFfZW1haWw9bnVsbCkgewoJCWlmIChmaWxlX2V4aXN0cyhfX0RJ'));
	@fwrite($fp, base64_decode('Ul9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zL2FkbWluUGFnZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3RyZWVpY29uLnBuZyc7CgkJfSBlbHNlIHsKCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9s'));
	@fwrite($fp, base64_decode('ZGVyKQoJCX0KCgkJJGpzb25bXSA9IGFycmF5KAoJCQknaWQnID0+ICdvaWRwbHVzOmVkaXRfY29uZmlnJywKCQkJJ2ljb24nID0+ICR0cmVlX2ljb24sCgkJCSd0ZXh0JyA9PiAnU3lzdGVtIGNvbmZpZycKCQkpOwoJfQp9CgpPSURwbHVzOjpyZWdpc3RlclBhZ2VQ'));
	@fwrite($fp, base64_decode('bHVnaW4obmV3IE9JRHBsdXNQYWdlQWRtaW5TeXN0ZW1Db25maWcoKSk7Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/110_system_config/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/110_system_config/plugin.inc.php');
	writefile_3();
	if (!is_file('plugins/adminPages/110_system_config/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/110_system_config/plugin.inc.php');
	} else if (sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') != 'a40ce4e97d9905ddcd5e0a7050de90e5ebb805f5') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/110_system_config/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/110_system_config/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/110_system_config/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') !== 'a40ce4e97d9905ddcd5e0a7050de90e5ebb805f5') {
		if (@sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') !== '1d2c2ee659c8a415e47a7a2115491b6b743c9ded') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/110_system_config/plugin.inc.php');
			$tmp = pathinfo('plugins/adminPages/110_system_config/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/110_system_config/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/110_system_config/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/adminPages/110_system_config/plugin.inc.php') !== 'a40ce4e97d9905ddcd5e0a7050de90e5ebb805f5') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/110_system_config/plugin.inc.php');
		}
	}
}

// Files different: plugins/adminPages/400_oidinfo_export/plugin.inc.php
function writefile_4() {
	@$fp = fopen('plugins/adminPages/400_oidinfo_export/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlQWRtaW5PSURJbmZvRXhwb3J0IGV4dGVuZHMgT0lEcGx1c1BhZ2VQbHVnaW4gewoJcHVibGljIGZ1bmN0aW9uIHR5cGUoKSB7CgkJcmV0dXJuICdhZG1pbic7Cgl9CgoJ'));
	@fwrite($fp, base64_decode('cHVibGljIGZ1bmN0aW9uIHByaW9yaXR5KCkgewoJCXJldHVybiA0MDA7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGFjdGlvbigmJGhhbmRsZWQpIHsKCQkvLyBOb3RoaW5nCgl9CgoJcHVibGljIGZ1bmN0aW9uIGNmZ0xvYWRDb25maWcoKSB7CgkJT0lEcGx1czo6ZGIo'));
	@fwrite($fp, base64_decode('KS0+cXVlcnkoImluc2VydCBpbnRvICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgKG5hbWUsIGRlc2NyaXB0aW9uLCB2YWx1ZSwgcHJvdGVjdGVkLCB2aXNpYmxlKSB2YWx1ZXMgKCdvaWRpbmZvX2V4cG9ydF9wcm90ZWN0ZWQnLCAnT0lELWluZm8u'));
	@fwrite($fp, base64_decode('Y29tIGV4cG9ydCBpbnRlcmZhY2UgcHJvdGVjdGVkIChyZXF1aXJlcyBhZG1pbiBsb2cgaW4pLCB2YWx1ZXMgMC8xJywgJzEnLCAwLCAxKSIpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjZmdTZXRWYWx1ZSgkbmFtZSwgJHZhbHVlKSB7CgkJaWYgKCRuYW1lID09ICdv'));
	@fwrite($fp, base64_decode('aWRpbmZvX2V4cG9ydF9wcm90ZWN0ZWQnKSB7CgkJCWlmICgoJHZhbHVlICE9ICcwJykgJiYgKCR2YWx1ZSAhPSAnMScpKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJQbGVhc2UgZW50ZXIgZWl0aGVyIDAgb3IgMS4iKTsKCQkJfQoJCX0KCX0KCglwdWJsaWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gZ3VpKCRpZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJCWlmICgkaWQgPT09ICdvaWRwbHVzOmV4cG9ydCcpIHsKCQkJJGhhbmRsZWQgPSB0cnVlOwoJCQkkb3V0Wyd0aXRsZSddID0gJ0RhdGEgZXhwb3J0JzsKCQkJJG91dFsnaWNvbiddID0gZmlsZV9l'));
	@fwrite($fp, base64_decode('eGlzdHMoX19ESVJfXy4nL2ljb25fYmlnLnBuZycpID8gJ3BsdWdpbnMvYWRtaW5QYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvaWNvbl9iaWcucG5nJyA6ICcnOwoKCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNBZG1pbkxvZ2dlZEluKCkpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPllvdSBuZWVkIHRvIDxhIGhyZWY9Ij9nb3RvPW9pZHBsdXM6bG9naW4iPmxvZyBpbjwvYT4gYXMgYWRtaW5pc3RyYXRvci48L3A+JzsKCQkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJCSRvdXRbJ3RleHQnXSA9ICc8cD5IZXJlIHlvdSBjYW4gcHJlcGFyZSB0aGUgZGF0YSBleHBvcnQgdG8gPGI+b2lkLWluZm8uY29tPC9iPi48L3A+Jy4KCQkJCSAgICAgICAgICAgICAgICc8cD48YSBocmVmPSJwbHVnaW5zL2FkbWluUGFnZXMvJy5iYXNlbmFt'));
	@fwrite($fp, base64_decode('ZShfX0RJUl9fKS4nL29pZGluZm9fZXhwb3J0LnBocCI+R2VuZXJhdGUgWE1MIChhbGwpPC9hPjwvcD4nLgoJCQkJICAgICAgICAgICAgICAgJzxwPjxhIGhyZWY9InBsdWdpbnMvYWRtaW5QYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvb2lkaW5mb19leHBvcnQu'));
	@fwrite($fp, base64_decode('cGhwP29ubGluZT0xIj5HZW5lcmF0ZSBYTUwgKG9ubHkgbm9uLWV4aXN0aW5nKTwvYT48L3A+Jy4KCQkJCSAgICAgICAgICAgICAgICc8cD48YSBocmVmPSJodHRwOi8vd3d3Lm9pZC1pbmZvLmNvbS9zdWJtaXQuaHRtIj5VcGxvYWQgdG8gb2lkLWluZm8uY29tPC9h'));
	@fwrite($fp, base64_decode('PjwvcD4nOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlKCYkanNvbiwgJHJhX2VtYWlsPW51bGwpIHsKCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uLnBuZycpKSB7CgkJCSR0cmVlX2ljb24gPSAncGx1Z2lucy9hZG1pblBhZ2Vz'));
	@fwrite($fp, base64_decode('LycuYmFzZW5hbWUoX19ESVJfXykuJy90cmVlaWNvbi5wbmcnOwoJCX0gZWxzZSB7CgkJCSR0cmVlX2ljb24gPSBudWxsOyAvLyBkZWZhdWx0IGljb24gKGZvbGRlcikKCQl9CgoJCSRqc29uW10gPSBhcnJheSgKCQkJJ2lkJyA9PiAnb2lkcGx1czpleHBvcnQnLAoJ'));
	@fwrite($fp, base64_decode('CQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+ICdEYXRhIGV4cG9ydCcKCQkpOwoJfQp9CgpPSURwbHVzOjpyZWdpc3RlclBhZ2VQbHVnaW4obmV3IE9JRHBsdXNQYWdlQWRtaW5PSURJbmZvRXhwb3J0KCkpOwo='));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/400_oidinfo_export/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/400_oidinfo_export/plugin.inc.php');
	writefile_4();
	if (!is_file('plugins/adminPages/400_oidinfo_export/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/400_oidinfo_export/plugin.inc.php');
	} else if (sha1_file('plugins/adminPages/400_oidinfo_export/plugin.inc.php') != '26be17f49726a077e2b7e4e7d6bb83a24181ee3d') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/400_oidinfo_export/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/400_oidinfo_export/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/400_oidinfo_export/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/400_oidinfo_export/plugin.inc.php') !== '26be17f49726a077e2b7e4e7d6bb83a24181ee3d') {
		if (@sha1_file('plugins/adminPages/400_oidinfo_export/plugin.inc.php') !== 'd6cd8c137e3474882ba2f0cba899dd34d6f44c1f') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/400_oidinfo_export/plugin.inc.php');
			$tmp = pathinfo('plugins/adminPages/400_oidinfo_export/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/400_oidinfo_export/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/400_oidinfo_export/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/adminPages/400_oidinfo_export/plugin.inc.php') !== '26be17f49726a077e2b7e4e7d6bb83a24181ee3d') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/400_oidinfo_export/plugin.inc.php');
		}
	}
}

// Files different: plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php
function writefile_5() {
	@$fp = fopen('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlUHVibGljRnJlZU9JRCBleHRlbmRzIE9JRHBsdXNQYWdlUGx1Z2luIHsKCXB1YmxpYyBmdW5jdGlvbiB0eXBlKCkgewoJCXJldHVybiAncHVibGljJzsKCX0KCglwdWJs'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24gcHJpb3JpdHkoKSB7CgkJcmV0dXJuIDIwMDsKCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRGcmVlUm9vdE9pZCgpIHsKCQlyZXR1cm4gT0lEcGx1c09JRDo6cGFyc2UoJ29pZDonLk9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgn'));
	@fwrite($fp, base64_decode('ZnJlZW9pZF9yb290X29pZCcpKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYWN0aW9uKCYkaGFuZGxlZCkgewoJCWlmICgkX1BPU1RbImFjdGlvbiJdID09ICJjb20udmlhdGhpbmtzb2Z0LmZyZWVvaWQucmVxdWVzdF9mcmVlb2lkIikgewoJCQkkaGFuZGxlZCA9IHRy'));
	@fwrite($fp, base64_decode('dWU7CgkJCSRlbWFpbCA9ICRfUE9TVFsnZW1haWwnXTsKCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2Vz'));
	@fwrite($fp, base64_decode('Y2FwZV9zdHJpbmcoJGVtYWlsKS4iJyIpOwoJCQlpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPiAwKSB7CgkJCQlkaWUoJ1RoaXMgZW1haWwgYWRkcmVzcyBhbHJlYWR5IGV4aXN0cy4nKTsgLy8gVE9ETzogYWN0dWFsbHksIHRoZSBwZXJzb24gbWln'));
	@fwrite($fp, base64_decode('aHQgaGF2ZSBzb21ldGhpbmcgZWxzZSAobGlrZSBhIERPSSkgYW5kIHdhbnQgdG8gaGF2ZSBhIEZyZWVPSUQKCQkJfQoKCQkJaWYgKCFvaWRkYl92YWxpZF9lbWFpbCgkZW1haWwpKSB7CgkJCQlkaWUoJ0ludmFsaWQgZW1haWwgYWRkcmVzcycpOwoJCQl9CgoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoUkVDQVBUQ0hBX0VOQUJMRUQpIHsKCQkJCSRzZWNyZXQ9UkVDQVBUQ0hBX1BSSVZBVEU7CgkJCQkkcmVzcG9uc2U9JF9QT1NUWyJjYXB0Y2hhIl07CgkJCQkkdmVyaWZ5PWZpbGVfZ2V0X2NvbnRlbnRzKCJodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNo'));
	@fwrite($fp, base64_decode('YS9hcGkvc2l0ZXZlcmlmeT9zZWNyZXQ9eyRzZWNyZXR9JnJlc3BvbnNlPXskcmVzcG9uc2V9Iik7CgkJCQkkY2FwdGNoYV9zdWNjZXNzPWpzb25fZGVjb2RlKCR2ZXJpZnkpOwoJCQkJaWYgKCRjYXB0Y2hhX3N1Y2Nlc3MtPnN1Y2Nlc3M9PWZhbHNlKSB7CgkJCQkJ'));
	@fwrite($fp, base64_decode('ZGllKCdDYXB0Y2hhIHdyb25nJyk7CgkJCQl9CgkJCX0KCgkJCSR0aW1lc3RhbXAgPSB0aW1lKCk7CgkJCSRhY3RpdmF0ZV91cmwgPSBPSURwbHVzOjpzeXN0ZW1fdXJsKCkgLiAnP2dvdG89Jy51cmxlbmNvZGUoJ29pZHBsdXM6Y29tLnZpYXRoaW5rc29mdC5mcmVl'));
	@fwrite($fp, base64_decode('b2lkLmFjdGl2YXRlX2ZyZWVvaWQkJy4kZW1haWwuJyQnLiR0aW1lc3RhbXAuJyQnLk9JRHBsdXM6OmF1dGhVdGlscygpOjptYWtlQXV0aEtleSgnY29tLnZpYXRoaW5rc29mdC5mcmVlb2lkLmFjdGl2YXRlX2ZyZWVvaWQ7Jy4kZW1haWwuJzsnLiR0aW1lc3RhbXAp'));
	@fwrite($fp, base64_decode('KTsKCgkJCSRtZXNzYWdlID0gZmlsZV9nZXRfY29udGVudHMoX19ESVJfXyAuICcvcmVxdWVzdF9tc2cudHBsJyk7CgkJCSRtZXNzYWdlID0gc3RyX3JlcGxhY2UoJ3t7U1lTVEVNX1VSTH19JywgT0lEcGx1czo6c3lzdGVtX3VybCgpLCAkbWVzc2FnZSk7CgkJCSRt'));
	@fwrite($fp, base64_decode('ZXNzYWdlID0gc3RyX3JlcGxhY2UoJ3t7U1lTVEVNX1RJVExFfX0nLCBPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKSwgJG1lc3NhZ2UpOwoJCQkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e0FETUlOX0VNQUlMfX0nLCBPSURQTFVTX0FETUlOX0VNQUlM'));
	@fwrite($fp, base64_decode('LCAkbWVzc2FnZSk7CgkJCSRtZXNzYWdlID0gc3RyX3JlcGxhY2UoJ3t7QUNUSVZBVEVfVVJMfX0nLCAkYWN0aXZhdGVfdXJsLCAkbWVzc2FnZSk7CgkJCW15X21haWwoJGVtYWlsLCBPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKS4nIC0gRnJlZSBPSUQg'));
	@fwrite($fp, base64_decode('cmVxdWVzdCcsICRtZXNzYWdlLCAnZGFuaWVsLW1hcnNjaGFsbEB2aWF0aGlua3NvZnQuZGUnKTsKCgkJCWRpZSgiT0siKTsKCQl9CgoJCWlmICgkX1BPU1RbImFjdGlvbiJdID09ICJjb20udmlhdGhpbmtzb2Z0LmZyZWVvaWQuYWN0aXZhdGVfZnJlZW9pZCIpIHsK'));
	@fwrite($fp, base64_decode('CQkJJGhhbmRsZWQgPSB0cnVlOwoKCQkJJHBhc3N3b3JkMSA9ICRfUE9TVFsncGFzc3dvcmQxJ107CgkJCSRwYXNzd29yZDIgPSAkX1BPU1RbJ3Bhc3N3b3JkMiddOwoJCQkkZW1haWwgPSAkX1BPU1RbJ2VtYWlsJ107CgoJCQkkcmFfbmFtZSA9ICRfUE9TVFsncmFf'));
	@fwrite($fp, base64_decode('bmFtZSddOwoJCQkkdXJsID0gJF9QT1NUWyd1cmwnXTsKCQkJJHRpdGxlID0gJF9QT1NUWyd0aXRsZSddOwoKCQkJJGF1dGggPSAkX1BPU1RbJ2F1dGgnXTsKCQkJJHRpbWVzdGFtcCA9ICRfUE9TVFsndGltZXN0YW1wJ107CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhV'));
	@fwrite($fp, base64_decode('dGlscygpOjp2YWxpZGF0ZUF1dGhLZXkoJ2NvbS52aWF0aGlua3NvZnQuZnJlZW9pZC5hY3RpdmF0ZV9mcmVlb2lkOycuJGVtYWlsLic7Jy4kdGltZXN0YW1wLCAkYXV0aCkpIHsKCQkJCWRpZSgnSW52YWxpZCBhdXRoIGtleScpOwoJCQl9CgoJCQlpZiAoKE9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmNvbmZpZygpLT5tYXhJbnZpdGVUaW1lKCkgPiAwKSAmJiAodGltZSgpLSR0aW1lc3RhbXAgPiBPSURwbHVzOjpjb25maWcoKS0+bWF4SW52aXRlVGltZSgpKSkgewoJCQkJZGllKCdJbnZpdGF0aW9uIGV4cGlyZWQhJyk7CgkJCX0KCgkJCWlmICgkcGFzc3dv'));
	@fwrite($fp, base64_decode('cmQxICE9PSAkcGFzc3dvcmQyKSB7CgkJCQlkaWUoJ1Bhc3N3b3JkcyBhcmUgbm90IGVxdWFsJyk7CgkJCX0KCgkJCWlmIChzdHJsZW4oJHBhc3N3b3JkMSkgPCBPSURwbHVzOjpjb25maWcoKS0+bWluUmFQYXNzd29yZExlbmd0aCgpKSB7CgkJCQlkaWUoJ1Bhc3N3'));
	@fwrite($fp, base64_decode('b3JkIGlzIHRvbyBzaG9ydC4gTWluaW11bSBwYXNzd29yZCBsZW5ndGg6ICcuT0lEcGx1czo6Y29uZmlnKCktPm1pblJhUGFzc3dvcmRMZW5ndGgoKSk7CgkJCX0KCgkJCWlmIChlbXB0eSgkcmFfbmFtZSkpIHsKCQkJCWRpZSgnUGxlYXNlIGVudGVyIHlvdXIgcGVy'));
	@fwrite($fp, base64_decode('c29uYWwgbmFtZSBvciB0aGUgbmFtZSBvZiB5b3VyIGdyb3VwLicpOwoJCQl9CgoJCQkvLyAxLiBzdGVwOiBBZGQgdGhlIFJBIHRvIHRoZSBkYXRhYmFzZQoKCQkJJHJhID0gbmV3IE9JRHBsdXNSQSgkZW1haWwpOwoJCQkkcmEtPnJlZ2lzdGVyX3JhKCRwYXNzd29y'));
	@fwrite($fp, base64_decode('ZDEpOwoJCQkkcmEtPnNldFJhTmFtZSgkcmFfbmFtZSk7CgoJCQkvLyAyLiBzdGVwOiBBZGQgdGhlIG5ldyBPSUQgdG8gdGhlIGRhdGFiYXNlCgoJCQkkbmV3X29pZCA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnZnJlZW9pZF9yb290X29pZCcpLicuJy4o'));
	@fwrite($fp, base64_decode('JHRoaXMtPmZyZWVvaWRfbWF4X2lkKCkrMSk7CgoJCQlpZiAoKCFlbXB0eSgkdXJsKSkgJiYgKHN1YnN0cigkdXJsLCAwLCA0KSAhPSAnaHR0cCcpKSAkdXJsID0gJ2h0dHA6Ly8nLiR1cmw7CgoJCQkkZGVzY3JpcHRpb24gPSAnPHA+Jy5odG1sZW50aXRpZXMoJHJh'));
	@fwrite($fp, base64_decode('X25hbWUpLic8L3A+JzsKCQkJaWYgKCFlbXB0eSgkdXJsKSkgewoJCQkJJGRlc2NyaXB0aW9uIC49ICc8cD5Nb3JlIGluZm9ybWF0aW9uIGF0IDxhIGhyZWY9IicuaHRtbGVudGl0aWVzKCR1cmwpLiciPicuaHRtbGVudGl0aWVzKCR1cmwpLic8L2E+PC9wPic7CgkJ'));
	@fwrite($fp, base64_decode('CX0KCgkJCWlmIChlbXB0eSgkdGl0bGUpKSAkdGl0bGUgPSAkcmFfbmFtZTsKCgkJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoImluc2VydCBpbnRvICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIChpZCwgcmFfZW1haWwsIHBhcmVudCwgdGl0'));
	@fwrite($fp, base64_decode('bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwsIGNyZWF0ZWQpIHZhbHVlcyAoJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCdvaWQ6Jy4kbmV3X29pZCkuIicsICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkZW1haWwp'));
	@fwrite($fp, base64_decode('LiInLCAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJ29pZDonLk9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnZnJlZW9pZF9yb290X29pZCcpKS4iJywgJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCR0aXRsZSkuIics'));
	@fwrite($fp, base64_decode('ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkZGVzY3JpcHRpb24pLiInLCAwLCBub3coKSkiKSkgewoJCQkJJHJhLT5kZWxldGUoKTsKCQkJCWRpZShPSURwbHVzOjpkYigpLT5lcnJvcigpKTsKCQkJfQoKCQkJLy8gU2VuZCBkZWxlZ2F0aW9u'));
	@fwrite($fp, base64_decode('IHJlcG9ydCBlbWFpbCB0byBhZG1pbgoKCQkJJG1lc3NhZ2UgID0gIk9JRCBkZWxlZ2F0aW9uIHJlcG9ydFxuIjsKCQkJJG1lc3NhZ2UgLj0gIlxuIjsKCQkJJG1lc3NhZ2UgLj0gIk9JRDogIi4kbmV3X29pZC4iXG4iOzsKCQkJJG1lc3NhZ2UgLj0gIlxuIjsKCQkJ'));
	@fwrite($fp, base64_decode('JG1lc3NhZ2UgLj0gIlJBIE5hbWU6ICRyYV9uYW1lXG4iOwoJCQkkbWVzc2FnZSAuPSAiUkEgZU1haWw6ICRlbWFpbFxuIjsKCQkJJG1lc3NhZ2UgLj0gIlVSTCBmb3IgbW9yZSBpbmZvcm1hdGlvbjogJHVybFxuIjsKCQkJJG1lc3NhZ2UgLj0gIk9JRCBOYW1lOiAk'));
	@fwrite($fp, base64_decode('dGl0bGVcbiI7CgkJCSRtZXNzYWdlIC49ICJcbiI7CgkJCSRtZXNzYWdlIC49ICJNb3JlIGRldGFpbHM6ICIuT0lEcGx1czo6c3lzdGVtX3VybCgpLiI/Z290bz1vaWQ6JG5ld19vaWRcbiI7CgoJCQlteV9tYWlsKCRlbWFpbCwgT0lEcGx1czo6Y29uZmlnKCktPnN5'));
	@fwrite($fp, base64_decode('c3RlbVRpdGxlKCkuIiAtIE9JRCAkbmV3X29pZCByZWdpc3RlcmVkIiwgJG1lc3NhZ2UsIE9JRHBsdXM6OmNvbmZpZygpLT5nbG9iYWxDQygpLCAnYWRtaW5Ab2lkLWluZm8uY29tJyk7CgoJCQkvLyBTZW5kIGRlbGVnYXRpb24gaW5mb3JtYXRpb24gdG8gdXNlcgoK'));
	@fwrite($fp, base64_decode('CQkJJG1lc3NhZ2UgPSBmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fIC4gJy9hbGxvY2F0ZWRfbXNnLnRwbCcpOwoJCQkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e1NZU1RFTV9VUkx9fScsIE9JRHBsdXM6OnN5c3RlbV91cmwoKSwgJG1lc3NhZ2UpOwoJCQkkbWVz'));
	@fwrite($fp, base64_decode('c2FnZSA9IHN0cl9yZXBsYWNlKCd7e1NZU1RFTV9USVRMRX19JywgT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCksICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tBRE1JTl9FTUFJTH19JywgT0lEUExVU19BRE1JTl9FTUFJTCwg'));
	@fwrite($fp, base64_decode('JG1lc3NhZ2UpOwoJCQkkbWVzc2FnZSA9IHN0cl9yZXBsYWNlKCd7e05FV19PSUR9fScsICRuZXdfb2lkLCAkbWVzc2FnZSk7CgkJCW15X21haWwoJGVtYWlsLCBPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKS4nIC0gRnJlZSBPSUQgYWxsb2NhdGVkJywg'));
	@fwrite($fp, base64_decode('JG1lc3NhZ2UsICdkYW5pZWwtbWFyc2NoYWxsQHZpYXRoaW5rc29mdC5kZScpOwoKCQkJZGllKCdPSycpOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gY2ZnTG9hZENvbmZpZygpIHsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVT'));
	@fwrite($fp, base64_decode('X1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwgZGVzY3JpcHRpb24sIHZhbHVlLCBwcm90ZWN0ZWQsIHZpc2libGUpIHZhbHVlcyAoJ2ZyZWVvaWRfcm9vdF9vaWQnLCAnUm9vdC1PSUQgb2YgZnJlZSBPSUQgc2VydmljZScsICcnLCAwLCAxKSIpOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBmdW5jdGlvbiBjZmdTZXRWYWx1ZSgkbmFtZSwgJHZhbHVlKSB7CgkJaWYgKCRuYW1lID09ICdmcmVlb2lkX3Jvb3Rfb2lkJykgewoJCQlpZiAoKCR2YWx1ZSAhPSAnJykgJiYgIW9pZF92YWxpZF9kb3Rub3RhdGlvbigkdmFsdWUsZmFsc2UsZmFsc2Us'));
	@fwrite($fp, base64_decode('MSkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlBsZWFzZSBlbnRlciBhIHZhbGlkIE9JRCBpbiBkb3Qgbm90YXRpb24gb3Igbm90aGluZyIpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBndWkoJGlkLCAmJG91dCwgJiRoYW5kbGVkKSB7CgkJaWYg'));
	@fwrite($fp, base64_decode('KGV4cGxvZGUoJyQnLCRpZClbMF0gPT0gJ29pZHBsdXM6Y29tLnZpYXRoaW5rc29mdC5mcmVlb2lkJykgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJCQkkb3V0Wyd0aXRsZSddID0gJ1JlZ2lzdGVyIGEgZnJlZSBPSUQnOwoJCQkkb3V0WydpY29uJ10gPSBmaWxlX2V4'));
	@fwrite($fp, base64_decode('aXN0cyhfX0RJUl9fLicvaWNvbl9iaWcucG5nJykgPyAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvaWNvbl9iaWcucG5nJyA6ICcnOwoKCQkJJGhpZ2hlc3RfaWQgPSAkdGhpcy0+ZnJlZW9pZF9tYXhfaWQoKTsKCgkJCSRvdXRbJ3Rl'));
	@fwrite($fp, base64_decode('eHQnXSAuPSAnPHA+Q3VycmVudGx5IDxhIGhyZWY9Ij9nb3RvPW9pZDonLk9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnZnJlZW9pZF9yb290X29pZCcpLiciPicuJGhpZ2hlc3RfaWQuJyBmcmVlIE9JRHMgaGF2ZSBiZWVuPC9hPiByZWdpc3RlcmVkLiBQbGVh'));
	@fwrite($fp, base64_decode('c2UgZW50ZXIgeW91ciBlbWFpbCBiZWxvdyB0byByZWNlaXZlIGEgZnJlZSBPSUQuPC9wPic7CgoJCQl0cnkgewoJCQkJJG91dFsndGV4dCddIC49ICcKCQkJCSAgPGZvcm0gaWQ9ImZyZWVPSURGb3JtIiBvbnN1Ym1pdD0icmV0dXJuIGZyZWVPSURGb3JtT25TdWJt'));
	@fwrite($fp, base64_decode('aXQoKTsiPgoJCQkJICAgIEUtTWFpbDogPGlucHV0IHR5cGU9InRleHQiIGlkPSJlbWFpbCIgdmFsdWU9IiIvPjxicj48YnI+Jy4KCQkJCSAoUkVDQVBUQ0hBX0VOQUJMRUQgPyAnPHNjcmlwdD4gZ3JlY2FwdGNoYS5yZW5kZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5'));
	@fwrite($fp, base64_decode('SWQoImctcmVjYXB0Y2hhIiksIHsgInNpdGVrZXkiIDogIicuUkVDQVBUQ0hBX1BVQkxJQy4nIiB9KTsgPC9zY3JpcHQ+Jy4KCQkJCSAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD0iZy1yZWNhcHRjaGEiIGNsYXNzPSJnLXJlY2FwdGNoYSIgZGF0YS1zaXRla2V5'));
	@fwrite($fp, base64_decode('PSInLlJFQ0FQVENIQV9QVUJMSUMuJyI+PC9kaXY+JyA6ICcnKS4KCQkJCScgPGJyPgoJCQkJICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJSZXF1ZXN0IGZyZWUgT0lEIj4KCQkJCSAgPC9mb3JtPic7CgoJCQkJJHRvcyA9IGZpbGVfZ2V0X2NvbnRlbnRz'));
	@fwrite($fp, base64_decode('KF9fRElSX18gLiAnL3Rvcy5odG1sJyk7CgkJCQkkdG9zID0gc3RyX3JlcGxhY2UoJ3t7QURNSU5fRU1BSUx9fScsIE9JRFBMVVNfQURNSU5fRU1BSUwsICR0b3MpOwoJCQkJJHRvcyA9IHN0cl9yZXBsYWNlKCd7e1JPT1RfT0lEfX0nLCBPSURwbHVzOjpjb25maWco'));
	@fwrite($fp, base64_decode('KS0+Z2V0VmFsdWUoJ2ZyZWVvaWRfcm9vdF9vaWQnKSwgJHRvcyk7CgkJCQkkdG9zID0gc3RyX3JlcGxhY2UoJ3t7Uk9PVF9PSURfQVNOMX19Jywgc2VsZjo6Z2V0RnJlZVJvb3RPaWQoKS0+Z2V0QXNuMU5vdGF0aW9uKCksICR0b3MpOwoJCQkJJHRvcyA9IHN0cl9y'));
	@fwrite($fp, base64_decode('ZXBsYWNlKCd7e1JPT1RfT0lEX0lSSX19Jywgc2VsZjo6Z2V0RnJlZVJvb3RPaWQoKS0+Z2V0SXJpTm90YXRpb24oKSwgJHRvcyk7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJHRvczsKCQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCQkkb3V0Wyd0ZXh0J10gPSAi'));
	@fwrite($fp, base64_decode('RXJyb3I6ICIuJGUtPmdldE1lc3NhZ2UoKTsKCQkJfQoJCX0gZWxzZSBpZiAoZXhwbG9kZSgnJCcsJGlkKVswXSA9PSAnb2lkcGx1czpjb20udmlhdGhpbmtzb2Z0LmZyZWVvaWQuYWN0aXZhdGVfZnJlZW9pZCcpIHsKCQkJJGhhbmRsZWQgPSB0cnVlOwoKCQkJJGVt'));
	@fwrite($fp, base64_decode('YWlsID0gZXhwbG9kZSgnJCcsJGlkKVsxXTsKCQkJJHRpbWVzdGFtcCA9IGV4cGxvZGUoJyQnLCRpZClbMl07CgkJCSRhdXRoID0gZXhwbG9kZSgnJCcsJGlkKVszXTsKCgkJCSRvdXRbJ3RpdGxlJ10gPSAnQWN0aXZhdGUgRnJlZSBPSUQnOwoJCQkkb3V0WydpY29u'));
	@fwrite($fp, base64_decode('J10gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9iaWcucG5nJykgPyAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvaWNvbl9iaWcucG5nJyA6ICcnOwoKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBm'));
	@fwrite($fp, base64_decode('cm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSBlbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkZW1haWwpLiInIik7CgkJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA+IDApIHsKCQkJCSRv'));
	@fwrite($fp, base64_decode('dXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gPSAnVGhpcyBSQSBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJzsgLy8gVE9ETzogYWN0dWFsbHksIHRoZSBwZXJzb24gbWlnaHQgaGF2ZSBzb21ldGhpbmcgZWxzZSAobGlrZSBh'));
	@fwrite($fp, base64_decode('IERPSSkgYW5kIHdhbnQgdG8gaGF2ZSBhIEZyZWVPSUQKCQkJfSBlbHNlIHsKCQkJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCk6OnZhbGlkYXRlQXV0aEtleSgnY29tLnZpYXRoaW5rc29mdC5mcmVlb2lkLmFjdGl2YXRlX2ZyZWVvaWQ7Jy4kZW1haWwuJzsnLiR0'));
	@fwrite($fp, base64_decode('aW1lc3RhbXAsICRhdXRoKSkgewoJCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkJJG91dFsndGV4dCddID0gJ0ludmFsaWQgYXV0aG9yaXphdGlvbi4gSXMgdGhlIFVSTCBPSz8nOwoJCQkJfSBlbHNlIHsKCQkJCQkkb3V0Wyd0ZXh0'));
	@fwrite($fp, base64_decode('J10gPSAnPHA+ZU1haWwtQWRkcmVzczogPGI+Jy4kZW1haWwuJzwvYj48L3A+CgoJCQkJICA8Zm9ybSBpZD0iYWN0aXZhdGVGcmVlT0lERm9ybSIgb25zdWJtaXQ9InJldHVybiBhY3RpdmF0ZUZyZWVPSURGb3JtT25TdWJtaXQoKTsiPgoJCQkJICAgIDxpbnB1dCB0'));
	@fwrite($fp, base64_decode('eXBlPSJoaWRkZW4iIGlkPSJlbWFpbCIgdmFsdWU9IicuaHRtbGVudGl0aWVzKCRlbWFpbCkuJyIvPgoJCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJ0aW1lc3RhbXAiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkdGltZXN0YW1wKS4nIi8+CgkJCQkgICAg'));
	@fwrite($fp, base64_decode('PGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9ImF1dGgiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkYXV0aCkuJyIvPgoKCQkJCSAgICBZb3VyIHBlcnNvbmFsIG5hbWUgb3IgdGhlIG5hbWUgb2YgeW91ciBncm91cDo8YnI+PGlucHV0IHR5cGU9InRleHQiIGlkPSJyYV9u'));
	@fwrite($fp, base64_decode('YW1lIiB2YWx1ZT0iIi8+PGJyPjxicj48IS0tIFRPRE86IGRpc2FibGUgYXV0b2NvbXBsZXRlIC0tPgoJCQkJICAgIFRpdGxlIG9mIHlvdXIgT0lEICh1c3VhbGx5IGVxdWFsIHRvIHlvdXIgbmFtZSwgb3B0aW9uYWwpOjxicj48aW5wdXQgdHlwZT0idGV4dCIgaWQ9'));
	@fwrite($fp, base64_decode('InRpdGxlIiB2YWx1ZT0iIi8+PGJyPjxicj4KCQkJCSAgICBVUkwgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgeW91ciBwcm9qZWN0KHMpIChvcHRpb25hbCk6PGJyPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0idXJsIiB2YWx1ZT0iIi8+PGJyPjxicj4KCgkJCQkg'));
	@fwrite($fp, base64_decode('ICAgPGxhYmVsIGNsYXNzPSJwYWRkaW5nX2xhYmVsIj5QYXNzd29yZDo8L2xhYmVsPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkMSIgdmFsdWU9IiIvPjxicj48YnI+CgkJCQkgICAgPGxhYmVsIGNsYXNzPSJwYWRkaW5nX2xhYmVsIj5BZ2Fpbjo8'));
	@fwrite($fp, base64_decode('L2xhYmVsPjxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3N3b3JkMiIgdmFsdWU9IiIvPjxicj48YnI+CgkJCQkgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IlJlZ2lzdGVyIj4KCQkJCSAgPC9mb3JtPic7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcHVi'));
	@fwrite($fp, base64_decode('bGljIGZ1bmN0aW9uIHRyZWUoJiRqc29uLCAkcmFfZW1haWw9bnVsbCkgewoJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJJHRyZWVfaWNvbiA9ICdwbHVnaW5zL3B1YmxpY1BhZ2VzLycuYmFzZW5hbWUoX19ESVJfXykuJy90'));
	@fwrite($fp, base64_decode('cmVlaWNvbi5wbmcnOwoJCX0gZWxzZSB7CgkJCSR0cmVlX2ljb24gPSBudWxsOyAvLyBkZWZhdWx0IGljb24gKGZvbGRlcikKCQl9CgoJCSRqc29uW10gPSBhcnJheSgKCQkJJ2lkJyA9PiAnb2lkcGx1czpjb20udmlhdGhpbmtzb2Z0LmZyZWVvaWQnLAoJCQknaWNv'));
	@fwrite($fp, base64_decode('bicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+ICdSZWdpc3RlciBhIGZyZWUgT0lEJwoJCSk7Cgl9CgoJIyAtLS0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gZnJlZW9pZF9tYXhfaWQoKSB7CgkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgaWQg'));
	@fwrite($fp, base64_decode('ZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCBsaWtlICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygnb2lkOicuT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdmcmVlb2lkX3Jvb3Rfb2lkJykuJy4l'));
	@fwrite($fp, base64_decode('JykuIicgb3JkZXIgYnkgIi5PSURwbHVzOjpkYigpLT5uYXRPcmRlcignaWQnKSk7CgkJJGhpZ2hlc3RfaWQgPSAwOwoJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfYXJyYXkoJHJlcykpIHsKCQkJJGFyYyA9IHN1YnN0cl9jb3VudChPSURwbHVz'));
	@fwrite($fp, base64_decode('Ojpjb25maWcoKS0+Z2V0VmFsdWUoJ2ZyZWVvaWRfcm9vdF9vaWQnKSwgJy4nKSsxOwoJCQkkaGlnaGVzdF9pZCA9IGV4cGxvZGUoJy4nLCRyb3dbJ2lkJ10pWyRhcmNdOwoJCX0KCQlyZXR1cm4gJGhpZ2hlc3RfaWQ7Cgl9Cn0KCmlmIChPSURwbHVzOjpjb25maWco'));
	@fwrite($fp, base64_decode('KS0+Z2V0VmFsdWUoJ2ZyZWVvaWRfcm9vdF9vaWQnKSAhPSAnJykgewoJT0lEcGx1czo6cmVnaXN0ZXJQYWdlUGx1Z2luKG5ldyBPSURwbHVzUGFnZVB1YmxpY0ZyZWVPSUQoKSk7Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php');
	writefile_5();
	if (!is_file('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php');
	} else if (sha1_file('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php') != '3894e66aef9df5f2fa1b82693bdbc2329d575ff3') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php') !== '3894e66aef9df5f2fa1b82693bdbc2329d575ff3') {
		if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php') !== '16dfd68bc369f8c0268da490f1c1f108b4444ef4') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php');
			$tmp = pathinfo('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php') !== '3894e66aef9df5f2fa1b82693bdbc2329d575ff3') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/200_viathinksoft_freeoid/plugin.inc.php');
		}
	}
}

// Files different: plugins/publicPages/200_viathinksoft_freeoid/tos.html
function writefile_6() {
	@$fp = fopen('plugins/publicPages/200_viathinksoft_freeoid/tos.html', 'w');
	@fwrite($fp, base64_decode('PGgzPlRlcm1zIG9mIFNlcnZpY2U8L2gzPgoKPHVsPgoJPGxpPlRoaXMgc2VydmljZSBpcyBtYWlubHkgaW50ZW5kZWQgdG8gZ2l2ZSA8Yj5wcml2YXRlIHBlcnNvbnMsIHNtYWxsIHdvcmtncm91cHMgYW5kIHNvZnR3YXJlIGRldmVsb3BlcnMgb2YgZnJlZXdhcmUs'));
	@fwrite($fp, base64_decode('IHNoYXJld2FyZSBvciBvcGVuLXNvdXJjZSBzb2Z0d2FyZTwvYj4gdGhlIHBvc3NpYmlsaXR5IG9mIG9idGFpbmluZyBhIGZyZWUgT2JqZWN0IElkZW50aWZpZXIgKE9JRCkgd2l0aCBtaW5pbXVtIGJ1cmVhdWNyYXRpYyBvdmVyaGVhZC48L2xpPgoJPGxpPllvdSBz'));
	@fwrite($fp, base64_decode('aW1wbHkgbmVlZCB0byBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MgdG8gd2hpY2ggYW4gYWN0aXZhdGlvbiBsaW5rIHdpbGwgYmUgc2VudC4gVG8gZ2V0IHRoZSBPSUQgYXNzaWduZWQsIHlvdSBuZWVkIHRvIGNsaWNrIHRoZSBsaW5rIGluIHRoZSBhdXRvbWF0'));
	@fwrite($fp, base64_decode('aWNhbGx5IGdlbmVyYXRlZCBlbWFpbCBhbmQgdGhlbiBlbnRlciB5b3VyIHBlcnNvbmFsIG5hbWUsIHdoaWNoIGlzIHRoZSBvbmx5IG1hbmRhdG9yeSBmaWVsZC4gTm8gaHVtYW4gaW50ZXJ2ZW50aW9uIGZyb20gb3VyIHNpZGUgaXMgcGVyZm9ybWVkIGR1cmluZyB0'));
	@fwrite($fp, base64_decode('aGUgd2hvbGUgcHJvY2VzcyBhbmQgdGhlIE9JRCB3aWxsIGJlIGltbWVkaWF0ZWx5IGFzc2lnbmVkLjwvbGk+Cgk8bGk+T25seSBPSURzIHdoaWNoIGFyZSByZWdpc3RlcmVkIGFuZCBzaG93biBpbiB0aGlzIHJlZ2lzdHJ5IHdlYiBzaXRlIGFyZSBsZWdhbCBhc3Np'));
	@fwrite($fp, base64_decode('Z25lZC48L2xpPgoJPGxpPjxiPllvdSBtYXkgb25seSByZWdpc3RlciBvbmUgT0lEIHBlciBwZXJzb248L2I+LiBZb3UgY2FuIGFzc2lnbiBhbiBpbmZpbml0ZSBhbW91bnQgb2Ygc3ViLU9JRHMgdG8geW91cnNlbGYgdXNpbmcgeW91ciByb290IE9JRC48L2xpPgoJ'));
	@fwrite($fp, base64_decode('PGxpPkluc3RlYWQgb2YgdXNpbmcgeW91ciBuZXcgZ2VuZXJhdGVkIE9JRCBkaXJlY3RseSBmb3IgYSBzcGVjaWZpYyBwdXJwb3NlLCB3ZSByZWNvbW1lbmQgeW91IHRvIGRlbGVnYXRlIGEgc3ViLU9JRCBmb3IgZWFjaCBwdXJwb3NlLiBGb2xsb3dpbmcgdGhpcyBz'));
	@fwrite($fp, base64_decode('dHJhdGVneSwgeW91IHdpbGwgb25seSByZXF1aXJlIG9uZSByb290IE9JRCBhc3NpZ25lZCB0byB5b3UuPC9saT4KCTxsaT5QbGVhc2Ugb25seSByZWdpc3RlciBhbiBPSUQgaWYgeW91IGFyZSByZWFsbHkgc3VyZSB0aGF0IHlvdSBuZWVkIGFuIE9JRCBuYW1lc3Bh'));
	@fwrite($fp, base64_decode('Y2UuPC9saT4KCTxsaT5UbyBlbnN1cmUgdGhhdCB5b3UgZ2V0IGFuIGFwcHJvcHJpYXRlIE9JRCBuYW1lc3BhY2UgZm9yIHlvdXIgbmVlZHMsIHBsZWFzZSByZWFkIHRoZSBmb2xsb3dpbmcgcG9pbnRzIGNhcmVmdWxseTo8dWw+CgkJPGxpPjxiPklmIHlvdSBhcmUg'));
	@fwrite($fp, base64_decode('cmVwcmVzZW50aW5nIGEgY29tcGFueSwgeW91IHNob3VsZCByZWdpc3RlciBhbiBPSUQgaW4gYXJjIDxjb2RlPjEuMy42LjEuNC4xPC9jb2RlPiBpbnN0ZWFkICg8YSBocmVmPSJodHRwOi8vcGVuLmlhbmEub3JnIiB0YXJnZXQ9Il9ibGFuayI+bW9yZSBpbmZvcm1h'));
	@fwrite($fp, base64_decode('dGlvbjwvYT4pLjwvYj48L2xpPgoJCTxsaT5JZiB5b3Ugb25seSBuZWVkIGFuIE9JRCBmb3IgYW4gZXhhbXBsZSBpbiBhIGRvY3VtZW50LCBwbGVhc2UgdXNlIHRoZSBPSUQgPGNvZGU+Mi45OTk8L2NvZGU+IChubyByZWdpc3RyYXRpb24gcmVxdWlyZWQpLjwvbGk+'));
	@fwrite($fp, base64_decode('CgkJPGxpPklmIHlvdSBhcmUgc3VyZSB0aGF0IHlvdXIgdGFyZ2V0IGFwcGxpY2F0aW9uIGRvZXMgYWxsb3cgT0lEcyB3aXRoIDEyOC1iaXQgYXJjcyAod2hpY2ggZG9lcyBub3QgYXBwbHkgdG8gbW9zdCBBU04uMSBpbXBsZW1lbnRhdGlvbnMpLCB5b3UgY2FuIHJl'));
	@fwrite($fp, base64_decode('Z2lzdGVyIGEgZ2xvYmFsbHkgdW5pcXVlIE9JRCAoVVVJRCBPSUQpIGluIGFyYyA8Y29kZT4yLjI1PC9jb2RlPiAoc2VlIDxhIGhyZWY9Imh0dHBzOi8vbWlzYy5kYW5pZWwtbWFyc2NoYWxsLmRlL3Rvb2xzL3V1aWRfbWFjX2RlY29kZXIvaW50ZXJwcmV0ZV91dWlk'));
	@fwrite($fp, base64_decode('LnBocD91dWlkPUNSRUFURSIgdGFyZ2V0PSJfYmxhbmsiPmdlbmVyYXRlIE9JRDwvYT4gYW5kIDxhIGhyZWY9Imh0dHA6Ly93d3cub2lkLWluZm8uY29tL2ZhcS5odG0jc2l6ZS1saW1pdGF0aW9ucyIgdGFyZ2V0PSJfYmxhbmsiPm1vcmUgaW5mb3JtYXRpb24gYWJv'));
	@fwrite($fp, base64_decode('dXQga25vd24gbGltaXRhdGlvbnM8L2E+KS4gSG93ZXZlciwgeW91IGNhbiBzdGlsbCByZXF1ZXN0IGFuIE9JRCBmcm9tIHRoaXMgc2VydmljZSwgYmVjYXVzZSBpdCBpcyBzaG9ydGVyIGFuZCBlYXNpZXIgdG8gcmVtZW1iZXIuPC9saT4KCQk8bGk+SWYgeW91IHdh'));
	@fwrite($fp, base64_decode('bnQgdG8gZXh0ZW5kIHRoZSBBY3RpdmUgRGlyZWN0b3J5IHNjaGVtYSwgcGxlYXNlIGNvbnNpZGVyIG9idGFpbmluZyBhbiBPSUQgZnJvbSBNaWNyb3NvZnQgaW5zdGVhZCAoPGEgaHJlZj0iaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21z'));
	@fwrite($fp, base64_decode('Njc3NjIwLmFzcHgiIHRhcmdldD0iX2JsYW5rIj5tb3JlIGluZm9ybWF0aW9uPC9hPikuPC9saT4KCQk8bGk+SWYgeW91IGFyZSByZXByZXNlbnRpbmcgYSBjb3VudHJ5LCB5b3Ugc2hvdWxkIGNvbnNpZGVyIHJlZ2lzdGVyaW5nIGFuIE9JRCB1bmRlciB0aGUgYXJj'));
	@fwrite($fp, base64_decode('IDxjb2RlPjEuMjwvY29kZT4gKGRlcHJlY2F0ZWQpIG9yIDxjb2RlPjIuMTY8L2NvZGU+IChyZWNvbW1lbmRlZCkgaW5zdGVhZCAoPGEgaHJlZj0iaHR0cDovL3d3dy5vaWQtaW5mby5jb20vZmFxLmh0bSMxMSIgdGFyZ2V0PSJfYmxhbmsiPm1vcmUgaW5mb3JtYXRp'));
	@fwrite($fp, base64_decode('b248L2E+KS48L2xpPgoJCTxsaT5JZiB5b3UgYXJlIHJlcHJlc2VudGluZyBhIHRlbGVjb20gb3BlcmF0b3IsIHlvdSBzaG91bGQgY29uc2lkZXIgcmVnaXN0ZXJpbmcgYW4gT0lEIGluIGFyYyA8Y29kZT4wLjI8L2NvZGU+IGluc3RlYWQgKDxhIGhyZWY9Imh0dHA6'));
	@fwrite($fp, base64_decode('Ly93d3cub2lkLWluZm8uY29tL2dldC8wLjIiIHRhcmdldD0iX2JsYW5rIj5tb3JlIGluZm9ybWF0aW9uPC9hPikuPC9saT4KCQk8bGk+SWYgeW91IGFyZSByZXByZXNlbnRpbmcgYSBuZXR3b3JrIG9wZXJhdG9yLCB5b3Ugc2hvdWxkIGNvbnNpZGVyIHJlZ2lzdGVy'));
	@fwrite($fp, base64_decode('aW5nIGFuIE9JRCBpbiBhcmMgPGNvZGU+MC4zPC9jb2RlPiBpbnN0ZWFkICg8YSBocmVmPSJodHRwOi8vd3d3Lm9pZC1pbmZvLmNvbS9nZXQvMC4zIiB0YXJnZXQ9Il9ibGFuayI+bW9yZSBpbmZvcm1hdGlvbjwvYT4pLjwvbGk+Cgk8L3VsPjwvbGk+Cgk8bGk+QSBy'));
	@fwrite($fp, base64_decode('ZWdpc3RlcmVkIE9JRCBjYW4gbmV2ZXIgYmUgdW5yZWdpc3RlcmVkIG9yIHJlYXNzaWduZWQuIEl0IHdpbGwgYWx3YXlzIHN0YXkgdmlzaWJsZSB0byB0aGUgcHVibGljLjwvbGk+Cgk8bGk+PGI+WW91IGFncmVlIHRoYXQgeW91ciBPSUQgaW5jbHVkaW5nIHlvdXIg'));
	@fwrite($fp, base64_decode('ZW1haWwgYWRkcmVzcyB3aWxsIGJlIHB1Ymxpc2hlZCBpbiB0aGlzIHB1YmxpYyByZWdpc3RyeSBhcyB3ZWxsIGFzIGluIDxhIGhyZWY9Imh0dHA6Ly9vaWQtaW5mby5jb20vZ2V0L3t7Uk9PVF9PSUR9fSIgdGFyZ2V0PSJfYmxhbmsiPm9pZC1pbmZvLmNvbTwvYT4g'));
	@fwrite($fp, base64_decode('YW5kIGluIG90aGVyIHB1YmxpYyBzZXJ2aWNlcy48L2I+PC9saT4KCTxsaT5XZSBlbmNvdXJhZ2UgeW91IHRvIHN1Ym1pdCBhbGwgeW91ciBkZWxlZ2F0aW9ucyB0byA8YSBocmVmPSJodHRwOi8vb2lkLWluZm8uY29tL2dldC97e1JPT1RfT0lEfX0iIHRhcmdldD0i'));
	@fwrite($fp, base64_decode('X2JsYW5rIj5vaWQtaW5mby5jb208L2E+LjwvbGk+CTxsaT5UaGUgZGF0YSB5b3UgZW50ZXJlZCBjYW4gYmUgY2hhbmdlZCBhdCBhbnkgdGltZSB3aXRoIGEgcmFuZG9tbHkgZ2VuZXJhdGVkIHBhc3N3b3JkIGZvciB5b3VyIE9JRCBkdXJpbmcgdGhlIHJlZ2lzdHJh'));
	@fwrite($fp, base64_decode('dGlvbiBwcm9jZWR1cmUgKHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGFuZCByZWNvdmVyZWQgYXQgYW55IHRpbWUpLjwvbGk+Cgk8bGk+WW91IGNhbm5vdCBjaG9vc2UgYSBmYXZvcml0ZSBhcmMgbnVtYmVyIGZvciB5b3VyIE9JRC48L2xpPgoJPGxpPlRoaXMgYXV0b21h'));
	@fwrite($fp, base64_decode('dGVkIFJlZ2lzdHJhdGlvbiBBdXRob3JpdHkgZG9lcyBub3QgYXNzaWduIGFscGhhbnVtZXJpYyBpZGVudGlmaWVycyBvciBJbnRlcm5hdGlvbmFsaXplZCBSZXNvdXJjZSBJZGVudGlmaWVyIChJUkkpIG5hbWVzIHNpbmNlIHRoaXMgc3lzdGVtIGlzIGZ1bGx5IGF1'));
	@fwrite($fp, base64_decode('dG9tYXRlZCBhbmQgb25seSB0aGUgZW1haWwgYWRkcmVzcyB3aWxsIGJlIHZlcmlmaWVkLjwvbGk+Cgk8bGk+WW91ciBuZXcgT0lEIHdpbGwgYmUgcmVnaXN0ZXJlZCBpbiBhcmMgPGNvZGU+e3tST09UX09JRH19PC9jb2RlPiB3aGljaCBoYXMgdGhlIEFTTi4xIG5v'));
	@fwrite($fp, base64_decode('dGF0aW9uIDxjb2RlPnt7Uk9PVF9PSURfQVNOMX19PC9jb2RlPiBhbmQgdGhlIE9JRC1JUkkgbm90YXRpb246IDxjb2RlPnt7Uk9PVF9PSURfSVJJfX08L2NvZGU+PC9saT4KCTxsaT5JZiB5b3UgaGF2ZSBhbnkgcXVlc3Rpb25zIG9yIGlmIHlvdSBlbmNvdW50ZXIg'));
	@fwrite($fp, base64_decode('YnVncyBvciBwcm9ibGVtcywgcGxlYXNlIGNvbnRhY3QgPGEgaHJlZj0ie3tBRE1JTl9FTUFJTH19Ij57e0FETUlOX0VNQUlMfX08L2E+IChpbiBFbmdsaXNoIG9yIEdlcm1hbikuPC9saT4KPC91bD4K'));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/200_viathinksoft_freeoid/tos.html')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/200_viathinksoft_freeoid/tos.html');
	writefile_6();
	if (!is_file('plugins/publicPages/200_viathinksoft_freeoid/tos.html')) {
		warn('File cannot be created (not existing): plugins/publicPages/200_viathinksoft_freeoid/tos.html');
	} else if (sha1_file('plugins/publicPages/200_viathinksoft_freeoid/tos.html') != '43243044b6d3e29664295d8b62c1671e2b72b269') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/200_viathinksoft_freeoid/tos.html');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/200_viathinksoft_freeoid/tos.html', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/200_viathinksoft_freeoid/tos.html');
	}
} else {
	if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/tos.html') !== '43243044b6d3e29664295d8b62c1671e2b72b269') {
		if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/tos.html') !== 'd3faf324df97571f765b1d0fa45ce54d2e5249f1') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/200_viathinksoft_freeoid/tos.html');
			$tmp = pathinfo('plugins/publicPages/200_viathinksoft_freeoid/tos.html');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/200_viathinksoft_freeoid/tos.html')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/200_viathinksoft_freeoid/tos.html', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('plugins/publicPages/200_viathinksoft_freeoid/tos.html') !== '43243044b6d3e29664295d8b62c1671e2b72b269') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/200_viathinksoft_freeoid/tos.html');
		}
	}
}

// Files different: plugins/publicPages/300_search/plugin.inc.php
function writefile_7() {
	@$fp = fopen('plugins/publicPages/300_search/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlUHVibGljU2VhcmNoIGV4dGVuZHMgT0lEcGx1c1BhZ2VQbHVnaW4gewoJcHVibGljIGZ1bmN0aW9uIHR5cGUoKSB7CgkJcmV0dXJuICdwdWJsaWMnOwoJfQoKCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBmdW5jdGlvbiBwcmlvcml0eSgpIHsKCQlyZXR1cm4gMzAwOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBhY3Rpb24oJiRoYW5kbGVkKSB7CgkJLy8gTm90aGluZwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjZmdMb2FkQ29uZmlnKCkgewoJCU9JRHBsdXM6OmRiKCktPnF1'));
	@fwrite($fp, base64_decode('ZXJ5KCJpbnNlcnQgaW50byAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIChuYW1lLCBkZXNjcmlwdGlvbiwgdmFsdWUsIHByb3RlY3RlZCwgdmlzaWJsZSkgdmFsdWVzICgnc2VhcmNoX21pbl90ZXJtX2xlbmd0aCcsICdNaW5pbXVtIGxlbmd0aCBv'));
	@fwrite($fp, base64_decode('ZiBhIHNlYXJjaCB0ZXJtJywgJzMnLCAwLCAxKSIpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjZmdTZXRWYWx1ZSgkbmFtZSwgJHZhbHVlKSB7CgkJaWYgKCRuYW1lID09ICdzZWFyY2hfbWluX3Rlcm1fbGVuZ3RoJykgewoJCQlpZiAoIWlzX251bWVyaWMoJHZhbHVl'));
	@fwrite($fp, base64_decode('KSB8fCAoJHZhbHVlIDwgMCkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlBsZWFzZSBlbnRlciBhIHZhbGlkIHZhbHVlLiIpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBndWkoJGlkLCAmJG91dCwgJiRoYW5kbGVkKSB7CgkJaWYgKGV4cGxvZGUo'));
	@fwrite($fp, base64_decode('JyQnLCRpZClbMF0gPT0gJ29pZHBsdXM6c2VhcmNoJykgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJCQkkb3V0Wyd0aXRsZSddID0gJ1NlYXJjaCc7CgkJCSRvdXRbJ2ljb24nXSA9IGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2JpZy5wbmcnKSA/ICdwbHVnaW5z'));
	@fwrite($fp, base64_decode('L3B1YmxpY1BhZ2VzLycuYmFzZW5hbWUoX19ESVJfXykuJy9pY29uX2JpZy5wbmcnIDogJyc7CgoJCQkkb3V0Wyd0ZXh0J10gPSAnJzsKCgkJCXRyeSB7CgkJCQkkc2VhcmNoX3Rlcm0gPSBpc3NldCgkX1BPU1RbJ3Rlcm0nXSkgPyAkX1BPU1RbJ3Rlcm0nXSA6ICcn'));
	@fwrite($fp, base64_decode('OwoJCQkJJG5zID0gaXNzZXQoJF9QT1NUWyduYW1lc3BhY2UnXSkgPyAkX1BPU1RbJ25hbWVzcGFjZSddIDogJyc7CgoJCQkJaWYgKCFpc3NldCgkX1BPU1RbJ3NlYXJjaCddKSkgewoJCQkJCS8vIERlZmF1bHQgY3JpdGVyaWEgc2VsZWN0aW9uCgkJCQkJJF9QT1NU'));
	@fwrite($fp, base64_decode('WydzZWFyY2hfdGl0bGUnXSA9ICcxJzsKCQkJCQkkX1BPU1RbJ3NlYXJjaF9hc24xaWQnXSA9ICcxJzsKCQkJCQkkX1BPU1RbJ3NlYXJjaF9pcmknXSA9ICcxJzsKCQkJCX0KCgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxmb3JtIGlkPSJzZWFyY2hGb3JtIiBhY3Rpb249'));
	@fwrite($fp, base64_decode('Ij9nb3RvPW9pZHBsdXM6c2VhcmNoIiBtZXRob2Q9IlBPU1QiPgoJCQkJICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJzZWFyY2giIHZhbHVlPSIxIj4KCQkJCSAgICAgICAgICAgICAgICAgU2VhcmNoIGZvcjogPGlucHV0IHR5cGU9'));
	@fwrite($fp, base64_decode('InRleHQiIGlkPSJ0ZXJtIiBuYW1lPSJ0ZXJtIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHNlYXJjaF90ZXJtKS4nIj48YnI+PGJyPgoJCQkJICAgICAgICAgICAgICAgICA8c2NyaXB0PgoJCQkJICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZWFyY2hOc1NlbGVj'));
	@fwrite($fp, base64_decode('dChucykgewoJCQkJICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNlYXJjaF9vcHRpb25zX29pZCIpLnN0eWxlLmRpc3BsYXkgPSAobnMgPT0gIm9pZCIpID8gImJsb2NrIiA6ICJub25lIjsKCQkJCSAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzZWFyY2hfb3B0aW9uc19vYmplY3QiKS5zdHlsZS5kaXNwbGF5ID0gKG5zID09ICJvaWRwbHVzOnJhIikgPyAibm9uZSIgOiAiYmxvY2siOwoJCQkJICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxl'));
	@fwrite($fp, base64_decode('bWVudEJ5SWQoInNlYXJjaF9vcHRpb25zX3JhIikuc3R5bGUuZGlzcGxheSA9IChucyA9PSAib2lkcGx1czpyYSIpID8gImJsb2NrIiA6ICJub25lIjsKCQkJCSAgICAgICAgICAgICAgICAgfQoJCQkJICAgICAgICAgICAgICAgICAkKCBkb2N1bWVudCApLnJlYWR5'));
	@fwrite($fp, base64_decode('KGZ1bmN0aW9uKCkgewoJCQkJICAgICAgICAgICAgICAgICAgICAgc2VhcmNoTnNTZWxlY3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5hbWVzcGFjZSIpLnZhbHVlKTsKCQkJCSAgICAgICAgICAgICAgICAgfSk7CgkJCQkgICAgICAgICAgICAgICAgIDwvc2Ny'));
	@fwrite($fp, base64_decode('aXB0PgoJCQkJICAgICAgICAgICAgICAgICBTZWFyY2ggaW46IDxzZWxlY3QgbmFtZT0ibmFtZXNwYWNlIiBpZD0ibmFtZXNwYWNlIiBvbmNoYW5nZT0ic2VhcmNoTnNTZWxlY3QodGhpcy52YWx1ZSk7Ij48YnI+PGJyPic7CgoJCQkJZm9yZWFjaCAoT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('Z2V0UmVnaXN0ZXJlZE9iamVjdFR5cGVzKCkgYXMgJG90KSB7CgkJCQkJJG91dFsndGV4dCddIC49ICc8b3B0aW9uIHZhbHVlPSInLmh0bWxlbnRpdGllcygkb3Q6Om5zKCkpLiciJy4oKCRucyA9PSAkb3Q6Om5zKCkpID8gJyBzZWxlY3RlZCcgOiAnJykuJz4nLmh0'));
	@fwrite($fp, base64_decode('bWxlbnRpdGllcygkb3Q6Om9iamVjdFR5cGVUaXRsZSgpKS4nPC9vcHRpb24+JzsKCQkJCX0KCQkJCSRvdXRbJ3RleHQnXSAuPSAnPG9wdGlvbiB2YWx1ZT0ib2lkcGx1czpyYSInLigoJG5zID09ICdvaWRwbHVzOnJhJykgPyAnIHNlbGVjdGVkJyA6ICcnKS4nPlJl'));
	@fwrite($fp, base64_decode('Z2lzdHJhdGlvbiBBdXRob3JpdHk8L29wdGlvbj4KCQkJCSAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+PGJyPjxicj4KCQkJCTxkaXYgaWQ9InNlYXJjaF9vcHRpb25zX3JhIj4KCQkJCTwhLS0gVE9ETzogUkEgc3BlY2lmaWMgc2VsZWN0aW9uIGNyaXRlcmlhcyAt'));
	@fwrite($fp, base64_decode('LT4KCQkJCTwvZGl2PgoJCQkJPGRpdiBpZD0ic2VhcmNoX29wdGlvbnNfb2JqZWN0Ij4KCQkJCSAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ic2VhcmNoX3RpdGxlIiBpZD0ic2VhcmNoX3RpdGxlIiB2YWx1ZT0iMSInLihpc3NldCgkX1BP'));
	@fwrite($fp, base64_decode('U1RbInNlYXJjaF90aXRsZSJdKSA/ICcgY2hlY2tlZCcgOiAnJykuJz4gPGxhYmVsIGZvcj0ic2VhcmNoX3RpdGxlIj5TZWFyY2ggaW4gZmllbGQgIlRpdGxlIjwvbGFiZWw+PGJyPgoJCQkJICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJz'));
	@fwrite($fp, base64_decode('ZWFyY2hfZGVzY3JpcHRpb24iIGlkPSJzZWFyY2hfZGVzY3JpcHRpb24iIHZhbHVlPSIxIicuKGlzc2V0KCRfUE9TVFsic2VhcmNoX2Rlc2NyaXB0aW9uIl0pID8gJyBjaGVja2VkJyA6ICcnKS4nPiA8bGFiZWwgZm9yPSJzZWFyY2hfZGVzY3JpcHRpb24iPlNlYXJj'));
	@fwrite($fp, base64_decode('aCBpbiBmaWVsZCAiRGVzY3JpcHRpb24iPC9sYWJlbD48YnI+CgkJCQk8ZGl2IGlkPSJzZWFyY2hfb3B0aW9uc19vaWQiPgoJCQkgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InNlYXJjaF9hc24xaWQiIGlkPSJzZWFyY2hfYXNuMWlkIiB2'));
	@fwrite($fp, base64_decode('YWx1ZT0iMSInLihpc3NldCgkX1BPU1RbInNlYXJjaF9hc24xaWQiXSkgPyAnIGNoZWNrZWQnIDogJycpLic+IDxsYWJlbCBmb3I9InNlYXJjaF9hc24xaWQiPlNlYXJjaCBpbiBmaWVsZCAiQVNOLjEgaWRlbnRpaWVyIiAob25seSBPSURzKTwvbGFiZWw+PGJyPgoJ'));
	@fwrite($fp, base64_decode('CQkgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InNlYXJjaF9pcmkiIGlkPSJzZWFyY2hfaXJpIiB2YWx1ZT0iMSInLihpc3NldCgkX1BPU1RbInNlYXJjaF9pcmkiXSkgPyAnIGNoZWNrZWQnIDogJycpLic+IDxsYWJlbCBmb3I9InNlYXJj'));
	@fwrite($fp, base64_decode('aF9pcmkiPlNlYXJjaCBpbiBmaWVsZCAiVW5pY29kZSBsYWJlbCIgKG9ubHkgT0lEcyk8L2xhYmVsPjxicj4KCQkJCTwvZGl2PgoJCQkJPC9kaXY+CgkJCQkgPGJyPgoKCQkJCTxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTZWFyY2giPgoJCQkJPC9mb3JtPic7'));
	@fwrite($fp, base64_decode('CgoJCQkJaWYgKGlzc2V0KCRfUE9TVFsnc2VhcmNoJ10pKSB7CgkJCQkJLy8gTm90ZTogVGhlIFNRTCBjb2xsYXRpb24gZGVmaW5lcyBpZiBzZWFyY2ggaXMgY2FzZSBzZW5zaXRpdmUgb3IgY2FzZSBpbnNlbnNpdGl2ZQoKCQkJCQkkbWluX2xlbmd0aCA9IE9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnc2VhcmNoX21pbl90ZXJtX2xlbmd0aCcpOwoKCQkJCQkkc2VhcmNoX3Rlcm0gPSB0cmltKCRzZWFyY2hfdGVybSk7CgoJCQkJCWlmIChzdHJsZW4oJHNlYXJjaF90ZXJtKSA9PSAwKSB7CgkJCQkJCSRvdXRbJ3RleHQnXSAu'));
	@fwrite($fp, base64_decode('PSAnPHA+PGZvbnQgY29sb3I9InJlZCI+RXJyb3I6IFlvdSBtdXN0IGVudGVyIGEgc2VhcmNoIHRlcm0uPC9mb250PjwvcD4nOwoJCQkJCX0gZWxzZSBpZiAoc3RybGVuKCRzZWFyY2hfdGVybSkgPCAkbWluX2xlbmd0aCkgewoJCQkJCQkkb3V0Wyd0ZXh0J10gLj0g'));
	@fwrite($fp, base64_decode('JzxwPjxmb250IGNvbG9yPSJyZWQiPkVycm9yOiBTZWFyY2ggdGVybSBtaW5pbXVtIGxlbmd0aCBpcyAnLiRtaW5fbGVuZ3RoLicgY2hhcmFjdGVycy48L2ZvbnQ+PC9wPic7CgkJCQkJfSBlbHNlIHsKCQkJCQkJaWYgKCRucyA9PSAnb2lkcGx1czpyYScpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CQkJCSRvdXRbJ3RleHQnXSAuPSAnPGgyPlNlYXJjaCByZXN1bHRzIGZvciBSQSAiJy5odG1sZW50aXRpZXMoJHNlYXJjaF90ZXJtKS4nIjwvaDI+JzsKCgkJCQkJCQkkd2hlcmUgPSBhcnJheSgpOwoJCQkJCQkJJHdoZXJlW10gPSAiZW1haWwgbGlrZSAnIi5PSURw'));
	@fwrite($fp, base64_decode('bHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJyUnLiRzZWFyY2hfdGVybS4nJScpLiInIjsKCQkJCQkJCSR3aGVyZVtdID0gInJhX25hbWUgbGlrZSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJyUnLiRzZWFyY2hfdGVybS4nJScpLiIn'));
	@fwrite($fp, base64_decode('IjsKCgkJCQkJCQlpZiAoY291bnQoJHdoZXJlKSA9PSAwKSAkd2hlcmVbXSA9ICcxPTAnOwoJCQkJCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSAoIi5pbXBsb2Rl'));
	@fwrite($fp, base64_decode('KCcgb3IgJywgJHdoZXJlKS4iKSIpOwoKCQkJCQkJCSRjb3VudCA9IDA7CgkJCQkJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX29iamVjdCgkcmVzKSkgewoJCQkJCQkJCS8vIFRPRE86IGFudGkgc3BhbSEKCQkJCQkJCQkkb3V0Wyd0ZXh0J10g'));
	@fwrite($fp, base64_decode('Lj0gJzxwPjxhIGhyZWY9Ij9nb3RvPW9pZHBsdXM6cmFpbmZvJCcudXJsZW5jb2RlKCRyb3ctPmVtYWlsKS4nIj4nLmh0bWxlbnRpdGllcygkcm93LT5lbWFpbCkuJzwvYT46IDxiPicuaHRtbGVudGl0aWVzKCRyb3ctPnJhX25hbWUpLic8L2I+PC9wPic7CgkJCQkJ'));
	@fwrite($fp, base64_decode('CQkJJGNvdW50Kys7CgkJCQkJCQl9CgkJCQkJCQlpZiAoJGNvdW50ID09IDApIHsKCQkJCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPk5vdGhpbmcgZm91bmQ8L3A+JzsKCQkJCQkJCX0KCQkJCQkJfSBlbHNlIHsKCQkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPGgyPlNl'));
	@fwrite($fp, base64_decode('YXJjaCByZXN1bHRzIGZvciAiJy5odG1sZW50aXRpZXMoJHNlYXJjaF90ZXJtKS4nIiAoJy5odG1sZW50aXRpZXMoJG5zKS4nKTwvaDI+JzsKCgkJCQkJCQkkd2hlcmUgPSBhcnJheSgpOwoJCQkJCQkJJHdoZXJlW10gPSAiaWQgbGlrZSAnIi5PSURwbHVzOjpkYigp'));
	@fwrite($fp, base64_decode('LT5yZWFsX2VzY2FwZV9zdHJpbmcoJyUnLiRzZWFyY2hfdGVybS4nJScpLiInIjsgLy8gVE9ETzogc2hvdWxkIHdlIHJhdGhlciBkbyBmaW5kRml0dGluZygpLCBzbyB3ZSBjYW4gZS5nLiBmaW5kIEdVSURzIHdpdGggZGlmZmVyZW50IG5vdGF0aW9uPwoJCQkJCQkJ'));
	@fwrite($fp, base64_decode('aWYgKGlzc2V0KCRfUE9TVFsic2VhcmNoX3RpdGxlIl0pKSAkd2hlcmVbXSA9ICJ0aXRsZSBsaWtlICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygnJScuJHNlYXJjaF90ZXJtLiclJykuIiciOwoJCQkJCQkJaWYgKGlzc2V0KCRfUE9TVFsic2Vh'));
	@fwrite($fp, base64_decode('cmNoX2Rlc2NyaXB0aW9uIl0pKSAkd2hlcmVbXSA9ICJkZXNjcmlwdGlvbiBsaWtlICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygnJScuJHNlYXJjaF90ZXJtLiclJykuIiciOwoKCQkJCQkJCWlmIChpc3NldCgkX1BPU1RbInNlYXJjaF9hc24x'));
	@fwrite($fp, base64_decode('aWQiXSkpIHsKCQkJCQkJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCB3aGVyZSBuYW1lIGxpa2UgJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCcl'));
	@fwrite($fp, base64_decode('Jy4kc2VhcmNoX3Rlcm0uJyUnKS4iJyIpOwoJCQkJCQkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMpKSB7CgkJCQkJCQkJCSR3aGVyZVtdID0gImlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRy'));
	@fwrite($fp, base64_decode('b3ctPm9pZCkuIiciOwoJCQkJCQkJCX0KCQkJCQkJCX0KCgkJCQkJCQlpZiAoaXNzZXQoJF9QT1NUWyJzZWFyY2hfaXJpIl0pKSB7CgkJCQkJCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJF'));
	@fwrite($fp, base64_decode('RklYLiJpcmkgd2hlcmUgbmFtZSBsaWtlICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygnJScuJHNlYXJjaF90ZXJtLiclJykuIiciKTsKCQkJCQkJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX29iamVjdCgkcmVzKSkgewoJ'));
	@fwrite($fp, base64_decode('CQkJCQkJCQkkd2hlcmVbXSA9ICJpZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcm93LT5vaWQpLiInIjsKCQkJCQkJCQl9CgkJCQkJCQl9CgoJCQkJCQkJaWYgKGNvdW50KCR3aGVyZSkgPT0gMCkgJHdoZXJlW10gPSAnMT0wJzsKCQkJ'));
	@fwrite($fp, base64_decode('CQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCBsaWtlICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkbnMuJzolJykuIicgYW5k'));
	@fwrite($fp, base64_decode('ICgiLmltcGxvZGUoJyBvciAnLCAkd2hlcmUpLiIpIik7CgoJCQkJCQkJJGNvdW50ID0gMDsKCQkJCQkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMpKSB7CgkJCQkJCQkJJG91dFsndGV4dCddIC49ICc8cD48YSBocmVmPSI/'));
	@fwrite($fp, base64_decode('Z290bz0nLnVybGVuY29kZSgkcm93LT5pZCkuJyI+Jy5odG1sZW50aXRpZXMoJHJvdy0+aWQpLic8L2E+OiA8Yj4nLmh0bWxlbnRpdGllcygkcm93LT50aXRsZSkuJzwvYj48L3A+JzsgLy8gVE9ETzogYWxzbyBzaG93IGFzbjFpZDsgaGlnaGxpZ2h0IHNlYXJjaCBt'));
	@fwrite($fp, base64_decode('YXRjaD8KCQkJCQkJCQkkY291bnQrKzsKCQkJCQkJCX0KCQkJCQkJCWlmICgkY291bnQgPT0gMCkgewoJCQkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+Tm90aGluZyBmb3VuZDwvcD4nOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9IGNhdGNoIChF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24gJGUpIHsKCQkJCSRvdXRbJ3RleHQnXSA9ICJFcnJvcjogIi4kZS0+Z2V0TWVzc2FnZSgpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlKCYkanNvbiwgJHJhX2VtYWlsPW51bGwpIHsKCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4n'));
	@fwrite($fp, base64_decode('L3RyZWVpY29uLnBuZycpKSB7CgkJCSR0cmVlX2ljb24gPSAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb24ucG5nJzsKCQl9IGVsc2UgewoJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIp'));
	@fwrite($fp, base64_decode('CgkJfQoKCQkkanNvbltdID0gYXJyYXkoCgkJCSdpZCcgPT4gJ29pZHBsdXM6c2VhcmNoJywKCQkJJ2ljb24nID0+ICR0cmVlX2ljb24sCgkJCSd0ZXh0JyA9PiAnU2VhcmNoJwoJCSk7Cgl9Cn0KCk9JRHBsdXM6OnJlZ2lzdGVyUGFnZVBsdWdpbihuZXcgT0lEcGx1'));
	@fwrite($fp, base64_decode('c1BhZ2VQdWJsaWNTZWFyY2goKSk7Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/300_search/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/300_search/plugin.inc.php');
	writefile_7();
	if (!is_file('plugins/publicPages/300_search/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/300_search/plugin.inc.php');
	} else if (sha1_file('plugins/publicPages/300_search/plugin.inc.php') != 'bcccc21d2567620198f79d04c434fffbc6bb8d61') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/300_search/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/300_search/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/300_search/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/300_search/plugin.inc.php') !== 'bcccc21d2567620198f79d04c434fffbc6bb8d61') {
		if (@sha1_file('plugins/publicPages/300_search/plugin.inc.php') !== '139ce5dd01fb13eb06a3e12fc63b683cc0533b9d') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/300_search/plugin.inc.php');
			$tmp = pathinfo('plugins/publicPages/300_search/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/300_search/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/300_search/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('plugins/publicPages/300_search/plugin.inc.php') !== 'bcccc21d2567620198f79d04c434fffbc6bb8d61') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/300_search/plugin.inc.php');
		}
	}
}

// Files different: plugins/raPages/102_change_email/plugin.inc.php
function writefile_8() {
	@$fp = fopen('plugins/raPages/102_change_email/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlUmFDaGFuZ2VFTWFpbCBleHRlbmRzIE9JRHBsdXNQYWdlUGx1Z2luIHsKCXB1YmxpYyBmdW5jdGlvbiB0eXBlKCkgewoJCXJldHVybiAncmEnOwoJfQoKCXB1YmxpYyBm'));
	@fwrite($fp, base64_decode('dW5jdGlvbiBwcmlvcml0eSgpIHsKCQlyZXR1cm4gMTAyOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBhY3Rpb24oJiRoYW5kbGVkKSB7CgkJaWYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gImNoYW5nZV9yYV9lbWFpbCIpIHsKCQkJJGhhbmRsZWQgPSB0cnVlOwoKCQkJaWYg'));
	@fwrite($fp, base64_decode('KCFPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2FsbG93X3JhX2VtYWlsX2NoYW5nZScpKSB7CgkJCQlkaWUoJ1RoaXMgZnVuY3Rpb25hbGl0eSBoYXMgYmVlbiBkaXNhYmxlZCBieSB0aGUgYWRtaW5pc3RyYXRvci4nKTsKCQkJfQoKCQkJJG9sZF9lbWFpbCA9'));
	@fwrite($fp, base64_decode('ICRfUE9TVFsnb2xkX2VtYWlsJ107CgkJCSRuZXdfZW1haWwgPSAkX1BPU1RbJ25ld19lbWFpbCddOwoKCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNSYUxvZ2dlZEluKCRvbGRfZW1haWwpICYmICFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNBZG1pbkxv'));
	@fwrite($fp, base64_decode('Z2dlZEluKCkpIHsKCQkJCWRpZSgnQXV0aGVudGlmaWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhcyB0aGUgUkEgdG8gdXBkYXRlIGl0cyBlbWFpbCBhZGRyZXNzLicpOwoJCQl9CgoJCQlpZiAoIW9pZGRiX3ZhbGlkX2VtYWlsKCRuZXdfZW1haWwpKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQlkaWUoJ2VNYWlsIGFkZHJlc3MgaXMgaW52YWxpZC4nKTsKCQkJfQoKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSBlbWFpbCA9ICciLk9JRHBsdXM6OmRiKCkt'));
	@fwrite($fp, base64_decode('PnJlYWxfZXNjYXBlX3N0cmluZygkb2xkX2VtYWlsKS4iJyIpOwoJCQlpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPT0gMCkgewoJCQkJZGllKCdlTWFpbCBhZGRyZXNzIGRvZXMgbm90IGV4aXN0IGFueW1vcmUuIEl0IHdhcyBwcm9iYWJseSBhbHJl'));
	@fwrite($fp, base64_decode('YWR5IGNoYW5nZWQuJyk7CgkJCX0KCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmco'));
	@fwrite($fp, base64_decode('JG5ld19lbWFpbCkuIiciKTsKCQkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID4gMCkgewoJCQkJZGllKCdlTWFpbCBhZGRyZXNzIGlzIGFscmVhZHkgdXNlZCBieSBhbm90aGVyIFJBLiBUbyBtZXJnZSBhY2NvdW50cywgcGxlYXNlIGNvbnRhY3Qg'));
	@fwrite($fp, base64_decode('dGhlIHN1cGVyaW9yIFJBIG9mIHlvdXIgb2JqZWN0cyBhbmQgcmVxdWVzdCBhbiBvd25lciBjaGFuZ2Ugb2YgeW91ciBvYmplY3RzLicpOwoJCQl9CgoJCQkkdGltZXN0YW1wID0gdGltZSgpOwoJCQkkYWN0aXZhdGVfdXJsID0gT0lEcGx1czo6c3lzdGVtX3VybCgp'));
	@fwrite($fp, base64_decode('IC4gJz9nb3RvPScudXJsZW5jb2RlKCdvaWRwbHVzOmFjdGl2YXRlX25ld19yYV9lbWFpbCQnLiRvbGRfZW1haWwuJyQnLiRuZXdfZW1haWwuJyQnLiR0aW1lc3RhbXAuJyQnLk9JRHBsdXM6OmF1dGhVdGlscygpOjptYWtlQXV0aEtleSgnYWN0aXZhdGVfbmV3X3Jh'));
	@fwrite($fp, base64_decode('X2VtYWlsOycuJG9sZF9lbWFpbC4nOycuJG5ld19lbWFpbC4nOycuJHRpbWVzdGFtcCkpOwoKCQkJJG1lc3NhZ2UgPSBmaWxlX2dldF9jb250ZW50cyhfX0RJUl9fIC4gJy9jaGFuZ2VfcmVxdWVzdF9lbWFpbC50cGwnKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFj'));
	@fwrite($fp, base64_decode('ZSgne3tTWVNURU1fVVJMfX0nLCBPSURwbHVzOjpzeXN0ZW1fdXJsKCksICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tTWVNURU1fVElUTEV9fScsIE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpLCAkbWVzc2FnZSk7CgkJCSRt'));
	@fwrite($fp, base64_decode('ZXNzYWdlID0gc3RyX3JlcGxhY2UoJ3t7QURNSU5fRU1BSUx9fScsIE9JRFBMVVNfQURNSU5fRU1BSUwsICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tPTERfRU1BSUx9fScsICRvbGRfZW1haWwsICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2Ug'));
	@fwrite($fp, base64_decode('PSBzdHJfcmVwbGFjZSgne3tORVdfRU1BSUx9fScsICRuZXdfZW1haWwsICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tBQ1RJVkFURV9VUkx9fScsICRhY3RpdmF0ZV91cmwsICRtZXNzYWdlKTsKCQkJbXlfbWFpbCgkbmV3X2VtYWlsLCBP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKS4nIC0gQ2hhbmdlIGVtYWlsIHJlcXVlc3QnLCAkbWVzc2FnZSk7CgoJCQlkaWUoJ09LJyk7CgkJfSBlbHNlIGlmICgkX1BPU1RbImFjdGlvbiJdID09ICJhY3RpdmF0ZV9uZXdfcmFfZW1haWwiKSB7CgkJCSRo'));
	@fwrite($fp, base64_decode('YW5kbGVkID0gdHJ1ZTsKCgkJCWlmICghT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhbGxvd19yYV9lbWFpbF9jaGFuZ2UnKSkgewoJCQkJZGllKCdUaGlzIGZ1bmN0aW9uYWxpdHkgaGFzIGJlZW4gZGlzYWJsZWQgYnkgdGhlIGFkbWluaXN0cmF0b3IuJyk7'));
	@fwrite($fp, base64_decode('CgkJCX0KCgkJCSRvbGRfZW1haWwgPSAkX1BPU1RbJ29sZF9lbWFpbCddOwoJCQkkbmV3X2VtYWlsID0gJF9QT1NUWyduZXdfZW1haWwnXTsKCQkJJHBhc3N3b3JkID0gJF9QT1NUWydwYXNzd29yZCddOwoKCQkJJGF1dGggPSAkX1BPU1RbJ2F1dGgnXTsKCQkJJHRp'));
	@fwrite($fp, base64_decode('bWVzdGFtcCA9ICRfUE9TVFsndGltZXN0YW1wJ107CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjp2YWxpZGF0ZUF1dGhLZXkoJ2FjdGl2YXRlX25ld19yYV9lbWFpbDsnLiRvbGRfZW1haWwuJzsnLiRuZXdfZW1haWwuJzsnLiR0aW1lc3RhbXAsICRhdXRo'));
	@fwrite($fp, base64_decode('KSkgewoJCQkJZGllKCdJbnZhbGlkIGF1dGgga2V5Jyk7CgkJCX0KCgkJCWlmICgoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdtYXhfcmFfZW1haWxfY2hhbmdlX3RpbWUnKSA+IDApICYmICh0aW1lKCktJHRpbWVzdGFtcCA+IE9JRHBsdXM6OmNvbmZpZygp'));
	@fwrite($fp, base64_decode('LT5tYXhFbWFpbENoYW5nZVRpbWUoKSkpIHsKCQkJCWRpZSgnQWN0aXZhdGlvbiBsaW5rIGV4cGlyZWQhJyk7CgkJCX0KCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hl'));
	@fwrite($fp, base64_decode('cmUgZW1haWwgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG9sZF9lbWFpbCkuIiciKTsKCQkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID09IDApIHsKCQkJCWRpZSgnZU1haWwgYWRkcmVzcyBkb2VzIG5vdCBleGlzdCBh'));
	@fwrite($fp, base64_decode('bnltb3JlLiBJdCB3YXMgcHJvYmFibHkgYWxyZWFkeSBjaGFuZ2VkLicpOwoJCQl9CgoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1'));
	@fwrite($fp, base64_decode('czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRuZXdfZW1haWwpLiInIik7CgkJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA+IDApIHsKCQkJCWRpZSgnZU1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IHVzZWQgYnkgYW5vdGhlciBSQS4gVG8gbWVy'));
	@fwrite($fp, base64_decode('Z2UgYWNjb3VudHMsIHBsZWFzZSBjb250YWN0IHRoZSBzdXBlcmlvciBSQSBvZiB5b3VyIG9iamVjdHMgYW5kIHJlcXVlc3QgYW4gb3duZXIgY2hhbmdlIG9mIHlvdXIgb2JqZWN0cy4nKTsKCQkJfQoKCQkJJHJhID0gbmV3IE9JRHBsdXNSQSgkb2xkX2VtYWlsKTsK'));
	@fwrite($fp, base64_decode('CQkJaWYgKCEkcmEtPmNoZWNrUGFzc3dvcmQoJHBhc3N3b3JkKSkgewoJCQkJZGllKCdXcm9uZyBwYXNzd29yZCcpOwoJCQl9CgoJCQkkcmEtPmNoYW5nZV9lbWFpbCgkbmV3X2VtYWlsKTsKCgkJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoInVwZGF0ZSAiLk9J'));
	@fwrite($fp, base64_decode('RFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyBzZXQgcmFfZW1haWwgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG5ld19lbWFpbCkuIicgd2hlcmUgcmFfZW1haWwgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJp'));
	@fwrite($fp, base64_decode('bmcoJG9sZF9lbWFpbCkuIiciKSkgewoJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbihPSURwbHVzOjpkYigpLT5lcnJvcigpKTsKCQkJfQoKCQkJT0lEcGx1czo6YXV0aFV0aWxzKCktPnJhTG9nb3V0KCRvbGRfZW1haWwpOwoJCQlPSURwbHVzOjphdXRoVXRpbHMoKS0+'));
	@fwrite($fp, base64_decode('cmFMb2dpbigkbmV3X2VtYWlsKTsKCgkJCSRtZXNzYWdlID0gZmlsZV9nZXRfY29udGVudHMoX19ESVJfXyAuICcvZW1haWxfY2hhbmdlX2NvbmZpcm1hdGlvbi50cGwnKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tTWVNURU1fVVJMfX0nLCBPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpzeXN0ZW1fdXJsKCksICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tTWVNURU1fVElUTEV9fScsIE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpLCAkbWVzc2FnZSk7CgkJCSRtZXNzYWdlID0gc3RyX3JlcGxhY2UoJ3t7QURN'));
	@fwrite($fp, base64_decode('SU5fRU1BSUx9fScsIE9JRFBMVVNfQURNSU5fRU1BSUwsICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tPTERfRU1BSUx9fScsICRvbGRfZW1haWwsICRtZXNzYWdlKTsKCQkJJG1lc3NhZ2UgPSBzdHJfcmVwbGFjZSgne3tORVdfRU1BSUx9'));
	@fwrite($fp, base64_decode('fScsICRuZXdfZW1haWwsICRtZXNzYWdlKTsKCQkJbXlfbWFpbCgkb2xkX2VtYWlsLCBPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKS4nIC0gZU1haWwgYWRkcmVzcyBjaGFuZ2VkJywgJG1lc3NhZ2UpOwoKCQkJZGllKCdPSycpOwoJCX0KCX0KCglwdWJs'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24gY2ZnTG9hZENvbmZpZygpIHsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwgZGVzY3JpcHRpb24sIHZhbHVlLCBwcm90ZWN0ZWQsIHZpc2libGUpIHZh'));
	@fwrite($fp, base64_decode('bHVlcyAoJ21heF9yYV9lbWFpbF9jaGFuZ2VfdGltZScsICdNYXggUkEgZW1haWwgY2hhbmdlIHRpbWUgaW4gc2Vjb25kcyAoMCA9IGluZmluaXRlKScsICcwJywgMCwgMSkiKTsKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVTX1RB'));
	@fwrite($fp, base64_decode('QkxFTkFNRV9QUkVGSVguImNvbmZpZyAobmFtZSwgZGVzY3JpcHRpb24sIHZhbHVlLCBwcm90ZWN0ZWQsIHZpc2libGUpIHZhbHVlcyAoJ2FsbG93X3JhX2VtYWlsX2NoYW5nZScsICdBbGxvdyB0aGF0IFJBcyBjaGFuZ2UgdGhlaXIgZW1haWwgYWRkcmVzcyAoMC8x'));
	@fwrite($fp, base64_decode('KScsICcxJywgMCwgMSkiKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY2ZnU2V0VmFsdWUoJG5hbWUsICR2YWx1ZSkgewoJCWlmICgkbmFtZSA9PSAnYWxsb3dfcmFfZW1haWxfY2hhbmdlJykgewoJCSAgICAgICAgaWYgKCgkdmFsdWUgIT0gJzAnKSAmJiAoJHZhbHVl'));
	@fwrite($fp, base64_decode('ICE9ICcxJykpIHsKCQkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigiUGxlYXNlIGVudGVyIGVpdGhlciAwIG9yIDEuIik7CgkJICAgICAgICB9CgkJfQoJCWlmICgoJG5hbWUgPT0gJ21heF9yYV9pbnZpdGVfdGltZScpIHx8ICgkbmFtZSA9PSAn'));
	@fwrite($fp, base64_decode('bWF4X3JhX3B3ZF9yZXNldF90aW1lJykgfHwgKCRuYW1lID09ICdtYXhfcmFfZW1haWxfY2hhbmdlX3RpbWUnKSkgewoJCQlpZiAoIWlzX251bWVyaWMoJHZhbHVlKSB8fCAoJHZhbHVlIDwgMCkpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIlBsZWFzZSBlbnRl'));
	@fwrite($fp, base64_decode('ciBhIHZhbGlkIHZhbHVlLiIpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBndWkoJGlkLCAmJG91dCwgJiRoYW5kbGVkKSB7CgkJaWYgKGV4cGxvZGUoJyQnLCRpZClbMF0gPT0gJ29pZHBsdXM6Y2hhbmdlX3JhX2VtYWlsJykgewoJCQkkaGFuZGxlZCA9'));
	@fwrite($fp, base64_decode('IHRydWU7CgkJCSRvdXRbJ3RpdGxlJ10gPSAnQ2hhbmdlIFJBIGVtYWlsJzsKCQkJJG91dFsnaWNvbiddID0gZmlsZV9leGlzdHMoX19ESVJfXy4nL2ljb25fYmlnLnBuZycpID8gJ3BsdWdpbnMvcmFQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvaWNvbl9iaWcu'));
	@fwrite($fp, base64_decode('cG5nJyA6ICcnOwoKCQkJJHJhX2VtYWlsID0gZXhwbG9kZSgnJCcsJGlkKVsxXTsKCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSAnIi5PSURwbHVz'));
	@fwrite($fp, base64_decode('OjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHJhX2VtYWlsKS4iJyIpOwoJCQlpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPT0gMCkgewoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICdS'));
	@fwrite($fp, base64_decode('QSA8Yj4nLmh0bWxlbnRpdGllcygkcmFfZW1haWwpLic8L2I+IGRvZXMgbm90IGV4aXN0JzsKCQkJfSBlbHNlIGlmICghT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhbGxvd19yYV9lbWFpbF9jaGFuZ2UnKSkgewoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9l'));
	@fwrite($fp, base64_decode('cnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+VGhpcyBmdW5jdGlvbmFsaXR5IGhhcyBiZWVuIGRpc2FibGVkIGJ5IHRoZSBhZG1pbmlzdHJhdG9yLjwvcD4nOwoJCQl9IGVsc2UgaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNSYUxvZ2dl'));
	@fwrite($fp, base64_decode('ZEluKCRyYV9lbWFpbCkgJiYgIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+WW91IG5lZWQgdG8gPGEgaHJlZj0iP2dv'));
	@fwrite($fp, base64_decode('dG89b2lkcGx1czpsb2dpbiI+bG9nIGluPC9hPiBhcyB0aGUgcmVxdWVzdGVkIFJBIDxiPicuaHRtbGVudGl0aWVzKCRyYV9lbWFpbCkuJzwvYj4uPC9wPic7CgkJCX0gZWxzZSB7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxmb3JtIGlkPSJjaGFuZ2VSYUVtYWlsRm9y'));
	@fwrite($fp, base64_decode('bSIgb25zdWJtaXQ9InJldHVybiBjaGFuZ2VSYUVtYWlsRm9ybU9uU3VibWl0KCk7Ij4nOwoJCQkJJG91dFsndGV4dCddIC49ICc8aW5wdXQgdHlwZT0iaGlkZGVuIiBpZD0ib2xkX2VtYWlsIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHJhX2VtYWlsKS4nIi8+PGJy'));
	@fwrite($fp, base64_decode('Pic7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxsYWJlbCBjbGFzcz0icGFkZGluZ19sYWJlbCI+T2xkIGFkZHJlc3M6PC9sYWJlbD48Yj4nLmh0bWxlbnRpdGllcygkcmFfZW1haWwpLic8L2I+PGJyPjxicj4nOwoJCQkJJG91dFsndGV4dCddIC49ICc8bGFiZWwgY2xh'));
	@fwrite($fp, base64_decode('c3M9InBhZGRpbmdfbGFiZWwiPk5ldyBhZGRyZXNzOjwvbGFiZWw+PGlucHV0IHR5cGU9InRleHQiIGlkPSJuZXdfZW1haWwiIHZhbHVlPSIiLz48YnI+PGJyPic7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTZW5kIG5l'));
	@fwrite($fp, base64_decode('dyBhY3RpdmF0aW9uIGVtYWlsIj48L2Zvcm0+JzsKCQkJfQoJCX0gZWxzZSBpZiAoZXhwbG9kZSgnJCcsJGlkKVswXSA9PSAnb2lkcGx1czphY3RpdmF0ZV9uZXdfcmFfZW1haWwnKSB7CgkJCSRoYW5kbGVkID0gdHJ1ZTsKCgkJCSRvbGRfZW1haWwgPSBleHBsb2Rl'));
	@fwrite($fp, base64_decode('KCckJywkaWQpWzFdOwoJCQkkbmV3X2VtYWlsID0gZXhwbG9kZSgnJCcsJGlkKVsyXTsKCQkJJHRpbWVzdGFtcCA9IGV4cGxvZGUoJyQnLCRpZClbM107CgkJCSRhdXRoID0gZXhwbG9kZSgnJCcsJGlkKVs0XTsKCgkJCWlmICghT0lEcGx1czo6Y29uZmlnKCktPmdl'));
	@fwrite($fp, base64_decode('dFZhbHVlKCdhbGxvd19yYV9lbWFpbF9jaGFuZ2UnKSkgewoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+VGhpcyBmdW5jdGlvbmFsaXR5IGhhcyBiZWVuIGRpc2FibGVkIGJ5IHRoZSBhZG1pbmlz'));
	@fwrite($fp, base64_decode('dHJhdG9yLjwvcD4nOwoJCQl9IGVsc2UgewoJCQkJJG91dFsndGl0bGUnXSA9ICdQZXJmb3JtIGVtYWlsIGFkZHJlc3MgY2hhbmdlJzsKCQkJCSRvdXRbJ2ljb24nXSA9IGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2JpZy5wbmcnKSA/ICdwbHVnaW5zL3JhUGFn'));
	@fwrite($fp, base64_decode('ZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCgkJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRvbGRfZW1haWwpLiInIik7CgkJCQlpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPT0gMCkgewoJCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkJJG91dFsndGV4dCddID0g'));
	@fwrite($fp, base64_decode('J2VNYWlsIGFkZHJlc3MgZG9lcyBub3QgZXhpc3QgYW55bW9yZS4gSXQgd2FzIHByb2JhYmx5IGFscmVhZHkgY2hhbmdlZC4nOwoJCQkJfSBlbHNlIHsKCQkJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxF'));
	@fwrite($fp, base64_decode('TkFNRV9QUkVGSVguInJhIHdoZXJlIGVtYWlsID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRuZXdfZW1haWwpLiInIik7CgkJCQkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID4gMCkgewoJCQkJCQkkb3V0WydpY29uJ10g'));
	@fwrite($fp, base64_decode('PSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJCQkkb3V0Wyd0ZXh0J10gPSAnZU1haWwgYWRkcmVzcyBpcyBhbHJlYWR5IHVzZWQgYnkgYW5vdGhlciBSQS4gVG8gbWVyZ2UgYWNjb3VudHMsIHBsZWFzZSBjb250YWN0IHRoZSBzdXBlcmlvciBSQSBvZiB5b3VyIG9i'));
	@fwrite($fp, base64_decode('amVjdHMgYW5kIHJlcXVlc3QgYW4gb3duZXIgY2hhbmdlIG9mIHlvdXIgb2JqZWN0cy4nOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCk6OnZhbGlkYXRlQXV0aEtleSgnYWN0aXZhdGVfbmV3X3JhX2VtYWlsOycuJG9sZF9lbWFp'));
	@fwrite($fp, base64_decode('bC4nOycuJG5ld19lbWFpbC4nOycuJHRpbWVzdGFtcCwgJGF1dGgpKSB7CgkJCQkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJCQkJJG91dFsndGV4dCddID0gJ0ludmFsaWQgYXV0aG9yaXphdGlvbi4gSXMgdGhlIFVSTCBPSz8nOwoJ'));
	@fwrite($fp, base64_decode('CQkJCQl9IGVsc2UgewoJCQkJCQkJJG91dFsndGV4dCddID0gJzxwPk9sZCBlTWFpbC1BZGRyZXNzOiA8Yj4nLiRvbGRfZW1haWwuJzwvYj48L3A+CgkJCQkJICAgICAgICAgICAgICAgIDxwPk5ldyBlTWFpbC1BZGRyZXNzOiA8Yj4nLiRuZXdfZW1haWwuJzwvYj48'));
	@fwrite($fp, base64_decode('L3A+CgoJCQkJCQkgICAgICAgICA8Zm9ybSBpZD0iYWN0aXZhdGVOZXdSYUVtYWlsRm9ybSIgb25zdWJtaXQ9InJldHVybiBhY3RpdmF0ZU5ld1JhRW1haWxGb3JtT25TdWJtaXQoKTsiPgoJCQkJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9Im9sZF9lbWFp'));
	@fwrite($fp, base64_decode('bCIgdmFsdWU9IicuaHRtbGVudGl0aWVzKCRvbGRfZW1haWwpLiciLz4KCQkJCQkJICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIGlkPSJuZXdfZW1haWwiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkbmV3X2VtYWlsKS4nIi8+CgkJCQkJCSAgICA8aW5wdXQgdHlwZT0i'));
	@fwrite($fp, base64_decode('aGlkZGVuIiBpZD0idGltZXN0YW1wIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJHRpbWVzdGFtcCkuJyIvPgoJCQkJCQkgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9ImF1dGgiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkYXV0aCkuJyIvPgoKCQkJCQkJICAgIDxs'));
	@fwrite($fp, base64_decode('YWJlbCBjbGFzcz0icGFkZGluZ19sYWJlbCI+UGxlYXNlIHZlcmlmeSB5b3VyIHBhc3N3b3JkOjwvbGFiZWw+PGlucHV0IHR5cGU9InBhc3N3b3JkIiBpZD0icGFzc3dvcmQiIHZhbHVlPSIiLz48YnI+PGJyPgoJCQkJCQkgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIg'));
	@fwrite($fp, base64_decode('dmFsdWU9IkNoYW5nZSBlbWFpbCBhZGRyZXNzIj4KCQkJCQkJICA8L2Zvcm0+JzsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZSgmJGpzb24sICRyYV9lbWFpbD1udWxsKSB7CgkJaWYgKGZpbGVfZXhpc3RzKF9f'));
	@fwrite($fp, base64_decode('RElSX18uJy90cmVlaWNvbi5wbmcnKSkgewoJCQkkdHJlZV9pY29uID0gJ3BsdWdpbnMvcmFQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvdHJlZWljb24ucG5nJzsKCQl9IGVsc2UgewoJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xk'));
	@fwrite($fp, base64_decode('ZXIpCgkJfQoKCQkkanNvbltdID0gYXJyYXkoCgkJCSdpZCcgPT4gJ29pZHBsdXM6Y2hhbmdlX3JhX2VtYWlsJCcuJHJhX2VtYWlsLAoJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+ICdDaGFuZ2UgZW1haWwgYWRkcmVzcycKCQkpOwoJfQp9CgpP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpyZWdpc3RlclBhZ2VQbHVnaW4obmV3IE9JRHBsdXNQYWdlUmFDaGFuZ2VFTWFpbCgpKTsK'));
	@fclose($fp);
}
if (!is_file('plugins/raPages/102_change_email/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/raPages/102_change_email/plugin.inc.php');
	writefile_8();
	if (!is_file('plugins/raPages/102_change_email/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/raPages/102_change_email/plugin.inc.php');
	} else if (sha1_file('plugins/raPages/102_change_email/plugin.inc.php') != 'a7f41806aec02801ac4bf83ea0d74da8c1d95c18') {
		warn('File cannot be created (checksum mismatch): plugins/raPages/102_change_email/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/raPages/102_change_email/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/raPages/102_change_email/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/raPages/102_change_email/plugin.inc.php') !== 'a7f41806aec02801ac4bf83ea0d74da8c1d95c18') {
		if (@sha1_file('plugins/raPages/102_change_email/plugin.inc.php') !== 'cc28d219f4ff5c21a59d007939fe1633365ffaa5') {
			warn('File was modified. Will overwrite the changes now: plugins/raPages/102_change_email/plugin.inc.php');
			$tmp = pathinfo('plugins/raPages/102_change_email/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/raPages/102_change_email/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/raPages/102_change_email/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_8();
		if (@sha1_file('plugins/raPages/102_change_email/plugin.inc.php') !== 'a7f41806aec02801ac4bf83ea0d74da8c1d95c18') {
			warn('File cannot be written (checksum mismatch): plugins/raPages/102_change_email/plugin.inc.php');
		}
	}
}

// Files different: setup/sql/struct.sql
function writefile_9() {
	@$fp = fopen('setup/sql/struct.sql', 'w');
	@fwrite($fp, base64_decode('Q1JFQVRFIFRBQkxFIGBjb25maWdgICgKICBgbmFtZWAgdmFyY2hhcig1MCkgTk9UIE5VTEwsCiAgYHZhbHVlYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwsCiAgYGRlc2NyaXB0aW9uYCB2YXJjaGFyKDI1NSksCiAgYHByb3RlY3RlZGAgYml0KDEpIE5PVCBOVUxMIERF'));
	@fwrite($fp, base64_decode('RkFVTFQgYicwJywKICBgdmlzaWJsZWAgYml0KDEpIE5PVCBOVUxMIERFRkFVTFQgYicwJwopIEVOR0lORT1Jbm5vREIgREVGQVVMVCBDSEFSU0VUPXV0Zjg7CgpDUkVBVEUgVEFCTEUgYGFzbjFpZGAgKAogIGBsZmRgIGludCgxMSkgTk9UIE5VTEwsCiAgYG9pZGAg'));
	@fwrite($fp, base64_decode('dmFyY2hhcigyNTUpIE5PVCBOVUxMLAogIGBuYW1lYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwsCiAgYHN0YW5kYXJkaXplZGAgYml0KDEpIE5PVCBOVUxMIERFRkFVTFQgYicwJywKICBgd2VsbF9rbm93bmAgYml0IGRlZmF1bHQgMCBOT1QgTlVMTCBERUZBVUxUIGIn'));
	@fwrite($fp, base64_decode('MCcKKSBFTkdJTkU9SW5ub0RCIERFRkFVTFQgQ0hBUlNFVD11dGY4OwoKQ1JFQVRFIFRBQkxFIGBpcmlgICgKICBgbGZkYCBpbnQoMTEpIE5PVCBOVUxMLAogIGBvaWRgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCwKICBgbmFtZWAgdmFyY2hhcigyNTUpIE5PVCBOVUxM'));
	@fwrite($fp, base64_decode('LAogIGBsb25nYXJjYCBiaXQgZGVmYXVsdCAwIE5PVCBOVUxMIERFRkFVTFQgYicwJywKICBgd2VsbF9rbm93bmAgYml0IGRlZmF1bHQgMCBOT1QgTlVMTCBERUZBVUxUIGInMCcKKSBFTkdJTkU9SW5ub0RCIERFRkFVTFQgQ0hBUlNFVD11dGY4OwoKQ1JFQVRFIFRB'));
	@fwrite($fp, base64_decode('QkxFIGBvYmplY3RzYCAoCiAgYGlkYCB2YXJjaGFyKDI1NSkgTk9UIE5VTEwsCiAgYHBhcmVudGAgdmFyY2hhcigyNTUpIERFRkFVTFQgTlVMTCwKICBgdGl0bGVgIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCwKICBgZGVzY3JpcHRpb25gIHRleHQgTk9UIE5VTEwsCiAg'));
	@fwrite($fp, base64_decode('YHJhX2VtYWlsYCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYGNvbmZpZGVudGlhbGAgYml0IGRlZmF1bHQgMCBOT1QgTlVMTCwKICBgY3JlYXRlZGAgZGF0ZXRpbWUsCiAgYHVwZGF0ZWRgIGRhdGV0aW1lCikgRU5HSU5FPUlubm9EQiBERUZBVUxUIENIQVJTRVQ9'));
	@fwrite($fp, base64_decode('dXRmODsKCkNSRUFURSBUQUJMRSBgcmFgICgKICBgcmFfaWRgIGludCgxMSkgTk9UIE5VTEwsCiAgYGVtYWlsYCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHJhX25hbWVgIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCwKICBgcGVyc29uYWxfbmFtZWAgdmFyY2hhcigx'));
	@fwrite($fp, base64_decode('MDApIE5PVCBOVUxMLAogIGBvcmdhbml6YXRpb25gIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCwKICBgb2ZmaWNlYCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHN0cmVldGAgdmFyY2hhcigxMDApIE5PVCBOVUxMLAogIGB6aXBfdG93bmAgdmFyY2hhcigxMDApIE5P'));
	@fwrite($fp, base64_decode('VCBOVUxMLAogIGBjb3VudHJ5YCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHBob25lYCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYG1vYmlsZWAgdmFyY2hhcigxMDApIE5PVCBOVUxMLAogIGBmYXhgIHZhcmNoYXIoMTAwKSBOT1QgTlVMTCwKICBgcHJpdmFj'));
	@fwrite($fp, base64_decode('eWAgYml0KDEpIE5PVCBOVUxMIERFRkFVTFQgYicwJywKICBgc2FsdGAgdmFyY2hhcigxMDApIE5PVCBOVUxMLAogIGBhdXRoa2V5YCB2YXJjaGFyKDEwMCkgTk9UIE5VTEwsCiAgYHJlZ2lzdGVyZWRgIGRhdGV0aW1lLAogIGB1cGRhdGVkYCBkYXRldGltZSwKICBg'));
	@fwrite($fp, base64_decode('bGFzdF9sb2dpbmAgZGF0ZXRpbWUKKSBFTkdJTkU9SW5ub0RCIERFRkFVTFQgQ0hBUlNFVD11dGY4OwoKQUxURVIgVEFCTEUgYGNvbmZpZ2AKICBBREQgUFJJTUFSWSBLRVkgKGBuYW1lYCk7CgpBTFRFUiBUQUJMRSBgYXNuMWlkYAogIEFERCBQUklNQVJZIEtFWSAo'));
	@fwrite($fp, base64_decode('YGxmZGApLAogIEFERCBVTklRVUUgS0VZIGBvaWRgIChgb2lkYCxgbmFtZWApOwoKQUxURVIgVEFCTEUgYGlyaWAKICBBREQgUFJJTUFSWSBLRVkgKGBsZmRgKSwKICBBREQgVU5JUVVFIEtFWSBgb2lkYCAoYG9pZGAsYG5hbWVgKTsKCkFMVEVSIFRBQkxFIGBvYmpl'));
	@fwrite($fp, base64_decode('Y3RzYAogIEFERCBQUklNQVJZIEtFWSAoYGlkYCkgVVNJTkcgQlRSRUU7CgpBTFRFUiBUQUJMRSBgcmFgCiAgQUREIFBSSU1BUlkgS0VZIChgcmFfaWRgKSwKICBBREQgVU5JUVVFIEtFWSBgZW1haWxgIChgZW1haWxgKTsKCkFMVEVSIFRBQkxFIGBhc24xaWRgCiAg'));
	@fwrite($fp, base64_decode('TU9ESUZZIGBsZmRgIGludCgxMSkgTk9UIE5VTEwgQVVUT19JTkNSRU1FTlQ7CgpBTFRFUiBUQUJMRSBgaXJpYAogIE1PRElGWSBgbGZkYCBpbnQoMTEpIE5PVCBOVUxMIEFVVE9fSU5DUkVNRU5UOwoKQUxURVIgVEFCTEUgYHJhYAogIE1PRElGWSBgcmFfaWRgIGlu'));
	@fwrite($fp, base64_decode('dCgxMSkgTk9UIE5VTEwgQVVUT19JTkNSRU1FTlQ7CkNPTU1JVDsKCg=='));
	@fclose($fp);
}
if (!is_file('setup/sql/struct.sql')) {
	warn('File has vanished! Will re-create it: setup/sql/struct.sql');
	writefile_9();
	if (!is_file('setup/sql/struct.sql')) {
		warn('File cannot be created (not existing): setup/sql/struct.sql');
	} else if (sha1_file('setup/sql/struct.sql') != '5bf50bf20a00356a6dea65715e0726088c06e16a') {
		warn('File cannot be created (checksum mismatch): setup/sql/struct.sql');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/sql/struct.sql', 0644)) {
		warn('Could not change file permissions of setup/sql/struct.sql');
	}
} else {
	if (@sha1_file('setup/sql/struct.sql') !== '5bf50bf20a00356a6dea65715e0726088c06e16a') {
		if (@sha1_file('setup/sql/struct.sql') !== 'a1941fed27f2f603bfcb421425ace51e262418c1') {
			warn('File was modified. Will overwrite the changes now: setup/sql/struct.sql');
			$tmp = pathinfo('setup/sql/struct.sql');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/sql/struct.sql')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/sql/struct.sql', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_9();
		if (@sha1_file('setup/sql/struct.sql') !== '5bf50bf20a00356a6dea65715e0726088c06e16a') {
			warn('File cannot be written (checksum mismatch): setup/sql/struct.sql');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 64\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 64') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

