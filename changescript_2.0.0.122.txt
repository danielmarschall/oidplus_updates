<?php /* <ViaThinkSoftSignature>
Sd/WH989cyy1fUqBCMONq8ntIF2ivKKVEhD7vcDsib0D/iBEC2s4eGI59qDTfkOZU
0vmlFWNDKgQB6LrVSDGr57/+S0tixFmEeydlFIgGOgdW/ceUALUFTtEmKnFhNy0XD
AzxUchv5rlT094sz24HrZKOq5InSMRrOa59TmM8jshHXQx3qL9mndBmEN/MQY6S7C
qgDem1S9cbN+UI//5hsAtsrY5KV+7E2xLASxEtsRxGw8Kpf9ecsbfm2BqgaQy4rVf
KYTIR09A6zyUaPwhzEheabJHlBsDmPgUjL1q/NSZ6TyCs2iYlGDFNeV5oyTH4OZP2
X+OKLpWt59Hwrj1CS9BO4G7sA/m1oxXvk/I4GNvcVYVpefjmVtnA6GOgJXk7mUy7T
snlxGM/TlwuPnBIEctCheUgqQit7OmFpoDoLrDySP6ESX5/mNU3tNjsZBgMepSzKK
llpKetLVJZ9vVvSeG/f66LSxQoJ2sGHUoxwC4dXvJnap9/bFLfyp0/EobFugOftKM
K0wNvFagOy0Dhy3uRatFwlMlQPvODSyargEe72UNFisr8uxpu0hcZjRX0yWqDkOr/
/2aFuG26ji36MMtB7tj86ntfzHDYOD5ty4U7jWvQDrPZ+Lmil8f7rR8+0GEDrEr/Z
nJccYRXSio3m66ShJ+Wp4MSf3RE1yw6EXHNtHPACAjLBdhKWUK7p4+2Jq8OxhWgH0
j2biKeCnTq/lgOb9vQNjppc7+WJ26+gsaJu/mMw/ep7Nm+imU/Gzqkf/ZlJW8QPcg
z/AtvLQEJxAvWFWwqx1137KajXwxFNPVK5GdxVSu4iNeWxuWMymtCPw6uEkNTs7Mg
cnaYvXJY+NB0rnSBGLJs2IvxKUzavsglJ1mpCwNLMd+besOwGNLmTHXUedQTrX17Q
pE+54luycDHASZTXU6EW8Ismbauxn+PFoOMWQFPeyN7uTVOh1E3pSccITfcf8vSZq
bgSDPm139RpWC4IxfrSz1lvo95x65DEtySI62NXHzTx1DWRxVhg/357j6w9i0wd4p
MMIknUeWS2cUCYB+IwH1dO/VHvRzUBavWUJalr+ioXGJWPPWw+XQ24IDlBGBaSYSa
8rPPkAbqXYv2NKUPyDCyWbHdKCQZljn62Lpvj0N+gfwo7Dye/E7d6kim0u5RSeHi+
WUWr0fBU6wCo/7H+kZaGuSjdpbNTrk9aXkIYBjjy0138U9x9SNV9urhSgvMySL+7k
cw+zIrq+JQgJ9teGzQeVY/wTLrik6OhBf9h4fe375IT4lcNmn4jg5kDdcQfNMvM/k
//kobMGTcGJ/HXbojxVmbu8qrQQRnC+cE3xGdjDHmj3SkYB24msI2ByHHUtqWy6f3
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 121') {
	err('This update can only be applied to OIDplus version 2.0.0.121!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: TODO
function writefile_1() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('CklNUE9SVEFOVAotIFZlcmlmeTogZXNjYXBlIGV2ZXJ5dGhpbmcKLSBDb29raWUgbGF3OgoJRG93bmxvYWQgQ29va2llQ29uc2VudCBjb2RlIGludG8gXzNwIGZvbGRlciwgZG8gbm90IGhvdGxpbmsgaXQKCXdlIG5lZWQgdG8gbG9nIGFsbCBjb25zZW50cwoJZG8g'));
	@fwrite($fp, base64_decode('d2UgbmVlZCBhbiBleHBsaWNpdCBjb25zZW50IGF0IHRoZSBsb2dpbiBmb3JtPwoJZG8gd2UgbmVlZCBhIGNvbnNlbnQgZm9yIHRoZSBjb29raWUgU1NMX0NIRUNLPwotIGRzZ3ZvIGRhdGVuc2NodXR6ZXJrbORydW5nLCBhZ2JzIGV0Yy4KLSBQcm9ibGVtcyB3aXRo'));
	@fwrite($fp, base64_decode('IG1vYmlsZSB2aWV3IHdoZW4gbG9nZ2VkIGluCgkqIFRpbnlNQ0Ugc2VlbXMgdG8gYmUgaW5jb21wYXRpYmxlIHdpdGggQW5kcm9pZD8gRG8gd2UgbmVlZCBhIG1vYmlsZSB2ZXJzaW9uPwotIFZlcmlmeSB0aGF0IGxvZ2dlciB3b3JrcyBjb3JyZWN0bHksIGNoZWNr'));
	@fwrite($fp, base64_decode('IGlmIGFsbCBsb2dtYXNrcyBhcmUgY29ycmVjdAoKQURNSU4gQVJFQQotIEFsbG93IHRoYXQgdGhlIGFkbWluIGNhbiBjaGFuZ2UgdXNlcidzIHBhc3N3b3J0L2NvbnRhY3QgZGF0YQotIEFkbWluIHNob3VsZCBzZWUgbG9nIGV2ZW50cyBmb3IgZWFjaCBSQSBhbmQg'));
	@fwrite($fp, base64_decode('T0lECgpTRVRVUAotIEFkZCB3YXJuaW5nIHRoYXQgd2l0aCB0aGUgaW5zZXJ0aW9uIG9mIHRoZSBkYXRhYmFzZSwgYWxsIHRhYmxlcyB3aWxsIGJlIGRyb3BwcGVkCgpTTUFMTCBUSElOR1MKLSBmcmVlb2lkOiBnbWFpbCBhcHAgZG9lcyBub3QgaHlwZXJsaW5rIHRo'));
	@fwrite($fp, base64_decode('ZSBhY3RpdmF0aW9uIFVSTC4gd2h5PwotIGhvdyB0byBhdm9pZCBpbnZpdGUgc3BhbW1pbmc/Ci0gd2hlbiBhIFBIUCBlcnJvciBoYXBwZW5zLCB0aGUgQUpBWCBzY3JpcHQgb3V0cHV0cyAiRXJyb3I6IFN5bnRheEVycm9yOiBVbmV4cGVjdGVkIHRva2VuIDwgaW4g'));
	@fwrite($fp, base64_decode('SlNPTiBhdCBwb3NpdGlvbiAwIiAuLi4gYmV0dGVyIHNob3cgdGhlIHVzZXIgdGhlIGFjdHVhbCBtZXNzYWdlCi0gInBsdWdpbi5pbmMucGhwIiA9PiByZW5hbWUgdG8gKi5jbGFzcy5waHAgPyBPciB2aWNlIHZlcnNhIGZvciBvYmplY3QgdHlwZXM/Ci0gd2hlbiBs'));
	@fwrite($fp, base64_decode('b2dpbiBleHBpcmVkLCByZW1vdmUgZW50cmllcyBpbiB0aGUgdHJlZXZpZXcKLSBjYW4gd2UgcHV0IGV2ZW4gbW9yZSBjb2RlIChlLmcuIG9iamVjdCBDUlVEKSBpbnRvIHRoZSBwbHVnaW4gZGlyZWN0b3J5PwotIGRpc2FibGUgc3BlY2lmaWMgZnVuY3Rpb25zIChl'));
	@fwrite($fp, base64_decode('LmcuIGludml0ZSwgbG9naW4sIHJhaW5mbywgZm9yZ290IHBhc3N3b3JkKSBpZiB0aGUgcGx1Z2lucyBhcmUgbm90IGluc3RhbGxlZCAoY2hlY2sgaWYgY2xhc3MgdHlwZSBpcyByZWdpc3RlcmVkKQotIG1vYmlsZSBkZXNpZ246IGlmIHRpdGxlIGlzIHRvbyBsb25n'));
	@fwrite($fp, base64_decode('ID0+IG1ha2Ugc3lzdGVtIHRpdGxlIGJhciBtdWx0aSBsaW5lPwotIG1ha2UgdXNhZ2Ugb2YgRm9yZWlnbiBLZXlzCi0gPGFiYnI+IGluIDxjb2RlPiB3aXJkIGRvcHBlbHQgdW50ZXJzdHJpY2hlbgotIHdlbm4gbWFuIGVpbmUgd2VsbC1rbm93biBPSUQgYW5sZWdl'));
	@fwrite($fp, base64_decode('biBt9mNodGUsIGRhbm4ga29tbXQgZmVobGVyIHdlZ2VuIHJlcGxhY2VBc24xL3JlcGxhY2VJcmksIGFiZXIgZGllIE9JRCBpc3QgZXJzdGVsbHQuIERpZSBBUEkgaXN0IGFiZXIgbmljaHQgcmVsb2FkZWQuIE1hbiBzaWVodCBhbHNvIG5pY2h0LCBkYXNzIGRpZSBP'));
	@fwrite($fp, base64_decode('SUQgZXJzdGVsbHQgd3VyZGUsIHVuZCBlaW4gZXJuZXV0ZXIga2xpY2sgYXVmIEluc2VydCBm/GhydCB6dW0gUHJpbWFyeS1LZXkgZmVobGVyCi0gcHJvYmxlbTogd2VubiBlaW5lIFJBIGVpbmdlbGFkZW4gd2VyZGVuIG32Y2h0ZSwgbXVzcyBtYW4gInVwZGF0ZSIg'));
	@fwrite($fp, base64_decode('ZHL8Y2tlbiB1bmQgZGllIE9JRCB3aXJkIGFscyB1cGRhdGVkIG1hcmtpZXJ0Ci0gYmVpIG1laHJlcmVuIGlkZW50aWZpZXJuIGthbm4gbWFuIG5pY2h0IGJlc3RpbW1lbiwgd2VsY2hlciBpZGVudGlmaWVyIGRlciBiZXZvcnp1Z3RlIHNlaW4gc29sbCEhCi0gc2hv'));
	@fwrite($fp, base64_decode('dyB3aG9pcyBsaW5rcyBvbmx5IGlmIGZvbGRlciAid2hvaXMvIiBleGlzdHMKLSBkaXNhYmxlIGF1dG9jb21wbGV0ZSBvbiBzb21lIGZvcm1zCi0gZ3JhcGhpY2FsIGltcG9ydmVtZW50cyBvZiBmb3JtcyAoaW5wdXQgZWRpdHMgYWxpZ25lZCkKLSAiRG9jdW1lbnRz'));
	@fwrite($fp, base64_decode('IiBzZWN0aW9uOiBNYWtlIGRvY3VtZW50YXRpb24gZm9yIHVzYWdlIG9mIE9JRHBsdXMgKGZvciBtZW1iZXJzIG9ubHkpCi0gYWRtaW4gY29uZmlnIG1laHIgdXNlciBmcmllbmRseSwgZS5nLiBoYXZpbmcgdGhlIGVuYWJsZS9kaXNhYmxlIG9iamVjdCB0eXBlIHN0'));
	@fwrite($fp, base64_decode('dWZmIChsaWtlIGluIHJlZ2lzdHJhdGlvbiB3aXphcmQpIGFsc28gaW4gdGhlIGFkbWluIGNvbnRyb2wgcGFuZWwKLSBpdCB3b3VsZCBiZSBjb29sIGlmIGFmdGVyIHRoZSBsb2dpbiwgdGhlIG9wZW5lZCBub2RlcyBpbiB0aGUgdHJlZSB3b3VsZCBzdGF5IG9wZW4K'));
	@fwrite($fp, base64_decode('LSBzaG91bGQgd2UgbG9nIHNvbWV3aGVyZSwgd2hlbiB0aGUgYWRtaW4gYWNjb3VudCB3YXMgbG9nZ2VkIGluPwotIG11bHRpbGFuZwotIGh0bWwgY2hlY2tib3g6ICJsYWJlbCBmb3IiIHZlcndlbmRlbgotIHdoZW4gamF2YXNjcmlwdCBmYWlscywgdGhlIGZvcm0g'));
	@fwrite($fp, base64_decode('d2lsbCBiZSBzdWJtaXR0ZWQgdG8gJy4vJyAsIHRoYXQgaXMgbm90IGdvb2QhIGZhaWxlZCBqYXZhc2NyaXB0IG11c3QgcmV0dXJuIGZhbHNlLCBzbyB0aGF0IHRoZSBmb3JtIGRvZXMgbm90IGdldCBzdWJtaXR0ZWQKLSBhZG1pbjogc2hvdyBwcml2YWN5IGVudHJp'));
	@fwrite($fp, base64_decode('ZXMgZnJvbSBSQXMgKGJ1dCBncmV5LCBzbyB5b3Uga25vdyB0aGF0IGl0IGlzIHByaXZhdGUpCi0gYWRtaW4gc29sbCBjb250YWN0IGRhdGEgZWluZXIgZnJlbWRlbiBSQSDkbmRlcm4gZPxyZmVuCi0gZnJlZW9pZDogYXNuLjEgdW5kIGlyaSBzcGFsdGVuIGF1c2Js'));
	@fwrite($fp, base64_decode('ZW5kZW4sIGRhIGRpZXNlciBhcmMga2VpbmUgSURzIHZlcmdpYnQ/Ci0gUHJpdmFjeTogTWVociBzdHVmZW4sIHouYi4gZGFzcyBtYW4gZGVuIHBlcnNvbmFsIG5hbWUgZXZ0bCBnYXIgbmljaHQgemVpZ2VuIG32Y2h0ZQotIE1hbiBzb2xsdGUgImNyZWF0ZWQiIGFi'));
	@fwrite($fp, base64_decode('5G5kZXJuIGT8cmZlbiEgb2RlciBldnRsIGdhbnogdmVyc3RlY2tlbiwgd2VubiBtYW4gZXMgbmljaHQgd2Vp3wotIGluIGRlciBjcnVkIGxpc3RlIGRlbiB0aXRlbCBkZXMgb2JqZWt0cyB6ZWlnZW4KLSBuYXRPcmRlcigpIGlzdCBudXIgZvxyIE9JRCBn/Gx0aWch'));
	@fwrite($fp, base64_decode('ISEgYW5kZXJlIHNvcnQtbWVjaGFuaXNtZW4gZvxyIGFuZGVyZSBvYmpla3R0eXBlbiBlcmZvcmRlcmxpY2gKLSB0aW55bWNlCgltY2UgZGlydHkgZmxhZzoKCQktIHdlbm4gbWFuIHdlY2hzZWwgKGpzIHRyZWUgc2VsZWN0KSwgZGFubiBzb2xsIGFiZ2VmcmFndCB3'));
	@fwrite($fp, base64_decode('ZXJkZW4sIG9iIHRpbnltY2UgZGlydHkgaXN0LCB1bmQgZWluZSB3YXJudW5nIGJyaW5nZW4sIGFsc28gc28sIHdpZSB3ZW5uIG1hbiBkaWUgc2VpdGUgbmV1IGxhZGVuIHf8cmRlCgkJLSBrcml0aXNjaGVyIGJ1Zzogc2VpdGUg9mZmbmVuLCB0aW55IG1jZSBlZGl0'));
	@fwrite($fp, base64_decode('aWVyZW4sIHNwZWljaGVybiBrbGlja2VuLiBkYW5uIGY1IG5ldSBsYWRlbiAobmljaHQgc3RyZytmNSk6IGRhbm4gaXN0IGRlciBhbHRlIGNvbnRlbnQgd2llZGVyIGRhLiBhdd9lciBtYW4gZHL8Y2t0IHN0cmcrZjUKCWJ1Zzogb3ZlcmxheSAiYmlsZCIgdW5kICJ0'));
	@fwrite($fp, base64_decode('YWJlbGxlIiBibGVpYnQgYXVmIGRlbSBiaWxkc2NoaXJtLCBzZWxic3Qgd2VubiBtYW4gZGllIHNlaXRlIHdlY2hzZWx0IPxiZXIgZGFzIG1lbvwKLSBqc3RyZWUgc2VsZWN0OiBhdXRvbWF0aWNhbGx5IHNjcm9sbCBkb3duCi0gb3B0aXNjaCBhdWZo/GJzY2hlbi4g'));
	@fwrite($fp, base64_decode('ZGluZ2Ugd2llIFJBOiBtZWhyIGRpbmdlIHplaWdlbiwgYWRyZXNzZSwgZW1haWwgZXRjCgpGVVRVUkUKLSBtYWtlIHVzZSBvZiBDb21wb3Nlci4gUHJvYmxlbXM6CiAgKiBXaGF0IGlmIGNvbXBvc2VyIGluc3RhbGxzIGEgdmVyc2lvbiBvZiBhIGNvbXBvbmVudCwg'));
	@fwrite($fp, base64_decode('d2hpY2ggaXMgaW5jb21wYXRpYmxlPwogICogV2UgbmVlZCBhIG5ldyBwdWJsaXNoaW5nIHNjcmlwdCwgYmVjYXVzZSBzaW1wbHkgY2hlY2tpbmcgb3V0IFNWTiBpcyBub3QgZW5vdWdoIGFueW1vcmUuIFRoZSB1c2VyIG5lZWRzIHRvIGV4ZWN1dGUgY29tcG9zZXIu'));
	@fwrite($fp, base64_decode('IEJ1dCB3aGF0IGlzIGlmIHRoZSB1c2VyIGRvbid0IGhhdmUgY29tcG9zZXIgKG9yIGRvbnQgaGF2ZSBzaGVsbCBhY2Nlc3MgYXQgYWxsPykKLSBpbXBsZW1lbnQgc2l0ZW1hcHMgeG1sCi0gcmVjb3JkIGhpc3Rvcnkgb2YgYW4gT0lEPwotIGFkbWluIHNob3VsZCBi'));
	@fwrite($fp, base64_decode('ZSBhYmxlIHRvIGNoYW5nZSB3ZWxsa25vd24gb2lkcz8KLSBtb3ZlIG9pZCB0byBkaWZmZXJlbnQgYXJjCi0gYmVpIHNlaHIgZ3Jv32VuIGFyY3MgKHouQi4gUEVOKSBzb2xsZW4gbmljaHQgYWxsZSBhbmdlemVpZ3Qgd2VyZGVuCi0gdW50ZXJzdPx0enVuZyBm/HIg'));
	@fwrite($fp, base64_decode('T1JTPwotIE1laHIgIkN1dHRpbmcgRWRnZSBUZWNobm9sb2dpZSIgc29sbCBpbiBkaWVzZW0gUHJvamVrdCB6dW0gVHJhZ2VuIGtvbW1lbjogQUpBWCwgSlNPTiwgdm9sbHN05G5kaWcgVVRGOCwgQ1JVRCBmcmFtZXdvcmtzLCBQRE8sIEhUTUw1LCBNb2JpbGVzIERl'));
	@fwrite($fp, base64_decode('c2lnbiwgUHVyZSBDU1MsIEF1dG9sb2FkaW5nLCBPYmpla3RvcmllbnRpZXJ1bmcgKGFiZXIgbmljaHQgdW5iZWRpbmd0IE1WQyksIC4uLjxicj4KLSAiU2VhcmNoIiBwbHVnaW46IEZlYXR1cmUgdG8gc2VhcmNoIGluc2lkZSBkb2N1bWVudGF0aW9uIChkb2MvIGRp'));
	@fwrite($fp, base64_decode('cmVjdG9yeSkKLSAiU2VhcmNoIiBwbHVnaW46IEkgd2FudCB0byBzZWFyY2ggaW4gYWxsIG9iamVjdCB0eXBlcyBhbmQgUkFzLiBOb3QgZmlyc3Qgc2VsZWN0IHRoZSB0eXBlLgotIEhvdyBjYW4gd2UgbWFrZSBzdXJlIHRoYXQgZXhhbXBsZSBvYmplY3RzIGFyZSBu'));
	@fwrite($fp, base64_decode('b3QgZXhwb3J0ZWQgdXNpbmcgb2lkLWluZm8uY29tIGV4cG9ydD8KLSBBZG1pbmlzdHJhdG9yLUludGVyZmFjZTogZW5hYmxlIGFuZCBkaXNhYmxlIG9iamVjdCB0eXBlcwoKQlVHUz8KLSBBSkFYIHJlcXVlc3RzIHdvbid0IGNvbnRhaW4gQkFTSUMgQVVUSCwgYWx0'));
	@fwrite($fp, base64_decode('aG91Z2ggdGhlIHBhZ2UgaXRzZWxmIGlzCiAgbG9hZGVkIHZpYSBCQVNJQyBBVVRILiBIYXBwZW5zIG9ubHkgd2hlbiB0aGUgcXVlcnkgY29tZXMgZnJvbSBsb2NhbCwKICBhY2Vzc2VkIGJ5IGRvbWFpbiBuYW1lPwogIChDaHJvbWl1bSA1Ni4wLjI5MjQuODQgQnVp'));
	@fwrite($fp, base64_decode('bHQgb24gVWJ1bnR1IDE0LjA0LCBydW5uaW5nIG9uIFJhc3BiaWFuIDkuOSkKClJFSkVDVEVEIElERUFTCi0gc29sbHRlIGVzIG1laGVyZSBhZG1pbnMgZ2ViZW4/Ci0gY2hhbmdlIGhpc3Rvcnkgb2YgZWFjaCBvaWQKLSByZWNvcmQgZmlyc3QgUkEgYW5kIGN1cnJl'));
	@fwrite($fp, base64_decode('bnQgUkEgPT4gWC42NjAgZG9lcyBub3QgaGF2ZSB0aGlzIHJlcXVpcmVtZW50Ci0gbWFya2VycyBEUkFGVCwgTEVBRiBhbmQgRlJPWkVOIGV0Yy4gPT4gdXNlICJQcm90ZWN0ZWQiIGlmIHlvdSB3YW50IHRvIG1ha2UgaXQgaW52aXNpYmxlCgpJREVBUwotIHRoZXJl'));
	@fwrite($fp, base64_decode('IHNob3VsZCBiZSBhIGZvcm0gd2hlcmUgYW4gUkEgY2FuIHJlcXVlc3QgYW4gaW52aXRhdGlvbiwgZXZlbiBpZiB0aGUgc3VwZXJpb3IgUkEgZGlkIG5vdCBpbnZpdGUgdGhlbS4KICB0aGUgZmFjdCB0aGF0IGEgUkEgZXhpc3RzIGluIHRoZSBPYmplY3QgVGFibGUg'));
	@fwrite($fp, base64_decode('c2hvdWxkIHBlcm1pdCB0aGUgUkEgdG8gaW52aXRlIHRoZWlyc2VsZi4KLSBiZWltIHZlcmxhc3NlbiBkZXIgc2VpdGUsIHouYi4gd2VubiBtYW4gbGlua3MgYXVmIGVpbmVuIG5ldWVuIG1lbvxwdW5rdCBrbGlja3QsIHNvbGwgZWluZSBhYmZyYWdlIGtvbW1lbiwg'));
	@fwrite($fp, base64_decode('b2IgbWFuIHNwZWljaGVybiBt9mNodGUKLSBtYWtlIGEgbGlzdCBvZiBPSURzIHRoYXQgZG8gbm90IGFzc2lnbiBBU04xL0lSSSBpZGVudGlmaWVycyAoZS5nLiBJQU5BIFBFTiBvciBWaWFUaGlua1NvZnQgRnJlZU9JRCksIHRoZW4gcmVqZWN0IGFueSBpZGVudGlm'));
	@fwrite($fp, base64_decode('aWVyIHRoZSB1c2VyIHByb3ZpZGVzCi0gc2FuaXRpemUgSVB2NCwgSVB2NiwgR1VJRCBkdXJpbmcgY3JlYXRpb24KCWJlaSBJUHY0IHVuZCBJUHY2OiAtIGlmIGl0IGlzIGEgc2luZ2xlIGhvc3QgYWRkcmVzcywgZG9uJ3QgcHV0IC8zMiBvciAvMTI4IHN1ZmZpeAoJ'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAgICAgIC0gc3RyaWtlIHVubmVjZXNzYXJ5IGJpdHMgdGhhdCBhcmUgbm90IGRlZmluZWQgaW4gdGhlIG5ldG1hc2sgKGFsc28gYXQgdGhlIHdob2lzIG91dHB1dCkKClFVRVNUSU9OUwotIHNob3VsZCB0aGUgY29sbGF0aW9uIGJlIGNhc2Ug'));
	@fwrite($fp, base64_decode('c2Vuc2l0aXZlIG9yIGNhc2UgaW5zZW5zaXRpdmU/IEZvciBKYXZhIHBhY2thZ2UgbmFtZXMsIGl0IHNob3VsZCBiZSBjYXNlIHNlbnN0aXZpZQotIHdvcnQgImd1aWQiIG9kZXIgInV1aWQiIHZlcndlbmRlbj8KLSBiaXQgb3IgdGlueWludCgxKSA/Ci0gc2hvdWxk'));
	@fwrite($fp, base64_decode('ICJPSUQgdXBkYXRlZCIgYmUgc3BsaXQgaW50byB0d28gY2F0ZWdvcmllcyAidXBkYXRlZCBieSBzdXBlcmlvciIgKGUuZy4gaWRlbnRpZmllcnMpIGFuZCAidXBkYXRlZCBieSBvd25lciIgKGRlc2NyaXB0aW9uIGV0Yyk/Ci0gInVwZGF0ZWQiIG5pY2h0IGFrdHVh'));
	@fwrite($fp, base64_decode('bGlzaWVyZW4sIHdlbm4gbWFuIG51ciBhdWYgInVwZGF0ZSIga2xpY2t0IGFiZXIgbml4IGdl5G5kZXJ0IGhhdAotICJEb2N1bWVudHMiIHNlY3Rpb246IENhbiBiYXNlIG9mIFVSTHMvaW1hZ2VzIGluc2lkZSB0aGUgSFRNTCBiZSBjaGFuZ2VkIGF1dG9tYXRpY2Fs'));
	@fwrite($fp, base64_decode('bHk/CgpHVUlEIE1hbmFnZW1lbnQKLSBMZWFmIG5vZGVzIChHVUlEcykgc2hvdWxkIHNob3cvZWRpdCB0aGUgVGl0bGUgaW4gdGhlIENSVUQsIHNvIHlvdSBkb250IGhhdmUgdG8gY2xpY2sgdGhlIEdVSUQgdG8gc2VlIHRoZSB0aXRsZQotIHNlbHRzYW1lciBidWc6'));
	@fwrite($fp, base64_decode('IHdlbm4gaWNoIGd1aWQ6b2lkcGx1cyBlZGl0aWVyZSwgZGFubiD2ZmZuZXQgc2ljaCBsaW5rcyBndWlkOmFjdGl2ZWRpcmVjdG9yeSBiZWltIG5ldWxhZGVuIGRlcyBiYXVtcyBuYWNoIGRlbSB1cGRhdGUuIGlyZ2VuZHdpZSD2ZmZuZXQgZXIgZGVuIHp1bGV0enQg'));
	@fwrite($fp, base64_decode('Z2X2ZmZuZXRlbiBub2RlIGJlaW0gcmVsb2FkIG5vY2htYWwK'));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_1();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != 'ff46403ed2a7e24fa9384346726d9677bd3f626c') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== 'ff46403ed2a7e24fa9384346726d9677bd3f626c') {
		if (@sha1_file('TODO') !== '2717aa7c5eb2964cbc4d47622397ff895080a5d8') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('TODO') !== 'ff46403ed2a7e24fa9384346726d9677bd3f626c') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: index.php
function writefile_2() {
	@$fp = fopen('index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKb2Jfc3RhcnQoKTsgLy8gYWxsb3cgY29va2llIGhlYWRlcnMgdG8gYmUgc2VudAoKaGVhZGVyKCdDb250'));
	@fwrite($fp, base64_decode('ZW50LVR5cGU6dGV4dC9odG1sOyBjaGFyc2V0PVVURi04Jyk7CgpPSURwbHVzOjppbml0KHRydWUpOwoKT0lEcGx1czo6ZGIoKS0+c2V0X2NoYXJzZXQoIlVURjgiKTsKT0lEcGx1czo6ZGIoKS0+cXVlcnkoIlNFVCBOQU1FUyAndXRmOCciKTsKCiRzdGF0aWNfbm9k'));
	@fwrite($fp, base64_decode('ZV9pZCA9IGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJ29pZHBsdXM6c3lzdGVtJzsKJHN0YXRpYyA9IE9JRHBsdXM6Omd1aSgpOjpnZW5lcmF0ZUNvbnRlbnRQYWdlKCRzdGF0aWNfbm9kZV9pZCk7CiRzdGF0aWNfdGl0bGUg'));
	@fwrite($fp, base64_decode('PSAkc3RhdGljWyd0aXRsZSddOwokc3RhdGljX2ljb24gPSAkc3RhdGljWydpY29uJ107CiRzdGF0aWNfY29udGVudCA9ICRzdGF0aWNbJ3RleHQnXTsKCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZSgkc3lzdGVtdGl0bGUsICRwYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUpIHsKCWlmICgkc3lzdGVtdGl0bGUgPT0gJHBhZ2V0aXRsZSkgewoJCXJldHVybiAkc3lzdGVtdGl0bGU7Cgl9IGVsc2UgewoJCXJldHVybiAkc3lzdGVtdGl0bGUgLiAnIC0gJyAuICRwYWdldGl0bGU7Cgl9Cn0KCiRzeXNpZF9vaWQgPSBPSURwbHVzOjpz'));
	@fwrite($fp, base64_decode('eXN0ZW1faWQodHJ1ZSk7CmlmICghJHN5c2lkX29pZCkgJHN5c2lkX29pZCA9ICd1bmtub3duJzsKaGVhZGVyKCdYLU9JRHBsdXMtU3lzdGVtSUQ6Jy4kc3lzaWRfb2lkKTsKCiRzeXNfdXJsID0gT0lEcGx1czo6c3lzdGVtX3VybCgpOwpoZWFkZXIoJ1gtT0lEcGx1'));
	@fwrite($fp, base64_decode('cy1TeXN0ZW1VUkw6Jy4kc3lzX3VybCk7Cgokc3lzX3ZlciA9IE9JRHBsdXM6OmdldFZlcnNpb24oKTsKaWYgKCEkc3lzX3ZlcikgJHN5c192ZXIgPSAndW5rbm93bic7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbVZlcnNpb246Jy4kc3lzX3Zlcik7Cgokc3lzX3Rp'));
	@fwrite($fp, base64_decode('dGxlID0gT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCk7CmhlYWRlcignWC1PSURwbHVzLVN5c3RlbVRpdGxlOicuJHN5c190aXRsZSk7Cgo/PjwhRE9DVFlQRSBodG1sPgo8aHRtbCBsYW5nPSJlbiI+Cgo8aGVhZD4KCTxtZXRhIGh0dHAtZXF1aXY9IkNv'));
	@fwrite($fp, base64_decode('bnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Ij4KCTxtZXRhIG5hbWU9Ik9JRHBsdXMtU3lzdGVtSUQiIGNvbnRlbnQ9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRzeXNpZF9vaWQpOyA/PiI+Cgk8bWV0YSBuYW1lPSJPSURwbHVz'));
	@fwrite($fp, base64_decode('LVN5c3RlbVVSTCIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c191cmwpOyA/PiI+Cgk8bWV0YSBuYW1lPSJPSURwbHVzLVN5c3RlbVZlcnNpb24iIGNvbnRlbnQ9Ijw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKCRzeXNfdmVyKTsgPz4iPgoJPG1l'));
	@fwrite($fp, base64_decode('dGEgbmFtZT0iT0lEcGx1cy1TeXN0ZW1UaXRsZSIgY29udGVudD0iPD9waHAgZWNobyBodG1sZW50aXRpZXMoJHN5c190aXRsZSk7IC8qIERvIG5vdCByZW1vdmUuIFRoaXMgbWV0YSB0YWcgaXMgYWNlc3NlZCB2aWEgSlMgKi8gPz4iPgoJPG1ldGEgbmFtZT0idGhl'));
	@fwrite($fp, base64_decode('bWUtY29sb3IiIGNvbnRlbnQ9IiNBOURDRjAiPgoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgoKCTx0aXRsZT48P3BocCBlY2hvIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0'));
	@fwrite($fp, base64_decode('aXRsZShPSURwbHVzOjpjb25maWcoKS0+c3lzdGVtVGl0bGUoKSwgJHN0YXRpY190aXRsZSk7ID8+PC90aXRsZT4KCgk8IS0tIFdlIGFyZSB1c2luZyBqUXVlcnkgMi4yLjEsIGJlY2F1c2UgMy4zLjEgc2VlbXMgdG8gYmUgaW5jb21wYXRpYmxlIHdpdGgganNUcmVl'));
	@fwrite($fp, base64_decode('IChIVE1MIGNvbnRlbnQgd2lsbCBub3QgYmUgbG9hZGVkIGludG8ganNUcmVlISkgVE9ETzogRmlsZSBidWcgcmVwb3J0IC0tPgoJPHNjcmlwdCBzcmM9IjNwL2pxdWVyeS9qcXVlcnktMi4yLjEubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9ib290'));
	@fwrite($fp, base64_decode('c3RyYXAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+Cgk8c2NyaXB0IHNyYz0iM3AvanN0cmVlL2pzdHJlZS5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9JzNwL3RpbnltY2UvdGlueW1jZS5taW4uanMnPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9'));
	@fwrite($fp, base64_decode('IjNwL2pxdWVyeS11aS9qcXVlcnktdWkubWluLmpzIj48L3NjcmlwdD4KCTxzY3JpcHQgc3JjPSIzcC9sYXlvdXQvanF1ZXJ5LmxheW91dC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9IjNwL3NwYW1zcGFuL3NwYW1zcGFuLmpzIj48L3NjcmlwdD4KCTxz'));
	@fwrite($fp, base64_decode('Y3JpcHQgc3JjPSdodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanMnPjwvc2NyaXB0PgoJPHNjcmlwdCBzcmM9Im9pZHBsdXMubWluLmpzLnBocCI+PC9zY3JpcHQ+CgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIzcC9qc3RyZWUvdGhl'));
	@fwrite($fp, base64_decode('bWVzL2RlZmF1bHQvc3R5bGUubWluLmNzcyI+Cgk8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Im9pZHBsdXMubWluLmNzcy5waHAiPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSIzcC9ib290c3RyYXAvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIj4KCgk8'));
	@fwrite($fp, base64_decode('bGluayByZWw9InNob3J0Y3V0IGljb24iIHR5cGU9ImltYWdlL3gtaWNvbiIgaHJlZj0iaW1nL2Zhdmljb24uaWNvIj4KCgk8IS0tIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20v'));
	@fwrite($fp, base64_decode('YWpheC9saWJzL2Nvb2tpZWNvbnNlbnQyLzMuMS4wL2Nvb2tpZWNvbnNlbnQubWluLmNzcyIgLz4gLS0+Cgk8IS0tIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9jb29raWVjb25zZW50Mi8zLjEuMC9jb29raWVjb25z'));
	@fwrite($fp, base64_decode('ZW50Lm1pbi5qcyI+PC9zY3JpcHQ+IC0tPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iM3AvY29va2llY29uc2VudC9jb29raWVjb25zZW50Lm1pbi5jc3MiPgoJPHNjcmlwdCBzcmM9IjNwL2Nvb2tpZWNvbnNlbnQvY29va2ll'));
	@fwrite($fp, base64_decode('Y29uc2VudC5taW4uanMiPjwvc2NyaXB0PgoJPHNjcmlwdD4KCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKCl7CgkJd2luZG93LmNvb2tpZWNvbnNlbnQuaW5pdGlhbGlzZSh7CgkJCSJwYWxldHRlIjogewoJCQkJInBvcHVwIjogewoJ'));
	@fwrite($fp, base64_decode('CQkJCSJiYWNrZ3JvdW5kIjogIiNlZGVmZjUiLAoJCQkJCSJ0ZXh0IjogIiM4MzgzOTEiCgkJCQl9LAoJCQkJImJ1dHRvbiI6IHsKCQkJCQkiYmFja2dyb3VuZCI6ICIjNGI4MWU4IgoJCQkJfQoJCQl9LAoJCQkicG9zaXRpb24iOiAiYm90dG9tLXJpZ2h0IgoJCX0p'));
	@fwrite($fp, base64_decode('fSk7Cgk8L3NjcmlwdD4KPC9oZWFkPgoKPGJvZHk+Cgo8ZGl2IGlkPSJmcmFtZXMiPgoJPGRpdiBpZD0ic3lzdGVtX3RpdGxlX2JhciI+CgkJPGRpdiBpZD0ic3lzdGVtX3RpdGxlX21lbnUiIG9uY2xpY2s9Im1vYmlsZU5hdkJ1dHRvbkNsaWNrKHRoaXMpIiBvbm1v'));
	@fwrite($fp, base64_decode('dXNlZW50ZXI9Im1vYmlsZU5hdkJ1dHRvbkhvdmVyKHRoaXMpIiBvbm1vdXNlbGVhdmU9Im1vYmlsZU5hdkJ1dHRvbkhvdmVyKHRoaXMpIj4KCQkJPGRpdiBpZD0iYmFyMSI+PC9kaXY+CgkJCTxkaXYgaWQ9ImJhcjIiPjwvZGl2PgoJCQk8ZGl2IGlkPSJiYXIzIj48'));
	@fwrite($fp, base64_decode('L2Rpdj4KCQk8L2Rpdj4KCgkJPGRpdiBpZD0ic3lzdGVtX3RpdGxlX3RleHQiPgoJCQk8YSA8P3BocCBlY2hvIG9pZHBsdXNfbGluaygnb2lkcGx1czpzeXN0ZW0nKTsgPz4+CgkJCQk8c3BhbiBpZD0ic3lzdGVtX3RpdGxlXzEiPlZpYVRoaW5rU29mdCBPSURwbHVz'));
	@fwrite($fp, base64_decode('IDIuMDwvc3Bhbj48YnI+CgkJCQk8c3BhbiBpZD0ic3lzdGVtX3RpdGxlXzIiPjw/cGhwIGVjaG8gaHRtbGVudGl0aWVzKE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpKTsgPz48L3NwYW4+CgkJCTwvYT4KCQk8L2Rpdj4KCTwvZGl2PgoKCTxkaXYgaWQ9'));
	@fwrite($fp, base64_decode('Im9pZHRyZWUiIGNsYXNzPSJib3JkZXJib3giPgoJCTwhLS0gPG5vc2NyaXB0PgoJCQk8cD48Yj5QbGVhc2UgZW5hYmxlIEphdmFTY3JpcHQgdG8gdXNlIGFsbCBmZWF0dXJlczwvYj48L3A+CgkJPC9ub3NjcmlwdD4gLS0+CgkJPD9waHAgT0lEcGx1c1RyZWU6Om5v'));
	@fwrite($fp, base64_decode('bmpzX21lbnUoKTsgPz4KCTwvZGl2PgoKCTxkaXYgaWQ9ImNvbnRlbnRfd2luZG93IiBjbGFzcz0iYm9yZGVyYm94Ij4KCQk8P3BocAoJCSRzdGF0aWNfY29udGVudCA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygKCQkJJ3w8YVxzKFtePl0qKWhyZWY9Im1haWx0bzoo'));
	@fwrite($fp, base64_decode('W14iXSspIihbXj5dKik+KFtePF0qKTwvYT58aXNtVScsCgkJCWZ1bmN0aW9uICgkdHJlZmZlcikgewoJCQkJJGVtYWlsID0gJHRyZWZmZXJbMl07CgkJCQkkdGV4dCA9ICR0cmVmZmVyWzRdOwoJCQkJcmV0dXJuIHNlY3VyZV9lbWFpbCgkZW1haWwsICR0ZXh0LCAx'));
	@fwrite($fp, base64_decode('KTsgLy8gQW50aVNwYW0KCQkJfSwgJHN0YXRpY19jb250ZW50KTsKCgkJZWNobyAnPGgxIGlkPSJyZWFsX3RpdGxlIj4nOwoJCWlmICgkc3RhdGljX2ljb24gIT0gJycpIGVjaG8gJzxpbWcgc3JjPSInLmh0bWxlbnRpdGllcygkc3RhdGljX2ljb24pLiciIHdpZHRo'));
	@fwrite($fp, base64_decode('PSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSInLmh0bWxlbnRpdGllcygkc3RhdGljX3RpdGxlKS4nIj4gJzsKCQllY2hvIGh0bWxlbnRpdGllcygkc3RhdGljX3RpdGxlKS4nPC9oMT4nOwoJCWVjaG8gJzxkaXYgaWQ9InJlYWxfY29udGVudCI+Jy4kc3RhdGljX2NvbnRl'));
	@fwrite($fp, base64_decode('bnQuJzwvZGl2Pic7CgkJaWYgKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09ICdHRVQnKSB7CgkJCWVjaG8gJzxicj48cD48aW1nIHNyYz0iaW1nL3NoYXJlLnBuZyIgd2lkdGg9IjE1IiBoZWlnaHQ9IjE1IiBhbHQ9IlNoYXJlIj4gPGEgaHJlZj0iP2dvdG89'));
	@fwrite($fp, base64_decode('Jy5odG1sZW50aXRpZXMoJHN0YXRpY19ub2RlX2lkKS4nIiBpZD0ic3RhdGljX2xpbmsiIGNsYXNzPSJncmF5X2Zvb3Rlcl9mb250Ij5TdGF0aWMgbGluayB0byB0aGlzIHBhZ2U8L2E+JzsKCQkJZWNobyAnPC9wPic7CgkJfQoJCWVjaG8gJzxicj4nOwoJCT8+Cgk8'));
	@fwrite($fp, base64_decode('L2Rpdj4KPC9kaXY+Cgo8L2JvZHk+CjwvaHRtbD4KPD9waHAKCiRjb250ID0gb2JfZ2V0X2NvbnRlbnRzKCk7Cm9iX2VuZF9jbGVhbigpOwoKZWNobyAkY29udDsK'));
	@fclose($fp);
}
if (!is_file('index.php')) {
	warn('File has vanished! Will re-create it: index.php');
	writefile_2();
	if (!is_file('index.php')) {
		warn('File cannot be created (not existing): index.php');
	} else if (sha1_file('index.php') != '33194bb68935c4985f4bf21187e58a8805df2e79') {
		warn('File cannot be created (checksum mismatch): index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('index.php', 0644)) {
		warn('Could not change file permissions of index.php');
	}
} else {
	if (@sha1_file('index.php') !== '33194bb68935c4985f4bf21187e58a8805df2e79') {
		if (@sha1_file('index.php') !== 'd3f3c8a321f129b059c99dbf03282555b5c95bc1') {
			warn('File was modified. Will overwrite the changes now: index.php');
			$tmp = pathinfo('index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('index.php') !== '33194bb68935c4985f4bf21187e58a8805df2e79') {
			warn('File cannot be written (checksum mismatch): index.php');
		}
	}
}

// Files different: oidplus.css
function writefile_3() {
	@$fp = fopen('oidplus.css', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKQG1lZGlhIHByaW50IHsKCS8qIFByaW50aW5nICovCgkudWktbGF5b3V0LXdlc3QsIC51aS1sYXlvdXQtcmVzaXplciB7CgkJZGlzcGxheTpub25lICFpbXBvcnRhbnQ7Cgl9CgkudWktbGF5b3V0LWNlbnRlciB7'));
	@fwrite($fp, base64_decode('CgkJbGVmdDowcHggIWltcG9ydGFudDsKCQl3aWR0aDoxMDAlICFpbXBvcnRhbnQ7Cgl9Cgkjb2lkdHJlZSwgLnVpLWxheW91dC1jZW50ZXIgewoJCXBvc2l0aW9uOnJlbGF0aXZlICFpbXBvcnRhbnQ7CgkJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJCXRvcDogMCAh'));
	@fwrite($fp, base64_decode('aW1wb3J0YW50OwoJfQoJI2NvbnRlbnRfd2luZG93IHsKCQl0b3A6IDAgIWltcG9ydGFudDsKCX0KfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkgewoJLyogTW9iaWxlICovCgkudWktbGF5b3V0LXdlc3QsIC51aS1sYXlvdXQtcmVz'));
	@fwrite($fp, base64_decode('aXplciB7CgkJZGlzcGxheTpub25lICFpbXBvcnRhbnQ7Cgl9CgkudWktbGF5b3V0LWNlbnRlciB7CgkJbGVmdDowcHggIWltcG9ydGFudDsKCQl3aWR0aDoxMDAlICFpbXBvcnRhbnQ7Cgl9Cgkjb2lkdHJlZSwgLnVpLWxheW91dC1jZW50ZXIgewoJCXBvc2l0aW9u'));
	@fwrite($fp, base64_decode('OnJlbGF0aXZlICFpbXBvcnRhbnQ7CgkJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJCXRvcDogMCAhaW1wb3J0YW50OwoJfQoJI2NvbnRlbnRfd2luZG93IHsKCQl0b3A6IDAgIWltcG9ydGFudDsKCX0KfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLXdpZHRo'));
	@fwrite($fp, base64_decode('OiA4MDFweCkgewoJLyogRGVza3RvcCAqLwoJI3N5c3RlbV90aXRsZV9tZW51IHsKCQlkaXNwbGF5Om5vbmUgIWltcG9ydGFudDsKCX0KfQoKI3N5c3RlbV90aXRsZV9iYXIgewoJd2lkdGg6MTAwJSAhaW1wb3J0YW50OwoJcG9zaXRpb246cmVsYXRpdmUgIWltcG9y'));
	@fwrite($fp, base64_decode('dGFudDsKCXdoaXRlLXNwYWNlOiBub3dyYXA7Cn0KCmJvZHksICNmcmFtZXMgewoJd2lkdGg6MTAwJTsKCWhlaWdodDoxMDAlOwp9Cgoud3JhcCB7CglvdmVyZmxvdy14OiBhdXRvOwoJbWFyZ2luOiAwIGF1dG87Cgl3aWR0aDoxMDAlOwp9CgouZ3JheV9mb290ZXJf'));
	@fwrite($fp, base64_decode('Zm9udCB7Cgljb2xvcjpncmF5OwoJZm9udC1zaXplOjAuOWVtOwp9CgpsYWJlbC5wYWRkaW5nX2xhYmVsIHsKCWZvbnQtd2VpZ2h0OiBub3JtYWwgIWltcG9ydGFudDsKCWRpc3BsYXk6IGlubGluZS1ibG9jazsKCWZsb2F0OiBsZWZ0OwoJY2xlYXI6IGxlZnQ7Cgl3'));
	@fwrite($fp, base64_decode('aWR0aDogMTAwcHg7Cgl0ZXh0LWFsaWduOiByaWdodDsKCXBhZGRpbmctdG9wOiAzcHg7CgltYXJnaW4tcmlnaHQ6IDhweDsKfQoKLmJveCB7Cgl3aWR0aDphdXRvICFpbXBvcnRhbnQ7CglwYWRkaW5nOjIwcHg7CgliYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Cglib3Jk'));
	@fwrite($fp, base64_decode('ZXI6MXB4IHNvbGlkICNjY2M7Cglib3JkZXItcmFkaXVzOjVweDsKCW1hcmdpbi10b3A6MTBweDsKfQojdGl0bGVlZGl0IHsKCXdpZHRoOjEwMCU7Cn0KI3N5c3RlbV90aXRsZV8xIHsKCWNvbG9yOiMyRDZBOUY7CgltYXJnaW4tbGVmdDo1cHg7Cn0KI3N5c3RlbV90'));
	@fwrite($fp, base64_decode('aXRsZV8yIHsKCWNvbG9yOiMyQjMzNkY7Cglmb250LXNpemU6MmVtOwoJbWFyZ2luLWxlZnQ6NXB4Owp9CgovKiBNb2JpbGUgbWVudSBidXR0b24gKi8KCiNiYXIxLCAjYmFyMiwgI2JhcjMgewoJd2lkdGg6IDI3cHg7CgloZWlnaHQ6IDVweDsKCWJhY2tncm91bmQt'));
	@fwrite($fp, base64_decode('Y29sb3I6IG9yYW5nZTsKCW1hcmdpbjogNnB4IDA7Cgl0cmFuc2l0aW9uOiAwLjRzOwoJbWFyZ2luLWxlZnQ6MTRweDsKfQoKI3N5c3RlbV90aXRsZV9tZW51LmFjdGl2ZSB7CgliYWNrZ3JvdW5kLWNvbG9yOm9yYW5nZTsKfQoKLmFjdGl2ZSAjYmFyMSB7Cgktd2Vi'));
	@fwrite($fp, base64_decode('a2l0LXRyYW5zZm9ybTogcm90YXRlKC00NWRlZykgdHJhbnNsYXRlKC03LjVweCwgNy41cHgpOwoJdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKSB0cmFuc2xhdGUoLTcuNXB4LCA3LjVweCk7CgliYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKfQoKLmFjdGl2ZSAjYmFy'));
	@fwrite($fp, base64_decode('MiB7CglvcGFjaXR5OiAwOwoJYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7Cn0KCi5hY3RpdmUgI2JhcjMgewoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZykgdHJhbnNsYXRlKC04cHgsIC04cHgpOwoJdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpIHRyYW5z'));
	@fwrite($fp, base64_decode('bGF0ZSgtOHB4LCAtOHB4KTsKCWJhY2tncm91bmQtY29sb3I6IGJsYWNrOwp9CgouaG92ZXIgI2JhcjEsIC5ob3ZlciAjYmFyMiwgLmhvdmVyICNiYXIzIHsKCWJhY2tncm91bmQtY29sb3I6d2hpdGU7Cn0KCiNzeXN0ZW1fdGl0bGVfbWVudSB7Cgl3aWR0aDo1NXB4'));
	@fwrite($fp, base64_decode('OwoJaGVpZ2h0OjU1cHg7CglwYWRkaW5nLXRvcDo4cHg7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cglmb250LXNpemU6IDE5cHg7CglkaXNwbGF5OiBub25lOyAvKiB3aWxsIGJlIHNldCB0byAnYmxvY2snIGJ5IEphdmFTY3JpcHQgKi8KCWJhY2tncm91bmQtY29s'));
	@fwrite($fp, base64_decode('b3I6IGJsYWNrOwoJZmxvYXQ6bGVmdDsKCWN1cnNvcjogcG9pbnRlcjsKfQoKLyogVGl0bGUgYmFyICovCgojc3lzdGVtX3RpdGxlX2JhciB7CglsaW5lLWhlaWdodDoxLjc1ZW07CgoJaGVpZ2h0OjU1cHggIWltcG9ydGFudDsKCglmb250LXN0eWxlOml0YWxpYzsK'));
	@fwrite($fp, base64_decode('CWZvbnQtd2VpZ2h0OmJvbGRlcjsKCWZsb2F0OmxlZnQ7Cglib3JkZXItYm90dG9tOjFweDsKCgl3aWR0aDoxMDAlOyAvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KCXBhZGRpbmctbGVmdDo1cHg7LyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCglwYWRkaW5n'));
	@fwrite($fp, base64_decode('LXJpZ2h0OjVweDsvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KCglwYWRkaW5nLWxlZnQ6MHB4OwoJbWFyZ2luLWxlZnQ6MHB4OwoKCWRpc3BsYXk6YmxvY2s7CgoJLyogUGVybWFsaW5rIC0gdXNlIHRvIGVkaXQgYW5kIHNoYXJlIHRoaXMgZ3JhZGllbnQ6IGh0'));
	@fwrite($fp, base64_decode('dHA6Ly9jb2xvcnppbGxhLmNvbS9ncmFkaWVudC1lZGl0b3IvI2EwZDhlZiswLGRkZjFmOSs2NSxmZWZmZmYrMTAwICovCgliYWNrZ3JvdW5kOiAjYTBkOGVmOyAvKiBPbGQgYnJvd3NlcnMgKi8KCWJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGxlZnQs'));
	@fwrite($fp, base64_decode('ICNhMGQ4ZWYgMCUsICNkZGYxZjkgNjUlLCAjZmVmZmZmIDEwMCUpOyAvKiBGRjMuNi0xNSAqLwoJYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwgI2EwZDhlZiAwJSwjZGRmMWY5IDY1JSwjZmVmZmZmIDEwMCUpOyAvKiBDaHJvbWUxMC0y'));
	@fwrite($fp, base64_decode('NSxTYWZhcmk1LjEtNiAqLwoJYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCAjYTBkOGVmIDAlLCNkZGYxZjkgNjUlLCNmZWZmZmYgMTAwJSk7IC8qIFczQywgSUUxMCssIEZGMTYrLCBDaHJvbWUyNissIE9wZXJhMTIrLCBTYWZhcmk3KyAqLwoJ'));
	@fwrite($fp, base64_decode('ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoIHN0YXJ0Q29sb3JzdHI9JyNhMGQ4ZWYnLCBlbmRDb2xvcnN0cj0nI2ZlZmZmZicsR3JhZGllbnRUeXBlPTEgKTsgLyogSUU2LTkgKi8KCglvdmVyZmxvdzpoaWRkZW47Cn0K'));
	@fwrite($fp, base64_decode('I3N5c3RlbV90aXRsZV9iYXIgYTpob3ZlciwgI3N5c3RlbV90aXRsZV9iYXIgYTphY3RpdmUsICNzeXN0ZW1fdGl0bGVfYmFyIGE6Zm9jdXMsICNzeXN0ZW1fdGl0bGVfYmFyIGE6dmlzaXRlZCwgI3N5c3RlbV90aXRsZV9iYXIgYTpsaW5rIHsKCXRleHQtZGVjb3Jh'));
	@fwrite($fp, base64_decode('dGlvbjpub25lOwp9CgovKiBPSUQtVHJlZSAqLwoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA4MDBweCkgewoJLyogTW9iaWxlICovCgoJI2NvbnRlbnRfd2luZG93IHsKCQlwYWRkaW5nLWxlZnQ6MTZweDsKCQlwYWRkaW5nLXRvcDowcHg7Cgl9'));
	@fwrite($fp, base64_decode('Cgp9CkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDogODAxcHgpIHsKCS8qIERlc2t0b3AgKi8KCgkjb2lkdHJlZSB7CgkJcG9zaXRpb246YWJzb2x1dGU7CgkJbGVmdDowcHg7CgkJYm90dG9tOjBweDsKCQl0b3A6NTVweDsgLyogcmVxdWlyZWQgZm9y'));
	@fwrite($fp, base64_decode('IE5vU2NyaXB0ICovCgkJd2lkdGg6NDAwcHg7IC8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAqLwoJCXBhZGRpbmctdG9wOjVweDsKCQl3aGl0ZS1zcGFjZTpub3dyYXA7IC8qIHJlcXVpcmVkIGZvciBOb1NjcmlwdCAqLwoJCW92ZXJmbG93OnNjcm9sbDsgLyogcmVx'));
	@fwrite($fp, base64_decode('dWlyZWQgZm9yIE5vU2NyaXB0ICovCgl9CgkKCSNjb250ZW50X3dpbmRvdyB7CgkJcG9zaXRpb246YWJzb2x1dGU7CgkJbGVmdDo0MDBweDsKCQlyaWdodDowcHg7CgkJYm90dG9tOjBweDsKCQl0b3A6NTVweDsgLyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCgkJ'));
	@fwrite($fp, base64_decode('cGFkZGluZy1sZWZ0OjIwcHg7CgkJcGFkZGluZy1yaWdodDoyMHB4OwoJfQp9Cgojb2lkdHJlZSB7CglwYWRkaW5nLXRvcDo1cHggIWltcG9ydGFudDsKCXBhZGRpbmctbGVmdDo1cHg7LyogcmVxdWlyZWQgZm9yIE5vU2NyaXB0ICovCglwYWRkaW5nLXJpZ2h0OjVw'));
	@fwrite($fp, base64_decode('eDsvKiByZXF1aXJlZCBmb3IgTm9TY3JpcHQgKi8KfQoKaHRtbCB7CgltYXJnaW46MDsKCXBhZGRpbmc6MDsKCWhlaWdodDoxMDAlOwoJZm9udC1mYW1pbHk6SGVsdmV0aWNhOwp9CmJvZHkgewoJbWFyZ2luOjBweDsKCXBhZGRpbmc6MHB4OwoJZm9udC1zaXplOjAu'));
	@fwrite($fp, base64_decode('ODVlbTsKCWhlaWdodDoxMDAlOwp9CgpAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDgwMXB4KSB7CgkvKiBEZXNrdG9wICovCglib2R5IHsKCQlvdmVyZmxvdzpoaWRkZW47Cgl9CgkuYm9yZGVyYm94IHsKCQlib3JkZXI6MXB4IHNvbGlkIHNpbHZl'));
	@fwrite($fp, base64_decode('cjsKCX0KfQoKLmJvcmRlcmJveCB7CglvdmVyZmxvdzphdXRvOwp9CgpoMSB7Cglmb250LXNpemU6MS44ZW07Cn0KaDIgewoJZm9udC1zaXplOjEuNmVtICFpbXBvcnRhbnQ7Cn0KCi8qKgogKglTcGxpdHRlciAvIHVpTGF5b3V0CiAqLwoudWktbGF5b3V0LXBhbmUg'));
	@fwrite($fp, base64_decode('eyAvKiBhbGwgJ3BhbmVzJyAqLwoJYm9yZGVyOiAxcHggc29saWQgI0JCQjsKfQoudWktbGF5b3V0LXBhbmUtY2VudGVyIHsgLyogY29udGVudCBib2R5ICovCglwYWRkaW5nOiAwOwoJbWFyZ2luOiAgMDsKfQoudWktbGF5b3V0LXBhbmUtd2VzdCB7IC8qIHdlc3Qg'));
	@fwrite($fp, base64_decode('cGFuZSAqLwoJcGFkZGluZzogMCAxMHB4OwoJYmFja2dyb3VuZC1jb2xvcjogI2Y5ZjlmOSAhaW1wb3J0YW50OwoJb3ZlcmZsb3c6IGF1dG87Cn0KLnVpLWxheW91dC1yZXNpemVyIHsgLyogYWxsICdyZXNpemVyLWJhcnMnICovCgliYWNrZ3JvdW5kOiAjREREOwoJ'));
	@fwrite($fp, base64_decode('dG9wOjU1cHggIWltcG9ydGFudDsgLyogRE0gMTMuMDMuMjAxOSAqLwp9Ci51aS1sYXlvdXQtcmVzaXplci1vcGVuOmhvdmVyIHsgLyogbW91c2Utb3ZlciAqLwoJYmFja2dyb3VuZDogIzlEOTsKfQoudWktbGF5b3V0LXJlc2l6ZXItbm9ydGggewoJYmFja2dyb3Vu'));
	@fwrite($fp, base64_decode('ZDojMmIzMzZmICFpbXBvcnRhbnQ7Cgl6LWluZGV4OjEwICFpbXBvcnRhbnQ7IC8qIERNIDEzLjAzLjIwMTkgKi8KfQoudWktbGF5b3V0LXRvZ2dsZXIgeyAvKiBhbGwgJ3RvZ2dsZXItYnV0dG9ucycgKi8KCWJhY2tncm91bmQ6ICNBQUE7Cgl9Ci51aS1sYXlvdXQt'));
	@fwrite($fp, base64_decode('dG9nZ2xlci1jbG9zZWQgeyAvKiBjbG9zZWQgdG9nZ2xlci1idXR0b24gKi8KCWJhY2tncm91bmQ6ICNDQ0M7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgI0JCQjsKfQoudWktbGF5b3V0LXRvZ2dsZXIgLmNvbnRlbnQgeyAvKiB0b2dnbGVyLXRleHQgKi8KCWZv'));
	@fwrite($fp, base64_decode('bnQ6IDE0cHggYm9sZCBWZXJkYW5hLCBWZXJkYW5hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwp9Ci51aS1sYXlvdXQtdG9nZ2xlcjpob3ZlciB7IC8qIG1vdXNlLW92ZXIgKi8KCWJhY2tncm91bmQ6ICNEQ0E7Cn0KLnVpLWxheW91dC10b2dnbGVyOmhv'));
	@fwrite($fp, base64_decode('dmVyIC5jb250ZW50IHsgLyogbW91c2Utb3ZlciAqLwoJY29sb3I6ICMwMDk7Cn0KCi8qIG1hc2tzIGFyZSB1c3VhbGx5IHRyYW5zcGFyZW50IC0gbWFrZSB0aGVtIHZpc2libGUgKG11c3QgJ292ZXJyaWRlJyBkZWZhdWx0KSAqLwoudWktbGF5b3V0LW1hc2sgewoJ'));
	@fwrite($fp, base64_decode('YmFja2dyb3VuZDogI0MwMCAhaW1wb3J0YW50OwoJb3BhY2l0eTogLjIwICFpbXBvcnRhbnQ7CglmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MjApICFpbXBvcnRhbnQ7Cn0KCi8qIFRhYnMgKi8KCiNsb2dpblRhYiAudGFiLWNvbnRlbnQgewoJY29sb3I6IGJsYWNrOwoJ'));
	@fwrite($fp, base64_decode('YmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTsKCXBhZGRpbmcgOiA1cHggMTVweDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMgPiBsaSA+IGEgewoJYm9yZGVyLXJhZGl1czogMDsKfQoKI2xvZ2luVGFiIC5uYXYtcGlsbHMgPiBsaS5hY3RpdmUgPiBhIHsKCWNvbG9y'));
	@fwrite($fp, base64_decode('OiBibGFjazsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTsKfQo='));
	@fclose($fp);
}
if (!is_file('oidplus.css')) {
	warn('File has vanished! Will re-create it: oidplus.css');
	writefile_3();
	if (!is_file('oidplus.css')) {
		warn('File cannot be created (not existing): oidplus.css');
	} else if (sha1_file('oidplus.css') != 'c73aa9e9acfc1d7d7925783eff5f828ed924ed23') {
		warn('File cannot be created (checksum mismatch): oidplus.css');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.css', 0644)) {
		warn('Could not change file permissions of oidplus.css');
	}
} else {
	if (@sha1_file('oidplus.css') !== 'c73aa9e9acfc1d7d7925783eff5f828ed924ed23') {
		if (@sha1_file('oidplus.css') !== '849652a1617bf7b708fac2f42911216b93b87db0') {
			warn('File was modified. Will overwrite the changes now: oidplus.css');
			$tmp = pathinfo('oidplus.css');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.css')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.css', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('oidplus.css') !== 'c73aa9e9acfc1d7d7925783eff5f828ed924ed23') {
			warn('File cannot be written (checksum mismatch): oidplus.css');
		}
	}
}

// Files different: oidplus.js
function writefile_4() {
	@$fp = fopen('oidplus.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgovLyAkKCcjaHRtbCcpLmpzdHJlZSgpOwoKY3VycmVudF9ub2RlID0gIiI7CnBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKClN0cmluZy5wcm90b3R5cGUuZXhwbG9k'));
	@fwrite($fp, base64_decode('ZSA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7CgkvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy80NTE0MzIzL2phdmFzY3JpcHQtZXF1aXZhbGVudC10by1waHAtZXhwbG9kZQoJY29uc3QgYXJyYXkgPSB0aGlzLnNwbGl0KHNlcGFy'));
	@fwrite($fp, base64_decode('YXRvcik7CglpZiAobGltaXQgIT09IHVuZGVmaW5lZCAmJiBhcnJheS5sZW5ndGggPj0gbGltaXQpIHsKCQlhcnJheS5wdXNoKGFycmF5LnNwbGljZShsaW1pdCAtIDEpLmpvaW4oc2VwYXJhdG9yKSk7Cgl9CglyZXR1cm4gYXJyYXk7Cn07CgpTdHJpbmcucHJvdG90'));
	@fwrite($fp, base64_decode('eXBlLmh0bWxlbnRpdGllcyA9IGZ1bmN0aW9uICgpIHsKCXJldHVybiB0aGlzLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoLz4vZywgJyZndDsnKS5yZXBsYWNlKC8iL2csICcmcXVvdDsnKTsKfTsKClN0cmluZy5w'));
	@fwrite($fp, base64_decode('cm90b3R5cGUuaHRtbF9lbnRpdHlfZGVjb2RlID0gZnVuY3Rpb24gKCkgewoJcmV0dXJuICQoJzx0ZXh0YXJlYSAvPicpLmh0bWwodGhpcykudGV4dCgpOwp9OwoKZnVuY3Rpb24gZ2V0TWV0YShtZXRhTmFtZSkgewoJY29uc3QgbWV0YXMgPSBkb2N1bWVudC5nZXRF'));
	@fwrite($fp, base64_decode('bGVtZW50c0J5VGFnTmFtZSgnbWV0YScpOwoKCWZvciAobGV0IGkgPSAwOyBpIDwgbWV0YXMubGVuZ3RoOyBpKyspIHsKCQlpZiAobWV0YXNbaV0uZ2V0QXR0cmlidXRlKCduYW1lJykgPT09IG1ldGFOYW1lKSB7CgkJCXJldHVybiBtZXRhc1tpXS5nZXRBdHRyaWJ1'));
	@fwrite($fp, base64_decode('dGUoJ2NvbnRlbnQnKTsKCQl9Cgl9CgoJcmV0dXJuICcnOwp9CgpmdW5jdGlvbiBnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSB7CglyZXR1cm4gZ2V0TWV0YSgnT0lEcGx1cy1TeXN0ZW1UaXRsZScpCn0KCmZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3Bh'));
	@fwrite($fp, base64_decode('Z2V0aXRsZShzeXN0ZW10aXRsZSwgcGFnZXRpdGxlKSB7CglpZiAoc3lzdGVtdGl0bGUgPT0gcGFnZXRpdGxlKSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlOwoJfSBlbHNlIHsKCQlyZXR1cm4gc3lzdGVtdGl0bGUgKyAnIC0gJyArIHBhZ2V0aXRsZTsKCX0KfQoKZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gZ2V0VHJlZUxvYWRVUkwoKSB7Cgl2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7Cgl2YXIgZ290byA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJnb3RvIik7CglyZXR1cm4gKGdvdG8gIT0gbnVsbCkgPyAiYWpheC5waHA/YWN0aW9u'));
	@fwrite($fp, base64_decode('PXRyZWVfbG9hZCZnb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pCgkgICAgICAgICAgICAgICAgICAgICAgOiAiYWpheC5waHA/YWN0aW9uPXRyZWVfbG9hZCI7Cn0KCmZ1bmN0aW9uIHJlbG9hZENvbnRlbnQoKSB7CgkvLyBkb2N1bWVudC5sb2NhdGlvbiA9'));
	@fwrite($fp, base64_decode('ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChjdXJyZW50X25vZGUpOwoJb3Blbk9pZEluUGFuZWwoY3VycmVudF9ub2RlLCBmYWxzZSk7CgkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwp9CgpmdW5jdGlvbiB4X3JlYyh4X2RhdGEsIGkpIHsKCSQo'));
	@fwrite($fp, base64_decode('JyNvaWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUnLCB4X2RhdGFbaV0sIGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQlpZiAoaSsxIDwgeF9kYXRhLmxlbmd0aCkgewoJCQl4X3JlYyh4X2RhdGEsIGkrMSk7CgkJfSBlbHNlIHsKCQkJcG9wc3RhdGVfcnVubmluZyA9IHRy'));
	@fwrite($fp, base64_decode('dWU7IC8vIGRvbid0IGNhbGwgb3Blbk9pZEluUGFuZWwgYWdhaW4KCQkJdHJ5IHsKCQkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIHhfZGF0YVtpXSk7CgkJCX0gY2F0Y2ggKGVycikgewoJCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CQl9IGZpbmFsbHkgewoJCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIG9wZW5PaWRJblBhbmVsKGlkLCByZXNlbGVjdD1mYWxzZSkgewoJaWYgKHJlc2VsZWN0KSB7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rl'));
	@fwrite($fp, base64_decode('c2VsZWN0X2FsbCcpOwoKCQlwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsgLy8gZG9uJ3QgY2FsbCBvcGVuT2lkSW5QYW5lbCBkdXJpbmcgdHJlZSBzZWxlY3Rpb24KCQl0cnkgewoJCQkvLyBJZiB0aGUgbm9kZSBpcyBhbHJlYWR5IGxvYWRlZCBpbiB0aGUgdHJlZSwg'));
	@fwrite($fp, base64_decode('c2VsZWN0IGl0CgkJCWlmICghJCgnI29pZHRyZWUnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywgaWQpKSB7CgkJCQkvLyBJZiB0aGUgbm9kZSBpcyBub3QgbG9hZGVkLCB0aGVuIHdlIHRyeSB0byBzZWFyY2ggaXQuCgkJCQkvLyBJZiBpdCBjYW4gYmUgZm91bmQsIHRo'));
	@fwrite($fp, base64_decode('ZW4gb3BlbiBhbGwgcGFyZW50IG5vZGVzIGFuZCBzZWxlY3QgdGhlIG5vZGUKCQkJCSQuYWpheCh7CgkJCQkJdXJsOiJhamF4LnBocCIsCgkJCQkJbWV0aG9kOiJQT1NUIiwKCQkJCQlkYXRhOnsKCQkJCQkJYWN0aW9uOiJ0cmVlX3NlYXJjaCIsCgkJCQkJCXNlYXJj'));
	@fwrite($fp, base64_decode('aDppZAoJCQkJCX0sCgkJCQkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCQkJCWNvbnNvbGUuZXJyb3IoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCQkJCX0sCgkJCQkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCQkJCWNvbnNvbGUuZXJyb3IoZGF0YSk7CgkJCQkJCX0gZWxzZSBpZiAoKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkgJiYgKGRhdGEubGVuZ3RoID4gMCkpIHsKCQkJCQkJCXhfcmVjKGRhdGEsIDApOwoJCQkJ'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgewoJCQkJCQkJY29uc29sZS5lcnJvcihkYXRhKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0pOwoJCQl9CgkJfSBjYXRjaCAoZXJyKSB7CgkJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCQl9IGZpbmFsbHkgewoJCQlwb3BzdGF0ZV9ydW5uaW5nID0g'));
	@fwrite($fp, base64_decode('ZmFsc2U7CgkJfQoJfQoKCS8vIFRoaXMgbG9hZHMgdGhlIGFjdHVhbCBjb250ZW50CgoJZG9jdW1lbnQudGl0bGUgPSAiIjsKCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgiJm5ic3A7Iik7CgkkKCcjcmVhbF9jb250ZW50JykuaHRtbCgiTG9hZGluZy4uLiIpOwoJJCgn'));
	@fwrite($fp, base64_decode('I3N0YXRpY19saW5rJykuYXR0cigiaHJlZiIsICJpbmRleC5waHA/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCkpOwoKCS8vIE5vcm1hbCBvcGVuaW5nIG9mIGEgZGVzY3JpcHRpb24KCWZldGNoKCdhamF4LnBocD9hY3Rpb249Z2V0X2Rlc2NyaXB0aW9uJmlk'));
	@fwrite($fp, base64_decode('PScrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSkKCS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJcmVzcG9uc2UuanNvbigpCgkJLnRoZW4oZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRmFpbGVkIHRvIGxvYWQg'));
	@fwrite($fp, base64_decode('Y29udGVudDogIiArIGRhdGEuZXJyb3IpOwoJCQkJY29uc29sZS5lcnJvcihkYXRhLmVycm9yKTsKCQkJCXJldHVybjsKCQkJfQoKCQkJZGF0YS5pZCA9IGlkOwoKCQkJZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUoZ2V0'));
	@fwrite($fp, base64_decode('T2lkUGx1c1N5c3RlbVRpdGxlKCksIGRhdGEudGl0bGUpOwoJCQl2YXIgc3RhdGUgPSB7CgkJCQkibm9kZV9pZCI6aWQsCgkJCQkidGl0bGVIVE1MIjooZGF0YS5pY29uID8gJzxpbWcgc3JjPSInK2RhdGEuaWNvbisnIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFs'));
	@fwrite($fp, base64_decode('dD0iJytkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKyciPiAnIDogJycpICsgZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSwKCQkJCSJ0ZXh0SFRNTCI6ZGF0YS50ZXh0LAoJCQkJInN0YXRpY2xpbmtIUkVGIjoiaW5kZXgucGhwP2dvdG89IitlbmNvZGVVUklDb21w'));
	@fwrite($fp, base64_decode('b25lbnQoaWQpLAoJCQl9OwoJCQlpZiAoY3VycmVudF9ub2RlICE9IGlkKSB7CgkJCQl3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoc3RhdGUsIGRhdGEudGl0bGUsICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCkpOwoJCQl9IGVsc2UgewoJCQkJd2luZG93'));
	@fwrite($fp, base64_decode('Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCBkYXRhLnRpdGxlLCAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoaWQpKTsKCQkJfQoKCQkJaWYgKGRhdGEuaWNvbikgewoJCQkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKCc8aW1nIHNyYz0iJytkYXRhLmljb24r'));
	@fwrite($fp, base64_decode('JyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IicrZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSsnIj4gJyArIGRhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkpOwoJCQl9IGVsc2UgewoJCQkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKGRhdGEudGl0bGUuaHRtbGVu'));
	@fwrite($fp, base64_decode('dGl0aWVzKCkpOwoJCQl9CgkJCSQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKGRhdGEudGV4dCk7CgkJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlKTsKCQkJ'));
	@fwrite($fp, base64_decode('Y3VycmVudF9ub2RlID0gaWQ7CgkJfSkKCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQkJYWxlcnQoIkZhaWxlZCB0byBsb2FkIGNvbnRlbnQ6ICIgKyBlcnJvcik7CgkJCWNvbnNvbGUuZXJyb3IoZXJyb3IpOwoJCX0pOwoJfSkKCS5jYXRjaChmdW5jdGlvbihl'));
	@fwrite($fp, base64_decode('cnJvcikgewoJCWFsZXJ0KCJGYWlsZWQgdG8gbG9hZCBjb250ZW50OiAiICsgZXJyb3IpOwoJCWNvbnNvbGUuZXJyb3IoZXJyb3IpOwoJfSk7Cn0KCmZ1bmN0aW9uIHVwZGF0ZURlc2MoKSB7CgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9T'));
	@fwrite($fp, base64_decode('VCIsCgkJZGF0YTogewoJCQlhY3Rpb246IlVwZGF0ZTIiLAoJCQlpZDpjdXJyZW50X25vZGUsCgkJCXRpdGxlOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykudmFsdWUgOiBu'));
	@fwrite($fp, base64_decode('dWxsKSwKCQkJLy9kZXNjcmlwdGlvbjooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rlc2NyaXB0aW9uJykgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVzY3JpcHRpb24nKS52YWx1ZSA6IG51bGwpCgkJCWRlc2NyaXB0aW9uOnRpbnlNQ0UuZ2V0KCdkZXNj'));
	@fwrite($fp, base64_decode('cmlwdGlvbicpLmdldENvbnRlbnQoKQoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiVXBkYXRlIE9LIik7CgkJCQkvL3JlbG9hZENvbnRlbnQoKTsKCQkJCSQoJyNvaWR0'));
	@fwrite($fp, base64_decode('cmVlJykuanN0cmVlKCJyZWZyZXNoIik7CgkJCQl2YXIgaDFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImgxIik7CgkJCQlmb3IgKHZhciBpID0gMDsgaSA8IGgxcy5sZW5ndGg7IGkrKykgewoJCQkJCXZhciBoMSA9IGgxc1tpXTsKCQkJCQloMS5p'));
	@fwrite($fp, base64_decode('bm5lckhUTUwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGl0bGVlZGl0JykudmFsdWUuaHRtbGVudGl0aWVzKCk7CgkJCQl9CgkJCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShnZXRPaWRQbHVzU3lzdGVtVGl0'));
	@fwrite($fp, base64_decode('bGUoKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlZWRpdCcpLnZhbHVlKTsKCgkJCQl2YXIgbWNlID0gdGlueW1jZS5nZXQoJ2Rlc2NyaXB0aW9uJyk7CgkJCQlpZiAobWNlICE9IG51bGwpIG1jZS5pc05vdERpcnR5ID0gMTsKCQkJfSBlbHNlIHsKCQkJ'));
	@fwrite($fp, base64_decode('CWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGNydWRBY3Rpb25TZW5kSW52aXRhdGlvbihvcmlnaW4sIGVtYWlsKSB7CgkvLyBkb2N1bWVudC5sb2NhdGlvbiA9ICI/Z290bz1vaWRwbHVzOmludml0ZV9yYSQi'));
	@fwrite($fp, base64_decode('K2VuY29kZVVSSUNvbXBvbmVudChlbWFpbCkrIiQiK2VuY29kZVVSSUNvbXBvbmVudChvcmlnaW4pOwoJb3Blbk9pZEluUGFuZWwoJ29pZHBsdXM6aW52aXRlX3JhJCcrZW1haWwrJyQnK29yaWdpbiwgZmFsc2UpOwp9CgpmdW5jdGlvbiBjcnVkQWN0aW9uSW5zZXJ0'));
	@fwrite($fp, base64_decode('KHBhcmVudCkgewoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwKCQltZXRob2Q6IlBPU1QiLAoJCWRhdGE6ewoJCQlhY3Rpb246Ikluc2VydCIsCgkJCWlkOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpZCcpLnZhbHVlLAoJCQlyYV9lbWFpbDpkb2N1bWVudC5n'));
	@fwrite($fp, base64_decode('ZXRFbGVtZW50QnlJZCgncmFfZW1haWwnKS52YWx1ZSwKCQkJYXNuMWlkczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzbjFpZHMnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhc24xaWRzJykudmFsdWUgOiBudWxsKSwKCQkJaXJpczooZG9jdW1lbnQu'));
	@fwrite($fp, base64_decode('Z2V0RWxlbWVudEJ5SWQoJ2lyaXMnKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzJykudmFsdWUgOiBudWxsKSwKCQkJY29uZmlkZW50aWFsOihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZScpID8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hp'));
	@fwrite($fp, base64_decode('ZGUnKS5jaGVja2VkIDogbnVsbCksCgkJCXBhcmVudDpwYXJlbnQKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlzdWNjZXNzOmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJLy9hbGVydCgiSW5zZXJ0IE9LIik7CgkJCQlyZWxvYWRDb250ZW50'));
	@fwrite($fp, base64_decode('KCk7CgkJCQkvLyBUT0RPOiBhdWYgcmVsb2FkQ29udGVudCgpIHZlcnppY2h0ZW4uIHN0YXR0ZGVzc2VuIG51ciB0cmVlIGxpbmtzIGFrdHVhbGlzaWVyZW4sIHVuZCByZWNodHMgZWluZSBuZXVlIHplaWxlIHp1ciB0YWJlbGxlIGhpbnp1ZvxnZW4KCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IGlmIChkYXRhLnN0YXR1cyA9PSAxKSB7CgkJCQlpZiAoY29uZmlybSgiVXBkYXRlIE9LLiBIb3dldmVyLCB0aGUgZW1haWwgYWRkcmVzcyB5b3UgaGF2ZSBlbnRlcmVkICgiK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbCcpLnZhbHVlKyIpIGlzIG5v'));
	@fwrite($fp, base64_decode('dCBpbiBvdXIgc3lzdGVtLiBEbyB5b3Ugd2FudCB0byBzZW5kIGFuIGludml0YXRpb24sIHNvIHRoYXQgdGhlIFJBIGNhbiByZWdpc3RlciBhbiBhY2NvdW50IHRvIG1hbmFnZSB0aGVpciBPSURzPyIpKSB7CgkJCQkJY3J1ZEFjdGlvblNlbmRJbnZpdGF0aW9uKHBh'));
	@fwrite($fp, base64_decode('cmVudCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhX2VtYWlsJykudmFsdWUpOwoJCQkJfSBlbHNlIHsKCQkJCQlyZWxvYWRDb250ZW50KCk7CgkJCQkJLy8gVE9ETzogYXVmIHJlbG9hZENvbnRlbnQoKSB2ZXJ6aWNodGVuLiBzdGF0dGRlc3NlbiBudXIgdHJl'));
	@fwrite($fp, base64_decode('ZSBsaW5rcyBha3R1YWxpc2llcmVuLCB1bmQgcmVjaHRzIGVpbmUgbmV1ZSB6ZWlsZSB6dXIgdGFiZWxsZSBoaW56dWb8Z2VuCgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhKTsKCQkJfQoJCX0KCX0pOwp9CgpmdW5jdGlvbiBjcnVk'));
	@fwrite($fp, base64_decode('QWN0aW9uVXBkYXRlKGlkLCBwYXJlbnQpIHsKCSQuYWpheCh7CgkJdXJsOiJhamF4LnBocCIsCgkJbWV0aG9kOiJQT1NUIiwKCQlkYXRhOiB7CgkJCWFjdGlvbjoiVXBkYXRlIiwKCQkJaWQ6aWQsCgkJCXJhX2VtYWlsOmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdy'));
	@fwrite($fp, base64_decode('YV9lbWFpbF8nK2lkKS52YWx1ZSwKCQkJYXNuMWlkczooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FzbjFpZHNfJytpZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXNuMWlkc18nK2lkKS52YWx1ZSA6IG51bGwpLAoJCQlpcmlzOihkb2N1bWVudC5nZXRF'));
	@fwrite($fp, base64_decode('bGVtZW50QnlJZCgnaXJpc18nK2lkKSA/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpcmlzXycraWQpLnZhbHVlIDogbnVsbCksCgkJCWNvbmZpZGVudGlhbDooZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGVfJytpZCkgPyBkb2N1bWVudC5nZXRFbGVtZW50'));
	@fwrite($fp, base64_decode('QnlJZCgnaGlkZV8nK2lkKS5jaGVja2VkIDogbnVsbCksCgkJCXBhcmVudDpwYXJlbnQKCQl9LAoJCWVycm9yOmZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlhbGVydCgiRXJyb3I6ICIgKyBlcnJvclRocm93bik7CgkJfSwKCQlz'));
	@fwrite($fp, base64_decode('dWNjZXNzOmZ1bmN0aW9uKGRhdGEpIHsKCQkJaWYgKCJlcnJvciIgaW4gZGF0YSkgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0gZWxzZSBpZiAoZGF0YS5zdGF0dXMgPT0gMCkgewoJCQkJYWxlcnQoIlVwZGF0ZSBPSyIpOwoJCQkJLy8g'));
	@fwrite($fp, base64_decode('cmVsb2FkQ29udGVudCgpOwoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoInJlZnJlc2giKTsKCQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAxKSB7CgkJCQlpZiAoY29uZmlybSgiVXBkYXRlIE9LLiBIb3dldmVyLCB0aGUgZW1haWwgYWRkcmVzcyB5b3UgaGF2'));
	@fwrite($fp, base64_decode('ZSBlbnRlcmVkICgiK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbF8nK2lkKS52YWx1ZSsiKSBpcyBub3QgaW4gb3VyIHN5c3RlbS4gRG8geW91IHdhbnQgdG8gc2VuZCBhbiBpbnZpdGF0aW9uLCBzbyB0aGF0IHRoZSBSQSBjYW4gcmVnaXN0ZXIgYW4g'));
	@fwrite($fp, base64_decode('YWNjb3VudCB0byBtYW5hZ2UgdGhlaXIgT0lEcz8iKSkgewoJCQkJCWNydWRBY3Rpb25TZW5kSW52aXRhdGlvbihwYXJlbnQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYV9lbWFpbF8nK2lkKS52YWx1ZSk7CgkJCQl9IGVsc2UgewoJCQkJCS8vIHJlbG9hZENv'));
	@fwrite($fp, base64_decode('bnRlbnQoKTsKCQkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgicmVmcmVzaCIpOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YSk7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gY3J1ZEFjdGlvbkRlbGV0ZShpZCwgcGFyZW50KSB7'));
	@fwrite($fp, base64_decode('CglpZighd2luZG93LmNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB0aGF0IHlvdSB3YW50IHRvIGRlbGV0ZSAiK2lkKyI/IikpIHJldHVybiBmYWxzZTsKCgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246'));
	@fwrite($fp, base64_decode('IkRlbGV0ZSIsCgkJCWlkOmlkLAoJCQlwYXJlbnQ6cGFyZW50CgkJfSwKCQllcnJvcjpmdW5jdGlvbihqcVhIUiwgdGV4dFN0YXR1cywgZXJyb3JUaHJvd24pIHsKCQkJYWxlcnQoIkVycm9yOiAiICsgZXJyb3JUaHJvd24pOwoJCX0sCgkJc3VjY2VzczpmdW5jdGlv'));
	@fwrite($fp, base64_decode('bihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID09IDApIHsKCQkJCXJlbG9hZENvbnRlbnQoKTsKCQkJCS8vIFRPRE86IGF1ZiByZWxvYWRD'));
	@fwrite($fp, base64_decode('b250ZW50KCkgdmVyemljaHRlbi4gc3RhdHRkZXNzZW4gbnVyIHRyZWUgbGlua3MgYWt0dWFsaXNpZXJlbiwgdW5kIHJlY2h0cyBkaWUgemVpbGUgYXVzIGRlciB0YWJlbGxlIGz2c2NoZW4KCQkJfSBlbHNlIHsKCQkJCWFsZXJ0KCJFcnJvcjogIiArIGRhdGEuZXJy'));
	@fwrite($fp, base64_decode('b3IpOwoJCQl9CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIGRlbGV0ZVJhKGVtYWlsLCBnb3RvKSB7CglpZighd2luZG93LmNvbmZpcm0oIkFyZSB5b3UgcmVhbGx5IHN1cmUgdGhhdCB5b3Ugd2FudCB0byBkZWxldGUgIitlbWFpbCsiPyAoVGhlIE9JRHMgc3RheSBhY3Rp'));
	@fwrite($fp, base64_decode('dmUpIikpIHJldHVybiBmYWxzZTsKCgkkLmFqYXgoewoJCXVybDoiYWpheC5waHAiLAoJCW1ldGhvZDoiUE9TVCIsCgkJZGF0YTogewoJCQlhY3Rpb246ImRlbGV0ZV9yYSIsCgkJCWVtYWlsOmVtYWlsLAoJCX0sCgkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRT'));
	@fwrite($fp, base64_decode('dGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCWFsZXJ0KCJFcnJvcjogIiArIGVycm9yVGhyb3duKTsKCQl9LAoJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQlhbGVydCgiRXJyb3I6ICIgKyBkYXRhLmVycm9yKTsK'));
	@fwrite($fp, base64_decode('CQkJfSBlbHNlIGlmIChkYXRhLnN0YXR1cyA9PSAwKSB7CgkJCQlhbGVydCgiRG9uZS4iKTsKCQkJCWlmIChnb3RvICE9IG51bGwpIGRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pOwoJCQkJLy8gcmVsb2FkQ29udGVu'));
	@fwrite($fp, base64_decode('dCgpOwoJCQl9IGVsc2UgewoJCQkJYWxlcnQoIkVycm9yOiAiICsgZGF0YS5lcnJvcik7CgkJCX0KCQl9Cgl9KTsKfQoKLy8gVGhpcyBmdW5jdGlvbiBvcGVucyB0aGUgInBhcmVudElEIiBub2RlLCBhbmQgdGhlbiBzZWxlY3RzIHRoZSAiY2hpbGRJRCIgbm9kZSAo'));
	@fwrite($fp, base64_decode('d2hpY2ggc2hvdWxkIGJlIGJlbmVhdGggdGhlIHBhcmVudCBub2RlKQpmdW5jdGlvbiBvcGVuQW5kU2VsZWN0Tm9kZShjaGlsZElELCBwYXJlbnRJRCkgewoJaWYgKCQoJyNvaWR0cmVlJykuanN0cmVlKHRydWUpLmdldF9ub2RlKHBhcmVudElEKSkgewoJCSQoJyNv'));
	@fwrite($fp, base64_decode('aWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUnLCBwYXJlbnRJRCwgZnVuY3Rpb24oZSwgZGF0YSkgeyAvLyBvcGVuIHBhcmVudCBub2RlCgkJCWlmICgkKCcjb2lkdHJlZScpLmpzdHJlZSh0cnVlKS5nZXRfbm9kZShjaGlsZElEKSkgeyAvLyBpcyB0aGUgY2hpbGQg'));
	@fwrite($fp, base64_decode('dGhlcmU/CgkJCQkkKCcjb2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGNoaWxkSUQpOyAvLyBzZWxlY3QgaXQKCQkJfSBlbHNlIHsKCQkJCS8vIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29udGVudCBwYWdlIGNv'));
	@fwrite($fp, base64_decode('bnRhaW5zIGJyYW5kIG5ldyBpdGVtcyB3aGljaCBhcmUgbm90IGluIHRoZSB0cmVldmlldyB5ZXQKCQkJCWRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNoaWxkSUQpOwoJCQl9CgkJfSwgdHJ1ZSk7Cgl9IGVsc2UgewoJCS8v'));
	@fwrite($fp, base64_decode('IFRoaXMgc2hvdWxkIHVzdWFsbHkgbm90IGhhcHBlbgoJCWRvY3VtZW50LmxvY2F0aW9uID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNoaWxkSUQpOwoJfQp9CgokKHdpbmRvdykub24oInBvcHN0YXRlIiwgZnVuY3Rpb24oZSkgewoJcG9wc3RhdGVfcnVu'));
	@fwrite($fp, base64_decode('bmluZyA9IHRydWU7Cgl0cnkgewoJCXZhciBkYXRhID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlOwoKCQljdXJyZW50X25vZGUgPSBkYXRhLm5vZGVfaWQ7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBk'));
	@fwrite($fp, base64_decode('YXRhLm5vZGVfaWQpOwoJCSQoJyNyZWFsX3RpdGxlJykuaHRtbChkYXRhLnRpdGxlSFRNTCk7CgkJJCgnI3JlYWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0SFRNTCk7CgkJJCgnI3N0YXRpY19saW5rJykuYXR0cigiaHJlZiIsIGRhdGEuc3RhdGljbGlua0hSRUYp'));
	@fwrite($fp, base64_decode('OwoJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlSFRNTC5odG1sX2VudGl0eV9kZWNvZGUoKSk7Cgl9IGNhdGNoIChlcnIpIHsKCQlwb3BzdGF0ZV9ydW5u'));
	@fwrite($fp, base64_decode('aW5nID0gZmFsc2U7Cgl9IGZpbmFsbHkgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCX0KfSk7CgokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CgkvLyAtLS0gSnNUcmVlCgoJJCgnI29pZHRyZWUnKQoJLmpzdHJlZSh7CgkJcGx1Z2luczogWydt'));
	@fwrite($fp, base64_decode('YXNzbG9hZCcsJ3NlYXJjaCcsJ2NvbmRpdGlvbmFsc2VsZWN0J10sCgkJJ2NvcmUnIDogewoJCQknZGF0YScgOiB7CgkJCQkidXJsIiA6IGdldFRyZWVMb2FkVVJMKCksCgkJCQkiZGF0YSIgOiBmdW5jdGlvbiAobm9kZSkgewoJCQkJCXJldHVybiB7ICJpZCIgOiBu'));
	@fwrite($fp, base64_decode('b2RlLmlkIH07CgkJCQl9CgkJCX0sCgkJCSJtdWx0aXBsZSI6IGZhbHNlCgkJfSwKCQknY29uZGl0aW9uYWxzZWxlY3QnIDogZnVuY3Rpb24gKG5vZGUpIHsKCQkJaWYgKG5vZGUub3JpZ2luYWwuY29uZGl0aW9uYWxzZWxlY3QgIT09IHVuZGVmaW5lZCkgewoJCQkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuIGV2YWwobm9kZS5vcmlnaW5hbC5jb25kaXRpb25hbHNlbGVjdCk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gdHJ1ZTsgLy8gYWxsb3cgc2VsZWN0CgkJCX0KCQl9LAoJfSkKCS5vbigncmVhZHkuanN0cmVlJywgZnVuY3Rpb24gKGUsIGRhdGEpIHsKCQl2'));
	@fwrite($fp, base64_decode('YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CgkJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJCWlmIChnb3RvID09IG51bGwpIGdvdG8gPSAib2lkcGx1czpzeXN0ZW0iOyAvLyB0aGUgcGFnZSB3YXMgbm90IGNh'));
	@fwrite($fp, base64_decode('bGxlZCB3aXRoID9nb3RvPS4uLgoKCQkvLyBCeSBzZXR0aW5nIGN1cnJlbnRfbm9kZSwgc2VsZWN0X25vZGUoKSB3aWxsIG5vdCBjYXVzZSBhamF4LnBocD9hY3Rpb249Z2V0X2Rlc2NyaXB0aW9uIHRvIGxvYWQgKHNpbmNlIHdlIGFscmVhZHkgbG9hZGVkIHRoZSBm'));
	@fwrite($fp, base64_decode('aXJzdCBzdGF0aWMgY29udGVudCB2aWEgUEhQLCBmb3Igc2VhcmNoIGVuZ2luZXMgbWFpbmx5KQoJCS8vIEJ1dCB0aGVuIHdlIG5lZWQgdG8gc2V0IHRoZSBoaXN0b3J5IHN0YXRlIG1hbnVhbGx5CgkJY3VycmVudF9ub2RlID0gZ290bzsKCQl3aW5kb3cuaGlzdG9y'));
	@fwrite($fp, base64_decode('eS5yZXBsYWNlU3RhdGUoewoJCQkibm9kZV9pZCI6Z290bywKCQkJInRpdGxlSFRNTCI6JCgnI3JlYWxfdGl0bGUnKS5odG1sKCksCgkJCSJ0ZXh0SFRNTCI6JCgnI3JlYWxfY29udGVudCcpLmh0bWwoKSwKCQkJInN0YXRpY2xpbmtIUkVGIjoiaW5kZXgucGhwP2dv'));
	@fwrite($fp, base64_decode('dG89IitlbmNvZGVVUklDb21wb25lbnQoZ290byksCgkJfSwgJCgnI3JlYWxfdGl0bGUnKS5odG1sKCksICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChnb3RvKSk7CgoJCWlmIChnb3RvICE9IG51bGwpIGRhdGEuaW5zdGFuY2Uuc2VsZWN0X25vZGUoW2dvdG9d'));
	@fwrite($fp, base64_decode('KTsKCX0pCgkub24oJ3NlbGVjdF9ub2RlLmpzdHJlZScsIGZ1bmN0aW9uIChub2RlLCBzZWxlY3RlZCwgZXZlbnQpIHsKCQltb2JpbGVOYXZDbG9zZSgpOwoKCQl2YXIgaWQgPSBzZWxlY3RlZC5ub2RlLmlkOwoJCWlmICgoIXBvcHN0YXRlX3J1bm5pbmcpICYmIChj'));
	@fwrite($fp, base64_decode('dXJyZW50X25vZGUgIT0gaWQpKSB7CgkJCW9wZW5PaWRJblBhbmVsKGlkLCBmYWxzZSk7CgkJfQoJfSk7CgoJLy8gLS0tIExheW91dAoKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeXN0ZW1fdGl0bGVfbWVudScpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoK'));
	@fwrite($fp, base64_decode('CSQoJyNvaWR0cmVlJykuYWRkQ2xhc3MoJ3VpLWxheW91dC13ZXN0Jyk7CgkkKCcjY29udGVudF93aW5kb3cnKS5hZGRDbGFzcygndWktbGF5b3V0LWNlbnRlcicpOwoJJCgnI3N5c3RlbV90aXRsZV9iYXInKS5hZGRDbGFzcygndWktbGF5b3V0LW5vcnRoJyk7Cgkk'));
	@fwrite($fp, base64_decode('KCcjZnJhbWVzJykubGF5b3V0KHsKCQlub3J0aF9fc2l6ZTogICAgICAgICAgICAgICAgICA0MCwKCQlub3J0aF9fc2xpZGFibGU6ICAgICAgICAgICAgICBmYWxzZSwKCQlub3J0aF9fY2xvc2FibGU6ICAgICAgICAgICAgICBmYWxzZSwKCQlub3J0aF9fcmVzaXph'));
	@fwrite($fp, base64_decode('YmxlOiAgICAgICAgICAgICBmYWxzZSwKCQl3ZXN0X19zaXplOiAgICAgICAgICAgICAgICAgICA0NTAsCgkJd2VzdF9fc3BhY2luZ19jbG9zZWQ6ICAgICAgICAgMjAsCgkJd2VzdF9fdG9nZ2xlckxlbmd0aF9jbG9zZWQ6ICAgMjMwLAoJCXdlc3RfX3RvZ2dsZXJB'));
	@fwrite($fp, base64_decode('bGlnbl9jbG9zZWQ6ICAgICJ0b3AiLAoJCXdlc3RfX3RvZ2dsZXJDb250ZW50X2Nsb3NlZDogICJPPGJyPkI8YnI+Sjxicj5FPGJyPkM8YnI+VDxicj48YnI+VDxCUj5SPEJSPkU8QlI+RSIsCgkJd2VzdF9fdG9nZ2xlclRpcF9jbG9zZWQ6ICAgICAgIk9wZW4gJiBQ'));
	@fwrite($fp, base64_decode('aW4gTWVudSIsCgkJd2VzdF9fc2xpZGVyVGlwOiAgICAgICAgICAgICAgIlNsaWRlIE9wZW4gTWVudSIsCgkJd2VzdF9fc2xpZGVUcmlnZ2VyX29wZW46ICAgICAgIm1vdXNlb3ZlciIsCgkJY2VudGVyX19tYXNrQ29udGVudHM6ICAgICAgICAgdHJ1ZSAvLyBJTVBP'));
	@fwrite($fp, base64_decode('UlRBTlQgLSBlbmFibGUgaWZyYW1lIG1hc2tpbmcKCX0pOwp9KTsKCmZ1bmN0aW9uIG1vYmlsZU5hdkNsb3NlKCkgewoJaWYgKCQoIiNzeXN0ZW1fdGl0bGVfbWVudSIpLmlzKCI6aGlkZGVuIikpIHsKCQlyZXR1cm47Cgl9CgoJJCgiI29pZHRyZWUiKS5zbGlkZVVw'));
	@fwrite($fp, base64_decode('KCJtZWRpdW0iKS5wcm9taXNlKCkuZG9uZShmdW5jdGlvbigpIHsKCQkkKCIjb2lkdHJlZSIpLmFkZENsYXNzKCJ1aS1sYXlvdXQtd2VzdCIpOwoJCSQoIiNvaWR0cmVlIikuc2hvdygpOwoJfSk7CgkkKCIjc3lzdGVtX3RpdGxlX21lbnUiKS5yZW1vdmVDbGFzcygi'));
	@fwrite($fp, base64_decode('YWN0aXZlIik7Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdk9wZW4oKSB7CgkkKCIjb2lkdHJlZSIpLmhpZGUoKTsKCSQoIiNvaWR0cmVlIikucmVtb3ZlQ2xhc3MoInVpLWxheW91dC13ZXN0Iik7CgkkKCIjb2lkdHJlZSIpLnNsaWRlRG93bigibWVkaXVtIik7CgkkKCIj'));
	@fwrite($fp, base64_decode('c3lzdGVtX3RpdGxlX21lbnUiKS5hZGRDbGFzcygiYWN0aXZlIik7Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdkJ1dHRvbkNsaWNrKHNlbmRlcikgewoJaWYgKCQoIiNvaWR0cmVlIikuaGFzQ2xhc3MoInVpLWxheW91dC13ZXN0IikpIHsKCQltb2JpbGVOYXZPcGVuKCk7'));
	@fwrite($fp, base64_decode('Cgl9IGVsc2UgewoJCW1vYmlsZU5hdkNsb3NlKCk7Cgl9Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdkJ1dHRvbkhvdmVyKHNlbmRlcikgewoJc2VuZGVyLmNsYXNzTGlzdC50b2dnbGUoImhvdmVyIik7Cn0K'));
	@fclose($fp);
}
if (!is_file('oidplus.js')) {
	warn('File has vanished! Will re-create it: oidplus.js');
	writefile_4();
	if (!is_file('oidplus.js')) {
		warn('File cannot be created (not existing): oidplus.js');
	} else if (sha1_file('oidplus.js') != '7f31486c954de8ea6bd3d93cb05008bb45910501') {
		warn('File cannot be created (checksum mismatch): oidplus.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('oidplus.js', 0644)) {
		warn('Could not change file permissions of oidplus.js');
	}
} else {
	if (@sha1_file('oidplus.js') !== '7f31486c954de8ea6bd3d93cb05008bb45910501') {
		if (@sha1_file('oidplus.js') !== '24f192303643b36d822ac49ca522c17dac04a625') {
			warn('File was modified. Will overwrite the changes now: oidplus.js');
			$tmp = pathinfo('oidplus.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('oidplus.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('oidplus.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('oidplus.js') !== '7f31486c954de8ea6bd3d93cb05008bb45910501') {
			warn('File cannot be written (checksum mismatch): oidplus.js');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 122\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 122') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

