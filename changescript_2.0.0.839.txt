<?php /* <ViaThinkSoftSignature>
AzHsPvVdDVDVk5HzgI3loQV3q3bBZmg1f0HLulDiWINyvlSffLmhMbgnkUeGJbBB6
qq7nBGzbp3ThyAOGuAevb5CiMyrgJXhAFG7Y5AtkfmG+rxeK1N5rA1dgx2cWfXPg+
13Vn7ucc+4JH3mcp7fFSuyRy2MUrIYb9ceZw/JzsKtterAts9wpy+HOAZWKIDTf2m
UtssP5PUAwxtvAaCrHY4UHzSa8xnQlkxjeRUTeWLQChHHYvmgsAWqn0dXS6MK+1UJ
u+nPzkzu22Y2Ctyt2/Tcjy0Wvp/voJtkXs9DdkiflDX1uyecuvtloubjkvZk6M+js
QW0TR1B+bI/oLa9uJvCWYpg6Oj2mTqBDeZBXaegCy1+IqUEYJfe25+tWLwmSvjIpV
ykzaNuP6/+t4vxElYoSIL+jZ0zlcLgLp8A4Iz+D5LUHL4sto7NGC7bbdx6AwyZiye
bTd1I34uvqZUKWuNwmw318NZpPXtF4Kn7iscWKvendmzT9ZpkbY05nlubsAkgQL1r
rb0VBz1a/6W9U0VoRyPZb2X2uIOBGJ0bREFKtApyMUr4lowYFe4PatAxkv2qQDLy7
N4EQHR+z6cc/WhWRJQXBETg60qkJxUMubNH1vS+lxtbSayZ1VaKvwYBUYuldjDhHh
KlfCu6MV/JItolIk9nA0K/jRbIMqiCyuShW4WC6LHOiIhSZ/ReQakN1nz/fnxVCci
oETb3gWA53t4vw1Kc+Cbn0Rk424+3owfXQ+qzvdX+G+R6fe6y1Q5NuTA+LjCL5xQq
vqGoJF8wPJ/B5BywDazcOGFh6QsbVS1yzHH2e45TwYKwboL6STYOv+UY01Wanbe9U
uLUOFDG8uP6sAsZS2m4NjuG1IHTpE4RKO41DA0ba7eNejgYy0cePrxSI9kVX+oObJ
5/QmgJW8lDMTyCina6xcFohqNHnI+kepfWPRaEUq+fNO4eYCjXsXa/+HTiwRQZNyB
ogkcsZsz0O03W/crubF3BifoBkrDXD6C20Mr1k9NRz4yjd6YiWVbpoq1Z9L5j89DV
TRPp6xBLm0HDUBPXZjHz3Jr4r1dMb6qc2E9twrzu5Rv+dG+9fPN3cwdjFNyUj3hP5
0Z97DZdlHQI2cP2cvEaEtMyUSJdJ/WPsgj7m4W/WzFItDG4Gl51Z0lfKbSoLq5IQP
DX3OZDv8fLLrjv+MDPY0+4vfQciQpSU47qAnbsIffXuTWJLcKKIZv6ORcys0SGcUG
U4v1nAA9SAyL44mASyOgb9X5g07hknUzy3lNCcHR8RJ2BZBBiZM8nmGKZ7L+N1neZ
OSUJTGeqTtlb4ORVUZoa2CFaQXjEq/Vm673dq3aYk4d1HPyWqeHD2cRlvKOVS0twg
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 838') {
	err('This update can only be applied to OIDplus version 2.0.0.838!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/oidplus_base.js
function writefile_1() {
	@$fp = fopen('includes/oidplus_base.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgLSAyMDIyIERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8qanNoaW50IGVzdmVyc2lvbjogNiAqLwoKLy8gJCgnI2h0bWwnKS5qc3RyZWUoKTsKCnZhciBiczVVdGlscyA9IHVuZGVmaW5lZDsKCnZhciBjdXJyZW50X25vZGUgPSAiIjsKdmFyIHBvcHN0YXRl'));
	@fwrite($fp, base64_decode('X3J1bm5pbmcgPSBmYWxzZTsKLy8gREVGQVVMVF9MQU5HVUFHRSB3aWxsIGJlIHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKLy8gbGFuZ3VhZ2VfbWVzc2FnZXMgd2lsbCBiZSBzZXQgYnkgb2lkcGx1cy5taW4uanMucGhwCi8vIGxhbmd1YWdlX3RibHByZWZpeCB3'));
	@fwrite($fp, base64_decode('aWxsIGJlIHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKLy8gY3NyZl90b2tlbiB3aWxsIGJlIHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKLy8gc2FtZXNpdGVfcG9saWN5IHdpbGwgYmV0IHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKCnZhciBwYWdlQ2hhbmdl'));
	@fwrite($fp, base64_decode('Q2FsbGJhY2tzID0gW107CnZhciBwYWdlQ2hhbmdlUmVxdWVzdENhbGxiYWNrcyA9IFtdOwoKdmFyIHBhZ2VMb2FkZWRDYWxsYmFja3M9IHsKCSJhbnlQYWdlTG9hZCI6ICAgICAgICAgW10sIC8vIHRoaXMgaXMgcHJvY2Vzc2VkIGluc2lkZSBib3RoIEFKQVggc3Vj'));
	@fwrite($fp, base64_decode('Y2Vzc2Z1bCByZWxvYWQgYW5kIGRvY3VtZW50LnJlYWR5IChhdCB0aGUgdmVyeSBlbmQpIAoJImFqYXhQYWdlTG9hZCI6ICAgICAgICBbXSwgLy8gaW5zaWRlIEFKQVggc3VjY2Vzc2Z1bCByZWxvYWQgb25seQoJImRvY3VtZW50UmVhZHlCZWZvcmUiOiBbXSwgLy8g'));
	@fwrite($fp, base64_decode('aW5zaWRlIGRvY3VtZW50LnJlYWR5LCBpbiB0aGUgdmVyeSBiZWdpbm5pbmcgb2YgdGhlIGZ1bmN0aW9uCgkiZG9jdW1lbnRSZWFkeUFmdGVyIjogIFtdICAvLyBpbnNpZGUgZG9jdW1lbnQucmVhZHksIGluIHRoZSB2ZXJ5IGVuZCBvZiB0aGUgZnVuY3Rpb24KfTsK'));
	@fwrite($fp, base64_decode('CnZhciBvaWRwbHVzX21lbnVfd2lkdGggPSA0NTA7IC8vIEluIHBpeGVscy4gWW91IGNhbiBjaGFuZ2UgdGhpcyBhdCBydW50aW1lIGJlY2F1c2Ugb2YgdGhlIGdsYXlvdXRXb3JrYXJvdW5kQigpIHdvcmthcm91bmQKCmZ1bmN0aW9uIGV4ZWN1dGVBbGxDYWxsYmFj'));
	@fwrite($fp, base64_decode('a3MoZnVuY3Rpb25zQXJyYXkpIHsKCWZ1bmN0aW9uc0FycmF5LmZvckVhY2goCgkJZnVuY3Rpb24oZmVsKSB7CgkJCWlmICh0eXBlb2YgZmVsID09ICdmdW5jdGlvbicpIGZlbCgpOwoJCX0KCSk7Cn0KCmZ1bmN0aW9uIGlzSW50ZXJuZXRFeHBsb3JlcigpIHsKCS8v'));
	@fwrite($fp, base64_decode('IHNlZSBhbHNvIGluY2x1ZGVzL2Z1bmN0aW9ucy5pbmMucGhwCgl2YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKCXJldHVybiAoKHVhLmluZGV4T2YoIk1TSUUgIikgPiAwKSB8fCAodWEuaW5kZXhPZigiVHJpZGVudC8iKSA+IDApKTsKfQoKU3Ry'));
	@fwrite($fp, base64_decode('aW5nLnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHsKCS8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ1MTQzMjMvamF2YXNjcmlwdC1lcXVpdmFsZW50LXRvLXBocC1leHBsb2RlCgljb25zdCBhcnJh'));
	@fwrite($fp, base64_decode('eSA9IHRoaXMuc3BsaXQoc2VwYXJhdG9yKTsKCWlmIChsaW1pdCAhPT0gdW5kZWZpbmVkICYmIGFycmF5Lmxlbmd0aCA+PSBsaW1pdCkgewoJCWFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGxpbWl0IC0gMSkuam9pbihzZXBhcmF0b3IpKTsKCX0KCXJldHVybiBhcnJh'));
	@fwrite($fp, base64_decode('eTsKfTsKClN0cmluZy5wcm90b3R5cGUuaHRtbGVudGl0aWVzID0gZnVuY3Rpb24gKCkgewoJcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoLyIvZywgJyZx'));
	@fwrite($fp, base64_decode('dW90OycpOy8vIgp9OwoKU3RyaW5nLnByb3RvdHlwZS5odG1sX2VudGl0eV9kZWNvZGUgPSBmdW5jdGlvbiAoKSB7CglyZXR1cm4gJCgnPHRleHRhcmVhIC8+JykuaHRtbCh0aGlzKS50ZXh0KCk7Cn07CgppZiAoIVN0cmluZy5wcm90b3R5cGUucmVwbGFjZUFsbCkg'));
	@fwrite($fp, base64_decode('ewoJLyoqCgkgKiBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2VBbGwoKSBwb2x5ZmlsbAoJICogaHR0cHM6Ly9nb21ha2V0aGluZ3MuY29tL2hvdy10by1yZXBsYWNlLWEtc2VjdGlvbi1vZi1hLXN0cmluZy13aXRoLWFub3RoZXItb25lLXdpdGgtdmFuaWxsYS1qcy8K'));
	@fwrite($fp, base64_decode('CSAqIEBhdXRob3IgQ2hyaXMgRmVyZGluYW5kaQoJICogQGxpY2Vuc2UgTUlUCgkgKi8KCVN0cmluZy5wcm90b3R5cGUucmVwbGFjZUFsbCA9IGZ1bmN0aW9uKHN0ciwgbmV3U3RyKXsKCQkvLyBJZiBhIHJlZ2V4IHBhdHRlcm4KCQlpZiAoT2JqZWN0LnByb3RvdHlw'));
	@fwrite($fp, base64_decode('ZS50b1N0cmluZy5jYWxsKHN0cikudG9Mb3dlckNhc2UoKSA9PT0gJ1tvYmplY3QgcmVnZXhwXScpIHsKCQkJcmV0dXJuIHRoaXMucmVwbGFjZShzdHIsIG5ld1N0cik7CgkJfQoJCS8vIElmIGEgc3RyaW5nCgkJcmV0dXJuIHRoaXMucmVwbGFjZShuZXcgUmVnRXhw'));
	@fwrite($fp, base64_decode('KHN0ciwgJ2cnKSwgbmV3U3RyKTsKCX07Cn0KCmlmICghU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoKSB7CgkvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9T'));
	@fwrite($fp, base64_decode('dHJpbmcvc3RhcnRzV2l0aCNwb2x5ZmlsbAoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsICdzdGFydHNXaXRoJywgewoJCXZhbHVlOiBmdW5jdGlvbihzZWFyY2gsIHJhd1BvcykgewoJCQl2YXIgcG9zID0gcmF3UG9zID4gMCA/IHJhd1Bv'));
	@fwrite($fp, base64_decode('c3wwIDogMDsKCQkJcmV0dXJuIHRoaXMuc3Vic3RyaW5nKHBvcywgcG9zICsgc2VhcmNoLmxlbmd0aCkgPT09IHNlYXJjaDsKCQl9Cgl9KTsKfQoKZnVuY3Rpb24gZ2V0TWV0YShtZXRhTmFtZSkgewoJY29uc3QgbWV0YXMgPSAkKCdtZXRhW25hbWU9JyttZXRhTmFt'));
	@fwrite($fp, base64_decode('ZSsnXScpOwoJcmV0dXJuIChtZXRhcy5sZW5ndGggPT0gMCkgPyAnJyA6IG1ldGFzWzBdLmNvbnRlbnQ7Cn0KCmZ1bmN0aW9uIGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpIHsKCXJldHVybiBnZXRNZXRhKCdPSURwbHVzLVN5c3RlbVRpdGxlJyk7IC8vIGRvIG5vdCB0'));
	@fwrite($fp, base64_decode('cmFuc2xhdGUKfQoKZnVuY3Rpb24gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKHN5c3RlbXRpdGxlLCBwYWdldGl0bGUpIHsKCS8vIFBsZWFzZSBhbHNvIGNoYW5nZSB0aGUgZnVuY3Rpb24gaW4gaW5kZXgucGhwCglpZiAoc3lzdGVtdGl0bGUgPT0g'));
	@fwrite($fp, base64_decode('cGFnZXRpdGxlKSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlOwoJfSBlbHNlIHsKCQlyZXR1cm4gcGFnZXRpdGxlICsgJyAtICcgKyBzeXN0ZW10aXRsZTsKCX0KfQoKZnVuY3Rpb24gZ2V0U3lzdGVtVXJsKHJlbGF0aXZlKSB7Cgl2YXIgdXJsID0gbmV3IFVSTCh3aW5k'));
	@fwrite($fp, base64_decode('b3cubG9jYXRpb24uaHJlZik7CglpZiAocmVsYXRpdmUpIHsKCQlyZXR1cm4gdXJsLnBhdGhuYW1lOwoJfSBlbHNlIHsKCQlyZXR1cm4gdXJsLmhyZWYuc3Vic3RyKDAsIHVybC5ocmVmLmxlbmd0aC11cmwuc2VhcmNoLmxlbmd0aCk7Cgl9Cn0KCmZ1bmN0aW9uIGdl'));
	@fwrite($fp, base64_decode('dFRyZWVMb2FkVVJMKCkgewoJdmFyIHVybCA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpOwoJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJcmV0dXJuIChnb3RvICE9IG51bGwpID8gImFqYXgucGhwP2NzcmZfdG9rZW49Iitl'));
	@fwrite($fp, base64_decode('bmNvZGVVUklDb21wb25lbnQoY3NyZl90b2tlbikrIiZhY3Rpb249dHJlZV9sb2FkJmFudGljYWNoZT0iK0RhdGUubm93KCkrIiZnb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pCgkgICAgICAgICAgICAgICAgICAgICAgOiAiYWpheC5waHA/Y3NyZl90b2tl'));
	@fwrite($fp, base64_decode('bj0iK2VuY29kZVVSSUNvbXBvbmVudChjc3JmX3Rva2VuKSsiJmFjdGlvbj10cmVlX2xvYWQmYW50aWNhY2hlPSIrRGF0ZS5ub3coKTsKfQoKZnVuY3Rpb24gcmVsb2FkQ29udGVudCgpIHsKCS8vIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIj9nb3RvPSIrZW5jb2Rl'));
	@fwrite($fp, base64_decode('VVJJQ29tcG9uZW50KGN1cnJlbnRfbm9kZSk7CglpZiAob3Blbk9pZEluUGFuZWwoY3VycmVudF9ub2RlLCBmYWxzZSkpIHsKCQlpZighJCgnI29pZHRyZWUnKS5qc3RyZWUodHJ1ZSkuZ2V0X25vZGUoY3VycmVudF9ub2RlKSkgewoJCQkvLyBBdm9pZCB0aGF0IGEg'));
	@fwrite($fp, base64_decode('bGFuZ3VhZ2UgY2hhbmdlIGF0ICJvaWRwbHVzOnNydnJlZ19zdGF0dXMiIHdvbid0IHJlZGlyZWN0IHRoZSB1c2VyIHRvICJvaWRwbHVzOnNydl9yZWdpc3RyYXRpb24iIGJlY2F1c2Ugb2YgdGhlIHJlc2VsZWN0aW9uIGR1cmluZyByZWZyZXNoCgkJCSQoJyNvaWR0'));
	@fwrite($fp, base64_decode('cmVlJykuanN0cmVlKCJkZXNlbGVjdF9hbGwiKTsKCQl9CgoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCJyZWZyZXNoIik7Cgl9Cn0KCmZ1bmN0aW9uIHhfcmVjKHhfZGF0YSwgaSkgewoJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ29wZW5fbm9kZScsIHhfZGF0YVtpXSwg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24oZSwgZGF0YSkgewoJCWlmIChpKzEgPCB4X2RhdGEubGVuZ3RoKSB7CgkJCXhfcmVjKHhfZGF0YSwgaSsxKTsKCQl9IGVsc2UgewoJCQlwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsgLy8gZG9uJ3QgY2FsbCBvcGVuT2lkSW5QYW5lbCBhZ2FpbgoJCQl0'));
	@fwrite($fp, base64_decode('cnkgewoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywgeF9kYXRhW2ldKTsKCQkJfSBjYXRjaCAoZXJyKSB7CgkJCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7CgkJCX0gZmluYWxseSB7CgkJCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7'));
	@fwrite($fp, base64_decode('CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gcGVyZm9ybUNsb3NlUXVlcnlDQigpIHsKCWZvciAodmFyIGk9MDsgaTxwYWdlQ2hhbmdlUmVxdWVzdENhbGxiYWNrcy5sZW5ndGg7IGkrKykgewoJCWlmICghcGFnZUNoYW5nZVJlcXVlc3RDYWxsYmFja3NbaV1bMF0o'));
	@fwrite($fp, base64_decode('cGFnZUNoYW5nZVJlcXVlc3RDYWxsYmFja3NbaV1bMV0pKSByZXR1cm4gZmFsc2U7Cgl9CglwYWdlQ2hhbmdlUmVxdWVzdENhbGxiYWNrcyA9IFtdOwoJcmV0dXJuIHRydWU7IC8vIG1heSBjbG9zZQp9CgpmdW5jdGlvbiBwZXJmb3JtQ2xvc2VDQigpIHsKCWZvciAo'));
	@fwrite($fp, base64_decode('dmFyIGk9MDsgaTxwYWdlQ2hhbmdlQ2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7CgkJcGFnZUNoYW5nZUNhbGxiYWNrc1tpXVswXShwYWdlQ2hhbmdlQ2FsbGJhY2tzW2ldWzFdKTsKCX0KCXBhZ2VDaGFuZ2VDYWxsYmFja3MgPSBbXTsKfQoKZnVuY3Rpb24gb3Blbk9p'));
	@fwrite($fp, base64_decode('ZEluUGFuZWwoaWQsIHJlc2VsZWN0Lyo9ZmFsc2UqLywgYW5jaG9yLyo9JycqLywgZm9yY2UvKj1mYWxzZSovKSB7CglyZXNlbGVjdCA9ICh0eXBlb2YgcmVzZWxlY3QgPT09ICd1bmRlZmluZWQnKSA/IGZhbHNlIDogcmVzZWxlY3Q7IC8vIGRvIG5vdCB0cmFuc2xh'));
	@fwrite($fp, base64_decode('dGUKCWFuY2hvciA9ICh0eXBlb2YgYW5jaG9yID09PSAndW5kZWZpbmVkJykgPyAnJyA6IGFuY2hvcjsgLy8gZG8gbm90IHRyYW5zbGF0ZQoJZm9yY2UgPSAodHlwZW9mIGZvcmNlID09PSAndW5kZWZpbmVkJykgPyBmYWxzZSA6IGZvcmNlOyAvLyBkbyBub3QgdHJh'));
	@fwrite($fp, base64_decode('bnNsYXRlCgoJdmFyIG1heUNsb3NlID0gcGVyZm9ybUNsb3NlUXVlcnlDQigpOwoJaWYgKCFmb3JjZSAmJiAhbWF5Q2xvc2UpIHJldHVybiBmYWxzZTsKCglwZXJmb3JtQ2xvc2VDQigpOwoKCSQueGhyUG9vbC5hYm9ydEFsbCgpOwoKCWlmIChyZXNlbGVjdCkgewoJ'));
	@fwrite($fp, base64_decode('CSQoJyNvaWR0cmVlJykuanN0cmVlKCdkZXNlbGVjdF9hbGwnKTsKCgkJcG9wc3RhdGVfcnVubmluZyA9IHRydWU7IC8vIGRvbid0IGNhbGwgb3Blbk9pZEluUGFuZWwgZHVyaW5nIHRyZWUgc2VsZWN0aW9uCgkJdHJ5IHsKCQkJLy8gSWYgdGhlIG5vZGUgaXMgYWxy'));
	@fwrite($fp, base64_decode('ZWFkeSBsb2FkZWQgaW4gdGhlIHRyZWUsIHNlbGVjdCBpdAoJCQlpZiAoISQoJyNvaWR0cmVlJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGlkKSkgewoJCQkJLy8gSWYgdGhlIG5vZGUgaXMgbm90IGxvYWRlZCwgdGhlbiB3ZSB0cnkgdG8gc2VhcmNoIGl0LgoJCQkJ'));
	@fwrite($fp, base64_decode('Ly8gSWYgaXQgY2FuIGJlIGZvdW5kLCB0aGVuIG9wZW4gYWxsIHBhcmVudCBub2RlcyBhbmQgc2VsZWN0IHRoZSBub2RlCgkJCQkkLmFqYXgoewoJCQkJCXVybDoiYWpheC5waHAiLAoJCQkJCW1ldGhvZDoiUE9TVCIsCgkJCQkJYmVmb3JlU2VuZDogZnVuY3Rpb24o'));
	@fwrite($fp, base64_decode('anFYSFIsIHNldHRpbmdzKSB7CgkJCQkJCS8vJC54aHJQb29sLmFib3J0QWxsKCk7CgkJCQkJCSQueGhyUG9vbC5hZGQoanFYSFIpOwoJCQkJCX0sCgkJCQkJY29tcGxldGU6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0KSB7CgkJCQkJCSQueGhyUG9vbC5yZW1vdmUoanFY'));
	@fwrite($fp, base64_decode('SFIpOwoJCQkJCX0sCgkJCQkJZGF0YTp7CgkJCQkJCWNzcmZfdG9rZW46Y3NyZl90b2tlbiwKCQkJCQkJYWN0aW9uOiJ0cmVlX3NlYXJjaCIsCgkJCQkJCXNlYXJjaDppZCwKCQkJCQkJYW50aWNhY2hlOkRhdGUubm93KCkKCQkJCQl9LAoJCQkJCWVycm9yOmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQkJCQlpZiAoZXJyb3JUaHJvd24gPT0gImFib3J0IikgcmV0dXJuOwoJCQkJCQljb25zb2xlLmVycm9yKCJUcmVlIHNlYXJjaCBmYWlsZWQiKTsKCQkJCQkJY29uc29sZS5lcnJvcihfTCgiRXJy'));
	@fwrite($fp, base64_decode('b3I6ICUxIixlcnJvclRocm93bikpOwoJCQkJCX0sCgkJCQkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCQkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCQkJCWNvbnNvbGUuZXJyb3IoIlRyZWUgc2VhcmNoIGZhaWxlZCIpOwoJCQkJCQkJY29uc29sZS5l'));
	@fwrite($fp, base64_decode('cnJvcihkYXRhKTsKCQkJCQkJfSBlbHNlIGlmICgoZGF0YSBpbnN0YW5jZW9mIEFycmF5KSAmJiAoZGF0YS5sZW5ndGggPiAwKSkgewoJCQkJCQkJeF9yZWMoZGF0YSwgMCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQljb25zb2xlLmVycm9yKCJUcmVlIHNlYXJjaCBm'));
	@fwrite($fp, base64_decode('YWlsZWQiKTsKCQkJCQkJCWNvbnNvbGUuZXJyb3IoZGF0YSk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9KTsKCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7CgkJfSBmaW5hbGx5IHsKCQkJcG9wc3RhdGVfcnVubmluZyA9IGZh'));
	@fwrite($fp, base64_decode('bHNlOwoJCX0KCX0KCgkvLyBUaGlzIGxvYWRzIHRoZSBhY3R1YWwgY29udGVudAoKCS8vIGRvY3VtZW50LnRpdGxlID0gIiI7IC8vIDwtLSB3ZSBtYXkgbm90IGRvIHRoaXMsIG90aGVyd2lzZSBGaXJlZm94IHdvbid0CgkvLyAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICBzaG93IHRpdGxlcyBpbiB0aGUgYnJvd3NlciBoaXN0b3J5IChyaWdodC1jbGljawoJLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gYmFjay1idXR0b24pLCBhbHRob3VnaCBkb2N1bWVudC50aXRsZSgpIGlzCgkvLyAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICBzZXQgaW5zaWRlIHRoZSBBSkFYLWNhbGxiYWNrIFtGaXJlZm94IGJ1Zz8hXQoKCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgiJm5ic3A7Iik7CgkkKCcjcmVhbF9jb250ZW50JykuaHRtbChfTCgiTG9hZGluZy4uLiIpKTsKCSQoJyNzdGF0aWNfbGlu'));
	@fwrite($fp, base64_decode('aycpLmF0dHIoImhyZWYiLCAiaW5kZXgucGhwP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoaWQpKTsKCSQoIiNnb3RvZWRpdCIpLnZhbChpZCk7CgoJLy8gTm9ybWFsIG9wZW5pbmcgb2YgYSBkZXNjcmlwdGlvbgoJJC5hamF4KHsKCQl1cmw6ImFqYXgucGhwIiwK'));
	@fwrite($fp, base64_decode('CQltZXRob2Q6IkdFVCIsCgkJYmVmb3JlU2VuZDogZnVuY3Rpb24oanFYSFIsIHNldHRpbmdzKSB7CgkJCS8vJC54aHJQb29sLmFib3J0QWxsKCk7CgkJCSQueGhyUG9vbC5hZGQoanFYSFIpOwoJCX0sCgkJY29tcGxldGU6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0KSB7'));
	@fwrite($fp, base64_decode('CgkJCSQueGhyUG9vbC5yZW1vdmUoanFYSFIpOwoJCX0sCgkJZGF0YTp7CgkJCWNzcmZfdG9rZW46Y3NyZl90b2tlbiwKCQkJYWN0aW9uOiJnZXRfZGVzY3JpcHRpb24iLAoJCQlpZDppZCwKCQkJYW50aWNhY2hlOkRhdGUubm93KCkKCQl9LAoJCWVycm9yOmZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93bikgewoJCQlpZiAoZXJyb3JUaHJvd24gPT0gImFib3J0IikgcmV0dXJuOwoJCQlhbGVydEVycm9yKF9MKCJGYWlsZWQgdG8gbG9hZCBjb250ZW50OiAlMSIsZXJyb3JUaHJvd24pKTsKCQkJY29uc29sZS5l'));
	@fwrite($fp, base64_decode('cnJvcihfTCgiRXJyb3I6ICUxIixlcnJvclRocm93bikpOwoJCX0sCgkJc3VjY2VzczpmdW5jdGlvbihkYXRhKSB7CgkJCWlmICgiZXJyb3IiIGluIGRhdGEpIHsKCQkJCWFsZXJ0RXJyb3IoX0woIkZhaWxlZCB0byBsb2FkIGNvbnRlbnQ6ICUxIixkYXRhLmVycm9y'));
	@fwrite($fp, base64_decode('KSk7CgkJCQljb25zb2xlLmVycm9yKGRhdGEuZXJyb3IpOwoJCQl9IGVsc2UgaWYgKGRhdGEuc3RhdHVzID49IDApIHsKCQkJCWRhdGEuaWQgPSBpZDsKCgkJCQl2YXIgc3RhdGUgPSB7CgkJCQkJIm5vZGVfaWQiOmlkLAoJCQkJCSJ0aXRsZUhUTUwiOihkYXRhLmlj'));
	@fwrite($fp, base64_decode('b24gPyAnPGltZyBzcmM9IicrZGF0YS5pY29uKyciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSInK2RhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkrJyI+ICcgOiAnJykgKyBkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpLAoJCQkJCSJ0ZXh0SFRNTCI6ZGF0YS50'));
	@fwrite($fp, base64_decode('ZXh0LAoJCQkJCSJzdGF0aWNsaW5rSFJFRiI6ImluZGV4LnBocD9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSwKCQkJCX07CgkJCQlpZiAoY3VycmVudF9ub2RlICE9IGlkKSB7CgkJCQkJd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHN0YXRlLCBkYXRhLnRp'));
	@fwrite($fp, base64_decode('dGxlLCAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoaWQpKTsKCQkJCX0gZWxzZSB7CgkJCQkJd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHN0YXRlLCBkYXRhLnRpdGxlLCAiP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoaWQpKTsKCQkJCX0KCgkJCQlk'));
	@fwrite($fp, base64_decode('b2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSwgZGF0YS50aXRsZSk7CgoJCQkJaWYgKGRhdGEuaWNvbikgewoJCQkJCSQoJyNyZWFsX3RpdGxlJykuaHRtbCgnPGltZyBzcmM9Iicr'));
	@fwrite($fp, base64_decode('ZGF0YS5pY29uKyciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSInK2RhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkrJyI+ICcgKyBkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKTsKCQkJCX0gZWxzZSB7CgkJCQkJJCgnI3JlYWxfdGl0bGUnKS5odG1sKGRhdGEu'));
	@fwrite($fp, base64_decode('dGl0bGUuaHRtbGVudGl0aWVzKCkpOwoJCQkJfQoJCQkJJCgnI3JlYWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0KTsKCQkJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBk'));
	@fwrite($fp, base64_decode('YXRhLnRpdGxlKTsKCQkJCWN1cnJlbnRfbm9kZSA9IGlkOwoKCQkJCWV4ZWN1dGVBbGxDYWxsYmFja3MocGFnZUxvYWRlZENhbGxiYWNrcy5hbnlQYWdlTG9hZCk7CgkJCQlleGVjdXRlQWxsQ2FsbGJhY2tzKHBhZ2VMb2FkZWRDYWxsYmFja3MuYWpheFBhZ2VMb2Fk'));
	@fwrite($fp, base64_decode('KTsKCgkJCQlpZiAoYW5jaG9yICE9ICcnKSB7CgkJCQkJanVtcFRvQW5jaG9yKGFuY2hvcik7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlhbGVydEVycm9yKF9MKCJGYWlsZWQgdG8gbG9hZCBjb250ZW50OiAlMSIsZGF0YS5zdGF0dXMpKTsKCQkJCWNvbnNvbGUuZXJy'));
	@fwrite($fp, base64_decode('b3IoZGF0YSk7CgkJCX0KCQl9Cgl9KTsKCglyZXR1cm4gdHJ1ZTsKfQoKLy8gVGhpcyBmdW5jdGlvbiBvcGVucyB0aGUgInBhcmVudElEIiBub2RlLCBhbmQgdGhlbiBzZWxlY3RzIHRoZSAiY2hpbGRJRCIgbm9kZSAod2hpY2ggc2hvdWxkIGJlIGJlbmVhdGggdGhl'));
	@fwrite($fp, base64_decode('IHBhcmVudCBub2RlKQpmdW5jdGlvbiBvcGVuQW5kU2VsZWN0Tm9kZShjaGlsZElELCBwYXJlbnRJRCkgewoJaWYgKCQoJyNvaWR0cmVlJykuanN0cmVlKHRydWUpLmdldF9ub2RlKHBhcmVudElEKSkgewoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdvcGVuX25vZGUn'));
	@fwrite($fp, base64_decode('LCBwYXJlbnRJRCwgZnVuY3Rpb24oZSwgZGF0YSkgeyAvLyBvcGVuIHBhcmVudCBub2RlCgkJCWlmICgkKCcjb2lkdHJlZScpLmpzdHJlZSh0cnVlKS5nZXRfbm9kZShjaGlsZElEKSkgeyAvLyBpcyB0aGUgY2hpbGQgdGhlcmU/CgkJCQkkKCcjb2lkdHJlZScpLmpz'));
	@fwrite($fp, base64_decode('dHJlZSgnZGVzZWxlY3RfYWxsJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGNoaWxkSUQpOyAvLyBzZWxlY3QgaXQKCQkJfSBlbHNlIHsKCQkJCS8vIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29udGVudCBwYWdlIGNvbnRhaW5zIGJyYW5kIG5ldyBpdGVtcyB3aGlj'));
	@fwrite($fp, base64_decode('aCBhcmUgbm90IGluIHRoZSB0cmVldmlldyB5ZXQKCQkJCSQoIiNnb3RvZWRpdCIpLnZhbChjaGlsZElEKTsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNoaWxkSUQpOwoJCQl9CgkJfSwgdHJ1ZSk7Cgl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCS8vIFRoaXMgc2hvdWxkIHVzdWFsbHkgbm90IGhhcHBlbgoJCSQoIiNnb3RvZWRpdCIpLnZhbChjaGlsZElEKTsKCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChjaGlsZElEKTsKCX0KfQoKJCh3aW5kb3cp'));
	@fwrite($fp, base64_decode('Lm9uKCJwb3BzdGF0ZSIsIGZ1bmN0aW9uKGUpIHsKCWlmICghcGVyZm9ybUNsb3NlUXVlcnlDQigpKSB7CgkJLy8gVE9ETzogZG9lcyBub3Qgd29yayEhISBUaGUgImJhY2svZm9yd2FyZCIgYWN0aW9uIHdpbGwgYmUgY2FuY2VsbGVkLCBidXQgdGhlIGJyb3dzZXIg'));
	@fwrite($fp, base64_decode('c3RpbGwgdGhpbmtzIGl0IHdhcyBzdWNjZXNzZnVsLAoJCS8vIHNvIGlmIHlvdSBkbyBpdCBhZ2FpbiwgeW91IHdpbGwgdGhlbiBqdW1wIDIgcGFnZXMgYmFjaywgZXRjIQoJCS8vIFRoaXMgZG9lcyBhbHNvIG5vdCBoZWxwOgoJCS8vd2luZG93Lmhpc3RvcnkucHVz'));
	@fwrite($fp, base64_decode('aFN0YXRlKGUub3JpZ2luYWxFdmVudC5zdGF0ZSwgZS5vcmlnaW5hbEV2ZW50LnRpdGxlLCBlLm9yaWdpbmFsRXZlbnQudXJsKTsKCQkvL3dpbmRvdy5oaXN0b3J5LmZvcndhcmQoKTsKCQlyZXR1cm47Cgl9CgoJcG9wc3RhdGVfcnVubmluZyA9IHRydWU7Cgl0cnkg'));
	@fwrite($fp, base64_decode('ewoJCXZhciBkYXRhID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlOwoKCQljdXJyZW50X25vZGUgPSBkYXRhLm5vZGVfaWQ7CgkJJCgiI2dvdG9lZGl0IikudmFsKGN1cnJlbnRfbm9kZSk7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0X2FsbCcpLmpzdHJl'));
	@fwrite($fp, base64_decode('ZSgnc2VsZWN0X25vZGUnLCBkYXRhLm5vZGVfaWQpOwoJCSQoJyNyZWFsX3RpdGxlJykuaHRtbChkYXRhLnRpdGxlSFRNTCk7CgkJJCgnI3JlYWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0SFRNTCk7CgkJJCgnI3N0YXRpY19saW5rJykuYXR0cigiaHJlZiIsIGRh'));
	@fwrite($fp, base64_decode('dGEuc3RhdGljbGlua0hSRUYpOwoJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlSFRNTC5odG1sX2VudGl0eV9kZWNvZGUoKSk7Cgl9IGNhdGNoIChlcnIp'));
	@fwrite($fp, base64_decode('IHsKCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7Cgl9IGZpbmFsbHkgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCX0KfSk7CgokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CgkKCWV4ZWN1dGVBbGxDYWxsYmFja3MocGFnZUxvYWRlZENhbGxi'));
	@fwrite($fp, base64_decode('YWNrcy5kb2N1bWVudFJlYWR5QmVmb3JlKTsKCQoJLyoKCXdpbmRvdy5vbmJlZm9yZXVubG9hZCA9IGZ1bmN0aW9uKGUpIHsKCQkvLyBUT0RPOiBUaGlzIHdvbid0IGJlIGNhbGxlZCBiZWNhdXNlIFRpbnlNQ0Ugb3ZlcnJpZGVzIGl0Pz8KCQkvLyBUT0RPOiB3aGVu'));
	@fwrite($fp, base64_decode('IHRoZSB1c2VyIGFjY2VwdGVkIHRoZSBxdWVyeSBpbiBwZXJmb3JtQ2xvc2VRdWVyeUNCKCksIHRoZW4gdGhlIG1lc3NhZ2Ugd2lsbCBiZSBzaG93biBhZ2FpbiBieSB0aGUgYnJvd3NlciEKCQlpZiAoIXBlcmZvcm1DbG9zZVF1ZXJ5Q0IoKSkgewoJCQkvLyBDYW5j'));
	@fwrite($fp, base64_decode('ZWwgdGhlIGV2ZW50CgkJCWUucHJldmVudERlZmF1bHQoKTsgLy8gSWYgeW91IHByZXZlbnQgZGVmYXVsdCBiZWhhdmlvciBpbiBNb3ppbGxhIEZpcmVmb3ggcHJvbXB0IHdpbGwgYWx3YXlzIGJlIHNob3duCgkJCS8vIENocm9tZSByZXF1aXJlcyByZXR1cm5WYWx1'));
	@fwrite($fp, base64_decode('ZSB0byBiZSBzZXQKCQkJZS5yZXR1cm5WYWx1ZSA9ICcnOwoJCX0gZWxzZSB7CgkJCS8vIHRoZSBhYnNlbmNlIG9mIGEgcmV0dXJuVmFsdWUgcHJvcGVydHkgb24gdGhlIGV2ZW50IHdpbGwgZ3VhcmFudGVlIHRoZSBicm93c2VyIHVubG9hZCBoYXBwZW5zCgkJCWRl'));
	@fwrite($fp, base64_decode('bGV0ZSBlWydyZXR1cm5WYWx1ZSddOwoJCX0KCX07CgkqLwoKCWlmICh0eXBlb2Ygb2lkcGx1c19tZW51X3dpZHRoX3VzZXJ2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHsKCQlvaWRwbHVzX21lbnVfd2lkdGggPSBvaWRwbHVzX21lbnVfd2lkdGhfdXNlcnZhbHVlOwoJ'));
	@fwrite($fp, base64_decode('fQoKCS8vIC0tLSBKc1RyZWUKCgkkKCcjb2lkdHJlZScpCgkuanN0cmVlKHsKCQlwbHVnaW5zOiBbJ21hc3Nsb2FkJywnc2VhcmNoJywnY29uZGl0aW9uYWxzZWxlY3QnXSwKCQknY29yZScgOiB7CgkJCSdkYXRhJyA6IHsKCQkJCSJ1cmwiIDogZ2V0VHJlZUxvYWRV'));
	@fwrite($fp, base64_decode('UkwoKSwKCQkJCSJkYXRhIiA6IGZ1bmN0aW9uIChub2RlKSB7CgkJCQkJcmV0dXJuIHsgImlkIiA6IG5vZGUuaWQgfTsKCQkJCX0KCQkJfSwKCQkJIm11bHRpcGxlIjogZmFsc2UKCQl9LAoJCSdjb25kaXRpb25hbHNlbGVjdCcgOiBmdW5jdGlvbiAobm9kZSkgewoJ'));
	@fwrite($fp, base64_decode('CQlpZiAobm9kZS5vcmlnaW5hbC5jb25kaXRpb25hbHNlbGVjdCAhPT0gdW5kZWZpbmVkKSB7CgkJCQlyZXR1cm4gZXZhbChub2RlLm9yaWdpbmFsLmNvbmRpdGlvbmFsc2VsZWN0KTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBwZXJmb3JtQ2xvc2VRdWVyeUNCKCk7'));
	@fwrite($fp, base64_decode('CgkJCX0KCQl9LAoJfSkKCS5vbigncmVhZHkuanN0cmVlJywgZnVuY3Rpb24gKGUsIGRhdGEpIHsKCQl2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CgkJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJCWlmIChn'));
	@fwrite($fp, base64_decode('b3RvID09IG51bGwpIGdvdG8gPSAib2lkcGx1czpzeXN0ZW0iOyAvLyB0aGUgcGFnZSB3YXMgbm90IGNhbGxlZCB3aXRoID9nb3RvPS4uLgoJCSQoIiNnb3RvZWRpdCIpLnZhbChnb3RvKTsKCgkJLy8gQnkgc2V0dGluZyBjdXJyZW50X25vZGUsIHNlbGVjdF9ub2Rl'));
	@fwrite($fp, base64_decode('KCkgd2lsbCBub3QgY2F1c2UgYWpheC5waHA/YWN0aW9uPWdldF9kZXNjcmlwdGlvbiB0byBsb2FkIChzaW5jZSB3ZSBhbHJlYWR5IGxvYWRlZCB0aGUgZmlyc3Qgc3RhdGljIGNvbnRlbnQgdmlhIFBIUCwgZm9yIHNlYXJjaCBlbmdpbmVzIG1haW5seSkKCQkvLyBC'));
	@fwrite($fp, base64_decode('dXQgdGhlbiB3ZSBuZWVkIHRvIHNldCB0aGUgaGlzdG9yeSBzdGF0ZSBtYW51YWxseQoJCWN1cnJlbnRfbm9kZSA9IGdvdG87CgkJd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKHsKCQkJIm5vZGVfaWQiOmdvdG8sCgkJCSJ0aXRsZUhUTUwiOiQoJyNyZWFsX3Rp'));
	@fwrite($fp, base64_decode('dGxlJykuaHRtbCgpLAoJCQkidGV4dEhUTUwiOiQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKCksCgkJCSJzdGF0aWNsaW5rSFJFRiI6ImluZGV4LnBocD9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGdvdG8pLAoJCX0sICQoJyNyZWFsX3RpdGxlJykuaHRtbCgpLCAi'));
	@fwrite($fp, base64_decode('P2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoZ290bykpOwoKCQlpZiAoZ290byAhPSBudWxsKSBkYXRhLmluc3RhbmNlLnNlbGVjdF9ub2RlKFtnb3RvXSk7CgoJCXNldFRpbWVvdXQoZ2xheW91dFdvcmthcm91bmRBQywgMTAwKTsKCQlzZXRUaW1lb3V0KGdsYXlv'));
	@fwrite($fp, base64_decode('dXRXb3JrYXJvdW5kQiwgMTAwKTsKCX0pCgkub24oJ3NlbGVjdF9ub2RlLmpzdHJlZScsIGZ1bmN0aW9uIChub2RlLCBzZWxlY3RlZCwgZXZlbnQpIHsKCQltb2JpbGVOYXZDbG9zZSgpOwoKCQl2YXIgaWQgPSBzZWxlY3RlZC5ub2RlLmlkOwoJCWlmICgoIXBvcHN0'));
	@fwrite($fp, base64_decode('YXRlX3J1bm5pbmcpICYmIChjdXJyZW50X25vZGUgIT0gaWQpKSB7CgkJCS8vIDR0aCBhcmd1bWVudDogd2UgZm9yY2UgdGhlIHJlbG9hZCAoYmVjYXVzZSBpbiB0aGUKCQkJLy8gY29uZGl0aW9uYWwgc2VsZWN0IGFib3ZlLCB3ZSBhbHJlYWR5IGFza2VkIGlmCgkJ'));
	@fwrite($fp, base64_decode('CS8vIHRpbnlNQ0UgbmVlZHMgdG8gYmUgc2F2ZWQpCgkJCW9wZW5PaWRJblBhbmVsKGlkLCBmYWxzZSwgJycsIHRydWUpOwoJCX0KCX0pOwoKCS8vIC0tLSBMYXlvdXQKCgkkKCIjc3lzdGVtX3RpdGxlX21lbnUiKVswXS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsK'));
	@fwrite($fp, base64_decode('Cgl2YXIgdG1wT2JqZWN0VHJlZSA9IF9MKCJPQkpFQ1QgVFJFRSIpLnJlcGxhY2UoLyguezF9KS9nLCIkMTxicj4iKTsKCXRtcE9iamVjdFRyZWUgPSB0bXBPYmplY3RUcmVlLnN1YnN0cmluZygwLCB0bXBPYmplY3RUcmVlLmxlbmd0aC0iPGJyPiIubGVuZ3RoKTsK'));
	@fwrite($fp, base64_decode('CgkkKCcjb2lkdHJlZScpLmFkZENsYXNzKCd1aS1sYXlvdXQtd2VzdCcpOwoJJCgnI2NvbnRlbnRfd2luZG93JykuYWRkQ2xhc3MoJ3VpLWxheW91dC1jZW50ZXInKTsKCSQoJyNzeXN0ZW1fdGl0bGVfYmFyJykuYWRkQ2xhc3MoJ3VpLWxheW91dC1ub3J0aCcpOwoJ'));
	@fwrite($fp, base64_decode('Z2xheW91dCA9ICQoJyNmcmFtZXMnKS5sYXlvdXQoewoJCW5vcnRoX19zaXplOiAgICAgICAgICAgICAgICAgIDQwLAoJCW5vcnRoX19zbGlkYWJsZTogICAgICAgICAgICAgIGZhbHNlLAoJCW5vcnRoX19jbG9zYWJsZTogICAgICAgICAgICAgIGZhbHNlLAoJCW5v'));
	@fwrite($fp, base64_decode('cnRoX19yZXNpemFibGU6ICAgICAgICAgICAgIGZhbHNlLAoJCXdlc3RfX3NpemU6ICAgICAgICAgICAgICAgICAgIG9pZHBsdXNfbWVudV93aWR0aCwKCQl3ZXN0X19zcGFjaW5nX2Nsb3NlZDogICAgICAgICAyMCwKCQl3ZXN0X190b2dnbGVyTGVuZ3RoX2Nsb3Nl'));
	@fwrite($fp, base64_decode('ZDogICAyMzAsCgkJd2VzdF9fdG9nZ2xlckFsaWduX2Nsb3NlZDogICAgImNlbnRlciIsCgkJd2VzdF9fdG9nZ2xlckNvbnRlbnRfY2xvc2VkOiAgdG1wT2JqZWN0VHJlZSwKCQl3ZXN0X190b2dnbGVyVGlwX2Nsb3NlZDogICAgICBfTCgiT3BlbiAmIFBpbiBNZW51'));
	@fwrite($fp, base64_decode('IiksCgkJd2VzdF9fc2xpZGVyVGlwOiAgICAgICAgICAgICAgX0woIlNsaWRlIE9wZW4gTWVudSIpLAoJCXdlc3RfX3NsaWRlVHJpZ2dlcl9vcGVuOiAgICAgICJtb3VzZW92ZXIiLAoJCWNlbnRlcl9fbWFza0NvbnRlbnRzOiAgICAgICAgIHRydWUsIC8vIElNUE9S'));
	@fwrite($fp, base64_decode('VEFOVCAtIGVuYWJsZSBpZnJhbWUgbWFza2luZwoJCW9ucmVzaXplX3N0YXJ0OgkJCQkgIGZ1bmN0aW9uKCkgeyBpZiAodHlwZW9mIGhhbmRsZV9nbGF5b3V0X29ucmVzaXplX3N0YXJ0ID09ICdmdW5jdGlvbicpIGhhbmRsZV9nbGF5b3V0X29ucmVzaXplX3N0YXJ0'));
	@fwrite($fp, base64_decode('KCk7IH0KCX0pOwoKCSQoIiNnb3RvYm94IikuYWRkQ2xhc3MoIm1vYmlsZWhpZGRlbiIpOwoJJCgiI2xhbmd1YWdlQm94IikuYWRkQ2xhc3MoIm1vYmlsZWhpZGRlbiIpOwoJJCgiI2dvdG9ib3giKVswXS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKCSQoJyNnb3Rv'));
	@fwrite($fp, base64_decode('ZWRpdCcpLmtleXByZXNzKGZ1bmN0aW9uKGV2ZW50KSB7CgkJdmFyIGtleWNvZGUgPSAoZXZlbnQua2V5Q29kZSA/IGV2ZW50LmtleUNvZGUgOiBldmVudC53aGljaCk7CgkJaWYgKGtleWNvZGUgPT0gJzEzJykgewoJCQlnb3RvQnV0dG9uQ2xpY2tlZCgpOwoJCX0K'));
	@fwrite($fp, base64_decode('CX0pOwoKCWlmICh0eXBlb2YgQnM1VXRpbHMgIT09ICJ1bmRlZmluZWQiKSB7CgkJQnM1VXRpbHMuZGVmYXVsdHMudG9hc3RzLnBvc2l0aW9uID0gJ3RvcC1jZW50ZXInOwoJCUJzNVV0aWxzLmRlZmF1bHRzLnRvYXN0cy5zdGFja2luZyA9IHRydWU7CgkJYnM1VXRp'));
	@fwrite($fp, base64_decode('bHMgPSBuZXcgQnM1VXRpbHMoKTsKCX0KCQoJZXhlY3V0ZUFsbENhbGxiYWNrcyhwYWdlTG9hZGVkQ2FsbGJhY2tzLmFueVBhZ2VMb2FkKTsKCWV4ZWN1dGVBbGxDYWxsYmFja3MocGFnZUxvYWRlZENhbGxiYWNrcy5kb2N1bWVudFJlYWR5QWZ0ZXIpOwp9KTsKCi8v'));
	@fwrite($fp, base64_decode('IGNhbiBiZSBvdmVycmlkZGVuIGlmIG5lY2Vzc2FyeQp2YXIgaGFuZGxlX2dsYXlvdXRfb25yZXNpemVfc3RhcnQgPSB1bmRlZmluZWQ7CgpmdW5jdGlvbiBnbGF5b3V0V29ya2Fyb3VuZEFDKCkgewoJLy8gIkJ1ZyBBIjogU29tZXRpbWVzLCB0aGUgZGVzaWduIGlz'));
	@fwrite($fp, base64_decode('IGNvbXBsZXRlbHkgZGVzdHJveWVkIGFmdGVyIHJlbG9hZGluZyB0aGUgcGFnZS4gSXQgZG9lcyBub3QgaGVscCB3aGVuIGdsYXlvdXQucmVzaXplQWxsKCkKCS8vICAgICAgICAgIGlzIGNhbGxlZCBhdCB0aGUgYmVnaW5uaW5nIChlLmcuIGR1cmluZyB0aGUgcmVh'));
	@fwrite($fp, base64_decode('ZHkgZnVuY3Rpb24pLCBhbmQgaXQgZG9lcyBub3QgaGVscCBpZiB3ZSB3YWl0IDUwMG1zLgoJLy8gICAgICAgICAgU28gd2UgZG8gaXQgYWxsIHRoZSB0aW1lLiBJdCBoYXMgcHJvYmFibHkgc29tZXRoaW5nIHRvIGRvIHdpdGggc2xvdyBsb2FkaW5nIHRpbWVzLCBz'));
	@fwrite($fp, base64_decode('aW5jZSB0aGUgZXJyb3IKCS8vICAgICAgICAgIGRvZXMgb25seSBhcHBlYXIgd2hlbiB0aGUgcGFnZSBpcyAiYmxhbmsiIGZvciBhIHNob3J0IHdoaWxlIHdoaWxlIGl0IGlzIGxvYWRpbmcuCglnbGF5b3V0LnJlc2l6ZUFsbCgpOwoKCS8vICJCdWcgQyI6IFdpdGgg'));
	@fwrite($fp, base64_decode('RmlyZWZveCAoQW5kIHNvbWV0aW1lcyB3aXRoIENocm9tZSksIHRoZXJlIGlzIGEgZ2FwIGJldHdlZW4gdGhlIGNvbnRlbnQtd2luZG93IChpbmNsdWRpbmcgc2Nyb2xsIGJhcnMpCgkvLyAgICAgICAgICBhbmQgdGhlIHJpZ2h0IGNvcm5lciBvZiB0aGUgc2NyZWVu'));
	@fwrite($fp, base64_decode('LiBSZW1vdmluZyB0aGUgZXhwbGljaXQgd2lkdGggc29sdmVzIHRoaXMgcHJvYmxlbS4KCSQoIiNjb250ZW50X3dpbmRvdyIpWzBdLnN0eWxlLnJlbW92ZVByb3BlcnR5KCJ3aWR0aCIpOwoKCXNldFRpbWVvdXQoZ2xheW91dFdvcmthcm91bmRBQywgMTAwKTsKfQoK'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gZ2xheW91dFdvcmthcm91bmRCKCkgewoJLy8gIkJ1ZyBCIjogU29tZXRpbWVzLCBhZnRlciByZWxvYWQsIHdlaXJkIHNwYWNlIGJldHdlZW4gb2lkdHJlZSBhbmQgY29udGVudCB3aW5kb3csIGJlY2F1c2Ugb2lkdHJlZSBoYXMgc2l6ZSBvZiA0Mzhw'));
	@fwrite($fp, base64_decode('eAoJJCgiI29pZHRyZWUiKVswXS5zdHlsZS53aWR0aCA9IG9pZHBsdXNfbWVudV93aWR0aCArICJweCI7Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdkNsb3NlKCkgewoJaWYgKCQoIiNzeXN0ZW1fdGl0bGVfbWVudSIpLmlzKCI6aGlkZGVuIikpIHsKCQlyZXR1cm47Cgl9'));
	@fwrite($fp, base64_decode('CgoJJCgiI29pZHRyZWUiKS5zbGlkZVVwKCJtZWRpdW0iKS5wcm9taXNlKCkuZG9uZShmdW5jdGlvbigpIHsKCQkkKCIjb2lkdHJlZSIpLmFkZENsYXNzKCJ1aS1sYXlvdXQtd2VzdCIpOwoJCSQoIiNvaWR0cmVlIikuc2hvdygpOwovLwkJJCgiI2dvdG9ib3giKS5o'));
	@fwrite($fp, base64_decode('aWRlKCk7Ci8vCQkkKCIjbGFuZ3VhZ2VCb3giKS5oaWRlKCk7CgkJJCgiI2dvdG9ib3giKS5hZGRDbGFzcygibW9iaWxlaGlkZGVuIik7CgkJJCgiI2xhbmd1YWdlQm94IikuYWRkQ2xhc3MoIm1vYmlsZWhpZGRlbiIpOwoJfSk7CgkkKCIjc3lzdGVtX3RpdGxlX21l'));
	@fwrite($fp, base64_decode('bnUiKS5yZW1vdmVDbGFzcygiYWN0aXZlIik7Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdk9wZW4oKSB7CgkkKCIjb2lkdHJlZSIpLmhpZGUoKTsKCSQoIiNvaWR0cmVlIikucmVtb3ZlQ2xhc3MoInVpLWxheW91dC13ZXN0Iik7CgkkKCIjb2lkdHJlZSIpLnNsaWRlRG93'));
	@fwrite($fp, base64_decode('bigibWVkaXVtIik7Ci8vCSQoIiNnb3RvYm94Iikuc2hvdygpOwovLwkkKCIjbGFuZ3VhZ2VCb3giKS5zaG93KCk7CgkkKCIjZ290b2JveCIpLnJlbW92ZUNsYXNzKCJtb2JpbGVoaWRkZW4iKTsKCSQoIiNsYW5ndWFnZUJveCIpLnJlbW92ZUNsYXNzKCJtb2JpbGVo'));
	@fwrite($fp, base64_decode('aWRkZW4iKTsKCSQoIiNzeXN0ZW1fdGl0bGVfbWVudSIpLmFkZENsYXNzKCJhY3RpdmUiKTsKfQoKZnVuY3Rpb24gbW9iaWxlTmF2QnV0dG9uQ2xpY2soc2VuZGVyKSB7CglpZiAoJCgiI29pZHRyZWUiKS5oYXNDbGFzcygidWktbGF5b3V0LXdlc3QiKSkgewoJCW1v'));
	@fwrite($fp, base64_decode('YmlsZU5hdk9wZW4oKTsKCX0gZWxzZSB7CgkJbW9iaWxlTmF2Q2xvc2UoKTsKCX0KfQoKZnVuY3Rpb24gbW9iaWxlTmF2QnV0dG9uSG92ZXIoc2VuZGVyKSB7CglzZW5kZXIuY2xhc3NMaXN0LnRvZ2dsZSgiaG92ZXIiKTsKfQoKZnVuY3Rpb24gZ290b0J1dHRvbkNs'));
	@fwrite($fp, base64_decode('aWNrZWQoKSB7CglvcGVuT2lkSW5QYW5lbCgkKCIjZ290b2VkaXQiKS52YWwoKSwgdHJ1ZSk7Cn0KCmZ1bmN0aW9uIGp1bXBUb0FuY2hvcihhbmNob3IpIHsKCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIiMiICsgYW5jaG9yOwp9CgpmdW5jdGlvbiBnZXRDb29raWUo'));
	@fwrite($fp, base64_decode('Y25hbWUpIHsKCS8vIFNvdXJjZTogaHR0cHM6Ly93d3cudzNzY2hvb2xzLmNvbS9qcy9qc19jb29raWVzLmFzcAoJdmFyIG5hbWUgPSBjbmFtZSArICI9IjsKCXZhciBkZWNvZGVkQ29va2llID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmNvb2tpZSk7Cgl2'));
	@fwrite($fp, base64_decode('YXIgY2EgPSBkZWNvZGVkQ29va2llLnNwbGl0KCc7Jyk7Cglmb3IodmFyIGkgPSAwOyBpIDxjYS5sZW5ndGg7IGkrKykgewoJCXZhciBjID0gY2FbaV07CgkJd2hpbGUgKGMuY2hhckF0KDApID09ICcgJykgewoJCQljID0gYy5zdWJzdHJpbmcoMSk7CgkJfQoJCWlm'));
	@fwrite($fp, base64_decode('IChjLmluZGV4T2YobmFtZSkgPT0gMCkgewoJCQlyZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsIGMubGVuZ3RoKTsKCQl9Cgl9CglyZXR1cm4gdW5kZWZpbmVkOwp9CgpmdW5jdGlvbiBzZXRDb29raWUoY25hbWUsIGN2YWx1ZSwgZXhkYXlzLCBwYXRoKSB7'));
	@fwrite($fp, base64_decode('Cgl2YXIgZCA9IG5ldyBEYXRlKCk7CglkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzKjI0KjYwKjYwKjEwMDApKTsKCXZhciBleHBpcmVzID0gZXhkYXlzID09IDAgPyAiIiA6ICI7IGV4cGlyZXM9IitkLnRvVVRDU3RyaW5nKCk7Cglkb2N1bWVudC5jb29r'));
	@fwrite($fp, base64_decode('aWUgPSBjbmFtZSArICI9IiArIGN2YWx1ZSArIGV4cGlyZXMgKyAiO3BhdGg9IiArIHBhdGggKyAiO1NhbWVTaXRlPSIgKyBzYW1lc2l0ZV9wb2xpY3k7Cn0KCmZ1bmN0aW9uIHNldExhbmd1YWdlKGxuZ2lkKSB7CglzZXRDb29raWUoJ0xBTkdVQUdFJywgbG5naWQs'));
	@fwrite($fp, base64_decode('IDAvKlVudGlsIGJyb3dzZXIgY2xvc2VzKi8sIGxvY2F0aW9uLnBhdGhuYW1lKTsKCgkkKCIubG5nX2ZsYWciKS5lYWNoKGZ1bmN0aW9uKCl7CgkJJCh0aGlzKS5hZGRDbGFzcygicGljdHVyZV9naG9zdCIpOwoJfSk7CgkkKCIjbG5nX2ZsYWdfIiskLmVzY2FwZVNl'));
	@fwrite($fp, base64_decode('bGVjdG9yKGxuZ2lkKSkucmVtb3ZlQ2xhc3MoInBpY3R1cmVfZ2hvc3QiKTsKCglpZiAoaXNJbnRlcm5ldEV4cGxvcmVyKCkpIHsKCQkvLyBJbnRlcm5ldCBFeHBsb3JlciBoYXMgcHJvYmxlbXMgd2l0aCBzZW5kaW5nIG5ldyBjb29raWVzIHRvIG5ldyBBSkFYIHJl'));
	@fwrite($fp, base64_decode('cXVlc3RzLCBzbyB3ZSByZWxvYWQgdGhlIHBhZ2UgY29tcGxldGVseQoJCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKCX0gZWxzZSB7CgkJLy8gVE9ETzogU21hbGwgZGV0YWlsOiBUaGUgIkdvIiBidXR0b24gYWxzbyBuZWVkcyB0byBiZSByZS10cmFuc2xhdGVk'));
	@fwrite($fp, base64_decode('CgkJcmVsb2FkQ29udGVudCgpOwoJCW1vYmlsZU5hdkNsb3NlKCk7Cgl9Cn0KCmZ1bmN0aW9uIGdldEN1cnJlbnRMYW5nKCkgewoJLy8gTm90ZTogSWYgdGhlIGFyZ3VtZW50ICI/bGFuZz0iIGlzIHVzZWQsIFBIUCB3aWxsIGF1dG9tYXRpY2FsbHkgc2V0IGEgQ29v'));
	@fwrite($fp, base64_decode('a2llLCBzbyBpdCBpcyBPSyB3aGVuIHdlIG9ubHkgY2hlY2sgZm9yIHRoZSBjb29raWUKCXZhciBsYW5nID0gZ2V0Q29va2llKCdMQU5HVUFHRScpOyAvLyBkbyBub3QgdHJhbnNsYXRlCglyZXR1cm4gKHR5cGVvZiBsYW5nICE9ICd1bmRlZmluZWQnKSA/IGxhbmcg'));
	@fwrite($fp, base64_decode('OiBERUZBVUxUX0xBTkdVQUdFOyAvLyBkbyBub3QgdHJhbnNsYXRlCn0KCmZ1bmN0aW9uIF9MKCkgewoJdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwoJdmFyIHN0ciA9IGFyZ3Muc2hpZnQoKS50cmltKCk7CgoJdmFyIHRt'));
	@fwrite($fp, base64_decode('cCA9ICIiOwoJaWYgKHR5cGVvZiBsYW5ndWFnZV9tZXNzYWdlc1tnZXRDdXJyZW50TGFuZygpXSA9PSAndW5kZWZpbmVkJykgeyAvLyBkbyBub3QgdHJhbnNsYXRlCgkJdG1wID0gc3RyOwoJfSBlbHNlIHsKCQl2YXIgbXNnID0gbGFuZ3VhZ2VfbWVzc2FnZXNbZ2V0'));
	@fwrite($fp, base64_decode('Q3VycmVudExhbmcoKV1bc3RyXTsKCQlpZiAodHlwZW9mIG1zZyAhPSAndW5kZWZpbmVkJykgeyAvLyBkbyBub3QgdHJhbnNsYXRlCgkJCXRtcCA9IG1zZzsKCQl9IGVsc2UgewoJCQl0bXAgPSBzdHI7CgkJfQoJfQoKCXRtcCA9IHRtcC5yZXBsYWNlKCcjIyMnLCBs'));
	@fwrite($fp, base64_decode('YW5ndWFnZV90YmxwcmVmaXgpOwoKCXZhciBuID0gMTsKCXdoaWxlIChhcmdzLmxlbmd0aCA+IDApIHsKCQl2YXIgdmFsID0gYXJncy5zaGlmdCgpOwoJCXRtcCA9IHRtcC5yZXBsYWNlKCIlIituLCB2YWwpOwoJCW4rKzsKCX0KCgl0bXAgPSB0bXAucmVwbGFjZSgi'));
	@fwrite($fp, base64_decode('JSUiLCAiJSIpOwoKCXJldHVybiB0bXA7Cn0KCmZ1bmN0aW9uIHNob3dfd2FpdGluZ19hbmltKCkgewoJJCgiI2xvYWRpbmciKS5zaG93KCk7Cn0KCmZ1bmN0aW9uIGhpZGVfd2FpdGluZ19hbmltKCkgewoJJCgiI2xvYWRpbmciKS5oaWRlKCk7Cn0KCi8qIE1pbmkt'));
	@fwrite($fp, base64_decode('ZnJhbWV3b3JrIHRvIGFib3J0IGFsbCBBSkFYIHJlcXVlc3RzIGlmIGEgbmV3IHJlcXVlc3QgaXMgbWFkZSAqLwoKJC54aHJQb29sID0gW107CiQueGhyUG9vbC5hZGQgPSBmdW5jdGlvbihqcVhIUikgewoJJC54aHJQb29sLnB1c2goanFYSFIpOwp9CiQueGhyUG9v'));
	@fwrite($fp, base64_decode('bC5yZW1vdmUgPSBmdW5jdGlvbihqcVhIUikgewoJdmFyIGluZGV4ID0gJC54aHJQb29sLmluZGV4T2YoanFYSFIpOwoJaWYgKGluZGV4ID4gLTEpIHsKCQkkLnhoclBvb2wuc3BsaWNlKGluZGV4LCAxKTsKCX0KfTsKJC54aHJQb29sLmFib3J0QWxsID0gZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24oKSB7Cgl2YXIgY2FsbHMgPSBBcnJheS5mcm9tKCQueGhyUG9vbCk7CgkkLmVhY2goY2FsbHMsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHsKCQl2YWx1ZS5hYm9ydCgpOwoJfSk7Cn0KCi8qIE1pc2MgZnVuY3Rpb25zICovCgpmdW5jdGlvbiBpc051bGwodmFsLCBk'));
	@fwrite($fp, base64_decode('ZWYpIHsKCS8vIEZvciBjb21wYXRpYmlsaXR5IHdpdGggSW50ZXJuZXQgRXhwbG9yZXIsIHVzZSBpc051bGwoYSxiKSBpbnN0ZWFkIG9mIGE/P2IKCWlmICh2YWwgPT0gbnVsbCkgewoJCS8vIHNpbmNlIG51bGw9PXVuZGVmaW5lZCwgdGhpcyBhbHNvIHdvcmtzIHdp'));
	@fwrite($fp, base64_decode('dGggdW5kZWZpbmVkCgkJcmV0dXJuIGRlZjsKCX0gZWxzZSB7CgkJcmV0dXJuIHZhbDsKCX0KfQoKLyogSW5kaXZpZHVhbCBhbGVydCB0eXBlcyAqLwovKiBUT0RPOiBhbGVydCgpIGJsb2NrcyBwcm9ncmFtIGZsb3csIGJ1dCBhbGVydFN1Y2Nlc3MoKSBub3QhIFdp'));
	@fwrite($fp, base64_decode('bGwgdGhlIG1hc3MgY2hhbmdlIGhhdmUgbmVnYXRpdmUgZWZmZWN0cyAoZS5nLiBhIHJlZGlyZWN0IHdpdGhvdXQgdGhlIHVzZXIgc2VlaW5nIHRoZSB0b2FzdCk/ICovCgpmdW5jdGlvbiBhbGVydFN1Y2Nlc3ModHh0KSB7CglpZiAodHlwZW9mIGJzNVV0aWxzICE9'));
	@fwrite($fp, base64_decode('PSAidW5kZWZpbmVkIikgewoJCWJzNVV0aWxzLlNuYWNrLnNob3coJ3N1Y2Nlc3MnLCBfTCh0eHQpLCBkZWxheSA9IDUwMDAsIGRpc21pc3NpYmxlID0gdHJ1ZSk7Cgl9IGVsc2UgewoJCWFsZXJ0KHR4dCk7Cgl9Cn0KCmZ1bmN0aW9uIGFsZXJ0V2FybmluZyh0eHQp'));
	@fwrite($fp, base64_decode('IHsKCS8vIFRPRE86IGFzIHRvYXN0PwoJYWxlcnQodHh0KTsKfQoKZnVuY3Rpb24gYWxlcnRFcnJvcih0eHQpIHsKCS8vIFRPRE86IGFzIHRvYXN0PwoJYWxlcnQodHh0KTsKfQo='));
	@fclose($fp);
}
if (!is_file('includes/oidplus_base.js')) {
	warn('File has vanished! Will re-create it: includes/oidplus_base.js');
	writefile_1();
	if (!is_file('includes/oidplus_base.js')) {
		warn('File cannot be created (not existing): includes/oidplus_base.js');
	} else if (sha1_file('includes/oidplus_base.js') != 'e300d42678d2ccf4160a3938075c4f90dd71ff30') {
		warn('File cannot be created (checksum mismatch): includes/oidplus_base.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/oidplus_base.js', 0644)) {
		warn('Could not change file permissions of includes/oidplus_base.js');
	}
} else {
	if (@sha1_file('includes/oidplus_base.js') !== 'e300d42678d2ccf4160a3938075c4f90dd71ff30') {
		if (@sha1_file('includes/oidplus_base.js') !== 'f91433287bf689b9909fc811b9d57f36a1695540') {
			warn('File was modified. Will overwrite the changes now: includes/oidplus_base.js');
			$tmp = pathinfo('includes/oidplus_base.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/oidplus_base.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/oidplus_base.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/oidplus_base.js') !== 'e300d42678d2ccf4160a3938075c4f90dd71ff30') {
			warn('File cannot be written (checksum mismatch): includes/oidplus_base.js');
		}
	}
}

// Files different: plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js
function writefile_2() {
	@$fp = fopen('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js', 'w');
	@fwrite($fp, base64_decode('LyoKKiBNSVQgTGljZW5zZQoqCiogQ29weXJpZ2h0IChjKSAyMDIyIFNpbW9uIFR1c2hldgoqCiogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQoqIG9mIHRoaXMgc29mdHdh'));
	@fwrite($fp, base64_decode('cmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCiogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwoqIHRvIHVz'));
	@fwrite($fp, base64_decode('ZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKKiBmdXJuaXNo'));
	@fwrite($fp, base64_decode('ZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoqCiogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsCiogY29waWVzIG9yIHN1YnN0'));
	@fwrite($fp, base64_decode('YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KKgoqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCiogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBU'));
	@fwrite($fp, base64_decode('TyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCiogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCiogQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBM'));
	@fwrite($fp, base64_decode('SUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgoqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCiogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBU'));
	@fwrite($fp, base64_decode('SEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUKKiBTT0ZUV0FSRS4KKi8KCm9pZHBsdXNfbWVudV93aWR0aF91c2VydmFsdWUgPSBpc051bGwobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ21lbnVfd2lkdGgnKSwgb2lkcGx1c19tZW51'));
	@fwrite($fp, base64_decode('X3dpZHRoKTsKCi8vIFRoaXMgZnVuY3Rpb24gd2lsbCBmaXJlIHVwb24gYW55IHBhZ2UgcmVsb2FkIChib3RoIGRvY3VtZW50LnJlYWR5IGFuZCBBSkFYIHBhZ2UgY2hhbmdlKQpwYWdlTG9hZGVkQ2FsbGJhY2tzLmFueVBhZ2VMb2FkLnB1c2goZnVuY3Rpb24oKSB7'));
	@fwrite($fp, base64_decode('CglpZiAodWl0d2Vha3MucHJlZmVyX2FkbWluX2xvZ2luX3RhYikgewoJCSQoJyNsb2dpblRhYiAjbXlUYWIgYVtocmVmPSIjYWRtaW4iXScpLnRhYignc2hvdycpOyAvLyBTZWxlY3QgdGFiIGJ5IGxpbmsKCX0KfSk7CgovLyBUaGlzIGZ1bmN0aW9uIHdpbGwgZmly'));
	@fwrite($fp, base64_decode('ZSB1cG9uIGRvY3VtZW50LnJlYWR5IGV2ZW50IG9ubHksIGFmdGVyIHRoZSBPSURwbHVzIGJhc2UgY29kZQpwYWdlTG9hZGVkQ2FsbGJhY2tzLmRvY3VtZW50UmVhZHlBZnRlci5wdXNoKGZ1bmN0aW9uICgpIHsKCgl2YXIgdHJlZSA9ICQoJyNvaWR0cmVlJyk7Cgl0'));
	@fwrite($fp, base64_decode('cmVlLm9uKCdyZWFkeS5qc3RyZWUnLCBmdW5jdGlvbiAoZSwgZGF0YSkgewoJCXZhciBvICA9IGlzTnVsbCh1aXR3ZWFrcy5leHBhbmRfb2JqZWN0c190cmVlICwgZmFsc2UpOwoJCXZhciBsICA9IGlzTnVsbCh1aXR3ZWFrcy5jb2xsYXBzZV9sb2dpbl90cmVlICwg'));
	@fwrite($fp, base64_decode('ZmFsc2UpOwoJCXZhciByICA9IGlzTnVsbCh1aXR3ZWFrcy5jb2xsYXBzZV9yZXNfdHJlZSAgICwgZmFsc2UpOwoKCQlpZiAobykgdHJlZS5qc3RyZWUoJ29wZW5fYWxsJywgIGRhdGEuaW5zdGFuY2UuZ2V0X25vZGUoJ29pZHBsdXM6c3lzdGVtJykpOwoJCWlmIChs'));
	@fwrite($fp, base64_decode('KSB0cmVlLmpzdHJlZSgnY2xvc2VfYWxsJywgZGF0YS5pbnN0YW5jZS5nZXRfbm9kZSgnb2lkcGx1czpsb2dpbicpKTsKCQlpZiAocikgdHJlZS5qc3RyZWUoJ2Nsb3NlX2FsbCcsIGRhdGEuaW5zdGFuY2UuZ2V0X25vZGUoJ29pZHBsdXM6cmVzb3VyY2VzJykpOwkJ'));
	@fwrite($fp, base64_decode('Cgl9KTsKCgl2YXIgbWVudV9yZW1lbWJlcl93aWR0aCA9IGlzTnVsbCh1aXR3ZWFrcy5tZW51X3JlbWVtYmVyX3dpZHRoLCBmYWxzZSk7CglpZiAobWVudV9yZW1lbWJlcl93aWR0aCkgewoJCWhhbmRsZV9nbGF5b3V0X29ucmVzaXplX3N0YXJ0ID0gZnVuY3Rpb24g'));
	@fwrite($fp, base64_decode('KCkgewoJCQl2YXIgbmV3X3dpZHRoID0gcGFyc2VJbnQoJCgiI29pZHRyZWUiKVswXS5zdHlsZS53aWR0aCwgMTApOwoJCQlsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbWVudV93aWR0aCcsIG5ld193aWR0aCk7CgkJfQoJCWhhbmRsZV9nbGF5b3V0X29ucmVzaXplX3N0'));
	@fwrite($fp, base64_decode('YXJ0KCk7IC8vIHRvIG1ha2Ugc3VyZSB0aGF0IGN1cnJlbnQgdmFsdWUgd2lsbCBiZSBzYXZlZCBldmVuIGlmIHRoZSB1c2VyIHdpbGwgbm90IGRyYWcgdGhlIGJhcgoJfSBlbHNlIHsKCQlsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbWVudV93aWR0aCcpOwoJCW9p'));
	@fwrite($fp, base64_decode('ZHBsdXNfbWVudV93aWR0aF91c2VydmFsdWUgPSBvaWRwbHVzX21lbnVfd2lkdGg7Cgl9Cgp9KTsK'));
	@fclose($fp);
}
if (!is_file('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js')) {
	warn('File has vanished! Will re-create it: plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js');
	writefile_2();
	if (!is_file('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js')) {
		warn('File cannot be created (not existing): plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js');
	} else if (sha1_file('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js') != '33e5dd9b64f0cf9b819b412f72df33d5378196b5') {
		warn('File cannot be created (checksum mismatch): plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js', 0644)) {
		warn('Could not change file permissions of plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js');
	}
} else {
	if (@sha1_file('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js') !== '33e5dd9b64f0cf9b819b412f72df33d5378196b5') {
		if (@sha1_file('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js') !== 'e79807940457af99ec1245f87da43e13c641be45') {
			warn('File was modified. Will overwrite the changes now: plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js');
			$tmp = pathinfo('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js') !== '33e5dd9b64f0cf9b819b412f72df33d5378196b5') {
			warn('File cannot be written (checksum mismatch): plugins/tushevorg/publicPages/2000_uitweaks/OIDplusPagePublicUITweaks.js');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 839\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 839') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

