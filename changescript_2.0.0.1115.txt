<?php /* <ViaThinkSoftSignature>
aOA22cxjaY6r4z9n5MLRm66QyCL787DrM2YPMo835cotD/mcdKDTywgwrgOpaOaH9
n1WlljNwaPz6K0JC5Zjc4TFld8UsyCQQW3GMMWWzpvl3KPzB2eZIBseXRC+DxemoU
qmD+59jZ/h2RbJAetW4vxh7i12oA1tKLKHoPHLv4zwgCVS95mF4iYvzp57JlPKSm+
xQVUyzMnyGunYqco0b5DL+aH5lUV64YNncql86VAnSP/Wse4uwiXlqhCmwFxWl0hO
cf5Y2cctPqvXyB++QFzimZhJCoxfmiLGJ4xa3fJAxj7Uq7hxP1LnUqqv1Lg0Lxo1N
0VVzl5Onx5pdqXBG69HNv63e5UM9kY6EzvxWAOkmxLKh73EVCv/z+I9LDGUMX8YZx
HVivklAeeykQsOC3PGmpGp1cSQw29XBi+oH/NKhzH5uqLyFPrWdNKtPm2bhPQDoPf
EuKBt0QFBFzPORAaX/PRghRqNpap9Wr2Zsso635tcjX/r9id4pztk2McJW22ZviRK
IXT6xEoSde+vzfM7rYdqyuoScb91iiVSVvCq2JUVyhK1tR2ijfGLoGlc6yo740Aw3
JTxVWDHLKyO/u/v+f/Du4VEb5Nz2lEQT29YRkf+X1PA27JOwhjwjeRaNLS6mlYOaS
ufU/mUrhoUyKKf94v/oA7sfsIgXa0mlJ9abfkk1u4loz5mK4iRVCN8Sjy1umkv90A
BCZLdvRU1bZqRpgv1nEeVpFbwqIiK3QHLj+yBMc4PVmqv51jZeYeUGx3ydaZrkpkw
7tA3Gjg0ZnCthJU0C8ocw0hQETsvA/BLs/mQtn1QMt6u/GlOxG/i3pbiJnSj+sseh
g3026hDE+aS7dqw0Ar6IufxG0d+SCQb2ZPsLZqZy5B5+JJQedhqwxGKQiBXzrzXEx
C6aH1HaVrz4zrXJg28YK+HB5AFjmOFzoG1+cfOOFbRrkks1afkFMEyJVSV9YIQItz
dWkQgQDVQlzYt88LCe14JK3ErfJuiG34ynTA/P4pvY2FiQw9n9KdDhs6F+KBa49yq
h69v31Ky83/V/ydlz3xBu1kv6MYnt3C+yIyx712OwA0bc297U08V9PiMXTmoO+icj
+XcIC2EXnpMdhelHZUBhQgBbPk2tATYoIZukTL9KZwKVZ37yM+rNnPnDPZG8/YXq4
pVok74/KF7QaMiR17S1V/wQcFE/hr1gQR5Zx0wTqrZxvGBiHCRoFYGfShbalUUuZu
q27ltKa76q/Ew4TJzVt6jJfPvdXK0Er4GKv64JP4ozNu60pWExjuwObsZf8ScV5VJ
CEcslJW8Qi7F+z/ZOaETyCgLguWqa8vBkkT61Fz9/LjeZD24FkBolBrd1nT7Eh0JE
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1114') {
	err('This update can only be applied to OIDplus version 2.0.0.1114!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/classes/OIDplusGui.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusGui.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c0d1aSBleHRlbmRzIE9JRHBsdXNCYXNlQ2xhc3MgewoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2VuZXJhdGVDb250ZW50UGFnZSgkaWQpIHsKCQkkb3V0ID0gYXJy'));
	@fwrite($fp, base64_decode('YXkoKTsKCgkJJGhhbmRsZWQgPSBmYWxzZTsKCQkkb3V0Wyd0aXRsZSddID0gJyc7CgkJJG91dFsnaWNvbiddID0gJyc7CgkJJG91dFsndGV4dCddID0gJyc7CgoJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQl0cnkg'));
	@fwrite($fp, base64_decode('ewoJCQkJJHBsdWdpbi0+Z3VpKCRpZCwgJG91dCwgJGhhbmRsZWQpOwoJCQl9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgkJCQkkb3V0Wyd0aXRsZSddID0gX0woJ0Vycm9yJyk7CgkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yLnBuZyc7CgkJCQkkb3V0Wyd0'));
	@fwrite($fp, base64_decode('ZXh0J10gPSAkZS0+Z2V0TWVzc2FnZSgpOwoJCQl9CgkJCWlmICgkaGFuZGxlZCkgYnJlYWs7CgkJfQoKCQlpZiAoISRoYW5kbGVkKSB7CgkJCWlmIChpc3NldCgkX1NFUlZFUlsnU0NSSVBUX0ZJTEVOQU1FJ10pICYmIChzdHJ0b2xvd2VyKGJhc2VuYW1lKCRfU0VS'));
	@fwrite($fp, base64_decode('VkVSWydTQ1JJUFRfRklMRU5BTUUnXSkpICE9PSAnYWpheC5waHAnKSkgeyAvLyBkb24ndCBzZW5kIEhUVFAgZXJyb3IgY29kZXMgaW4gYWpheC5waHAsIGJlY2F1c2Ugd2Ugd2FudCBhIHBhZ2UgYW5kIG5vdCBhIEphdmFTY3JpcHQgYWxlcnQgYm94LCB3aGVuIHNv'));
	@fwrite($fp, base64_decode('bWVvbmUgZW50ZXJzIGFuIGludmFsaWQgT0lEIGluIHRoZSBHb1RvLUJveAoJCQkJaWYgKFBIUF9TQVBJICE9ICdjbGknKSBAaHR0cF9yZXNwb25zZV9jb2RlKDQwNCk7CgkJCX0KCQkJJG91dFsndGl0bGUnXSA9IF9MKCdFcnJvcicpOwoJCQkkb3V0WydpY29uJ10g'));
	@fwrite($fp, base64_decode('PSAnaW1nL2Vycm9yLnBuZyc7CgkJCSRvdXRbJ3RleHQnXSA9IF9MKCdUaGUgcmVzb3VyY2UgY2Fubm90IGJlIGZvdW5kLicpOwoJCX0KCgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBsaW5rKCRnb3RvLCAkbmV3X3dpbmRvdz1mYWxz'));
	@fwrite($fp, base64_decode('ZSk6IHN0cmluZyB7CgkJaWYgKCRuZXdfd2luZG93KSB7CgkJCXJldHVybiAnaHJlZj0iP2dvdG89Jy51cmxlbmNvZGUoJGdvdG8pLiciIHRhcmdldD0iX2JsYW5rIic7CgkJfSBlbHNlIHsKCQkJaWYgKHN0cnBvcygkZ290bywgJyMnKSAhPT0gZmFsc2UpIHsKCQkJ'));
	@fwrite($fp, base64_decode('CWxpc3QoJGdvdG8sICRhbmNob3IpID0gZXhwbG9kZSgnIycsICRnb3RvLCAyKTsKCQkJCXJldHVybiAnaHJlZj0iP2dvdG89Jy51cmxlbmNvZGUoJGdvdG8pLicjJy5odG1sZW50aXRpZXMoJGFuY2hvcikuJyIgb25jbGljaz0ib3Blbk9pZEluUGFuZWwoJy5qc19l'));
	@fwrite($fp, base64_decode('c2NhcGUoJGdvdG8pLicsIHRydWUsICcuanNfZXNjYXBlKCRhbmNob3IpLicpOyByZXR1cm4gZmFsc2U7Iic7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gJ2hyZWY9Ij9nb3RvPScudXJsZW5jb2RlKCRnb3RvKS4nIiBvbmNsaWNrPSJvcGVuT2lkSW5QYW5lbCgnLmpz'));
	@fwrite($fp, base64_decode('X2VzY2FwZSgkZ290bykuJywgdHJ1ZSk7IHJldHVybiBmYWxzZTsiJzsKCQkJfQoJCX0KCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldExhbmd1YWdlQm94KCRnb3RvLCAkdXNlSnMpIHsKCQkkb3V0ID0gJyc7CgkJJG91dCAuPSAnPGRpdiBpZD0ibGFuZ3Vh'));
	@fwrite($fp, base64_decode('Z2VCb3giPic7CgkJJGxhbmdib3hfZW50cmllcyA9IGFycmF5KCk7CgkJJG5vbl9kZWZhdWx0X2xhbmd1YWdlcyA9IDA7CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0QWxsUGx1Z2luTWFuaWZlc3RzKCdsYW5ndWFnZScpIGFzICRwbHVnaW5NYW5pZmVzdCkgewoJCQkk'));
	@fwrite($fp, base64_decode('ZmxhZyA9ICRwbHVnaW5NYW5pZmVzdC0+Z2V0TGFuZ3VhZ2VGbGFnKCk7CgkJCSRjb2RlID0gJHBsdWdpbk1hbmlmZXN0LT5nZXRMYW5ndWFnZUNvZGUoKTsKCQkJaWYgKCRjb2RlICE9IE9JRHBsdXM6OmdldERlZmF1bHRMYW5nKCkpICRub25fZGVmYXVsdF9sYW5n'));
	@fwrite($fp, base64_decode('dWFnZXMrKzsKCQkJaWYgKCRjb2RlID09IE9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCkpIHsKCQkJCSRjbGFzcyA9ICdsbmdfZmxhZyc7CgkJCX0gZWxzZSB7CgkJCQkkY2xhc3MgPSAnbG5nX2ZsYWcgcGljdHVyZV9naG9zdCc7CgkJCX0KCQkJJGFkZCA9ICghaXNf'));
	@fwrite($fp, base64_decode('bnVsbCgkZ290bykpID8gJyZhbXA7Z290bz0nLnVybGVuY29kZSgkZ290bykgOiAnJzsKCgkJCSRkaXJzID0gZ2xvYihPSURwbHVzOjpsb2NhbHBhdGgoKS4ncGx1Z2lucy8nLicqJy4nL2xhbmd1YWdlLycuJGNvZGUuJy8nKTsKCgkJCWlmIChjb3VudCgkZGlycykg'));
	@fwrite($fp, base64_decode('PiAwKSB7CgkJCQkkZGlyID0gc3Vic3RyKCRkaXJzWzBdLCBzdHJsZW4oT0lEcGx1czo6bG9jYWxwYXRoKCkpKTsKCQkJCSRsYW5nYm94X2VudHJpZXNbJGNvZGVdID0gJzxzcGFuIGNsYXNzPSJsYW5nX2ZsYWdfYmciPjxhICcuKCR1c2VKcyA/ICdvbmNsaWNrPSJy'));
	@fwrite($fp, base64_decode('ZXR1cm4gIXNldExhbmd1YWdlKFwnJy4kY29kZS4nXCcpIiAnIDogJycpLidocmVmPSI/bGFuZz0nLiRjb2RlLiRhZGQuJyI+PGltZyBzcmM9IicuT0lEcGx1czo6d2VicGF0aChudWxsLE9JRHBsdXM6OlBBVEhfUkVMQVRJVkUpLiRkaXIuJGZsYWcuJyIgYWx0PSIn'));
	@fwrite($fp, base64_decode('LiRwbHVnaW5NYW5pZmVzdC0+Z2V0TmFtZSgpLiciIHRpdGxlPSInLiRwbHVnaW5NYW5pZmVzdC0+Z2V0TmFtZSgpLiciIGNsYXNzPSInLiRjbGFzcy4nIiBpZD0ibG5nX2ZsYWdfJy4kY29kZS4nIiBoZWlnaHQ9IjIwIj48L2E+PC9zcGFuPiAnOwoJCQl9CgkJfQoJ'));
	@fwrite($fp, base64_decode('CWlmICgkbm9uX2RlZmF1bHRfbGFuZ3VhZ2VzID4gMCkgewoJCQlmb3JlYWNoICgkbGFuZ2JveF9lbnRyaWVzIGFzICRlbnQpIHsKCQkJCSRvdXQgLj0gIiRlbnRcblx0XHQiOwoJCQl9CgkJfQoJCSRvdXQgLj0gJzwvZGl2Pic7CgkJcmV0dXJuICRvdXQ7Cgl9CgoJ'));
	@fwrite($fp, base64_decode('cHVibGljIHN0YXRpYyBmdW5jdGlvbiBodG1sX2V4Y2VwdGlvbl9oYW5kbGVyKCRleGNlcHRpb24pIHsKCQlpZiAoJGV4Y2VwdGlvbiBpbnN0YW5jZW9mIE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbikgewoJCQllY2hvICc8IURPQ1RZUEUgSFRN'));
	@fwrite($fp, base64_decode('TD4nOwoJCQllY2hvICc8aHRtbD48aGVhZD48dGl0bGU+Jy5odG1sZW50aXRpZXMoX0woJ09JRHBsdXMgaW5pdGlhbGl6YXRpb24gZXJyb3InKSkuJzwvdGl0bGU+PC9oZWFkPjxib2R5Pic7CgkJCWVjaG8gJzxoMT4nLmh0bWxlbnRpdGllcyhfTCgnT0lEcGx1cyBp'));
	@fwrite($fp, base64_decode('bml0aWFsaXphdGlvbiBlcnJvcicpKS4nPC9oMT4nOwoJCQllY2hvICc8cD4nLmh0bWxlbnRpdGllcygkZXhjZXB0aW9uLT5nZXRNZXNzYWdlKCksIEVOVF9TVUJTVElUVVRFKS4nPC9wPic7CgkJCSRtc2cgPSBfTCgnUGxlYXNlIGNoZWNrIHRoZSBmaWxlICUxJywn'));
	@fwrite($fp, base64_decode('PGI+dXNlcmRhdGEvYmFzZWNvbmZpZy9jb25maWcuaW5jLnBocDwvYj4nKTsKCQkJaWYgKGlzX2RpcihfX0RJUl9fIC4gJy8uLi8uLi9zZXR1cCcpKSB7CgkJCQkkbXNnIC49ICcgJy5fTCgnb3IgcnVuIDxhIGhyZWY9IiUxIj5zZXR1cDwvYT4gYWdhaW4nLE9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OndlYnBhdGgobnVsbCxPSURwbHVzOjpQQVRIX1JFTEFUSVZFKS4nc2V0dXAvJyk7CgkJCX0KCQkJZWNobyAnPHA+Jy4kbXNnLic8L3A+JzsgLy8gTm8gaHRtbGVudGl0aWVzLCBiZWNhdXNlIHdlIGFscmVhZHkgZGlkIGl0IGFib3ZlCgkJCWVjaG8gc2VsZjo6'));
	@fwrite($fp, base64_decode('Z2V0RXhjZXB0aW9uVGVjaEluZm8oJGV4Y2VwdGlvbik7CgkJCWVjaG8gJzwvYm9keT48L2h0bWw+JzsKCQl9IGVsc2UgewoJCQllY2hvICc8IURPQ1RZUEUgSFRNTD4nOwoJCQllY2hvICc8aHRtbD48aGVhZD48dGl0bGU+Jy5odG1sZW50aXRpZXMoX0woJ09JRHBs'));
	@fwrite($fp, base64_decode('dXMgZXJyb3InKSkuJzwvdGl0bGU+PC9oZWFkPjxib2R5Pic7CgkJCWVjaG8gJzxoMT4nLmh0bWxlbnRpdGllcyhfTCgnT0lEcGx1cyBlcnJvcicpKS4nPC9oMT4nOwoJCQkvLyBFTlRfU1VCU1RJVFVURSBiZWNhdXNlIE9EQkMgZHJpdmVycyBtaWdodCByZXR1cm4g'));
	@fwrite($fp, base64_decode('QU5TSSBpbnN0ZWFkIG9mIFVURi04IHN0dWZmCgkJCWVjaG8gJzxwPicuaHRtbGVudGl0aWVzKCRleGNlcHRpb24tPmdldE1lc3NhZ2UoKSwgRU5UX1NVQlNUSVRVVEUpLic8L3A+JzsKCQkJZWNobyBzZWxmOjpnZXRFeGNlcHRpb25UZWNoSW5mbygkZXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KTsKCQkJZWNobyAnPC9ib2R5PjwvaHRtbD4nOwoJCX0KCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRFeGNlcHRpb25UZWNoSW5mbygkZXhjZXB0aW9uKSB7CgkJJG91dCA9ICcnOwoJCSRvdXQgLj0gJzxwPjxiPicuaHRtbGVudGl0aWVzKF9MKCdUZWNo'));
	@fwrite($fp, base64_decode('bmljYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHByb2JsZW0nKSkuJzo8L2I+PC9wPic7CgkJJG91dCAuPSAnPHByZT4nOwoJCSRvdXQgLj0gZ2V0X2NsYXNzKCRleGNlcHRpb24pLiJcbiI7CgkJJG91dCAuPSBfTCgnYXQgZmlsZSAlMSAobGluZSAlMiknLCRleGNl'));
	@fwrite($fp, base64_decode('cHRpb24tPmdldEZpbGUoKSwiIi4kZXhjZXB0aW9uLT5nZXRMaW5lKCkpLiJcblxuIjsKCQkkb3V0IC49IF9MKCdTdGFja3RyYWNlJykuIjpcbiI7CgkJJG91dCAuPSBodG1sZW50aXRpZXMoJGV4Y2VwdGlvbi0+Z2V0VHJhY2VBc1N0cmluZygpKTsKCQkkb3V0IC49'));
	@fwrite($fp, base64_decode('ICc8L3ByZT4nOwoJCXJldHVybiAkb3V0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0YWJCYXJTdGFydCgpIHsKCQlyZXR1cm4gJzx1bCBjbGFzcz0ibmF2IG5hdi10YWJzIiBpZD0ibXlUYWIiIHJvbGU9InRhYmxpc3QiPic7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRh'));
	@fwrite($fp, base64_decode('YkJhckVuZCgpIHsKCQlyZXR1cm4gJzwvdWw+JzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdGFiQmFyRWxlbWVudCgkaWQsICR0aXRsZSwgJGFjdGl2ZSkgewoJCS8vIGRhdGEtYnMtdG9nZ2xlIGlzIGZvciBCb290c3RyYXAgNQoJCS8vIGRhdGEtdG9nZ2xlIGlzIGZv'));
	@fwrite($fp, base64_decode('ciBCb290c3RyYXAgNCAoSW50ZXJuZXRFeHBsb3JlciBjb21wYXRpYmlsaXR5KQoJCXJldHVybiAnPGxpIGNsYXNzPSJuYXYtaXRlbSI+PGEgY2xhc3M9Im5hdi1saW5rJy4oJGFjdGl2ZSA/ICcgYWN0aXZlJyA6ICcnKS4nIiBpZD0iJy4kaWQuJy10YWIiIGRhdGEt'));
	@fwrite($fp, base64_decode('YnMtdG9nZ2xlPSJ0YWIiIGRhdGEtdG9nZ2xlPSJ0YWIiIGhyZWY9IiMnLiRpZC4nIiByb2xlPSJ0YWIiIGFyaWEtY29udHJvbHM9IicuJGlkLiciIGFyaWEtc2VsZWN0ZWQ9IicuKCRhY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKS4nIj4nLiR0aXRsZS4nPC9hPjwv'));
	@fwrite($fp, base64_decode('bGk+JzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdGFiQ29udGVudFN0YXJ0KCkgewoJCXJldHVybiAnPGRpdiBjbGFzcz0idGFiLWNvbnRlbnQiIGlkPSJteVRhYkNvbnRlbnQiPic7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRhYkNvbnRlbnRFbmQoKSB7CgkJcmV0dXJu'));
	@fwrite($fp, base64_decode('ICc8L2Rpdj4nOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0YWJDb250ZW50UGFnZSgkaWQsICRjb250ZW50LCAkYWN0aXZlKSB7CgkJcmV0dXJuICc8ZGl2IGNsYXNzPSJ0YWItcGFuZSBmYWRlJy4oJGFjdGl2ZSA/ICcgc2hvdyBhY3RpdmUnIDogJycpLiciIGlkPSIn'));
	@fwrite($fp, base64_decode('LiRpZC4nIiByb2xlPSJ0YWJwYW5lbCIgYXJpYS1sYWJlbGxlZGJ5PSInLiRpZC4nLXRhYiI+Jy4kY29udGVudC4nPC9kaXY+JzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKCRzeXN0ZW10aXRsZSwgJHBhZ2V0'));
	@fwrite($fp, base64_decode('aXRsZSkgewoJCS8vIFBsZWFzZSBhbHNvIGNoYW5nZSB0aGUgZnVuY3Rpb24gaW4gb2lkcGx1c19iYXNlLmpzCgkJaWYgKCRzeXN0ZW10aXRsZSA9PSAkcGFnZXRpdGxlKSB7CgkJCXJldHVybiAkc3lzdGVtdGl0bGU7CgkJfSBlbHNlIHsKCQkJcmV0dXJuICRwYWdl'));
	@fwrite($fp, base64_decode('dGl0bGUgLiAnIC0gJyAuICRzeXN0ZW10aXRsZTsKCQl9Cgl9CgoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRDb21tb25IZWFkRWxlbXMoJHRpdGxlKSB7CgkJLy8gR2V0IHRoZW1lIGNvbG9yIChjb2xvciBvZiB0aXRsZSBiYXIpCgkJJGRlc2lnbl9wbHVnaW4gPSBPSURw'));
	@fwrite($fp, base64_decode('bHVzOjpnZXRBY3RpdmVEZXNpZ25QbHVnaW4oKTsKCQkkdGhlbWVfY29sb3IgPSBpc19udWxsKCRkZXNpZ25fcGx1Z2luKSA/ICcnIDogJGRlc2lnbl9wbHVnaW4tPmdldFRoZW1lQ29sb3IoKTsKCgkJJGhlYWRfZWxlbXMgPSBhcnJheSgpOwoJCSRoZWFkX2VsZW1z'));
	@fwrite($fp, base64_decode('W10gPSAnPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPic7CgkJaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0RBVEFCQVNFX1BMVUdJTicsJycpICE9PSAnJykgewoJCQkk'));
	@fwrite($fp, base64_decode('aGVhZF9lbGVtc1tdID0gJzxtZXRhIG5hbWU9Ik9JRHBsdXMtU3lzdGVtVGl0bGUiIGNvbnRlbnQ9IicuaHRtbGVudGl0aWVzKE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnc3lzdGVtX3RpdGxlJykpLiciPic7IC8vIERvIG5vdCByZW1vdmUuIFRoaXMgbWV0'));
	@fwrite($fp, base64_decode('YSB0YWcgaXMgYWNlc3NlZCBieSBvaWRwbHVzX2Jhc2UuanMKCQl9CgkJaWYgKCR0aGVtZV9jb2xvciAhPSAnJykgewoJCQkkaGVhZF9lbGVtc1tdID0gJzxtZXRhIG5hbWU9InRoZW1lLWNvbG9yIiBjb250ZW50PSInLmh0bWxlbnRpdGllcygkdGhlbWVfY29sb3Ip'));
	@fwrite($fp, base64_decode('LiciPic7CgkJfQoJCSRoZWFkX2VsZW1zW10gPSAnPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPic7CgkJJGhlYWRfZWxlbXNbXSA9ICc8dGl0bGU+Jy5odG1sZW50aXRpZXMoJHRpdGxl'));
	@fwrite($fp, base64_decode('KS4nPC90aXRsZT4nOwoJCSRoZWFkX2VsZW1zW10gPSAnPHNjcmlwdCBzcmM9IicuT0lEcGx1czo6d2VicGF0aChudWxsLCBPSURwbHVzOjpQQVRIX1JFTEFUSVZFKS4ncG9seWZpbGwubWluLmpzLnBocCI+PC9zY3JpcHQ+JzsKCQkkaGVhZF9lbGVtc1tdID0gJzxz'));
	@fwrite($fp, base64_decode('Y3JpcHQgc3JjPSInLk9JRHBsdXM6OndlYnBhdGgobnVsbCwgT0lEcGx1czo6UEFUSF9SRUxBVElWRSkuJ29pZHBsdXMubWluLmpzLnBocD9ub0Jhc2VDb25maWc9MSIgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij48L3NjcmlwdD4nOwoJCSRoZWFkX2VsZW1zW10gPSAn'));
	@fwrite($fp, base64_decode('PGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSInLk9JRHBsdXM6OndlYnBhdGgobnVsbCwgT0lEcGx1czo6UEFUSF9SRUxBVElWRSkuJ29pZHBsdXMubWluLmNzcy5waHA/bm9CYXNlQ29uZmlnPTEiPic7CgkJJGhlYWRfZWxlbXNbXSA9ICc8bGluayByZWw9InNo'));
	@fwrite($fp, base64_decode('b3J0Y3V0IGljb24iIHR5cGU9ImltYWdlL3gtaWNvbiIgaHJlZj0iJy5PSURwbHVzOjp3ZWJwYXRoKG51bGwsIE9JRHBsdXM6OlBBVEhfUkVMQVRJVkUpLidmYXZpY29uLmljby5waHAiPic7CgkJaWYgKE9JRHBsdXM6OmJhc2VDb25maWcoKS0+ZXhpc3RzKCdDQU5P'));
	@fwrite($fp, base64_decode('TklDQUxfU1lTVEVNX1VSTCcpKSB7CgkJCSRoZWFkX2VsZW1zW10gPSAnPGxpbmsgcmVsPSJjYW5vbmljYWwiIGhyZWY9IicuaHRtbGVudGl0aWVzKE9JRHBsdXM6OmNhbm9uaWNhbFVSTCgpKS5PSURwbHVzOjp3ZWJwYXRoKG51bGwsIE9JRHBsdXM6OlBBVEhfUkVM'));
	@fwrite($fp, base64_decode('QVRJVkUpLiciPic7CgkJfQoKCQlyZXR1cm4gJGhlYWRfZWxlbXM7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNob3dNYWluUGFnZSgkcGFnZV90aXRsZV8xLCAkcGFnZV90aXRsZV8yLCAkc3RhdGljX2ljb24sICRzdGF0aWNfY29udGVudCwgJGV4dHJhX2hlYWRfdGFn'));
	@fwrite($fp, base64_decode('cz1hcnJheSgpLCAkc3RhdGljX25vZGVfaWQ9JycpIHsKCQkkaGVhZF9lbGVtcyA9ICR0aGlzLT5nZXRDb21tb25IZWFkRWxlbXMoJHBhZ2VfdGl0bGVfMSk7CgkJJGhlYWRfZWxlbXMgPSBhcnJheV9tZXJnZSgkaGVhZF9lbGVtcywgJGV4dHJhX2hlYWRfdGFncyk7'));
	@fwrite($fp, base64_decode('CgoJCSRwbHVnaW5zID0gT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoKTsKCQlmb3JlYWNoICgkcGx1Z2lucyBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmh0bWxIZWFkZXJVcGRhdGUoJGhlYWRfZWxlbXMpOwoJCX0KCgkJIyAtLS0KCgkJJG91dCAgPSAiPCFET0NU'));
	@fwrite($fp, base64_decode('WVBFIGh0bWw+XG4iOwoKCQkkb3V0IC49ICI8aHRtbCBsYW5nPVwiIi5zdWJzdHIoT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKSwwLDIpLiJcIj5cbiI7CgkJJG91dCAuPSAiPGhlYWQ+XG4iOwoJCSRvdXQgLj0gIlx0Ii5pbXBsb2RlKCJcblx0IiwkaGVhZF9lbGVt'));
	@fwrite($fp, base64_decode('cykuIlxuIjsKCQkkb3V0IC49ICI8L2hlYWQ+XG4iOwoKCQkkb3V0IC49ICI8Ym9keT5cbiI7CgoJCSRvdXQgLj0gJzxkaXYgaWQ9ImxvYWRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPkxvYWRpbmcmIzgyMzA7PC9kaXY+JzsKCgkJJG91dCAuPSAnPGRpdiBpZD0i'));
	@fwrite($fp, base64_decode('ZnJhbWVzIj4nOwoJCSRvdXQgLj0gJzxkaXYgaWQ9ImNvbnRlbnRfd2luZG93IiBjbGFzcz0iYm9yZGVyYm94Ij4nOwoKCQkkb3V0IC49ICc8aDEgaWQ9InJlYWxfdGl0bGUiPic7CgkJaWYgKCRzdGF0aWNfaWNvbiAhPSAnJykgJG91dCAuPSAnPGltZyBzcmM9Iicu'));
	@fwrite($fp, base64_decode('aHRtbGVudGl0aWVzKCRzdGF0aWNfaWNvbikuJyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IiI+ICc7CgkJJG91dCAuPSBodG1sZW50aXRpZXMoJHBhZ2VfdGl0bGVfMikuJzwvaDE+JzsKCQkkb3V0IC49ICc8ZGl2IGlkPSJyZWFsX2NvbnRlbnQiPicuJHN0'));
	@fwrite($fp, base64_decode('YXRpY19jb250ZW50Lic8L2Rpdj4nOwoJCWlmICgoIWlzc2V0KCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddKSkgfHwgKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09ICdHRVQnKSkgewoJCQkkb3V0IC49ICc8YnI+PHA+PGltZyBzcmM9ImltZy9zaGFyZS5w'));
	@fwrite($fp, base64_decode('bmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgYWx0PSInLl9MKCdTaGFyZScpLiciPiA8YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGluayIgY2xhc3M9ImdyYXlfZm9vdGVyX2ZvbnQiPicuX0woJ1N0'));
	@fwrite($fp, base64_decode('YXRpYyBsaW5rIHRvIHRoaXMgcGFnZScpLic8L2E+JzsKCQkJJG91dCAuPSAnPC9wPic7CgkJfQoJCSRvdXQgLj0gJzxicj4nOwoKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICc8ZGl2IGlkPSJzeXN0ZW1fdGl0bGVfYmFyIj4nOwoKCQkkb3V0IC49ICc8'));
	@fwrite($fp, base64_decode('ZGl2IGlkPSJzeXN0ZW1fdGl0bGVfbWVudSIgb25jbGljaz0ibW9iaWxlTmF2QnV0dG9uQ2xpY2sodGhpcykiIG9ubW91c2VlbnRlcj0ibW9iaWxlTmF2QnV0dG9uSG92ZXIodGhpcykiIG9ubW91c2VsZWF2ZT0ibW9iaWxlTmF2QnV0dG9uSG92ZXIodGhpcykiPic7'));
	@fwrite($fp, base64_decode('CgkJJG91dCAuPSAnCTxkaXYgaWQ9ImJhcjEiPjwvZGl2Pic7CgkJJG91dCAuPSAnCTxkaXYgaWQ9ImJhcjIiPjwvZGl2Pic7CgkJJG91dCAuPSAnCTxkaXYgaWQ9ImJhcjMiPjwvZGl2Pic7CgkJJG91dCAuPSAnPC9kaXY+JzsKCgkJJG91dCAuPSAnPGRpdiBpZD0i'));
	@fwrite($fp, base64_decode('c3lzdGVtX3RpdGxlX3RleHQiPic7CgkJJG91dCAuPSAnCTxhICcuT0lEcGx1czo6Z3VpKCktPmxpbmsoJ29pZHBsdXM6c3lzdGVtJykuJyBpZD0ic3lzdGVtX3RpdGxlX2EiPic7CgkJJG91dCAuPSAnCQk8c3BhbiBpZD0ic3lzdGVtX3RpdGxlX2xvZ28iPjwvc3Bh'));
	@fwrite($fp, base64_decode('bj4nOwoJCSRvdXQgLj0gJwkJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8xIj4nLmh0bWxlbnRpdGllcyhPSURwbHVzOjpnZXRFZGl0aW9uSW5mbygpWyd2ZW5kb3InXS4nIE9JRHBsdXMgMi4wJykuJzwvc3Bhbj48YnI+JzsKCQkkb3V0IC49ICcJCTxzcGFuIGlkPSJz'));
	@fwrite($fp, base64_decode('eXN0ZW1fdGl0bGVfMiI+Jy5odG1sZW50aXRpZXMoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdzeXN0ZW1fdGl0bGUnKSkuJzwvc3Bhbj4nOwoJCSRvdXQgLj0gJwk8L2E+JzsKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkk'));
	@fwrite($fp, base64_decode('b3V0IC49IE9JRHBsdXM6Omd1aSgpLT5nZXRMYW5ndWFnZUJveCgkc3RhdGljX25vZGVfaWQsIHRydWUpOwoKCQkkb3V0IC49ICc8ZGl2IGlkPSJnb3RvYm94Ij4nOwoJCSRvdXQgLj0gJzxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJnb3RvIiBpZD0iZ290b2VkaXQi'));
	@fwrite($fp, base64_decode('IHZhbHVlPSInLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciPic7CgkJJG91dCAuPSAnPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IicuX0woJ0dvJykuJyIgb25jbGljaz0iZ290b0J1dHRvbkNsaWNrZWQoKSIgaWQ9ImdvdG9idXR0b24iPic7CgkJ'));
	@fwrite($fp, base64_decode('JG91dCAuPSAnPC9kaXY+JzsKCgkJJG91dCAuPSAnPGRpdiBpZD0ib2lkdHJlZSIgY2xhc3M9ImJvcmRlcmJveCI+JzsKCQkvLyRvdXQgLj0gJzxub3NjcmlwdD4nOwoJCS8vJG91dCAuPSAnPHA+PGI+Jy5fTCgnUGxlYXNlIGVuYWJsZSBKYXZhU2NyaXB0IHRvIHVz'));
	@fwrite($fp, base64_decode('ZSBhbGwgZmVhdHVyZXMnKS4nPC9iPjwvcD4nOwoJCS8vJG91dCAuPSAnPC9ub3NjcmlwdD4nOwoJCSRvdXQgLj0gT0lEcGx1czo6bWVudVV0aWxzKCktPm5vbmpzX21lbnUoKTsKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0'));
	@fwrite($fp, base64_decode('IC49ICJcbjwvYm9keT5cbiI7CgkJJG91dCAuPSAiPC9odG1sPlxuIjsKCgkJIyAtLS0KCgkJJHBsdWdpbnMgPSBPSURwbHVzOjpnZXRQYWdlUGx1Z2lucygpOwoJCWZvcmVhY2ggKCRwbHVnaW5zIGFzICRwbHVnaW4pIHsKCQkJJHBsdWdpbi0+aHRtbFBvc3Rwcm9j'));
	@fwrite($fp, base64_decode('ZXNzKCRvdXQpOwoJCX0KCgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNob3dTaW1wbGVQYWdlKCRwYWdlX3RpdGxlXzEsICRwYWdlX3RpdGxlXzIsICRzdGF0aWNfaWNvbiwgJHN0YXRpY19jb250ZW50LCAkZXh0cmFfaGVhZF90YWdzPWFycmF5'));
	@fwrite($fp, base64_decode('KCkpIHsKCQkkaGVhZF9lbGVtcyA9ICR0aGlzLT5nZXRDb21tb25IZWFkRWxlbXMoJHBhZ2VfdGl0bGVfMSk7CgkJJGhlYWRfZWxlbXMgPSBhcnJheV9tZXJnZSgkaGVhZF9lbGVtcywgJGV4dHJhX2hlYWRfdGFncyk7CgoJCSMgLS0tCgoJCSRvdXQgID0gIjwhRE9D'));
	@fwrite($fp, base64_decode('VFlQRSBodG1sPlxuIjsKCgkJJG91dCAuPSAiPGh0bWwgbGFuZz1cIiIuc3Vic3RyKE9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCksMCwyKS4iXCI+XG4iOwoJCSRvdXQgLj0gIjxoZWFkPlxuIjsKCQkkb3V0IC49ICJcdCIuaW1wbG9kZSgiXG5cdCIsJGhlYWRfZWxl'));
	@fwrite($fp, base64_decode('bXMpLiJcbiI7CgkJJG91dCAuPSAiPC9oZWFkPlxuIjsKCgkJJG91dCAuPSAiPGJvZHk+XG4iOwoKCQkkb3V0IC49ICc8ZGl2IGlkPSJsb2FkaW5nIiBzdHlsZT0iZGlzcGxheTpub25lIj5Mb2FkaW5nJiM4MjMwOzwvZGl2Pic7CgoJCSRvdXQgLj0gJzxkaXYgaWQ9'));
	@fwrite($fp, base64_decode('ImZyYW1lcyI+JzsKCQkkb3V0IC49ICc8ZGl2IGlkPSJjb250ZW50X3dpbmRvdyIgY2xhc3M9ImJvcmRlcmJveCI+JzsKCgkJJG91dCAuPSAnPGgxIGlkPSJyZWFsX3RpdGxlIj4nOwoJCWlmICgkc3RhdGljX2ljb24gIT0gJycpICRvdXQgLj0gJzxpbWcgc3JjPSIn'));
	@fwrite($fp, base64_decode('Lmh0bWxlbnRpdGllcygkc3RhdGljX2ljb24pLiciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSIiPiAnOwoJCSRvdXQgLj0gaHRtbGVudGl0aWVzKCRwYWdlX3RpdGxlXzIpLic8L2gxPic7CgkJJG91dCAuPSAnPGRpdiBpZD0icmVhbF9jb250ZW50Ij4nLiRz'));
	@fwrite($fp, base64_decode('dGF0aWNfY29udGVudC4nPC9kaXY+JzsKCQkkb3V0IC49ICc8YnI+JzsKCgkJJG91dCAuPSAnPC9kaXY+JzsKCgkJJG91dCAuPSAnPGRpdiBpZD0ic3lzdGVtX3RpdGxlX2JhciI+JzsKCgkJJG91dCAuPSAnPGRpdiBpZD0ic3lzdGVtX3RpdGxlX3RleHQiPic7CgkJ'));
	@fwrite($fp, base64_decode('JG91dCAuPSAnCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfbG9nbyI+PC9zcGFuPic7CgkJJG91dCAuPSAnCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMSI+Jy5odG1sZW50aXRpZXMoT0lEcGx1czo6Z2V0RWRpdGlvbkluZm8oKVsndmVuZG9yJ10uJyBPSURwbHVzIDIu'));
	@fwrite($fp, base64_decode('MCcpLic8L3NwYW4+PGJyPic7CgkJJG91dCAuPSAnCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMiI+Jy5odG1sZW50aXRpZXMoJHBhZ2VfdGl0bGVfMSkuJzwvc3Bhbj4nOwoJCSRvdXQgLj0gJzwvZGl2Pic7CgoJCSRvdXQgLj0gJzwvZGl2Pic7CgoJCSRvdXQgLj0g'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6Z3VpKCktPmdldExhbmd1YWdlQm94KG51bGwsIHRydWUpOwoKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICJcbjwvYm9keT5cbiI7CgkJJG91dCAuPSAiPC9odG1sPlxuIjsKCgkJIyAtLS0KCgkJcmV0dXJuICRvdXQ7Cgl9Cgp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusGui.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusGui.class.php');
	writefile_1();
	if (!is_file('includes/classes/OIDplusGui.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusGui.class.php');
	} else if (sha1_file('includes/classes/OIDplusGui.class.php') != '9b728fcd8cf46015ee28efa9975c2e51a628e98a') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusGui.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusGui.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusGui.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusGui.class.php') !== '9b728fcd8cf46015ee28efa9975c2e51a628e98a') {
		if (@sha1_file('includes/classes/OIDplusGui.class.php') !== 'dbe3759f4afd1623018e52c25fe55a565a640981') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusGui.class.php');
			$tmp = pathinfo('includes/classes/OIDplusGui.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusGui.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusGui.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/classes/OIDplusGui.class.php') !== '9b728fcd8cf46015ee28efa9975c2e51a628e98a') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusGui.class.php');
		}
	}
}

// Files different: systeminfo.php
function writefile_2() {
	@$fp = fopen('systeminfo.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgp1c2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXNcT0lEcGx1czsKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKaGVhZGVyKCdDb250ZW50LVR5'));
	@fwrite($fp, base64_decode('cGU6YXBwbGljYXRpb24vanNvbjsgY2hhcnNldD1VVEYtOCcpOwoKdHJ5IHsKCU9JRHBsdXM6OmluaXQoZmFsc2UpOwp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCU9JRHBsdXM6Omludm9rZV9zaHV0ZG93bigpOwoJJG91dCA9IGFycmF5KAoJCSJlcnJvciIgPT4g'));
	@fwrite($fp, base64_decode('JGUtPmdldE1lc3NhZ2UoKQoJKTsKCWVjaG8ganNvbl9lbmNvZGUoJG91dCk7CglkaWUoKTsKfQoKCiMgLS0tCgokb3V0ID0gYXJyYXkoKTsKCiRzeXNpZF9pZCA9IE9JRHBsdXM6OmdldFN5c3RlbUlkKGZhbHNlKTsKaWYgKCEkc3lzaWRfaWQpICRzeXNpZF9pZCA9'));
	@fwrite($fp, base64_decode('ICd1bmtub3duJzsgLy8gZG8gbm90IHRyYW5zbGF0ZQokb3V0WydTeXN0ZW1JRCddID0gJHN5c2lkX2lkOwoKJHN5c2lkX29pZCA9IE9JRHBsdXM6OmdldFN5c3RlbUlkKHRydWUpOwppZiAoISRzeXNpZF9vaWQpICRzeXNpZF9vaWQgPSAndW5rbm93bic7IC8vIGRv'));
	@fwrite($fp, base64_decode('IG5vdCB0cmFuc2xhdGUKJG91dFsnU3lzdGVtT0lEJ10gPSAkc3lzaWRfb2lkOwoKJHN5c2lkX2d1aWQgPSBPSURwbHVzOjpnZXRTeXN0ZW1HdWlkKCk7CmlmICghJHN5c2lkX2d1aWQpICRzeXNpZF9ndWlkID0gJ3Vua25vd24nOyAvLyBkbyBub3QgdHJhbnNsYXRl'));
	@fwrite($fp, base64_decode('CiRvdXRbJ1N5c3RlbUdVSUQnXSA9ICRzeXNpZF9ndWlkOwoKJHB1YktleSA9IE9JRHBsdXM6OmdldFN5c3RlbVB1YmxpY0tleSgpOwppZiAoISRwdWJLZXkpICRwdWJLZXkgPSAndW5rbm93bic7IC8vIGRvIG5vdCB0cmFuc2xhdGUKJG91dFsnUHVibGljS2V5J10g'));
	@fwrite($fp, base64_decode('PSAkcHViS2V5OwoKJHN5c191cmwgPSBPSURwbHVzOjp3ZWJwYXRoKG51bGwsT0lEcGx1czo6UEFUSF9BQlNPTFVURV9DQU5PTklDQUwpOwokb3V0WydTeXN0ZW1VUkwnXSA9ICRzeXNfdXJsOwoKJHN5c190aXRsZSA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1'));
	@fwrite($fp, base64_decode('ZSgnc3lzdGVtX3RpdGxlJyk7CiRvdXRbJ1N5c3RlbVRpdGxlJ10gPSAkc3lzX3RpdGxlOwoKLy8gY29tbWVudGVkIG91dCBiZWNhdXNlIG9mIHByaXZhY3kKLyoKJHN5c192ZXIgPSBPSURwbHVzOjpnZXRWZXJzaW9uKCk7CmlmICghJHN5c192ZXIpICRzeXNfdmVy'));
	@fwrite($fp, base64_decode('ID0gJ3Vua25vd24nOyAvLyBkbyBub3QgdHJhbnNsYXRlCiRvdXRbJ1N5c3RlbVZlcnNpb24nXSA9ICRzeXNfdmVyOwoqLwoKLy8gY29tbWVudGVkIG91dCBiZWNhdXNlIG9mIHByaXZhY3kKLyoKJHN5c19pbnN0YWxsX3R5cGUgPSBPSURwbHVzOjpnZXRJbnN0YWxs'));
	@fwrite($fp, base64_decode('VHlwZSgpOwokb3V0WydTeXN0ZW1JbnN0YWxsVHlwZSddID0gJHN5c19pbnN0YWxsX3R5cGU7CiovCgovLyBjb21tZW50ZWQgb3V0IGJlY2F1c2Ugb2YgcHJpdmFjeQovKgokYWRtaW5fZW1haWwgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2FkbWluX2Vt'));
	@fwrite($fp, base64_decode('YWlsJyk7CiRvdXRbJ0FkbWluRU1haWwnXSA9ICRhZG1pbl9lbWFpbDsKKi8KCk9JRHBsdXM6Omludm9rZV9zaHV0ZG93bigpOwoKZWNobyBqc29uX2VuY29kZSgkb3V0KTsK'));
	@fclose($fp);
}
if (!is_file('systeminfo.php')) {
	warn('File has vanished! Will re-create it: systeminfo.php');
	writefile_2();
	if (!is_file('systeminfo.php')) {
		warn('File cannot be created (not existing): systeminfo.php');
	} else if (sha1_file('systeminfo.php') != '953487652288228f29f1ce01f8df0159edf0a40a') {
		warn('File cannot be created (checksum mismatch): systeminfo.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('systeminfo.php', 0644)) {
		warn('Could not change file permissions of systeminfo.php');
	}
} else {
	if (@sha1_file('systeminfo.php') !== '953487652288228f29f1ce01f8df0159edf0a40a') {
		if (@sha1_file('systeminfo.php') !== '76245766d4676f56b03174bb26e58d6afd7f021f') {
			warn('File was modified. Will overwrite the changes now: systeminfo.php');
			$tmp = pathinfo('systeminfo.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('systeminfo.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('systeminfo.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('systeminfo.php') !== '953487652288228f29f1ce01f8df0159edf0a40a') {
			warn('File cannot be written (checksum mismatch): systeminfo.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1115\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1115') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

