<?php /* <ViaThinkSoftSignature>
a+RiKoHVt21qj3Y3cJPTB7ivfsQTzsmohXXgtd8lvJAAG+BkZM63vJb2BoMhGC6tb
JAxleFgjHuLboddod5OqQlbNRwnNqb4ncU6BRsLOJF0RxrANDvjaI3Zz4lT3FMRfd
AbUn0KumC2cbAC407kQnkPpvAlLtqSuitev4xPPDo+SLpG7IZn2dKbGN59E7bkNiy
UYtPSeiKmHMCCkHP4zxgmGLNc4UzDLLHvwY8m9LPo+JzK7UJp/2y0AMl87ihW1cUO
OoUHRUEDt1YlIL4mzd9XJGZAo/YfVDRg6v+WmvA6Z0NuFwH0sNStYgVLVK0H4gKOq
Sw5U7JWRNm5bwFow0BgQnufnpJS/THsixbFXYrsTOiaZ6UrCVErocV3yMPEY/lWZM
PxPuQieLktB7eQFAArCCjh7v4sG3nGJtnohgxFDS58P4JFIe6BSa55DC8+pvARjk9
uyAiOejedHr7WQFvSRWg8UtJjGJBwldBE/BRqUdDjJfB3xgmcuImfSFKmpDVesO/Y
4ORdnt8hlOPDWZi3BNC4k+FHeqbAmDioz7VQAfLsQbCL2/9h79WDY37jG/E2+30G+
keXuvf7BhPGroCXl+TW/zBdEHdwPzZdm4vpC5bz45h+rMmtSspheo/GgqVRqyCOgv
xkOsof9OKJmES6DVk5Waddh0AKaSvDVL09jR1sQAg7Sb7Io5XYr2G0/7CrgIObpPT
QzIXduE4XLxtblgoZ8F77ymo9C9VKoxTLB6E5YbWKe08erTC2R5kh8WJSbuTnMfh0
odu5jUJ3ttShfhi/C1bcIhtmYBFjkg+flaIQJNfEOy2iscuJ3dTgM7RsjgtHdlNmt
d5gf7W7djCfqDHet4ivWDdbmt3RxKtNM9VwI21PyLcGQJhApgPqte/08O/uqGCOU7
ONr78oAE4H0XPZNbPZu7Z+t9+3hAvYfjtwpaofmXVaGJ7fGlj3JUx5EO0aYYa/SR4
Ib8YMwUHysHd7Nk0ZizyXxj3Y4Eh+dokLiJ/npdsQiLB7yTQPT0Y4Fvz5dMF/wlVp
qFjzGFfDiVh5T0XPfn99pVngKS1BfcQfc+JGTYoovhxaz4KME5Xa+NTh5kQMHRAC3
wg9cdpO4jmk/pPfkhZ2ncO77mMXp7kLBFaB+MT4yALssw3OVLwscKPBp2GQqbUkY3
4wg3uyAbpYgoNgP276jYb1kFziW/U3atUquZ+XH04+HToIYTKp0txQiBBKLYrp56o
IK7e1AXPacP0yyZ30L1tgl3zLNvTJAH0NcGOhp0v22KnchTV6HM1MKIg47k0RPBEf
lYslI1x1UYGa2b3v9ZmoR+OYxbJoUfOf+xF7zDU1CGlnlkQfI6ChHWgVNpWBg7bHk
A==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1204') {
	err('This update can only be applied to OIDplus version 2.0.0.1204!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: ajax.php
function writefile_1() {
	@$fp = fopen('ajax.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMiBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgp1c2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXNcT0lEcGx1czsKdXNlIFZpYVRoaW5rU29mdFxPSURwbHVzXE9JRHBsdXNFeGNlcHRpb247CgpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvaW5j'));
	@fwrite($fp, base64_decode('bHVkZXMvb2lkcGx1cy5pbmMucGhwJzsKCnRyeSB7CglPSURwbHVzOjppbml0KGZhbHNlKTsKCglpZiAoaXNzZXQoJF9HRVRbJ09JRFBMVVNfQVVUSF9KV1QnXSkgfHwgaXNzZXQoJF9QT1NUWydPSURQTFVTX0FVVEhfSldUJ10pKSB7CgkJb3JpZ2luSGVhZGVycygp'));
	@fwrite($fp, base64_decode('OyAvLyBBbGxvd3MgcXVlcmllcyBmcm9tIG90aGVyIGRvbWFpbnMKCQlPSURwbHVzOjphdXRoVXRpbHMoKS0+ZGlzYWJsZUNTUkYoKTsgLy8gYWxsb3cgYWNjZXNzIHRvIGFqYXgucGhwIHdpdGhvdXQgdmFsaWQgQ1NSRiB0b2tlbgoJfQoKCSRqc29uX291dCA9IG51'));
	@fwrite($fp, base64_decode('bGw7CgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsncGx1Z2luJ10pICYmICgkX1JFUVVFU1RbJ3BsdWdpbiddICE9ICcnKSkgewoKCQkvLyBBY3Rpb25zIGhhbmRsZWQgYnkgcGx1Z2lucwoKCQkkcGx1Z2luID0gT0lEcGx1czo6Z2V0UGx1Z2luQnlPaWQoJF9SRVFVRVNU'));
	@fwrite($fp, base64_decode('WydwbHVnaW4nXSk7CgkJaWYgKCEkcGx1Z2luKSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdQbHVnaW4gd2l0aCBPSUQgIiUxIiBub3QgZm91bmQnLCRfUkVRVUVTVFsncGx1Z2luJ10pKTsKCQl9CgoJCSRwYXJhbXMgPSBhcnJheSgpOwoJCWZv'));
	@fwrite($fp, base64_decode('cmVhY2ggKGFycmF5X21lcmdlKCRfUE9TVCwkX0dFVCkgYXMgJG5hbWUgPT4gJHZhbCkgewoJCQlpZiAoKCRuYW1lICE9ICdhY3Rpb24nKSAmJiAoJG5hbWUgIT0gJ3BsdWdpbicpKSB7CgkJCQkkcGFyYW1zWyRuYW1lXSA9ICR2YWw7CgkJCX0KCQl9CgoJCWlmIChp'));
	@fwrite($fp, base64_decode('c3NldCgkX1JFUVVFU1RbJ2FjdGlvbiddKSAmJiAoJF9SRVFVRVNUWydhY3Rpb24nXSAhPSAnJykpIHsKCQkJaWYgKCRwbHVnaW4tPmNzcmZVbmxvY2soJF9SRVFVRVNUWydhY3Rpb24nXSkpIHsKCQkJCW9yaWdpbkhlYWRlcnMoKTsgLy8gQWxsb3dzIHF1ZXJpZXMg'));
	@fwrite($fp, base64_decode('ZnJvbSBvdGhlciBkb21haW5zCgkJCQlPSURwbHVzOjphdXRoVXRpbHMoKS0+ZGlzYWJsZUNTUkYoKTsgLy8gYWxsb3cgYWNjZXNzIHRvIGFqYXgucGhwIHdpdGhvdXQgdmFsaWQgQ1NSRiB0b2tlbgoJCQl9CgoJCQlPSURwbHVzOjphdXRoVXRpbHMoKS0+Y2hlY2tD'));
	@fwrite($fp, base64_decode('U1JGKCk7CgoJCQlpZiAoIU9JRHBsdXM6OmJhc2Vjb25maWcoKS0+Z2V0VmFsdWUoJ0RJU0FCTEVfQUpBWF9UUkFOU0FDVElPTlMnLGZhbHNlKSAmJiBPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9zdXBwb3J0ZWQoKSkgewoJCQkJT0lEcGx1czo6ZGIoKS0+dHJh'));
	@fwrite($fp, base64_decode('bnNhY3Rpb25fYmVnaW4oKTsKCQkJfQoKCQkJJGpzb25fb3V0ID0gJHBsdWdpbi0+YWN0aW9uKCRfUkVRVUVTVFsnYWN0aW9uJ10sICRwYXJhbXMpOwoJCQlpZiAoIWlzc2V0KCRqc29uX291dFsnc3RhdHVzJ10pKSAkanNvbl9vdXRbJ3N0YXR1cyddID0gLTE7CgoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoIU9JRHBsdXM6OmJhc2Vjb25maWcoKS0+Z2V0VmFsdWUoJ0RJU0FCTEVfQUpBWF9UUkFOU0FDVElPTlMnLGZhbHNlKSAmJiBPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9zdXBwb3J0ZWQoKSkgewoJCQkJT0lEcGx1czo6ZGIoKS0+dHJhbnNhY3Rpb25f'));
	@fwrite($fp, base64_decode('Y29tbWl0KCk7CgkJCX0KCQl9IGVsc2UgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSW52YWxpZCBhY3Rpb24gSUQnKSk7CgkJfQoKCX0gZWxzZSB7CgoJCS8vIEFjdGlvbnMgaGFuZGxlZCBieSB0aGUgc3lzdGVtIChiYXNlIGZ1bmN0aW9uYWxp'));
	@fwrite($fp, base64_decode('dHkgbGlrZSB0aGUgSlMgdHJlZSkKCgkJT0lEcGx1czo6YXV0aFV0aWxzKCktPmNoZWNrQ1NSRigpOwoKCQlpZiAoaXNzZXQoJF9SRVFVRVNUWydhY3Rpb24nXSkgJiYgKCRfUkVRVUVTVFsnYWN0aW9uJ10gPT0gJ2dldF9kZXNjcmlwdGlvbicpKSB7CgkJCS8vIEFj'));
	@fwrite($fp, base64_decode('dGlvbjogICAgIGdldF9kZXNjcmlwdGlvbgoJCQkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkJCS8vIFBhcmFtZXRlcnM6IGlkCgkJCS8vIE91dHB1dHM6ICAgIEpTT04KCQkJX0NoZWNrUGFyYW1FeGlzdHMoJF9SRVFVRVNULCAnaWQnKTsKCQkJJF9SRVFVRVNU'));
	@fwrite($fp, base64_decode('WydpZCddID0gT0lEcGx1czo6cHJlZmlsdGVyUXVlcnkoJF9SRVFVRVNUWydpZCddLCBmYWxzZSk7CgkJCXRyeSB7CgkJCQkkanNvbl9vdXQgPSBPSURwbHVzOjpndWkoKS0+Z2VuZXJhdGVDb250ZW50UGFnZSgkX1JFUVVFU1RbJ2lkJ10pOwoJCQl9IGNhdGNoIChc'));
	@fwrite($fp, base64_decode('RXhjZXB0aW9uICRlKSB7CgkJCQkkanNvbl9vdXQgPSBhcnJheSgpOwoJCQkJJGpzb25fb3V0Wyd0aXRsZSddID0gX0woJ0Vycm9yJyk7CgkJCQkkanNvbl9vdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3IucG5nJzsKCQkJCSRodG1sbXNnID0gJGUgaW5zdGFuY2VvZiBP'));
	@fwrite($fp, base64_decode('SURwbHVzRXhjZXB0aW9uID8gJGUtPmdldEh0bWxNZXNzYWdlKCkgOiBodG1sZW50aXRpZXMoJGUtPmdldE1lc3NhZ2UoKSk7CgkJCQlpZiAoc3RydG9sb3dlcihzdWJzdHIoJGh0bWxtc2csIDAsIDMpKSA9PT0gJzxwICcpIHsKCQkJCQkkanNvbl9vdXRbJ3RleHQn'));
	@fwrite($fp, base64_decode('XSA9ICRodG1sbXNnOwoJCQkJfSBlbHNlIHsKCQkJCQkkanNvbl9vdXRbJ3RleHQnXSA9ICc8cD4nLiRodG1sbXNnLic8L3A+JzsKCQkJCX0KCQkJfQoJCQkkanNvbl9vdXRbJ3N0YXR1cyddID0gMDsKCQl9IGVsc2UgaWYgKGlzc2V0KCRfUkVRVUVTVFsnYWN0aW9u'));
	@fwrite($fp, base64_decode('J10pICYmICgkX1JFUVVFU1RbJ2FjdGlvbiddID09ICd0cmVlX3NlYXJjaCcpKSB7CgkJCS8vIEFjdGlvbjogICAgIHRyZWVfc2VhcmNoCgkJCS8vIE1ldGhvZDogICAgIEdFVCAvIFBPU1QKCQkJLy8gUGFyYW1ldGVyczogc2VhcmNoCgkJCS8vIE91dHB1dHM6ICAg'));
	@fwrite($fp, base64_decode('IEpTT04KCQkJX0NoZWNrUGFyYW1FeGlzdHMoJF9SRVFVRVNULCAnc2VhcmNoJyk7CgoJCQkkZm91bmQgPSBmYWxzZTsKCQkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoKSBhcyAkcGx1Z2luKSB7CgkJCQkkanNvbl9vdXQgPSAkcGx1Z2luLT50cmVl'));
	@fwrite($fp, base64_decode('X3NlYXJjaCgkX1JFUVVFU1RbJ3NlYXJjaCddKTsKCQkJCWlmICgkanNvbl9vdXQpIHsKCQkJCQkkZm91bmQgPSB0cnVlOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9CgoJCQlpZiAoISRmb3VuZCkgewoJCQkJJGpzb25fb3V0ID0gYXJyYXkoKTsKCQkJfQoJCX0gZWxz'));
	@fwrite($fp, base64_decode('ZSBpZiAoaXNzZXQoJF9SRVFVRVNUWydhY3Rpb24nXSkgJiYgKCRfUkVRVUVTVFsnYWN0aW9uJ10gPT0gJ3RyZWVfbG9hZCcpKSB7CgkJCS8vIEFjdGlvbjogICAgIHRyZWVfbG9hZAoJCQkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkJCS8vIFBhcmFtZXRlcnM6'));
	@fwrite($fp, base64_decode('IGlkOyBnb3RvIChvcHRpb25hbCkKCQkJLy8gT3V0cHV0czogICAgSlNPTgoJCQlfQ2hlY2tQYXJhbUV4aXN0cygkX1JFUVVFU1QsICdpZCcpOwoJCQkkX1JFUVVFU1RbJ2lkJ10gPSBPSURwbHVzOjpwcmVmaWx0ZXJRdWVyeSgkX1JFUVVFU1RbJ2lkJ10sIGZhbHNl'));
	@fwrite($fp, base64_decode('KTsKCQkJJGpzb25fb3V0ID0gT0lEcGx1czo6bWVudVV0aWxzKCktPmpzb25fdHJlZSgkX1JFUVVFU1RbJ2lkJ10sICRfUkVRVUVTVFsnZ290byddID8/ICcnKTsKCQl9IGVsc2UgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSW52YWxpZCBhY3Rp'));
	@fwrite($fp, base64_decode('b24gSUQnKSk7CgkJfQoJfQoKCU9JRHBsdXM6Omludm9rZV9zaHV0ZG93bigpOwoKCUBoZWFkZXIoJ0NvbnRlbnQtVHlwZTphcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04Jyk7CgllY2hvIGpzb25fZW5jb2RlKCRqc29uX291dCk7Cgp9IGNhdGNoIChcRXhj'));
	@fwrite($fp, base64_decode('ZXB0aW9uICRlKSB7CgoJdHJ5IHsKCQlpZiAoIU9JRHBsdXM6OmJhc2Vjb25maWcoKS0+Z2V0VmFsdWUoJ0RJU0FCTEVfQUpBWF9UUkFOU0FDVElPTlMnLGZhbHNlKSAmJiBPSURwbHVzOjpkYigpLT50cmFuc2FjdGlvbl9zdXBwb3J0ZWQoKSAmJiAoT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('ZGIoKS0+dHJhbnNhY3Rpb25fbGV2ZWwoKSA+IDApKSB7CgkJCU9JRHBsdXM6OmRiKCktPnRyYW5zYWN0aW9uX3JvbGxiYWNrKCk7CgkJfQoJfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZTEpIHsKCX0KCgkkZXJybXNnID0gJGUtPmdldE1lc3NhZ2UoKTsKCgkkanNvbl9v'));
	@fwrite($fp, base64_decode('dXQgPSBhcnJheSgpOwoJJGpzb25fb3V0WydzdGF0dXMnXSA9IC0yOwoJJGpzb25fb3V0WydlcnJvciddID0gJGVycm1zZzsKCSRvdXQgPSBqc29uX2VuY29kZSgkanNvbl9vdXQpOwoKCWlmICgkb3V0ID09PSBmYWxzZSkgewoJCS8vIFNvbWUgbW9kdWxlcyAobGlr'));
	@fwrite($fp, base64_decode('ZSBPREJDKSBtaWdodCBvdXRwdXQgbm9uLVVURjggZGF0YQoJCSRqc29uX291dFsnZXJyb3InXSA9IHZ0c191dGY4X2VuY29kZSgkZXJybXNnKTsKCQkkb3V0ID0ganNvbl9lbmNvZGUoJGpzb25fb3V0KTsKCX0KCglAaGVhZGVyKCdDb250ZW50LVR5cGU6YXBwbGlj'));
	@fwrite($fp, base64_decode('YXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcpOwoKCWVjaG8gJG91dDsKfQo='));
	@fclose($fp);
}
if (!is_file('ajax.php')) {
	warn('File has vanished! Will re-create it: ajax.php');
	writefile_1();
	if (!is_file('ajax.php')) {
		warn('File cannot be created (not existing): ajax.php');
	} else if (sha1_file('ajax.php') != '72a66559e1267a6357cd72aedb17ffd3b1e1bdde') {
		warn('File cannot be created (checksum mismatch): ajax.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('ajax.php', 0644)) {
		warn('Could not change file permissions of ajax.php');
	}
} else {
	if (@sha1_file('ajax.php') !== '72a66559e1267a6357cd72aedb17ffd3b1e1bdde') {
		if (@sha1_file('ajax.php') !== '38ec5358c31d23cf748b3c3b643f3238042e27c5') {
			warn('File was modified. Will overwrite the changes now: ajax.php');
			$tmp = pathinfo('ajax.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('ajax.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('ajax.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('ajax.php') !== '72a66559e1267a6357cd72aedb17ffd3b1e1bdde') {
			warn('File cannot be written (checksum mismatch): ajax.php');
		}
	}
}

// Files different: includes/classes/OIDplusGui.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplusGui.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c0d1aSBleHRlbmRzIE9JRHBsdXNCYXNlQ2xhc3MgewoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkaWQKCSAqIEByZXR1cm4gYXJyYXkKCSAqLwoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGdlbmVyYXRlQ29udGVudFBhZ2Uoc3RyaW5nICRpZCk6IGFycmF5IHsKCQkkb3V0ID0gYXJyYXkoKTsKCgkJJGhhbmRsZWQgPSBmYWxzZTsKCQkkb3V0Wyd0aXRsZSddID0gJyc7CgkJJG91dFsnaWNvbiddID0gJyc7CgkJJG91dFsndGV4dCddID0gJyc7CgoJ'));
	@fwrite($fp, base64_decode('CWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQl0cnkgewoJCQkJJHBsdWdpbi0+Z3VpKCRpZCwgJG91dCwgJGhhbmRsZWQpOwoJCQl9IGNhdGNoIChcRXhjZXB0aW9uICRlKSB7CgkJCQkkb3V0Wyd0aXRsZSddID0gX0wo'));
	@fwrite($fp, base64_decode('J0Vycm9yJyk7CgkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yLnBuZyc7CgkJCQkkaHRtbG1zZyA9ICRlIGluc3RhbmNlb2YgT0lEcGx1c0V4Y2VwdGlvbiA/ICRlLT5nZXRIdG1sTWVzc2FnZSgpIDogaHRtbGVudGl0aWVzKCRlLT5nZXRNZXNzYWdlKCkpOwoJ'));
	@fwrite($fp, base64_decode('CQkJaWYgKHN0cnRvbG93ZXIoc3Vic3RyKCRodG1sbXNnLCAwLCAzKSkgPT09ICc8cCAnKSB7CgkJCQkJJG91dFsndGV4dCddID0gJGh0bWxtc2c7CgkJCQl9IGVsc2UgewoJCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD4nLiRodG1sbXNnLic8L3A+JzsKCQkJCX0KCQkJ'));
	@fwrite($fp, base64_decode('CWlmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdERUJVRycpKSB7CgkJCQkJJG91dFsndGV4dCddIC49IHNlbGY6OmdldEV4Y2VwdGlvblRlY2hJbmZvKCRlKTsKCQkJCX0KCQkJfQoJCQlpZiAoJGhhbmRsZWQpIGJyZWFrOwoJCX0KCgkJaWYgKCEk'));
	@fwrite($fp, base64_decode('aGFuZGxlZCkgewoJCQlpZiAoaXNzZXQoJF9TRVJWRVJbJ1NDUklQVF9GSUxFTkFNRSddKSAmJiAoc3RydG9sb3dlcihiYXNlbmFtZSgkX1NFUlZFUlsnU0NSSVBUX0ZJTEVOQU1FJ10pKSAhPT0gJ2FqYXgucGhwJykpIHsgLy8gZG9uJ3Qgc2VuZCBIVFRQIGVycm9y'));
	@fwrite($fp, base64_decode('IGNvZGVzIGluIGFqYXgucGhwLCBiZWNhdXNlIHdlIHdhbnQgYSBwYWdlIGFuZCBub3QgYSBKYXZhU2NyaXB0IGFsZXJ0IGJveCwgd2hlbiBzb21lb25lIGVudGVycyBhbiBpbnZhbGlkIE9JRCBpbiB0aGUgR29Uby1Cb3gKCQkJCWlmIChQSFBfU0FQSSAhPSAnY2xp'));
	@fwrite($fp, base64_decode('JykgQGh0dHBfcmVzcG9uc2VfY29kZSg0MDQpOwoJCQl9CgkJCSRvdXRbJ3RpdGxlJ10gPSBfTCgnRXJyb3InKTsKCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvci5wbmcnOwoJCQkkb3V0Wyd0ZXh0J10gPSBfTCgnVGhlIHJlc291cmNlIGNhbm5vdCBiZSBmb3Vu'));
	@fwrite($fp, base64_decode('ZC4nKTsKCQl9CgoJCXJldHVybiAkb3V0OwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkZ290bwoJICogQHBhcmFtIGJvb2wgJG5ld193aW5kb3cKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBsaW5rKHN0cmluZyAkZ290bywgYm9v'));
	@fwrite($fp, base64_decode('bCAkbmV3X3dpbmRvdz1mYWxzZSk6IHN0cmluZyB7CgkJaWYgKCRuZXdfd2luZG93KSB7CgkJCXJldHVybiAnaHJlZj0iP2dvdG89Jy51cmxlbmNvZGUoJGdvdG8pLiciIHRhcmdldD0iX2JsYW5rIic7CgkJfSBlbHNlIHsKCQkJaWYgKHN0cnBvcygkZ290bywgJyMn'));
	@fwrite($fp, base64_decode('KSAhPT0gZmFsc2UpIHsKCQkJCWxpc3QoJGdvdG8sICRhbmNob3IpID0gZXhwbG9kZSgnIycsICRnb3RvLCAyKTsKCQkJCXJldHVybiAnaHJlZj0iP2dvdG89Jy51cmxlbmNvZGUoJGdvdG8pLicjJy5odG1sZW50aXRpZXMoJGFuY2hvcikuJyIgb25jbGljaz0ib3Bl'));
	@fwrite($fp, base64_decode('bk9pZEluUGFuZWwoJy5qc19lc2NhcGUoJGdvdG8pLicsIHRydWUsICcuanNfZXNjYXBlKCRhbmNob3IpLicpOyByZXR1cm4gZmFsc2U7Iic7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gJ2hyZWY9Ij9nb3RvPScudXJsZW5jb2RlKCRnb3RvKS4nIiBvbmNsaWNrPSJv'));
	@fwrite($fp, base64_decode('cGVuT2lkSW5QYW5lbCgnLmpzX2VzY2FwZSgkZ290bykuJywgdHJ1ZSk7IHJldHVybiBmYWxzZTsiJzsKCQkJfQoJCX0KCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGdvdG8KCSAqIEBwYXJhbSBib29sICR1c2VKcwoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0'));
	@fwrite($fp, base64_decode('aHJvd3MgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldExhbmd1YWdlQm94KHN0cmluZyAkZ290bywgYm9vbCAkdXNlSnMpOiBzdHJpbmcgewoJCSRv'));
	@fwrite($fp, base64_decode('dXQgPSAnPGRpdiBpZD0ibGFuZ3VhZ2VCb3giPic7CgkJJGxhbmdib3hfZW50cmllcyA9IGFycmF5KCk7CgkJJG5vbl9kZWZhdWx0X2xhbmd1YWdlcyA9IDA7CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0QWxsUGx1Z2luTWFuaWZlc3RzKCdsYW5ndWFnZScpIGFzICRw'));
	@fwrite($fp, base64_decode('bHVnaW5NYW5pZmVzdCkgewoJCQkkZmxhZyA9ICRwbHVnaW5NYW5pZmVzdC0+Z2V0TGFuZ3VhZ2VGbGFnKCk7CgkJCSRjb2RlID0gJHBsdWdpbk1hbmlmZXN0LT5nZXRMYW5ndWFnZUNvZGUoKTsKCQkJaWYgKCRjb2RlICE9IE9JRHBsdXM6OmdldERlZmF1bHRMYW5n'));
	@fwrite($fp, base64_decode('KCkpICRub25fZGVmYXVsdF9sYW5ndWFnZXMrKzsKCQkJaWYgKCRjb2RlID09IE9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCkpIHsKCQkJCSRjbGFzcyA9ICdsbmdfZmxhZyc7CgkJCX0gZWxzZSB7CgkJCQkkY2xhc3MgPSAnbG5nX2ZsYWcgcGljdHVyZV9naG9zdCc7'));
	@fwrite($fp, base64_decode('CgkJCX0KCQkJJGFkZCA9ICgkZ290byAhPSAnJykgPyAnJmFtcDtnb3RvPScudXJsZW5jb2RlKCRnb3RvKSA6ICcnOwoKCQkJJGRpcnMgPSBnbG9iKE9JRHBsdXM6OmxvY2FscGF0aCgpLidwbHVnaW5zLycuJyonLicvbGFuZ3VhZ2UvJy4kY29kZS4nLycpOwoKCQkJ'));
	@fwrite($fp, base64_decode('aWYgKGNvdW50KCRkaXJzKSA+IDApIHsKCQkJCSRkaXIgPSBzdWJzdHIoJGRpcnNbMF0sIHN0cmxlbihPSURwbHVzOjpsb2NhbHBhdGgoKSkpOwoJCQkJJGxhbmdib3hfZW50cmllc1skY29kZV0gPSAnPHNwYW4gY2xhc3M9ImxhbmdfZmxhZ19iZyI+PGEgJy4oJHVz'));
	@fwrite($fp, base64_decode('ZUpzID8gJ29uY2xpY2s9InJldHVybiAhc2V0TGFuZ3VhZ2UoXCcnLiRjb2RlLidcJykiICcgOiAnJykuJ2hyZWY9Ij9sYW5nPScuJGNvZGUuJGFkZC4nIj48aW1nIHNyYz0iJy5PSURwbHVzOjp3ZWJwYXRoKG51bGwsT0lEcGx1czo6UEFUSF9SRUxBVElWRSkuJGRp'));
	@fwrite($fp, base64_decode('ci4kZmxhZy4nIiBhbHQ9IicuJHBsdWdpbk1hbmlmZXN0LT5nZXROYW1lKCkuJyIgdGl0bGU9IicuJHBsdWdpbk1hbmlmZXN0LT5nZXROYW1lKCkuJyIgY2xhc3M9IicuJGNsYXNzLiciIGlkPSJsbmdfZmxhZ18nLiRjb2RlLiciIGhlaWdodD0iMjAiPjwvYT48L3Nw'));
	@fwrite($fp, base64_decode('YW4+ICc7CgkJCX0KCQl9CgkJaWYgKCRub25fZGVmYXVsdF9sYW5ndWFnZXMgPiAwKSB7CgkJCWZvcmVhY2ggKCRsYW5nYm94X2VudHJpZXMgYXMgJGVudCkgewoJCQkJJG91dCAuPSAiJGVudFxuXHRcdCI7CgkJCX0KCQl9CgkJJG91dCAuPSAnPC9kaXY+JzsKCQly'));
	@fwrite($fp, base64_decode('ZXR1cm4gJG91dDsKCX0KCgkvKioKCSAqIEBwYXJhbSBcVGhyb3dhYmxlICRleGNlcHRpb24KCSAqIEByZXR1cm4gdm9pZAoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gaHRtbF9leGNlcHRpb25faGFuZGxl'));
	@fwrite($fp, base64_decode('cihcVGhyb3dhYmxlICRleGNlcHRpb24pIHsKCQkvLyBOb3RlOiBUaGlzIG1ldGhvZCBtdXN0IGJlIHN0YXRpYywgYmVjYXVzZSBvZiBpdHMgcmVnaXN0cmF0aW9uIGFzIEV4Y2VwdGlvbiBoYW5kbGVyCgoJCWlmICgkZXhjZXB0aW9uIGluc3RhbmNlb2YgT0lEcGx1'));
	@fwrite($fp, base64_decode('c0V4Y2VwdGlvbikgewoJCQkkaHRtbFRpdGxlID0gJGV4Y2VwdGlvbi0+Z2V0aHRtbFRpdGxlKCk7CgkJCSRodG1sTWVzc2FnZSA9ICRleGNlcHRpb24tPmdldEh0bWxNZXNzYWdlKCk7CgkJfSBlbHNlIHsKCQkJJGh0bWxUaXRsZSA9ICcnOwoJCQkkaHRtbE1lc3Nh'));
	@fwrite($fp, base64_decode('Z2UgPSBodG1sZW50aXRpZXMoJGV4Y2VwdGlvbi0+Z2V0TWVzc2FnZSgpKTsKCQl9CgkJaWYgKCEkaHRtbFRpdGxlKSB7CgkJCSRodG1sVGl0bGUgPSBfTCgnT0lEcGx1cyBFcnJvcicpOwoJCX0KCgkJZWNobyAnPCFET0NUWVBFIEhUTUw+JzsKCQllY2hvICc8aHRt'));
	@fwrite($fp, base64_decode('bD48aGVhZD48dGl0bGU+Jy4kaHRtbFRpdGxlLic8L3RpdGxlPjwvaGVhZD48Ym9keT4nOwoJCWVjaG8gJzxoMT4nLiRodG1sVGl0bGUuJzwvaDE+JzsKCQllY2hvICRodG1sTWVzc2FnZTsKCQllY2hvIHNlbGY6OmdldEV4Y2VwdGlvblRlY2hJbmZvKCRleGNlcHRp'));
	@fwrite($fp, base64_decode('b24pOwoJCWVjaG8gJzwvYm9keT48L2h0bWw+JzsKCX0KCgkvKioKCSAqIEBwYXJhbSBcVGhyb3dhYmxlICRleGNlcHRpb24KCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdldEV4Y2VwdGlvblRlY2hJbmZvKFxUaHJvd2Fi'));
	@fwrite($fp, base64_decode('bGUgJGV4Y2VwdGlvbik6IHN0cmluZyB7CgkJJG91dCAgPSAnPHA+PGI+Jy5odG1sZW50aXRpZXMoX0woJ1RlY2huaWNhbCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJvYmxlbScpKS4nOjwvYj48L3A+JzsKCQkkb3V0IC49ICc8cHJlPic7CgkJJG91dCAuPSBnZXRf'));
	@fwrite($fp, base64_decode('Y2xhc3MoJGV4Y2VwdGlvbikuIlxuIjsKCQkkb3V0IC49IF9MKCdhdCBmaWxlICUxIChsaW5lICUyKScsJGV4Y2VwdGlvbi0+Z2V0RmlsZSgpLCIiLiRleGNlcHRpb24tPmdldExpbmUoKSkuIlxuXG4iOwoJCSRvdXQgLj0gX0woJ1N0YWNrdHJhY2UnKS4iOlxuIjsK'));
	@fwrite($fp, base64_decode('CQkkc3RhY2t0cmFjZSA9ICRleGNlcHRpb24tPmdldFRyYWNlQXNTdHJpbmcoKTsKCQl0cnkgewoJCQkkc3lzcGF0aCA9IE9JRHBsdXM6OmxvY2FscGF0aChOVUxMKTsKCQkJJHN0YWNrdHJhY2UgPSBzdHJfcmVwbGFjZSgkc3lzcGF0aCwgJy4uLicuRElSRUNUT1JZ'));
	@fwrite($fp, base64_decode('X1NFUEFSQVRPUiwgJHN0YWNrdHJhY2UpOyAvLyBmb3Igc2VjdXJpdHkKCQl9IGNhdGNoIChcVGhyb3dhYmxlICRlKSB7CgkJCS8vIENhdGNoIEV4Y2VwdGlvbiBhbmQgRXJyb3IsIGJlY2F1c2UgdGhpcyBzdGVwIChjZW5zb3JpbmcpIGlzIHB1cmVseSBvcHRpb25h'));
	@fwrite($fp, base64_decode('bCBhbmQgc2hvdWx0IG5vdCBwcmV2ZW50IHRoZSBzdGFja3RyYWNlIG9mIGJlaW5nIHNob3duCgkJfQoJCSRvdXQgLj0gaHRtbGVudGl0aWVzKCRzdGFja3RyYWNlKTsKCQkkb3V0IC49ICc8L3ByZT4nOwoJCXJldHVybiAkb3V0OwoJfQoKCS8qKgoJICogQHJldHVy'));
	@fwrite($fp, base64_decode('biBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRhYkJhclN0YXJ0KCk6IHN0cmluZyB7CgkJcmV0dXJuICc8dWwgY2xhc3M9Im5hdiBuYXYtdGFicyIgaWQ9Im15VGFiIiByb2xlPSJ0YWJsaXN0Ij4nOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAq'));
	@fwrite($fp, base64_decode('LwoJcHVibGljIGZ1bmN0aW9uIHRhYkJhckVuZCgpOiBzdHJpbmcgewoJCXJldHVybiAnPC91bD4nOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZyAkaWQKCSAqIEBwYXJhbSBzdHJpbmcgJHRpdGxlCgkgKiBAcGFyYW0gYm9vbCAkYWN0aXZlCgkgKiBAcmV0dXJu'));
	@fwrite($fp, base64_decode('IHN0cmluZwoJICovCglwdWJsaWMgZnVuY3Rpb24gdGFiQmFyRWxlbWVudChzdHJpbmcgJGlkLCBzdHJpbmcgJHRpdGxlLCBib29sICRhY3RpdmUpOiBzdHJpbmcgewoJCS8vIGRhdGEtYnMtdG9nZ2xlIGlzIGZvciBCb290c3RyYXAgNQoJCS8vIGRhdGEtdG9nZ2xl'));
	@fwrite($fp, base64_decode('IGlzIGZvciBCb290c3RyYXAgNCAoSW50ZXJuZXRFeHBsb3JlciBjb21wYXRpYmlsaXR5KQoJCXJldHVybiAnPGxpIGNsYXNzPSJuYXYtaXRlbSI+PGEgY2xhc3M9Im5hdi1saW5rJy4oJGFjdGl2ZSA/ICcgYWN0aXZlJyA6ICcnKS4nIiBpZD0iJy4kaWQuJy10YWIi'));
	@fwrite($fp, base64_decode('IGRhdGEtYnMtdG9nZ2xlPSJ0YWIiIGRhdGEtdG9nZ2xlPSJ0YWIiIGhyZWY9IiMnLiRpZC4nIiByb2xlPSJ0YWIiIGFyaWEtY29udHJvbHM9IicuJGlkLiciIGFyaWEtc2VsZWN0ZWQ9IicuKCRhY3RpdmUgPyAndHJ1ZScgOiAnZmFsc2UnKS4nIj4nLiR0aXRsZS4n'));
	@fwrite($fp, base64_decode('PC9hPjwvbGk+JzsKCX0KCgkvKioKCSAqIEByZXR1cm4gc3RyaW5nCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiB0YWJDb250ZW50U3RhcnQoKTogc3RyaW5nIHsKCQlyZXR1cm4gJzxkaXYgY2xhc3M9InRhYi1jb250ZW50IiBpZD0ibXlUYWJDb250ZW50Ij4nOwoJfQoK'));
	@fwrite($fp, base64_decode('CS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRhYkNvbnRlbnRFbmQoKTogc3RyaW5nIHsKCQlyZXR1cm4gJzwvZGl2Pic7Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRpZAoJICogQHBhcmFtIHN0cmluZyAkY29udGVudAoJ'));
	@fwrite($fp, base64_decode('ICogQHBhcmFtIGJvb2wgJGFjdGl2ZQoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIHRhYkNvbnRlbnRQYWdlKHN0cmluZyAkaWQsIHN0cmluZyAkY29udGVudCwgYm9vbCAkYWN0aXZlKTogc3RyaW5nIHsKCQlyZXR1cm4gJzxkaXYgY2xh'));
	@fwrite($fp, base64_decode('c3M9InRhYi1wYW5lIGZhZGUnLigkYWN0aXZlID8gJyBzaG93IGFjdGl2ZScgOiAnJykuJyIgaWQ9IicuJGlkLiciIHJvbGU9InRhYnBhbmVsIiBhcmlhLWxhYmVsbGVkYnk9IicuJGlkLictdGFiIj4nLiRjb250ZW50Lic8L2Rpdj4nOwoJfQoKCS8qKgoJICogQHBh'));
	@fwrite($fp, base64_decode('cmFtIHN0cmluZyAkc3lzdGVtdGl0bGUKCSAqIEBwYXJhbSBzdHJpbmcgJHBhZ2V0aXRsZQoJICogQHJldHVybiBzdHJpbmcKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShzdHJpbmcgJHN5c3RlbXRpdGxlLCBz'));
	@fwrite($fp, base64_decode('dHJpbmcgJHBhZ2V0aXRsZSk6IHN0cmluZyB7CgkJLy8gUGxlYXNlIGFsc28gY2hhbmdlIHRoZSBmdW5jdGlvbiBpbiBvaWRwbHVzX2Jhc2UuanMKCQlpZiAoJHN5c3RlbXRpdGxlID09ICRwYWdldGl0bGUpIHsKCQkJcmV0dXJuICRzeXN0ZW10aXRsZTsKCQl9IGVs'));
	@fwrite($fp, base64_decode('c2UgewoJCQlyZXR1cm4gJHBhZ2V0aXRsZSAuICcgLSAnIC4gJHN5c3RlbXRpdGxlOwoJCX0KCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJHRpdGxlCgkgKiBAcmV0dXJuIHN0cmluZ1tdCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHJpdmF0'));
	@fwrite($fp, base64_decode('ZSBmdW5jdGlvbiBnZXRDb21tb25IZWFkRWxlbXMoc3RyaW5nICR0aXRsZSk6IGFycmF5IHsKCQkvLyBHZXQgdGhlbWUgY29sb3IgKGNvbG9yIG9mIHRpdGxlIGJhcikKCQkkZGVzaWduX3BsdWdpbiA9IE9JRHBsdXM6OmdldEFjdGl2ZURlc2lnblBsdWdpbigpOwoJ'));
	@fwrite($fp, base64_decode('CSR0aGVtZV9jb2xvciA9IGlzX251bGwoJGRlc2lnbl9wbHVnaW4pID8gJycgOiAkZGVzaWduX3BsdWdpbi0+Z2V0VGhlbWVDb2xvcigpOwoKCQkkaGVhZF9lbGVtcyA9IGFycmF5KCk7CgkJJGhlYWRfZWxlbXNbXSA9ICc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50'));
	@fwrite($fp, base64_decode('LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCI+JzsKCQlpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREFUQUJBU0VfUExVR0lOJywnJykgIT09ICcnKSB7CgkJCSRoZWFkX2VsZW1zW10gPSAnPG1ldGEgbmFtZT0iT0lE'));
	@fwrite($fp, base64_decode('cGx1cy1TeXN0ZW1UaXRsZSIgY29udGVudD0iJy5odG1sZW50aXRpZXMoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdzeXN0ZW1fdGl0bGUnKSkuJyI+JzsgLy8gRG8gbm90IHJlbW92ZS4gVGhpcyBtZXRhIHRhZyBpcyBhY2Vzc2VkIGJ5IG9pZHBsdXNfYmFz'));
	@fwrite($fp, base64_decode('ZS5qcwoJCX0KCQlpZiAoJHRoZW1lX2NvbG9yICE9ICcnKSB7CgkJCSRoZWFkX2VsZW1zW10gPSAnPG1ldGEgbmFtZT0idGhlbWUtY29sb3IiIGNvbnRlbnQ9IicuaHRtbGVudGl0aWVzKCR0aGVtZV9jb2xvcikuJyI+JzsKCQl9CgkJJGhlYWRfZWxlbXNbXSA9ICc8'));
	@fwrite($fp, base64_decode('bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCI+JzsKCQkkaGVhZF9lbGVtc1tdID0gJzx0aXRsZT4nLmh0bWxlbnRpdGllcygkdGl0bGUpLic8L3RpdGxlPic7CgkJJGhlYWRfZWxlbXNbXSA9'));
	@fwrite($fp, base64_decode('ICc8c2NyaXB0IHNyYz0iJy5PSURwbHVzOjp3ZWJwYXRoKG51bGwsIE9JRHBsdXM6OlBBVEhfUkVMQVRJVkUpLidwb2x5ZmlsbC5taW4uanMucGhwIj48L3NjcmlwdD4nOwoJCSRoZWFkX2VsZW1zW10gPSAnPHNjcmlwdCBzcmM9IicuT0lEcGx1czo6d2VicGF0aChu'));
	@fwrite($fp, base64_decode('dWxsLCBPSURwbHVzOjpQQVRIX1JFTEFUSVZFKS4nb2lkcGx1cy5taW4uanMucGhwP25vQmFzZUNvbmZpZz0xIiB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPjwvc2NyaXB0Pic7CgkJJGhlYWRfZWxlbXNbXSA9ICc8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Iicu'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6d2VicGF0aChudWxsLCBPSURwbHVzOjpQQVRIX1JFTEFUSVZFKS4nb2lkcGx1cy5taW4uY3NzLnBocD9ub0Jhc2VDb25maWc9MSI+JzsKCQkkaGVhZF9lbGVtc1tdID0gJzxsaW5rIHJlbD0ic2hvcnRjdXQgaWNvbiIgdHlwZT0iaW1hZ2UveC1pY29u'));
	@fwrite($fp, base64_decode('IiBocmVmPSInLk9JRHBsdXM6OndlYnBhdGgobnVsbCwgT0lEcGx1czo6UEFUSF9SRUxBVElWRSkuJ2Zhdmljb24uaWNvLnBocCI+JzsKCQlpZiAoT0lEcGx1czo6YmFzZUNvbmZpZygpLT5leGlzdHMoJ0NBTk9OSUNBTF9TWVNURU1fVVJMJykpIHsKCQkJJGhlYWRf'));
	@fwrite($fp, base64_decode('ZWxlbXNbXSA9ICc8bGluayByZWw9ImNhbm9uaWNhbCIgaHJlZj0iJy5odG1sZW50aXRpZXMoT0lEcGx1czo6Y2Fub25pY2FsVVJMKCkpLk9JRHBsdXM6OndlYnBhdGgobnVsbCwgT0lEcGx1czo6UEFUSF9SRUxBVElWRSkuJyI+JzsKCQl9CgoJCXJldHVybiAkaGVh'));
	@fwrite($fp, base64_decode('ZF9lbGVtczsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJHBhZ2VfdGl0bGVfMQoJICogQHBhcmFtIHN0cmluZyAkcGFnZV90aXRsZV8yCgkgKiBAcGFyYW0gc3RyaW5nICRzdGF0aWNfaWNvbgoJICogQHBhcmFtIHN0cmluZyAkc3RhdGljX2NvbnRlbnQKCSAq'));
	@fwrite($fp, base64_decode('IEBwYXJhbSBhcnJheSAkZXh0cmFfaGVhZF90YWdzCgkgKiBAcGFyYW0gc3RyaW5nICRzdGF0aWNfbm9kZV9pZAoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uCgkgKiBAdGhyb3dzIE9JRHBs'));
	@fwrite($fp, base64_decode('dXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHNob3dNYWluUGFnZShzdHJpbmcgJHBhZ2VfdGl0bGVfMSwgc3RyaW5nICRwYWdlX3RpdGxlXzIsIHN0cmluZyAkc3RhdGljX2ljb24sIHN0cmluZyAkc3RhdGljX2NvbnRlbnQsIGFycmF5ICRleHRyYV9o'));
	@fwrite($fp, base64_decode('ZWFkX3RhZ3M9YXJyYXkoKSwgc3RyaW5nICRzdGF0aWNfbm9kZV9pZD0nJyk6IHN0cmluZyB7CgkJJGhlYWRfZWxlbXMgPSAkdGhpcy0+Z2V0Q29tbW9uSGVhZEVsZW1zKCRwYWdlX3RpdGxlXzEpOwoJCSRoZWFkX2VsZW1zID0gYXJyYXlfbWVyZ2UoJGhlYWRfZWxl'));
	@fwrite($fp, base64_decode('bXMsICRleHRyYV9oZWFkX3RhZ3MpOwoKCQkkcGx1Z2lucyA9IE9JRHBsdXM6OmdldEFsbFBsdWdpbnMoKTsKCQlmb3JlYWNoICgkcGx1Z2lucyBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmh0bWxIZWFkZXJVcGRhdGUoJGhlYWRfZWxlbXMpOwoJCX0KCgkJIyAt'));
	@fwrite($fp, base64_decode('LS0KCgkJJG91dCAgPSAiPCFET0NUWVBFIGh0bWw+XG4iOwoKCQkkb3V0IC49ICI8aHRtbCBsYW5nPVwiIi5zdWJzdHIoT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKSwwLDIpLiJcIj5cbiI7CgkJJG91dCAuPSAiPGhlYWQ+XG4iOwoJCSRvdXQgLj0gIlx0Ii5pbXBs'));
	@fwrite($fp, base64_decode('b2RlKCJcblx0IiwkaGVhZF9lbGVtcykuIlxuIjsKCQkkb3V0IC49ICI8L2hlYWQ+XG4iOwoKCQkkb3V0IC49ICI8Ym9keT5cbiI7CgoJCSRvdXQgLj0gJzxkaXYgaWQ9ImxvYWRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPkxvYWRpbmcmIzgyMzA7PC9kaXY+JzsK'));
	@fwrite($fp, base64_decode('CgkJJG91dCAuPSAnPGRpdiBpZD0iZnJhbWVzIj4nOwoJCSRvdXQgLj0gJzxkaXYgaWQ9ImNvbnRlbnRfd2luZG93IiBjbGFzcz0iYm9yZGVyYm94Ij4nOwoKCQkkb3V0IC49ICc8aDEgaWQ9InJlYWxfdGl0bGUiPic7CgkJaWYgKCRzdGF0aWNfaWNvbiAhPSAnJykg'));
	@fwrite($fp, base64_decode('JG91dCAuPSAnPGltZyBzcmM9IicuaHRtbGVudGl0aWVzKCRzdGF0aWNfaWNvbikuJyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IiI+ICc7CgkJJG91dCAuPSBodG1sZW50aXRpZXMoJHBhZ2VfdGl0bGVfMikuJzwvaDE+JzsKCQkkb3V0IC49ICc8ZGl2IGlk'));
	@fwrite($fp, base64_decode('PSJyZWFsX2NvbnRlbnQiPicuJHN0YXRpY19jb250ZW50Lic8L2Rpdj4nOwoJCWlmICgoIWlzc2V0KCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddKSkgfHwgKCRfU0VSVkVSWydSRVFVRVNUX01FVEhPRCddID09ICdHRVQnKSkgewoJCQkkb3V0IC49ICc8YnI+PHA+'));
	@fwrite($fp, base64_decode('PGltZyBzcmM9ImltZy9zaGFyZS5wbmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgYWx0PSInLl9MKCdTaGFyZScpLiciPiA8YSBocmVmPSI/Z290bz0nLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciIGlkPSJzdGF0aWNfbGluayIgY2xhc3M9ImdyYXlf'));
	@fwrite($fp, base64_decode('Zm9vdGVyX2ZvbnQiPicuX0woJ1N0YXRpYyBsaW5rIHRvIHRoaXMgcGFnZScpLic8L2E+JzsKCQkJJG91dCAuPSAnPC9wPic7CgkJfQoJCSRvdXQgLj0gJzxicj4nOwoKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICc8ZGl2IGlkPSJzeXN0ZW1fdGl0bGVf'));
	@fwrite($fp, base64_decode('YmFyIj4nOwoKCQkkb3V0IC49ICc8ZGl2IGlkPSJzeXN0ZW1fdGl0bGVfbWVudSIgb25jbGljaz0ibW9iaWxlTmF2QnV0dG9uQ2xpY2sodGhpcykiIG9ubW91c2VlbnRlcj0ibW9iaWxlTmF2QnV0dG9uSG92ZXIodGhpcykiIG9ubW91c2VsZWF2ZT0ibW9iaWxlTmF2'));
	@fwrite($fp, base64_decode('QnV0dG9uSG92ZXIodGhpcykiPic7CgkJJG91dCAuPSAnCTxkaXYgaWQ9ImJhcjEiPjwvZGl2Pic7CgkJJG91dCAuPSAnCTxkaXYgaWQ9ImJhcjIiPjwvZGl2Pic7CgkJJG91dCAuPSAnCTxkaXYgaWQ9ImJhcjMiPjwvZGl2Pic7CgkJJG91dCAuPSAnPC9kaXY+JzsK'));
	@fwrite($fp, base64_decode('CgkJJG91dCAuPSAnPGRpdiBpZD0ic3lzdGVtX3RpdGxlX3RleHQiPic7CgkJJG91dCAuPSAnCTxhICcuT0lEcGx1czo6Z3VpKCktPmxpbmsoJ29pZHBsdXM6c3lzdGVtJykuJyBpZD0ic3lzdGVtX3RpdGxlX2EiPic7CgkJJG91dCAuPSAnCQk8c3BhbiBpZD0ic3lz'));
	@fwrite($fp, base64_decode('dGVtX3RpdGxlX2xvZ28iPjwvc3Bhbj4nOwoJCSRvdXQgLj0gJwkJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8xIj4nLmh0bWxlbnRpdGllcyhPSURwbHVzOjpnZXRFZGl0aW9uSW5mbygpWyd2ZW5kb3InXS4nIE9JRHBsdXMgMi4wJykuJzwvc3Bhbj48YnI+JzsKCQkk'));
	@fwrite($fp, base64_decode('b3V0IC49ICcJCTxzcGFuIGlkPSJzeXN0ZW1fdGl0bGVfMiI+Jy5odG1sZW50aXRpZXMoT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdzeXN0ZW1fdGl0bGUnKSkuJzwvc3Bhbj4nOwoJCSRvdXQgLj0gJwk8L2E+JzsKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkk'));
	@fwrite($fp, base64_decode('b3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49IE9JRHBsdXM6Omd1aSgpLT5nZXRMYW5ndWFnZUJveCgkc3RhdGljX25vZGVfaWQsIHRydWUpOwoKCQkkb3V0IC49ICc8ZGl2IGlkPSJnb3RvYm94Ij4nOwoJCSRvdXQgLj0gJzxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1l'));
	@fwrite($fp, base64_decode('PSJnb3RvIiBpZD0iZ290b2VkaXQiIHZhbHVlPSInLmh0bWxlbnRpdGllcygkc3RhdGljX25vZGVfaWQpLiciPic7CgkJJG91dCAuPSAnPGlucHV0IHR5cGU9ImJ1dHRvbiIgdmFsdWU9IicuX0woJ0dvJykuJyIgb25jbGljaz0iZ290b0J1dHRvbkNsaWNrZWQoKSIg'));
	@fwrite($fp, base64_decode('aWQ9ImdvdG9idXR0b24iPic7CgkJJG91dCAuPSAnPC9kaXY+JzsKCgkJJG91dCAuPSAnPGRpdiBpZD0ib2lkdHJlZSIgY2xhc3M9ImJvcmRlcmJveCI+JzsKCQkvLyRvdXQgLj0gJzxub3NjcmlwdD4nOwoJCS8vJG91dCAuPSAnPHA+PGI+Jy5fTCgnUGxlYXNlIGVu'));
	@fwrite($fp, base64_decode('YWJsZSBKYXZhU2NyaXB0IHRvIHVzZSBhbGwgZmVhdHVyZXMnKS4nPC9iPjwvcD4nOwoJCS8vJG91dCAuPSAnPC9ub3NjcmlwdD4nOwoJCSRvdXQgLj0gT0lEcGx1czo6bWVudVV0aWxzKCktPm5vbmpzX21lbnUoKTsKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0'));
	@fwrite($fp, base64_decode('IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICJcbjwvYm9keT5cbiI7CgkJJG91dCAuPSAiPC9odG1sPlxuIjsKCgkJIyAtLS0KCgkJJHBsdWdpbnMgPSBPSURwbHVzOjpnZXRBbGxQbHVnaW5zKCk7CgkJZm9yZWFjaCAoJHBsdWdpbnMgYXMgJHBsdWdpbikgewoJCQkk'));
	@fwrite($fp, base64_decode('cGx1Z2luLT5odG1sUG9zdHByb2Nlc3MoJG91dCk7CgkJfQoKCQlyZXR1cm4gJG91dDsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJHBhZ2VfdGl0bGVfMQoJICogQHBhcmFtIHN0cmluZyAkcGFnZV90aXRsZV8yCgkgKiBAcGFyYW0gc3RyaW5nICRzdGF0aWNf'));
	@fwrite($fp, base64_decode('aWNvbgoJICogQHBhcmFtIHN0cmluZyAkc3RhdGljX2NvbnRlbnQKCSAqIEBwYXJhbSBzdHJpbmdbXSAkZXh0cmFfaGVhZF90YWdzCgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93cyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24KCSAqIEB0'));
	@fwrite($fp, base64_decode('aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gc2hvd1NpbXBsZVBhZ2Uoc3RyaW5nICRwYWdlX3RpdGxlXzEsIHN0cmluZyAkcGFnZV90aXRsZV8yLCBzdHJpbmcgJHN0YXRpY19pY29uLCBzdHJpbmcgJHN0YXRpY19jb250ZW50LCBh'));
	@fwrite($fp, base64_decode('cnJheSAkZXh0cmFfaGVhZF90YWdzPWFycmF5KCkpOiBzdHJpbmcgewoJCSRoZWFkX2VsZW1zID0gJHRoaXMtPmdldENvbW1vbkhlYWRFbGVtcygkcGFnZV90aXRsZV8xKTsKCQkkaGVhZF9lbGVtcyA9IGFycmF5X21lcmdlKCRoZWFkX2VsZW1zLCAkZXh0cmFfaGVh'));
	@fwrite($fp, base64_decode('ZF90YWdzKTsKCgkJIyAtLS0KCgkJJG91dCAgPSAiPCFET0NUWVBFIGh0bWw+XG4iOwoKCQkkb3V0IC49ICI8aHRtbCBsYW5nPVwiIi5zdWJzdHIoT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKSwwLDIpLiJcIj5cbiI7CgkJJG91dCAuPSAiPGhlYWQ+XG4iOwoJCSRv'));
	@fwrite($fp, base64_decode('dXQgLj0gIlx0Ii5pbXBsb2RlKCJcblx0IiwkaGVhZF9lbGVtcykuIlxuIjsKCQkkb3V0IC49ICI8L2hlYWQ+XG4iOwoKCQkkb3V0IC49ICI8Ym9keT5cbiI7CgoJCSRvdXQgLj0gJzxkaXYgaWQ9ImxvYWRpbmciIHN0eWxlPSJkaXNwbGF5Om5vbmUiPkxvYWRpbmcm'));
	@fwrite($fp, base64_decode('IzgyMzA7PC9kaXY+JzsKCgkJJG91dCAuPSAnPGRpdiBpZD0iZnJhbWVzIj4nOwoJCSRvdXQgLj0gJzxkaXYgaWQ9ImNvbnRlbnRfd2luZG93IiBjbGFzcz0iYm9yZGVyYm94Ij4nOwoKCQkkb3V0IC49ICc8aDEgaWQ9InJlYWxfdGl0bGUiPic7CgkJaWYgKCRzdGF0'));
	@fwrite($fp, base64_decode('aWNfaWNvbiAhPSAnJykgJG91dCAuPSAnPGltZyBzcmM9IicuaHRtbGVudGl0aWVzKCRzdGF0aWNfaWNvbikuJyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBhbHQ9IiI+ICc7CgkJJG91dCAuPSBodG1sZW50aXRpZXMoJHBhZ2VfdGl0bGVfMikuJzwvaDE+JzsKCQkk'));
	@fwrite($fp, base64_decode('b3V0IC49ICc8ZGl2IGlkPSJyZWFsX2NvbnRlbnQiPicuJHN0YXRpY19jb250ZW50Lic8L2Rpdj4nOwoJCSRvdXQgLj0gJzxicj4nOwoKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICc8ZGl2IGlkPSJzeXN0ZW1fdGl0bGVfYmFyIj4nOwoKCQkkb3V0IC49'));
	@fwrite($fp, base64_decode('ICc8ZGl2IGlkPSJzeXN0ZW1fdGl0bGVfdGV4dCI+JzsKCQkkb3V0IC49ICcJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV9sb2dvIj48L3NwYW4+JzsKCQkkb3V0IC49ICcJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8xIj4nLmh0bWxlbnRpdGllcyhPSURwbHVzOjpnZXRF'));
	@fwrite($fp, base64_decode('ZGl0aW9uSW5mbygpWyd2ZW5kb3InXS4nIE9JRHBsdXMgMi4wJykuJzwvc3Bhbj48YnI+JzsKCQkkb3V0IC49ICcJPHNwYW4gaWQ9InN5c3RlbV90aXRsZV8yIj4nLmh0bWxlbnRpdGllcygkcGFnZV90aXRsZV8xKS4nPC9zcGFuPic7CgkJJG91dCAuPSAnPC9kaXY+'));
	@fwrite($fp, base64_decode('JzsKCgkJJG91dCAuPSAnPC9kaXY+JzsKCgkJJG91dCAuPSBPSURwbHVzOjpndWkoKS0+Z2V0TGFuZ3VhZ2VCb3goJycsIHRydWUpOwoKCQkkb3V0IC49ICc8L2Rpdj4nOwoKCQkkb3V0IC49ICJcbjwvYm9keT5cbiI7CgkJJG91dCAuPSAiPC9odG1sPlxuIjsKCgkJ'));
	@fwrite($fp, base64_decode('IyAtLS0KCgkJcmV0dXJuICRvdXQ7Cgl9Cgp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusGui.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusGui.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplusGui.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusGui.class.php');
	} else if (sha1_file('includes/classes/OIDplusGui.class.php') != '6faff9b7131578f6940b0c446b143ccbfa050bc0') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusGui.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusGui.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusGui.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusGui.class.php') !== '6faff9b7131578f6940b0c446b143ccbfa050bc0') {
		if (@sha1_file('includes/classes/OIDplusGui.class.php') !== 'acaf87bf06efd39dc5f4dbb9cbab83b12e5ddab3') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusGui.class.php');
			$tmp = pathinfo('includes/classes/OIDplusGui.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusGui.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusGui.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplusGui.class.php') !== '6faff9b7131578f6940b0c446b143ccbfa050bc0') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusGui.class.php');
		}
	}
}

// Files different: plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php
function writefile_3() {
	@$fp = fopen('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMyBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgpuYW1lc3BhY2UgVmlhVGhpbmtTb2Z0XE9JRHBsdXM7CgovLyBwaHBjczpkaXNhYmxlIFBTUjEuRmlsZXMuU2lkZUVmZmVjdHMKXGRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykgb3IgZGll'));
	@fwrite($fp, base64_decode('OwovLyBwaHBjczplbmFibGUgUFNSMS5GaWxlcy5TaWRlRWZmZWN0cwoKY2xhc3MgT0lEcGx1c1BhZ2VQdWJsaWNBdHRhY2htZW50cyBleHRlbmRzIE9JRHBsdXNQYWdlUGx1Z2luUHVibGljCglpbXBsZW1lbnRzIElOVEZfT0lEXzFfM182XzFfNF8xXzM3NDc2XzJf'));
	@fwrite($fp, base64_decode('NV8yXzNfMiwgLyogbW9kaWZ5Q29udGVudCAqLwoJICAgICAgICAgICBJTlRGX09JRF8xXzNfNl8xXzRfMV8zNzQ3Nl8yXzVfMl8zXzMsIC8qIGJlZm9yZU9iamVjdCosIGFmdGVyT2JqZWN0KiAqLwoJICAgICAgICAgICBJTlRGX09JRF8xXzNfNl8xXzRfMV8zNzQ3'));
	@fwrite($fp, base64_decode('Nl8yXzVfMl8zXzQsIC8qIHdob2lzKkF0dHJpYnV0ZXMgKi8KCSAgICAgICAgICAgSU5URl9PSURfMV8zXzZfMV80XzFfMzc0NzZfMl81XzJfM184ICAvKiBnZXROb3RpZmljYXRpb25zICovCnsKCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGRpcgoJICogQHJldHVy'));
	@fwrite($fp, base64_decode('biB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gY2hlY2tVcGxvYWREaXIoc3RyaW5nICRkaXIpIHsKCQlpZiAoIWlzX2RpcigkZGlyKSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihf'));
	@fwrite($fp, base64_decode('TCgnVGhlIGF0dGFjaG1lbnQgZGlyZWN0b3J5ICIlMSIgaXMgbm90IGV4aXN0aW5nLicsICRkaXIpKTsKCQl9CgoJCSRyZWFsZGlyID0gcmVhbHBhdGgoJGRpcik7CgkJaWYgKCRyZWFsZGlyID09PSBmYWxzZSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlv'));
	@fwrite($fp, base64_decode('bihfTCgnVGhlIGF0dGFjaG1lbnQgZGlyZWN0b3J5ICIlMSIgY2Fubm90IGJlIHJlc29sdmVkIChyZWFscGF0aCkuJywgJGRpcikpOwoJCX0KCgkJLy8gQ2hlY2sgZm9yIGNyaXRpY2FsIGRpcmVjdG9yaWVzCgkJaWYgKHN0cnRvdXBwZXIoc3Vic3RyKFBIUF9PUywg'));
	@fwrite($fp, base64_decode('MCwgMykpICE9PSAnV0lOJykgewoJCQlpZiAoc2VsZjo6aXNDcml0aWNhbExpbnV4RGlyZWN0b3J5KCRyZWFsZGlyKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhdHRhY2htZW50IGRpcmVjdG9yeSBtdXN0IG5vdCBiZSBpbnNpZGUg'));
	@fwrite($fp, base64_decode('YSBjcml0aWNhbCBzeXN0ZW0gZGlyZWN0b3J5IScpKTsKCQkJfQoJCX0gZWxzZSB7CgkJCWlmIChzZWxmOjppc0NyaXRpY2FsV2luZG93c0RpcmVjdG9yeSgkcmVhbGRpcikpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdUaGUgYXR0YWNobWVu'));
	@fwrite($fp, base64_decode('dCBkaXJlY3RvcnkgbXVzdCBub3QgYmUgaW5zaWRlIGEgY3JpdGljYWwgc3lzdGVtIGRpcmVjdG9yeSEnKSk7CgkJCX0KCQl9Cgl9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRkaXIKCSAqIEByZXR1cm4gYm9vbAoJICovCglwcml2YXRlIHN0YXRpYyBmdW5jdGlv'));
	@fwrite($fp, base64_decode('biBpc0NyaXRpY2FsV2luZG93c0RpcmVjdG9yeShzdHJpbmcgJGRpcik6IGJvb2wgewoJCSRkaXIgPSBydHJpbShzdHJfcmVwbGFjZSgnLycsICdcXCcsICRkaXIpLCdcXCcpLidcXCc7CgkJJHdpbmRpciA9IGlzc2V0KCRfU0VSVkVSWydTeXN0ZW1Sb290J10pID8g'));
	@fwrite($fp, base64_decode('cnRyaW0oJF9TRVJWRVJbJ1N5c3RlbVJvb3QnXSwnXFwnKS4nXFwnIDogJ0M6XFxXaW5kb3dzXFwnOwoJCWlmIChzdHJpcG9zKCRkaXIsJHdpbmRpcikgPT09IDApIHJldHVybiB0cnVlOwoJCXJldHVybiBmYWxzZTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcg'));
	@fwrite($fp, base64_decode('JGRpcgoJICogQHJldHVybiBib29sCgkgKi8KCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGlzQ3JpdGljYWxMaW51eERpcmVjdG9yeShzdHJpbmcgJGRpcik6IGJvb2wgewoJCWlmICgkZGlyID09ICcvJykgcmV0dXJuIHRydWU7CgkJJGRpciA9IHJ0cmltKCRkaXIs'));
	@fwrite($fp, base64_decode('Jy8nKS4nLyc7CgkJaWYgKHN0cnBvcygkZGlyLCcvYmluLycpID09PSAwKSByZXR1cm4gdHJ1ZTsKCQlpZiAoc3RycG9zKCRkaXIsJy9ib290LycpID09PSAwKSByZXR1cm4gdHJ1ZTsKCQlpZiAoc3RycG9zKCRkaXIsJy9kZXYvJykgPT09IDApIHJldHVybiB0cnVl'));
	@fwrite($fp, base64_decode('OwoJCWlmIChzdHJwb3MoJGRpciwnL2V0Yy8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGlyLCcvbGliJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlmIChzdHJwb3MoJGRpciwnL29wdC8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0'));
	@fwrite($fp, base64_decode('cnBvcygkZGlyLCcvcHJvYy8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGlyLCcvcm9vdC8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGlyLCcvcnVuLycpID09PSAwKSByZXR1cm4gdHJ1ZTsKCQlpZiAoc3RycG9zKCRk'));
	@fwrite($fp, base64_decode('aXIsJy9zYmluLycpID09PSAwKSByZXR1cm4gdHJ1ZTsKCQlpZiAoc3RycG9zKCRkaXIsJy9zeXMvJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlmIChzdHJwb3MoJGRpciwnL3RtcC8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGlyLCcvdXNy'));
	@fwrite($fp, base64_decode('L2Jpbi8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGlyLCcvdXNyL2luY2x1ZGUvJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlmIChzdHJwb3MoJGRpciwnL3Vzci9saWInKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGly'));
	@fwrite($fp, base64_decode('LCcvdXNyL3NiaW4vJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlmIChzdHJwb3MoJGRpciwnL3Vzci9zcmMvJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlmIChzdHJwb3MoJGRpciwnL3Zhci9jYWNoZS8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBv'));
	@fwrite($fp, base64_decode('cygkZGlyLCcvdmFyL2xpYicpID09PSAwKSByZXR1cm4gdHJ1ZTsKCQlpZiAoc3RycG9zKCRkaXIsJy92YXIvbG9jay8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGlyLCcvdmFyL2xvZy8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0'));
	@fwrite($fp, base64_decode('cnBvcygkZGlyLCcvdmFyL21haWwvJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlmIChzdHJwb3MoJGRpciwnL3Zhci9vcHQvJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlmIChzdHJwb3MoJGRpciwnL3Zhci9ydW4vJykgPT09IDApIHJldHVybiB0cnVlOwoJCWlm'));
	@fwrite($fp, base64_decode('IChzdHJwb3MoJGRpciwnL3Zhci9zcG9vbC8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJaWYgKHN0cnBvcygkZGlyLCcvdmFyL3RtcC8nKSA9PT0gMCkgcmV0dXJuIHRydWU7CgkJcmV0dXJuIGZhbHNlOwoJfQoKCS8qKgoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0'));
	@fwrite($fp, base64_decode('aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwcm90ZWN0ZWQgc3RhdGljIGZ1bmN0aW9uIGdldFVwbG9hZEJhc2VEaXIoKTogc3RyaW5nIHsKCQkvLyBHZXQgYmFzZSBwYXRoCgkJJGNmZyA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnYXR0YWNobWVu'));
	@fwrite($fp, base64_decode('dF91cGxvYWRfZGlyJywgJycpOwoJCSRjZmcgPSB0cmltKCRjZmcpOwoJCWlmICgkY2ZnID09PSAnJykgewoJCQkkYmFzZXBhdGggPSBPSURwbHVzOjpsb2NhbHBhdGgoKSAuICd1c2VyZGF0YScgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJ2F0dGFjaG1lbnRzJzsK'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgewoJCQkkYmFzZXBhdGggPSAkY2ZnOwoJCX0KCQlyZXR1cm4gJGJhc2VwYXRoOwoJfQoKCS8qKgoJICogQHBhcmFtIHN0cmluZ3xudWxsICRpZAoJICogQHJldHVybiBzdHJpbmcKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJs'));
	@fwrite($fp, base64_decode('aWMgc3RhdGljIGZ1bmN0aW9uIGdldFVwbG9hZERpcihzdHJpbmcgJGlkPW51bGwpOiBzdHJpbmcgewoJCSRiYXNlcGF0aCA9IHNlbGY6OmdldFVwbG9hZEJhc2VEaXIoKTsKCgkJdHJ5IHsKCQkJc2VsZjo6Y2hlY2tVcGxvYWREaXIoJGJhc2VwYXRoKTsKCQl9IGNh'));
	@fwrite($fp, base64_decode('dGNoIChcRXhjZXB0aW9uICRlKSB7CgkJCSRlcnJvciA9IF9MKCdUaGlzIGZ1bmN0aW9uYWxpdHkgaXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gYSBtaXNjb25maWd1cmF0aW9uJyk7CgkJCWlmIChPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNBZG1pbkxvZ2dlZEluKCkp'));
	@fwrite($fp, base64_decode('IHsKCQkJCSRodG1sbXNnID0gJGUgaW5zdGFuY2VvZiBPSURwbHVzRXhjZXB0aW9uID8gJGUtPmdldEh0bWxNZXNzYWdlKCkgOiBodG1sZW50aXRpZXMoJGUtPmdldE1lc3NhZ2UoKSk7CgkJCQkkZXJyb3IgLj0gJzogJy4kaHRtbG1zZzsKCQkJfSBlbHNlIHsKCQkJ'));
	@fwrite($fp, base64_decode('CSRlcnJvciAuPSAnLiAnLl9MKCdQbGVhc2Ugbm90aWZ5IHRoZSBzeXN0ZW0gYWRtaW5pc3RyYXRvci4gQWZ0ZXIgdGhleSBsb2ctaW4sIHRoZXkgY2FuIHNlZSB0aGUgcmVhc29uIGF0IHRoaXMgcGxhY2UuJyk7CgkJCX0KCQkJdGhyb3cgbmV3IE9JRHBsdXNIdG1s'));
	@fwrite($fp, base64_decode('RXhjZXB0aW9uKCRlcnJvcik7CgkJfQoKCQkvLyBHZXQgb2JqZWN0LXNwZWNpZmljIHBhdGgKCQlpZiAoIWlzX251bGwoJGlkKSkgewoJCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJGlkKTsKCQkJaWYgKCEkb2JqKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2Vw'));
	@fwrite($fp, base64_decode('dGlvbihfTCgnSW52YWxpZCBvYmplY3QgIiUxIicsJGlkKSk7CgoJCQkkcGF0aF92MSA9ICRiYXNlcGF0aCAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAkb2JqLT5nZXRMZWdhY3lEaXJlY3RvcnlOYW1lKCk7CgkJCSRwYXRoX3YxX2J1ZyA9ICRiYXNlcGF0aCAuICRv'));
	@fwrite($fp, base64_decode('YmotPmdldExlZ2FjeURpcmVjdG9yeU5hbWUoKTsKCQkJJHBhdGhfdjIgPSAkYmFzZXBhdGggLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJG9iai0+Z2V0RGlyZWN0b3J5TmFtZSgpOwoKCQkJaWYgKGlzX2RpcigkcGF0aF92MSkpIHJldHVybiAkcGF0aF92MTsgLy8g'));
	@fwrite($fp, base64_decode('YmFja3dhcmRzIGNvbXBhdGliaWxpdHkKCQkJaWYgKGlzX2RpcigkcGF0aF92MV9idWcpKSByZXR1cm4gJHBhdGhfdjFfYnVnOyAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eQoJCQlyZXR1cm4gJHBhdGhfdjI7CgkJfSBlbHNlIHsKCQkJcmV0dXJuICRiYXNlcGF0'));
	@fwrite($fp, base64_decode('aDsKCQl9Cgl9CgoJLyoqCgkgKiBAcmV0dXJuIG1peGVkfG51bGwKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwcml2YXRlIGZ1bmN0aW9uIHJhTWF5RGVsZXRlKCkgewoJCXJldHVybiBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ2F0dGFj'));
	@fwrite($fp, base64_decode('aG1lbnRzX2FsbG93X3JhX2RlbGV0ZScsIDApOwoJfQoKCS8qKgoJICogQHJldHVybiBtaXhlZHxudWxsCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHJpdmF0ZSBmdW5jdGlvbiByYU1heVVwbG9hZCgpIHsKCQlyZXR1cm4gT0lEcGx1czo6Y29u'));
	@fwrite($fp, base64_decode('ZmlnKCktPmdldFZhbHVlKCdhdHRhY2htZW50c19hbGxvd19yYV91cGxvYWQnLCAwKTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGFjdGlvbklECgkgKiBAcGFyYW0gYXJyYXkgJHBhcmFtcwoJICogQHJldHVybiBhcnJheQoJICogQHRocm93cyBPSURwbHVz'));
	@fwrite($fp, base64_decode('RXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBhY3Rpb24oc3RyaW5nICRhY3Rpb25JRCwgYXJyYXkgJHBhcmFtcyk6IGFycmF5IHsKCgkJaWYgKCRhY3Rpb25JRCA9PSAnZGVsZXRlQXR0YWNobWVudCcpIHsKCQkJX0NoZWNrUGFyYW1FeGlzdHMoJHBhcmFt'));
	@fwrite($fp, base64_decode('cywgJ2lkJyk7CgkJCSRpZCA9ICRwYXJhbXNbJ2lkJ107CgkJCSRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkaWQpOwoJCQlpZiAoISRvYmopIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdJbnZhbGlkIG9iamVjdCAiJTEiJywkaWQpKTsKCQkJaWYg'));
	@fwrite($fp, base64_decode('KCEkb2JqLT51c2VySGFzV3JpdGVSaWdodHMoKSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0F1dGhlbnRpY2F0aW9uIGVycm9yLiBQbGVhc2UgbG9nIGluIGFzIGFkbWluLCBvciBhcyB0aGUgUkEgb2YgIiUxIiB0byB1cGxvYWQgYW4gYXR0YWNobWVu'));
	@fwrite($fp, base64_decode('dC4nLCRpZCkpOwoKCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNBZG1pbkxvZ2dlZEluKCkgJiYgISR0aGlzLT5yYU1heURlbGV0ZSgpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVGhlIGFkbWluaXN0cmF0b3IgaGFzIGRpc2Fi'));
	@fwrite($fp, base64_decode('bGVkIGRlbGV0aW5nIGF0dGFjaG1lbnRzIGJ5IFJBcy4nKSk7CgkJCX0KCgkJCV9DaGVja1BhcmFtRXhpc3RzKCRwYXJhbXMsICdmaWxlbmFtZScpOwoJCQkkcmVxX2ZpbGVuYW1lID0gJHBhcmFtc1snZmlsZW5hbWUnXTsKCQkJaWYgKHN0cnBvcygkcmVxX2ZpbGVu'));
	@fwrite($fp, base64_decode('YW1lLCAnLycpICE9PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0lsbGVnYWwgZmlsZSBuYW1lJykpOwoJCQlpZiAoc3RycG9zKCRyZXFfZmlsZW5hbWUsICdcXCcpICE9PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0wo'));
	@fwrite($fp, base64_decode('J0lsbGVnYWwgZmlsZSBuYW1lJykpOwoJCQlpZiAoc3RycG9zKCRyZXFfZmlsZW5hbWUsICcuLicpICE9PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0lsbGVnYWwgZmlsZSBuYW1lJykpOwoJCQlpZiAoc3RycG9zKCRyZXFfZmlsZW5hbWUs'));
	@fwrite($fp, base64_decode('IGNocigwKSkgIT09IGZhbHNlKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSWxsZWdhbCBmaWxlIG5hbWUnKSk7CgoJCQkkdXBsb2FkZGlyID0gc2VsZjo6Z2V0VXBsb2FkRGlyKCRpZCk7CgkJCSR1cGxvYWRmaWxlID0gJHVwbG9hZGRpciAuIERJUkVD'));
	@fwrite($fp, base64_decode('VE9SWV9TRVBBUkFUT1IgLiBiYXNlbmFtZSgkcmVxX2ZpbGVuYW1lKTsKCgkJCWlmICghZmlsZV9leGlzdHMoJHVwbG9hZGZpbGUpKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnRmlsZSBkb2VzIG5vdCBleGlzdCcpKTsKCQkJQHVubGluaygkdXBsb2Fk'));
	@fwrite($fp, base64_decode('ZmlsZSk7CgkJCWlmIChmaWxlX2V4aXN0cygkdXBsb2FkZmlsZSkpIHsKCQkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIltFUlJdT0lEKCUxKStbRVJSXUEhIiwgIkF0dGFjaG1lbnQgZmlsZSAnJTInIGNvdWxkIG5vdCBiZSBkZWxldGVkIGZyb20gb2JqZWN0ICcl'));
	@fwrite($fp, base64_decode('MScgKHByb2JsZW0gd2l0aCBwZXJtaXNzaW9ucz8pIiwgJGlkLCBiYXNlbmFtZSgkdXBsb2FkZmlsZSkpOwoJCQkJJG1zZyA9IF9MKCdBdHRhY2htZW50IGZpbGUgIiUxIiBjb3VsZCBub3QgYmUgZGVsZXRlZCBmcm9tIG9iamVjdCAiJTIiIChwcm9ibGVtIHdpdGgg'));
	@fwrite($fp, base64_decode('cGVybWlzc2lvbnM/KScsYmFzZW5hbWUoJHVwbG9hZGZpbGUpLCRpZCk7CgkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oJG1zZyk7CgkJCQl9IGVsc2UgewoJCQkJ'));
	@fwrite($fp, base64_decode('CXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCRtc2cuJy4gJy5fTCgnUGxlYXNlIGNvbnRhY3QgdGhlIHN5c3RlbSBhZG1pbmlzdHJhdG9yLicpKTsKCQkJCX0KCQkJfSBlbHNlIHsKCQkJCS8vIElmIGl0IHdhcyB0aGUgbGFzdCBmaWxlLCBkZWxldGUgdGhlIGVt'));
	@fwrite($fp, base64_decode('cHR5IGRpcmVjdG9yeQoJCQkJJGFyeSA9IEBnbG9iKCR1cGxvYWRkaXIgLiBESVJFQ1RPUllfU0VQQVJBVE9SIC4gJyonKTsKCQkJCWlmIChpc19hcnJheSgkYXJ5KSAmJiAoY291bnQoJGFyeSkgPT0gMCkpIEBybWRpcigkdXBsb2FkZGlyKTsKCQkJfQoKCQkJT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6bG9nZ2VyKCktPmxvZygiW09LXU9JRCglMSkrWz9JTkZPLyFPS11PSURSQSglMSk/L1s/SU5GTy8hT0tdQT8iLCAiRGVsZXRlZCBhdHRhY2htZW50ICclMicgZnJvbSBvYmplY3QgJyUxJyIsICRpZCwgYmFzZW5hbWUoJHVwbG9hZGZpbGUpKTsKCgkJCXJl'));
	@fwrite($fp, base64_decode('dHVybiBhcnJheSgic3RhdHVzIiA9PiAwKTsKCgkJfSBlbHNlIGlmICgkYWN0aW9uSUQgPT0gJ3VwbG9hZEF0dGFjaG1lbnQnKSB7CgkJCV9DaGVja1BhcmFtRXhpc3RzKCRwYXJhbXMsICdpZCcpOwoJCQkkaWQgPSAkcGFyYW1zWydpZCddOwoJCQkkb2JqID0gT0lE'));
	@fwrite($fp, base64_decode('cGx1c09iamVjdDo6cGFyc2UoJGlkKTsKCQkJaWYgKCEkb2JqKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSW52YWxpZCBvYmplY3QgIiUxIicsJGlkKSk7CgkJCWlmICghJG9iai0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHRocm93IG5ldyBPSURwbHVz'));
	@fwrite($fp, base64_decode('RXhjZXB0aW9uKF9MKCdBdXRoZW50aWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhcyBhZG1pbiwgb3IgYXMgdGhlIFJBIG9mICIlMSIgdG8gdXBsb2FkIGFuIGF0dGFjaG1lbnQuJywkaWQpKTsKCgkJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRt'));
	@fwrite($fp, base64_decode('aW5Mb2dnZWRJbigpICYmICEkdGhpcy0+cmFNYXlVcGxvYWQoKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBhZG1pbmlzdHJhdG9yIGhhcyBkaXNhYmxlZCB1cGxvYWRpbmcgYXR0YWNobWVudHMgYnkgUkFzLicpKTsKCQkJfQoKCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCFpc3NldCgkX0ZJTEVTWyd1c2VyZmlsZSddKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1BsZWFzZSBjaG9vc2UgYSBmaWxlLicpKTsKCQkJfQoKCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNBZG1pbkxvZ2dlZEluKCkp'));
	@fwrite($fp, base64_decode('IHsKCQkJCSRmbmFtZSA9IGJhc2VuYW1lKCRfRklMRVNbJ3VzZXJmaWxlJ11bJ25hbWUnXSk7CgoJCQkJLy8gMS4gSWYgc29tZXRoaW5nIGlzIG9uIHRoZSBibGFja2xpc3QsIHdlIGFsd2F5cyBibG9jayBpdCwgZXZlbiBpZiBpdCBpcyBvbiB0aGUgd2hpdGVsaXN0'));
	@fwrite($fp, base64_decode('LCB0b28KCQkJCSRiYW5uZWQgPSBleHBsb2RlKCcsJywgT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhdHRhY2htZW50c19ibG9ja19leHRlbnNpb25zJywgJycpKTsKCQkJCWZvcmVhY2ggKCRiYW5uZWQgYXMgJGV4dCkgewoJCQkJCSRleHQgPSB0cmltKCRl'));
	@fwrite($fp, base64_decode('eHQpOwoJCQkJCWlmICgkZXh0ID09ICcnKSBjb250aW51ZTsKCQkJCQlpZiAoc3RydG9sb3dlcihzdWJzdHIoJGZuYW1lLCAtc3RybGVuKCRleHQpLTEpKSA9PSBzdHJ0b2xvd2VyKCcuJy4kZXh0KSkgewoJCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihf'));
	@fwrite($fp, base64_decode('TCgnVGhlIGZpbGUgZXh0ZW5zaW9uICIlMSIgaXMgYmFubmVkIGJ5IHRoZSBhZG1pbmlzdHJhdG9yIChpdCBjYW4gYmUgdXBsb2FkZWQgYnkgdGhlIGFkbWluaXN0cmF0b3IgdGhvdWdoKScsJGV4dCkpOwoJCQkJCX0KCQkJCX0KCgkJCQkvLyAyLiBTb21ldGhpbmcg'));
	@fwrite($fp, base64_decode('b24gdGhlIHdoaXRlbGlzdCBpcyBhbHdheXMgT0sKCQkJCSRhbGxvd2VkID0gZXhwbG9kZSgnLCcsIE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnYXR0YWNobWVudHNfYWxsb3dfZXh0ZW5zaW9ucycsICcnKSk7CgkJCQkkaXNfd2hpdGVsaXN0ZWQgPSBmYWxz'));
	@fwrite($fp, base64_decode('ZTsKCQkJCWZvcmVhY2ggKCRhbGxvd2VkIGFzICRleHQpIHsKCQkJCQkkZXh0ID0gdHJpbSgkZXh0KTsKCQkJCQlpZiAoJGV4dCA9PSAnJykgY29udGludWU7CgkJCQkJaWYgKHN0cnRvbG93ZXIoc3Vic3RyKCRmbmFtZSwgLXN0cmxlbigkZXh0KS0xKSkgPT0gc3Ry'));
	@fwrite($fp, base64_decode('dG9sb3dlcignLicuJGV4dCkpIHsKCQkJCQkJJGlzX3doaXRlbGlzdGVkID0gdHJ1ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIDMuIEZvciBldmVyeXRoaW5nIHRoYXQgaXMgbmVpdGhlciB3aGl0ZWxpc3RlZCwgbm9yIGJsYWNrbGlzdGVkLCB0'));
	@fwrite($fp, base64_decode('aGUgYWRtaW4gY2FuIGRlY2lkZSBpZiB0aGVzZSBncmV5IHpvbmUgaXMgYWxsb3dlZCBvciBibG9ja2VkCgkJCQlpZiAoISRpc193aGl0ZWxpc3RlZCkgewoJCQkJCWlmICghT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdhdHRhY2htZW50c19hbGxvd19ncmV5'));
	@fwrite($fp, base64_decode('X2V4dGVuc2lvbnMnLCAnMScpKSB7CgkJCQkJCSR0bXAgPSBleHBsb2RlKCcuJywgJGZuYW1lKTsKCQkJCQkJJGV4dCA9IGFycmF5X3BvcCgkdG1wKTsKCQkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1RoZSBmaWxlIGV4dGVuc2lvbiAiJTEiIGlz'));
	@fwrite($fp, base64_decode('IG5vdCBvbiB0aGUgd2hpdGVsaXN0IChpdCBjYW4gYmUgdXBsb2FkZWQgYnkgdGhlIGFkbWluaXN0cmF0b3IgdGhvdWdoKScsJGV4dCkpOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJJHJlcV9maWxlbmFtZSA9ICRfRklMRVNbJ3VzZXJmaWxlJ11bJ25hbWUnXTsKCQkJ'));
	@fwrite($fp, base64_decode('aWYgKHN0cnBvcygkcmVxX2ZpbGVuYW1lLCAnLycpICE9PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0lsbGVnYWwgZmlsZSBuYW1lJykpOwoJCQlpZiAoc3RycG9zKCRyZXFfZmlsZW5hbWUsICdcXCcpICE9PSBmYWxzZSkgdGhyb3cgbmV3'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNFeGNlcHRpb24oX0woJ0lsbGVnYWwgZmlsZSBuYW1lJykpOwoJCQlpZiAoc3RycG9zKCRyZXFfZmlsZW5hbWUsICcuLicpICE9PSBmYWxzZSkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0lsbGVnYWwgZmlsZSBuYW1lJykpOwoJCQlpZiAo'));
	@fwrite($fp, base64_decode('c3RycG9zKCRyZXFfZmlsZW5hbWUsIGNocigwKSkgIT09IGZhbHNlKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSWxsZWdhbCBmaWxlIG5hbWUnKSk7CgoJCQkkdXBsb2FkZGlyID0gc2VsZjo6Z2V0VXBsb2FkRGlyKCRpZCk7CgkJCSR1cGxvYWRmaWxl'));
	@fwrite($fp, base64_decode('ID0gJHVwbG9hZGRpciAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiBiYXNlbmFtZSgkcmVxX2ZpbGVuYW1lKTsKCgkJCWlmICghaXNfZGlyKCR1cGxvYWRkaXIpKSB7CgkJCQlAbWtkaXIoJHVwbG9hZGRpciwgMDc3NywgdHJ1ZSk7CgkJCQlpZiAoIWlzX2RpcigkdXBs'));
	@fwrite($fp, base64_decode('b2FkZGlyKSkgewoJCQkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIltFUlJdT0lEKCUxKStbRVJSXUEhIiwgIlVwbG9hZCBhdHRhY2htZW50ICclMicgdG8gb2JqZWN0ICclMScgZmFpbGVkOiBDYW5ub3QgY3JlYXRlIGRpcmVjdG9yeSAnJTMnIChwcm9ibGVtIHdp'));
	@fwrite($fp, base64_decode('dGggcGVybWlzc2lvbnM/KSIsICRpZCwgYmFzZW5hbWUoJHVwbG9hZGZpbGUpLCBiYXNlbmFtZSgkdXBsb2FkZGlyKSk7CgkJCQkJJG1zZyA9IF9MKCdVcGxvYWQgYXR0YWNobWVudCAiJTEiIHRvIG9iamVjdCAiJTIiIGZhaWxlZCcsYmFzZW5hbWUoJHVwbG9hZGZp'));
	@fwrite($fp, base64_decode('bGUpLCRpZCkuJzogJy5fTCgnQ2Fubm90IGNyZWF0ZSBkaXJlY3RvcnkgIiUxIiAocHJvYmxlbSB3aXRoIHBlcm1pc3Npb25zPyknLGJhc2VuYW1lKCR1cGxvYWRkaXIpKTsKCQkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCRtc2cpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCRtc2cuJy4gJy5fTCgnUGxlYXNlIGNvbnRhY3QgdGhlIHN5c3RlbSBhZG1pbmlzdHJhdG9yLicpKTsKCQkJ'));
	@fwrite($fp, base64_decode('CQl9CgkJCQl9CgkJCX0KCgkJCWlmICghQG1vdmVfdXBsb2FkZWRfZmlsZSgkX0ZJTEVTWyd1c2VyZmlsZSddWyd0bXBfbmFtZSddLCAkdXBsb2FkZmlsZSkpIHsKCQkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIltFUlJdT0lEKCUxKStbRVJSXUEhIiwgIlVwbG9h'));
	@fwrite($fp, base64_decode('ZCBhdHRhY2htZW50ICclMicgdG8gb2JqZWN0ICclMScgZmFpbGVkOiBDYW5ub3QgbW92ZSB1cGxvYWRlZCBmaWxlIGludG8gZGlyZWN0b3J5IChwcm9ibGVtIHdpdGggcGVybWlzc2lvbnM/KSIsICRpZCwgYmFzZW5hbWUoJHVwbG9hZGZpbGUpKTsKCQkJCSRtc2cg'));
	@fwrite($fp, base64_decode('PSBfTCgnVXBsb2FkIGF0dGFjaG1lbnQgIiUxIiB0byBvYmplY3QgIiUyIiBmYWlsZWQnLGJhc2VuYW1lKCR1cGxvYWRmaWxlKSwkaWQpLic6ICcuX0woJ0Nhbm5vdCBtb3ZlIHVwbG9hZGVkIGZpbGUgaW50byBkaXJlY3RvcnkgKHByb2JsZW0gd2l0aCBwZXJtaXNz'));
	@fwrite($fp, base64_decode('aW9ucz8pJyk7CgkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oJG1zZyk7CgkJCQl9IGVsc2UgewoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCRtc2cu'));
	@fwrite($fp, base64_decode('Jy4gJy5fTCgnUGxlYXNlIGNvbnRhY3QgdGhlIHN5c3RlbSBhZG1pbmlzdHJhdG9yLicpKTsKCQkJCX0KCQkJfQoKCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiW09LXU9JRCglMSkrWz9JTkZPLyFPS11PSURSQSglMSk/L1s/SU5GTy8hT0tdQT8iLCAiVXBsb2Fk'));
	@fwrite($fp, base64_decode('ZWQgYXR0YWNobWVudCAnJTInIHRvIG9iamVjdCAnJTEnIiwgJGlkLCBiYXNlbmFtZSgkdXBsb2FkZmlsZSkpOwoKCQkJcmV0dXJuIGFycmF5KCJzdGF0dXMiID0+IDApOwoJCX0gZWxzZSB7CgkJCXJldHVybiBwYXJlbnQ6OmFjdGlvbigkYWN0aW9uSUQsICRwYXJh'));
	@fwrite($fp, base64_decode('bXMpOwoJCX0KCX0KCgkvKioKCSAqIEBwYXJhbSBib29sICRodG1sCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gaW5pdChib29sICRodG1sPXRydWUpIHsKCQlPSURwbHVzOjpjb25maWco'));
	@fwrite($fp, base64_decode('KS0+cHJlcGFyZUNvbmZpZ0tleSgnYXR0YWNobWVudHNfYmxvY2tfZXh0ZW5zaW9ucycsICdCbG9jayBmaWxlIG5hbWUgZXh0ZW5zaW9ucyBiZWluZyB1c2VkIGluIGZpbGUgYXR0YWNobWVudHMgKGNvbW1hIHNlcGFyYXRlZCknLCAnZXhlLHNjcixwaWYsYmF0LGNv'));
	@fwrite($fp, base64_decode('bSx2YnMsY21kJywgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9FRElUQUJMRSwgZnVuY3Rpb24oJHZhbHVlKSB7CgkJCS8vIFRPRE86IGNoZWNrIGlmIGEgYmxhY2tsaXN0IGVudHJ5IGlzIGFsc28gb24gdGhlIHdoaXRlbGlzdCAod2hpY2ggaXMgbm90IGFsbG93'));
	@fwrite($fp, base64_decode('ZWQpCgkJfSk7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ2F0dGFjaG1lbnRzX2FsbG93X2V4dGVuc2lvbnMnLCAnQWxsb3cgKHdoaXRlbGlzdCkgZmlsZSBuYW1lIGV4dGVuc2lvbnMgYmVpbmcgdXNlZCBpbiBmaWxlIGF0dGFjaG1lbnRz'));
	@fwrite($fp, base64_decode('IChjb21tYSBzZXBhcmF0ZWQpJywgJycsIE9JRHBsdXNDb25maWc6OlBST1RFQ1RJT05fRURJVEFCTEUsIGZ1bmN0aW9uKCR2YWx1ZSkgewoJCQkvLyBUT0RPOiBjaGVjayBpZiBhIHdoaXRlbGlzdCBlbnRyeSBpcyBhbHNvIG9uIHRoZSBibGFja2xpc3QgKHdoaWNo'));
	@fwrite($fp, base64_decode('IGlzIG5vdCBhbGxvd2VkKQoJCX0pOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5wcmVwYXJlQ29uZmlnS2V5KCdhdHRhY2htZW50c19hbGxvd19ncmV5X2V4dGVuc2lvbnMnLCAnU2hvdWxkIGZpbGUtZXh0ZW5zaW9ucyB3aGljaCBhcmUgbmVpdGhlciBiZSBvbiB0aGUg'));
	@fwrite($fp, base64_decode('d2hpdGVsaXN0LCBub3IgYmUgYXQgdGhlIGJsYWNrbGlzdCwgYmUgYWxsb3dlZD8gKDE9WWVzLCAwPU5vKScsICcxJywgT0lEcGx1c0NvbmZpZzo6UFJPVEVDVElPTl9FRElUQUJMRSwgZnVuY3Rpb24oJHZhbHVlKSB7CgkJCWlmICghaXNfbnVtZXJpYygkdmFsdWUp'));
	@fwrite($fp, base64_decode('IHx8ICgkdmFsdWUgPCAwKSB8fCAoJHZhbHVlID4gMSkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdQbGVhc2UgZW50ZXIgYSB2YWxpZCB2YWx1ZSAoMD1ubywgMT15ZXMpLicpKTsKCQkJfQoJCX0pOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5w'));
	@fwrite($fp, base64_decode('cmVwYXJlQ29uZmlnS2V5KCdhdHRhY2htZW50c19hbGxvd19yYV9kZWxldGUnLCAnQWxsb3cgdGhhdCBSQXMgZGVsZXRlIGZpbGUgYXR0YWNobWVudHM/ICgwPW5vLCAxPXllcyknLCAnMCcsIE9JRHBsdXNDb25maWc6OlBST1RFQ1RJT05fRURJVEFCTEUsIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uKCR2YWx1ZSkgewoJCQlpZiAoIWlzX251bWVyaWMoJHZhbHVlKSB8fCAoJHZhbHVlIDwgMCkgfHwgKCR2YWx1ZSA+IDEpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgdmFsdWUgKDA9bm8sIDE9eWVz'));
	@fwrite($fp, base64_decode('KS4nKSk7CgkJCX0KCQl9KTsKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgnYXR0YWNobWVudHNfYWxsb3dfcmFfdXBsb2FkJywgJ0FsbG93IHRoYXQgUkFzIHVwbG9hZCBmaWxlIGF0dGFjaG1lbnRzPyAoMD1ubywgMT15ZXMpJywgJzAnLCBP'));
	@fwrite($fp, base64_decode('SURwbHVzQ29uZmlnOjpQUk9URUNUSU9OX0VESVRBQkxFLCBmdW5jdGlvbigkdmFsdWUpIHsKCQkJaWYgKCFpc19udW1lcmljKCR2YWx1ZSkgfHwgKCR2YWx1ZSA8IDApIHx8ICgkdmFsdWUgPiAxKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0wo'));
	@fwrite($fp, base64_decode('J1BsZWFzZSBlbnRlciBhIHZhbGlkIHZhbHVlICgwPW5vLCAxPXllcykuJykpOwoJCQl9CgkJfSk7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ2F0dGFjaG1lbnRfdXBsb2FkX2RpcicsICdBbHRlcm5hdGl2ZSBkaXJlY3RvcnkgZm9yIGF0'));
	@fwrite($fp, base64_decode('dGFjaG1lbnRzLiBJZiB0aGlzIHNldHRpbmcgaXMgZW1wdHksIHRoZW4gdGhlIHVzZXJkYXRhIGRpcmVjdG9yeSBpcyB1c2VkLicsICcnLCBPSURwbHVzQ29uZmlnOjpQUk9URUNUSU9OX0VESVRBQkxFLCBmdW5jdGlvbigkdmFsdWUpIHsKCQkJaWYgKHRyaW0oJHZh'));
	@fwrite($fp, base64_decode('bHVlKSAhPT0gJycpIHsKCQkJCXNlbGY6OmNoZWNrVXBsb2FkRGlyKCR2YWx1ZSk7CgkJCX0KCQl9KTsKCX0KCgkvKioKCSAqIEBwYXJhbSBzdHJpbmcgJGlkCgkgKiBAcGFyYW0gYXJyYXkgJG91dAoJICogQHBhcmFtIGJvb2wgJGhhbmRsZWQKCSAqIEByZXR1cm4g'));
	@fwrite($fp, base64_decode('dm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gZ3VpKHN0cmluZyAkaWQsIGFycmF5ICYkb3V0LCBib29sICYkaGFuZGxlZCkgewoJCS8vIE5vdGhpbmcKCX0KCgkvKioKCSAqIEBwYXJhbSBhcnJheSAkb3V0CgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVibGljIGZ1'));
	@fwrite($fp, base64_decode('bmN0aW9uIHB1YmxpY1NpdGVtYXAoYXJyYXkgJiRvdXQpIHsKCQkvLyBOb3RoaW5nCgl9CgoJLyoqCgkgKiBAcGFyYW0gYXJyYXkgJGpzb24KCSAqIEBwYXJhbSBzdHJpbmd8bnVsbCAkcmFfZW1haWwKCSAqIEBwYXJhbSBib29sICRub25qcwoJICogQHBhcmFtIHN0'));
	@fwrite($fp, base64_decode('cmluZyAkcmVxX2dvdG8KCSAqIEByZXR1cm4gYm9vbAoJICovCglwdWJsaWMgZnVuY3Rpb24gdHJlZShhcnJheSAmJGpzb24sIHN0cmluZyAkcmFfZW1haWw9bnVsbCwgYm9vbCAkbm9uanM9ZmFsc2UsIHN0cmluZyAkcmVxX2dvdG89JycpOiBib29sIHsKCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiBDb252ZXJ0IGFtb3VudCBvZiBieXRlcyB0byBodW1hbi1mcmllbmRseSBuYW1lCgkgKgoJICogQHBhcmFtIGludCAkYnl0ZXMKCSAqIEBwYXJhbSBpbnQgJGRlY2ltYWxzCgkgKiBAcmV0dXJuIHN0cmluZwoJICogQHRocm93'));
	@fwrite($fp, base64_decode('cyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24KCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBjb252ZXJ0X2ZpbGVzaXplKGludCAkYnl0ZXMsIGludCAkZGVjaW1hbHMgPSAyKTogc3Ry'));
	@fwrite($fp, base64_decode('aW5nIHsKCQkkc2l6ZSA9IGFycmF5KF9MKCdCeXRlcycpLF9MKCdLaUInKSxfTCgnTWlCJyksX0woJ0dpQicpLF9MKCdUaUInKSxfTCgnUGlCJyksX0woJ0VpQicpLF9MKCdaaUInKSxfTCgnWWlCJykpOwoJCSRmYWN0b3IgPSBmbG9vcigoc3RybGVuKCIkYnl0ZXMi'));
	@fwrite($fp, base64_decode('KSAtIDEpIC8gMyk7CgkJcmV0dXJuIHNwcmludGYoIiUueyRkZWNpbWFsc31mIiwgJGJ5dGVzIC8gcG93KDEwMjQsICRmYWN0b3IpKSAuICcgJyAuIEAkc2l6ZVskZmFjdG9yXTsKCX0KCgkvKioKCSAqIEltcGxlbWVudHMgaW50ZXJmYWNlIElOVEZfT0lEXzFfM182'));
	@fwrite($fp, base64_decode('XzFfNF8xXzM3NDc2XzJfNV8yXzNfMgoJICoKCSAqIEBwYXJhbSBzdHJpbmcgJGlkCgkgKiBAcGFyYW0gc3RyaW5nICR0aXRsZQoJICogQHBhcmFtIHN0cmluZyAkaWNvbgoJICogQHBhcmFtIHN0cmluZyAkdGV4dAoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dz'));
	@fwrite($fp, base64_decode('IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbgoJICogQHRocm93cyBPSURwbHVzRXhjZXB0aW9uCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBtb2RpZnlDb250ZW50KHN0cmluZyAkaWQsIHN0cmluZyAmJHRpdGxlLCBzdHJpbmcgJiRpY29uLCBzdHJp'));
	@fwrite($fp, base64_decode('bmcgJiR0ZXh0KSB7CgkJJG91dHB1dCA9ICcnOwoJCSRkb3Nob3cgPSBmYWxzZTsKCgkJdHJ5IHsKCQkJJHVwbG9hZF9kaXIgPSBzZWxmOjpnZXRVcGxvYWREaXIoJGlkKTsKCQkJJGZpbGVzID0gQGdsb2IoJHVwbG9hZF9kaXIgLiBESVJFQ1RPUllfU0VQQVJBVE9S'));
	@fwrite($fp, base64_decode('IC4gJyonKTsKCQkJJGZvdW5kX2ZpbGVzID0gZmFsc2U7CgoJCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJGlkKTsKCQkJaWYgKCEkb2JqKSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnSW52YWxpZCBvYmplY3QgIiUxIicsJGlkKSk7CgkJCSRj'));
	@fwrite($fp, base64_decode('YW5fdXBsb2FkID0gT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpIHx8ICgkdGhpcy0+cmFNYXlVcGxvYWQoKSAmJiAkb2JqLT51c2VySGFzV3JpdGVSaWdodHMoKSk7CgkJCSRjYW5fZGVsZXRlID0gT0lEcGx1czo6YXV0aFV0aWxzKCktPmlz'));
	@fwrite($fp, base64_decode('QWRtaW5Mb2dnZWRJbigpIHx8ICgkdGhpcy0+cmFNYXlEZWxldGUoKSAmJiAkb2JqLT51c2VySGFzV3JpdGVSaWdodHMoKSk7CgoJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkkb3V0cHV0IC49ICc8cD4nLl9MKCdB'));
	@fwrite($fp, base64_decode('ZG1pbiBpbmZvOiBUaGUgZGlyZWN0b3J5IGlzICUxJywnPGI+Jy5odG1sZW50aXRpZXMoJHVwbG9hZF9kaXIpLic8L2I+JykuJzwvcD4nOwoJCQkJJGRvc2hvdyA9IHRydWU7CgkJCX0KCgkJCSRvdXRwdXQgLj0gJzxkaXYgaWQ9ImZpbGVhdHRhY2htZW50c190YWJs'));
	@fwrite($fp, base64_decode('ZSIgY2xhc3M9InRhYmxlLXJlc3BvbnNpdmUiPic7CgkJCSRvdXRwdXQgLj0gJzx0YWJsZSBjbGFzcz0idGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtc3RyaXBlZCI+JzsKCQkJJG91dHB1dCAuPSAnPHRoZWFkPic7CgkJCSRvdXRwdXQgLj0gJzx0cj4nOwoJCQkk'));
	@fwrite($fp, base64_decode('b3V0cHV0IC49ICc8dGg+Jy5fTCgnRmlsZW5hbWUnKS4nPC90aD4nOwoJCQkkb3V0cHV0IC49ICc8dGg+Jy5fTCgnU2l6ZScpLic8L3RoPic7CgkJCSRvdXRwdXQgLj0gJzx0aD4nLl9MKCdGaWxlIHR5cGUnKS4nPC90aD4nOwoJCQkkb3V0cHV0IC49ICc8dGg+Jy5f'));
	@fwrite($fp, base64_decode('TCgnRG93bmxvYWQnKS4nPC90aD4nOwoJCQlpZiAoJGNhbl9kZWxldGUpICRvdXRwdXQgLj0gJzx0aD4nLl9MKCdEZWxldGUnKS4nPC90aD4nOwoJCQkkb3V0cHV0IC49ICc8L3RyPic7CgkJCSRvdXRwdXQgLj0gJzwvdGhlYWQ+JzsKCQkJJG91dHB1dCAuPSAnPHRi'));
	@fwrite($fp, base64_decode('b2R5Pic7CgkJCWlmICgkZmlsZXMpIGZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgewoJCQkJaWYgKGlzX2RpcigkZmlsZSkpIGNvbnRpbnVlOwoKCQkJCSRvdXRwdXQgLj0gJzx0cj4nOwoJCQkJJG91dHB1dCAuPSAnPHRkPicuaHRtbGVudGl0aWVzKGJhc2VuYW1l'));
	@fwrite($fp, base64_decode('KCRmaWxlKSkuJzwvdGQ+JzsKCQkJCSRvdXRwdXQgLj0gJzx0ZD4nLmh0bWxlbnRpdGllcyhzZWxmOjpjb252ZXJ0X2ZpbGVzaXplKGZpbGVzaXplKCRmaWxlKSwgMCkpLic8L3RkPic7CgkJCQkkbG9va3VwX2ZpbGVzID0gYXJyYXkoCgkJCQkJT0lEcGx1czo6bG9j'));
	@fwrite($fp, base64_decode('YWxwYXRoKCkuJ3VzZXJkYXRhL2F0dGFjaG1lbnRzL2ZpbGV0eXBlcyQnLk9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCkuJy5jb25mJywKCQkJCQlPSURwbHVzOjpsb2NhbHBhdGgoKS4ndXNlcmRhdGEvYXR0YWNobWVudHMvZmlsZXR5cGVzLmNvbmYnLAoJCQkJCU9J'));
	@fwrite($fp, base64_decode('RHBsdXM6OmxvY2FscGF0aCgpLid2ZW5kb3IvZGFuaWVsbWFyc2NoYWxsL2ZpbGVmb3JtYXRzL2ZpbGV0eXBlcyQnLk9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCkuJy5sb2NhbCcsIC8vIG5vdCByZWNvbW1lbmRlZAoJCQkJCU9JRHBsdXM6OmxvY2FscGF0aCgpLid2'));
	@fwrite($fp, base64_decode('ZW5kb3IvZGFuaWVsbWFyc2NoYWxsL2ZpbGVmb3JtYXRzL2ZpbGV0eXBlcy5sb2NhbCcsIC8vIG5vdCByZWNvbW1lbmRlZAoJCQkJCU9JRHBsdXM6OmxvY2FscGF0aCgpLid2ZW5kb3IvZGFuaWVsbWFyc2NoYWxsL2ZpbGVmb3JtYXRzL2ZpbGV0eXBlcyQnLk9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmdldEN1cnJlbnRMYW5nKCkuJy5jb25mJywKCQkJCQlPSURwbHVzOjpsb2NhbHBhdGgoKS4ndmVuZG9yL2RhbmllbG1hcnNjaGFsbC9maWxlZm9ybWF0cy9maWxldHlwZXMuY29uZicKCQkJCSk7CgkJCQkkb3V0cHV0IC49ICc8dGQ+Jy5odG1sZW50aXRpZXMo'));
	@fwrite($fp, base64_decode('XFZ0c0ZpbGVUeXBlRGV0ZWN0OjpnZXREZXNjcmlwdGlvbigkZmlsZSwgJGxvb2t1cF9maWxlcykpLic8L3RkPic7CgoJCQkJJG91dHB1dCAuPSAnICAgICA8dGQ+PGJ1dHRvbiB0eXBlPSJidXR0b24iIG5hbWU9ImRvd25sb2FkXycubWQ1KCRmaWxlKS4nIiBpZD0i'));
	@fwrite($fp, base64_decode('ZG93bmxvYWRfJy5tZDUoJGZpbGUpLiciIGNsYXNzPSJidG4gYnRuLXN1Y2Nlc3MgYnRuLXhzIGRvd25sb2FkIiBvbmNsaWNrPSJPSURwbHVzUGFnZVB1YmxpY0F0dGFjaG1lbnRzLmRvd25sb2FkQXR0YWNobWVudCgnLmpzX2VzY2FwZShPSURwbHVzOjp3ZWJwYXRo'));
	@fwrite($fp, base64_decode('KF9fRElSX18sT0lEcGx1czo6UEFUSF9SRUxBVElWRSkpLicsIGN1cnJlbnRfbm9kZSwnLmpzX2VzY2FwZShiYXNlbmFtZSgkZmlsZSkpLicpIj4nLl9MKCdEb3dubG9hZCcpLic8L2J1dHRvbj48L3RkPic7CgkJCQlpZiAoJGNhbl9kZWxldGUpIHsKCQkJCQkkb3V0'));
	@fwrite($fp, base64_decode('cHV0IC49ICcgICAgIDx0ZD48YnV0dG9uIHR5cGU9ImJ1dHRvbiIgbmFtZT0iZGVsZXRlXycubWQ1KCRmaWxlKS4nIiBpZD0iZGVsZXRlXycubWQ1KCRmaWxlKS4nIiBjbGFzcz0iYnRuIGJ0bi1kYW5nZXIgYnRuLXhzIGRlbGV0ZSIgb25jbGljaz0iT0lEcGx1c1Bh'));
	@fwrite($fp, base64_decode('Z2VQdWJsaWNBdHRhY2htZW50cy5kZWxldGVBdHRhY2htZW50KGN1cnJlbnRfbm9kZSwnLmpzX2VzY2FwZShiYXNlbmFtZSgkZmlsZSkpLicpIj4nLl9MKCdEZWxldGUnKS4nPC9idXR0b24+PC90ZD4nOwoJCQkJfQoKCQkJCSRvdXRwdXQgLj0gJzwvdHI+JzsKCQkJ'));
	@fwrite($fp, base64_decode('CSRkb3Nob3cgPSB0cnVlOwoJCQkJJGZvdW5kX2ZpbGVzID0gdHJ1ZTsKCQkJfQoJCQkkb3V0cHV0IC49ICc8L3Rib2R5Pic7CgoJCQlpZiAoISRmb3VuZF9maWxlcykgewoJCQkJJG91dHB1dCAuPSAnPHRmb29yPic7CgkJCQkkb3V0cHV0IC49ICc8dHI+PHRkIGNv'));
	@fwrite($fp, base64_decode('bHNwYW49IicgLiAoJGNhbl9kZWxldGUgPyA1IDogNCkgLiAnIj48aT4nIC4gX0woJ05vIGF0dGFjaG1lbnRzJykgLiAnPC9pPjwvdGQ+PC90cj4nOwoJCQkJJG91dHB1dCAuPSAnPC90Zm9vdD4nOwoJCQl9CgoJCQkkb3V0cHV0IC49ICc8L3RhYmxlPjwvZGl2Pic7'));
	@fwrite($fp, base64_decode('CgoJCQlpZiAoJGNhbl91cGxvYWQpIHsKCQkJCSRvdXRwdXQgLj0gJzxmb3JtIGFjdGlvbj0iamF2YXNjcmlwdDp2b2lkKDApOyIgb25zdWJtaXQ9InJldHVybiBPSURwbHVzUGFnZVB1YmxpY0F0dGFjaG1lbnRzLnVwbG9hZEF0dGFjaG1lbnRPblN1Ym1pdCh0aGlz'));
	@fwrite($fp, base64_decode('KTsiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiIGlkPSJ1cGxvYWRBdHRhY2htZW50Rm9ybSI+JzsKCQkJCSRvdXRwdXQgLj0gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImlkIiB2YWx1ZT0iJy5odG1sZW50aXRpZXMoJGlkKS4nIj4nOwoJCQkJJG91'));
	@fwrite($fp, base64_decode('dHB1dCAuPSAnPGRpdj4nLl9MKCdBZGQgYSBmaWxlIGF0dGFjaG1lbnQnKS4nOjxpbnB1dCB0eXBlPSJmaWxlIiBuYW1lPSJ1c2VyZmlsZSIgdmFsdWU9IiIgaWQ9ImZpbGVBdHRhY2htZW50Ij4nOwoJCQkJJG91dHB1dCAuPSAnPGJyPjxpbnB1dCB0eXBlPSJzdWJt'));
	@fwrite($fp, base64_decode('aXQiIHZhbHVlPSInLl9MKCdVcGxvYWQnKS4nIj48L2Rpdj4nOwoJCQkJJG91dHB1dCAuPSAnPC9mb3JtPic7CgkJCQkkZG9zaG93ID0gdHJ1ZTsKCQkJfQoJCX0gY2F0Y2ggKFxFeGNlcHRpb24gJGUpIHsKCQkJJGRvc2hvdyA9IHRydWU7CgkJCSRodG1sbXNnID0g'));
	@fwrite($fp, base64_decode('JGUgaW5zdGFuY2VvZiBPSURwbHVzRXhjZXB0aW9uID8gJGUtPmdldEh0bWxNZXNzYWdlKCkgOiBodG1sZW50aXRpZXMoJGUtPmdldE1lc3NhZ2UoKSk7CgkJCWlmIChzdHJ0b2xvd2VyKHN1YnN0cigkaHRtbG1zZywgMCwgMykpID09PSAnPHAgJykgewoJCQkJJG91'));
	@fwrite($fp, base64_decode('dHB1dCA9ICRodG1sbXNnOwoJCQl9IGVsc2UgewoJCQkJJG91dHB1dCA9ICc8cD4nLiRodG1sbXNnLic8L3A+JzsKCQkJfQoJCX0KCgkJJG91dHB1dCA9ICc8aDI+Jy5fTCgnRmlsZSBhdHRhY2htZW50cycpLic8L2gyPicgLgoJCSAgICAgICAgICAnPGRpdiBjbGFz'));
	@fwrite($fp, base64_decode('cz0iY29udGFpbmVyIGJveCI+JyAuCgkJICAgICAgICAgICRvdXRwdXQgLgoJCSAgICAgICAgICAnPC9kaXY+JzsKCQlpZiAoJGRvc2hvdykgJHRleHQgLj0gJG91dHB1dDsKCX0KCgkvKioKCSAqIEltcGxlbWVudHMgaW50ZXJmYWNlIElOVEZfT0lEXzFfM182XzFf'));
	@fwrite($fp, base64_decode('NF8xXzM3NDc2XzJfNV8yXzNfMwoJICogQHBhcmFtIHN0cmluZyAkaWQKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gYmVmb3JlT2JqZWN0RGVsZXRlKHN0cmluZyAkaWQpIHt9CgoJLyoqCgkgKiBJbXBsZW1lbnRzIGludGVyZmFjZSBJTlRG'));
	@fwrite($fp, base64_decode('X09JRF8xXzNfNl8xXzRfMV8zNzQ3Nl8yXzVfMl8zXzMKCSAqIEBwYXJhbSBzdHJpbmcgJGlkCgkgKiBAcmV0dXJuIHZvaWQKCSAqIEB0aHJvd3MgT0lEcGx1c0V4Y2VwdGlvbgoJICovCglwdWJsaWMgZnVuY3Rpb24gYWZ0ZXJPYmplY3REZWxldGUoc3RyaW5nICRp'));
	@fwrite($fp, base64_decode('ZCkgewoJCS8vIERlbGV0ZSB0aGUgYXR0YWNobWVudCBmb2xkZXIgaW5jbHVkaW5nIGFsbCBmaWxlcyBpbiBpdCAobm90ZTogU3ViZm9sZGVycyBhcmUgbm90IHBvc3NpYmxlKQoJCSR1cGxvYWRkaXIgPSBzZWxmOjpnZXRVcGxvYWREaXIoJGlkKTsKCQlpZiAoJHVw'));
	@fwrite($fp, base64_decode('bG9hZGRpciAhPSAnJykgewoJCQkkYXJ5ID0gQGdsb2IoJHVwbG9hZGRpciAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAnKicpOwoJCQlpZiAoJGFyeSkgZm9yZWFjaCAoJGFyeSBhcyAkYSkgQHVubGluaygkYSk7CgkJCUBybWRpcigkdXBsb2FkZGlyKTsKCQkJaWYg'));
	@fwrite($fp, base64_decode('KGlzX2RpcigkdXBsb2FkZGlyKSkgewoJCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiW1dBUk5dT0lEKCUxKStbV0FSTl1BISIsICJBdHRhY2htZW50IGRpcmVjdG9yeSAnJTInIGNvdWxkIG5vdCBiZSBkZWxldGVkIGR1cmluZyB0aGUgZGVsZXRpb24gb2YgdGhl'));
	@fwrite($fp, base64_decode('IE9JRCIsICRpZCwgJHVwbG9hZGRpcik7CgkJCX0KCQl9Cgl9CgoJLyoqCgkgKiBJbXBsZW1lbnRzIGludGVyZmFjZSBJTlRGX09JRF8xXzNfNl8xXzRfMV8zNzQ3Nl8yXzVfMl8zXzMKCSAqIEBwYXJhbSBzdHJpbmcgJGlkCgkgKiBAcGFyYW0gYXJyYXkgJHBhcmFt'));
	@fwrite($fp, base64_decode('cwoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1YmxpYyBmdW5jdGlvbiBiZWZvcmVPYmplY3RVcGRhdGVTdXBlcmlvcihzdHJpbmcgJGlkLCBhcnJheSAmJHBhcmFtcykge30KCgkvKioKCSAqIEltcGxlbWVudHMgaW50ZXJmYWNlIElOVEZfT0lEXzFfM182XzFfNF8x'));
	@fwrite($fp, base64_decode('XzM3NDc2XzJfNV8yXzNfMwoJICogQHBhcmFtIHN0cmluZyAkaWQKCSAqIEBwYXJhbSBhcnJheSAkcGFyYW1zCgkgKiBAcmV0dXJuIHZvaWQKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGFmdGVyT2JqZWN0VXBkYXRlU3VwZXJpb3Ioc3RyaW5nICRpZCwgYXJyYXkgJiRw'));
	@fwrite($fp, base64_decode('YXJhbXMpIHt9CgoJLyoqCgkgKiBJbXBsZW1lbnRzIGludGVyZmFjZSBJTlRGX09JRF8xXzNfNl8xXzRfMV8zNzQ3Nl8yXzVfMl8zXzMKCSAqIEBwYXJhbSBzdHJpbmcgJGlkCgkgKiBAcGFyYW0gYXJyYXkgJHBhcmFtcwoJICogQHJldHVybiB2b2lkCgkgKi8KCXB1'));
	@fwrite($fp, base64_decode('YmxpYyBmdW5jdGlvbiBiZWZvcmVPYmplY3RVcGRhdGVTZWxmKHN0cmluZyAkaWQsIGFycmF5ICYkcGFyYW1zKSB7fQoKCS8qKgoJICogSW1wbGVtZW50cyBpbnRlcmZhY2UgSU5URl9PSURfMV8zXzZfMV80XzFfMzc0NzZfMl81XzJfM18zCgkgKiBAcGFyYW0gc3Ry'));
	@fwrite($fp, base64_decode('aW5nICRpZAoJICogQHBhcmFtIGFycmF5ICRwYXJhbXMKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gYWZ0ZXJPYmplY3RVcGRhdGVTZWxmKHN0cmluZyAkaWQsIGFycmF5ICYkcGFyYW1zKSB7fQoKCS8qKgoJICogSW1wbGVtZW50cyBpbnRl'));
	@fwrite($fp, base64_decode('cmZhY2UgSU5URl9PSURfMV8zXzZfMV80XzFfMzc0NzZfMl81XzJfM18zCgkgKiBAcGFyYW0gc3RyaW5nICRpZAoJICogQHBhcmFtIGFycmF5ICRwYXJhbXMKCSAqIEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gYmVmb3JlT2JqZWN0SW5zZXJ0KHN0'));
	@fwrite($fp, base64_decode('cmluZyAkaWQsIGFycmF5ICYkcGFyYW1zKSB7fQoKCS8qKgoJICogSW1wbGVtZW50cyBpbnRlcmZhY2UgSU5URl9PSURfMV8zXzZfMV80XzFfMzc0NzZfMl81XzJfM18zCgkgKiBAcGFyYW0gc3RyaW5nICRpZAoJICogQHBhcmFtIGFycmF5ICRwYXJhbXMKCSAqIEBy'));
	@fwrite($fp, base64_decode('ZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gYWZ0ZXJPYmplY3RJbnNlcnQoc3RyaW5nICRpZCwgYXJyYXkgJiRwYXJhbXMpIHt9CgoJLyoqCgkgKiBAcGFyYW0gc3RyaW5nICRyZXF1ZXN0CgkgKiBAcmV0dXJuIGFycmF5fGZhbHNlCgkgKi8KCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBmdW5jdGlvbiB0cmVlX3NlYXJjaChzdHJpbmcgJHJlcXVlc3QpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJLyoqCgkgKiBJbXBsZW1lbnRzIGludGVyZmFjZSBJTlRGX09JRF8xXzNfNl8xXzRfMV8zNzQ3Nl8yXzVfMl8zXzQKCSAqIEBwYXJhbSBzdHJpbmcgJGlk'));
	@fwrite($fp, base64_decode('CgkgKiBAcGFyYW0gYXJyYXkgJG91dAoJICogQHJldHVybiB2b2lkCgkgKiBAdGhyb3dzIE9JRHBsdXNFeGNlcHRpb24KCSAqLwoJcHVibGljIGZ1bmN0aW9uIHdob2lzT2JqZWN0QXR0cmlidXRlcyhzdHJpbmcgJGlkLCBhcnJheSAmJG91dCkgewoJCSR4bWxucyA9'));
	@fwrite($fp, base64_decode('ICdvaWRwbHVzLWF0dGFjaG1lbnQtcGx1Z2luJzsKCQkkeG1sc2NoZW1hID0gJ3VybjpvaWQ6MS4zLjYuMS40LjEuMzc0NzYuMi41LjIuNC4xLjk1LjEnOwoJCSR4bWxzY2hlbWF1cmkgPSBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18uJy9hdHRhY2htZW50cy54c2Qn'));
	@fwrite($fp, base64_decode('LE9JRHBsdXM6OlBBVEhfQUJTT0xVVEUpOwoKCQkkZmlsZXMgPSBAZ2xvYihzZWxmOjpnZXRVcGxvYWREaXIoJGlkKSAuIERJUkVDVE9SWV9TRVBBUkFUT1IgLiAnKicpOwoJCWlmICgkZmlsZXMpIGZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgewoJCQkkdXJsID0g'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6d2VicGF0aChfX0RJUl9fLE9JRHBsdXM6OlBBVEhfQUJTT0xVVEUpLidkb3dubG9hZC5waHA/aWQ9Jy51cmxlbmNvZGUoJGlkKS4nJmZpbGVuYW1lPScudXJsZW5jb2RlKGJhc2VuYW1lKCRmaWxlKSk7CgoJCQkkb3V0W10gPSBhcnJheSgKCQkJCSd4'));
	@fwrite($fp, base64_decode('bWxucycgPT4gJHhtbG5zLAoJCQkJJ3htbHNjaGVtYScgPT4gJHhtbHNjaGVtYSwKCQkJCSd4bWxzY2hlbWF1cmknID0+ICR4bWxzY2hlbWF1cmksCgkJCQknbmFtZScgPT4gJ2F0dGFjaG1lbnQtbmFtZScsCgkJCQkndmFsdWUnID0+IGJhc2VuYW1lKCRmaWxlKQoJ'));
	@fwrite($fp, base64_decode('CQkpOwoKCQkJJG91dFtdID0gYXJyYXkoCgkJCQkneG1sbnMnID0+ICR4bWxucywKCQkJCSd4bWxzY2hlbWEnID0+ICR4bWxzY2hlbWEsCgkJCQkneG1sc2NoZW1hdXJpJyA9PiAkeG1sc2NoZW1hdXJpLAoJCQkJJ25hbWUnID0+ICdhdHRhY2htZW50LXVybCcsCgkJ'));
	@fwrite($fp, base64_decode('CQkndmFsdWUnID0+ICR1cmwKCQkJKTsKCQl9CgoJfQoKCS8qKgoJICogSW1wbGVtZW50cyBpbnRlcmZhY2UgSU5URl9PSURfMV8zXzZfMV80XzFfMzc0NzZfMl81XzJfM180CgkgKiBAcGFyYW0gc3RyaW5nICRlbWFpbAoJICogQHBhcmFtIGFycmF5ICRvdXQKCSAq'));
	@fwrite($fp, base64_decode('IEByZXR1cm4gdm9pZAoJICovCglwdWJsaWMgZnVuY3Rpb24gd2hvaXNSYUF0dHJpYnV0ZXMoc3RyaW5nICRlbWFpbCwgYXJyYXkgJiRvdXQpIHt9CgoJLyoqCgkgKiBJbXBsZW1lbnRzIGludGVyZmFjZSBJTlRGX09JRF8xXzNfNl8xXzRfMV8zNzQ3Nl8yXzVfMl8z'));
	@fwrite($fp, base64_decode('XzgKCSAqIEBwYXJhbSBzdHJpbmd8bnVsbCAkdXNlcgoJICogQHJldHVybiBhcnJheSAgcmV0dXJucyBhcnJheSBvZiBhcnJheSgkc2V2ZXJpdHksICRodG1sTWVzc2FnZSkKCSAqLwoJcHVibGljIGZ1bmN0aW9uIGdldE5vdGlmaWNhdGlvbnMoc3RyaW5nICR1c2Vy'));
	@fwrite($fp, base64_decode('PW51bGwpOiBhcnJheSB7CgkJJG5vdGlmaWNhdGlvbnMgPSBhcnJheSgpOwoJCWlmICgoISR1c2VyIHx8ICgkdXNlciA9PSAnYWRtaW4nKSkgJiYgT0lEcGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCSRlcnJvciA9ICcnOwoJCQl0cnkg'));
	@fwrite($fp, base64_decode('ewoJCQkJJGJhc2VwYXRoID0gc2VsZjo6Z2V0VXBsb2FkQmFzZURpcigpOwoJCQkJaWYgKCFpc19kaXIoJGJhc2VwYXRoKSkgewoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdEaXJlY3RvcnkgJTEgZG9lcyBub3QgZXhpc3QnLCAkYmFzZXBhdGgp'));
	@fwrite($fp, base64_decode('KTsKCQkJCX0gZWxzZSB7CgkJCQkJc2VsZjo6Y2hlY2tVcGxvYWREaXIoJGJhc2VwYXRoKTsKCQkJCQlpZiAoIWlzRmlsZU9yUGF0aFdyaXRhYmxlKCRiYXNlcGF0aCkpIHsKCQkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0RpcmVjdG9yeSAlMSBp'));
	@fwrite($fp, base64_decode('cyBub3Qgd3JpdGVhYmxlLiBQbGVhc2UgY2hlY2sgdGhlIHBlcm1pc3Npb25zIScsICRiYXNlcGF0aCkpOwoJCQkJCX0KCQkJCX0KCQkJfSBjYXRjaCAoXEV4Y2VwdGlvbiAkZSkgewoJCQkJJGVycm9yID0gX0woJ1RoZSBmaWxlIGF0dGFjaG1lbnRzIGZlYXR1cmUg'));
	@fwrite($fp, base64_decode('aXMgbm90IGF2YWlsYWJsZSBkdWUgdG8gYSBtaXNjb25maWd1cmF0aW9uJyk7CgkJCQkkaHRtbG1zZyA9ICRlIGluc3RhbmNlb2YgT0lEcGx1c0V4Y2VwdGlvbiA/ICRlLT5nZXRIdG1sTWVzc2FnZSgpIDogaHRtbGVudGl0aWVzKCRlLT5nZXRNZXNzYWdlKCkpOwoJ'));
	@fwrite($fp, base64_decode('CQkJJGVycm9yIC49ICc6ICcgLiAkaHRtbG1zZzsKCQkJfQoJCQlpZiAoJGVycm9yKSB7CgkJCQkkbm90aWZpY2F0aW9uc1tdID0gbmV3IE9JRHBsdXNOb3RpZmljYXRpb24oJ1dBUk4nLCAkZXJyb3IpOwoJCQl9CgkJfQoJCXJldHVybiAkbm90aWZpY2F0aW9uczsK'));
	@fwrite($fp, base64_decode('CX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php');
	writefile_3();
	if (!is_file('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php');
	} else if (sha1_file('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php') != 'b3c8f3181949a12ca34e82f9e4dbed2dfe13a01e') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php') !== 'b3c8f3181949a12ca34e82f9e4dbed2dfe13a01e') {
		if (@sha1_file('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php') !== 'dc0d23aa95eb325ce2a1fed3b7a239f146106eca') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php');
			$tmp = pathinfo('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php') !== 'b3c8f3181949a12ca34e82f9e4dbed2dfe13a01e') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/publicPages/095_attachments/OIDplusPagePublicAttachments.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 1205\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 1205') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

