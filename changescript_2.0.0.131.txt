<?php /* <ViaThinkSoftSignature>
Ln+dsdMMBvMTxUHb9cQnjHE4QDuaJYtMy4R1pB3tKsSej8UuXyKV7qnrxW8P05rvM
pV1zRxrRih08GoIli5l2SU+X+Cxr9C64S457KMEljpTYGlp1zNKziMvMs8AZP1Q2c
MY3Wt3ErtctkJc5wgySPAxas+pt2fTU6bLZlChhx7Fsu93m7ORAg/W4cum1IKg9Lm
Ci03b02rJy9SLpcIQOZ9UhhJxywNNf9ESTt8uE8M41KHFNPnS0R7scL7ZyGZIDt0m
RDIo7L7m6OYev46MsgNORunjrlS6JvmpEfW/C51VkceXt8gQ0XkngNGelLWYq4kl7
oEMJCTOrZMm3KF8yNvzpZ3tRCHOQ0MBKyr1z75REW2+Og9RXngROz1Q8hvlZ2VCa6
HuZv1Hr0hEIycL2BOan6iFKmMQZGtMZYgzGe9eW7WJCde+8/J/FbrdJM4C4+0eHEt
HVeWCzC6HT10+eQDOZuuJJOXlRrU0x7LJAeiLDAB1NXF7XlhfcutbpDE98ckAJlXU
mVr84paNm3Tm0pxFx2BhXpji2UkyOCebX8mZob8Jfc9t/tGX26sVLem408RS4ySlb
+pwlcdbNlNxuUrOjzL0yF3Eih1N+q8MeIL4Wqt17SaAtNatz47wmJtGEnlYGx54ML
j74dFDEKlFhRVkW9BkZIZ/JOasjE6ud/52hVJ3kg3vkxPHO06oMfLM7IfTnRDRnMs
qyKBx2F1XE2SmN/rd4M5EZEN9ju3k5lvZq5alBAyNPWLmh10h6VNjF0leSw/4bbLV
rthYNK80q//sZxVhYoxUn2cJ7M+Y+plTnRoROlpiDXRUdjq84AP1iwgidDs4YaHJV
tE34mz7wXGSzB7LOCaRVv/uh5I8D7svYYCg4q0dESc1Q71nT9zOA+xpb1xxwzcLjt
WdNDPdJA+CWK14KXs/gsa3xjLDtm6/Y3/rUmyTWZ+HJ4tWtIYYVOGWZ9JNhJgcyVQ
ETvtGWxqWk3X9r2+ln4EihfIACsvtpGDEvUuPdu+CpxlecDIsMh5LaLnjFRLISdcN
xmBX2lKfF4UNfDYgZfYyXHEhknPVXiD2v0OKrawyAInXj26bG0cNYvq1GsQgXZ9Sa
Fn94aVCV5c40AlR3z6wLqnweY4BkY0uoz4NL8HAHyf4qhd7fg011BAFB2jThOroS2
XNr03NdW78p7Q4miC/nbNLwZRWGUnqkl0DYsWpbSk5vsN6TDdl/x64pynR2KLXrFp
h30+Zae1MkVISxjL/VLgW1CybZbZgWKVTYYXQOcslhLa9iVTV3/72HmADeXAWQCWn
piR5KojiMH2paZ/miomzIHAvIgcsAFB+QbyIVAM6NX2xUWDyhlVsQX/dWxwQBkOn2
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 130') {
	err('This update can only be applied to OIDplus version 2.0.0.130!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: TODO
function writefile_1() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('CklNUE9SVEFOVAotIFZlcmlmeTogZXNjYXBlIGV2ZXJ5dGhpbmcKLSBDb29raWUgbGF3OgoJRG93bmxvYWQgQ29va2llQ29uc2VudCBjb2RlIGludG8gXzNwIGZvbGRlciwgZG8gbm90IGhvdGxpbmsgaXQKCXdlIG5lZWQgdG8gbG9nIGFsbCBjb25zZW50cwoJZG8g'));
	@fwrite($fp, base64_decode('d2UgbmVlZCBhbiBleHBsaWNpdCBjb25zZW50IGF0IHRoZSBsb2dpbiBmb3JtPwoJZG8gd2UgbmVlZCBhIGNvbnNlbnQgZm9yIHRoZSBjb29raWUgU1NMX0NIRUNLPwotIGRzZ3ZvIGRhdGVuc2NodXR6ZXJrbORydW5nLCBhZ2JzIGV0Yy4KLSBWZXJpZnkgdGhhdCBs'));
	@fwrite($fp, base64_decode('b2dnZXIgd29ya3MgY29ycmVjdGx5LCBjaGVjayBpZiBhbGwgbG9nbWFza3MgYXJlIGNvcnJlY3QKCkFETUlOIEFSRUEKLSBBbGxvdyB0aGF0IHRoZSBhZG1pbiBjYW4gY2hhbmdlIHVzZXIncyBwYXNzd29ydC9jb250YWN0IGRhdGEKLSBBZG1pbiBzaG91bGQgc2Vl'));
	@fwrite($fp, base64_decode('IGxvZyBldmVudHMgZm9yIGVhY2ggUkEgYW5kIE9JRAoKU0VUVVAKLSBBZGQgd2FybmluZyB0aGF0IHdpdGggdGhlIGluc2VydGlvbiBvZiB0aGUgZGF0YWJhc2UsIGFsbCB0YWJsZXMgd2lsbCBiZSBkcm9wcHBlZAoKUkZDCi0gcHJvb2YgcmVhZAotIHNob3VsZCB0'));
	@fwrite($fp, base64_decode('aGUgd2hvbGUgV0hPSVMgb3V0cHV0IGJlIGNhc2UgaW5zZW5zaXRpdmU/Ci0gc2hvdWxkICJkaXN0YW5jZSIgYmUgbWFuZGF0b3J5PwotIHRyeSB0byB1c2UgTVVTVCwgTVVTVCBOT1QsIFNIQUxMIGV0Yy4gYWNjb3JkaW5nIHRvIFJGQyAyMTE5Ci0gZmVsZGVyIGRp'));
	@fwrite($fp, base64_decode('ZSBuaWNodCBvcHRpb25hbCBzaW5kID0+IG1hbmRhdG9yeSBrZW5uemVpY2huZW4KClNNQUxMIFRISU5HUwotIGZyZWVvaWQ6IGdtYWlsIGFwcCBkb2VzIG5vdCBoeXBlcmxpbmsgdGhlIGFjdGl2YXRpb24gVVJMLiB3aHk/Ci0gaG93IHRvIGF2b2lkIGludml0ZSBz'));
	@fwrite($fp, base64_decode('cGFtbWluZz8KLSB3aGVuIGEgUEhQIGVycm9yIGhhcHBlbnMsIHRoZSBBSkFYIHNjcmlwdCBvdXRwdXRzICJFcnJvcjogU3ludGF4RXJyb3I6IFVuZXhwZWN0ZWQgdG9rZW4gPCBpbiBKU09OIGF0IHBvc2l0aW9uIDAiIC4uLiBiZXR0ZXIgc2hvdyB0aGUgdXNlciB0'));
	@fwrite($fp, base64_decode('aGUgYWN0dWFsIG1lc3NhZ2UKLSAicGx1Z2luLmluYy5waHAiID0+IHJlbmFtZSB0byAqLmNsYXNzLnBocCA/IE9yIHZpY2UgdmVyc2EgZm9yIG9iamVjdCB0eXBlcz8KLSB3aGVuIGxvZ2luIGV4cGlyZWQsIHJlbW92ZSBlbnRyaWVzIGluIHRoZSB0cmVldmlldwot'));
	@fwrite($fp, base64_decode('IGNhbiB3ZSBwdXQgZXZlbiBtb3JlIGNvZGUgKGUuZy4gb2JqZWN0IENSVUQpIGludG8gdGhlIHBsdWdpbiBkaXJlY3Rvcnk/Ci0gZGlzYWJsZSBzcGVjaWZpYyBmdW5jdGlvbnMgKGUuZy4gaW52aXRlLCBsb2dpbiwgcmFpbmZvLCBmb3Jnb3QgcGFzc3dvcmQpIGlm'));
	@fwrite($fp, base64_decode('IHRoZSBwbHVnaW5zIGFyZSBub3QgaW5zdGFsbGVkIChjaGVjayBpZiBjbGFzcyB0eXBlIGlzIHJlZ2lzdGVyZWQpCi0gbW9iaWxlIGRlc2lnbjogaWYgdGl0bGUgaXMgdG9vIGxvbmcgPT4gbWFrZSBzeXN0ZW0gdGl0bGUgYmFyIG11bHRpIGxpbmU/Ci0gbWFrZSB1'));
	@fwrite($fp, base64_decode('c2FnZSBvZiBGb3JlaWduIEtleXMKLSA8YWJicj4gaW4gPGNvZGU+IHdpcmQgZG9wcGVsdCB1bnRlcnN0cmljaGVuCi0gd2VubiBtYW4gZWluZSB3ZWxsLWtub3duIE9JRCBhbmxlZ2VuIG32Y2h0ZSwgZGFubiBrb21tdCBmZWhsZXIgd2VnZW4gcmVwbGFjZUFzbjEv'));
	@fwrite($fp, base64_decode('cmVwbGFjZUlyaSwgYWJlciBkaWUgT0lEIGlzdCBlcnN0ZWxsdC4gRGllIEFQSSBpc3QgYWJlciBuaWNodCByZWxvYWRlZC4gTWFuIHNpZWh0IGFsc28gbmljaHQsIGRhc3MgZGllIE9JRCBlcnN0ZWxsdCB3dXJkZSwgdW5kIGVpbiBlcm5ldXRlciBrbGljayBhdWYg'));
	@fwrite($fp, base64_decode('SW5zZXJ0IGb8aHJ0IHp1bSBQcmltYXJ5LUtleSBmZWhsZXIKLSBwcm9ibGVtOiB3ZW5uIGVpbmUgUkEgZWluZ2VsYWRlbiB3ZXJkZW4gbfZjaHRlLCBtdXNzIG1hbiAidXBkYXRlIiBkcvxja2VuIHVuZCBkaWUgT0lEIHdpcmQgYWxzIHVwZGF0ZWQgbWFya2llcnQK'));
	@fwrite($fp, base64_decode('LSBiZWkgbWVocmVyZW4gaWRlbnRpZmllcm4ga2FubiBtYW4gbmljaHQgYmVzdGltbWVuLCB3ZWxjaGVyIGlkZW50aWZpZXIgZGVyIGJldm9yenVndGUgc2VpbiBzb2xsISEKLSBzaG93IHdob2lzIGxpbmtzIG9ubHkgaWYgZm9sZGVyICJ3aG9pcy8iIGV4aXN0cwot'));
	@fwrite($fp, base64_decode('IGRpc2FibGUgYXV0b2NvbXBsZXRlIG9uIHNvbWUgZm9ybXMKLSBncmFwaGljYWwgaW1wb3J2ZW1lbnRzIG9mIGZvcm1zIChpbnB1dCBlZGl0cyBhbGlnbmVkKQotICJEb2N1bWVudHMiIHNlY3Rpb246IE1ha2UgZG9jdW1lbnRhdGlvbiBmb3IgdXNhZ2Ugb2YgT0lE'));
	@fwrite($fp, base64_decode('cGx1cyAoZm9yIG1lbWJlcnMgb25seSkKLSBhZG1pbiBjb25maWcgbWVociB1c2VyIGZyaWVuZGx5LCBlLmcuIGhhdmluZyB0aGUgZW5hYmxlL2Rpc2FibGUgb2JqZWN0IHR5cGUgc3R1ZmYgKGxpa2UgaW4gcmVnaXN0cmF0aW9uIHdpemFyZCkgYWxzbyBpbiB0aGUg'));
	@fwrite($fp, base64_decode('YWRtaW4gY29udHJvbCBwYW5lbAotIGl0IHdvdWxkIGJlIGNvb2wgaWYgYWZ0ZXIgdGhlIGxvZ2luLCB0aGUgb3BlbmVkIG5vZGVzIGluIHRoZSB0cmVlIHdvdWxkIHN0YXkgb3BlbgotIHNob3VsZCB3ZSBsb2cgc29tZXdoZXJlLCB3aGVuIHRoZSBhZG1pbiBhY2Nv'));
	@fwrite($fp, base64_decode('dW50IHdhcyBsb2dnZWQgaW4/Ci0gbXVsdGlsYW5nCi0gaHRtbCBjaGVja2JveDogImxhYmVsIGZvciIgdmVyd2VuZGVuCi0gd2hlbiBqYXZhc2NyaXB0IGZhaWxzLCB0aGUgZm9ybSB3aWxsIGJlIHN1Ym1pdHRlZCB0byAnLi8nICwgdGhhdCBpcyBub3QgZ29vZCEg'));
	@fwrite($fp, base64_decode('ZmFpbGVkIGphdmFzY3JpcHQgbXVzdCByZXR1cm4gZmFsc2UsIHNvIHRoYXQgdGhlIGZvcm0gZG9lcyBub3QgZ2V0IHN1Ym1pdHRlZAotIGFkbWluOiBzaG93IHByaXZhY3kgZW50cmllcyBmcm9tIFJBcyAoYnV0IGdyZXksIHNvIHlvdSBrbm93IHRoYXQgaXQgaXMg'));
	@fwrite($fp, base64_decode('cHJpdmF0ZSkKLSBhZG1pbiBzb2xsIGNvbnRhY3QgZGF0YSBlaW5lciBmcmVtZGVuIFJBIORuZGVybiBk/HJmZW4KLSBmcmVlb2lkOiBhc24uMSB1bmQgaXJpIHNwYWx0ZW4gYXVzYmxlbmRlbiwgZGEgZGllc2VyIGFyYyBrZWluZSBJRHMgdmVyZ2lidD8KLSBQcml2'));
	@fwrite($fp, base64_decode('YWN5OiBNZWhyIHN0dWZlbiwgei5iLiBkYXNzIG1hbiBkZW4gcGVyc29uYWwgbmFtZSBldnRsIGdhciBuaWNodCB6ZWlnZW4gbfZjaHRlCi0gTWFuIHNvbGx0ZSAiY3JlYXRlZCIgYWLkbmRlcm4gZPxyZmVuISBvZGVyIGV2dGwgZ2FueiB2ZXJzdGVja2VuLCB3ZW5u'));
	@fwrite($fp, base64_decode('IG1hbiBlcyBuaWNodCB3ZWnfCi0gaW4gZGVyIGNydWQgbGlzdGUgZGVuIHRpdGVsIGRlcyBvYmpla3RzIHplaWdlbgotIG5hdE9yZGVyKCkgaXN0IG51ciBm/HIgT0lEIGf8bHRpZyEhISBhbmRlcmUgc29ydC1tZWNoYW5pc21lbiBm/HIgYW5kZXJlIG9iamVrdHR5'));
	@fwrite($fp, base64_decode('cGVuIGVyZm9yZGVybGljaAotIHRpbnltY2UKCW1jZSBkaXJ0eSBmbGFnOgoJCS0gd2VubiBtYW4gd2VjaHNlbCAoanMgdHJlZSBzZWxlY3QpLCBkYW5uIHNvbGwgYWJnZWZyYWd0IHdlcmRlbiwgb2IgdGlueW1jZSBkaXJ0eSBpc3QsIHVuZCBlaW5lIHdhcm51bmcg'));
	@fwrite($fp, base64_decode('YnJpbmdlbiwgYWxzbyBzbywgd2llIHdlbm4gbWFuIGRpZSBzZWl0ZSBuZXUgbGFkZW4gd/xyZGUKCQktIGtyaXRpc2NoZXIgYnVnOiBzZWl0ZSD2ZmZuZW4sIHRpbnkgbWNlIGVkaXRpZXJlbiwgc3BlaWNoZXJuIGtsaWNrZW4uIGRhbm4gZjUgbmV1IGxhZGVuIChu'));
	@fwrite($fp, base64_decode('aWNodCBzdHJnK2Y1KTogZGFubiBpc3QgZGVyIGFsdGUgY29udGVudCB3aWVkZXIgZGEuIGF132VyIG1hbiBkcvxja3Qgc3RyZytmNQoJYnVnOiBvdmVybGF5ICJiaWxkIiB1bmQgInRhYmVsbGUiIGJsZWlidCBhdWYgZGVtIGJpbGRzY2hpcm0sIHNlbGJzdCB3ZW5u'));
	@fwrite($fp, base64_decode('IG1hbiBkaWUgc2VpdGUgd2VjaHNlbHQg/GJlciBkYXMgbWVu/AotIGpzdHJlZSBzZWxlY3Q6IGF1dG9tYXRpY2FsbHkgc2Nyb2xsIGRvd24KLSBvcHRpc2NoIGF1Zmj8YnNjaGVuLiBkaW5nZSB3aWUgUkE6IG1laHIgZGluZ2UgemVpZ2VuLCBhZHJlc3NlLCBlbWFp'));
	@fwrite($fp, base64_decode('bCBldGMKCkZVVFVSRQotIG1ha2UgdXNlIG9mIENvbXBvc2VyLiBQcm9ibGVtczoKICAqIFdoYXQgaWYgY29tcG9zZXIgaW5zdGFsbHMgYSB2ZXJzaW9uIG9mIGEgY29tcG9uZW50LCB3aGljaCBpcyBpbmNvbXBhdGlibGU/CiAgKiBXZSBuZWVkIGEgbmV3IHB1Ymxp'));
	@fwrite($fp, base64_decode('c2hpbmcgc2NyaXB0LCBiZWNhdXNlIHNpbXBseSBjaGVja2luZyBvdXQgU1ZOIGlzIG5vdCBlbm91Z2ggYW55bW9yZS4gVGhlIHVzZXIgbmVlZHMgdG8gZXhlY3V0ZSBjb21wb3Nlci4gQnV0IHdoYXQgaXMgaWYgdGhlIHVzZXIgZG9uJ3QgaGF2ZSBjb21wb3NlciAo'));
	@fwrite($fp, base64_decode('b3IgZG9udCBoYXZlIHNoZWxsIGFjY2VzcyBhdCBhbGw/KQotIGltcGxlbWVudCBzaXRlbWFwcyB4bWwKLSByZWNvcmQgaGlzdG9yeSBvZiBhbiBPSUQ/Ci0gYWRtaW4gc2hvdWxkIGJlIGFibGUgdG8gY2hhbmdlIHdlbGxrbm93biBvaWRzPwotIG1vdmUgb2lkIHRv'));
	@fwrite($fp, base64_decode('IGRpZmZlcmVudCBhcmMKLSBiZWkgc2VociBncm/fZW4gYXJjcyAoei5CLiBQRU4pIHNvbGxlbiBuaWNodCBhbGxlIGFuZ2V6ZWlndCB3ZXJkZW4KLSB1bnRlcnN0/HR6dW5nIGb8ciBPUlM/Ci0gTWVociAiQ3V0dGluZyBFZGdlIFRlY2hub2xvZ2llIiBzb2xsIGlu'));
	@fwrite($fp, base64_decode('IGRpZXNlbSBQcm9qZWt0IHp1bSBUcmFnZW4ga29tbWVuOiBBSkFYLCBKU09OLCB2b2xsc3TkbmRpZyBVVEY4LCBDUlVEIGZyYW1ld29ya3MsIFBETywgSFRNTDUsIE1vYmlsZXMgRGVzaWduLCBQdXJlIENTUywgQXV0b2xvYWRpbmcsIE9iamVrdG9yaWVudGllcnVu'));
	@fwrite($fp, base64_decode('ZyAoYWJlciBuaWNodCB1bmJlZGluZ3QgTVZDKSwgLi4uPGJyPgotICJTZWFyY2giIHBsdWdpbjogRmVhdHVyZSB0byBzZWFyY2ggaW5zaWRlIGRvY3VtZW50YXRpb24gKGRvYy8gZGlyZWN0b3J5KQotICJTZWFyY2giIHBsdWdpbjogSSB3YW50IHRvIHNlYXJjaCBp'));
	@fwrite($fp, base64_decode('biBhbGwgb2JqZWN0IHR5cGVzIGFuZCBSQXMuIE5vdCBmaXJzdCBzZWxlY3QgdGhlIHR5cGUuCi0gSG93IGNhbiB3ZSBtYWtlIHN1cmUgdGhhdCBleGFtcGxlIG9iamVjdHMgYXJlIG5vdCBleHBvcnRlZCB1c2luZyBvaWQtaW5mby5jb20gZXhwb3J0PwotIEFkbWlu'));
	@fwrite($fp, base64_decode('aXN0cmF0b3ItSW50ZXJmYWNlOiBlbmFibGUgYW5kIGRpc2FibGUgb2JqZWN0IHR5cGVzCgpCVUdTPwotIEFKQVggcmVxdWVzdHMgd29uJ3QgY29udGFpbiBCQVNJQyBBVVRILCBhbHRob3VnaCB0aGUgcGFnZSBpdHNlbGYgaXMKICBsb2FkZWQgdmlhIEJBU0lDIEFV'));
	@fwrite($fp, base64_decode('VEguIEhhcHBlbnMgb25seSB3aGVuIHRoZSBxdWVyeSBjb21lcyBmcm9tIGxvY2FsLAogIGFjZXNzZWQgYnkgZG9tYWluIG5hbWU/CiAgKENocm9taXVtIDU2LjAuMjkyNC44NCBCdWlsdCBvbiBVYnVudHUgMTQuMDQsIHJ1bm5pbmcgb24gUmFzcGJpYW4gOS45KQoK'));
	@fwrite($fp, base64_decode('UkVKRUNURUQgSURFQVMKLSBzb2xsdGUgZXMgbWVoZXJlIGFkbWlucyBnZWJlbj8KLSBjaGFuZ2UgaGlzdG9yeSBvZiBlYWNoIG9pZAotIHJlY29yZCBmaXJzdCBSQSBhbmQgY3VycmVudCBSQSA9PiBYLjY2MCBkb2VzIG5vdCBoYXZlIHRoaXMgcmVxdWlyZW1lbnQK'));
	@fwrite($fp, base64_decode('LSBtYXJrZXJzIERSQUZULCBMRUFGIGFuZCBGUk9aRU4gZXRjLiA9PiB1c2UgIlByb3RlY3RlZCIgaWYgeW91IHdhbnQgdG8gbWFrZSBpdCBpbnZpc2libGUKCklERUFTCi0gdGhlcmUgc2hvdWxkIGJlIGEgZm9ybSB3aGVyZSBhbiBSQSBjYW4gcmVxdWVzdCBhbiBp'));
	@fwrite($fp, base64_decode('bnZpdGF0aW9uLCBldmVuIGlmIHRoZSBzdXBlcmlvciBSQSBkaWQgbm90IGludml0ZSB0aGVtLgogIHRoZSBmYWN0IHRoYXQgYSBSQSBleGlzdHMgaW4gdGhlIE9iamVjdCBUYWJsZSBzaG91bGQgcGVybWl0IHRoZSBSQSB0byBpbnZpdGUgdGhlaXJzZWxmLgotIGJl'));
	@fwrite($fp, base64_decode('aW0gdmVybGFzc2VuIGRlciBzZWl0ZSwgei5iLiB3ZW5uIG1hbiBsaW5rcyBhdWYgZWluZW4gbmV1ZW4gbWVu/HB1bmt0IGtsaWNrdCwgc29sbCBlaW5lIGFiZnJhZ2Uga29tbWVuLCBvYiBtYW4gc3BlaWNoZXJuIG32Y2h0ZQotIG1ha2UgYSBsaXN0IG9mIE9JRHMg'));
	@fwrite($fp, base64_decode('dGhhdCBkbyBub3QgYXNzaWduIEFTTjEvSVJJIGlkZW50aWZpZXJzIChlLmcuIElBTkEgUEVOIG9yIFZpYVRoaW5rU29mdCBGcmVlT0lEKSwgdGhlbiByZWplY3QgYW55IGlkZW50aWZpZXIgdGhlIHVzZXIgcHJvdmlkZXMKLSBzYW5pdGl6ZSBJUHY0LCBJUHY2LCBH'));
	@fwrite($fp, base64_decode('VUlEIGR1cmluZyBjcmVhdGlvbgoJYmVpIElQdjQgdW5kIElQdjY6IC0gaWYgaXQgaXMgYSBzaW5nbGUgaG9zdCBhZGRyZXNzLCBkb24ndCBwdXQgLzMyIG9yIC8xMjggc3VmZml4CgkgICAgICAgICAgICAgICAgICAgLSBzdHJpa2UgdW5uZWNlc3NhcnkgYml0cyB0'));
	@fwrite($fp, base64_decode('aGF0IGFyZSBub3QgZGVmaW5lZCBpbiB0aGUgbmV0bWFzayAoYWxzbyBhdCB0aGUgd2hvaXMgb3V0cHV0KQoKUVVFU1RJT05TCi0gc2hvdWxkIHRoZSBjb2xsYXRpb24gYmUgY2FzZSBzZW5zaXRpdmUgb3IgY2FzZSBpbnNlbnNpdGl2ZT8gRm9yIEphdmEgcGFja2Fn'));
	@fwrite($fp, base64_decode('ZSBuYW1lcywgaXQgc2hvdWxkIGJlIGNhc2Ugc2Vuc3RpdmllCi0gd29ydCAiZ3VpZCIgb2RlciAidXVpZCIgdmVyd2VuZGVuPwotIGJpdCBvciB0aW55aW50KDEpID8KLSBzaG91bGQgIk9JRCB1cGRhdGVkIiBiZSBzcGxpdCBpbnRvIHR3byBjYXRlZ29yaWVzICJ1'));
	@fwrite($fp, base64_decode('cGRhdGVkIGJ5IHN1cGVyaW9yIiAoZS5nLiBpZGVudGlmaWVycykgYW5kICJ1cGRhdGVkIGJ5IG93bmVyIiAoZGVzY3JpcHRpb24gZXRjKT8KLSAidXBkYXRlZCIgbmljaHQgYWt0dWFsaXNpZXJlbiwgd2VubiBtYW4gbnVyIGF1ZiAidXBkYXRlIiBrbGlja3QgYWJl'));
	@fwrite($fp, base64_decode('ciBuaXggZ2XkbmRlcnQgaGF0Ci0gIkRvY3VtZW50cyIgc2VjdGlvbjogQ2FuIGJhc2Ugb2YgVVJMcy9pbWFnZXMgaW5zaWRlIHRoZSBIVE1MIGJlIGNoYW5nZWQgYXV0b21hdGljYWxseT8KCkdVSUQgTWFuYWdlbWVudAotIExlYWYgbm9kZXMgKEdVSURzKSBzaG91'));
	@fwrite($fp, base64_decode('bGQgc2hvdy9lZGl0IHRoZSBUaXRsZSBpbiB0aGUgQ1JVRCwgc28geW91IGRvbnQgaGF2ZSB0byBjbGljayB0aGUgR1VJRCB0byBzZWUgdGhlIHRpdGxlCi0gc2VsdHNhbWVyIGJ1Zzogd2VubiBpY2ggZ3VpZDpvaWRwbHVzIGVkaXRpZXJlLCBkYW5uIPZmZm5ldCBz'));
	@fwrite($fp, base64_decode('aWNoIGxpbmtzIGd1aWQ6YWN0aXZlZGlyZWN0b3J5IGJlaW0gbmV1bGFkZW4gZGVzIGJhdW1zIG5hY2ggZGVtIHVwZGF0ZS4gaXJnZW5kd2llIPZmZm5ldCBlciBkZW4genVsZXR6dCBnZfZmZm5ldGVuIG5vZGUgYmVpbSByZWxvYWQgbm9jaG1hbAo='));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_1();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != '7d6646897e3b8c3749051fd86074320d66b54432') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== '7d6646897e3b8c3749051fd86074320d66b54432') {
		if (@sha1_file('TODO') !== 'cc6fac6fe2421a116e6d6d94559e9311a60e1a0e') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('TODO') !== '7d6646897e3b8c3749051fd86074320d66b54432') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: plugins/adminPages/400_oidinfo_export/oidinfo_export.php
function writefile_2() {
	@$fp = fopen('plugins/adminPages/400_oidinfo_export/oidinfo_export.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8uLi8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwpyZXF1aXJlX29uY2UgX19ESVJfXyAuICcvLi4vLi4vLi4vaW5jbHVkZXMvb2lkaW5mb19h'));
	@fwrite($fp, base64_decode('cGkuaW5jLnBocCc7CgpoZWFkZXIoJ0NvbnRlbnQtVHlwZTp0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgnKTsKCk9JRHBsdXM6OmluaXQodHJ1ZSk7CgpPSURwbHVzOjpkYigpLT5zZXRfY2hhcnNldCgiVVRGOCIpOwpPSURwbHVzOjpkYigpLT5xdWVyeSgiU0VUIE5B'));
	@fwrite($fp, base64_decode('TUVTICd1dGY4JyIpOwoKIyAtLS0KCmlmIChPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZGluZm9fZXhwb3J0X3Byb3RlY3RlZCcpICYmICFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNBZG1pbkxvZ2dlZEluKCkpIHsKCWVjaG8gJzxwPllvdSBuZWVkIHRv'));
	@fwrite($fp, base64_decode('IDxhIGhyZWY9IicuT0lEcGx1czo6c3lzdGVtX3VybCgpLic/Z290bz1vaWRwbHVzOmxvZ2luIj5sb2cgaW48L2E+IGFzIGFkbWluaXN0cmF0b3IuPC9wPic7CglkaWUoKTsKfQoKaGVhZGVyKCdDb250ZW50LVR5cGU6dGV4dC94bWwnKTsKCiRvYSA9IG5ldyBPSURJ'));
	@fwrite($fp, base64_decode('bmZvQVBJKCk7CiRvYS0+YWRkU2ltcGxlUGluZ1Byb3ZpZGVyKCd2aWF0aGlua3NvZnQuZGU6NDk1MDAnKTsKCiRlbWFpbCA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgnYWRtaW5fZW1haWwnKTsKaWYgKGVtcHR5KCRlbWFpbCkpICRlbWFpbCA9ICd1bmtu'));
	@fwrite($fp, base64_decode('b3duQGV4YW1wbGUuY29tJzsKCmVjaG8gJG9hLT54bWxBZGRIZWFkZXIoT0lEcGx1czo6Y29uZmlnKCktPnN5c3RlbVRpdGxlKCksIGlzc2V0KCRfU0VSVkVSWydTRVJWRVJfTkFNRSddKSA/ICRfU0VSVkVSWydTRVJWRVJfTkFNRSddIDogJ0V4cG9ydCBpbnRlcmZh'));
	@fwrite($fp, base64_decode('Y2UnLCAkZW1haWwpOwoKJHBhcmFtc1snYWxsb3dfaHRtbCddID0gdHJ1ZTsKJHBhcmFtc1snYWxsb3dfaWxsZWdhbF9lbWFpbCddID0gdHJ1ZTsgLy8gSXQgc2hvdWxkIGJlIGVuYWJsZWQsIGJlY2F1c2UgdGhlIGNyZWF0b3IgY291bGQgaGF2ZSB1c2VkIHNvbWUg'));
	@fwrite($fp, base64_decode('a2luZCBvZiBodW1hbi1yZWFkYWJsZSBhbnRpLXNwYW0gdGVjaG5pcXVlCiRwYXJhbXNbJ3NvZnRfY29ycmVjdF9iZWhhdmlvciddID0gT0lESW5mb0FQSTo6U09GVF9DT1JSRUNUX0JFSEFWSU9SX05PTkU7CiRwYXJhbXNbJ2RvX29ubGluZV9jaGVjayddID0gZmFs'));
	@fwrite($fp, base64_decode('c2U7IC8vIEZsYWcgdG8gZGlzYWJsZSB0aGlzIG9ubGluZSBjaGVjaywgYmVjYXVzZSBpdCBnZW5lcmF0ZXMgYSBsb3Qgb2YgdHJhZmZpYyBhbmQgcnVudGltZS4KJHBhcmFtc1snZG9faWxsZWdhbGl0eV9jaGVjayddID0gdHJ1ZTsKJHBhcmFtc1snZG9fc2ltcGxl'));
	@fwrite($fp, base64_decode('cGluZ19jaGVjayddID0gdHJ1ZTsKJHBhcmFtc1snYXV0b19leHRyYWN0X25hbWUnXSA9ICcnOwokcGFyYW1zWydhdXRvX2V4dHJhY3RfdXJsJ10gPSAnJzsKJHBhcmFtc1snYWx3YXlzX291dHB1dF9jb21tZW50J10gPSBmYWxzZTsKJHBhcmFtc1snY3JlYXRpb25f'));
	@fwrite($fp, base64_decode('YWxsb3dlZF9jaGVjayddID0gaXNzZXQoJF9HRVRbJ29ubGluZSddKSAmJiAkX0dFVFsnb25saW5lJ107CiRwYXJhbXNbJ3RvbGVyYW50X2h0bWxlbnRpdGllcyddID0gdHJ1ZTsKJHBhcmFtc1snaWdub3JlX3hodG1sX2xpZ2h0J10gPSBmYWxzZTsKCiRub25Db25m'));
	@fwrite($fp, base64_decode('aWRlbnRpYWwgPSBPSURwbHVzT2JqZWN0OjpnZXRBbGxOb25Db25maWRlbnRpYWwoKTsKCmZvcmVhY2ggKCRub25Db25maWRlbnRpYWwgYXMgJGlkKSB7CgkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFN'));
	@fwrite($fp, base64_decode('RV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJGlkKS4iJyIpOwoJaWYgKCRyb3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlcykpIHsKCQkkZWxlbWVudHNbJ2lkZW50aWZpZXIn'));
	@fwrite($fp, base64_decode('XSA9IGFycmF5KCk7CgkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkIHdoZXJlIG9pZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcm93LT5p'));
	@fwrite($fp, base64_decode('ZCkuIiciKTsKCQl3aGlsZSAoJHJvdzIgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlczIpKSB7CgkJCSRlbGVtZW50c1snaWRlbnRpZmllciddW10gPSAkcm93Mi0+bmFtZTsgLy8gJ3VuaWNvZGUtbGFiZWwnIGlzIGN1cnJlbnRseSBub3QgaW4gdGhl'));
	@fwrite($fp, base64_decode('IHN0YW5kYXJkIGZvcm1hdCAob2lkLnhzZCkKCQl9CgoJCSRlbGVtZW50c1sndW5pY29kZS1sYWJlbCddID0gYXJyYXkoKTsKCQkkcmVzMiA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkg'));
	@fwrite($fp, base64_decode('d2hlcmUgb2lkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRyb3ctPmlkKS4iJyIpOwoJCXdoaWxlICgkcm93MiA9IE9JRHBsdXM6OmRiKCktPmZldGNoX29iamVjdCgkcmVzMikpIHsKCQkJJGVsZW1lbnRzWyd1bmljb2RlLWxhYmVsJ11b'));
	@fwrite($fp, base64_decode('XSA9ICRyb3cyLT5uYW1lOwoJCX0KCgkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgd2hlcmUgZW1haWwgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmco'));
	@fwrite($fp, base64_decode('JHJvdy0+cmFfZW1haWwpLiInIik7CgkJJHJvdzIgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9vYmplY3QoJHJlczIpOwoKCQlpZiAoIWVtcHR5KCRyb3ctPnRpdGxlKSkgewoJCQkkZWxlbWVudHNbJ2Rlc2NyaXB0aW9uJ10gPSAkcm93LT50aXRsZTsKCQkJJGVsZW1l'));
	@fwrite($fp, base64_decode('bnRzWydpbmZvcm1hdGlvbiddID0gJHJvdy0+ZGVzY3JpcHRpb247CgkJfSBlbHNlIGlmIChpc3NldCgkZWxlbWVudHNbJ2lkZW50aWZpZXInXVswXSkpIHsKCQkJJGVsZW1lbnRzWydkZXNjcmlwdGlvbiddID0gJyInLiRlbGVtZW50c1snaWRlbnRpZmllciddWzBd'));
	@fwrite($fp, base64_decode('LiciJzsKCQkJJGVsZW1lbnRzWydpbmZvcm1hdGlvbiddID0gJHJvdy0+ZGVzY3JpcHRpb247CgkJfSBlbHNlIGlmIChpc3NldCgkZWxlbWVudHNbJ3VuaWNvZGUtbGFiZWwnXVswXSkpIHsKCQkJJGVsZW1lbnRzWydkZXNjcmlwdGlvbiddID0gJyInLiRlbGVtZW50'));
	@fwrite($fp, base64_decode('c1sndW5pY29kZS1sYWJlbCddWzBdLiciJzsKCQkJJGVsZW1lbnRzWydpbmZvcm1hdGlvbiddID0gJHJvdy0+ZGVzY3JpcHRpb247CgkJfSBlbHNlIGlmICghZW1wdHkoJHJvdy0+ZGVzY3JpcHRpb24pKSB7CgkJCSRlbGVtZW50c1snZGVzY3JpcHRpb24nXSA9ICRy'));
	@fwrite($fp, base64_decode('b3ctPmRlc2NyaXB0aW9uOwoJCQkkZWxlbWVudHNbJ2luZm9ybWF0aW9uJ10gPSAnJzsKCQl9IGVsc2UgewoJCQkkZWxlbWVudHNbJ2Rlc2NyaXB0aW9uJ10gPSAnPGk+Tm8gZGVzY3JpcHRpb24gYXZhaWxhYmxlPC9pPic7CgkJCSRlbGVtZW50c1snaW5mb3JtYXRp'));
	@fwrite($fp, base64_decode('b24nXSA9ICcnOwoJCX0KCgkJaWYgKCRlbGVtZW50c1snaW5mb3JtYXRpb24nXSAhPSAnJykgewoJCQkkZWxlbWVudHNbJ2luZm9ybWF0aW9uJ10gLj0gJzxici8+PGJyLz4nOwoJCX0KCgkJJGVsZW1lbnRzWydpbmZvcm1hdGlvbiddIC49ICdTZWUgPGEgaHJlZj0i'));
	@fwrite($fp, base64_decode('Jy5PSURwbHVzOjpzeXN0ZW1fdXJsKGZhbHNlKS4nP2dvdG89Jy51cmxlbmNvZGUoJGlkKS4nIj5tb3JlIGluZm9ybWF0aW9uPC9hPi4nOyAvLyBUT0RPOiBzeXN0ZW1fdXJsKCkgZ2VodCBuaWNodCBiZWkgQ0xJCgoJCWlmIChleHBsb2RlKCc6JywkaWQsMilbMF0g'));
	@fwrite($fp, base64_decode('IT0gJ29pZCcpIHsKCQkJJGVsZW1lbnRzWydpbmZvcm1hdGlvbiddID0gIk9iamVjdDogJGlkXG5cbiIgLiAkZWxlbWVudHNbJ2luZm9ybWF0aW9uJ107CgkJfQoKCQkkZWxlbWVudHNbJ2Rlc2NyaXB0aW9uJ10gPSByZXBhaXJfcmVsYXRpdmVfbGlua3MoJGVsZW1l'));
	@fwrite($fp, base64_decode('bnRzWydkZXNjcmlwdGlvbiddKTsKCQkkZWxlbWVudHNbJ2luZm9ybWF0aW9uJ10gPSByZXBhaXJfcmVsYXRpdmVfbGlua3MoJGVsZW1lbnRzWydpbmZvcm1hdGlvbiddKTsKCgkJJGVsZW1lbnRzWydmaXJzdC1yZWdpc3RyYW50J11bJ2ZpcnN0LW5hbWUnXSA9ICcn'));
	@fwrite($fp, base64_decode('OwoJCSRlbGVtZW50c1snZmlyc3QtcmVnaXN0cmFudCddWydsYXN0LW5hbWUnXSA9ICcnOwoJCSRlbGVtZW50c1snZmlyc3QtcmVnaXN0cmFudCddWydhZGRyZXNzJ10gPSAnJzsKCQkkZWxlbWVudHNbJ2ZpcnN0LXJlZ2lzdHJhbnQnXVsnZW1haWwnXSA9ICcnOwoJ'));
	@fwrite($fp, base64_decode('CSRlbGVtZW50c1snZmlyc3QtcmVnaXN0cmFudCddWydwaG9uZSddID0gJyc7CgkJJGVsZW1lbnRzWydmaXJzdC1yZWdpc3RyYW50J11bJ2ZheCddID0gJyc7CgkJJGVsZW1lbnRzWydmaXJzdC1yZWdpc3RyYW50J11bJ2NyZWF0aW9uLWRhdGUnXSA9IF9mb3JtYXRk'));
	@fwrite($fp, base64_decode('YXRlKCRyb3ctPmNyZWF0ZWQpOwoKCQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydmaXJzdC1uYW1lJ10gPSAkcm93MiA/ICRyb3cyLT5yYV9uYW1lIDogJyc7CgkJJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnbGFzdC1uYW1lJ10gPSAn'));
	@fwrite($fp, base64_decode('JzsKCQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydlbWFpbCddID0gJHJvdy0+cmFfZW1haWw7CgoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ3Bob25lJ10gPSAnJzsKCQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydm'));
	@fwrite($fp, base64_decode('YXgnXSA9ICcnOwoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2FkZHJlc3MnXSA9ICcnOwoJCWlmICgkcm93MikgewoJCQkkdG1wID0gYXJyYXkoKTsKCQkJaWYgKCFlbXB0eSgkcm93Mi0+b3JnYW5pemF0aW9uKSAgJiYgKCRyb3cyLT5vcmdhbml6'));
	@fwrite($fp, base64_decode('YXRpb24gICE9ICRyb3cyLT5yYV9uYW1lKSkgJHRtcFtdID0gJHJvdzItPm9yZ2FuaXphdGlvbjsKCQkJaWYgKCFlbXB0eSgkcm93Mi0+b2ZmaWNlKSAgICAgICAgJiYgKCRyb3cyLT5vZmZpY2UgICAgICAgICE9ICRyb3cyLT5yYV9uYW1lKSkgJHRtcFtdID0gJHJv'));
	@fwrite($fp, base64_decode('dzItPm9mZmljZTsKCQkJaWYgKCFlbXB0eSgkcm93Mi0+cGVyc29uYWxfbmFtZSkgJiYgKCRyb3cyLT5wZXJzb25hbF9uYW1lICE9ICRyb3cyLT5yYV9uYW1lKSkgJHRtcFtdID0gKCFlbXB0eSgkcm93Mi0+b3JnYW5pemF0aW9uKSA/ICdjL28gJyA6ICcnKSAuICRy'));
	@fwrite($fp, base64_decode('b3cyLT5wZXJzb25hbF9uYW1lOwoJCQlpZiAoISRyb3cyLT5wcml2YWN5KSB7CgkJCQlpZiAoIWVtcHR5KCRyb3cyLT5zdHJlZXQpKSAgICR0bXBbXSA9ICRyb3cyLT5zdHJlZXQ7CgkJCQlpZiAoIWVtcHR5KCRyb3cyLT56aXBfdG93bikpICR0bXBbXSA9ICRyb3cy'));
	@fwrite($fp, base64_decode('LT56aXBfdG93bjsKCQkJCWlmICghZW1wdHkoJHJvdzItPmNvdW50cnkpKSAgJHRtcFtdID0gJHJvdzItPmNvdW50cnk7CgkJCQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydwaG9uZSddID0gIWVtcHR5KCRyb3cyLT5waG9uZSkgPyAkcm93Mi0+cGhv'));
	@fwrite($fp, base64_decode('bmUgOiAkcm93Mi0+bW9iaWxlOwoJCQkJJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnZmF4J10gPSAkcm93Mi0+ZmF4OwoJCQl9CgkJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2FkZHJlc3MnXSA9IGltcGxvZGUoIjxici8+IiwgJHRt'));
	@fwrite($fp, base64_decode('cCk7CgkJfQoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ21vZGlmaWNhdGlvbi1kYXRlJ10gPSBfZm9ybWF0ZGF0ZSgkcm93LT51cGRhdGVkKTsKCgoJCS8vIFJlcXVlc3QgZnJvbSBPLkQuIDIwIE1heSAyMDE5OiBGaXJzdCByZWdpc3RyYW50IHNo'));
	@fwrite($fp, base64_decode('b3VsZCBub3QgYmUgZW1wdHkgKGVzcGVjaWFsbHkgZm9yIGNhc2VzIHdoZXJlIENyZWF0aW9uIGFuZCBNb2RpZnkgRGF0ZXMgYXJlIHRoZSBzYW1lKQoJCS8vIEFjdHVhbGx5LCB0aGlzIGlzIGEgcHJvYmxlbSBiZWNhdXNlIHdlIGRvbid0IGtub3cgdGhlIGZpcnN0'));
	@fwrite($fp, base64_decode('IHJlZ2lzdHJhbnQuCgkJLy8gSG93ZXZlciwgc2luY2Ugb2lkaW5mbyBnZXRzIHRoZWlyIFhNTCB2ZXJ5IGZhc3QgKGlmIHVzaW5nIHJlZ2lzdHJhdGlvbiksIGl0IGlzIGxpa2VseSB0aGF0IHRoZSByZXBvcnRlZCBSQSBpcyBzdGlsbCB0aGUgc2FtZS4uLgoJCS8v'));
	@fwrite($fp, base64_decode('IC4uLiBhbmQgY2hhbmdlcyBhdCB0aGUgUkEgYXJlIG5vdCByZXBvcnRlZCB0byBvaWQtaW5mby5jb20gYW55d2F5cyAtIHRoZSBYTUwgaXMgb25seSBmb3IgY3JlYXRpb24KCgkJJGVsZW1lbnRzWydmaXJzdC1yZWdpc3RyYW50J11bJ2ZpcnN0LW5hbWUnXSA9ICRl'));
	@fwrite($fp, base64_decode('bGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2ZpcnN0LW5hbWUnXTsKCQkkZWxlbWVudHNbJ2ZpcnN0LXJlZ2lzdHJhbnQnXVsnbGFzdC1uYW1lJ10gID0gJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnbGFzdC1uYW1lJ107CgkJJGVsZW1lbnRz'));
	@fwrite($fp, base64_decode('WydmaXJzdC1yZWdpc3RyYW50J11bJ2FkZHJlc3MnXSAgICA9ICRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2FkZHJlc3MnXTsKCQkkZWxlbWVudHNbJ2ZpcnN0LXJlZ2lzdHJhbnQnXVsnZW1haWwnXSAgICAgID0gJGVsZW1lbnRzWydjdXJyZW50LXJl'));
	@fwrite($fp, base64_decode('Z2lzdHJhbnQnXVsnZW1haWwnXTsKCQkkZWxlbWVudHNbJ2ZpcnN0LXJlZ2lzdHJhbnQnXVsncGhvbmUnXSAgICAgID0gJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsncGhvbmUnXTsKCQkkZWxlbWVudHNbJ2ZpcnN0LXJlZ2lzdHJhbnQnXVsnZmF4J10g'));
	@fwrite($fp, base64_decode('ICAgICAgID0gJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnZmF4J107CgoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2ZpcnN0LW5hbWUnXSA9ICcnOwoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ2xhc3QtbmFtZSdd'));
	@fwrite($fp, base64_decode('ID0gJyc7CgkJJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnYWRkcmVzcyddID0gJyc7CgkJJGVsZW1lbnRzWydjdXJyZW50LXJlZ2lzdHJhbnQnXVsnZW1haWwnXSA9ICcnOwoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ3Bob25lJ10g'));
	@fwrite($fp, base64_decode('PSAnJzsKCQkkZWxlbWVudHNbJ2N1cnJlbnQtcmVnaXN0cmFudCddWydmYXgnXSA9ICcnOwoJCSRlbGVtZW50c1snY3VycmVudC1yZWdpc3RyYW50J11bJ21vZGlmaWNhdGlvbi1kYXRlJ10gPSAnJzsKCgkJLy8gRW5kIHJlcXVlc3QgTy5ELiAyMCBNYXkgMjAxOQoK'));
	@fwrite($fp, base64_decode('CgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRyb3ctPmlkKTsKCQkkb2lkID0gJG9iai0+Z2V0T2lkKCk7CgkJaWYgKGVtcHR5KCRvaWQpKSBjb250aW51ZTsgLy8gZS5nLiBpZiBubyBzeXN0ZW0gSUQgaXMgYXZhaWxhYmxlLCB0aGVuIHdlIGNhbm5vdCBz'));
	@fwrite($fp, base64_decode('dWJtaXQgbm9uLU9JRCBvYmplY3RzCgkJZWNobyAkb2EtPmNyZWF0ZVhNTEVudHJ5KCRvaWQsICRlbGVtZW50cywgJHBhcmFtcywgJGNvbW1lbnQ9JG9iai0+bm9kZUlkKCkpOwoJfQoKCWZsdXNoKCk7Cn0KCmVjaG8gJG9hLT54bWxBZGRGb290ZXIoKTsKCiMgLS0t'));
	@fwrite($fp, base64_decode('CgpmdW5jdGlvbiBfZm9ybWF0ZGF0ZSgkc3RyKSB7Cgkkc3RyID0gZXhwbG9kZSgnICcsJHN0cilbMF07CglpZiAoJHN0ciA9PSAnMDAwMC0wMC0wMCcpICRzdHIgPSAnJzsKCXJldHVybiAkc3RyOwp9CgpmdW5jdGlvbiByZXBhaXJfcmVsYXRpdmVfbGlua3MoJHN0'));
	@fwrite($fp, base64_decode('cikgewoJJHN0ciA9IHByZWdfcmVwbGFjZV9jYWxsYmFjaygnQChocmVmXHMqPVxzKihbXCciXSkpKC4rKShcXDIpQGlzbVUnLCBmdW5jdGlvbigkdHJlZmZlcikgewoJCSR1cmwgPSAkdHJlZmZlclszXTsKCQlpZiAoKHN0cmlwb3MoJHVybCwnaHR0cCcpID09PSBm'));
	@fwrite($fp, base64_decode('YWxzZSkgJiYgKHN0cmlwb3MoJHVybCwnZnRwJykgPT09IGZhbHNlKSkgewoJCQlpZiAoc3RyaXBvcygkdXJsLCd3d3cnKSA9PT0gMCkgewoJCQkJJHVybCAuPSAnaHR0cDovLycgLiAkdXJsOwoJCQl9IGVsc2UgewoJCQkJJHVybCA9IE9JRHBsdXM6OnN5c3RlbV91'));
	@fwrite($fp, base64_decode('cmwoKSAuICR1cmw7CgkJCX0KCQl9CgkJcmV0dXJuICR0cmVmZmVyWzFdLiR1cmwuJHRyZWZmZXJbNF07Cgl9LCAkc3RyKTsKCXJldHVybiAkc3RyOwp9Cgo='));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	writefile_2();
	if (!is_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	} else if (sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') != '2bcde31a15121f3f4088dc9d68a8ca62a3a9cda0') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/400_oidinfo_export/oidinfo_export.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') !== '2bcde31a15121f3f4088dc9d68a8ca62a3a9cda0') {
		if (@sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') !== '6912b124e91172b047ff5bffb5ac6a46e2f2cd6c') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
			$tmp = pathinfo('plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/400_oidinfo_export/oidinfo_export.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/400_oidinfo_export/oidinfo_export.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/adminPages/400_oidinfo_export/oidinfo_export.php') !== '2bcde31a15121f3f4088dc9d68a8ca62a3a9cda0') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/400_oidinfo_export/oidinfo_export.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 131\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 131') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

