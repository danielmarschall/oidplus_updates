<?php /* <ViaThinkSoftSignature>
uNqc7pNgv1rP9cajRtUkYiJ/x6+X8VwzGGaUEX5bRMspmXr2Q65odBqE57FP8oJsy
PQjtRnLBD1g1x0y+wrUUFK5KSvKn6SyWz4xjHD2y3As/+hywZYXon4DHBC1jr03Lz
0T/SG+r2AEvwtOGBXHyUoSsMznU5Q+T6ykxc1ZkTcxIu0ORsI/mM0vY4bNKn1390F
56rmwA5GBoTtfU8u2BtZAAN15sxvD3ObBt7EReY+AHgNfpemcbOSA3E5rw4CPmW6I
YE38vDL81sHTI8rWOSyaAmXw6nwaofzMAgU1DaseWviKCV6dkm3XjGV1C3iUX02Ci
2+DpEjxty7hXe4ForxpZ+0748HHrmzX56CGwcQpby6AipIFGTotbuISF0R4qH2LYT
ZNPWvWt6/vDYilXnUohbj8V59Ycp/nPsSR7hkkidhoE5fROrH//51vX3hWhX6l1pN
XT/EOBjmsQzZ0zfVNholm/MQm+Oj+NDrfykPxNOSTBA5+jW+gkA3WSRkFaCDoNuuS
vpKtg5DpKsePB+W3trIEuBn+spb2IvcCvvAtLvNEYYoih/AzVUNEkN/VNkP7VVQzF
pf+RX0/m4uX/4SGWGKR83eFnsydvvJQeNa1jb2weQ0E6430d9IZFZwqYD2BNl0dgK
Qvc9dvShxHxPQ58WimNZVcv8j8dODRiGzVlWH9t/864jdheqpHhciawa2kMGKHPb8
gaAsgPeZHSzC6J8daN2rL8uaF4PdsZAm5hzyd36U6RN8qnAFjQy2fDrHQv8bCAA/m
brcbBjcA2LN5GTYDVeABuK/t0g30hLd4cU8J6+nb9fcufnDM6SNW/vafKHpYZOBUZ
RbKcXbA7+KuZEDMB52xpQzEP3KMLKfYNG3jFfwST5If9Vuzec4lYe2W8RSmngKdFO
5/tbjYWd3ABUNTtD5TMQ+EYQxlLcqwEPawcBGxo3aLWCuBVddGKmMKir4MonpC/9P
fd6OhPeRVfvqbvYtdfAzO/aAocVbardy0VkRfsGYJXmwaHXbwP4JzzM53YhEsOCkZ
/f/j8FzlKVfJp4Lrqub8osbciVbmF/twNHJzOTqPiFOgRl+j3GlNwpWTTpCyn/m5Y
hm3vVsJbjqawJFhCvz70idoeFsA9QqTX7UCHC6hKLogXsrReLMQ5fUJhDANsSo9ZL
8Eykaa3KaHeCXu6zDcWU57j46BnL31WsZ1EwcTqYsxeees6EKaYOFICwEj4yPMlsO
WCWUeg9nMl93SwXdXk7jWBSooOHg0GjSktokZ80Of0Hk4ducJpqOtEwnVHDCay2iW
XEN2VpaLKJ0w6xjJZnFw27LtbXpLovoe0lWlzUMt/v3eYh96kZS+Pm+VQyNXkkTfO
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 265') {
	err('This update can only be applied to OIDplus version 2.0.0.265!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: dev/test/test_database_plugins.php
function writefile_1() {
	@$fp = fopen('dev/test/test_database_plugins.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCi8vIFRoaXMgc2NyaXB0IGlzIHVzZWQgdG8gZGV0ZWN0IHByb2JsZW1zIHdpdGggeW91ciBkYXRhYmFzZSBwbHVnaW4KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi8uLi9pbmNsdWRlcy9vaWRw'));
	@fwrite($fp, base64_decode('bHVzLmluYy5waHAnOwoKZWNobyAnPGgxPk9JRHBsdXMgRGF0YWJhc2UgcGx1Z2luIHRlc3RjYXNlczwvaDE+JzsKCiMgVGVzdCBNeVNRTAppbmNsdWRlIF9fRElSX18gLiAnLy4uLy4uL3BsdWdpbnMvZGF0YWJhc2UvbXlzcWxpL3BsdWdpbi5pbmMucGhwJzsKJGRi'));
	@fwrite($fp, base64_decode('ID0gbmV3IE9JRHBsdXNEYXRhYmFzZVBsdWdpbk15U1FMaSgpOwppZiAoZnVuY3Rpb25fZXhpc3RzKCdteXNxbGlfZmV0Y2hfYWxsJykpIHsKCU9JRHBsdXM6OmJhc2VDb25maWcoKS0+c2V0VmFsdWUoJ01ZU1FMX0ZPUkNFX01ZU1FMTkRfU1VQUExFTUVOVCcsIGZh'));
	@fwrite($fp, base64_decode('bHNlKTsKCWVjaG8gIltXaXRoIE15U1FMbmQgc3VwcG9ydF0gIjsKCWRvdGVzdCgkZGIpOwoJT0lEcGx1czo6YmFzZUNvbmZpZygpLT5zZXRWYWx1ZSgnTVlTUUxfRk9SQ0VfTVlTUUxORF9TVVBQTEVNRU5UJywgdHJ1ZSk7Cn0KZWNobyAiW1dpdGhvdXQgTXlTUUxu'));
	@fwrite($fp, base64_decode('ZCBzdXBwb3J0XSAiOwpkb3Rlc3QoJGRiKTsKCiMgVGVzdCBQRE8KaW5jbHVkZSBfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL2RhdGFiYXNlL3Bkby9wbHVnaW4uaW5jLnBocCc7CiRkYiA9IG5ldyBPSURwbHVzRGF0YWJhc2VQbHVnaW5QRE8oKTsKZG90ZXN0KCRk'));
	@fwrite($fp, base64_decode('Yik7CgojIFRlc3QgT0RCQwppbmNsdWRlIF9fRElSX18gLiAnLy4uLy4uL3BsdWdpbnMvZGF0YWJhc2Uvb2RiYy9wbHVnaW4uaW5jLnBocCc7CiRkYiA9IG5ldyBPSURwbHVzRGF0YWJhc2VQbHVnaW5PREJDKCk7CmRvdGVzdCgkZGIpOwoKIyBUZXN0IFBnU1FMCmlu'));
	@fwrite($fp, base64_decode('Y2x1ZGUgX19ESVJfXyAuICcvLi4vLi4vcGx1Z2lucy9kYXRhYmFzZS9wZ3NxbC9wbHVnaW4uaW5jLnBocCc7CiRkYiA9IG5ldyBPSURwbHVzRGF0YWJhc2VQbHVnaW5QZ1NRTCgpOwpkb3Rlc3QoJGRiKTsKCiMgVGVzdCBTUUxpdGUzCmluY2x1ZGUgX19ESVJfXyAu'));
	@fwrite($fp, base64_decode('ICcvLi4vLi4vcGx1Z2lucy9kYXRhYmFzZS9zcWxpdGUzL3BsdWdpbi5pbmMucGhwJzsKJGRiID0gbmV3IE9JRHBsdXNEYXRhYmFzZVBsdWdpblNRTGl0ZTMoKTsKZG90ZXN0KCRkYik7CgojIC0tLQoKZnVuY3Rpb24gZG90ZXN0KCRkYikgewoJZWNobyAiRGF0YWJh'));
	@fwrite($fp, base64_decode('c2U6ICIgLiAkZGItPm5hbWUoKS4iPGJyPiI7Cgl0cnkgewoJCSRkYi0+Y29ubmVjdCgpOwoJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJZWNobyAiQ29ubmVjdGlvbiA8Zm9udCBjb2xvcj1cInJlZFwiPkZBSUxFRDwvZm9udD4gKGNoZWNrIGNvbmZpZy5pbmMu'));
	@fwrite($fp, base64_decode('cGhwKTogIi4kZS0+Z2V0TWVzc2FnZSgpLiI8YnI+PGJyPiI7CgkJcmV0dXJuOwoJfQoJZWNobyAiRGV0ZWN0ZWQgc2xhbmc6ICIgLiAkZGItPnNsYW5nKCkuIjxicj4iOwoJJGRiLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAn'));
	@fwrite($fp, base64_decode('dGVzdDoxJyIpOwoJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ3Rlc3Q6MS4xJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJJGRiLT5xdWVy'));
	@fwrite($fp, base64_decode('eSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ3Rlc3Q6MS4yJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJdHJ5IHsKCQkvLyAtLS0gIlNRTCBEYXRlIiBoYW5k'));
	@fwrite($fp, base64_decode('bGluZwoKCQl0cnkgewoJCQkkcmVzID0gJGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IGNyZWF0ZWQgPSAiLiRkYi0+c3FsRGF0ZSgpLiIgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJCWVjaG8gIlNRTERhdGUgKCIuJGRiLT5zcWxEYXRlKCkuIikg'));
	@fwrite($fp, base64_decode('UEFTU0VEPGJyPiI7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCWVjaG8gIlNRTERhdGUgKCIuJGRiLT5zcWxEYXRlKCkuIikgPGZvbnQgY29sb3I9XCJyZWRcIj5GQUlMRUQ8L2ZvbnQ+PGJyPiI7CgkJfQoKCQkvLyAtLS0gIk51bSByb3dzIiBoYW5kbGlu'));
	@fwrite($fp, base64_decode('ZwoKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5IGlkIiwgYXJyYXkoJ3Rlc3Q6MScpKTsKCgkJJG51bV9yb3dzID0gJHJlcy0+bnVtX3Jvd3MoKTsKCQllY2hvICJOdW0gcm93czog'));
	@fwrite($fp, base64_decode('IiAuICgkbnVtX3Jvd3M9PT0yID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiI8YnI+IjsKCgkJJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkkbnVtX3Jvd3MgPSAkcmVzLT5udW1fcm93cygpOwoJCWVjaG8gIk51bSByb3dzIGFm'));
	@fwrite($fp, base64_decode('dGVyIHNvbWV0aGluZyBmZXRjaGVkOiAiIC4gKCRudW1fcm93cz09PTIgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5GQUlMRUQ8L2ZvbnQ+JykuIjxicj4iOwoKCQkkbmV4dGlkID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKVsnaWQnXTsKCQllY2hvICJOdW0g'));
	@fwrite($fp, base64_decode('cm93cyBkb2VzIG5vdCBjaGFuZ2UgY3Vyc29yOiAiIC4gKCRuZXh0aWQgPT0gJ3Rlc3Q6MS4yJyA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCSRuZXh0ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQllY2hv'));
	@fwrite($fp, base64_decode('ICJGZXRjaCBhZnRlciBFT0YgZ2l2ZXMgbnVsbDogIiAuIChpc19udWxsKCRuZXh0KSA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCS8vIC0tLSBTaW11bHRhbm91cyBwcmVwYXJlZCBzdGF0ZW1lbnRzCgoJ'));
	@fwrite($fp, base64_decode('CSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ID8gb3JkZXIgYnkgaWQiLCBhcnJheSgndGVzdDoxJykpOwoKCQkkcGFzc2VkID0gZmFsc2U7CgkJd2hpbGUgKCRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgp'));
	@fwrite($fp, base64_decode('KSB7CgkJCSRyZXMyID0gJGRiLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5IGlkIiwgYXJyYXkoJHJvd1snaWQnXSkpOwoJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQl9'));
	@fwrite($fp, base64_decode('CgkJCWlmICgkcm93WydpZCddID09ICd0ZXN0OjEuMicpIHsKCQkJCSRwYXNzZWQgPSB0cnVlOwoJCQl9CgkJfQoJCWVjaG8gIlNpbXVsdGFub3VzIHByZXBhcmVkIHN0YXRlbWVudHM6ICIuKCRwYXNzZWQgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5G'));
	@fwrite($fp, base64_decode('QUlMRUQ8L2ZvbnQ+JykuIjxicj4iOwoKCQkvLyAtLS0gRXhjZXB0aW9uIGhhbmRsaW5nCgoJCXRyeSB7CgkJCSRkYi0+cXVlcnkoIkFCQ0RFRiIpOwoJCQllY2hvICJFeGNlcHRpb24gZm9yIERpcmVjdFF1ZXJ5OiA8Zm9udCBjb2xvcj1cInJlZFwiPkZBSUxFRDwv'));
	@fwrite($fp, base64_decode('Zm9udD4sIG5vIEV4Y2VwdGlvbiB0aHJvd248YnI+IjsKCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJaWYgKHN0cnBvcygkZS0+Z2V0TWVzc2FnZSgpLCAnQUJDREVGJykgIT09IGZhbHNlKSB7CgkJCQllY2hvICJFeGNlcHRpb24gZm9yIERpcmVjdFF1ZXJ5'));
	@fwrite($fp, base64_decode('OiBQQVNTRUQ8YnI+IjsKCQkJfSBlbHNlIHsKCQkJCWVjaG8gIkV4Y2VwdGlvbiBmb3IgRGlyZWN0UXVlcnk6IDxmb250IGNvbG9yPVwicmVkXCI+RkFJTEVEPC9mb250PiwgZG9lcyBwcm9iYWJseSBub3QgY29udGFpbiBEQk1TIGVycm9yIHN0cmluZzxicj4iOwoJ'));
	@fwrite($fp, base64_decode('CQl9CgkJfQoKCQkkbXNnID0gJGRiLT5lcnJvcigpOwoJCWlmIChzdHJwb3MoJG1zZywgJ0FCQ0RFRicpICE9PSBmYWxzZSkgewoJCQllY2hvICJFcnJvci1GdW5jdGlvbiBhZnRlciBmYWlsZWQgZGlyZWN0IHF1ZXJ5OiBQQVNTRUQ8YnI+IjsKCQl9IGVsc2UgewoJ'));
	@fwrite($fp, base64_decode('CQllY2hvICJFcnJvci1GdW5jdGlvbiBhZnRlciBmYWlsZWQgZGlyZWN0IHF1ZXJ5OiA8Zm9udCBjb2xvcj1cInJlZFwiPkZBSUxFRDwvZm9udD4sIGRvZXMgcHJvYmFibHkgbm90IGNvbnRhaW4gREJNUyBlcnJvciBzdHJpbmcgKCRtc2cpPGJyPiI7CgkJfQoKCQl0'));
	@fwrite($fp, base64_decode('cnkgewoJCQkkZGItPnF1ZXJ5KCJGRURDQkEiLCBhcnJheSgnJykpOwoJCQllY2hvICJFeGNlcHRpb24gZm9yIFByZXBhcmVkUXVlcnk6IDxmb250IGNvbG9yPVwicmVkXCI+RkFJTEVEPC9mb250Piwgbm8gRXhjZXB0aW9uIHRocm93bjxicj4iOwoJCX0gY2F0Y2gg'));
	@fwrite($fp, base64_decode('KEV4Y2VwdGlvbiAkZSkgewoJCQlpZiAoc3RycG9zKCRlLT5nZXRNZXNzYWdlKCksICdGRURDQkEnKSAhPT0gZmFsc2UpIHsKCQkJCWVjaG8gIkV4Y2VwdGlvbiBmb3IgUHJlcGFyZWRRdWVyeTogUEFTU0VEPGJyPiI7CgkJCX0gZWxzZSB7CgkJCQllY2hvICJFeGNl'));
	@fwrite($fp, base64_decode('cHRpb24gZm9yIFByZXBhcmVkUXVlcnk6IDxmb250IGNvbG9yPVwicmVkXCI+RkFJTEVEPC9mb250PiwgZG9lcyBwcm9iYWJseSBub3QgY29udGFpbiBEQk1TIGVycm9yIHN0cmluZzxicj4iOwoJCQl9CgkJfQoKCQkkbXNnID0gJGRiLT5lcnJvcigpOwoJCWlmIChz'));
	@fwrite($fp, base64_decode('dHJwb3MoJG1zZywgJ0ZFRENCQScpICE9PSBmYWxzZSkgewoJCQllY2hvICJFcnJvci1GdW5jdGlvbiBhZnRlciBmYWlsZWQgcHJlcGFyZWQgcXVlcnk6IFBBU1NFRDxicj4iOwoJCX0gZWxzZSB7CgkJCWVjaG8gIkVycm9yLUZ1bmN0aW9uIGFmdGVyIGZhaWxlZCBw'));
	@fwrite($fp, base64_decode('cmVwYXJlZCBxdWVyeTogPGZvbnQgY29sb3I9XCJyZWRcIj5GQUlMRUQ8L2ZvbnQ+LCBkb2VzIHByb2JhYmx5IG5vdCBjb250YWluIERCTVMgZXJyb3Igc3RyaW5nICgkbXNnKTxicj4iOwoJCX0KCgkJJGRiLT5xdWVyeSgic2VsZWN0IDEiKTsKCQkkbXNnID0gJGRi'));
	@fwrite($fp, base64_decode('LT5lcnJvcigpOwoJCWlmICghJG1zZykgewoJCQllY2hvICJFcnJvci1GdW5jdGlvbiBnZXRzIGNsZWFyZWQgYWZ0ZXIgbm9uLWZhaWxlZCBxdWVyeTogUEFTU0VEPGJyPiI7CgkJfSBlbHNlIHsKCQkJZWNobyAiRXJyb3ItRnVuY3Rpb24gZ2V0cyBjbGVhcmVkIGFm'));
	@fwrite($fp, base64_decode('dGVyIG5vbi1mYWlsZWQgcXVlcnk6IDxmb250IGNvbG9yPVwicmVkXCI+RkFJTEVEPC9mb250PiwgZG9lcyBwcm9iYWJseSBub3QgY29udGFpbiBEQk1TIGVycm9yIHN0cmluZzxicj4iOwoJCX0KCgkJLy8gLS0tIEJvb2xlYW4gaGFuZGxpbmcKCgkJJGRiLT5xdWVy'));
	@fwrite($fp, base64_decode('eSgidXBkYXRlICMjI29iamVjdHMgc2V0IGNvbmZpZGVudGlhbCA9ID8gd2hlcmUgaWQgPSAndGVzdDoxLjEnIiwgYXJyYXkodHJ1ZSkpOwoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgY29uZmlkZW50aWFsIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ICd0'));
	@fwrite($fp, base64_decode('ZXN0OjEuMSciKTsKCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPmNvbmZpZGVudGlhbDsKCQllY2hvICJCb29sZWFuIGhhbmRsaW5nIFRSVUUgd2l0aCBwcmVwYXJlZCBzdGF0ZW1lbnQ6ICIgLiAoJHZhbCA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJy'));
	@fwrite($fp, base64_decode('ZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNldCBjb25maWRlbnRpYWwgPSA/IHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIsIGFycmF5KGZhbHNlKSk7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCBj'));
	@fwrite($fp, base64_decode('b25maWRlbnRpYWwgZnJvbSAjIyNvYmplY3RzIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSR2YWwgPSAkcmVzLT5mZXRjaF9vYmplY3QoKS0+Y29uZmlkZW50aWFsOwoJCWVjaG8gIkJvb2xlYW4gaGFuZGxpbmcgRkFMU0Ugd2l0aCBwcmVwYXJlZCBzdGF0ZW1l'));
	@fwrite($fp, base64_decode('bnQ6ICIgLiAoISR2YWwgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5GQUlMRUQ8L2ZvbnQ+JykuIjxicj4iOwoKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgY29uZmlkZW50aWFsID0gJzEnIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIp'));
	@fwrite($fp, base64_decode('OwoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgY29uZmlkZW50aWFsIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPmNvbmZpZGVudGlhbDsKCQllY2hvICJCb29sZWFuIGhhbmRs'));
	@fwrite($fp, base64_decode('aW5nIFRSVUUgd2l0aCBub3JtYWwgc3RhdGVtZW50OiAiIC4gKCR2YWwgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5GQUlMRUQ8L2ZvbnQ+JykuIjxicj4iOwoKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgY29uZmlkZW50aWFsID0g'));
	@fwrite($fp, base64_decode('JzAnIHdoZXJlIGlkID0gJ3Rlc3Q6MS4xJyIpOwoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgY29uZmlkZW50aWFsIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkkdmFsID0gJHJlcy0+ZmV0Y2hfb2JqZWN0KCktPmNvbmZpZGVu'));
	@fwrite($fp, base64_decode('dGlhbDsKCQllY2hvICJCb29sZWFuIGhhbmRsaW5nIEZBTFNFIHdpdGggbm9ybWFsIHN0YXRlbWVudDogIiAuICghJHZhbCA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCS8vIC0tLSBDaGVjayBpZiB0cmFu'));
	@fwrite($fp, base64_decode('c2FjdGlvbnMgd29yawoKCQkkZGItPnF1ZXJ5KCJ1cGRhdGUgIyMjb2JqZWN0cyBzZXQgdGl0bGUgPSAnQScgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJGRiLT50cmFuc2FjdGlvbl9iZWdpbigpOwoJCSRkYi0+cXVlcnkoInVwZGF0ZSAjIyNvYmplY3RzIHNl'));
	@fwrite($fp, base64_decode('dCB0aXRsZSA9ICdCJyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkkZGItPnRyYW5zYWN0aW9uX3JvbGxiYWNrKCk7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCB0aXRsZSBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJHZh'));
	@fwrite($fp, base64_decode('bCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT50aXRsZTsKCQllY2hvICJUcmFuc2FjdGlvbiByb2xsYmFjazogIiAuICgkdmFsID09ICdBJyA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCSRkYi0+cXVlcnko'));
	@fwrite($fp, base64_decode('InVwZGF0ZSAjIyNvYmplY3RzIHNldCB0aXRsZSA9ICdBJyB3aGVyZSBpZCA9ICd0ZXN0OjEuMSciKTsKCQkkZGItPnRyYW5zYWN0aW9uX2JlZ2luKCk7CgkJJGRiLT5xdWVyeSgidXBkYXRlICMjI29iamVjdHMgc2V0IHRpdGxlID0gJ0InIHdoZXJlIGlkID0gJ3Rl'));
	@fwrite($fp, base64_decode('c3Q6MS4xJyIpOwoJCSRkYi0+dHJhbnNhY3Rpb25fY29tbWl0KCk7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVjdCB0aXRsZSBmcm9tICMjI29iamVjdHMgd2hlcmUgaWQgPSAndGVzdDoxLjEnIik7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT50aXRs'));
	@fwrite($fp, base64_decode('ZTsKCQllY2hvICJUcmFuc2FjdGlvbiBjb21taXQ6ICIgLiAoJHZhbCA9PSAnQicgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5GQUlMRUQ8L2ZvbnQ+JykuIjxicj4iOwoKCQkvLyAtLS0gQ2hlY2sgbmF0T3JkZXIgZmVhdHVyZQoKCQkkZGItPnF1ZXJ5'));
	@fwrite($fp, base64_decode('KCJkZWxldGUgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9ICd0ZXN0OjEnIik7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ29pZDoz'));
	@fwrite($fp, base64_decode('LjEuMTAnLCAndGVzdDoxJywgJycsICcnLCAnMCcpIik7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRpYWwpIHZhbHVlcyAoJ29pZDozLjEuMicsICd0ZXN0OjEnLCAn'));
	@fwrite($fp, base64_decode('JywgJycsICcwJykiKTsKCQkkcmVzID0gJGRiLT5xdWVyeSgic2VsZWN0IGlkIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5ICIuJGRiLT5uYXRPcmRlcignaWQnKSwgYXJyYXkoJ3Rlc3Q6MScpKTsKCQkkdmFsID0gJHJlcy0+ZmV0Y2hf'));
	@fwrite($fp, base64_decode('b2JqZWN0KCktPmlkOwoJCWVjaG8gIk5hdHVyYWwgT0lEIFNvcnRpbmcgKDwgMTYgQml0KTogIiAuICgkdmFsID09ICdvaWQ6My4xLjInID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiI8YnI+IjsKCgkJJGRiLT5xdWVyeSgi'));
	@fwrite($fp, base64_decode('ZGVsZXRlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAndGVzdDoxJyIpOwoJCSRkYi0+cXVlcnkoImluc2VydCBpbnRvICMjI29iamVjdHMgKGlkLCBwYXJlbnQsIHRpdGxlLCBkZXNjcmlwdGlvbiwgY29uZmlkZW50aWFsKSB2YWx1ZXMgKCdvaWQ6Mi4y'));
	@fwrite($fp, base64_decode('NS4zMTc5MTk3MzYzMTIxMDk1MjU2ODg1MjgwNjgxNTcxODA4NTU1NzknLCAndGVzdDoxJywgJycsICcnLCAnMCcpIik7CgkJJGRiLT5xdWVyeSgiaW5zZXJ0IGludG8gIyMjb2JqZWN0cyAoaWQsIHBhcmVudCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBjb25maWRlbnRp'));
	@fwrite($fp, base64_decode('YWwpIHZhbHVlcyAoJ29pZDoyLjI1LjY3OTE5NzM2MzEyMTA5NTI1Njg4NTI4MDY4MTU3MTgwODU1NTc5JywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJCSRyZXMgPSAkZGItPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAjIyNvYmplY3RzIHdoZXJlIHBhcmVudCA9'));
	@fwrite($fp, base64_decode('ID8gb3JkZXIgYnkgIi4kZGItPm5hdE9yZGVyKCdpZCcpLCBhcnJheSgndGVzdDoxJykpOwoJCSR2YWwgPSAkcmVzLT5mZXRjaF9vYmplY3QoKS0+aWQ7CgkJZWNobyAiTmF0dXJhbCBPSUQgU29ydGluZyAoMTI4IEJpdCk6ICIgLiAoJHZhbCA9PSAnb2lkOjIuMjUu'));
	@fwrite($fp, base64_decode('Njc5MTk3MzYzMTIxMDk1MjU2ODg1MjgwNjgxNTcxODA4NTU1NzknID8gJ1BBU1NFRCcgOiAnPGZvbnQgY29sb3I9InJlZCI+RkFJTEVEPC9mb250PicpLiI8YnI+IjsKCgkJJGRiLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAn'));
	@fwrite($fp, base64_decode('dGVzdDoxJyIpOwoJCSRkYi0+cXVlcnkoImluc2VydCBpbnRvICMjI29iamVjdHMgKGlkLCBwYXJlbnQsIHRpdGxlLCBkZXNjcmlwdGlvbiwgY29uZmlkZW50aWFsKSB2YWx1ZXMgKCdhYmM6My4xLjEwJywgJ3Rlc3Q6MScsICcnLCAnJywgJzAnKSIpOwoJCSRkYi0+'));
	@fwrite($fp, base64_decode('cXVlcnkoImluc2VydCBpbnRvICMjI29iamVjdHMgKGlkLCBwYXJlbnQsIHRpdGxlLCBkZXNjcmlwdGlvbiwgY29uZmlkZW50aWFsKSB2YWx1ZXMgKCdhYmM6My4xLjInLCAndGVzdDoxJywgJycsICcnLCAnMCcpIik7CgkJJHJlcyA9ICRkYi0+cXVlcnkoInNlbGVj'));
	@fwrite($fp, base64_decode('dCBpZCBmcm9tICMjI29iamVjdHMgd2hlcmUgcGFyZW50ID0gPyBvcmRlciBieSAiLiRkYi0+bmF0T3JkZXIoJ2lkJyksIGFycmF5KCd0ZXN0OjEnKSk7CgkJJHZhbCA9ICRyZXMtPmZldGNoX29iamVjdCgpLT5pZDsKCQllY2hvICJOb24tTmF0dXJhbCBTb3J0aW5n'));
	@fwrite($fp, base64_decode('IGZvciBOb24tT0lEczogIiAuICgkdmFsID09ICdhYmM6My4xLjEwJyA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iPGJyPiI7CgoJCS8vIC0tLSBUZXN0IGluc2VydF9pZCgpCgoJCSRkYi0+cXVlcnkoImRlbGV0ZSBmcm9t'));
	@fwrite($fp, base64_decode('ICMjI2xvZ19vYmplY3Qgd2hlcmUgb2JqZWN0ID0gJ3Rlc3Q6MSciKTsKCQkkY3VyID0gJGRiLT5pbnNlcnRfaWQoKTsKCQllY2hvICJJbnNlcnQgSUQgb24gbm9uLWluc2VydDogIiAuICgkY3VyID09IDAgPyAnUEFTU0VEJyA6ICc8Zm9udCBjb2xvcj0icmVkIj5G'));
	@fwrite($fp, base64_decode('QUlMRUQ8L2ZvbnQ+JykuIiAoJGN1cik8YnI+IjsKCQkkZGItPnF1ZXJ5KCJpbnNlcnQgaW50byAjIyNsb2dfb2JqZWN0IChsb2dfaWQsIG9iamVjdCkgdmFsdWVzICgxMDAwLCAndGVzdDoxJykiKTsKCQkkcHJldiA9ICRkYi0+aW5zZXJ0X2lkKCk7CgkJJGRiLT5x'));
	@fwrite($fp, base64_decode('dWVyeSgiaW5zZXJ0IGludG8gIyMjbG9nX29iamVjdCAobG9nX2lkLCBvYmplY3QpIHZhbHVlcyAoMjAwMCwgJ3Rlc3Q6MScpIik7CgkJJGN1ciA9ICRkYi0+aW5zZXJ0X2lkKCk7CgkJZWNobyAiSW5zZXJ0IElEIG9uIGFjdHVhbCBpbnNlcnRzOiAiIC4gKCRjdXIg'));
	@fwrite($fp, base64_decode('PT0gJHByZXYrMSA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxFRDwvZm9udD4nKS4iICgkcHJldiA9PiAkY3VyKTxicj4iOwoJCWlmICgkY3VyICE9ICRwcmV2KzEpOwoJCSRkYi0+cXVlcnkoImRlbGV0ZSBmcm9tICMjI2xvZ19vYmplY3Qgd2hl'));
	@fwrite($fp, base64_decode('cmUgb2JqZWN0ID0gJ3Rlc3Q6MSciKTsKCQkkY3VyID0gJGRiLT5pbnNlcnRfaWQoKTsKCQllY2hvICJOb24tSW5zZXJ0IHF1ZXJ5IHdpbGwgcmVzZXQgaW5zZXJ0IElEOiAiIC4gKCRjdXIgPT0gMCA/ICdQQVNTRUQnIDogJzxmb250IGNvbG9yPSJyZWQiPkZBSUxF'));
	@fwrite($fp, base64_decode('RDwvZm9udD4nKS4iICgkY3VyKTxicj4iOwoKCX0gZmluYWxseSB7CgkJJGRiLT5xdWVyeSgiZGVsZXRlIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAndGVzdDoxJyIpOwoJfQoJJGRiLT5kaXNjb25uZWN0KCk7CgllY2hvICI8YnI+IjsKfQo='));
	@fclose($fp);
}
if (!is_file('dev/test/test_database_plugins.php')) {
	warn('File has vanished! Will re-create it: dev/test/test_database_plugins.php');
	writefile_1();
	if (!is_file('dev/test/test_database_plugins.php')) {
		warn('File cannot be created (not existing): dev/test/test_database_plugins.php');
	} else if (sha1_file('dev/test/test_database_plugins.php') != '65c10a4c9ccda7389348375d6c2705a19ff1515b') {
		warn('File cannot be created (checksum mismatch): dev/test/test_database_plugins.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('dev/test/test_database_plugins.php', 0644)) {
		warn('Could not change file permissions of dev/test/test_database_plugins.php');
	}
} else {
	if (@sha1_file('dev/test/test_database_plugins.php') !== '65c10a4c9ccda7389348375d6c2705a19ff1515b') {
		if (@sha1_file('dev/test/test_database_plugins.php') !== '228ee1c09adf184be27c4591d93f67777469ac0d') {
			warn('File was modified. Will overwrite the changes now: dev/test/test_database_plugins.php');
			$tmp = pathinfo('dev/test/test_database_plugins.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('dev/test/test_database_plugins.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('dev/test/test_database_plugins.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('dev/test/test_database_plugins.php') !== '65c10a4c9ccda7389348375d6c2705a19ff1515b') {
			warn('File cannot be written (checksum mismatch): dev/test/test_database_plugins.php');
		}
	}
}

// Files different: includes/classes/OIDplusDatabasePlugin.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplusDatabasePlugin.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmFic3RyYWN0IGNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbiBleHRlbmRzIE9JRHBsdXNQbHVnaW4gewoJcHJvdGVjdGVkICRjb25u'));
	@fwrite($fp, base64_decode('ZWN0ZWQgPSBmYWxzZTsKCXByb3RlY3RlZCAkaHRtbCA9IG51bGw7Cglwcm90ZWN0ZWQgJGxhc3RfcXVlcnkgPSBudWxsOwoKCXB1YmxpYyBhYnN0cmFjdCBzdGF0aWMgZnVuY3Rpb24gbmFtZSgpOiBzdHJpbmc7IC8vIHRoaXMgaXMgdGhlIG5hbWUgdGhhdCBpcyBz'));
	@fwrite($fp, base64_decode('ZXQgdG8gdGhlIGNvbmZpZ3VyYXRpb24gdmFsdWUgT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnREFUQUJBU0VfUExVR0lOJykgdG8gaWRlbnRpZnkgdGhlIGRhdGFiYXNlIHBsdWdpbgoJcHJvdGVjdGVkIGFic3RyYWN0IGZ1bmN0aW9uIGRvUXVlcnko'));
	@fwrite($fp, base64_decode('c3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3VsdDsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiBpbnNlcnRfaWQoKTogaW50OwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGVycm9yKCk6IHN0cmlu'));
	@fwrite($fp, base64_decode('ZzsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiB0cmFuc2FjdGlvbl9iZWdpbigpOiB2b2lkOwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpOiB2b2lkOwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3Jv'));
	@fwrite($fp, base64_decode('bGxiYWNrKCk6IHZvaWQ7Cglwcm90ZWN0ZWQgYWJzdHJhY3QgZnVuY3Rpb24gZG9Db25uZWN0KCk6IHZvaWQ7Cglwcm90ZWN0ZWQgYWJzdHJhY3QgZnVuY3Rpb24gZG9EaXNjb25uZWN0KCk6IHZvaWQ7CgoJcHVibGljIGZpbmFsIGZ1bmN0aW9uIHF1ZXJ5KHN0cmlu'));
	@fwrite($fp, base64_decode('ZyAkc3FsLCAvKj9hcnJheSovICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURwbHVzUXVlcnlSZXN1bHQgewoKCQkkcXVlcnlfbG9nZmlsZSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1FVRVJZX0xPR0ZJTEUnLCAnJyk7CgkJaWYgKCFlbXB0eSgk'));
	@fwrite($fp, base64_decode('cXVlcnlfbG9nZmlsZSkpIHsKCQkJJHRzID0gZXhwbG9kZSgiICIsbWljcm90aW1lKCkpOwoJCQkkdHMgPSBkYXRlKCJZLW0tZCBIOmk6cyIsJHRzWzFdKS5zdWJzdHIoKHN0cmluZykkdHNbMF0sMSw0KTsKCQkJc3RhdGljICRsb2dfc2Vzc2lvbl9pZCA9ICIiOwoJ'));
	@fwrite($fp, base64_decode('CQlpZiAoZW1wdHkoJGxvZ19zZXNzaW9uX2lkKSkgewoJCQkJJGxvZ19zZXNzaW9uX2lkID0gcmFuZCgxMDAwMCw5OTk5OSk7CgkJCX0KCQkJJGZpbGUgPSBpc3NldCgkX1NFUlZFUlsnUkVRVUVTVF9VUkknXSkgPyAnIHwgJy4kX1NFUlZFUlsnUkVRVUVTVF9VUkkn'));
	@fwrite($fp, base64_decode('XSA6ICcnOwoJCQlmaWxlX3B1dF9jb250ZW50cygkcXVlcnlfbG9nZmlsZSwgIiR0cyA8JGxvZ19zZXNzaW9uX2lkJGZpbGU+ICRzcWxcbiIsIEZJTEVfQVBQRU5EKTsKCQl9CgoJCS8vIFRPRE86IGRlYnVnZ2luZyBvcHRpb24gKGNvbmZpZ3VyYWJsZSkgInF1ZXJ5'));
	@fwrite($fp, base64_decode('IGxvZyIgKGluY2x1ZGluZyB0aW1lc3RhbXAgYW5kIGEgInNlc3Npb24gaWRlbnRpZmllciIgdG8gc2VlIHdoaWNoIGNhbGwgdGhlIHF1ZXJpZXMgYmVsb25nIHRvKQoJCSR0aGlzLT5sYXN0X3F1ZXJ5ID0gJHNxbDsKCQkkc3FsID0gc3RyX3JlcGxhY2UoJyMjIycs'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1RBQkxFTkFNRV9QUkVGSVgnLCAnJyksICRzcWwpOwoJCXJldHVybiAkdGhpcy0+ZG9RdWVyeSgkc3FsLCAkcHJlcGFyZWRfYXJncyk7Cgl9CgoJcHVibGljIGZpbmFsIGZ1bmN0aW9uIGNvbm5lY3QoKTog'));
	@fwrite($fp, base64_decode('dm9pZCB7CgkJaWYgKCR0aGlzLT5jb25uZWN0ZWQpIHJldHVybjsKCQkkdGhpcy0+YmVmb3JlQ29ubmVjdCgpOwoJCSR0aGlzLT5kb0Nvbm5lY3QoKTsKCQkkdGhpcy0+Y29ubmVjdGVkID0gdHJ1ZTsKCQlyZWdpc3Rlcl9zaHV0ZG93bl9mdW5jdGlvbihhcnJheSgk'));
	@fwrite($fp, base64_decode('dGhpcywgJ2Rpc2Nvbm5lY3QnKSk7CgkJJHRoaXMtPmFmdGVyQ29ubmVjdCgpOwoJfQoKCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBkaXNjb25uZWN0KCk6IHZvaWQgewoJCWlmICghJHRoaXMtPmNvbm5lY3RlZCkgcmV0dXJuOwoJCSR0aGlzLT5iZWZvcmVEaXNjb25u'));
	@fwrite($fp, base64_decode('ZWN0KCk7CgkJJHRoaXMtPmRvRGlzY29ubmVjdCgpOwoJCSR0aGlzLT5jb25uZWN0ZWQgPSBmYWxzZTsKCQkkdGhpcy0+YWZ0ZXJEaXNjb25uZWN0KCk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG5hdE9yZGVyKCRmaWVsZG5hbWUsICRvcmRlcj0nYXNjJyk6IHN0cmlu'));
	@fwrite($fp, base64_decode('ZyB7CgoJCSRvcmRlciA9IHN0cnRvbG93ZXIoJG9yZGVyKTsKCQlpZiAoKCRvcmRlciAhPSAnYXNjJykgJiYgKCRvcmRlciAhPSAnZGVzYycpKSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJJbnZhbGlkIG9yZGVyICckb3JkZXInIChuZWVkcyB0byBi'));
	@fwrite($fp, base64_decode('ZSAnYXNjJyBvciAnZGVzYycpIik7CgkJfQoKCQkkb3V0ID0gYXJyYXkoKTsKCgkJaWYgKCR0aGlzLT5zbGFuZygpID09ICdwZ3NxbCcpIHsKCQkJJG1heF9hcmNfbGVuID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfQVJD'));
	@fwrite($fp, base64_decode('X1NJWkUnKSA+IDEzMTA3MiA/IDEzMTA3MiA6IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0xJTUlUU19NQVhfT0lEX0FSQ19TSVpFJyk7IC8vIExpbWl0IG9mIHRoZSAibnVtZXJpYygpIiB0eXBlCgoJCQkvLyAxLiBTb3J0IGJ5IG5hbWVzcGFjZSAo'));
	@fwrite($fp, base64_decode('b2lkLCBndWlkLCAuLi4pCgkJCSRvdXRbXSA9ICJTUExJVF9QQVJUKCRmaWVsZG5hbWUsICc6JywgMSkgJG9yZGVyIjsKCgkJCS8vIDIuIE9ubHkgaWYgbmFtZXNwYWNlIGlzICdvaWQ6JzogU29ydCBPSUQgYXMgaW50ZWdlciBhcnJheQoJCQkkb3V0W10gPSAiU1RS'));
	@fwrite($fp, base64_decode('SU5HX1RPX0FSUkFZKFNQTElUX1BBUlQoJGZpZWxkbmFtZSwgJ29pZDonLCAyKSwgJy4nKTo6bnVtZXJpYygkbWF4X2FyY19sZW4pW10gJG9yZGVyIjsKCgkJCS8vIDMuIE90aGVyd2lzZSBvcmRlciBieSBJRAoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIi'));
	@fwrite($fp, base64_decode('OwoKCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdteXNxbCcpIHsKCQkJJG1heF9hcmNfbGVuID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfQVJDX1NJWkUnKSA+IDY1ID8gNjUgOiBPSURwbHVzOjpiYXNlQ29u'));
	@fwrite($fp, base64_decode('ZmlnKCktPmdldFZhbHVlKCdMSU1JVFNfTUFYX09JRF9BUkNfU0laRScpOyAvLyBMaW1pdCBvZiAiZGVjaW1hbCgpIiB0eXBlCgoJCQkvLyAxLiBzb3J0IGJ5IG5hbWVzcGFjZSAob2lkLCBndWlkLCAuLi4pCgkJCSRvdXRbXSA9ICJTVUJTVFJJTkdfSU5ERVgoJGZp'));
	@fwrite($fp, base64_decode('ZWxkbmFtZSwnOicsMSkgJG9yZGVyIjsKCgkJCS8vIDIuIHNvcnQgYnkgZmlyc3QgYXJjICgwLDEsMikKCQkJJG91dFtdID0gIlNVQlNUUklORyhTVUJTVFJJTkdfSU5ERVgoJGZpZWxkbmFtZSwnLicsMSksIExFTkdUSChTVUJTVFJJTkdfSU5ERVgoJGZpZWxkbmFt'));
	@fwrite($fp, base64_decode('ZSwnOicsMSkpKzIsICRtYXhfYXJjX2xlbikgJG9yZGVyIjsKCgkJCWZvciAoJGk9MjsgJGk8PU9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0xJTUlUU19NQVhfT0lEX0RFUFRIJyk7ICRpKyspIHsKCQkJCS8vIDMuIFNvcnQgYnkgdGhlIHJlc3QgYXJj'));
	@fwrite($fp, base64_decode('cyBvbmUgYnkgb25lLCBub3QgdGhhdCBNeVNRTCBjYW4gb25seSBoYW5kbGUgZGVjaW1hbCg2NSksIG5vdCBkZWNpbWFsKCRtYXhfYXJjX2xlbikKCQkJCSRvdXRbXSA9ICJjYXN0KFNVQlNUUklORyhTVUJTVFJJTkdfSU5ERVgoJGZpZWxkbmFtZSwnLicsJGkpLCBM'));
	@fwrite($fp, base64_decode('RU5HVEgoU1VCU1RSSU5HX0lOREVYKCRmaWVsZG5hbWUsJy4nLCIuKCRpLTEpLiIpKSsyLCAkbWF4X2FyY19sZW4pIGFzIGRlY2ltYWwoJG1heF9hcmNfbGVuKSkgJG9yZGVyIjsKCQkJfQoKCQkJLy8gNC4gYXMgbGFzdCByZXNvcnQsIHNvcnQgYnkgdGhlIGlkZW50'));
	@fwrite($fp, base64_decode('aWZpZXIgaXRzZWxmLCBlLmcuIGlmIHRoZSBjYXN0cyBhYm92ZSBkaWQgZmFpbCAoaGFwcGVucyBpZiBpdCBpcyBub3QgYW4gT0lEKQoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoKCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdtc3NxbCcp'));
	@fwrite($fp, base64_decode('IHsKCQkJJG1heF9hcmNfbGVuID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfQVJDX1NJWkUnKTsKCgkJCS8vIDEuIHNvcnQgYnkgbmFtZXNwYWNlIChvaWQsIGd1aWQsIC4uLikKCQkJJG91dFtdID0gIlNVQlNUUklORygk'));
	@fwrite($fp, base64_decode('ZmllbGRuYW1lLDEsQ0hBUklOREVYKCc6JywkZmllbGRuYW1lKS0xKSAkb3JkZXIiOwoKCQkJZm9yICgkaT0xOyAkaTw9T0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTElNSVRTX01BWF9PSURfREVQVEgnKTsgJGkrKykgewoJCQkJLy8gMi4gU29ydCBi'));
	@fwrite($fp, base64_decode('eSB0aGUgcmVzdCBhcmNzIG9uZSBieSBvbmU7IG5vdGUgdGhhdCBNeVNRTCBjYW4gb25seSBoYW5kbGUgZGVjaW1hbCg2NSksIG5vdCBkZWNpbWFsKCRtYXhfYXJjX2xlbikKCQkJCSRvdXRbXSA9ICJkYm8uZ2V0T2lkQXJjKCRmaWVsZG5hbWUsICRtYXhfYXJjX2xl'));
	@fwrite($fp, base64_decode('biwgJGkpICRvcmRlciI7CgkJCX0KCgkJCS8vIDMuIGFzIGxhc3QgcmVzb3J0LCBzb3J0IGJ5IHRoZSBpZGVudGlmaWVyIGl0c2VsZiwgZS5nLiBpZiB0aGUgZnVuY3Rpb24gZ2V0T2lkQXJjIGFsd2F5cyByZXR1cm4gMCAoaGFwcGVucyBpZiBpdCBpcyBub3QgYW4g'));
	@fwrite($fp, base64_decode('T0lEKQoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoKCQl9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdzcWxpdGUnKSB7CgoJCQkvLyBJZiB0aGUgU1FMaXRlIGRhdGFiYXNlIGlzIGFjY2Vzc2VkIHRocm91Z2ggdGhlIFNRTGl0ZTMgcGx1Z2lu'));
	@fwrite($fp, base64_decode('LAoJCQkvLyB3ZSB1c2UgYW4gaW5kaXZpZHVhbCBjb2xsYXRpb24sIHRoZXJlZm9yZSBPSURwbHVzRGF0YWJhc2VQbHVnaW5TUUxpdGUzIG92ZXJyaWRlcwoJCQkvLyBuYXRPcmRlcigpLgoJCQkvLyBJZiB3ZSBjb25uZWN0ZWQgdG8gU1FMaXRlIHVzaW5nIE9EQkMg'));
	@fwrite($fp, base64_decode('b3IgUERPLCB3ZSBuZWVkIHRvIGRvIHNvbWV0aGluZyBlbHNlLAoJCQkvLyBidXQgdGhhdCBzb2x1dGlvbiBpcyBjb21wbGV4LCBzbG93IGFuZCB3cm9uZyAoc2luY2UgaXQgZG9lcyBub3Qgc3VwcG9ydAoJCQkvLyBVVUlEcyBldGMuKQoKCQkJJG1heF9kZXB0aCA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0xJTUlUU19NQVhfT0lEX0RFUFRIJyk7CgkJCWlmICgkbWF4X2RlcHRoID4gMTEpICRtYXhfZGVwdGggPSAxMTsgLy8gU1FMaXRlMyB3aWxsIGNyYXNoIGlmIG1heCBkZXB0aCA+IDExIChwYXJzZXIgc3Rh'));
	@fwrite($fp, base64_decode('Y2sgb3ZlcmZsb3cpOyAoVE9ETzogY2FuIHdlIGRvIHNvbWV0aGluZyBlbHNlPyE/ISkKCgkJCS8vIDEuIHNvcnQgYnkgbmFtZXNwYWNlIChvaWQsIGd1aWQsIC4uLikKCQkJJG91dFtdID0gInN1YnN0cigkZmllbGRuYW1lLDAsaW5zdHIoJGZpZWxkbmFtZSwnOicp'));
	@fwrite($fp, base64_decode('KSAkb3JkZXIiOwoKCQkJLy8gMi4gU29ydCBieSB0aGUgcmVzdCBhcmNzIG9uZSBieSBvbmUKCQkJZm9yICgkaT0xOyAkaTw9JG1heF9kZXB0aDsgJGkrKykgewoJCQkJaWYgKCRpPT0xKSB7CgkJCQkJJGFyYyA9ICJzdWJzdHIoJGZpZWxkbmFtZSw1KXx8Jy4nIjsK'));
	@fwrite($fp, base64_decode('CQkJCQkkZmllbGRuYW1lID0gJGFyYzsKCQkJCQkkYXJjID0gInN1YnN0cigkYXJjLDAsaW5zdHIoJGFyYywnLicpKSI7CgkJCQkJJG91dFtdID0gImNhc3QoJGFyYyBhcyBpbnRlZ2VyKSAkb3JkZXIiOwoJCQkJfSBlbHNlIHsKCQkJCQkkYXJjID0gImx0cmltKGx0'));
	@fwrite($fp, base64_decode('cmltKCRmaWVsZG5hbWUsJzAxMjM0NTY3ODknKSwnLicpIjsKCQkJCQkkZmllbGRuYW1lID0gJGFyYzsKCQkJCQkkYXJjID0gInN1YnN0cigkYXJjLDAsaW5zdHIoJGFyYywnLicpKSI7CgkJCQkJJG91dFtdID0gImNhc3QoJGFyYyBhcyBpbnRlZ2VyKSAgJG9yZGVy'));
	@fwrite($fp, base64_decode('IjsKCQkJCX0KCQkJfQoKCQkJLy8gMy4gYXMgbGFzdCByZXNvcnQsIHNvcnQgYnkgdGhlIGlkZW50aWZpZXIgaXRzZWxmLCBlLmcuIGlmIHRoZSBmdW5jdGlvbiBnZXRPaWRBcmMgYWx3YXlzIHJldHVybiAwIChoYXBwZW5zIGlmIGl0IGlzIG5vdCBhbiBPSUQpCgkJ'));
	@fwrite($fp, base64_decode('CSRvdXRbXSA9ICIkZmllbGRuYW1lICRvcmRlciI7CgoJCX0gZWxzZSB7CgoJCQkvLyBGb3IgKHlldCkgdW5zdXBwb3J0ZWQgREJNUywgd2UgZG8gbm90IG9mZmVyIG5hdHVyYWwgc29ydAoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoKCQl9CgoJCXJl'));
	@fwrite($fp, base64_decode('dHVybiBpbXBsb2RlKCcsICcsICRvdXQpOwoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBiZWZvcmVEaXNjb25uZWN0KCk6IHZvaWQge30KCglwcm90ZWN0ZWQgZnVuY3Rpb24gYWZ0ZXJEaXNjb25uZWN0KCk6IHZvaWQge30KCglwcm90ZWN0ZWQgZnVuY3Rpb24gYmVm'));
	@fwrite($fp, base64_decode('b3JlQ29ubmVjdCgpOiB2b2lkIHt9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGFmdGVyQ29ubmVjdCgpOiB2b2lkIHsKCQkvLyBDaGVjayBpZiB0aGUgY29uZmlnIHRhYmxlIGV4aXN0cy4gVGhpcyBpcyBpbXBvcnRhbnQgYmVjYXVzZSB0aGUgZGF0YWJhc2UgdmVyc2lv'));
	@fwrite($fp, base64_decode('biBpcyBzdG9yZWQgaW4gaXQKCQkkdGhpcy0+aW5pdFJlcXVpcmVUYWJsZXMoYXJyYXkoJ2NvbmZpZycpKTsKCgkJLy8gRG8gdGhlIGRhdGFiYXNlIHRhYmxlcyBuZWVkIGFuIHVwZGF0ZT8KCQkvLyBJdCBpcyBpbXBvcnRhbnQgdGhhdCB3ZSBkbyBpdCBpbW1lZGlh'));
	@fwrite($fp, base64_decode('dGVseSBhZnRlciBjb25uZWN0aW5nLAoJCS8vIGJlY2F1c2UgdGhlIGRhdGFiYXNlIHN0cnVjdHVyZSBtaWdodCBjaGFuZ2UgYW5kIHRoZXJlZm9yZSB2YXJpb3VzIHRoaW5ncyBtaWdodCBmYWlsLgoJCS8vIE5vdGU6IFRoZSBjb25maWcgc2V0dGluZyAiZGF0YWJh'));
	@fwrite($fp, base64_decode('c2VfdmVyc2lvbiIgaXMgaW5zZXJ0ZWQgaW4gc2V0dXAvc3FsLy4uLnNxbCwgbm90IGluIHRoZSBPSURwbHVzIGNvcmUgaW5pdAoKCQkkcmVzID0gJHRoaXMtPnF1ZXJ5KCJTRUxFQ1QgdmFsdWUgRlJPTSAjIyNjb25maWcgV0hFUkUgbmFtZSA9ICdkYXRhYmFzZV92'));
	@fwrite($fp, base64_decode('ZXJzaW9uJyIpOwoJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCWlmICgkcm93ID09IG51bGwpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignQ2Fubm90IGRldGVybWluZSBkYXRhYmFzZSB2ZXJzaW9uICh0'));
	@fwrite($fp, base64_decode('aGUgZW50cnkgImRhdGFiYXNlX3ZlcnNpb24iIGluc2lkZSB0aGUgdGFibGUgIiMjI2NvbmZpZyIgaXMgcHJvYmFibHkgbWlzc2luZyknKTsKCQl9CgkJJHZlcnNpb24gPSAkcm93Wyd2YWx1ZSddOwoJCWlmICghaXNfbnVtZXJpYygkdmVyc2lvbikgfHwgKCR2ZXJz'));
	@fwrite($fp, base64_decode('aW9uIDwgMjAwKSB8fCAoJHZlcnNpb24gPiA5OTkpKSB7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0VudHJ5ICJkYXRhYmFzZV92ZXJzaW9uIiBpbnNpZGUgdGhlIHRhYmxlICIjIyNjb25maWciIHNlZW1zIHRvIGJl'));
	@fwrite($fp, base64_decode('IHdyb25nIChleHBlY3QgbnVtYmVyIGJldHdlZW4gMjAwIGFuZCA5OTkpJyk7CgkJfQoJCXdoaWxlIChmaWxlX2V4aXN0cygkZmlsZSA9IF9fRElSX18uIi8uLi9kYl91cGRhdGVzL3VwZGF0ZSR2ZXJzaW9uLmluYy5waHAiKSkgewoJCQkkcHJldl92ZXJzaW9uID0g'));
	@fwrite($fp, base64_decode('JHZlcnNpb247CgkJCWluY2x1ZGUgJGZpbGU7IC8vIHJ1biB1cGRhdGUtc2NyaXB0CgkJCWlmICgkdmVyc2lvbiAhPSAkcHJldl92ZXJzaW9uKzEpIHsKCQkJCS8vIFRoaXMgc2hvdWxkIHVzdWFsbHkgbm90IGhhcHBlbiwgc2luY2UgdGhlIHVwZGF0ZS1maWxlIHNo'));
	@fwrite($fp, base64_decode('b3VsZCBpbmNyZWFzZSB0aGUgdmVyc2lvbgoJCQkJLy8gb3IgdGhyb3cgYW4gRXhjZXB0aW9uIGJ5IGl0c2VsZgoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIkRhdGFiYXNlIHVwZGF0ZSAkcHJldl92ZXJzaW9uIC0+ICIuKCRwcmV2X3ZlcnNpb24rMSku'));
	@fwrite($fp, base64_decode('IiBmYWlsZWQgKHNjcmlwdCByZXBvcnRzIG5ldyB2ZXJzaW9uIHRvIGJlICR2ZXJzaW9uKSIpOwoJCQl9CgkJfQoKCQkvLyBOb3cgdGhhdCBvdXIgZGF0YWJhc2UgaXMgdXAtdG8tZGF0ZSwgd2UgY2hlY2sgaWYgZGF0YWJhc2UgdGFibGVzIGFyZSBleGlzdGluZwoJ'));
	@fwrite($fp, base64_decode('CS8vIHdpdGhvdXQgY29uZmlnIHRhYmxlLCBiZWNhdXNlIGl0IHdhcyBjaGVja2VkIGFib3ZlCgkJJHRoaXMtPmluaXRSZXF1aXJlVGFibGVzKGFycmF5KCdvYmplY3RzJywgJ2FzbjFpZCcsICdpcmknLCAncmEnLyosICdjb25maWcnKi8pKTsKCX0KCglwcml2YXRl'));
	@fwrite($fp, base64_decode('IGZ1bmN0aW9uIGluaXRSZXF1aXJlVGFibGVzKCR0YWJsZU5hbWVzKSB7CgkJJG1zZ3MgPSBhcnJheSgpOwoJCWZvcmVhY2ggKCR0YWJsZU5hbWVzIGFzICR0YWJsZU5hbWUpIHsKCQkJJHByZWZpeCA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1RB'));
	@fwrite($fp, base64_decode('QkxFTkFNRV9QUkVGSVgnLCAnJyk7CgkJCWlmICghJHRoaXMtPnRhYmxlRXhpc3RzKCRwcmVmaXguJHRhYmxlTmFtZSkpIHsKCQkJCSRtc2dzW10gPSAnVGFibGUgJy4kcHJlZml4LiR0YWJsZU5hbWUuJyBpcyBtaXNzaW5nISc7CgkJCX0KCQl9CgkJaWYgKGNvdW50'));
	@fwrite($fp, base64_decode('KCRtc2dzKSA+IDApIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbihpbXBsb2RlKCJcblxuIiwkbXNncykpOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gdGFibGVFeGlzdHMoJHRhYmxlTmFtZSkgewoJCXRyeSB7CgkJ'));
	@fwrite($fp, base64_decode('CSR0aGlzLT5xdWVyeSgic2VsZWN0IDAgZnJvbSAiLiR0YWJsZU5hbWUuIiB3aGVyZSAxPTAiKTsKCQkJcmV0dXJuIHRydWU7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzQ29ubmVj'));
	@fwrite($fp, base64_decode('dGVkKCk6IGJvb2wgewoJCXJldHVybiAkdGhpcy0+Y29ubmVjdGVkOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpbml0KCRodG1sID0gdHJ1ZSk6IHZvaWQgewoJCSR0aGlzLT5odG1sID0gJGh0bWw7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNxbERhdGUoKTogc3RyaW5n'));
	@fwrite($fp, base64_decode('IHsKCQlzd2l0Y2ggKCR0aGlzLT5zbGFuZygpKSB7CgkJCWNhc2UgJ215c3FsJzoKCQkJCXJldHVybiAnbm93KCknOwoJCQljYXNlICdtc3NxbCc6CgkJCQlyZXR1cm4gJ2dldGRhdGUoKSc7CgkJCWNhc2UgJ3Bnc3FsJzoKCQkJCXJldHVybiAnbm93KCknOwoJCQlj'));
	@fwrite($fp, base64_decode('YXNlICdzcWxpdGUnOgoJCQkJcmV0dXJuICdkYXRldGltZSgpJzsKCQkJZGVmYXVsdDoKCQkJCXJldHVybiAiJyIgLiBkYXRldGltZSgnWS1tLWQgSDppOnMnKSAuICInIjsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNsYW5nKCk6IHN0cmluZyB7CgkJaWYgKE9J'));
	@fwrite($fp, base64_decode('RHBsdXM6OmJhc2VDb25maWcoKS0+ZXhpc3RzKCdGT1JDRV9EQk1TX1NMQU5HJykpIHsKCQkJcmV0dXJuIE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ0ZPUkNFX0RCTVNfU0xBTkcnLCAnJyk7CgkJfQoKCQlzdGF0aWMgJGNhY2hlX3NsYW5nID0gIiI7'));
	@fwrite($fp, base64_decode('CgoJCWlmICghZW1wdHkoJGNhY2hlX3NsYW5nKSkgewoJCQlyZXR1cm4gJGNhY2hlX3NsYW5nOwoJCX0gZWxzZSB7CgkJCXRyeSB7CgkJCQkvLyBNeVNRTCwgTWFyaWFEQiBhbmQgUG9zdGdyZVNRTAoJCQkJJHZlcnMgPSAkdGhpcy0+cXVlcnkoInNlbGVjdCB2ZXJz'));
	@fwrite($fp, base64_decode('aW9uKCkgYXMgZGJtc192ZXJzaW9uIiktPmZldGNoX29iamVjdCgpLT5kYm1zX3ZlcnNpb247CgkJCQkkdmVycyA9IHN0cnRvbG93ZXIoJHZlcnMpOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJCXRyeSB7CgkJCQkJLy8gTWljcm9zb2Z0IFNRTCBTZXJ2'));
	@fwrite($fp, base64_decode('ZXIKCQkJCQkkdmVycyA9ICR0aGlzLT5xdWVyeSgic2VsZWN0IEBAdmVyc2lvbiBhcyBkYm1zX3ZlcnNpb24iKS0+ZmV0Y2hfb2JqZWN0KCktPmRibXNfdmVyc2lvbjsKCQkJCQkkdmVycyA9IHN0cnRvbG93ZXIoJHZlcnMpOwoJCQkJfSBjYXRjaCAoRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('ICRlKSB7CgoJCQkJCXRyeSB7CgkJCQkJCS8vIFNRTGl0ZQoJCQkJCQkkdGhpcy0+cXVlcnkoInNlbGVjdCBzcWxpdGVfdmVyc2lvbiBhcyBkYm1zX3ZlcnNpb24iKS0+ZmV0Y2hfb2JqZWN0KCktPmRibXNfdmVyc2lvbjsKCQkJCQkJJHZlcnMgPSAic3FsaXRlICR2'));
	@fwrite($fp, base64_decode('ZXJzIjsKCgkJCQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgoJCQkJCQkvLyBEb24ndCBrbm93Li4uCgkJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJDYW5ub3QgZGV0ZXJtaW5lIHRoZSBzbGFuZyBvZiB5b3VyIERCTVMgKGZ1bmN0aW9uICd2ZXJz'));
	@fwrite($fp, base64_decode('aW9uKCknIGNvdWxkIG5vdCBiZSBjYWxsZWQpLiBZb3VyIERCTVMgaXMgcHJvYmFibHkgbm90IHN1cHBvcnRlZC4iKTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCSRzbGFuZyA9IG51bGw7CgkJCWlmIChzdHJwb3MoJHZlcnMsICdwb3N0Z3Jlc3FsJykgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICE9PSBmYWxzZSkgJHNsYW5nID0gJ3Bnc3FsJzsKCQkJaWYgKHN0cnBvcygkdmVycywgJ215c3FsJykgICAgICAgICAgICAgICAgIT09IGZhbHNlKSAkc2xhbmcgPSAnbXlzcWwnOwoJCQlpZiAoc3RycG9zKCR2ZXJzLCAnbWFyaWFkYicpICAgICAgICAgICAgICAh'));
	@fwrite($fp, base64_decode('PT0gZmFsc2UpICRzbGFuZyA9ICdteXNxbCc7CgkJCWlmIChzdHJwb3MoJHZlcnMsICdtaWNyb3NvZnQgc3FsIHNlcnZlcicpICE9PSBmYWxzZSkgJHNsYW5nID0gJ21zc3FsJzsKCQkJaWYgKHN0cnBvcygkdmVycywgJ3NxbGl0ZScpICAgICAgICAgICAgICAgIT09'));
	@fwrite($fp, base64_decode('IGZhbHNlKSAkc2xhbmcgPSAnc3FsaXRlJzsKCQkJaWYgKCFpc19udWxsKCRzbGFuZykpIHsKCQkJCSRjYWNoZV9zbGFuZyA9ICRzbGFuZzsKCQkJCXJldHVybiAkc2xhbmc7CgkJCX0gZWxzZSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiQ2Fubm90'));
	@fwrite($fp, base64_decode('IGRldGVybWluZSB0aGUgc2xhbmcgb2YgeW91ciBEQk1TICh3ZSBkb24ndCBrbm93IHdoYXQgdG8gZG8gd2l0aCB0aGUgREJNUyAnJHZlcnMnKS4gWW91ciBEQk1TIGlzIHByb2JhYmx5IG5vdCBzdXBwb3J0ZWQuIik7CgkJCX0KCQl9Cgl9Cn0KCg=='));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusDatabasePlugin.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusDatabasePlugin.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplusDatabasePlugin.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusDatabasePlugin.class.php');
	} else if (sha1_file('includes/classes/OIDplusDatabasePlugin.class.php') != '942c325b32afe3ca7157bbd27c30b5d31aa71482') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusDatabasePlugin.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusDatabasePlugin.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusDatabasePlugin.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusDatabasePlugin.class.php') !== '942c325b32afe3ca7157bbd27c30b5d31aa71482') {
		if (@sha1_file('includes/classes/OIDplusDatabasePlugin.class.php') !== 'd6cefdbd11ed323314cd003d20d567a628d4e782') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusDatabasePlugin.class.php');
			$tmp = pathinfo('includes/classes/OIDplusDatabasePlugin.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusDatabasePlugin.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusDatabasePlugin.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplusDatabasePlugin.class.php') !== '942c325b32afe3ca7157bbd27c30b5d31aa71482') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusDatabasePlugin.class.php');
		}
	}
}

// Files different: plugins/database/mysqli/plugin.inc.php
function writefile_3() {
	@$fp = fopen('plugins/database/mysqli/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbk15U1FMaSBleHRlbmRzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbiB7Cglwcml2YXRlICRj'));
	@fwrite($fp, base64_decode('b25uID0gbnVsbDsgLy8gb25seSB3aXRoIE15U1FMbmQKCXByaXZhdGUgJHByZXBhcmVfY2FjaGUgPSBhcnJheSgpOwoJcHJpdmF0ZSAkbGFzdF9lcnJvciA9IG51bGw7IC8vIHdlIG5lZWQgdGhhdCBiZWNhdXNlIE15U1FMIGRpdmlkZXMgcHJlcGFyZWQgc3RhdGVt'));
	@fwrite($fp, base64_decode('ZW50IGVycm9ycyBhbmQgbm9ybWFsIHF1ZXJ5IGVycm9ycywgYnV0IHdlIGhhdmUgb25seSBvbmUgImVycm9yKCkiIG1ldGhvZAoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGx1Z2luSW5mb3JtYXRpb24oKTogYXJyYXkgewoJCSRvdXQgPSBhcnJheSgpOwoJ'));
	@fwrite($fp, base64_decode('CSRvdXRbJ25hbWUnXSA9ICdNeVNRTGknOwoJCSRvdXRbJ2F1dGhvciddID0gJ1ZpYVRoaW5rU29mdCc7CgkJJG91dFsndmVyc2lvbiddID0gbnVsbDsKCQkkb3V0WydkZXNjcmlwdGlvbkhUTUwnXSA9IG51bGw7CgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIHN0'));
	@fwrite($fp, base64_decode('YXRpYyBmdW5jdGlvbiBuYW1lKCk6IHN0cmluZyB7CgkJcmV0dXJuICJNeVNRTCI7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGRvUXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkJJHRo'));
	@fwrite($fp, base64_decode('aXMtPmxhc3RfZXJyb3IgPSBudWxsOwoJCWlmIChpc19udWxsKCRwcmVwYXJlZF9hcmdzKSkgewoJCQkkcmVzID0gJHRoaXMtPmNvbm4tPnF1ZXJ5KCRzcWwsIE1ZU1FMSV9TVE9SRV9SRVNVTFQpOwoKCQkJaWYgKCRyZXMgPT09IGZhbHNlKSB7CgkJCQkkdGhpcy0+'));
	@fwrite($fp, base64_decode('bGFzdF9lcnJvciA9ICR0aGlzLT5jb25uLT5lcnJvcjsKCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICR0aGlzLT5lcnJvcigpKTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBuZXcgT0lEcGx1c1F1ZXJ5UmVzdWx0TXlTUUwoJHJlcyk7CgkJ'));
	@fwrite($fp, base64_decode('CX0KCQl9IGVsc2UgewoJCQlpZiAoIWlzX2FycmF5KCRwcmVwYXJlZF9hcmdzKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIidwcmVwYXJlZF9hcmdzJyBtdXN0IGJlIGVpdGhlciBOVUxMIG9yIGFuIEFSUkFZLiIpOwoJCQl9CgoJCQlmb3JlYWNo'));
	@fwrite($fp, base64_decode('ICgkcHJlcGFyZWRfYXJncyBhcyAmJHZhbHVlKSB7CgkJCQkvLyBNeVNRTGkgaGFzIHByb2JsZW1zIGNvbnZlcnRpbmcgInRydWUvZmFsc2UiIHRvIHRoZSBkYXRhIHR5cGUgInRpbnlpbnQoMSkiCgkJCQkvLyBJdCBzZWVtcyB0byBiZSB0aGUgc2FtZSBpc3N1ZSBs'));
	@fwrite($fp, base64_decode('aWtlIGluIFBETyByZXBvcnRlZCAxNCB5ZWFycyBhZ28gYXQgaHR0cHM6Ly9idWdzLnBocC5uZXQvYnVnLnBocD9pZD01NzE1NwoJCQkJaWYgKGlzX2Jvb2woJHZhbHVlKSkgJHZhbHVlID0gJHZhbHVlID8gJzEnIDogJzAnOwoJCQl9CgoJCQlpZiAoaXNzZXQoJHRo'));
	@fwrite($fp, base64_decode('aXMtPnByZXBhcmVfY2FjaGVbJHNxbF0pKSB7CgkJCQkkcHMgPSAkdGhpcy0+cHJlcGFyZV9jYWNoZVskc3FsXTsKCQkJfSBlbHNlIHsKCQkJCSRwcyA9ICR0aGlzLT5jb25uLT5wcmVwYXJlKCRzcWwpOwoJCQkJaWYgKCEkcHMpIHsKCQkJCQkkdGhpcy0+bGFzdF9l'));
	@fwrite($fp, base64_decode('cnJvciA9ICR0aGlzLT5jb25uLT5lcnJvcjsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAnQ2Fubm90IHByZXBhcmUgc3RhdGVtZW50OiAnLiR0aGlzLT5lcnJvcigpKTsKCQkJCX0KCgkJCQkvLyBDYWNoaW5nIHRoZSBwcmVwYXJlZCBp'));
	@fwrite($fp, base64_decode('cyB2ZXJ5IHJpc2t5CgkJCQkvLyBJbiBQRE8gYW5kIE9EQkMgd2UgbWF5IG5vdCBkbyBpdCwgYmVjYXVzZSBleGVjdXRlKCkgd2lsbAoJCQkJLy8gZGVzdHJveSB0aGUgZXhpc3RpbmcgY3Vyc29ycy4KCQkJCS8vICh0ZXN0IHRoaXMgd2l0aCAuLz9nb3RvPW9pZCUz'));
	@fwrite($fp, base64_decode('QTEuMy42LjEuNC4xLjM3NTUzLjguMzI0ODgxOTIyNzQKCQkJCS8vIHlvdSB3aWxsIHNlZSB0aGF0IDIuOTk5IGlzIG1pc3NpbmcgaW4gdGhlIHRyZWUpCgkJCQkvLyBCdXQgJHBzLT5nZXRfcmVzdWx0KCkgc2VlbXMgdG8gImNsb25lIiB0aGUgY3Vyc29yLAoJCQkJ'));
	@fwrite($fp, base64_decode('Ly8gc28gdGhhdCAkcHMtPmV4ZWN1dGUgbWF5IGJlIGNhbGxlZCBhIHNlY29uZCB0aW1lPyEKCQkJCS8vIEhvd2V2ZXIsIGl0IG9ubHkgd29ya3Mgd2l0aCBteXNxbG5kJ3MgZ2V0X3Jlc3VsdCwKCQkJCS8vIG5vdCB3aXRoIE9JRHBsdXNRdWVyeVJlc3VsdE15U1FM'));
	@fwrite($fp, base64_decode('Tm9OYXRpdmVEcml2ZXIKCQkJCWlmIChzZWxmOjpuYXRpdmVEcml2ZXJBdmFpbGFibGUoKSkgewoJCQkJCSR0aGlzLT5wcmVwYXJlX2NhY2hlWyRzcWxdID0gJHBzOwoJCQkJfQoJCQl9CgoJCQlzZWxmOjpiaW5kX3BsYWNlaG9sZGVyX3ZhcnMoJHBzLCRwcmVwYXJl'));
	@fwrite($fp, base64_decode('ZF9hcmdzKTsKCQkJaWYgKCEkcHMtPmV4ZWN1dGUoKSkgewoJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSBteXNxbGlfc3RtdF9lcnJvcigkcHMpOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJCQl9CgoJCQlp'));
	@fwrite($fp, base64_decode('ZiAoc2VsZjo6bmF0aXZlRHJpdmVyQXZhaWxhYmxlKCkpIHsKCQkJCXJldHVybiBuZXcgT0lEcGx1c1F1ZXJ5UmVzdWx0TXlTUUwoJHBzLT5nZXRfcmVzdWx0KCkpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRNeVNRTE5vTmF0'));
	@fwrite($fp, base64_decode('aXZlRHJpdmVyKCRwcyk7CgkJCX0KCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGluc2VydF9pZCgpOiBpbnQgewoJCXJldHVybiAkdGhpcy0+Y29ubi0+aW5zZXJ0X2lkOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBlcnJvcigpOiBzdHJpbmcgewoJCSRlcnIgPSAkdGhp'));
	@fwrite($fp, base64_decode('cy0+bGFzdF9lcnJvcjsKCQlpZiAoJGVyciA9PSBudWxsKSAkZXJyID0gJyc7CgkJcmV0dXJuICRlcnI7Cgl9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGRvQ29ubmVjdCgpOiB2b2lkIHsKCQlpZiAoIWZ1bmN0aW9uX2V4aXN0cygnbXlzcWxpX2Nvbm5lY3QnKSkgdGhy'));
	@fwrite($fp, base64_decode('b3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oJ1BIUCBleHRlbnNpb24gIk15U1FMaSIgbm90IGluc3RhbGxlZCcpOwoKCQkvLyBUcnkgY29ubmVjdGluZyB0byB0aGUgZGF0YWJhc2UKCQkkaG9zdCAgICAgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdN'));
	@fwrite($fp, base64_decode('WVNRTF9IT1NUJywgICAgICdsb2NhbGhvc3QnKTsKCQkkdXNlcm5hbWUgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdNWVNRTF9VU0VSTkFNRScsICdyb290Jyk7CgkJJHBhc3N3b3JkID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgn'));
	@fwrite($fp, base64_decode('TVlTUUxfUEFTU1dPUkQnLCAnJyk7CgkJJGRhdGFiYXNlID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnTVlTUUxfREFUQUJBU0UnLCAnb2lkcGx1cycpOwoJCWxpc3QoJGhvc3RuYW1lLCRwb3J0KSA9IGV4cGxvZGUoJzonLCAkaG9zdC4nOicuaW5p'));
	@fwrite($fp, base64_decode('X2dldCgibXlzcWxpLmRlZmF1bHRfcG9ydCIpKTsKCQkkdGhpcy0+Y29ubiA9IEBuZXcgbXlzcWxpKCRob3N0bmFtZSwgJHVzZXJuYW1lLCAkcGFzc3dvcmQsICRkYXRhYmFzZSwgJHBvcnQpOwoJCWlmICghZW1wdHkoJHRoaXMtPmNvbm4tPmNvbm5lY3RfZXJyb3Ip'));
	@fwrite($fp, base64_decode('IHx8ICgkdGhpcy0+Y29ubi0+Y29ubmVjdF9lcnJubyAhPSAwKSkgewoJCQkkbWVzc2FnZSA9ICR0aGlzLT5jb25uLT5jb25uZWN0X2Vycm9yOwoJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKCdDb25uZWN0aW9uIHRvIHRo'));
	@fwrite($fp, base64_decode('ZSBkYXRhYmFzZSBmYWlsZWQhICcuJG1lc3NhZ2UpOwoJCX0KCgkJJHRoaXMtPnByZXBhcmVfY2FjaGUgPSBhcnJheSgpOwoJCSR0aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCgkJJHRoaXMtPnF1ZXJ5KCJTRVQgTkFNRVMgJ3V0ZjgnIik7Cgl9CgoJcHJvdGVjdGVk'));
	@fwrite($fp, base64_decode('IGZ1bmN0aW9uIGRvRGlzY29ubmVjdCgpOiB2b2lkIHsKCQkkdGhpcy0+cHJlcGFyZV9jYWNoZSA9IGFycmF5KCk7CgkJaWYgKCFpc19udWxsKCR0aGlzLT5jb25uKSkgewoJCQkkdGhpcy0+Y29ubi0+Y2xvc2UoKTsKCQkJJHRoaXMtPmNvbm4gPSBudWxsOwoJCX0K'));
	@fwrite($fp, base64_decode('CX0KCglwcml2YXRlICRpbnRyYW5zYWN0aW9uID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2JlZ2luKCk6IHZvaWQgewoJCWlmICgkdGhpcy0+aW50cmFuc2FjdGlvbikgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIk5lc3RlZCB0cmFu'));
	@fwrite($fp, base64_decode('c2FjdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkYXRhYmFzZSBwbHVnaW4uIik7CgkJJHRoaXMtPmNvbm4tPmF1dG9jb21taXQoZmFsc2UpOwoJCSR0aGlzLT5jb25uLT5iZWdpbl90cmFuc2FjdGlvbigpOwoJCSR0aGlzLT5pbnRyYW5zYWN0aW9uID0g'));
	@fwrite($fp, base64_decode('dHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fY29tbWl0KCk6IHZvaWQgewoJCSR0aGlzLT5jb25uLT5jb21taXQoKTsKCQkkdGhpcy0+Y29ubi0+YXV0b2NvbW1pdCh0cnVlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZhbHNlOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9yb2xsYmFjaygpOiB2b2lkIHsKCQkkdGhpcy0+Y29ubi0+cm9sbGJhY2soKTsKCQkkdGhpcy0+Y29ubi0+YXV0b2NvbW1pdCh0cnVlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZhbHNlOwoJfQoKCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBmdW5jdGlvbiBzcWxEYXRlKCk6IHN0cmluZyB7CgkJcmV0dXJuICdub3coKSc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNsYW5nKCk6IHN0cmluZyB7CgkJcmV0dXJuICdteXNxbCc7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBuYXRpdmVEcml2ZXJBdmFp'));
	@fwrite($fp, base64_decode('bGFibGUoKTogYm9vbCB7CgkJcmV0dXJuIGZ1bmN0aW9uX2V4aXN0cygnbXlzcWxpX2ZldGNoX2FsbCcpICYmIChPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdNWVNRTF9GT1JDRV9NWVNRTE5EX1NVUFBMRU1FTlQnLCBmYWxzZSkgPT09IGZhbHNlKTsK'));
	@fwrite($fp, base64_decode('CX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBiaW5kX3BsYWNlaG9sZGVyX3ZhcnMoJiRzdG10LCRwYXJhbXMpOiBib29sIHsKCQkvLyBDcmVkaXQgdG86IERhdmUgTW9yZ2FuCgkJLy8gQ29kZSB0YWtlbiBmcm9tOiBodHRwOi8vd3d3LmRldm1vcmdhbi5jb20v'));
	@fwrite($fp, base64_decode('YmxvZy8yMDA5LzAzLzI3L2R5ZGwtcGFydC0zLWR5bmFtaWMtYmluZGluZy13aXRoLW15c3FsaS1waHAvCgkJLy8gICAgICAgICAgICAgICAgICBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzIxOTIxNC9ob3ctdG8tYmluZC1pbi1teXNxbGkt'));
	@fwrite($fp, base64_decode('ZHluYW1pY2FsbHkKCQlpZiAoJHBhcmFtcyAhPSBudWxsKSB7CgkJCSR0eXBlcyA9ICcnOyAgICAgICAgICAgICAgICAgICAgICAgIC8vaW5pdGlhbCBzdGluZyB3aXRoIHR5cGVzCgkJCWZvcmVhY2ggKCRwYXJhbXMgYXMgJHBhcmFtKSB7ICAgICAgICAvL2ZvciBl'));
	@fwrite($fp, base64_decode('YWNoIGVsZW1lbnQsIGRldGVybWluZSB0eXBlIGFuZCBhZGQKCQkJCWlmIChpc19pbnQoJHBhcmFtKSkgewoJCQkJCSR0eXBlcyAuPSAnaSc7ICAgICAgICAgICAgICAvL2ludGVnZXIKCQkJCX0gZWxzZWlmIChpc19mbG9hdCgkcGFyYW0pKSB7CgkJCQkJJHR5cGVz'));
	@fwrite($fp, base64_decode('IC49ICdkJzsgICAgICAgICAgICAgIC8vZG91YmxlCgkJCQl9IGVsc2VpZiAoaXNfc3RyaW5nKCRwYXJhbSkpIHsKCQkJCQkkdHlwZXMgLj0gJ3MnOyAgICAgICAgICAgICAgLy9zdHJpbmcKCQkJCX0gZWxzZSB7CgkJCQkJJHR5cGVzIC49ICdiJzsgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgIC8vYmxvYiBhbmQgdW5rbm93bgoJCQkJfQoJCQl9CgoJCQkkYmluZF9uYW1lcyA9IGFycmF5KCk7CgkJCSRiaW5kX25hbWVzW10gPSAkdHlwZXM7ICAgICAgICAgICAgIC8vZmlyc3QgcGFyYW0gbmVlZGVkIGlzIHRoZSB0eXBlIHN0cmluZywgZS5nLjogJ2lz'));
	@fwrite($fp, base64_decode('c3NzJwoKCQkJZm9yICgkaT0wOyAkaTxjb3VudCgkcGFyYW1zKTskaSsrKSB7ICAgIC8vZ28gdGhyb3VnaCBpbmNvbWluZyBwYXJhbXMgYW5kIGFkZGVkIGVtIHRvIGFycmF5CgkJCQkkYmluZF9uYW1lID0gJ2JpbmQnIC4gJGk7ICAgICAgIC8vZ2l2ZSB0aGVtIGFu'));
	@fwrite($fp, base64_decode('IGFyYml0cmFyeSBuYW1lCgkJCQkkJGJpbmRfbmFtZSA9ICRwYXJhbXNbJGldOyAgICAgIC8vYWRkIHRoZSBwYXJhbWV0ZXIgdG8gdGhlIHZhcmlhYmxlIHZhcmlhYmxlCgkJCQkkYmluZF9uYW1lc1tdID0gJiQkYmluZF9uYW1lOyAgIC8vbm93IGFzc29jaWF0ZSB0'));
	@fwrite($fp, base64_decode('aGUgdmFyaWFibGUgYXMgYW4gZWxlbWVudCBpbiBhbiBhcnJheQoJCQl9CgoJCQkvL2Vycm9yX2xvZygiYmV0dGVyX215c3FsaSBoYXMgcGFyYW1zICIucHJpbnRfcigkYmluZF9uYW1lcywgMSkpOwoJCQkvL2NhbGwgdGhlIGZ1bmN0aW9uIGJpbmRfcGFyYW0gd2l0'));
	@fwrite($fp, base64_decode('aCBkeW5hbWljIHBhcmFtcwoJCQljYWxsX3VzZXJfZnVuY19hcnJheShhcnJheSgkc3RtdCwnYmluZF9wYXJhbScpLCRiaW5kX25hbWVzKTsKCQkJcmV0dXJuIHRydWU7CgkJfSBlbHNlIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCX0KfQoKY2xhc3MgT0lEcGx1c1F1'));
	@fwrite($fp, base64_decode('ZXJ5UmVzdWx0TXlTUUwgZXh0ZW5kcyBPSURwbHVzUXVlcnlSZXN1bHQgewoJcHJvdGVjdGVkICRub19yZXN1bHRzZXQ7Cglwcm90ZWN0ZWQgJHJlczsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHJlcykgewoJCSR0aGlzLT5ub19yZXN1bHRzZXQgPSBp'));
	@fwrite($fp, base64_decode('c19ib29sKCRyZXMpOwoKCQlpZiAoISR0aGlzLT5ub19yZXN1bHRzZXQpIHsKCQkJJHRoaXMtPnJlcyA9ICRyZXM7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBfX2Rlc3RydWN0KCkgewoJCWlmICgkdGhpcy0+cmVzKSAkdGhpcy0+cmVzLT5jbG9zZSgpOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBmdW5jdGlvbiBjb250YWluc1Jlc3VsdFNldCgpOiBib29sIHsKCQlyZXR1cm4gISR0aGlzLT5ub19yZXN1bHRzZXQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG51bV9yb3dzKCk6IGludCB7CgkJaWYgKCR0aGlzLT5ub19yZXN1bHRzZXQpIHRocm93IG5l'));
	@fwrite($fp, base64_decode('dyBPSURwbHVzRXhjZXB0aW9uKCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQlyZXR1cm4gJHRoaXMtPnJlcy0+bnVtX3Jvd3M7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNo'));
	@fwrite($fp, base64_decode('X2FycmF5KCkvKjogP2FycmF5Ki8gewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7'));
	@fwrite($fp, base64_decode('CgkJcmV0dXJuICR0aGlzLT5yZXMtPmZldGNoX2FycmF5KE1ZU1FMSV9BU1NPQyk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNoX29iamVjdCgpLyo6ID9vYmplY3QqLyB7CgkJaWYgKCR0aGlzLT5ub19yZXN1bHRzZXQpIHRocm93IG5ldyBPSURwbHVzRXhjZXB0'));
	@fwrite($fp, base64_decode('aW9uKCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQlyZXR1cm4gJHRoaXMtPnJlcy0+ZmV0Y2hfb2JqZWN0KCJzdGRDbGFzcyIpOwoJfQp9CgpjbGFzcyBPSURwbHVzUXVlcnlS'));
	@fwrite($fp, base64_decode('ZXN1bHRNeVNRTE5vTmF0aXZlRHJpdmVyIGV4dGVuZHMgT0lEcGx1c1F1ZXJ5UmVzdWx0IHsKCS8vIEJhc2VkIG9uIGh0dHBzOi8vd3d3LnBocC5uZXQvbWFudWFsL2RlL215c3FsaS1zdG10LmdldC1yZXN1bHQucGhwIzExMzM5OAoKCXByb3RlY3RlZCAkc3RtdDsK'));
	@fwrite($fp, base64_decode('CXByb3RlY3RlZCAkbkNvbHM7Cglwcm90ZWN0ZWQgJG5vX3Jlc3VsdHNldDsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHN0bXQpIHsKCQkkbWV0YWRhdGEgPSBteXNxbGlfc3RtdF9yZXN1bHRfbWV0YWRhdGEoJHN0bXQpOwoKCQkkdGhpcy0+bm9fcmVz'));
	@fwrite($fp, base64_decode('dWx0c2V0ID0gaXNfYm9vbCgkbWV0YWRhdGEpOwoKCQlpZiAoISR0aGlzLT5ub19yZXN1bHRzZXQpIHsKCQkJJHRoaXMtPm5Db2xzID0gbXlzcWxpX251bV9maWVsZHMoJG1ldGFkYXRhKTsKCQkJJHRoaXMtPnN0bXQgPSAkc3RtdDsKCgkJCW15c3FsaV9mcmVlX3Jl'));
	@fwrite($fp, base64_decode('c3VsdCgkbWV0YWRhdGEpOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gY29udGFpbnNSZXN1bHRTZXQoKTogYm9vbCB7CgkJcmV0dXJuICEkdGhpcy0+bm9fcmVzdWx0c2V0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBudW1fcm93cygpOiBpbnQgewoJCWlmICgkdGhp'));
	@fwrite($fp, base64_decode('cy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgoJCSR0aGlzLT5zdG10LT5zdG9yZV9yZXN1bHQoKTsK'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gJHRoaXMtPnN0bXQtPm51bV9yb3dzOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBmZXRjaF9hcnJheSgpLyo6ID9hcnJheSovIHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIlRoZSBxdWVyeSBoYXMg'));
	@fwrite($fp, base64_decode('cmV0dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMgbm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoKCQkvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDc1MjgxNS9teXNxbGktZ2V0LXJlc3VsdC1hbHRlcm5hdGl2ZSAsIG1vZGlmaWVk'));
	@fwrite($fp, base64_decode('CgkJJHN0bXQgPSAkdGhpcy0+c3RtdDsKCQkkc3RtdC0+c3RvcmVfcmVzdWx0KCk7CgkJJHJlc3VsdGtleXMgPSBhcnJheSgpOwoJCSR0aGlzTmFtZSA9ICIiOwoKCQlpZiAoJHN0bXQtPm51bV9yb3dzPT0wKSByZXR1cm4gbnVsbDsKCgkJZm9yICgkaSA9IDA7ICRp'));
	@fwrite($fp, base64_decode('IDwgJHN0bXQtPm51bV9yb3dzOyAkaSsrKSB7CgkJCSRtZXRhZGF0YSA9ICRzdG10LT5yZXN1bHRfbWV0YWRhdGEoKTsKCQkJd2hpbGUgKCRmaWVsZCA9ICRtZXRhZGF0YS0+ZmV0Y2hfZmllbGQoKSkgewoJCQkJJHRoaXNOYW1lID0gJGZpZWxkLT5uYW1lOwoJCQkJ'));
	@fwrite($fp, base64_decode('JHJlc3VsdGtleXNbXSA9ICR0aGlzTmFtZTsKCQkJfQoJCX0KCgkJJHJldCA9IGFycmF5KCk7CgkJJGFyZ3MgPSBhcnJheSgpOwoJCWZvciAoJGk9MDsgJGk8JHRoaXMtPm5Db2xzOyAkaSsrKSB7CgkJCSRyZXRbJGldID0gTlVMTDsKCQkJJHRoZVZhbHVlID0gJHJl'));
	@fwrite($fp, base64_decode('c3VsdGtleXNbJGldOwoJCQkkcmV0WyR0aGVWYWx1ZV0gPSBOVUxMOyAvLyB3aWxsIGJlIG92ZXJ3cml0dGVuIGJ5IG15c3FsaV9zdG10X2JpbmRfcmVzdWx0CgkJCSRhcmdzW10gPSAmJHJldFskdGhlVmFsdWVdOwoJCX0KCQlpZiAoIW15c3FsaV9zdG10X2JpbmRf'));
	@fwrite($fp, base64_decode('cmVzdWx0KCR0aGlzLT5zdG10LCAuLi4kYXJncykpIHsKCQkJcmV0dXJuIG51bGw7CgkJfQoKCQkvLyBUaGlzIHNob3VsZCBhZHZhbmNlIHRoZSAiJHN0bXQiIGN1cnNvci4KCQlpZiAoIW15c3FsaV9zdG10X2ZldGNoKCR0aGlzLT5zdG10KSkgewoJCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('bnVsbDsKCQl9CgoJCS8vIFJldHVybiB0aGUgYXJyYXkgd2UgYnVpbHQuCgkJcmV0dXJuICRyZXQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNoX29iamVjdCgpLyo6ID9vYmplY3QqLyB7CgkJaWYgKCR0aGlzLT5ub19yZXN1bHRzZXQpIHRocm93IG5ldyBPSURw'));
	@fwrite($fp, base64_decode('bHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oIlRoZSBxdWVyeSBoYXMgcmV0dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMgbm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoKCQkkYXJ5ID0gJHRoaXMtPmZldGNoX2FycmF5KCk7CgkJaWYgKCEkYXJ5'));
	@fwrite($fp, base64_decode('KSByZXR1cm4gbnVsbDsKCgkJJG9iaiA9IG5ldyBzdGRDbGFzczsKCQlmb3JlYWNoICgkYXJ5IGFzICRuYW1lID0+ICR2YWwpIHsKCQkJJG9iai0+JG5hbWUgPSAkdmFsOwoJCX0KCQlyZXR1cm4gJG9iajsKCX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/database/mysqli/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/mysqli/plugin.inc.php');
	writefile_3();
	if (!is_file('plugins/database/mysqli/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/mysqli/plugin.inc.php');
	} else if (sha1_file('plugins/database/mysqli/plugin.inc.php') != '9b91f5b05dfee483b944f4ec416e29963905f71f') {
		warn('File cannot be created (checksum mismatch): plugins/database/mysqli/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/mysqli/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/mysqli/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== '9b91f5b05dfee483b944f4ec416e29963905f71f') {
		if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== '77d246473af54ae29dc6682f4cd9e2de1a2a3c2e') {
			warn('File was modified. Will overwrite the changes now: plugins/database/mysqli/plugin.inc.php');
			$tmp = pathinfo('plugins/database/mysqli/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/mysqli/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/mysqli/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== '9b91f5b05dfee483b944f4ec416e29963905f71f') {
			warn('File cannot be written (checksum mismatch): plugins/database/mysqli/plugin.inc.php');
		}
	}
}

// Files different: plugins/database/odbc/plugin.inc.php
function writefile_4() {
	@$fp = fopen('plugins/database/odbc/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbk9EQkMgZXh0ZW5kcyBPSURwbHVzRGF0YWJhc2VQbHVnaW4gewoJcHJpdmF0ZSAkY29u'));
	@fwrite($fp, base64_decode('bjsKCXByaXZhdGUgJGxhc3RfZXJyb3IgPSBudWxsOyAvLyBkbyB0aGUgc2FtZSBsaWtlIE15U1FMK1BETywganVzdCB0byBiZSBlcXVhbCBpbiB0aGUgYmVoYXZpb3IKCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFBsdWdpbkluZm9ybWF0aW9uKCk6IGFycmF5'));
	@fwrite($fp, base64_decode('IHsKCQkkb3V0ID0gYXJyYXkoKTsKCQkkb3V0WyduYW1lJ10gPSAnT0RCQyc7CgkJJG91dFsnYXV0aG9yJ10gPSAnVmlhVGhpbmtTb2Z0JzsKCQkkb3V0Wyd2ZXJzaW9uJ10gPSBudWxsOwoJCSRvdXRbJ2Rlc2NyaXB0aW9uSFRNTCddID0gbnVsbDsKCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('JG91dDsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG5hbWUoKTogc3RyaW5nIHsKCQlyZXR1cm4gIk9EQkMiOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBkb1F1ZXJ5KHN0cmluZyAkc3FsLCAvKj9hcnJheSovICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURwbHVz'));
	@fwrite($fp, base64_decode('UXVlcnlSZXN1bHQgewoJCSR0aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkcHJlcGFyZWRfYXJncykpIHsKCQkJJHJlcyA9IEBvZGJjX2V4ZWMoJHRoaXMtPmNvbm4sICRzcWwpOwoKCQkJaWYgKCRyZXMgPT09IGZhbHNlKSB7CgkJCQkkdGhp'));
	@fwrite($fp, base64_decode('cy0+bGFzdF9lcnJvciA9IG9kYmNfZXJyb3Jtc2coJHRoaXMtPmNvbm4pOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRPREJD'));
	@fwrite($fp, base64_decode('KCRyZXMpOwoJCQl9CgkJfSBlbHNlIHsKCQkJLy8gVEVTVDogRW11bGF0ZSB0aGUgcHJlcGFyZWQgc3RhdGVtZW50CgkJCS8qCgkJCWZvcmVhY2ggKCRwcmVwYXJlZF9hcmdzIGFzICRhcmcpIHsKCQkJCSRuZWVkbGUgPSAnPyc7CgkJCQkkcmVwbGFjZSA9ICInJGFy'));
	@fwrite($fp, base64_decode('ZyciOyAvLyBUT0RPOiB0eXBlcwoJCQkJJHBvcyA9IHN0cnBvcygkc3FsLCAkbmVlZGxlKTsKCQkJCWlmICgkcG9zICE9PSBmYWxzZSkgewoJCQkJCSRzcWwgPSBzdWJzdHJfcmVwbGFjZSgkc3FsLCAkcmVwbGFjZSwgJHBvcywgc3RybGVuKCRuZWVkbGUpKTsKCQkJ'));
	@fwrite($fp, base64_decode('CX0KCQkJfQoJCQlyZXR1cm4gT0lEcGx1c1F1ZXJ5UmVzdWx0T0RCQyhAb2RiY19leGVjKCR0aGlzLT5jb25uLCAkc3FsKSk7CgkJCSovCgkJCWlmICghaXNfYXJyYXkoJHByZXBhcmVkX2FyZ3MpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiJ3By'));
	@fwrite($fp, base64_decode('ZXBhcmVkX2FyZ3MnIG11c3QgYmUgZWl0aGVyIE5VTEwgb3IgYW4gQVJSQVkuIik7CgkJCX0KCgkJCWZvcmVhY2ggKCRwcmVwYXJlZF9hcmdzIGFzICYkdmFsdWUpIHsKCQkJCS8vIE9EQkMvU1FMU2VydmVyIGhhcyBwcm9ibGVtcyBjb252ZXJ0aW5nICJ0cnVlIiB0'));
	@fwrite($fp, base64_decode('byB0aGUgZGF0YSB0eXBlICJiaXQiCgkJCQkvLyBFcnJvciAiSW52YWxpZCBjaGFyYWN0ZXIgdmFsdWUgZm9yIGNhc3Qgc3BlY2lmaWNhdGlvbiIKCQkJCWlmIChpc19ib29sKCR2YWx1ZSkpICR2YWx1ZSA9ICR2YWx1ZSA/ICcxJyA6ICcwJzsKCQkJfQoKCQkJJHBz'));
	@fwrite($fp, base64_decode('ID0gQG9kYmNfcHJlcGFyZSgkdGhpcy0+Y29ubiwgJHNxbCk7CgkJCWlmICghJHBzKSB7CgkJCQkkdGhpcy0+bGFzdF9lcnJvciA9IG9kYmNfZXJyb3Jtc2coJHRoaXMtPmNvbm4pOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJ0Nhbm5v'));
	@fwrite($fp, base64_decode('dCBwcmVwYXJlIHN0YXRlbWVudDogJy4kdGhpcy0+ZXJyb3IoKSk7CgkJCX0KCgkJCWlmICghQG9kYmNfZXhlY3V0ZSgkcHMsICRwcmVwYXJlZF9hcmdzKSkgewoJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSBvZGJjX2Vycm9ybXNnKCR0aGlzLT5jb25uKTsKCQkJCXRo'));
	@fwrite($fp, base64_decode('cm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICR0aGlzLT5lcnJvcigpKTsKCQkJfQoJCQlyZXR1cm4gbmV3IE9JRHBsdXNRdWVyeVJlc3VsdE9EQkMoJHBzKTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGluc2VydF9pZCgpOiBpbnQgewoJCXN3aXRj'));
	@fwrite($fp, base64_decode('aCAoJHRoaXMtPnNsYW5nKCkpIHsKCQkJY2FzZSAnbXlzcWwnOgoJCQkJJHJlcyA9ICR0aGlzLT5xdWVyeSgiU0VMRUNUIExBU1RfSU5TRVJUX0lEKCkgQVMgSUQiKTsKCQkJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCQkJcmV0dXJuIChpbnQpJHJvd1sn'));
	@fwrite($fp, base64_decode('SUQnXTsKCQkJY2FzZSAnc3FsaXRlJzoKCQkJCSRyZXMgPSAkdGhpcy0+cXVlcnkoIlNFTEVDVCBsYXN0X2luc2VydF9yb3dpZCgpIEFTIElEIik7CgkJCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkJCXJldHVybiAoaW50KSRyb3dbJ0lEJ107CgkJCWNh'));
	@fwrite($fp, base64_decode('c2UgJ3Bnc3FsJzoKCQkJCSRyZXMgPSAkdGhpcy0+cXVlcnkoIlNFTEVDVCBMQVNUVkFMKCkgQVMgSUQiKTsKCQkJCSRyb3cgPSAkcmVzLT5mZXRjaF9hcnJheSgpOwoJCQkJcmV0dXJuIChpbnQpJHJvd1snSUQnXTsKCQkJY2FzZSAnbXNzcWwnOgoJCQkJLy8gTm90'));
	@fwrite($fp, base64_decode('ZTogU0NPUEVfSURFTlRJVFkoKSBkb2VzIG5vdCB3b3JrLCBkb2VzIG9ubHkgZ2l2ZSAwLgoJCQkJLy8gJHJlcyA9ICR0aGlzLT5xdWVyeSgiU0VMRUNUIFNDT1BFX0lERU5USVRZKCkgQVMgSUQiKTsKCQkJCSRyZXMgPSAkdGhpcy0+cXVlcnkoIlNFTEVDVCBAQElE'));
	@fwrite($fp, base64_decode('RU5USVRZIEFTIElEIik7CgkJCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkJCXJldHVybiAoaW50KSRyb3dbJ0lEJ107CgkJCWRlZmF1bHQ6CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiQ2Fubm90IGRldGVybWluZSB0aGUgbGFzdCBpbnNl'));
	@fwrite($fp, base64_decode('cnRlZCBJRCBmb3IgeW91ciBEQk1TLiBUaGUgREJNUyBpcyBwcm9iYWJseSBub3Qgc3VwcG9ydGVkLiIpOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gZXJyb3IoKTogc3RyaW5nIHsKCQkkZXJyID0gJHRoaXMtPmxhc3RfZXJyb3I7CgkJaWYgKCRlcnIgPT0gbnVs'));
	@fwrite($fp, base64_decode('bCkgJGVyciA9ICcnOwoJCXJldHVybiAkZXJyOwoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Nvbm5lY3QoKTogdm9pZCB7CgkJaWYgKCFmdW5jdGlvbl9leGlzdHMoJ29kYmNfY29ubmVjdCcpKSB0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9u'));
	@fwrite($fp, base64_decode('RXhjZXB0aW9uKCdQSFAgZXh0ZW5zaW9uICJPREJDIiBub3QgaW5zdGFsbGVkJyk7CgoJCS8vIFRyeSBjb25uZWN0aW5nIHRvIHRoZSBkYXRhYmFzZQoJCSRkc24gICAgICA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ09EQkNfRFNOJywgICAgICAn'));
	@fwrite($fp, base64_decode('RFJJVkVSPXtTUUwgU2VydmVyfTtTRVJWRVI9bG9jYWxob3N0O0RBVEFCQVNFPW9pZHBsdXM7Q0hBUlNFVD1VVEY4Jyk7CgkJJHVzZXJuYW1lID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnT0RCQ19VU0VSTkFNRScsICcnKTsKCQkkcGFzc3dvcmQg'));
	@fwrite($fp, base64_decode('PSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdPREJDX1BBU1NXT1JEJywgJycpOwoJCSR0aGlzLT5jb25uID0gQG9kYmNfY29ubmVjdCgkZHNuLCAkdXNlcm5hbWUsICRwYXNzd29yZCk7CgoJCWlmICghJHRoaXMtPmNvbm4pIHsKCQkJJG1lc3NhZ2Ug'));
	@fwrite($fp, base64_decode('PSBvZGJjX2Vycm9ybXNnKCk7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Nvbm5lY3Rpb24gdG8gdGhlIGRhdGFiYXNlIGZhaWxlZCEgJy4kbWVzc2FnZSk7CgkJfQoKCQkkdGhpcy0+bGFzdF9lcnJvciA9IG51bGw7'));
	@fwrite($fp, base64_decode('CgoJCXRyeSB7CgkJCSR0aGlzLT5xdWVyeSgiU0VUIE5BTUVTICd1dGY4JyIpOyAvLyBEb2VzIG1vc3QgbGlrZWx5IE5PVCB3b3JrIHdpdGggT0RCQy4gVHJ5IGFkZGluZyAiO0NIQVJTRVQ9VVRGOCIgKG9yIHNpbWlsYXIpIHRvIHRoZSBEU04KCQl9IGNhdGNoIChF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24gJGUpIHsKCQl9Cgl9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGRvRGlzY29ubmVjdCgpOiB2b2lkIHsKCQlpZiAoIWlzX251bGwoJHRoaXMtPmNvbm4pKSB7CgkJCUBvZGJjX2Nsb3NlKCR0aGlzLT5jb25uKTsKCQkJJHRoaXMtPmNvbm4gPSBudWxsOwoJ'));
	@fwrite($fp, base64_decode('CX0KCX0KCglwcml2YXRlICRpbnRyYW5zYWN0aW9uID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2JlZ2luKCk6IHZvaWQgewoJCWlmICgkdGhpcy0+aW50cmFuc2FjdGlvbikgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIk5lc3RlZCB0'));
	@fwrite($fp, base64_decode('cmFuc2FjdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkYXRhYmFzZSBwbHVnaW4uIik7CgkJb2RiY19hdXRvY29tbWl0KCR0aGlzLT5jb25uLCBmYWxzZSk7IC8vIGJlZ2luIHRyYW5zYWN0aW9uCgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSB0cnVlOwoJ'));
	@fwrite($fp, base64_decode('fQoKCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9jb21taXQoKTogdm9pZCB7CgkJb2RiY19jb21taXQoJHRoaXMtPmNvbm4pOwoJCW9kYmNfYXV0b2NvbW1pdCgkdGhpcy0+Y29ubiwgdHJ1ZSk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0K'));
	@fwrite($fp, base64_decode('CglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fcm9sbGJhY2soKTogdm9pZCB7CgkJb2RiY19yb2xsYmFjaygkdGhpcy0+Y29ubik7CgkJb2RiY19hdXRvY29tbWl0KCR0aGlzLT5jb25uLCB0cnVlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('fQp9CgpjbGFzcyBPSURwbHVzUXVlcnlSZXN1bHRPREJDIGV4dGVuZHMgT0lEcGx1c1F1ZXJ5UmVzdWx0IHsKCXByb3RlY3RlZCAkbm9fcmVzdWx0c2V0OwoJcHJvdGVjdGVkICRyZXM7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRyZXMpIHsKCQkkdGhp'));
	@fwrite($fp, base64_decode('cy0+bm9fcmVzdWx0c2V0ID0gaXNfYm9vbCgkcmVzKTsKCgkJaWYgKCEkdGhpcy0+bm9fcmVzdWx0c2V0KSB7CgkJCSR0aGlzLT5yZXMgPSAkcmVzOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gX19kZXN0cnVjdCgpIHsKCQkvLyBvZGJjX2Nsb3NlX2N1cnNvcigk'));
	@fwrite($fp, base64_decode('dGhpcy0+cmVzKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY29udGFpbnNSZXN1bHRTZXQoKTogYm9vbCB7CgkJcmV0dXJuICEkdGhpcy0+bm9fcmVzdWx0c2V0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBudW1fcm93cygpOiBpbnQgewoJCWlmICgkdGhpcy0+bm9fcmVz'));
	@fwrite($fp, base64_decode('dWx0c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgkJcmV0dXJuIG9kYmNfbnVtX3Jvd3MoJHRoaXMtPnJlcyk7Cgl9CgoJ'));
	@fwrite($fp, base64_decode('cHVibGljIGZ1bmN0aW9uIGZldGNoX2FycmF5KCkvKjogP2FycmF5Ki8gewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBu'));
	@fwrite($fp, base64_decode('b3QgYSBTRUxFQ1QgcXVlcnkpIik7CgkJJHJldCA9IG9kYmNfZmV0Y2hfYXJyYXkoJHRoaXMtPnJlcyk7CgkJaWYgKCRyZXQgPT09IGZhbHNlKSAkcmV0ID0gbnVsbDsKCQlpZiAoIWlzX251bGwoJHJldCkpIHsKCQkJLy8gT0RCQyBnaXZlcyBiaXQoMSkgYXMgYmlu'));
	@fwrite($fp, base64_decode('YXJ5LCBNeVNRTCBhcyBpbnRlZ2VyIGFuZCBQRE8gYXMgc3RyaW5nLgoJCQkvLyBXZSdsbCBkbyBpdCBsaWtlIE15U1FMIGRvZXMsIGV2ZW4gaWYgT0RCQyBpcyBhY3R1YWxseSBtb3JlIGNvcnJlY3QuCgkJCWZvcmVhY2ggKCRyZXQgYXMgJiR2YWx1ZSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCR2YWx1ZSA9PT0gY2hyKDApKSAkdmFsdWUgPSAwOwoJCQkJaWYgKCR2YWx1ZSA9PT0gY2hyKDEpKSAkdmFsdWUgPSAxOwoJCQl9CgkJfQoJCXJldHVybiAkcmV0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBmZXRjaF9vYmplY3QoKS8qOiA/b2JqZWN0Ki8gewoJ'));
	@fwrite($fp, base64_decode('CWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgkJJHJldCA9IG9kYmNfZmV0Y2hfb2Jq'));
	@fwrite($fp, base64_decode('ZWN0KCR0aGlzLT5yZXMpOwoJCWlmICgkcmV0ID09PSBmYWxzZSkgJHJldCA9IG51bGw7CgkJaWYgKCFpc19udWxsKCRyZXQpKSB7CgkJCS8vIE9EQkMgZ2l2ZXMgYml0KDEpIGFzIGJpbmFyeSwgTXlTUUwgYXMgaW50ZWdlciBhbmQgUERPIGFzIHN0cmluZy4KCQkJ'));
	@fwrite($fp, base64_decode('Ly8gV2UnbGwgZG8gaXQgbGlrZSBNeVNRTCBkb2VzLCBldmVuIGlmIE9EQkMgaXMgYWN0dWFsbHkgbW9yZSBjb3JyZWN0LgoJCQlmb3JlYWNoICgkcmV0IGFzICYkdmFsdWUpIHsKCQkJCWlmICgkdmFsdWUgPT09IGNocigwKSkgJHZhbHVlID0gMDsKCQkJCWlmICgk'));
	@fwrite($fp, base64_decode('dmFsdWUgPT09IGNocigxKSkgJHZhbHVlID0gMTsKCQkJfQoJCX0KCQlyZXR1cm4gJHJldDsKCX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/database/odbc/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/odbc/plugin.inc.php');
	writefile_4();
	if (!is_file('plugins/database/odbc/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/odbc/plugin.inc.php');
	} else if (sha1_file('plugins/database/odbc/plugin.inc.php') != '1eb5dfeb0f06c44e7c282e2eb0928e9889c9da31') {
		warn('File cannot be created (checksum mismatch): plugins/database/odbc/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/odbc/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/odbc/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/odbc/plugin.inc.php') !== '1eb5dfeb0f06c44e7c282e2eb0928e9889c9da31') {
		if (@sha1_file('plugins/database/odbc/plugin.inc.php') !== 'cf4b511ffb8a5329fb9985405de6c28c2157a6f8') {
			warn('File was modified. Will overwrite the changes now: plugins/database/odbc/plugin.inc.php');
			$tmp = pathinfo('plugins/database/odbc/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/odbc/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/odbc/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/database/odbc/plugin.inc.php') !== '1eb5dfeb0f06c44e7c282e2eb0928e9889c9da31') {
			warn('File cannot be written (checksum mismatch): plugins/database/odbc/plugin.inc.php');
		}
	}
}

// Files different: plugins/database/pdo/plugin.inc.php
function writefile_5() {
	@$fp = fopen('plugins/database/pdo/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpblBETyBleHRlbmRzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbiB7Cglwcml2YXRlICRjb25u'));
	@fwrite($fp, base64_decode('ID0gbnVsbDsKCXByaXZhdGUgJGxhc3RfZXJyb3IgPSBudWxsOyAvLyB3ZSBuZWVkIHRoYXQgYmVjYXVzZSBQRE8gZGl2aWRlcyBwcmVwYXJlZCBzdGF0ZW1lbnQgZXJyb3JzIGFuZCBub3JtYWwgcXVlcnkgZXJyb3JzLCBidXQgd2UgaGF2ZSBvbmx5IG9uZSAiZXJy'));
	@fwrite($fp, base64_decode('b3IoKSIgbWV0aG9kCgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRQbHVnaW5JbmZvcm1hdGlvbigpOiBhcnJheSB7CgkJJG91dCA9IGFycmF5KCk7CgkJJG91dFsnbmFtZSddID0gJ1BETyc7CgkJJG91dFsnYXV0aG9yJ10gPSAnVmlhVGhpbmtTb2Z0JzsKCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd2ZXJzaW9uJ10gPSBudWxsOwoJCSRvdXRbJ2Rlc2NyaXB0aW9uSFRNTCddID0gbnVsbDsKCQlyZXR1cm4gJG91dDsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG5hbWUoKTogc3RyaW5nIHsKCQlyZXR1cm4gIlBETyI7Cgl9CgoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGRvUXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkJJHRoaXMtPmxhc3RfZXJyb3IgPSBudWxsOwoJCWlmIChpc19udWxsKCRwcmVwYXJlZF9hcmdzKSkgewoJCQkkcmVzID0g'));
	@fwrite($fp, base64_decode('JHRoaXMtPmNvbm4tPnF1ZXJ5KCRzcWwpOwoKCQkJaWYgKCRyZXMgPT09IGZhbHNlKSB7CgkJCQkkdGhpcy0+bGFzdF9lcnJvciA9ICR0aGlzLT5jb25uLT5lcnJvckluZm8oKVsyXTsKCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICR0aGlz'));
	@fwrite($fp, base64_decode('LT5lcnJvcigpKTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBuZXcgT0lEcGx1c1F1ZXJ5UmVzdWx0UERPKCRyZXMpOwoJCQl9CgkJfSBlbHNlIHsKCQkJLy8gVEVTVDogRW11bGF0ZSB0aGUgcHJlcGFyZWQgc3RhdGVtZW50CgkJCS8qCgkJCWZvcmVhY2ggKCRwcmVw'));
	@fwrite($fp, base64_decode('YXJlZF9hcmdzIGFzICRhcmcpIHsKCQkJCSRuZWVkbGUgPSAnPyc7CgkJCQkkcmVwbGFjZSA9ICInJGFyZyciOyAvLyBUT0RPOiB0eXBlcwoJCQkJJHBvcyA9IHN0cnBvcygkc3FsLCAkbmVlZGxlKTsKCQkJCWlmICgkcG9zICE9PSBmYWxzZSkgewoJCQkJCSRzcWwg'));
	@fwrite($fp, base64_decode('PSBzdWJzdHJfcmVwbGFjZSgkc3FsLCAkcmVwbGFjZSwgJHBvcywgc3RybGVuKCRuZWVkbGUpKTsKCQkJCX0KCQkJfQoJCQlyZXR1cm4gT0lEcGx1c1F1ZXJ5UmVzdWx0UERPKCR0aGlzLT5jb25uLT5xdWVyeSgkc3FsKSk7CgkJCSovCgoJCQlpZiAoIWlzX2FycmF5'));
	@fwrite($fp, base64_decode('KCRwcmVwYXJlZF9hcmdzKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIidwcmVwYXJlZF9hcmdzJyBtdXN0IGJlIGVpdGhlciBOVUxMIG9yIGFuIEFSUkFZLiIpOwoJCQl9CgoJCQlmb3JlYWNoICgkcHJlcGFyZWRfYXJncyBhcyAmJHZhbHVlKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkvLyBXZSBuZWVkIHRvIG1hbnVhbGx5IGNvbnZlcnQgYm9vbGVhbnMgaW50byBzdHJpbmdzLCBiZWNhdXNlIHRoZXJlIGlzIGEKCQkJCS8vIDE0IHllYXIgb2xkIGJ1ZyB0aGF0IGhhc24ndCBiZWVuIGFkcmVzc2VkIGJ5IHRoZSBQRE8gZGV2ZWxvcGVyczoK'));
	@fwrite($fp, base64_decode('CQkJCS8vIGh0dHBzOi8vYnVncy5waHAubmV0L2J1Zy5waHA/aWQ9NTcxNTcKCQkJCS8vIE5vdGU6IFdlIGFyZSB1c2luZyAnMScgYW5kICcwJyBpbnN0ZWFkIG9mICd0cnVlJyBhbmQgJ2ZhbHNlJyBiZWNhdXNlIE15U1FMIGNvbnZlcnRzIGJvb2xlYW4gdG8gdGlu'));
	@fwrite($fp, base64_decode('eWludCgxKQoJCQkJaWYgKGlzX2Jvb2woJHZhbHVlKSkgJHZhbHVlID0gJHZhbHVlID8gJzEnIDogJzAnOwoJCQl9CgoJCQkkcHMgPSAkdGhpcy0+Y29ubi0+cHJlcGFyZSgkc3FsKTsKCQkJaWYgKCEkcHMpIHsKCQkJCSR0aGlzLT5sYXN0X2Vycm9yID0gJHBzLT5l'));
	@fwrite($fp, base64_decode('cnJvckluZm8oKVsyXTsKCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICdDYW5ub3QgcHJlcGFyZSBzdGF0ZW1lbnQ6ICcuJHRoaXMtPmVycm9yKCkpOwoJCQl9CgkJCSR0aGlzLT5wcmVwYXJlX2NhY2hlWyRzcWxdID0gJHBzOwoKCQkJaWYg'));
	@fwrite($fp, base64_decode('KCEkcHMtPmV4ZWN1dGUoJHByZXBhcmVkX2FyZ3MpKSB7CgkJCQkkdGhpcy0+bGFzdF9lcnJvciA9ICRwcy0+ZXJyb3JJbmZvKClbMl07CgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkdGhpcy0+ZXJyb3IoKSk7CgkJCX0KCQkJcmV0dXJu'));
	@fwrite($fp, base64_decode('IG5ldyBPSURwbHVzUXVlcnlSZXN1bHRQRE8oJHBzKTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGluc2VydF9pZCgpOiBpbnQgewoJCXJldHVybiAkdGhpcy0+Y29ubi0+bGFzdEluc2VydElkKCk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGVycm9yKCk6IHN0cmlu'));
	@fwrite($fp, base64_decode('ZyB7CgkJJGVyciA9ICR0aGlzLT5sYXN0X2Vycm9yOwoJCWlmICgkZXJyID09IG51bGwpICRlcnIgPSAnJzsKCQlyZXR1cm4gJGVycjsKCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9Db25uZWN0KCk6IHZvaWQgewoJCWlmICghY2xhc3NfZXhpc3RzKCdQRE8nKSkg'));
	@fwrite($fp, base64_decode('dGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignUEhQIGV4dGVuc2lvbiAiUERPIiBub3QgaW5zdGFsbGVkJyk7CgoJCXRyeSB7CgkJCSRvcHRpb25zID0gWwoJCQkjICAgIFBETzo6QVRUUl9FUlJNT0RFICAgICAgICAgICAgPT4g'));
	@fwrite($fp, base64_decode('UERPOjpFUlJNT0RFX0VYQ0VQVElPTiwKCQkJICAgIFBETzo6QVRUUl9ERUZBVUxUX0ZFVENIX01PREUgPT4gUERPOjpGRVRDSF9BU1NPQywKCQkJICAgIFBETzo6QVRUUl9FTVVMQVRFX1BSRVBBUkVTICAgPT4gdHJ1ZSwKCQkJXTsKCgkJCS8vIFRyeSBjb25uZWN0'));
	@fwrite($fp, base64_decode('aW5nIHRvIHRoZSBkYXRhYmFzZQoJCQkkZHNuICAgICAgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdQRE9fRFNOJywgICAgICAnbXlzcWw6aG9zdD1sb2NhbGhvc3Q7ZGJuYW1lPW9pZHBsdXM7Q0hBUlNFVD1VVEY4Jyk7CgkJCSR1c2VybmFtZSA9'));
	@fwrite($fp, base64_decode('IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1BET19VU0VSTkFNRScsICdyb290Jyk7CgkJCSRwYXNzd29yZCA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1BET19QQVNTV09SRCcsICcnKTsKCQkJJHRoaXMtPmNvbm4gPSBuZXcgUERP'));
	@fwrite($fp, base64_decode('KCRkc24sICR1c2VybmFtZSwgJHBhc3N3b3JkLCAkb3B0aW9ucyk7CgkJfSBjYXRjaCAoUERPRXhjZXB0aW9uICRlKSB7CgkJCSRtZXNzYWdlID0gJGUtPmdldE1lc3NhZ2UoKTsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlv'));
	@fwrite($fp, base64_decode('bignQ29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2UgZmFpbGVkISAnLiRtZXNzYWdlKTsKCQl9CgoJCSR0aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCgkJJHRoaXMtPnF1ZXJ5KCJTRVQgTkFNRVMgJ3V0ZjgnIik7Cgl9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGRvRGlz'));
	@fwrite($fp, base64_decode('Y29ubmVjdCgpOiB2b2lkIHsKCQkkdGhpcy0+Y29ubiA9IG51bGw7IC8vIHRoZSBjb25uZWN0aW9uIHdpbGwgYmUgY2xvc2VkIGJ5IHJlbW92aW5nIHRoZSByZWZlcmVuY2UKCX0KCglwcml2YXRlICRpbnRyYW5zYWN0aW9uID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIHRyYW5zYWN0aW9uX2JlZ2luKCk6IHZvaWQgewoJCWlmICgkdGhpcy0+aW50cmFuc2FjdGlvbikgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIk5lc3RlZCB0cmFuc2FjdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkYXRhYmFzZSBwbHVnaW4u'));
	@fwrite($fp, base64_decode('Iik7CgkJJHRoaXMtPmNvbm4tPmJlZ2luVHJhbnNhY3Rpb24oKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IHRydWU7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpOiB2b2lkIHsKCQkkdGhpcy0+Y29ubi0+Y29tbWl0KCk7CgkJJHRo'));
	@fwrite($fp, base64_decode('aXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fcm9sbGJhY2soKTogdm9pZCB7CgkJJHRoaXMtPmNvbm4tPnJvbGxCYWNrKCk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KfQoKY2xhc3Mg'));
	@fwrite($fp, base64_decode('T0lEcGx1c1F1ZXJ5UmVzdWx0UERPIGV4dGVuZHMgT0lEcGx1c1F1ZXJ5UmVzdWx0IHsKCXByb3RlY3RlZCAkbm9fcmVzdWx0c2V0OwoJcHJvdGVjdGVkICRyZXM7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRyZXMpIHsKCQkkdGhpcy0+bm9fcmVzdWx0'));
	@fwrite($fp, base64_decode('c2V0ID0gaXNfYm9vbCgkcmVzKTsKCgkJaWYgKCEkdGhpcy0+bm9fcmVzdWx0c2V0KSB7CgkJCSR0aGlzLT5yZXMgPSAkcmVzOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gX19kZXN0cnVjdCgpIHsKCQlpZiAoJHRoaXMtPnJlcykgJHRoaXMtPnJlcy0+Y2xvc2VD'));
	@fwrite($fp, base64_decode('dXJzb3IoKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY29udGFpbnNSZXN1bHRTZXQoKTogYm9vbCB7CgkJcmV0dXJuICEkdGhpcy0+bm9fcmVzdWx0c2V0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBudW1fcm93cygpOiBpbnQgewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0'));
	@fwrite($fp, base64_decode('c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgkJcmV0dXJuICR0aGlzLT5yZXMtPnJvd0NvdW50KCk7Cgl9CgoJcHVibGlj'));
	@fwrite($fp, base64_decode('IGZ1bmN0aW9uIGZldGNoX2FycmF5KCkvKjogP2FycmF5Ki8gewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBT'));
	@fwrite($fp, base64_decode('RUxFQ1QgcXVlcnkpIik7CgkJJHJldCA9ICR0aGlzLT5yZXMtPmZldGNoKFBETzo6RkVUQ0hfQVNTT0MpOwoJCWlmICgkcmV0ID09PSBmYWxzZSkgJHJldCA9IG51bGw7CgkJcmV0dXJuICRyZXQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNoX29iamVjdCgpLyo6'));
	@fwrite($fp, base64_decode('ID9vYmplY3QqLyB7CgkJaWYgKCR0aGlzLT5ub19yZXN1bHRzZXQpIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQkkcmV0ID0g'));
	@fwrite($fp, base64_decode('JHRoaXMtPnJlcy0+ZmV0Y2goUERPOjpGRVRDSF9PQkopOwoJCWlmICgkcmV0ID09PSBmYWxzZSkgJHJldCA9IG51bGw7CgkJcmV0dXJuICRyZXQ7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/database/pdo/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/pdo/plugin.inc.php');
	writefile_5();
	if (!is_file('plugins/database/pdo/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/pdo/plugin.inc.php');
	} else if (sha1_file('plugins/database/pdo/plugin.inc.php') != '012e3d808a4a0841f203af5c9e13605e27687bf0') {
		warn('File cannot be created (checksum mismatch): plugins/database/pdo/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/pdo/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/pdo/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/pdo/plugin.inc.php') !== '012e3d808a4a0841f203af5c9e13605e27687bf0') {
		if (@sha1_file('plugins/database/pdo/plugin.inc.php') !== '55dc346096344221cda9e2b13a8707d7737672b0') {
			warn('File was modified. Will overwrite the changes now: plugins/database/pdo/plugin.inc.php');
			$tmp = pathinfo('plugins/database/pdo/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/pdo/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/pdo/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('plugins/database/pdo/plugin.inc.php') !== '012e3d808a4a0841f203af5c9e13605e27687bf0') {
			warn('File cannot be written (checksum mismatch): plugins/database/pdo/plugin.inc.php');
		}
	}
}

// Files different: plugins/database/pgsql/plugin.inc.php
function writefile_6() {
	@$fp = fopen('plugins/database/pgsql/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpblBnU3FsIGV4dGVuZHMgT0lEcGx1c0RhdGFiYXNlUGx1Z2luIHsKCXByaXZhdGUgJGNv'));
	@fwrite($fp, base64_decode('bm4gPSBudWxsOwoJcHJpdmF0ZSAkYWxyZWFkeV9wcmVwYXJlZCA9IGFycmF5KCk7Cglwcml2YXRlICRsYXN0X2Vycm9yID0gbnVsbDsgLy8gZG8gdGhlIHNhbWUgbGlrZSBNeVNRTCtQRE8sIGp1c3QgdG8gYmUgZXF1YWwgaW4gdGhlIGJlaGF2aW9yCgoJcHVibGlj'));
	@fwrite($fp, base64_decode('IHN0YXRpYyBmdW5jdGlvbiBnZXRQbHVnaW5JbmZvcm1hdGlvbigpOiBhcnJheSB7CgkJJG91dCA9IGFycmF5KCk7CgkJJG91dFsnbmFtZSddID0gJ1Bvc3RncmVTUUwnOwoJCSRvdXRbJ2F1dGhvciddID0gJ1ZpYVRoaW5rU29mdCc7CgkJJG91dFsndmVyc2lvbidd'));
	@fwrite($fp, base64_decode('ID0gbnVsbDsKCQkkb3V0WydkZXNjcmlwdGlvbkhUTUwnXSA9IG51bGw7CgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBuYW1lKCk6IHN0cmluZyB7CgkJcmV0dXJuICJQZ1NRTCI7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGRvUXVlcnko'));
	@fwrite($fp, base64_decode('c3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkJJHRoaXMtPmxhc3RfZXJyb3IgPSBudWxsOwoJCWlmIChpc19udWxsKCRwcmVwYXJlZF9hcmdzKSkgewoJCQkkcmVzID0gQHBnX3F1ZXJ5KCR0'));
	@fwrite($fp, base64_decode('aGlzLT5jb25uLCAkc3FsKTsKCgkJCWlmICgkcmVzID09PSBmYWxzZSkgewoJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSBwZ19sYXN0X2Vycm9yKCR0aGlzLT5jb25uKTsKCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICR0aGlzLT5lcnJvcigp'));
	@fwrite($fp, base64_decode('KTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBuZXcgT0lEcGx1c1F1ZXJ5UmVzdWx0UGdTcWwoJHJlcyk7CgkJCX0KCQl9IGVsc2UgewoJCQlpZiAoIWlzX2FycmF5KCRwcmVwYXJlZF9hcmdzKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIidwcmVw'));
	@fwrite($fp, base64_decode('YXJlZF9hcmdzJyBtdXN0IGJlIGVpdGhlciBOVUxMIG9yIGFuIEFSUkFZLiIpOwoJCQl9CgoJCQkvLyBjb252ZXJ0ID8gPyA/IHRvICQxICQyICQzCgkJCSRzcWwgPSBwcmVnX3JlcGxhY2VfY2FsbGJhY2soJ0BcXD9AJywgZnVuY3Rpb24oJGZvdW5kKSB7CgkJCQlz'));
	@fwrite($fp, base64_decode('dGF0aWMgJGkgPSAwOwoJCQkJJGkrKzsKCQkJCXJldHVybiAnJCcuJGk7CgkJCX0sICRzcWwpOwoKCQkJJHByZXBhcmVfbmFtZSA9ICdPSURwbHVzX3BzXycuc2hhMSgkc3FsKTsKCQkJaWYgKCFpbl9hcnJheSgkcHJlcGFyZV9uYW1lLCAkdGhpcy0+YWxyZWFkeV9w'));
	@fwrite($fp, base64_decode('cmVwYXJlZCkpIHsKCQkJCSRyZXMgPSBAcGdfcHJlcGFyZSgkdGhpcy0+Y29ubiwgJHByZXBhcmVfbmFtZSwgJHNxbCk7CgkJCQlpZiAoJHJlcyA9PT0gZmFsc2UpIHsKCQkJCQkkdGhpcy0+bGFzdF9lcnJvciA9IHBnX2xhc3RfZXJyb3IoJHRoaXMtPmNvbm4pOwoJ'));
	@fwrite($fp, base64_decode('CQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICdDYW5ub3QgcHJlcGFyZSBzdGF0ZW1lbnQ6ICcuJHRoaXMtPmVycm9yKCkpOwoJCQkJfQoJCQkJJHRoaXMtPmFscmVhZHlfcHJlcGFyZWRbXSA9ICRwcmVwYXJlX25hbWU7CgkJCX0KCgkJCWZv'));
	@fwrite($fp, base64_decode('cmVhY2ggKCRwcmVwYXJlZF9hcmdzIGFzICYkdmFsdWUpIHsKCQkJCWlmIChpc19ib29sKCR2YWx1ZSkpICR2YWx1ZSA9ICR2YWx1ZSA/ICcxJyA6ICcwJzsKCQkJfQoKCQkJJHBzID0gcGdfZXhlY3V0ZSgkdGhpcy0+Y29ubiwgJHByZXBhcmVfbmFtZSwgJHByZXBh'));
	@fwrite($fp, base64_decode('cmVkX2FyZ3MpOwoJCQlpZiAoJHBzID09PSBmYWxzZSkgewoJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSBwZ19sYXN0X2Vycm9yKCR0aGlzLT5jb25uKTsKCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICR0aGlzLT5lcnJvcigpKTsKCQkJfQoJ'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gbmV3IE9JRHBsdXNRdWVyeVJlc3VsdFBnU3FsKCRwcyk7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpbnNlcnRfaWQoKTogaW50IHsKCQl0cnkgewoJCQlyZXR1cm4gKGludCkkdGhpcy0+cXVlcnkoJ3NlbGVjdCBsYXN0dmFsKCkgYXMgaWQnKS0+'));
	@fwrite($fp, base64_decode('ZmV0Y2hfb2JqZWN0KCktPmlkOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQlyZXR1cm4gMDsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGVycm9yKCk6IHN0cmluZyB7CgkJJGVyciA9ICR0aGlzLT5sYXN0X2Vycm9yOwoJCWlmICgkZXJyID09IG51bGwp'));
	@fwrite($fp, base64_decode('ICRlcnIgPSAnJzsKCQlyZXR1cm4gJGVycjsKCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9Db25uZWN0KCk6IHZvaWQgewoJCWlmICghZnVuY3Rpb25fZXhpc3RzKCdwZ19jb25uZWN0JykpIHRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNl'));
	@fwrite($fp, base64_decode('cHRpb24oJ1BIUCBleHRlbnNpb24gIlBvc3RncmVTUUwiIG5vdCBpbnN0YWxsZWQnKTsKCgkJLy8gVHJ5IGNvbm5lY3RpbmcgdG8gdGhlIGRhdGFiYXNlCgkJb2Jfc3RhcnQoKTsKCQkkZXJyID0gJyc7CgkJdHJ5IHsKCQkJJGhvc3QgICAgID0gT0lEcGx1czo6YmFz'));
	@fwrite($fp, base64_decode('ZUNvbmZpZygpLT5nZXRWYWx1ZSgnUEdTUUxfSE9TVCcsICAgICAnbG9jYWxob3N0OjU0MzInKTsKCQkJJHVzZXJuYW1lID0gT0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUEdTUUxfVVNFUk5BTUUnLCAncG9zdGdyZXMnKTsKCQkJJHBhc3N3b3JkID0g'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YmFzZUNvbmZpZygpLT5nZXRWYWx1ZSgnUEdTUUxfUEFTU1dPUkQnLCAnJyk7CgkJCSRkYXRhYmFzZSA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1BHU1FMX0RBVEFCQVNFJywgJ29pZHBsdXMnKTsKCQkJbGlzdCgkaG9zdG5hbWUs'));
	@fwrite($fp, base64_decode('ICRwb3J0KSA9IGV4cGxvZGUoJzonLCAiJGhvc3Q6NTQzMiIpOwoJCQkkdGhpcy0+Y29ubiA9IHBnX2Nvbm5lY3QoImhvc3Q9JGhvc3RuYW1lIHVzZXI9JHVzZXJuYW1lIHBhc3N3b3JkPSRwYXNzd29yZCBwb3J0PSRwb3J0IGRibmFtZT0kZGF0YWJhc2UiKTsKCQl9'));
	@fwrite($fp, base64_decode('IGZpbmFsbHkgewoJCQkjIFRPRE86IHRoaXMgZG9lcyBub3Qgc2VlbSB0byB3b3JrPyEgKGF0IGxlYXN0IG5vdCBmb3IgQ0xJKQoJCQkkZXJyID0gb2JfZ2V0X2NvbnRlbnRzKCk7CgkJCW9iX2VuZF9jbGVhbigpOwoJCX0KCgkJaWYgKCEkdGhpcy0+Y29ubikgewoJ'));
	@fwrite($fp, base64_decode('CQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKCdDb25uZWN0aW9uIHRvIHRoZSBkYXRhYmFzZSBmYWlsZWQhICcgLiBzdHJpcF90YWdzKCRlcnIpKTsKCQl9CgoJCSR0aGlzLT5hbHJlYWR5X3ByZXBhcmVkID0gYXJyYXkoKTsK'));
	@fwrite($fp, base64_decode('CQkkdGhpcy0+bGFzdF9lcnJvciA9IG51bGw7CgoJCXRyeSB7CgkJCSR0aGlzLT5xdWVyeSgiU0VUIE5BTUVTICd1dGY4JyIpOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCX0KCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9EaXNjb25uZWN0KCk6IHZvaWQg'));
	@fwrite($fp, base64_decode('ewoJCSR0aGlzLT5hbHJlYWR5X3ByZXBhcmVkID0gYXJyYXkoKTsKCQlpZiAoIWlzX251bGwoJHRoaXMtPmNvbm4pKSB7CgkJCXBnX2Nsb3NlKCR0aGlzLT5jb25uKTsKCQkJJHRoaXMtPmNvbm4gPSBudWxsOwoJCX0KCX0KCglwcml2YXRlICRpbnRyYW5zYWN0aW9u'));
	@fwrite($fp, base64_decode('ID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2JlZ2luKCk6IHZvaWQgewoJCWlmICgkdGhpcy0+aW50cmFuc2FjdGlvbikgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIk5lc3RlZCB0cmFuc2FjdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQg'));
	@fwrite($fp, base64_decode('YnkgdGhpcyBkYXRhYmFzZSBwbHVnaW4uIik7CgkJJHRoaXMtPnF1ZXJ5KCdiZWdpbiB0cmFuc2FjdGlvbicpOwoJCSR0aGlzLT5pbnRyYW5zYWN0aW9uID0gdHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fY29tbWl0KCk6IHZvaWQgewoJCSR0'));
	@fwrite($fp, base64_decode('aGlzLT5xdWVyeSgnY29tbWl0Jyk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fcm9sbGJhY2soKTogdm9pZCB7CgkJJHRoaXMtPnF1ZXJ5KCdyb2xsYmFjaycpOwoJCSR0aGlzLT5pbnRyYW5z'));
	@fwrite($fp, base64_decode('YWN0aW9uID0gZmFsc2U7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHNxbERhdGUoKTogc3RyaW5nIHsKCQlyZXR1cm4gJ25vdygpJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gc2xhbmcoKTogc3RyaW5nIHsKCQlyZXR1cm4gJ3Bnc3FsJzsKCX0KfQoKY2xhc3MgT0lEcGx1'));
	@fwrite($fp, base64_decode('c1F1ZXJ5UmVzdWx0UGdTcWwgZXh0ZW5kcyBPSURwbHVzUXVlcnlSZXN1bHQgewoJcHJvdGVjdGVkICRub19yZXN1bHRzZXQ7Cglwcm90ZWN0ZWQgJHJlczsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHJlcykgewoJCSR0aGlzLT5ub19yZXN1bHRzZXQg'));
	@fwrite($fp, base64_decode('PSBpc19ib29sKCRyZXMpOwoKCQlpZiAoISR0aGlzLT5ub19yZXN1bHRzZXQpIHsKCQkJJHRoaXMtPnJlcyA9ICRyZXM7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBfX2Rlc3RydWN0KCkgewoJCWlmICgkdGhpcy0+cmVzKSB7CgkJCXBnX2ZyZWVfcmVzdWx0KCR0'));
	@fwrite($fp, base64_decode('aGlzLT5yZXMpOwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gY29udGFpbnNSZXN1bHRTZXQoKTogYm9vbCB7CgkJcmV0dXJuICEkdGhpcy0+bm9fcmVzdWx0c2V0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBudW1fcm93cygpOiBpbnQgewoJCWlmICgkdGhpcy0+bm9f'));
	@fwrite($fp, base64_decode('cmVzdWx0c2V0KSB0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgkJcmV0dXJuIHBnX251bV9yb3dzKCR0aGlzLT5yZXMpOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBmdW5jdGlvbiBmZXRjaF9hcnJheSgpLyo6ID9hcnJheSovIHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIlRoZSBxdWVyeSBoYXMgcmV0dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMg'));
	@fwrite($fp, base64_decode('bm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoJCSRyZXQgPSBwZ19mZXRjaF9hcnJheSgkdGhpcy0+cmVzLCBudWxsLCBQR1NRTF9BU1NPQyk7CgkJaWYgKCRyZXQgPT09IGZhbHNlKSAkcmV0ID0gbnVsbDsKCQlpZiAoIWlzX251bGwoJHJldCkpIHsKCQkJZm9yZWFjaCAo'));
	@fwrite($fp, base64_decode('JHJldCBhcyAka2V5ID0+ICYkdmFsdWUpewoJCQkJJHR5cGUgPSBwZ19maWVsZF90eXBlKCR0aGlzLT5yZXMscGdfZmllbGRfbnVtKCR0aGlzLT5yZXMsICRrZXkpKTsKCQkJCWlmICgkdHlwZSA9PSAnYm9vbCcpewoJCQkJCSR2YWx1ZSA9ICgkdmFsdWUgPT0gJ3Qn'));
	@fwrite($fp, base64_decode('KTsKCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gJHJldDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZmV0Y2hfb2JqZWN0KCkvKjogP29iamVjdCovIHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIlRoZSBxdWVyeSBo'));
	@fwrite($fp, base64_decode('YXMgcmV0dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMgbm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoJCSRyZXQgPSBwZ19mZXRjaF9vYmplY3QoJHRoaXMtPnJlcyk7CgkJaWYgKCRyZXQgPT09IGZhbHNlKSAkcmV0ID0gbnVsbDsKCQlpZiAoIWlzX251bGwo'));
	@fwrite($fp, base64_decode('JHJldCkpIHsKCQkJZm9yZWFjaCAoJHJldCBhcyAka2V5ID0+ICYkdmFsdWUpewoJCQkJJHR5cGUgPSBwZ19maWVsZF90eXBlKCR0aGlzLT5yZXMscGdfZmllbGRfbnVtKCR0aGlzLT5yZXMsICRrZXkpKTsKCQkJCWlmICgkdHlwZSA9PSAnYm9vbCcpewoJCQkJCSR2'));
	@fwrite($fp, base64_decode('YWx1ZSA9ICgkdmFsdWUgPT0gJ3QnKTsKCQkJCX0KCQkJfQoJCX0KCQlyZXR1cm4gJHJldDsKCX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/database/pgsql/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/pgsql/plugin.inc.php');
	writefile_6();
	if (!is_file('plugins/database/pgsql/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/pgsql/plugin.inc.php');
	} else if (sha1_file('plugins/database/pgsql/plugin.inc.php') != '1461829e1f6493697b1880cf60f590ac7f832d68') {
		warn('File cannot be created (checksum mismatch): plugins/database/pgsql/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/pgsql/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/pgsql/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/pgsql/plugin.inc.php') !== '1461829e1f6493697b1880cf60f590ac7f832d68') {
		if (@sha1_file('plugins/database/pgsql/plugin.inc.php') !== '523be7e7ba846e2f4a85c2c15eca4a100ca21378') {
			warn('File was modified. Will overwrite the changes now: plugins/database/pgsql/plugin.inc.php');
			$tmp = pathinfo('plugins/database/pgsql/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/pgsql/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/pgsql/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('plugins/database/pgsql/plugin.inc.php') !== '1461829e1f6493697b1880cf60f590ac7f832d68') {
			warn('File cannot be written (checksum mismatch): plugins/database/pgsql/plugin.inc.php');
		}
	}
}

// Files different: plugins/database/sqlite3/plugin.inc.php
function writefile_7() {
	@$fp = fopen('plugins/database/sqlite3/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpblNRTGl0ZTMgZXh0ZW5kcyBPSURwbHVzRGF0YWJhc2VQbHVnaW4gewoJcHJpdmF0ZSAk'));
	@fwrite($fp, base64_decode('Y29ubiA9IG51bGw7Cglwcml2YXRlICRwcmVwYXJlX2NhY2hlID0gYXJyYXkoKTsKCXByaXZhdGUgJGxhc3RfZXJyb3IgPSBudWxsOyAvLyBkbyB0aGUgc2FtZSBsaWtlIE15U1FMK1BETywganVzdCB0byBiZSBlcXVhbCBpbiB0aGUgYmVoYXZpb3IKCglwdWJsaWMg'));
	@fwrite($fp, base64_decode('c3RhdGljIGZ1bmN0aW9uIGdldFBsdWdpbkluZm9ybWF0aW9uKCk6IGFycmF5IHsKCQkkb3V0ID0gYXJyYXkoKTsKCQkkb3V0WyduYW1lJ10gPSAnU1FMaXRlMyc7CgkJJG91dFsnYXV0aG9yJ10gPSAnVmlhVGhpbmtTb2Z0JzsKCQkkb3V0Wyd2ZXJzaW9uJ10gPSBu'));
	@fwrite($fp, base64_decode('dWxsOwoJCSRvdXRbJ2Rlc2NyaXB0aW9uSFRNTCddID0gbnVsbDsKCQlyZXR1cm4gJG91dDsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG5hbWUoKTogc3RyaW5nIHsKCQlyZXR1cm4gIlNRTGl0ZTMiOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBkb1F1ZXJ5KHN0'));
	@fwrite($fp, base64_decode('cmluZyAkc3FsLCAvKj9hcnJheSovICRwcmVwYXJlZF9hcmdzPW51bGwpOiBPSURwbHVzUXVlcnlSZXN1bHQgewoJCSR0aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkcHJlcGFyZWRfYXJncykpIHsKCQkJdHJ5IHsKCQkJCSRyZXMgPSAkdGhp'));
	@fwrite($fp, base64_decode('cy0+Y29ubi0+cXVlcnkoJHNxbCk7CgkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJJHJlcyA9IGZhbHNlOwoJCQl9CgkJCWlmICgkcmVzID09PSBmYWxzZSkgewoJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSAkdGhpcy0+Y29ubi0+bGFzdEVycm9yTXNnKCk7'));
	@fwrite($fp, base64_decode('CgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkdGhpcy0+ZXJyb3IoKSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gbmV3IE9JRHBsdXNRdWVyeVJlc3VsdFNRTGl0ZTMoJHJlcyk7CgkJCX0KCQl9IGVsc2UgewoJCQlpZiAoIWlzX2FycmF5'));
	@fwrite($fp, base64_decode('KCRwcmVwYXJlZF9hcmdzKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIidwcmVwYXJlZF9hcmdzJyBtdXN0IGJlIGVpdGhlciBOVUxMIG9yIGFuIEFSUkFZLiIpOwoJCQl9CgoJCQkvLyBjb252ZXJ0ID8gPyA/IHRvIDpwYXJhbTEgOnBhcmFtMiA6'));
	@fwrite($fp, base64_decode('cGFyYW0zIC4uLgoJCQkkc3FsID0gcHJlZ19yZXBsYWNlX2NhbGxiYWNrKCdAXFw/QCcsIGZ1bmN0aW9uKCRmb3VuZCkgewoJCQkJc3RhdGljICRpID0gMDsKCQkJCSRpKys7CgkJCQlyZXR1cm4gJzpwYXJhbScuJGk7CgkJCX0sICRzcWwpOwoKCQkJaWYgKGlzc2V0'));
	@fwrite($fp, base64_decode('KCR0aGlzLT5wcmVwYXJlX2NhY2hlWyRzcWxdKSkgewoJCQkJJHN0bXQgPSAkdGhpcy0+cHJlcGFyZV9jYWNoZVskc3FsXTsKCQkJfSBlbHNlIHsKCQkJCXRyeSB7CgkJCQkJJHN0bXQgPSAkdGhpcy0+Y29ubi0+cHJlcGFyZSgkc3FsKTsKCQkJCX0gY2F0Y2ggKEV4'));
	@fwrite($fp, base64_decode('Y2VwdGlvbiAkZSkgewoJCQkJCSRzdG10ID0gZmFsc2U7CgkJCQl9CgkJCQlpZiAoJHN0bXQgPT09IGZhbHNlKSB7CgkJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSAkdGhpcy0+Y29ubi0+bGFzdEVycm9yTXNnKCk7CgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNl'));
	@fwrite($fp, base64_decode('cHRpb24oJHNxbCwgJ0Nhbm5vdCBwcmVwYXJlIHN0YXRlbWVudDogJy4kdGhpcy0+ZXJyb3IoKSk7CgkJCQl9CgkJCQkkdGhpcy0+cHJlcGFyZV9jYWNoZVskc3FsXSA9ICRzdG10OwoJCQl9CgoJCQlpZiAoJHN0bXQtPnBhcmFtQ291bnQoKSAhPSBjb3VudCgkcHJl'));
	@fwrite($fp, base64_decode('cGFyZWRfYXJncykpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCdQcmVwYXJlZCBhcmd1bWVudCBsaXN0IHNpemUgbm90IG1hdGNoaW5nIG51bWJlciBvZiBwcmVwYXJlZCBzdGF0ZW1lbnQgYXJndW1lbnRzJyk7CgkJCX0KCQkJJGkgPSAxOwoJCQlm'));
	@fwrite($fp, base64_decode('b3JlYWNoICgkcHJlcGFyZWRfYXJncyBhcyAmJHZhbHVlKSB7CgkJCQlpZiAoaXNfYm9vbCgkdmFsdWUpKSAkdmFsdWUgPSAkdmFsdWUgPyAnMScgOiAnMCc7CgkJCQkkc3RtdC0+YmluZFZhbHVlKCc6cGFyYW0nLiRpLCAkdmFsdWUsIFNRTElURTNfVEVYVCk7CgkJ'));
	@fwrite($fp, base64_decode('CQkkaSsrOwoJCQl9CgoJCQl0cnkgewoJCQkJJHBzID0gJHN0bXQtPmV4ZWN1dGUoKTsKCQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCQkkcHMgPSBmYWxzZTsKCQkJfQoJCQlpZiAoJHBzID09PSBmYWxzZSkgewoJCQkJJHRoaXMtPmxhc3RfZXJyb3IgPSAk'));
	@fwrite($fp, base64_decode('dGhpcy0+Y29ubi0+bGFzdEVycm9yTXNnKCk7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkdGhpcy0+ZXJyb3IoKSk7CgkJCX0KCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRTUUxpdGUzKCRwcyk7CgkJfQoJfQoKCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBmdW5jdGlvbiBpbnNlcnRfaWQoKTogaW50IHsKCQl0cnkgewoJCQkvLyBOb3RlOiBUaGlzIHdpbGwgYWx3YXlzIGdpdmUgcmVzdWx0cyBldmVuIGZvciB0YWJsZXMgdGhhdCBkbyBub3QKCQkJLy8gaGF2ZSBhdXRvaW5jcmVtZW50cywgYmVjYXVzZSBTUUxpdGUz'));
	@fwrite($fp, base64_decode('IGFzc2lnbnMgYW4gImF1dG9pbmRleCIgZm9yIGV2ZXJ5IHRhYmxlLAoJCQkvLyBlLmcuIHRoZSBjb25maWcgdGFibGUuIFRoZXJlZm9yZSwgb3VyIHRlc3RjYXNlIHdpbGwgZmFpbC4KCQkJcmV0dXJuIChpbnQpJHRoaXMtPmNvbm4tPmxhc3RJbnNlcnRSb3dJRCgp'));
	@fwrite($fp, base64_decode('OwoJCQkvL3JldHVybiAoaW50KSR0aGlzLT5xdWVyeSgnc2VsZWN0IGxhc3RfaW5zZXJ0X3Jvd2lkKCkgYXMgaWQnKS0+ZmV0Y2hfb2JqZWN0KCktPmlkOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQlyZXR1cm4gMDsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGVycm9yKCk6IHN0cmluZyB7CgkJJGVyciA9ICR0aGlzLT5sYXN0X2Vycm9yOwoJCWlmICgkZXJyID09IG51bGwpICRlcnIgPSAnJzsKCQlyZXR1cm4gJGVycjsKCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9Db25uZWN0KCk6IHZvaWQgewoJCWlmICghY2xh'));
	@fwrite($fp, base64_decode('c3NfZXhpc3RzKCdTUUxpdGUzJykpIHRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ1BIUCBleHRlbnNpb24gIlNRTGl0ZTMiIG5vdCBpbnN0YWxsZWQnKTsKCgkJLy8gVHJ5IGNvbm5lY3RpbmcgdG8gdGhlIGRhdGFiYXNlCgkJ'));
	@fwrite($fp, base64_decode('dHJ5IHsKCQkJJGZpbGVuYW1lICAgPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdTUUxJVEUzX0ZJTEUnLCAnb2lkcGx1c19zcWxpdGUzLmRiJyk7CgkJCSRmbGFncyAgICAgID0gU1FMSVRFM19PUEVOX1JFQURXUklURS8qIHwgU1FMSVRFM19PUEVO'));
	@fwrite($fp, base64_decode('X0NSRUFURSovOwoJCQkkZW5jcnlwdGlvbiA9IE9JRHBsdXM6OmJhc2VDb25maWcoKS0+Z2V0VmFsdWUoJ1NRTElURTNfRU5DUllQVElPTicsICcnKTsKCgkJCSRpc19hYnNvbHV0ZV9wYXRoID0gKChzdWJzdHIoJGZpbGVuYW1lLDAsMSkgPT0gJy8nKSB8fCAoc3Vi'));
	@fwrite($fp, base64_decode('c3RyKCRmaWxlbmFtZSwxLDEpID09ICc6JykpOwoJCQlpZiAoISRpc19hYnNvbHV0ZV9wYXRoKSB7CgkJCQkvLyBGaWxlbmFtZSBtdXN0IGJlIGFic29sdXRlIHBhdGgsIHNpbmNlIE9JRHBsdXMgY2FuIGJlIGNhbGxlZCBmcm9tIHNldmVyYWwgbG9jYXRpb25zIChl'));
	@fwrite($fp, base64_decode('LmcuIHJlZ2lzdHJhdGlvbiB3aXphcmQpCgkJCQkkZmlsZW5hbWUgPSBfX0RJUl9fIC4gJy8uLi8uLi8uLi8nIC4gJGZpbGVuYW1lOwoJCQl9CgoJCQkkdGhpcy0+Y29ubiA9IG5ldyBTUUxpdGUzKCRmaWxlbmFtZSwgJGZsYWdzLCAkZW5jcnlwdGlvbik7CgkJfSBj'));
	@fwrite($fp, base64_decode('YXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Nvbm5lY3Rpb24gdG8gdGhlIGRhdGFiYXNlIGZhaWxlZCEgJyAuICRlLT5nZXRNZXNzYWdlKCkpOwoJCX0KCgkJJHRoaXMtPmNvbm4t'));
	@fwrite($fp, base64_decode('PmNyZWF0ZUNvbGxhdGlvbignTkFUVVJBTF9DTVAnLCAnc3RybmF0Y21wJyk7IC8vIHdlIG5lZWQgdGhhdCBmb3IgbmF0U29ydCgpCgkJJHRoaXMtPmNvbm4tPmVuYWJsZUV4Y2VwdGlvbnModHJ1ZSk7IC8vIFRocm93IGV4Y2VwdGlvbnMgaW5zdGVhZCBvZiBQSFAg'));
	@fwrite($fp, base64_decode('d2FybmluZ3MKCgkJJHRoaXMtPnByZXBhcmVfY2FjaGUgPSBhcnJheSgpOwoJCSR0aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9EaXNjb25uZWN0KCk6IHZvaWQgewoJCSR0aGlzLT5wcmVwYXJlX2NhY2hlID0gYXJyYXko'));
	@fwrite($fp, base64_decode('KTsKCQkkdGhpcy0+Y29ubiA9IG51bGw7Cgl9CgoJcHJpdmF0ZSAkaW50cmFuc2FjdGlvbiA9IGZhbHNlOwoKCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9iZWdpbigpOiB2b2lkIHsKCQlpZiAoJHRoaXMtPmludHJhbnNhY3Rpb24pIHRocm93IG5ldyBPSURw'));
	@fwrite($fp, base64_decode('bHVzRXhjZXB0aW9uKCJOZXN0ZWQgdHJhbnNhY3Rpb25zIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZGF0YWJhc2UgcGx1Z2luLiIpOwoJCSR0aGlzLT5xdWVyeSgnYmVnaW4gdHJhbnNhY3Rpb24nKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IHRydWU7Cgl9'));
	@fwrite($fp, base64_decode('CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpOiB2b2lkIHsKCQkkdGhpcy0+cXVlcnkoJ2NvbW1pdCcpOwoJCSR0aGlzLT5pbnRyYW5zYWN0aW9uID0gZmFsc2U7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3JvbGxiYWNrKCk6'));
	@fwrite($fp, base64_decode('IHZvaWQgewoJCSR0aGlzLT5xdWVyeSgncm9sbGJhY2snKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZhbHNlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBzcWxEYXRlKCk6IHN0cmluZyB7CgkJcmV0dXJuICdkYXRldGltZSgpJzsKCX0KCglwdWJsaWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gc2xhbmcoKTogc3RyaW5nIHsKCQlyZXR1cm4gJ3NxbGl0ZSc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG5hdE9yZGVyKCRmaWVsZG5hbWUsICRvcmRlcj0nYXNjJyk6IHN0cmluZyB7CgoJCS8vIFRoaXMgY29sbGF0aW9uIGlzIGRlZmluZWQgaW4gdGhlIGRhdGFi'));
	@fwrite($fp, base64_decode('YXNlIHBsdWdpbiB1c2luZyBTUUxpdGUzOjpjcmVhdGVDb2xsYXRpb24oKQoJCXJldHVybiAiJGZpZWxkbmFtZSBDT0xMQVRFIE5BVFVSQUxfQ01QICRvcmRlciI7CgoJfQp9CgpjbGFzcyBPSURwbHVzUXVlcnlSZXN1bHRTUUxpdGUzIGV4dGVuZHMgT0lEcGx1c1F1'));
	@fwrite($fp, base64_decode('ZXJ5UmVzdWx0IHsKCXByb3RlY3RlZCAkbm9fcmVzdWx0c2V0OwoJcHJvdGVjdGVkICRyZXM7Cglwcm90ZWN0ZWQgJGFsbF9yZXN1bHRzID0gYXJyYXkoKTsKCXByb3RlY3RlZCAkY3Vyc29yID0gMDsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHJlcykg'));
	@fwrite($fp, base64_decode('ewoJCWlmIChpc19ib29sKCRyZXMpIHx8ICgkcmVzLT5udW1Db2x1bW5zKCkgPT0gMCkpIHsKCQkJLy8gV2h5IGRvIHFlIG5lZWQgdG8gY2hlY2sgbnVtQ29sdW1ucygpID8KCQkJLy8gV2UgbmVlZCB0byBkbyB0aGlzIGJlY2F1c2UgU1FMaXRlMzo6cXVlcnkoKSB3'));
	@fwrite($fp, base64_decode('aWxsIGFsd2F5cwoJCQkvLyByZXR1cm4gYSByZXN1bHQsIGV2ZW4gZm9yIE5vbi1TRUxFQ1QgcXVlcmllcy4KCQkJLy8gSWYgeW91IGNhbGwgZmV0Y2hBcnJheSgpLCB0aGUgcXVlcnkgKGUuZy4gSU5TRVJUKQoJCQkvLyB3aWxsIGJlIGV4ZWN1dGVkIGFnYWluLgoJ'));
	@fwrite($fp, base64_decode('CQkkdGhpcy0+bm9fcmVzdWx0c2V0ID0gdHJ1ZTsKCQkJcmV0dXJuOwoJCX0KCgkJaWYgKCEkdGhpcy0+bm9fcmVzdWx0c2V0KSB7CgkJCSR0aGlzLT5yZXMgPSAkcmVzOwoJCQl3aGlsZSAoJHJvdyA9ICR0aGlzLT5yZXMtPmZldGNoQXJyYXkoU1FMSVRFM19BU1NP'));
	@fwrite($fp, base64_decode('QykpIHsKCQkJCS8vIHdlIG5lZWQgdGhhdCBiZWNhdXNlIHRoZXJlIGlzIG5vIG51bVJvd3MoKSBmdW5jdGlvbiEKCQkJCSR0aGlzLT5hbGxfcmVzdWx0c1tdID0gJHJvdzsKCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gX19kZXN0cnVjdCgpIHsKCQkkdGhp'));
	@fwrite($fp, base64_decode('cy0+YWxsX3Jlc3VsdHMgPSBhcnJheSgpOwoJCWlmICghaXNfbnVsbCgkdGhpcy0+cmVzKSkgewoJCQkkdGhpcy0+cmVzLT5maW5hbGl6ZSgpOwoJCQkkdGhpcy0+cmVzID0gbnVsbDsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNvbnRhaW5zUmVzdWx0U2V0KCk6'));
	@fwrite($fp, base64_decode('IGJvb2wgewoJCXJldHVybiAhJHRoaXMtPm5vX3Jlc3VsdHNldDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbnVtX3Jvd3MoKTogaW50IHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIlRoZSBxdWVyeSBoYXMgcmV0'));
	@fwrite($fp, base64_decode('dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMgbm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoJCXJldHVybiBjb3VudCgkdGhpcy0+YWxsX3Jlc3VsdHMpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBmZXRjaF9hcnJheSgpLyo6ID9hcnJheSovIHsKCQlpZiAoJHRo'));
	@fwrite($fp, base64_decode('aXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oIlRoZSBxdWVyeSBoYXMgcmV0dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMgbm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoKCQkvLyRyZXQgPSAkdGhpcy0+cmVzLT5mZXRjaEFy'));
	@fwrite($fp, base64_decode('cmF5KFNRTElURTNfQVNTT0MpOwoJCSRjdXJzb3IgPSAkdGhpcy0+Y3Vyc29yOwoJCWlmICghaXNzZXQoJHRoaXMtPmFsbF9yZXN1bHRzWyRjdXJzb3JdKSkgcmV0dXJuIG51bGw7CgkJJHJldCA9ICR0aGlzLT5hbGxfcmVzdWx0c1skY3Vyc29yXTsKCQkkY3Vyc29y'));
	@fwrite($fp, base64_decode('Kys7CgkJJHRoaXMtPmN1cnNvciA9ICRjdXJzb3I7CgoJCWlmICgkcmV0ID09PSBmYWxzZSkgJHJldCA9IG51bGw7CgkJcmV0dXJuICRyZXQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNoX29iamVjdCgpLyo6ID9vYmplY3QqLyB7CgkJaWYgKCR0aGlzLT5ub19y'));
	@fwrite($fp, base64_decode('ZXN1bHRzZXQpIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCgkJJGFyeSA9ICR0aGlzLT5mZXRjaF9hcnJheSgpOwoJCWlmICgh'));
	@fwrite($fp, base64_decode('JGFyeSkgcmV0dXJuIG51bGw7CgoJCSRvYmogPSBuZXcgc3RkQ2xhc3M7CgkJZm9yZWFjaCAoJGFyeSBhcyAkbmFtZSA9PiAkdmFsKSB7CgkJCSRvYmotPiRuYW1lID0gJHZhbDsKCQl9CgkJcmV0dXJuICRvYmo7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/database/sqlite3/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/sqlite3/plugin.inc.php');
	writefile_7();
	if (!is_file('plugins/database/sqlite3/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/sqlite3/plugin.inc.php');
	} else if (sha1_file('plugins/database/sqlite3/plugin.inc.php') != '672869e327ccb1058136e0b4779b91a113dce14d') {
		warn('File cannot be created (checksum mismatch): plugins/database/sqlite3/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/sqlite3/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/sqlite3/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/sqlite3/plugin.inc.php') !== '672869e327ccb1058136e0b4779b91a113dce14d') {
		if (@sha1_file('plugins/database/sqlite3/plugin.inc.php') !== '962199723319ee6395a8d97880c0c73a19507acf') {
			warn('File was modified. Will overwrite the changes now: plugins/database/sqlite3/plugin.inc.php');
			$tmp = pathinfo('plugins/database/sqlite3/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/sqlite3/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/sqlite3/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('plugins/database/sqlite3/plugin.inc.php') !== '672869e327ccb1058136e0b4779b91a113dce14d') {
			warn('File cannot be written (checksum mismatch): plugins/database/sqlite3/plugin.inc.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 266\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 266') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

