<?php /* <ViaThinkSoftSignature>
mt5QNiO4W0qFGGJs6RRXPtJPfegoJ0k5XbDLSPy4XdOhNLjOnU/AbxzL90cRyqRiQ
PQC95U/TOa0kpLdv2cix1vuTUIUiQkuYeoqolnIMhBM/ylIcdvUAWAo6xFHvuuJmJ
C8KghjXnwXv+R8lJHjxITcLmh2v0PDwO/gJub1B1Oy0nfY3cVEm+eD7NDf0hQ8rKT
6cvjLZzLO490MHjev6aTEnSW2MrsH/TopflDX6i6DIWbW7v9AXs3Q1VgdPcDh0Gxj
tNPW3hfpuiHBSRSIYuudQdCSYFDP1NbOZywWWZlgCkW2LgoNeCcxEZPl4LUNGa+qc
+tPagEdGKVfCFjuzC3APg8xNvwqiAlYtb+h1TNSxIqLaAmL9keX+sjVy8kOlbTvUZ
YP3ptCOqL1GzGFFg7mfyp2CRYLnD/UhPbExiTArZBbmxQ5Al/bCNKUCdmeVGQcsjO
COQBIANqfm800+rvhX2nIYKtIK4DZidBQy4AZytRgqFQYSTYHrpX29vchk4o85KdW
XexiKLrzv3LKwjN07ouuzezqnO96FY8fs9Gid9yHP52/bGQp2e0jnddjIQ4m6ZYS8
iw4Yy4S31GlfzqEaEShTunnr5WnnzUDT7TfV3TwRjeqI5aQhg3RezMd8XzMsSztjt
ZACOO4VgdxGATosW0d9+aDMbeIfctORwGvGh2A0KhtK8/BhbA1UkpxwQNioHTb+H/
a5lXE0fdHWp0qP/jTWsgPEjl5aQcVtF6Fnrex2TwOqKUqOdFwHguO9jU4Y/iPtPV3
Hz3CuLvrVILEV0JJ9NFvrskwnymU3tWEvlySQ2ar98WNqEjfcDKfknak7gq7ZiQZ3
1XDhONJmX+vX8ph0W6exVuqXcv5a5A5ymYrzUEK3WJnNbufBr7slrrrcTe5Ua30dW
1sZX1A0qF/glpO79Z8EAU+n90Sza1HzPfYh7HigxhL/hAG6UlTNpLsWURbAJ3Ll9w
G5vjfOt7HZCDesJ+aL/WU7qIwtZV2941NWhZ+OixyMdE8L3Lqipwmx9R+kHSEHyIy
LqHbdwJ3N/zmGMRjyL2lz1sS/tkFZPb15kxc5H+Sfm7u/SBVk2fE2OI2W9fdo1hqu
0yQEoKUsb+PEjiJ9Gx2G2aLpuCsPgVk79fs/AN9q8VfehAuBuCdBOW4amOAjILgA0
NP9oKgJUCReZqJjDL5AnYEUMSS3q2o+NfbQw5CpfE+IMx90VDYdARWXVWHXliwiP5
PpFXZCsaw/Qlee6f2jZJYYMctxJgupBBudNDXBuOidYmpss2Xa6kto5o7kW7ZguLY
+XYw9IHSRhTr+iZ6N0EuNvVDoLoq1j3xm3RBYPMADV07kHF//881tNNdHXoJbVw0L
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 769') {
	err('This update can only be applied to OIDplus version 2.0.0.769!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js', 'w');
	@fwrite($fp, base64_decode('KGZ1bmN0aW9uIChnbG9iYWxPYmplY3QpIHsKICAndXNlIHN0cmljdCc7CgovKioKKiBXRUlEPD0+T0lEIENvbnZlcnRlcgoqIChjKSBXZWJmYW4uZGUsIFZpYVRoaW5rU29mdAoqIFJldmlzaW9uIDIwMjItMDMtMDYKKiovCgovLyBXaGF0IGlzIGEgV0VJRD8KLy8g'));
	@fwrite($fp, base64_decode('ICAgIEEgV0VJRCAoV0Vob3dza2kgSURlbnRpZmllcikgaXMgYW4gYWx0ZXJuYXRpdmUgcmVwcmVzZW50YXRpb24gb2YgYW4KLy8gICAgIE9JRCAoT2JqZWN0IElEZW50aWZpZXIpIGRlZmluZWQgYnkgVGlsbCBXZWhvd3NraS4KLy8gICAgIEluIE9JRHMsIGFyY3Mg'));
	@fwrite($fp, base64_decode('YXJlIGluIGRlY2ltYWwgYmFzZSAxMC4gSW4gV0VJRHMsIHRoZSBhcmNzIGFyZSBpbiBiYXNlIDM2LgovLyAgICAgQWxzbywgZWFjaCBXRUlEIGhhcyBhIGNoZWNrIGRpZ2l0IGF0IHRoZSBlbmQgKGNhbGxlZCBXZUxvaG4gQ2hlY2sgRGlnaXQpLgovLwovLyBDaGFu'));
	@fwrite($fp, base64_decode('Z2VzIGluIHRoZSBEZWNlbWJlciAyMDIxIGRlZmluaXRpb24gYnkgRGFuaWVsIE1hcnNjaGFsbDoKLy8gICAgIC0gVGhlcmUgYXJlIHNldmVyYWwgY2xhc3NlcyBvZiBXRUlEcyB3aGljaCBoYXZlIGRpZmZlcmVudCBPSUQgYmFzZXM6Ci8vICAgICAgICAgICAiQ2xh'));
	@fwrite($fp, base64_decode('c3MgQyIgV0VJRDogIHdlaWQ6RVhBTVBMRS0zICAgICAgKGJhc2UgLjEuMy42LjEuNC4xLjM3NTUzLjguKQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICBvaWQ6MS4zLjYuMS40LjEuMzc1NTMuOC4zMjQ4ODE5MjI3NAovLyAgICAgICAgICAgIkNsYXNzIEIi'));
	@fwrite($fp, base64_decode('IFdFSUQ6ICB3ZWlkOnBlbjpTWDAtN1BSLTYgIChiYXNlIC4xLjMuNi4xLjQuMS4pCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9pZDoxLjMuNi4xLjQuMS4zNzQ3Ni45OTk5Ci8vICAgICAgICAgICAiQ2xhc3MgQSIgV0VJRDogIHdlaWQ6cm9vdDoyLVJS'));
	@fwrite($fp, base64_decode('LTIgICAgKGJhc2UgLikKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2lkOjIuOTk5Ci8vICAgICAtIFRoZSBuYW1lc3BhY2UgKHdlaWQ6LCB3ZWlkOnBlbjosIHdlaWQ6cm9vdDopIGlzIG5vdyBjYXNlIGluc2Vuc2l0aXZlLgovLyAgICAgLSBQYWRkaW5n'));
	@fwrite($fp, base64_decode('IHdpdGggJzAnIGNoYXJhY3RlcnMgaXMgdmFsaWQgKGUuZy4gd2VpZDowMDBFWEFNUExFLTMpCi8vICAgICAgIFRoZSBwYWRkaW5ncyBkbyBub3QgY291bnQgaW50byB0aGUgV2VMdWhuIGNoZWNrLWRpZ2l0LgoKdmFyIFdlaWRPaWRDb252ZXJ0ZXIgPSB7CgoJd2VM'));
	@fwrite($fp, base64_decode('dWhuQ2hlY2tEaWdpdDogZnVuY3Rpb24oc3RyKSB7CgkJLy8gUGFkZGluZyB6ZXJvcyBkb24ndCBjb3VudCB0byB0aGUgY2hlY2sgZGlnaXQgKERlY2VtYmVyIDIwMjEpCgkJdmFyIGFyeSA9IHN0ci5zcGxpdCgnLScpOwoJCWFyeS5mb3JFYWNoKChvLGksYSkgPT4g'));
	@fwrite($fp, base64_decode('ewoJCQlpZiAoYVtpXS5tYXRjaCgvXjArJC8pKSB7CgkJCQlhW2ldID0gJzAnOwoJCQl9IGVsc2UgewoJCQkJYVtpXSA9IGFbaV0ucmVwbGFjZSgvXjArLywgJycpOwoJCQl9CgkJfSApOwoJCXN0ciA9IGFyeS5qb2luKCctJyk7CgoJCS8vIHJlbW92ZSBzZXBhcmF0'));
	@fwrite($fp, base64_decode('b3JzIGZyb20gdGhlIFdFSUQgc3RyaW5nCgkJdmFyIHdya3N0ciA9IHN0ci5yZXBsYWNlQWxsKCctJywgJycpOwoKCQkvLyBSZXBsYWNlICdhJyB3aXRoICcxMCcsICdiJyB3aXRoICcxJywgZXRjLgoJCWZvciAodmFyIGk9MDsgaTwyNjsgaSsrKSB7CgkJCXdya3N0'));
	@fwrite($fp, base64_decode('ciA9IHdya3N0ci50b0xvd2VyQ2FzZSgpLnJlcGxhY2VBbGwoU3RyaW5nLmZyb21DaGFyQ29kZSgnYScuY2hhckNvZGVBdCgwKStpKS50b0xvd2VyQ2FzZSgpLCAoMTAraSkpOwoJCX0KCgkJLy8gQXQgdGhlIGVuZCwgd3Jrc3RyIHNob3VsZCBvbmx5IGNvbnRhaW4g'));
	@fwrite($fp, base64_decode('ZGlnaXRzISBWZXJpZnkgaXQhCgkJaWYgKCF3cmtzdHIubWF0Y2goL15cZCskLykpIHsKCQkJY29uc29sZS5lcnJvcigid2VMdWhuQ2hlY2tEaWdpdDogSW52YWxpZCBpbnB1dCIpOwoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQkvLyBOb3cgZG8gdGhlIHN0YW5kYXJk'));
	@fwrite($fp, base64_decode('IEx1aG4gYWxnb3JpdGhtCgkJdmFyIG5iZGlnaXRzID0gd3Jrc3RyLmxlbmd0aDsKCQl2YXIgcGFyaXR5ID0gbmJkaWdpdHMgJiAxOyAvLyBtb2QgMgoJCXZhciBzdW0gPSAwOwoJCWZvciAodmFyIG49bmJkaWdpdHMtMTsgbj49MDsgbi0tKSB7CgkJCXZhciBkaWdp'));
	@fwrite($fp, base64_decode('dCA9IHBhcnNlSW50KHdya3N0ci5zdWJzdHIobiwxKSk7CgkJCWlmICgobiAmIDEpICE9IHBhcml0eSkgZGlnaXQgKj0gMjsKCQkJaWYgKGRpZ2l0ID4gOSkgZGlnaXQgLT0gOTsKCQkJc3VtICs9IGRpZ2l0OwoJCX0KCQlyZXR1cm4gKHN1bSUxMCkgPT0gMCA/IDAg'));
	@fwrite($fp, base64_decode('OiAxMC0oc3VtJTEwKTsKCX0sCgoJb2lkU2FuaXRpemU6IGZ1bmN0aW9uKG9pZCkgewoJCXZhciBvaWQgPSBvaWQudHJpbSgpOwoKCQlpZiAob2lkLnN1YnN0cigwLDEpID09ICcuJykgb2lkID0gb2lkLnN1YnN0cigxKTsgLy8gcmVtb3ZlIGxlYWRpbmcgZG90CgoJ'));
	@fwrite($fp, base64_decode('CWlmIChvaWQgIT0gJycpIHsKCQkJdmFyIGVsZW1lbnRzID0gb2lkLnNwbGl0KCcuJyk7CgoJCQl2YXIgZmFpbCA9IGZhbHNlOwoJCQllbGVtZW50cy5mb3JFYWNoKChvLGksYSkgPT4gewoJCQkJaWYgKGFbaV0udHJpbSgpID09ICcnKSBmYWlsID0gdHJ1ZTsKCgkJ'));
	@fwrite($fp, base64_decode('CQlpZiAoIWFbaV0ubWF0Y2goL15cZCskLykpIGZhaWwgPSB0cnVlOwoKCQkJCWlmIChhW2ldLm1hdGNoKC9eMCskLykpIHsKCQkJCQlhW2ldID0gJzAnOwoJCQkJfSBlbHNlIHsKCQkJCQlhW2ldID0gYVtpXS5yZXBsYWNlKC9eMCsvLCAnJyk7CgkJCQl9CgkJCX0p'));
	@fwrite($fp, base64_decode('OwoJCQlpZiAoZmFpbCkgcmV0dXJuIGZhbHNlOwoKCQkJb2lkID0gZWxlbWVudHMuam9pbigiLiIpOwoKCQkJaWYgKChlbGVtZW50cy5sZW5ndGggPiAwKSAmJiAoZWxlbWVudHNbMF0gIT0gJzAnKSAmJiAoZWxlbWVudHNbMF0gIT0gJzEnKSAmJiAoZWxlbWVudHNb'));
	@fwrite($fp, base64_decode('MF0gIT0gJzInKSkgcmV0dXJuIGZhbHNlOwoJCQlpZiAoKGVsZW1lbnRzLmxlbmd0aCA+IDEpICYmICgoZWxlbWVudHNbMF0gPT0gJzAnKSB8fCAoZWxlbWVudHNbMF0gPT0gJzEnKSkgJiYgKChlbGVtZW50c1sxXS5sZW5ndGggPiAyKSB8fCAoZWxlbWVudHNbMV0g'));
	@fwrite($fp, base64_decode('PiAzOSkpKSByZXR1cm4gZmFsc2U7CgkJfQoKCQlyZXR1cm4gb2lkOwoJfSwKCgkvLyBUcmFuc2xhdGVzIGEgV0VJRCB0byBhbiBPSUQKCS8vICJ3ZWlkOkVYQU1QTEUtMyIgYmVjb21lcyAiMS4zLjYuMS40LjEuMzc1NTMuOC4zMjQ4ODE5MjI3NCIKCS8vIElmIGl0'));
	@fwrite($fp, base64_decode('IGZhaWxlZCAoZS5nLiB3cm9uZyBuYW1lc3BhY2UsIHdyb25nIGNoZWNrc3VtLCBldGMuKSB0aGVuIGZhbHNlIGlzIHJldHVybmVkLgoJLy8gSWYgdGhlIHdlaWQgZW5kcyB3aXRoICc/JywgdGhlIGNoZWNrc3VtIHdpbGwgYmUgYWRkZWQKCS8vIFJldHVybiB2YWx1'));
	@fwrite($fp, base64_decode('ZSBpcyBhbiBhcnJheSB3aXRoIHRoZSBlbGVtZW50cyAib2lkIiBhbmQgIndlaWQiLgoJLy8gRXhhbXBsZToKCS8vICAgICB3ZWlkMm9pZCgid2VpZDpFWEFNUExFLT8iKS53ZWlkID09ICJ3ZWlkOkVYQU1QTEUtMyIKCS8vICAgICB3ZWlkMm9pZCgid2VpZDpFWEFN'));
	@fwrite($fp, base64_decode('UExFLT8iKS5vaWQgID09ICIxLjMuNi4xLjQuMS4zNzU1My44LjMyNDg4MTkyMjc0IgoJd2VpZDJvaWQ6IGZ1bmN0aW9uKHdlaWQpIHsKCQl2YXIgd2VpZCA9IHdlaWQudHJpbSgpOwoKCQl2YXIgcCA9IHdlaWQubGFzdEluZGV4T2YoJzonKTsKCQl2YXIgbmFtZXNw'));
	@fwrite($fp, base64_decode('YWNlID0gd2VpZC5zdWJzdHIoMCwgcCsxKTsKCQl2YXIgcmVzdCA9IHdlaWQuc3Vic3RyKHArMSk7CgoJCXZhciBiYXNlID0gbnVsbDsKCQluYW1lc3BhY2UgPSBuYW1lc3BhY2UudG9Mb3dlckNhc2UoKTsgLy8gbmFtZXNwYWNlIGlzIGNhc2UgaW5zZW5zaXRpdmUK'));
	@fwrite($fp, base64_decode('CQlpZiAobmFtZXNwYWNlID09ICd3ZWlkOicpIHsKCQkJLy8gQ2xhc3MgQwoJCQliYXNlID0gJzEtMy02LTEtNC0xLVNaNS04JzsKCQl9IGVsc2UgaWYgKG5hbWVzcGFjZSA9PSAnd2VpZDpwZW46JykgewoJCQkvLyBDbGFzcyBCCgkJCWJhc2UgPSAnMS0zLTYtMS00'));
	@fwrite($fp, base64_decode('LTEnOwoJCX0gZWxzZSBpZiAobmFtZXNwYWNlID09ICd3ZWlkOnJvb3Q6JykgewoJCQkvLyBDbGFzcyBBCgkJCWJhc2UgPSAnJzsKCQl9IGVsc2UgewoJCQkvLyBXcm9uZyBuYW1lc3BhY2UKCQkJY29uc29sZS5lcnJvcigid2VpZDJvaWQ6IFdyb25nIGlucHV0Iik7'));
	@fwrite($fp, base64_decode('CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCXdlaWQgPSByZXN0OwoKCQl2YXIgZWxlbWVudHMgPSAoKGJhc2UgIT0gJycpID8gYmFzZS5zcGxpdCgnLScpIDogW10pLmNvbmNhdCh3ZWlkLnNwbGl0KCctJykpOwoKCQl2YXIgZmFpbCA9IGZhbHNlOwoJCWVsZW1lbnRz'));
	@fwrite($fp, base64_decode('LmZvckVhY2goKG8saSxhKSA9PiB7CgkJCWlmIChhW2ldLnRyaW0oKSA9PSAnJykgZmFpbCA9IHRydWU7CgkJfSk7CgkJaWYgKGZhaWwpIHJldHVybiBmYWxzZTsKCgkJdmFyIGFjdHVhbF9jaGVja3N1bSA9IGVsZW1lbnRzLnBvcCgpOwoJCXZhciBleHBlY3RlZF9j'));
	@fwrite($fp, base64_decode('aGVja3N1bSA9IFdlaWRPaWRDb252ZXJ0ZXIud2VMdWhuQ2hlY2tEaWdpdChlbGVtZW50cy5qb2luKCctJykpOwoJCWlmIChhY3R1YWxfY2hlY2tzdW0gIT0gJz8nKSB7CgkJCWlmIChhY3R1YWxfY2hlY2tzdW0gIT0gZXhwZWN0ZWRfY2hlY2tzdW0pIHsKCQkJCWNv'));
	@fwrite($fp, base64_decode('bnNvbGUuZXJyb3IoIndlaWQyb2lkOiBXcm9uZyBjaGVja3N1bSIpOwoJCQkJcmV0dXJuIGZhbHNlOyAvLyB3cm9uZyBjaGVja3N1bQoJCQl9CgkJfSBlbHNlIHsKCQkJLy8gSWYgY2hlY2tzdW0gaXMgJz8nLCBpdCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBhY3R1'));
	@fwrite($fp, base64_decode('YWwgY2hlY2tzdW0sCgkJCS8vIGUuZy4gd2VpZDpFWEFNUExFLT8gYmVjb21lcyB3ZWlkOkVYQU1QTEUtMwoJCQl3ZWlkID0gd2VpZC5yZXBsYWNlKCc/JywgZXhwZWN0ZWRfY2hlY2tzdW0pOwoJCX0KCQllbGVtZW50cy5mb3JFYWNoKChvLGksYSkgPT4gewoJCQlh'));
	@fwrite($fp, base64_decode('W2ldID0gV2VpZE9pZENvbnZlcnRlci5iYXNlX2NvbnZlcnRfYmlnaW50KGFbaV0sIDM2LCAxMCk7CgkJfSk7CgkJdmFyIG9pZCA9IGVsZW1lbnRzLmpvaW4oJy4nKTsKCgkJd2VpZCA9IG5hbWVzcGFjZS50b0xvd2VyQ2FzZSgpICsgd2VpZC50b1VwcGVyQ2FzZSgp'));
	@fwrite($fp, base64_decode('OyAvLyBhZGQgbmFtZXNwYWNlIGFnYWluCgoJCW9pZCA9IFdlaWRPaWRDb252ZXJ0ZXIub2lkU2FuaXRpemUob2lkKTsKCQlpZiAob2lkID09IGZhbHNlKSByZXR1cm4gZmFsc2U7IC8vIGludmFsaWQgT0lECgoJCXJldHVybiB7ICJ3ZWlkIjogd2VpZCwgIm9pZCIg'));
	@fwrite($fp, base64_decode('OiBvaWQgfTsKCX0sCgoJLy8gQ29udmVydHMgYW4gT0lEIHRvIFdFSUQKCS8vICIxLjMuNi4xLjQuMS4zNzU1My44LjMyNDg4MTkyMjc0IiBiZWNvbWVzICJ3ZWlkOkVYQU1QTEUtMyIKCW9pZDJ3ZWlkOiBmdW5jdGlvbihvaWQpIHsKCQl2YXIgb2lkID0gV2VpZE9p'));
	@fwrite($fp, base64_decode('ZENvbnZlcnRlci5vaWRTYW5pdGl6ZShvaWQpOwoJCWlmIChvaWQgPT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCgkJdmFyIHdlaWRzdHIgPSBudWxsOwoJCWlmIChvaWQgIT0gJycpIHsKCQkJdmFyIGVsZW1lbnRzID0gb2lkLnNwbGl0KCcuJyk7CgkJCWVsZW1lbnRz'));
	@fwrite($fp, base64_decode('LmZvckVhY2goKG8saSxhKSA9PiB7CgkJCQlhW2ldID0gV2VpZE9pZENvbnZlcnRlci5iYXNlX2NvbnZlcnRfYmlnaW50KGFbaV0sIDEwLCAzNik7CgkJCX0pOwoJCQl3ZWlkc3RyID0gZWxlbWVudHMuam9pbigiLSIpOwoJCX0gZWxzZSB7CgkJCXdlaWRzdHIgPSAn'));
	@fwrite($fp, base64_decode('JzsKCQl9CgoJCXZhciBpc19jbGFzc19jID0gKHdlaWRzdHIuc3RhcnRzV2l0aCgnMS0zLTYtMS00LTEtU1o1LTgtJykgfHwgKHdlaWRzdHIgPT0gJzEtMy02LTEtNC0xLVNaNS04JykpOwoJCXZhciBpc19jbGFzc19iID0gKHdlaWRzdHIuc3RhcnRzV2l0aCgnMS0z'));
	@fwrite($fp, base64_decode('LTYtMS00LTEtJykgfHwgKHdlaWRzdHIgPT0gJzEtMy02LTEtNC0xJykpOwoJCXZhciBpc19jbGFzc19hID0gIWlzX2NsYXNzX2IgJiYgIWlzX2NsYXNzX2M7CgoJCXZhciBjaGVja3N1bSA9IFdlaWRPaWRDb252ZXJ0ZXIud2VMdWhuQ2hlY2tEaWdpdCh3ZWlkc3Ry'));
	@fwrite($fp, base64_decode('KTsKCgkJdmFyIG5hbWVzcGFjZSA9IG51bGw7CgkJaWYgKGlzX2NsYXNzX2MpIHsKCQkJd2VpZHN0ciA9IHdlaWRzdHIuc3Vic3RyKCcxLTMtNi0xLTQtMS1TWjUtOC0nLmxlbmd0aCk7CgkJCW5hbWVzcGFjZSA9ICd3ZWlkOic7CgkJfSBlbHNlIGlmIChpc19jbGFz'));
	@fwrite($fp, base64_decode('c19iKSB7CgkJCXdlaWRzdHIgPSB3ZWlkc3RyLnN1YnN0cignMS0zLTYtMS00LTEtJy5sZW5ndGgpOwoJCQluYW1lc3BhY2UgPSAnd2VpZDpwZW46JzsKCQl9IGVsc2UgaWYgKGlzX2NsYXNzX2EpIHsKCQkJLy8gd2VpZHN0ciBzdGF5cwoJCQluYW1lc3BhY2UgPSAn'));
	@fwrite($fp, base64_decode('d2VpZDpyb290Oic7CgkJfSBlbHNlIHsKCQkJLy8gc2hvdWxkIG5vdCBoYXBwZW4KCQkJY29uc29sZS5lcnJvcigib2lkMndlaWQ6IENhbm5vdCBkZXRlY3QgbmFtZXNwYWNlIik7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCXZhciB3ZWlkID0gbmFtZXNwYWNlICsg'));
	@fwrite($fp, base64_decode('KHdlaWRzdHIgPT0gJycgPyBjaGVja3N1bSA6IHdlaWRzdHIgKyAnLScgKyBjaGVja3N1bSk7CgoJCXJldHVybiB7ICJ3ZWlkIjogd2VpZCwgIm9pZCI6IG9pZCB9OwoJfSwKCgliYXNlX2NvbnZlcnRfYmlnaW50OiBmdW5jdGlvbihudW1zdHJpbmcsIGZyb21iYXNl'));
	@fwrite($fp, base64_decode('LCB0b2Jhc2UpIHsKCgkJLy8gVGhpcyB2YXJpYW50IHdvdWxkIHJlcXVpcmUgdGhlICJtaWtlbWNsL2JpZ251bWJlci5qcyIgbGlicmFyeToKCQkvL3ZhciB4ID0gQmlnTnVtYmVyKG51bXN0ciwgZnJvbWJhc2UpOwoJCS8vcmV0dXJuIGlzTmFOKHgpID8gZmFsc2Ug'));
	@fwrite($fp, base64_decode('OiB4LnRvU3RyaW5nKHRvYmFzZSkudG9VcHBlckNhc2UoKTsKCgkJdmFyIGZyb21iYXNlX3N0ciA9ICcnOwoJCWZvciAodmFyIGk9MDsgaTxmcm9tYmFzZTsgaSsrKSB7CgkJCWZyb21iYXNlX3N0ciArPSBwYXJzZUludChpLCAxMCkudG9TdHJpbmcoMzYpLnRvVXBw'));
	@fwrite($fp, base64_decode('ZXJDYXNlKCk7CgkJfQoKCQl2YXIgdG9iYXNlX3N0ciA9ICcnOwoJCWZvciAodmFyIGk9MDsgaTx0b2Jhc2U7IGkrKykgewoJCQl0b2Jhc2Vfc3RyICs9IHBhcnNlSW50KGksIDEwKS50b1N0cmluZygzNikudG9VcHBlckNhc2UoKTsKCQl9CgoJCWZvciAodmFyIGk9'));
	@fwrite($fp, base64_decode('MDsgaTxudW1zdHJpbmcubGVuZ3RoOyBpKyspIHsKCQkJaWYgKGZyb21iYXNlX3N0ci50b0xvd2VyQ2FzZSgpLmluZGV4T2YobnVtc3RyaW5nLnN1YnN0cihpLDEpLnRvTG93ZXJDYXNlKCkpIDwgMCkgewoJCQkJY29uc29sZS5lcnJvcigiYmFzZV9jb252ZXJ0X2Jp'));
	@fwrite($fp, base64_decode('Z2ludDogSW52YWxpZCBpbnB1dCIpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJfQoKCQl2YXIgbGVuZ3RoID0gbnVtc3RyaW5nLmxlbmd0aDsKCQl2YXIgcmVzdWx0ID0gJyc7CgkJdmFyIG51bWJlciA9IFtdOwoJCWZvciAodmFyIGk9MDsgaTxsZW5ndGg7IGkr'));
	@fwrite($fp, base64_decode('KykgewoJCQludW1iZXJbaV0gPSBmcm9tYmFzZV9zdHIudG9Mb3dlckNhc2UoKS5pbmRleE9mKG51bXN0cmluZ1tpXS50b0xvd2VyQ2FzZSgpKTsKCQl9CgkJdmFyIG5ld2xlbiA9IG51bGw7CgkJZG8geyAvLyBMb29wIHVudGlsIHdob2xlIG51bWJlciBpcyBjb252'));
	@fwrite($fp, base64_decode('ZXJ0ZWQKCQkJdmFyIGRpdmlkZSA9IDA7CgkJCXZhciBuZXdsZW4gPSAwOwoJCQlmb3IgKHZhciBpPTA7IGk8bGVuZ3RoOyBpKyspIHsgLy8gUGVyZm9ybSBkaXZpc2lvbiBtYW51YWxseSAod2hpY2ggaXMgd2h5IHRoaXMgd29ya3Mgd2l0aCBiaWcgbnVtYmVycykK'));
	@fwrite($fp, base64_decode('CQkJCWRpdmlkZSA9IGRpdmlkZSAqIGZyb21iYXNlICsgcGFyc2VJbnQobnVtYmVyW2ldKTsKCQkJCWlmIChkaXZpZGUgPj0gdG9iYXNlKSB7CgkJCQkJbnVtYmVyW25ld2xlbisrXSA9IChkaXZpZGUgLyB0b2Jhc2UpOwoJCQkJCWRpdmlkZSA9IGRpdmlkZSAlIHRv'));
	@fwrite($fp, base64_decode('YmFzZTsKCQkJCX0gZWxzZSBpZiAobmV3bGVuID4gMCkgewoJCQkJCW51bWJlcltuZXdsZW4rK10gPSAwOwoJCQkJfQoJCQl9CgkJCWxlbmd0aCA9IG5ld2xlbjsKCQkJcmVzdWx0ID0gdG9iYXNlX3N0ci5zdWJzdHIoZGl2aWRlLDEpICsgcmVzdWx0OyAvLyBEaXZp'));
	@fwrite($fp, base64_decode('ZGUgaXMgYmFzaWNhbGx5IG51bXN0cmluZyAlIHRvYmFzZSAoaS5lLiB0aGUgbmV3IGNoYXJhY3RlcikKCQl9CgkJd2hpbGUgKG5ld2xlbiAhPSAwKTsKCgkJcmV0dXJuIHJlc3VsdDsKCX0KfTsKCldlaWRPaWRDb252ZXJ0ZXJbJ2RlZmF1bHQnXSA9IFdlaWRPaWRD'));
	@fwrite($fp, base64_decode('b252ZXJ0ZXIuV2VpZE9pZENvbnZlcnRlciA9IFdlaWRPaWRDb252ZXJ0ZXI7CgppZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHsKCWRlZmluZSgnV2VpZE9pZENvbnZlcnRlcicsIGZ1bmN0aW9uICgpIHsKCQlyZXR1cm4gV2Vp'));
	@fwrite($fp, base64_decode('ZE9pZENvbnZlcnRlcjsKCX0pOwp9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHsKCW1vZHVsZS5leHBvcnRzID0gV2VpZE9pZENvbnZlcnRlcjsKfSBlbHNlIHsKCWlmICghZ2xvYmFsT2JqZWN0KSB7CgkJ'));
	@fwrite($fp, base64_decode('Z2xvYmFsT2JqZWN0ID0gdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZiA/IHNlbGYgOiB3aW5kb3c7Cgl9CglnbG9iYWxPYmplY3QuV2VpZE9pZENvbnZlcnRlciA9IFdlaWRPaWRDb252ZXJ0ZXI7Cn0KfSkodGhpcyk7Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
	writefile_1();
	if (!is_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
	} else if (sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js') != '64d012150545cf5b2cfe5090668695ec6055c541') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js') !== '64d012150545cf5b2cfe5090668695ec6055c541') {
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js') !== '37a78b5e9b9a0e7c96d7576659b829077c016a0c') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
			$tmp = pathinfo('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js') !== '64d012150545cf5b2cfe5090668695ec6055c541') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/objectTypes/oid/WeidOidConverter.js');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 770\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 770') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

