<?php /* <ViaThinkSoftSignature>
qqDsPS2x4wJWA58W15n/msU0lrT05+4BAhSpIHTEQZcnBeTrXJAs6t9Fz6WS9OOoX
pmFGolpe1SW2oWOK0xnjtnPAlrgOw1wat8iBVU76nx2Zzn2dzkXWsYA9dLJXFZ1Iv
0Uouru6SKnE4IaDzZXFklZ56QHkFAEX4U07RN6dAVvmNZbkxGatLIR9bcsXlX+vro
aR7W/YcPSSoi29e/Qf+C1QoPayCLCicbv16WouY9BlVbZpMAl7Yvwcm44naeft1wd
ENQAXBn34QFnLWykKSBMNABNqDdmAimtPPdbBkFDXhWo3iTlrnqp3y1N0LoBWkd4J
8VjMSPs458sKZvF3mdq+rszBgtDmiYPdb1F1AyG0H0D/TZbWc66zeoLeUyM95C7Ex
BKHRBj4TPvaEfZrn0RsSBhNXlM7qRcLL2Sim28y/41mPEVFTcE7KUYTrBcAvZv6HR
2uCOn5OX1Q/M0Io6GZkHo2r/zpzoio8KCMJPpUATjb19yHuJSX9wmsxX+9AKJhOLV
6ggmfASiZ4Nw/N95RMyyninff6kuKEfwOmQwWeHhbZjqFBvfSbVxE+8mU2wiCfT8w
yNToR0CxH/VLi7ng86zv09Lo2mDPyFGdyw//3xTHVUi/qRAx+qI6H5TVl7M25G+VL
Q9ZSRCPuNHkS5ZGevNldbX/dwZFD1LvQKbJCdHfYpFWMG/P2xAz+1Xx7wZj1IX18k
y6FkW0kcA8jI7FTr3cvcFrSuTuViXV5e4dJBrnFndSxTRl+gQ9S/0ruQPJaKtvVkI
IuCDMzaHLRZ74qt6OUY9l5X1/SCBz9YTtM+oGkfNeAg3wdnp46hM9jINYDSIG+mH7
TJtvatTZoylfkPqeq9FGGtVZqDylg8iWbAtf2FuG/1M4d2Dmzg1q06K9A4X5SxqvS
SgK+R+cXMfmLm44Mv4d/CSM4ITV+bHWmyaisEnFoXXLOSt3j9fXC/UOr9qsouTu9d
Cxn4x8h4JPk6PR/29uH/MHebRNDSRHEmtYor4c8bg6nE4T2wWpM0i7B5NYObdRx2+
hXDYN5dKLOJ1G88IrKzEf5y3R+0+CVcF0kiyU2AHPYk4AutFW3wjT7dJSVhk6/iHK
FsKvfKhNQ1y8AdDReEaF6xn8PD00lXSrznq1jbrhByodH0nrmZVkdAKlJz1g37c4U
3tp5JKIcwEWmyLiQJPGSVdFdSFAXph1z/DNDQagz4ge/4uSKvsSMHnc47dzbVM/Q/
CE6+BCi99QldqSnTKo1CMaKY4y1l8a5vJSAJK7LUgKOJZsUAFm/9luVhqa7IMjct7
KYCrJiHtBNOrBG3NeuIs2MskWsylXVWMajErdUNIlAYtR0/z2r3OoSmbH5Sv1pagd
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 509') {
	err('This update can only be applied to OIDplus version 2.0.0.509!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/simplexml_supplement.inc.php
function writefile_1() {
	@$fp = fopen('includes/simplexml_supplement.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIFBIUCBTaW1wbGVYTUwtU3VwcGxlbWVudAogKiBDb3B5cmlnaHQgMjAyMCAtIDIwMjEgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRo'));
	@fwrite($fp, base64_decode('ZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiBodHRwOi8vd3d3LmFwYWNoZS5v'));
	@fwrite($fp, base64_decode('cmcvbGljZW5zZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBh'));
	@fwrite($fp, base64_decode('biAiQVMgSVMiIEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBl'));
	@fwrite($fp, base64_decode('cm1pc3Npb25zIGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgoKLy8gPT09PT09PT0gQVRURU5USU9OLCBQTEVBU0UgUkVBRCA9PT09PT09PQovLyBUaGlzIHN1cHBsZW1lbnQgc2NyaXB0IHdhcyBjcmVhdGVkIHRvIHN1cHBvcnQgcmFy'));
	@fwrite($fp, base64_decode('ZSBQSFAgaW5zdGFsbGF0aW9ucyB0aGF0Ci8vIGRvIG5vdCBjb250YWluIFNpbXBsZVhNTCwgZm9yIGV4YW1wbGUgYXQgUEhQIHlvdSBuZWVkIHRvIGV4cGxpY2l0bHkKLy8gaW5zdGFsbCB0aGUgcGFja2FnZSAicGhwLXhtbCIgaWYgeW91IHdhbnQgdG8gaGF2ZSBT'));
	@fwrite($fp, base64_decode('aW1wbGVYTUwgKEluIHRoZSBQSFAKLy8gZG9jdW1lbnRhdGlvbiwgaXQgaXMgd3JpdHRlbiB0aGF0IFNpbXBsZVhNTCBpcyBhdmFpbGFibGUgdG8gYWxsLCB3aGljaCBpcwovLyBub3QgdHJ1ZSkuCi8vCi8vIEJld2FyZSB0aGF0IHRoZSBzdXBwbGVtZW50IGJlaGF2'));
	@fwrite($fp, base64_decode('ZXMgZGlmZmVyZW50bHkgdGhhbiB0aGUgcmVhbCBTaW1wbGVYTUwhCi8vIChJZiB5b3Uga25vdyBob3cgdG8gaW1wcm92ZSB0aGlzLCBwbGVhc2UgZmVlbCBmcmVlIHRvIHNlbmQgbWUgYSBwYXRjaCkKLy8KLy8gSnVzdCBhIGZldyBkaWZmZXJlbmNlcyB0b3dhcmRz'));
	@fwrite($fp, base64_decode('IHRoZSBvcmlnaW5hbCBTaW1wbGVYTUwKLy8gLSBwcmludF9yKCkgbG9va3MgZGlmZmVyZW50Ci8vIC0gVGhlIHN1cHBsZW1lbnQgcmVxdWlyZXMgdGhhdCBhbiBYTUwgc3RyaW5nIGJlZ2lucyB3aXRoICI8IURPQ1RZUEUiIG9yICI8P3htbCIsCi8vICAgb3RoZXJ3'));
	@fwrite($fp, base64_decode('aXNlLCB0aGUgZmlyc3QgZWxlbWVudCB3aWxsIG5vdCBiZSBzdHJpcHBlZCBhd2F5Ci8vIC0gVGhlIHN1cHBsZW1lbnQgaXMgc2xvdyBiZWNhdXNlIG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMKLy8gLSBNYW55IGZ1bmN0aW9ucyBsaWtlICJhc1hNTCIgYXJlIG5vdCBp'));
	@fwrite($fp, base64_decode('bXBsZW1lbnRlZAovLyAtIFRoZXJlIG1pZ2h0IGJlIG90aGVyIGluY29tcGF0aWJpbGl0aWVzCi8vCi8vIFNvLCBpZiB5b3Ugd2FudCB0byB1c2UgdGhlIFNpbXBsZVhNTCBzdXBwbGVtZW50LCB0aGVuIHBsZWFzZSBjYXJlZnVsbHkKLy8gdGVzdCBpdCB3aXRoIHlv'));
	@fwrite($fp, base64_decode('dXIgYXBwbGljYXRpb24gaWYgaXQgd29ya3MuCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdzaW1wbGV4bWxfbG9hZF9zdHJpbmcnKSkgewoKCWZ1bmN0aW9uIHNpbXBsZXhtbF9sb2FkX2Zp'));
	@fwrite($fp, base64_decode('bGUoJGZpbGUpOiBTaW1wbGVYTUxFbGVtZW50IHsKCQlyZXR1cm4gc2ltcGxleG1sX2xvYWRfc3RyaW5nKGZpbGVfZ2V0X2NvbnRlbnRzKCRmaWxlKSk7Cgl9CgoJZnVuY3Rpb24gc2ltcGxleG1sX2xvYWRfc3RyaW5nKCR0ZXN0eG1sKTogU2ltcGxlWE1MRWxlbWVu'));
	@fwrite($fp, base64_decode('dCB7CgkJJG91dCA9IG5ldyBTaW1wbGVYTUxFbGVtZW50KCk7CgoJCSR0ZXN0eG1sID0gcHJlZ19yZXBsYWNlKCdAPCFcXC1cXC0uK1xcLVxcLT5AJywnJywkdGVzdHhtbCk7IC8vIHJlbW92ZSBjb21tZW50cwoJCSR0ZXN0eG1sID0gcHJlZ19yZXBsYWNlKCdAPChc'));
	@fwrite($fp, base64_decode('XFMrKVtePl0qLz5Ac21VJywnPFxcMT48L1xcMT4nLCR0ZXN0eG1sKTsgLy8gPHgvPiA9PiA8eD48L3g+CgoJCWlmICgoc3RyaXBvcygkdGVzdHhtbCwgJzw/eG1sJykgIT09IGZhbHNlKSB8fCAoc3RyaXBvcygkdGVzdHhtbCwgJzwhZG9jdHlwZScpICE9PSBmYWxz'));
	@fwrite($fp, base64_decode('ZSkpIHsKCQkJJHRlc3R4bWwgPSBwcmVnX3JlcGxhY2UoJ0A8XFw/LitcXD8+QCcsJycsJHRlc3R4bWwpOwoJCQkkdGVzdHhtbCA9IHByZWdfcmVwbGFjZSgnQDwhZG9jdHlwZS4rPkBpJywnJywkdGVzdHhtbCk7CgkJCSRtID0gYXJyYXkoKTsKCQkJcHJlZ19tYXRj'));
	@fwrite($fp, base64_decode('aCgnQDwoXFxTKz8pW14+XSo+KC4qKTwvXFwxPkBzbVUnLCR0ZXN0eG1sLCRtKTsgLy8gZmluZCByb290IGVsZW1lbnQKCQkJJHJvb3RfZWxlbWVudCA9ICRtWzFdOwoJCX0gZWxzZSB7CgkJCSRyb290X2VsZW1lbnQgPSBudWxsOwoJCX0KCgkJJG0gPSBhcnJheSgp'));
	@fwrite($fp, base64_decode('OwoJCXByZWdfbWF0Y2hfYWxsKCdAPChcXFMrPykoW14+XSopPiguKik8L1xcMT5Ac21VJywgJHRlc3R4bWwsICRtLCBQUkVHX1NFVF9PUkRFUik7CgkJZm9yZWFjaCAoJG0gYXMgJG4pIHsKCQkJJG5hbWUgPSAkblsxXTsKCQkJJG90aGVyID0gJG5bMl07CgkJCSR2'));
	@fwrite($fp, base64_decode('YWwgID0gJG5bM107CgoJCQkkdmFsID0gc3RyX3JlcGxhY2UoJzwhW0NEQVRBWycsICcnLCAkdmFsKTsKCQkJJHZhbCA9IHN0cl9yZXBsYWNlKCddXT4nLCAnJywgJHZhbCk7CgkJCSR2YWwgPSB0cmltKCR2YWwpOwoKCQkJJG5ldyA9ICRvdXQtPmFkZENoaWxkKCRu'));
	@fwrite($fp, base64_decode('YW1lLCAkdmFsKTsKCgkJCXByZWdfbWF0Y2hfYWxsKCdAKFxTKyk9XFwiKFteXFwiXSspXFwiQHNtVScsICRvdGhlciwgJG0yLCBQUkVHX1NFVF9PUkRFUik7CgkJCWZvcmVhY2ggKCRtMiBhcyAkbjIpIHsKCQkJCSRhdHRfbmFtZSA9ICRuMlsxXTsKCQkJCSRhdHRf'));
	@fwrite($fp, base64_decode('dmFsID0gJG4yWzJdOwoJCQkJJG5ldy0+YWRkQXR0cmlidXRlKCRhdHRfbmFtZSwgJGF0dF92YWwpOwoJCQl9CgkJfQoKCQlpZiAoIWlzX251bGwoJHJvb3RfZWxlbWVudCkpIHsKCQkJJG91dCA9ICRvdXQtPiRyb290X2VsZW1lbnQ7CgkJfQoKCQlyZXR1cm4gJG91'));
	@fwrite($fp, base64_decode('dDsKCX0KCgljbGFzcyBTaW1wbGVYTUxFbGVtZW50IGltcGxlbWVudHMgQXJyYXlBY2Nlc3MsIEl0ZXJhdG9yIHsKCgkJcHJpdmF0ZSAkX2F0dHJzID0gYXJyYXkoKTsKCgkJcHVibGljIGZ1bmN0aW9uIGFkZEF0dHJpYnV0ZSgkbmFtZSwgJHZhbCkgewoJCQkkdGhp'));
	@fwrite($fp, base64_decode('cy0+X2F0dHJzWyRuYW1lXSA9ICR2YWw7CgkJfQoKCQlwdWJsaWMgZnVuY3Rpb24gYXR0cmlidXRlcygpIHsKCQkJcmV0dXJuICR0aGlzLT5fYXR0cnM7CgkJfQoKCQlwdWJsaWMgZnVuY3Rpb24gaXNTdXBwbGVtZW50KCkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJ'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkdmFsPW51bGwpIHsKCQkJaWYgKCFpc19udWxsKCR2YWwpKSB7CgkJCQkkdGhpcy0+ezB9ID0gJHZhbDsKCQkJfQoJCX0KCgkJcHVibGljIGZ1bmN0aW9uIGlzQXJyYXkoKSB7CgkJCSR2YXJzID0gZ2V0X29iamVj'));
	@fwrite($fp, base64_decode('dF92YXJzKCR0aGlzKTsKCQkJJG1heCA9IC0xOwoJCQlmb3JlYWNoICgkdmFycyBhcyAkeCA9PiAkZHVtbXkpIHsKCQkJCWlmICgoJHggPT0gJ19hdHRycycpIHx8ICgkeCA9PSAncG9zaXRpb24nKSkgY29udGludWU7CgkJCQlpZiAoIWlzX251bWVyaWMoJHgpKSB7'));
	@fwrite($fp, base64_decode('CgkJCQkJJG1heCA9IC0xOwoJCQkJCWJyZWFrOwoJCQkJfSBlbHNlIHsKCQkJCQlpZiAoJHggPiAkbWF4KSAkbWF4ID0gJHg7CgkJCQl9CgkJCX0KCQkJcmV0dXJuICRtYXggPiAwOwoJCX0KCgkJcHVibGljIGZ1bmN0aW9uIGFkZFRvQXJyYXkoJHZhbCkgewoJCQkk'));
	@fwrite($fp, base64_decode('dmFycyA9IGdldF9vYmplY3RfdmFycygkdGhpcyk7CgkJCSRtYXggPSAtMTsKCQkJZm9yZWFjaCAoJHZhcnMgYXMgJHggPT4gJGR1bW15KSB7CgkJCQlpZiAoKCR4ID09ICdfYXR0cnMnKSB8fCAoJHggPT0gJ3Bvc2l0aW9uJykpIGNvbnRpbnVlOwoJCQkJaWYgKCFp'));
	@fwrite($fp, base64_decode('c19udW1lcmljKCR4KSkgewoJCQkJCSRtYXggPSAtMTsKCQkJCQlicmVhazsKCQkJCX0gZWxzZSB7CgkJCQkJaWYgKCR4ID4gJG1heCkgJG1heCA9ICR4OwoJCQkJfQoJCQl9CgkJCSRtYXgrKzsKCQkJJHRoaXMtPnsoc3RyaW5nKSRtYXh9ID0gJHZhbDsKCQl9CgoJ'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBmdW5jdGlvbiBfX3RvU3RyaW5nKCkgewoJCQkkZGF0YSA9IC8qJHRoaXMtPmRhdGE7Ki9nZXRfb2JqZWN0X3ZhcnMoJHRoaXMpOwoJCQlpZiAoaXNfYXJyYXkoJGRhdGEpKSB7CgkJCQlpZiAoaXNzZXQoJGRhdGFbMF0pKSB7CgkJCQkJcmV0dXJuICRk'));
	@fwrite($fp, base64_decode('YXRhWzBdOwoJCQkJfSBlbHNlIHsKCQkJCQlyZXR1cm4gJyc7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gJGRhdGE7CgkJCX0KCQl9CgoJCXB1YmxpYyBmdW5jdGlvbiBvZmZzZXRFeGlzdHMoJG9mZnNldCkgewoJCQlyZXR1cm4gaXNzZXQoJHRoaXMtPiRv'));
	@fwrite($fp, base64_decode('ZmZzZXQpOwoJCX0KCgkJcHVibGljIGZ1bmN0aW9uIG9mZnNldEdldCgkb2Zmc2V0KSB7CgkJCXJldHVybiAkdGhpcy0+JG9mZnNldDsKCQl9CgoJCXB1YmxpYyBmdW5jdGlvbiBvZmZzZXRTZXQoJG9mZnNldCwgJHZhbHVlKSB7CgkJCSR0aGlzLT4kb2Zmc2V0ID0g'));
	@fwrite($fp, base64_decode('JHZhbHVlOwoJCX0KCgkJcHVibGljIGZ1bmN0aW9uIG9mZnNldFVuc2V0KCRvZmZzZXQpIHsKCQkJdW5zZXQoJHRoaXMtPiRvZmZzZXQpOwoJCX0KCgkJcHVibGljIGZ1bmN0aW9uIF9fZ2V0KCRuYW1lKSB7CgkJCS8vIE91dHB1dCBub3RoaW5nCgkJCXJldHVybiBu'));
	@fwrite($fp, base64_decode('ZXcgU2ltcGxlWE1MRWxlbWVudCgpOwoJCX0KCgkJcHVibGljIGZ1bmN0aW9uIGFkZENoaWxkKCRuYW1lLCAkdmFsPW51bGwpIHsKCQkJaWYgKCR2YWwgPT0gbnVsbCkgJHZhbCA9IG5ldyBTaW1wbGVYTUxFbGVtZW50KCk7CgoJCQlpZiAoKHN1YnN0cih0cmltKCR2'));
	@fwrite($fp, base64_decode('YWwpLDAsMSkgPT09ICc8JykgfHwgKHRyaW0oJHZhbCkgPT0gJycpKSB7CgkJCQkkdmFsID0gc2ltcGxleG1sX2xvYWRfc3RyaW5nKCR2YWwpOwoJCQl9CgoJCQkkZGF0YSA9IC8qJHRoaXMtPmRhdGE7Ki9nZXRfb2JqZWN0X3ZhcnMoJHRoaXMpOwoKCQkJaWYgKCFp'));
	@fwrite($fp, base64_decode('c3NldCgkZGF0YVskbmFtZV0pKSB7CgkJCQlpZiAoJHZhbCBpbnN0YW5jZW9mIFNpbXBsZVhNTEVsZW1lbnQpIHsKCQkJCQkvL2VjaG8gIkZpcnN0IGFkZCAkbmFtZSBhbHJlYWR5IGV4aXN0XG4iOwoJCQkJCSR0aGlzLT4kbmFtZSA9ICR2YWw7CgkJCQl9IGVsc2Ug'));
	@fwrite($fp, base64_decode('ewoJCQkJCSR0aGlzLT4kbmFtZSA9IG5ldyBTaW1wbGVYTUxFbGVtZW50KCR2YWwpOwoJCQkJCS8vZWNobyAiRmlyc3QgYWRkICRuYW1lIHdpdGggdmFsXG4iOwoJCQkJfQoJCQl9IGVsc2UgewoJCQkJaWYgKCEoJHZhbCBpbnN0YW5jZW9mIFNpbXBsZVhNTEVsZW1l'));
	@fwrite($fp, base64_decode('bnQpKSB7CgkJCQkJJHZhbCA9IG5ldyBTaW1wbGVYTUxFbGVtZW50KCR2YWwpOwoJCQkJfQoKCQkJCWlmICgkZGF0YVskbmFtZV0tPmlzQXJyYXkoKSkgewoJCQkJCSRkYXRhWyRuYW1lXS0+YWRkVG9BcnJheSgkdmFsKTsKCQkJCX0gZWxzZSB7CgkJCQkJJHRtcCA9'));
	@fwrite($fp, base64_decode('IG5ldyBTaW1wbGVYTUxFbGVtZW50KCk7CgkJCQkJJHRtcC0+YWRkVG9BcnJheSgkZGF0YVskbmFtZV0pOwoJCQkJCSR0bXAtPmFkZFRvQXJyYXkoJHZhbCk7CgkJCQkJJHRoaXMtPiRuYW1lID0gJHRtcDsKCQkJCQkkdGhpcy0+X2F0dHJzID0gYXJyYXkoKTsKCQkJ'));
	@fwrite($fp, base64_decode('CX0KCQkJCXJldHVybiAkdmFsOwoJCQl9CgoJCQlyZXR1cm4gJHRoaXMtPiRuYW1lOwoJCX0KCgkJcHJpdmF0ZSAkcG9zaXRpb24gPSAwOwoKCQlwdWJsaWMgZnVuY3Rpb24gcmV3aW5kKCkgewoJCQkkdGhpcy0+cG9zaXRpb24gPSAwOwoJCX0KCgkJcHVibGljIGZ1'));
	@fwrite($fp, base64_decode('bmN0aW9uIGN1cnJlbnQoKSB7CgkJCSR2YXJzID0gZ2V0X29iamVjdF92YXJzKCR0aGlzKTsKCQkJJGNudCA9IDA7CgkJCWZvcmVhY2ggKCR2YXJzIGFzICR4ID0+ICRkdW1teSkgewoJCQkJaWYgKCgkeCA9PSAnX2F0dHJzJykgfHwgKCR4ID09ICdwb3NpdGlvbicp'));
	@fwrite($fp, base64_decode('KSBjb250aW51ZTsKCQkJCWlmICgoJGR1bW15IGluc3RhbmNlb2YgU2ltcGxlWE1MRWxlbWVudCkgJiYgIWlzX251bWVyaWMoJHgpICYmICRkdW1teS0+aXNBcnJheSgpKSB7CgkJCQkJJHZhcnMyID0gZ2V0X29iamVjdF92YXJzKCRkdW1teSk7CgkJCQkJZm9yZWFj'));
	@fwrite($fp, base64_decode('aCAoJHZhcnMyIGFzICR4MiA9PiAkZHVtbXkyKSB7CgkJCQkJCWlmICgoJHgyID09ICdfYXR0cnMnKSB8fCAoJHgyID09ICdwb3NpdGlvbicpKSBjb250aW51ZTsKCQkJCQkJaWYgKCRjbnQgPT0gJHRoaXMtPnBvc2l0aW9uKSB7CgkJCQkJCQlpZiAoJGR1bW15MiBp'));
	@fwrite($fp, base64_decode('bnN0YW5jZW9mIFNpbXBsZVhNTEVsZW1lbnQpIHsKCQkJCQkJCQlyZXR1cm4gJGR1bW15MjsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJcmV0dXJuIG5ldyBTaW1wbGVYTUxFbGVtZW50KCRkdW1teTIpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCSRjbnQrKzsKCQkJ'));
	@fwrite($fp, base64_decode('CQl9CgkJCQl9IGVsc2UgewoJCQkJCWlmICgkY250ID09ICR0aGlzLT5wb3NpdGlvbikgewoJCQkJCQlpZiAoJGR1bW15IGluc3RhbmNlb2YgU2ltcGxlWE1MRWxlbWVudCkgewoJCQkJCQkJcmV0dXJuICRkdW1teTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXJldHVy'));
	@fwrite($fp, base64_decode('biBuZXcgU2ltcGxlWE1MRWxlbWVudCgkZHVtbXkpOwoJCQkJCQl9CgkJCQkJfQoJCQkJCSRjbnQrKzsKCQkJCX0KCQkJfQoKCgkJfQoKCQlwdWJsaWMgZnVuY3Rpb24ga2V5KCkgewoJCQkkdmFycyA9IGdldF9vYmplY3RfdmFycygkdGhpcyk7CgkJCSRjbnQgPSAw'));
	@fwrite($fp, base64_decode('OwoJCQlmb3JlYWNoICgkdmFycyBhcyAkeCA9PiAkZHVtbXkpIHsKCQkJCWlmICgoJHggPT0gJ19hdHRycycpIHx8ICgkeCA9PSAncG9zaXRpb24nKSkgY29udGludWU7CgkJCQlpZiAoKCRkdW1teSBpbnN0YW5jZW9mIFNpbXBsZVhNTEVsZW1lbnQpICYmICFpc19u'));
	@fwrite($fp, base64_decode('dW1lcmljKCR4KSAmJiAkZHVtbXktPmlzQXJyYXkoKSkgewoJCQkJCSR2YXJzMiA9IGdldF9vYmplY3RfdmFycygkZHVtbXkpOwoJCQkJCWZvcmVhY2ggKCR2YXJzMiBhcyAkeDIgPT4gJGR1bW15MikgewoJCQkJCQlpZiAoKCR4MiA9PSAnX2F0dHJzJykgfHwgKCR4'));
	@fwrite($fp, base64_decode('MiA9PSAncG9zaXRpb24nKSkgY29udGludWU7CgkJCQkJCWlmICgkY250ID09ICR0aGlzLT5wb3NpdGlvbikgcmV0dXJuICR4LypzaWMqLzsKCQkJCQkJJGNudCsrOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJaWYgKCRjbnQgPT0gJHRoaXMtPnBvc2l0aW9uKSBy'));
	@fwrite($fp, base64_decode('ZXR1cm4gJHg7CgkJCQkJJGNudCsrOwoJCQkJfQoJCQl9CgkJfQoKCQlwdWJsaWMgZnVuY3Rpb24gbmV4dCgpIHsKCQkJKyskdGhpcy0+cG9zaXRpb247CgkJfQoKCQlwdWJsaWMgZnVuY3Rpb24gdmFsaWQoKSB7CgkJCSR2YXJzID0gZ2V0X29iamVjdF92YXJzKCR0'));
	@fwrite($fp, base64_decode('aGlzKTsKCQkJJGNudCA9IDA7CgkJCWZvcmVhY2ggKCR2YXJzIGFzICR4ID0+ICRkdW1teSkgewoJCQkJaWYgKCgkeCA9PSAnX2F0dHJzJykgfHwgKCR4ID09ICdwb3NpdGlvbicpKSBjb250aW51ZTsKCQkJCWlmICgoJGR1bW15IGluc3RhbmNlb2YgU2ltcGxlWE1M'));
	@fwrite($fp, base64_decode('RWxlbWVudCkgJiYgIWlzX251bWVyaWMoJHgpICYmICRkdW1teS0+aXNBcnJheSgpKSB7CgkJCQkJJHZhcnMyID0gZ2V0X29iamVjdF92YXJzKCRkdW1teSk7CgkJCQkJZm9yZWFjaCAoJHZhcnMyIGFzICR4MiA9PiAkZHVtbXkyKSB7CgkJCQkJCWlmICgoJHgyID09'));
	@fwrite($fp, base64_decode('ICdfYXR0cnMnKSB8fCAoJHgyID09ICdwb3NpdGlvbicpKSBjb250aW51ZTsKCQkJCQkJJGNudCsrOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJJGNudCsrOwoJCQkJfQoJCQl9CgoJCQlyZXR1cm4gJHRoaXMtPnBvc2l0aW9uIDwgJGNudDsKCQl9CgoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/simplexml_supplement.inc.php')) {
	warn('File has vanished! Will re-create it: includes/simplexml_supplement.inc.php');
	writefile_1();
	if (!is_file('includes/simplexml_supplement.inc.php')) {
		warn('File cannot be created (not existing): includes/simplexml_supplement.inc.php');
	} else if (sha1_file('includes/simplexml_supplement.inc.php') != 'ff73b1aa082c181e4a5e976f8f82306305150785') {
		warn('File cannot be created (checksum mismatch): includes/simplexml_supplement.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/simplexml_supplement.inc.php', 0644)) {
		warn('Could not change file permissions of includes/simplexml_supplement.inc.php');
	}
} else {
	if (@sha1_file('includes/simplexml_supplement.inc.php') !== 'ff73b1aa082c181e4a5e976f8f82306305150785') {
		if (@sha1_file('includes/simplexml_supplement.inc.php') !== 'c7c08c6d85fdf621ada1395b0b47418731a0f300') {
			warn('File was modified. Will overwrite the changes now: includes/simplexml_supplement.inc.php');
			$tmp = pathinfo('includes/simplexml_supplement.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/simplexml_supplement.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/simplexml_supplement.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/simplexml_supplement.inc.php') !== 'ff73b1aa082c181e4a5e976f8f82306305150785') {
			warn('File cannot be written (checksum mismatch): includes/simplexml_supplement.inc.php');
		}
	}
}

// Files different: plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php
function writefile_2() {
	@$fp = fopen('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlQWRtaW5TeXN0ZW1pbmZvIGV4dGVuZHMgT0lEcGx1c1BhZ2VQbHVnaW5BZG1pbiB7CgoJcHVibGljIGZ1bmN0aW9uIGFjdGlvbigkYWN0aW9uSUQsICRwYXJhbXMpIHsK'));
	@fwrite($fp, base64_decode('CX0KCglwdWJsaWMgZnVuY3Rpb24gaW5pdCgkaHRtbD10cnVlKSB7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGd1aSgkaWQsICYkb3V0LCAmJGhhbmRsZWQpIHsKCQlpZiAoJGlkID09PSAnb2lkcGx1czpzeXN0ZW1pbmZvJykgewoJCQkkaGFuZGxlZCA9IHRydWU7CgkJ'));
	@fwrite($fp, base64_decode('CSRvdXRbJ3RpdGxlJ10gPSBfTCgnU3lzdGVtIGluZm9ybWF0aW9uJyk7CgkJCSRvdXRbJ2ljb24nXSAgPSBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18pLidpY29uX2JpZy5wbmcnOwoKCQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKTo6aXNBZG1pbkxvZ2dlZElu'));
	@fwrite($fp, base64_decode('KCkpIHsKCQkJCSRvdXRbJ2ljb24nXSA9ICdpbWcvZXJyb3JfYmlnLnBuZyc7CgkJCQkkb3V0Wyd0ZXh0J10gPSAnPHA+Jy5fTCgnWW91IG5lZWQgdG8gPGEgJTE+bG9nIGluPC9hPiBhcyBhZG1pbmlzdHJhdG9yLicsT0lEcGx1czo6Z3VpKCktPmxpbmsoJ29pZHBs'));
	@fwrite($fp, base64_decode('dXM6bG9naW4nKSkuJzwvcD4nOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQkkb3V0Wyd0ZXh0J10gID0gJyc7CgoJCQkjIC0tLQoKCQkJJG91dFsndGV4dCddIC49ICc8aDI+Jy5fTCgnT0lEcGx1cycpLic8L2gyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPGRpdiBjbGFz'));
	@fwrite($fp, base64_decode('cz0iY29udGFpbmVyIGJveCI+PGRpdiBpZD0ic3Vib2lkX3RhYmxlIiBjbGFzcz0idGFibGUtcmVzcG9uc2l2ZSI+JzsKCQkJJG91dFsndGV4dCddIC49ICc8dGFibGUgY2xhc3M9InRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLXN0cmlwZWQiPic7CgkJCSRvdXRb'));
	@fwrite($fp, base64_decode('J3RleHQnXSAuPSAnCTx0cj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRoIHdpZHRoPSI1MCUiPicuX0woJ0F0dHJpYnV0ZScpLic8L3RoPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGggd2lkdGg9IjUwJSI+Jy5fTCgnVmFsdWUnKS4nPC90aD4nOwoJCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd0ZXh0J10gLj0gJwk8L3RyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTx0cj4nOwoKCQkJJHN5c2lkX29pZCA9IE9JRHBsdXM6OmdldFN5c3RlbUlkKHRydWUpOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuX0woJ1N5c3RlbSBPSUQnKS4nPC90ZD4n'));
	@fwrite($fp, base64_decode('OwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuKCEkc3lzaWRfb2lkID8gJzxpPicuX0woJ3Vua25vd24nKS4nPC9pPicgOiBodG1sZW50aXRpZXMoJHN5c2lkX29pZCkpLic8L3RkPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsKCgkJCSRzeXNfdXJs'));
	@fwrite($fp, base64_decode('ID0gT0lEcGx1czo6d2VicGF0aCgpOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8dHI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdTeXN0ZW0gVVJMJykuJzwvdGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLmh0bWxlbnRpdGllcygkc3lz'));
	@fwrite($fp, base64_decode('X3VybCkuJzwvdGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJPC90cj4nOwoKCQkJJHN5c192ZXIgPSBPSURwbHVzOjpnZXRWZXJzaW9uKCk7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTx0cj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuX0woJ1N5c3RlbSB2'));
	@fwrite($fp, base64_decode('ZXJzaW9uJykuJzwvdGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLighJHN5c192ZXIgPyAnPGk+Jy5fTCgndW5rbm93bicpLic8L2k+JyA6IGh0bWxlbnRpdGllcygkc3lzX3ZlcikpLic8L3RkPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsK'));
	@fwrite($fp, base64_decode('CgkJCSRzeXNfaW5zdGFsbF90eXBlID0gT0lEcGx1czo6Z2V0SW5zdGFsbFR5cGUoKTsKCQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5fTCgnSW5zdGFsbGF0aW9uIHR5cGUnKS4nPC90ZD4nOwoJCQkkb3V0Wyd0'));
	@fwrite($fp, base64_decode('ZXh0J10gLj0gJwkJPHRkPicuaHRtbGVudGl0aWVzKCRzeXNfaW5zdGFsbF90eXBlKS4nPC90ZD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8L3RyPic7CgoJCQkkc3lzX3RpdGxlID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdzeXN0ZW1fdGl0bGUnKTsK'));
	@fwrite($fp, base64_decode('CQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5fTCgnU3lzdGVtIHRpdGxlJykuJzwvdGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLmh0bWxlbnRpdGllcygkc3lzX3RpdGxlKS4nPC90ZD4nOwoJCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd0ZXh0J10gLj0gJwk8L3RyPic7CgoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8dHI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdTeXN0ZW0gZGlyZWN0b3J5JykuJzwvdGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLihpc3NldCgk'));
	@fwrite($fp, base64_decode('X1NFUlZFUlsnU0NSSVBUX0ZJTEVOQU1FJ10pID8gaHRtbGVudGl0aWVzKGRpcm5hbWUoJF9TRVJWRVJbJ1NDUklQVF9GSUxFTkFNRSddKSkgOiAnPGk+Jy5fTCgndW5rbm93bicpLic8L2k+JykuJzwvdGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJPC90cj4nOwoK'));
	@fwrite($fp, base64_decode('CQkJJG91dFsndGV4dCddIC49ICc8L3RhYmxlPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPC9kaXY+PC9kaXY+JzsKCgkJCSMgLS0tCgoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxoMj4nLl9MKCdQSFAnKS4nPC9oMj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxkaXYgY2xh'));
	@fwrite($fp, base64_decode('c3M9ImNvbnRhaW5lciBib3giPjxkaXYgaWQ9InN1Ym9pZF90YWJsZSIgY2xhc3M9InRhYmxlLXJlc3BvbnNpdmUiPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPHRhYmxlIGNsYXNzPSJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1zdHJpcGVkIj4nOwoJCQkkb3V0'));
	@fwrite($fp, base64_decode('Wyd0ZXh0J10gLj0gJwk8dHI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0aCB3aWR0aD0iNTAlIj4nLl9MKCdBdHRyaWJ1dGUnKS4nPC90aD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRoIHdpZHRoPSI1MCUiPicuX0woJ1ZhbHVlJykuJzwvdGg+JzsKCQkJ'));
	@fwrite($fp, base64_decode('JG91dFsndGV4dCddIC49ICcJPC90cj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8dHI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdQSFAgdmVyc2lvbicpLic8L3RkPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5QSFBfVkVSU0lPTi4n'));
	@fwrite($fp, base64_decode('PC90ZD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8L3RyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPC90YWJsZT4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzwvZGl2PjwvZGl2Pic7CgoJCQkjIC0tLQoKCQkJJG91dFsndGV4dCddIC49ICc8aDI+Jy5fTCgnV2Vic2Vy'));
	@fwrite($fp, base64_decode('dmVyJykuJzwvaDI+JzsKCQkJJG91dFsndGV4dCddIC49ICc8ZGl2IGNsYXNzPSJjb250YWluZXIgYm94Ij48ZGl2IGlkPSJzdWJvaWRfdGFibGUiIGNsYXNzPSJ0YWJsZS1yZXNwb25zaXZlIj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzx0YWJsZSBjbGFzcz0idGFi'));
	@fwrite($fp, base64_decode('bGUgdGFibGUtYm9yZGVyZWQgdGFibGUtc3RyaXBlZCI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGggd2lkdGg9IjUwJSI+Jy5fTCgnQXR0cmlidXRlJykuJzwvdGg+JzsKCQkJJG91dFsndGV4dCddIC49ICcJ'));
	@fwrite($fp, base64_decode('CTx0aCB3aWR0aD0iNTAlIj4nLl9MKCdWYWx1ZScpLic8L3RoPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5fTCgnU2VydmVyIHNvZnR3YXJlJykuJzwv'));
	@fwrite($fp, base64_decode('dGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLihpc3NldCgkX1NFUlZFUlsnU0VSVkVSX1NPRlRXQVJFJ10pID8gJF9TRVJWRVJbJ1NFUlZFUl9TT0ZUV0FSRSddIDogJzxpPicuX0woJ3Vua25vd24nKS4nPC9pPicpLic8L3RkPic7CgkJCSRvdXRbJ3Rl'));
	@fwrite($fp, base64_decode('eHQnXSAuPSAnCTwvdHI+JzsKCQkJJG91dFsndGV4dCddIC49ICc8L3RhYmxlPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPC9kaXY+PC9kaXY+JzsKCgkJCSMgLS0tCgoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxoMj4nLl9MKCdPcGVyYXRpbmcgU3lzdGVtJykuJzwvaDI+'));
	@fwrite($fp, base64_decode('JzsKCQkJJG91dFsndGV4dCddIC49ICc8ZGl2IGNsYXNzPSJjb250YWluZXIgYm94Ij48ZGl2IGlkPSJzdWJvaWRfdGFibGUiIGNsYXNzPSJ0YWJsZS1yZXNwb25zaXZlIj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzx0YWJsZSBjbGFzcz0idGFibGUgdGFibGUtYm9y'));
	@fwrite($fp, base64_decode('ZGVyZWQgdGFibGUtc3RyaXBlZCI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGggd2lkdGg9IjUwJSI+Jy5fTCgnQXR0cmlidXRlJykuJzwvdGg+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0aCB3aWR0aD0i'));
	@fwrite($fp, base64_decode('NTAlIj4nLl9MKCdWYWx1ZScpLic8L3RoPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsKCQkJaWYgKHBocF91bmFtZSgibSIpID09IHBocF91bmFtZSgibiIpKSB7CgkJCQkvLyBBdCBzb21lIGhvc3RzIGxpa2UgU3RyYXRvLCBwaHBfdW5hbWUoKSBhbHdh'));
	@fwrite($fp, base64_decode('eXMgcmV0dXJucyB0aGUgc2FtZSBzdHJpbmcKCQkJCS8vICJMaW51eCBsb2NhbGhvc3QgMy4xMC4wLTExMjcuMTAuMS5lbDcueDg2XzY0ICMxIFNNUCIKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCTx0cj4nOwoJCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdP'));
	@fwrite($fp, base64_decode('cGVyYXRpbmcgU3lzdGVtJykuJzwvdGQ+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5odG1sZW50aXRpZXMoUEhQX09TKS4nPC90ZD4nOwoJCQkJJG91dFsndGV4dCddIC49ICcJPC90cj4nOwoJCQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuX0woJ0hvc3RuYW1lJykuJzwvdGQ+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5odG1sZW50aXRpZXMoZ2V0aG9zdG5hbWUoKSkuJzwvdGQ+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsKCQkJfSBl'));
	@fwrite($fp, base64_decode('bHNlIHsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCTx0cj4nOwoJCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdPcGVyYXRpbmcgU3lzdGVtJykuJzwvdGQ+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5odG1sZW50aXRpZXMocGhwX3VuYW1lKCJz'));
	@fwrite($fp, base64_decode('IikuJyAnLnBocF91bmFtZSgiciIpLicgJy5waHBfdW5hbWUoInYiKSkuJzwvdGQ+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCTx0cj4nOwoJCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdNYWNoaW5l'));
	@fwrite($fp, base64_decode('IHR5cGUnKS4nPC90ZD4nOwoJCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLmh0bWxlbnRpdGllcyhwaHBfdW5hbWUoIm0iKSkuJzwvdGQ+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnCTx0cj4nOwoJCQkJJG91'));
	@fwrite($fp, base64_decode('dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdIb3N0bmFtZScpLic8L3RkPic7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuaHRtbGVudGl0aWVzKHBocF91bmFtZSgibiIpKS4nPC90ZD4nOwoJCQkJJG91dFsndGV4dCddIC49ICcJPC90cj4nOwoJCQl9CgkJ'));
	@fwrite($fp, base64_decode('CSRvdXRbJ3RleHQnXSAuPSAnPC90YWJsZT4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzwvZGl2PjwvZGl2Pic7CgoJCQkjIC0tLQoKCQkJJG91dFsndGV4dCddIC49ICc8aDI+Jy5fTCgnRGF0YWJhc2UnKS4nPC9oMj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxkaXYg'));
	@fwrite($fp, base64_decode('Y2xhc3M9ImNvbnRhaW5lciBib3giPjxkaXYgaWQ9InN1Ym9pZF90YWJsZSIgY2xhc3M9InRhYmxlLXJlc3BvbnNpdmUiPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPHRhYmxlIGNsYXNzPSJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1zdHJpcGVkIj4nOwoJCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd0ZXh0J10gLj0gJwk8dHI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0aCB3aWR0aD0iNTAlIj4nLl9MKCdBdHRyaWJ1dGUnKS4nPC90aD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRoIHdpZHRoPSI1MCUiPicuX0woJ1ZhbHVlJykuJzwvdGg+JzsK'));
	@fwrite($fp, base64_decode('CQkJJG91dFsndGV4dCddIC49ICcJPC90cj4nOwoKCQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCQk8dGQ+Jy5fTCgnRGF0YWJhc2UgcHJvdmlkZXInKS4nPC90ZD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6ZGIoKS0+Z2V0UGx1Z2luKCktPmdldE1hbmlmZXN0KCktPmdldE5hbWUoKS4nPC90ZD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8L3RyPic7CgoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8dHI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLl9MKCdT'));
	@fwrite($fp, base64_decode('UUwgc2xhbmcnKS4nPC90ZD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuT0lEcGx1czo6ZGIoKS0+Z2V0U2xhbmcoKS0+Z2V0TWFuaWZlc3QoKS0+Z2V0TmFtZSgpLic8L3RkPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTwvdHI+JzsKCgkJCSR0YWJsZV9w'));
	@fwrite($fp, base64_decode('cmVmaXggPSBPSURwbHVzOjpiYXNlQ29uZmlnKCktPmdldFZhbHVlKCdUQUJMRU5BTUVfUFJFRklYJyk7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCTx0cj4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwkJPHRkPicuX0woJ1RhYmxlIG5hbWUgcHJlZml4JykuJzwvdGQ+JzsK'));
	@fwrite($fp, base64_decode('CQkJJG91dFsndGV4dCddIC49ICcJCTx0ZD4nLighZW1wdHkoJHRhYmxlX3ByZWZpeCkgPyBodG1sZW50aXRpZXMoJHRhYmxlX3ByZWZpeCkgOiAnPGk+Jy5fTCgnbm9uZScpLic8L2k+JykuJzwvdGQ+JzsKCQkJJG91dFsndGV4dCddIC49ICcJPC90cj4nOwoJCQkk'));
	@fwrite($fp, base64_decode('b3V0Wyd0ZXh0J10gLj0gJzwvdGFibGU+JzsKCQkJJG91dFsndGV4dCddIC49ICc8L2Rpdj48L2Rpdj4nOwoKCQkJLy8gVE9ETzogY2FuIHdlIHNvbWVob3cgZ2V0IHRoZSBEQk1TIHZlcnNpb24sIGNvbm5lY3Rpb24gc3RyaW5nIGV0Yz8KCgkJCSMgLS0tCgoJCX0K'));
	@fwrite($fp, base64_decode('CX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZSgmJGpzb24sICRyYV9lbWFpbD1udWxsLCAkbm9uanM9ZmFsc2UsICRyZXFfZ290bz0nJykgewoJCWlmICghT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSByZXR1cm4gZmFsc2U7CgoJCWlmIChm'));
	@fwrite($fp, base64_decode('aWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJJHRyZWVfaWNvbiA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3RyZWVpY29uLnBuZyc7CgkJfSBlbHNlIHsKCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9s'));
	@fwrite($fp, base64_decode('ZGVyKQoJCX0KCgkJJGpzb25bXSA9IGFycmF5KAoJCQknaWQnID0+ICdvaWRwbHVzOnN5c3RlbWluZm8nLAoJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+IF9MKCdTeXN0ZW0gaW5mb3JtYXRpb24nKQoJCSk7CgoJCXJldHVybiB0cnVlOwoJfQoK'));
	@fwrite($fp, base64_decode('CXB1YmxpYyBmdW5jdGlvbiB0cmVlX3NlYXJjaCgkcmVxdWVzdCkgewoJCXJldHVybiBmYWxzZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gaW1wbGVtZW50c0ZlYXR1cmUoJGlkKSB7CgkJcmV0dXJuIGZhbHNlOwoJfQp9'));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php');
	writefile_2();
	if (!is_file('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php');
	} else if (sha1_file('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php') != 'e3d9975a6d0f58584c3188eccdd8c4b07257d125') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php') !== 'e3d9975a6d0f58584c3188eccdd8c4b07257d125') {
		if (@sha1_file('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php') !== 'a1b5df5505d6cc3fb1ae833735c53726c7d16126') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php');
			$tmp = pathinfo('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php') !== 'e3d9975a6d0f58584c3188eccdd8c4b07257d125') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/111_systeminfo/OIDplusPageAdminSysteminfo.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 510\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 510') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

