<?php /* <ViaThinkSoftSignature>
Hi6rlq8vacnhhv1LvE5PmbFGOUst9SJi5Ozf7hT561qONkwWE+RSq9oknfitZa7nI
llGsNVAdrzwz09n8qo+TOHGQw/lB7b3SI6cP1kv1PBkH0fhPn6qfUux5BZxCu08Pf
MvxjLUkakYT56Vjgyt6jzxw41VuFo9AFdVQPkK1yvGUPIs9xzRuKd9aDs12zFvHNb
0W2myMbXwOirLrkRU0w48bMr2T9G3Oxscm7TxT8DT+ERWpJhxU3+TCrkbEKiNKzlM
T6XPRsxqHt/FNSpjbb9HNXo1XhtFbPrIy4flzzjymBS/tfSqYPiq1ymqUm5HSsKca
vvK/C02Oi//cnNTJFWG+VL1FuGtvpveOK23y7VWEfRd/3pYTpjYz3vhpRcQMamazY
SiFOonK+pF8hXs6QQN/kBxVuKdNEa9zWCRSS9fItcRtrWG/IMAdAuK8Qr8WZV3mdE
rA1Bxts+kv2b/j7EusYbbP3q36++NnPmo38nnA3v9fV0TeWg2whCw7VYYMQupzkWc
LLARNgt5+XO5fpzF8jjFOHF0dnODciUOZNXSGHsdq/bZpI/5G10GGF529tN8YE1yV
X0iIC8UFlLTrSjRdS4kC/kY1PSnnsPIqxtriVlPVNujHyzuHaLgUiEVGPZNuw9l6Z
SrsgWnaBArxA8TKV7SuYkzVWx6ciw8fdJc+a3x8tRHJf8D+APCjnB+EFQIWzXPs2g
347TYDDg1QvWpjrukIg8JkLZKa4wdk9fqqFlk4sxIzEepcsSHoQpYg8emim4IH7W/
bV56mHOCqkzyd4YLMHP5mScekdvufHdRTMOQMstAEwOWhM1jT6HxrBX3CY0IgKoiE
v60gDsqBVVxSZPVKiYYJlrTMP91nhmMpOrI9nSFBA3qE3gWILotNIYtxqhvn/yy+v
FKjMQhphzdUhO70ijv9LXeIJYEmZZXqVzQ5cg1mkFNh1oYAfX/eSS9yFQOYoae5si
zjy/oZF6a8WHYxhFmBm00Q9MwUkRRankxfP8o7IyCC6+8KDWlNUYMqZPQDV4NTt1y
XKuLjj7OFb5MPG27T5NhmKOLbBv5HMxbT320/MgYr5Xh19a7mVQ70/CIVL/MAGQFc
xqbMCKyOOucV6fS9+Q8JTe/OCcYV+R1dp19HbcRGUwTEoucCa6llEWMsmPXOwtpXR
u2UeIcrD5vou3uW7Fmq2P6v5nlmJM2ofom1egVLszro0tQGIwUpBGS6L7iu8FZSkr
GKDZgWEmKSPDqShBaf/iTJ01chaWgqgO1y/siR1Yx66cosgo6H9Wio9cFdFNzITOn
SF00Lobt4AdMpZZNtSfNcl2cX+rEjHIlYjKct9wgf7jibXCawa+lOBCQq+8CeNu0z
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 66') {
	err('This update can only be applied to OIDplus version 2.0.0.66!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: plugins/objectTypes/oid/OIDplusOid.class.php
function writefile_1() {
	@$fp = fopen('plugins/objectTypes/oid/OIDplusOid.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNPaWQgZXh0ZW5kcyBPSURwbHVzT2JqZWN0IHsKCXByaXZhdGUgJG9pZDsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJG9pZCkgewoJCSRiYWtfb2lkID0gJG9pZDsK'));
	@fwrite($fp, base64_decode('CgkJJG9pZCA9IHNhbml0aXplT0lEKCRvaWQsICdhdXRvJyk7CgkJaWYgKCRvaWQgPT09IGZhbHNlKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgT0lEICckYmFrX29pZCciKTsKCQl9CgoJCWlmICgoJG9pZCAhPSAnJykgJiYgKCFvaWRfdmFsaWRf'));
	@fwrite($fp, base64_decode('ZG90bm90YXRpb24oJG9pZCwgZmFsc2UsIHRydWUsIDApKSkgewoJCQkvLyBhdm9pZCBPSURzIGxpa2UgMy4wCgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgT0lEICckYmFrX29pZCciKTsKCQl9CgoJCSR0aGlzLT5vaWQgPSAkb2lkOwoJfQoKCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBzdGF0aWMgZnVuY3Rpb24gcGFyc2UoJG5vZGVfaWQpIHsKCQlAbGlzdCgkbmFtZXNwYWNlLCAkb2lkKSA9IGV4cGxvZGUoJzonLCAkbm9kZV9pZCwgMik7CgkJaWYgKCRuYW1lc3BhY2UgIT09ICdvaWQnKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuIG5ldyBzZWxm'));
	@fwrite($fp, base64_decode('KCRvaWQpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRpdGxlKCkgewoJCXJldHVybiAiT2JqZWN0IElkZW50aWZpZXIgKE9JRCkiOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRpdGxlU2hvcnQoKSB7CgkJcmV0'));
	@fwrite($fp, base64_decode('dXJuICJPSUQiOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbnMoKSB7CgkJcmV0dXJuICdvaWQnOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcm9vdCgpIHsKCQlyZXR1cm4gJ29pZDonOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpc1Jvb3QoKSB7CgkJ'));
	@fwrite($fp, base64_decode('cmV0dXJuICR0aGlzLT5vaWQgPT0gJyc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG5vZGVJZCgpIHsKCQlyZXR1cm4gJ29pZDonLiR0aGlzLT5vaWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGFkZFN0cmluZygkc3RyKSB7CgkJaWYgKCEkdGhpcy0+aXNSb290KCkpIHsK'));
	@fwrite($fp, base64_decode('CQkJaWYgKHN0cnBvcygkc3RyLCcuJykgIT09IGZhbHNlKSBkaWUoIlBsZWFzZSBvbmx5IHN1Ym1pdCBvbmUgYXJjIChub3QgYW4gYWJzb2x1dGUgT0lEIG9yIG11bHRpcGxlIGFyY3MpLiIpOwoJCX0KCQlyZXR1cm4gJHRoaXMtPmFwcGVuZEFyY3MoJHN0ciktPm5v'));
	@fwrite($fp, base64_decode('ZGVJZCgpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjcnVkU2hvd0lkKE9JRHBsdXNPYmplY3QgJHBhcmVudCkgewoJCXJldHVybiAkdGhpcy0+ZGVsdGFEb3ROb3RhdGlvbigkcGFyZW50KTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gY3J1ZEluc2VydFByZWZpeCgpIHsK'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gJyc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGpzVHJlZU5vZGVOYW1lKE9JRHBsdXNPYmplY3QgJHBhcmVudCA9IG51bGwpIHsKCQlpZiAoJHBhcmVudCA9PSBudWxsKSByZXR1cm4gJHRoaXMtPm9iamVjdFR5cGVUaXRsZSgpOwoJCXJldHVybiAkdGhp'));
	@fwrite($fp, base64_decode('cy0+dmlld0dldEFyY0FzbjFzKCRwYXJlbnQpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBkZWZhdWx0VGl0bGUoKSB7CgkJcmV0dXJuICdPSUQgJyAuICR0aGlzLT5vaWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzTGVhZk5vZGUoKSB7CgkJcmV0dXJuIGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('fQoKCXB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZW50UGFnZSgmJHRpdGxlLCAmJGNvbnRlbnQsICYkaWNvbikgewoJCSRpY29uID0gZmlsZV9leGlzdHMoX19ESVJfXy4nL2ljb25fYmlnLnBuZycpID8gJ3BsdWdpbnMvb2JqZWN0VHlwZXMvJy5iYXNlbmFtZShfX0RJ'));
	@fwrite($fp, base64_decode('Ul9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgewoJCQkkdGl0bGUgPSBPSURwbHVzT2lkOjpvYmplY3RUeXBlVGl0bGUoKTsKCgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBM'));
	@fwrite($fp, base64_decode('VVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoc2VsZjo6cm9vdCgpKS4iJyIpOwoJCQlpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPiAwKSB7CgkJCQkk'));
	@fwrite($fp, base64_decode('Y29udGVudCA9ICdQbGVhc2Ugc2VsZWN0IGFuIE9JRCBpbiB0aGUgdHJlZSB2aWV3IGF0IHRoZSBsZWZ0IHRvIHNob3cgaXRzIGNvbnRlbnRzLic7CgkJCX0gZWxzZSB7CgkJCQkkY29udGVudCA9ICdDdXJyZW50bHksIG5vIE9JRCBpcyByZWdpc3RlcmVkIGluIHRo'));
	@fwrite($fp, base64_decode('ZSBzeXN0ZW0uJzsKCQkJfQoKCQkJaWYgKCEkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxoMj5NYW5hZ2UgeW91ciByb290IE9JRHM8L2gyPic7'));
	@fwrite($fp, base64_decode('CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Um9vdCBPSURzPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0gJyUlQ1JVRCUlJzsKCQkJfQoJCX0gZWxzZSB7CgkJCSRjb250ZW50ID0gIjxoMj5UZWNobmljYWwgaW5mb3JtYXRpb248L2gyPiIu'));
	@fwrite($fp, base64_decode('JHRoaXMtPm9pZEluZm9ybWF0aW9uKCkuCgkJCSAgICAgICAgICAgIjxoMj5EZXNjcmlwdGlvbjwvaDI+JSVERVNDJSUiLgoJCQkgICAgICAgICAgICI8aDI+UmVnaXN0cmF0aW9uIEF1dGhvcml0eTwvaDI+JSVSQV9JTkZPJSUiOwoKCQkJaWYgKCEkdGhpcy0+aXNM'));
	@fwrite($fp, base64_decode('ZWFmTm9kZSgpKSB7CgkJCQlpZiAoJHRoaXMtPnVzZXJIYXNXcml0ZVJpZ2h0cygpKSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxoMj5DcmVhdGUgb3IgY2hhbmdlIHN1YnNlcXVlbnQgb2JqZWN0czwvaDI+JzsKCQkJCX0gZWxzZSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxo'));
	@fwrite($fp, base64_decode('Mj5TdWJzZXF1ZW50IG9iamVjdHM8L2gyPic7CgkJCQl9CgkJCQkkY29udGVudCAuPSAnJSVDUlVEJSUnOwoJCQl9CgoJCQkkY29udGVudCAuPSAnPGJyPiUlV0hPSVMlJSc7CgkJfQoJfQoKCSMgLS0tCgoJcHJpdmF0ZSBmdW5jdGlvbiBvaWRJbmZvcm1hdGlvbigp'));
	@fwrite($fp, base64_decode('IHsKCQkkd2VpZCA9IFdlaWRPaWRDb252ZXJ0ZXI6Om9pZDJ3ZWlkKCR0aGlzLT5nZXREb3ROb3RhdGlvbigpKTsKCQkkd2VpZCA9ICgkd2VpZCA9PT0gZmFsc2UpID8gIiIgOiAiPGJyPldFSUQgbm90YXRpb246IDxjb2RlPiIgLiBodG1sZW50aXRpZXMoJHdlaWQp'));
	@fwrite($fp, base64_decode('IC4gIjwvY29kZT4iOwoJCXJldHVybiAiPHA+RG90IG5vdGF0aW9uOiA8Y29kZT4iIC4gJHRoaXMtPmdldERvdE5vdGF0aW9uKCkgLiAiPC9jb2RlPjxicj4iIC4KCQkgICAgICAgIkFTTi4xIG5vdGF0aW9uOiA8Y29kZT57ICIgLiAkdGhpcy0+Z2V0QXNuMU5vdGF0'));
	@fwrite($fp, base64_decode('aW9uKCkgLiAiIH08L2NvZGU+PGJyPiIgLgoJCSAgICAgICAiT0lELUlSSSBub3RhdGlvbjogPGNvZGU+IiAuICR0aGlzLT5nZXRJcmlOb3RhdGlvbigpIC4gIjwvY29kZT48YnI+IiAuCgkJICAgICAgICJTSEExIG5hbWViYXNlZCBVVUlEOiA8Y29kZT4iLmdlbl91'));
	@fwrite($fp, base64_decode('dWlkX3NoYTFfbmFtZXNwYWNlKFVVSURfTkFNRUJBU0VEX05TX09JRCwgJHRoaXMtPmdldERvdE5vdGF0aW9uKCkpLiI8L2NvZGU+PGJyPiIgLgoJCSAgICAgICAiTUQ1IG5hbWViYXNlZCBVVUlEOiA8Y29kZT4iLmdlbl91dWlkX21kNV9uYW1lc3BhY2UoVVVJRF9O'));
	@fwrite($fp, base64_decode('QU1FQkFTRURfTlNfT0lELCAkdGhpcy0+Z2V0RG90Tm90YXRpb24oKSkuIjwvY29kZT4kd2VpZDwvcD4iOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBfX2Nsb25lKCkgewoJCXJldHVybiBuZXcgc2VsZigkdGhpcy0+b2lkKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gYXBw'));
	@fwrite($fp, base64_decode('ZW5kQXJjcyhTdHJpbmcgJGFyY3MpIHsKCQkkb3V0ID0gY2xvbmUgJHRoaXM7CgoJCWlmICgkb3V0LT5pc1Jvb3QoKSkgewoJCQkkb3V0LT5vaWQgLj0gJGFyY3M7CgkJfSBlbHNlIHsKCQkJJG91dC0+b2lkIC49ICcuJyAuICRhcmNzOwoJCX0KCgkJJGJha19vaWQg'));
	@fwrite($fp, base64_decode('PSAkb3V0LT5vaWQ7CgkJJG91dC0+b2lkID0gc2FuaXRpemVPSUQoJG91dC0+b2lkKTsKCQlpZiAoJG91dC0+b2lkID09PSBmYWxzZSkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiJGJha19vaWQgaXMgbm90IGEgdmFsaWQgT0lEISIpOwoKCQlyZXR1cm4gJG91dDsKCX0K'));
	@fwrite($fp, base64_decode('CglwdWJsaWMgZnVuY3Rpb24gZGVsdGFEb3ROb3RhdGlvbihPSURwbHVzT2lkICRwYXJlbnQpIHsKCQlpZiAoISRwYXJlbnQtPmlzUm9vdCgpKSB7CgkJCWlmIChzdWJzdHIoJHRoaXMtPm9pZCwgMCwgc3RybGVuKCRwYXJlbnQtPm9pZCkrMSkgPT0gJHBhcmVudC0+'));
	@fwrite($fp, base64_decode('b2lkLicuJykgewoJCQkJcmV0dXJuIHN1YnN0cigkdGhpcy0+b2lkLCBzdHJsZW4oJHBhcmVudC0+b2lkKSsxKTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0gZWxzZSB7CgkJCXJldHVybiAkdGhpcy0+b2lkOwoJCX0KCX0KCglwdWJsaWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gdmlld0dldEFyY0FzbjFzKE9JRHBsdXNPaWQgJHBhcmVudD1udWxsLCAkc2VwYXJhdG9yID0gJyB8ICcpIHsKCQkkYXNuX2lkcyA9IGFycmF5KCk7CgoJCWlmIChpc19udWxsKCRwYXJlbnQpKSAkcGFyZW50ID0gT0lEcGx1c09pZDo6cGFyc2UoJ29p'));
	@fwrite($fp, base64_decode('ZDonKTsKCgkJJHBhcnQgPSAkdGhpcy0+ZGVsdGFEb3ROb3RhdGlvbigkcGFyZW50KTsKCgkJaWYgKHN0cnBvcygkcGFydCwgJy4nKSA9PT0gZmFsc2UpIHsKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFC'));
	@fwrite($fp, base64_decode('TEVOQU1FX1BSRUZJWC4iYXNuMWlkIHdoZXJlIG9pZCA9ICdvaWQ6Ii5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHRoaXMtPm9pZCkuIicgb3JkZXIgYnkgbGZkIik7CgkJCXdoaWxlICgkcm93MiA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5'));
	@fwrite($fp, base64_decode('KCRyZXMyKSkgewoJCQkJJGFzbl9pZHNbXSA9ICRyb3cyWyduYW1lJ10uJygnLiRwYXJ0LicpJzsKCQkJfQoJCX0KCgkJaWYgKGNvdW50KCRhc25faWRzKSA9PSAwKSAkYXNuX2lkcyA9IGFycmF5KCRwYXJ0KTsKCQlyZXR1cm4gaW1wbG9kZSgkYXNuX2lkcywgJHNl'));
	@fwrite($fp, base64_decode('cGFyYXRvcik7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldEFzbjFOb3RhdGlvbigkd2l0aEFiYnI9dHJ1ZSkgewoJCSRhc24xX25vdGF0aW9uID0gJyc7CgkJJGFyY3MgPSBleHBsb2RlKCcuJywgJHRoaXMtPm9pZCk7CgoJCWZvcmVhY2ggKCRhcmNzIGFzICRhcmMp'));
	@fwrite($fp, base64_decode('IHsKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgbmFtZSwgc3RhbmRhcmRpemVkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCB3aGVyZSBvaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmco'));
	@fwrite($fp, base64_decode('J29pZDonLmltcGxvZGUoJy4nLCRhcmNzKSkuIicgb3JkZXIgYnkgbGZkIik7CgoJCQkkbmFtZXMgPSBhcnJheSgpOwoJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpKSB7CgkJCQkkbmFtZXNbXSA9ICRyb3dbJ25hbWUnXS4i'));
	@fwrite($fp, base64_decode('KCIuZW5kKCRhcmNzKS4iKSI7CgkJCQlpZiAoJHJvd1snc3RhbmRhcmRpemVkJ10pIHsKCQkJCQkkbmFtZXNbXSA9ICRyb3dbJ25hbWUnXTsKCQkJCX0KCQkJfQoKCQkJJG51bWVyaWMgPSBhcnJheV9wb3AoJGFyY3MpOwoJCQlpZiAoY291bnQoJG5hbWVzKSA+IDEp'));
	@fwrite($fp, base64_decode('IHsKCQkJCSRmaXJzdF9uYW1lID0gYXJyYXlfc2hpZnQoJG5hbWVzKTsKCQkJCSRhYmJyID0gJ090aGVyIGlkZW50aWZpZXJzOiYjMTA7ICAgICAgJy5pbXBsb2RlKCcmIzEwOyAgICAgICcsJG5hbWVzKTsKCQkJCWlmICgkd2l0aEFiYnIpIHsKCQkJCQkkYXNuMV9u'));
	@fwrite($fp, base64_decode('b3RhdGlvbiA9ICc8YWJiciB0aXRsZT0iJy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+ICcuJGFzbjFfbm90YXRpb247CgkJCQl9IGVsc2UgewoJCQkJCSRhc24xX25vdGF0aW9uID0gJGZpcnN0X25hbWUuJyAnLiRhc24xX25vdGF0aW9uOwoJCQkJfQoJ'));
	@fwrite($fp, base64_decode('CQl9IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPT0gMSkgewoJCQkJJGFzbjFfbm90YXRpb24gPSBhcnJheV9zaGlmdCgkbmFtZXMpLicgJy4kYXNuMV9ub3RhdGlvbjsKCQkJfSBlbHNlIHsKCQkJCSRhc24xX25vdGF0aW9uID0gJG51bWVyaWMuJyAnLiRhc24xX25v'));
	@fwrite($fp, base64_decode('dGF0aW9uOwoJCQl9CgkJfQoKCQlyZXR1cm4gJGFzbjFfbm90YXRpb247Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldElyaU5vdGF0aW9uKCR3aXRoQWJicj10cnVlKSB7CgkJJGlyaV9ub3RhdGlvbiA9ICcnOwoJCSRhcmNzID0gZXhwbG9kZSgnLicsICR0aGlzLT5v'));
	@fwrite($fp, base64_decode('aWQpOwoKCQlmb3JlYWNoICgkYXJjcyBhcyAkYXJjKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG5hbWUsIGxvbmdhcmMgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpIHdoZXJlIG9pZCA9ICciLk9JRHBsdXM6OmRi'));
	@fwrite($fp, base64_decode('KCktPnJlYWxfZXNjYXBlX3N0cmluZygnb2lkOicuaW1wbG9kZSgnLicsJGFyY3MpKS4iJyBvcmRlciBieSBsZmQiKTsKCgkJCSRpc19sb25nYXJjID0gZmFsc2U7CgkJCSRuYW1lcyA9IGFycmF5KCk7CgkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0'));
	@fwrite($fp, base64_decode('Y2hfYXJyYXkoJHJlcykpIHsKCQkJCSRpc19sb25nYXJjID0gJHJvd1snbG9uZ2FyYyddOwoJCQkJJG5hbWVzW10gPSAkcm93WyduYW1lJ107CgoJCQkJaWYgKCRpc19sb25nYXJjKSB7CgkJCQkJJG5hbWVzW10gPSAnSm9pbnQtSVNPLUlUVS1ULycuJHJvd1snbmFt'));
	@fwrite($fp, base64_decode('ZSddOyAvLyBMb25nIGFyY3MgY2FuIG9ubHkgYmUgaW5zaWRlIHJvb3QgT0lEIDIKCQkJCX0KCQkJfQoKCQkJJG5hbWVzW10gPSBhcnJheV9wb3AoJGFyY3MpOwoJCQlpZiAoY291bnQoJG5hbWVzKSA+IDIpIHsKCQkJCSRmaXJzdF9uYW1lID0gYXJyYXlfc2hpZnQo'));
	@fwrite($fp, base64_decode('JG5hbWVzKTsKCQkJCSRudW1lcmljID0gYXJyYXlfcG9wKCRuYW1lcyk7CgkJCQkkYWJiciA9ICdPdGhlciBpZGVudGlmaWVyczomIzEwOyAgICAgICcuaW1wbG9kZSgnJiMxMDsgICAgICAnLCRuYW1lcykuJyYjMTA7TnVtZXJpYyB2YWx1ZTogJy4kbnVtZXJpYzsK'));
	@fwrite($fp, base64_decode('CQkJCSRpcmlfbm90YXRpb24gPSAkd2l0aEFiYnIgPyAnPGFiYnIgdGl0bGU9IicuJGFiYnIuJyI+Jy4kZmlyc3RfbmFtZS4nPC9hYmJyPi8nLiRpcmlfbm90YXRpb24gOiAkZmlyc3RfbmFtZS4nLycuJGlyaV9ub3RhdGlvbjsKCQkJfSBlbHNlIGlmIChjb3VudCgk'));
	@fwrite($fp, base64_decode('bmFtZXMpID4gMSkgewoJCQkJJGZpcnN0X25hbWUgPSBhcnJheV9zaGlmdCgkbmFtZXMpOwoJCQkJJGFiYnIgPSAnTnVtZXJpYyB2YWx1ZTogJy5hcnJheV9zaGlmdCgkbmFtZXMpOwoJCQkJJGlyaV9ub3RhdGlvbiA9ICR3aXRoQWJiciA/ICc8YWJiciB0aXRsZT0i'));
	@fwrite($fp, base64_decode('Jy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+LycuJGlyaV9ub3RhdGlvbiA6ICRmaXJzdF9uYW1lLicvJy4kaXJpX25vdGF0aW9uOwoJCQl9IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPT0gMSkgewoJCQkJJGlyaV9ub3RhdGlvbiA9IGFycmF5X3NoaWZ0'));
	@fwrite($fp, base64_decode('KCRuYW1lcykgLiAnLycgLiAkaXJpX25vdGF0aW9uOwoJCQl9CgoJCQlpZiAoJGlzX2xvbmdhcmMpIGJyZWFrOyAvLyB3ZSBkb24ndCB3cml0ZSAvSVRVLVQvIGF0IHRoZSBiZWdpbm5pbmcsIHdoZW4gL0lUVS1UL3h4eCBpcyBhIGxvbmcgYXJjCgkJfQoJCSRpcmlf'));
	@fwrite($fp, base64_decode('bm90YXRpb24gPSAnLycgLiBzdWJzdHIoJGlyaV9ub3RhdGlvbiwgMCwgc3RybGVuKCRpcmlfbm90YXRpb24pLTEpOwoKCQlyZXR1cm4gJGlyaV9ub3RhdGlvbjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0RG90Tm90YXRpb24oKSB7CgkJcmV0dXJuICR0aGlzLT5v'));
	@fwrite($fp, base64_decode('aWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzV2VsbEtub3duKCkgewoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkIHdoZXJlIG9pZCA9ICdvaWQ6Ii4kdGhpcy0+b2lk'));
	@fwrite($fp, base64_decode('LiInIGFuZCB3ZWxsX2tub3duID0gMSIpOwoJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA+IDApIHJldHVybiB0cnVlOwoKCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVG'));
	@fwrite($fp, base64_decode('SVguImlyaSB3aGVyZSBvaWQgPSAnb2lkOiIuJHRoaXMtPm9pZC4iJyBhbmQgd2VsbF9rbm93biA9IDEiKTsKCQlpZiAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPiAwKSByZXR1cm4gdHJ1ZTsKCgkJcmV0dXJuIGZhbHNlOwoJfQoKCXB1YmxpYyBmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiByZXBsYWNlQXNuMUlkcygkZGVtYW5kZWRBU04xcz1hcnJheSgpKSB7CgkJaWYgKCR0aGlzLT5pc1dlbGxLbm93bigpKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIk9JRCAiLiR0aGlzLT5vaWQuIiBpcyBhICd3ZWxsLWtub3duJyBPSUQuIEl0cyBpZGVu'));
	@fwrite($fp, base64_decode('dGlmaWVycyBjYW5ub3QgYmUgY2hhbmdlZC4iKTsKCQl9CgoJCS8vIEZpcnN0IGRvIGEgZmV3IGNoZWNrcwoJCWZvcmVhY2ggKCRkZW1hbmRlZEFTTjFzIGFzICYkYXNuMSkgewoJCQkkYXNuMSA9IHRyaW0oJGFzbjEpOwoKCQkJLy8gVmFsaWRhdGUgaWRlbnRpZmll'));
	@fwrite($fp, base64_decode('cgoJCQlpZiAoIW9pZF9pZF9pc192YWxpZCgkYXNuMSkpIHRocm93IG5ldyBFeGNlcHRpb24oIickYXNuMScgaXMgbm90IGEgdmFsaWQgQVNOLjEgaWRlbnRpZmllciEiKTsKCgkJCS8vIENoZWNrIGlmIHRoZSAocmVhbCkgcGFyZW50IGhhcyBhbnkgY29uZmxpY3QK'));
	@fwrite($fp, base64_decode('CQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgd2hlcmUgbmFtZSA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkYXNuMSkuIiciKTsKCQkJd2hp'));
	@fwrite($fp, base64_decode('bGUgKCRyb3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9hcnJheSgkcmVzKSkgewoJCQkJJGNoZWNrX29pZCA9IE9JRHBsdXNPaWQ6OnBhcnNlKCRyb3dbJ29pZCddKS0+b2lkOwoJCQkJaWYgKChvaWRfdXAoJGNoZWNrX29pZCkgPT09IG9pZF91cCgkdGhpcy0+b2lk'));
	@fwrite($fp, base64_decode('KSkgJiYgLy8gc2FtZSBwYXJlbnQKCQkJCSAgICgkY2hlY2tfb2lkICE9PSAkdGhpcy0+b2lkKSkgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBPSUQKCQkJCXsKCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJBU04uMSBpZGVudGlmaWVyICckYXNuMScg'));
	@fwrite($fp, base64_decode('aXMgYWxyZWFkeSB1c2VkIGJ5IGFub3RoZXIgT0lEICgkY2hlY2tfb2lkKSIpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBOb3cgZG8gdGhlIHJlYWwgcmVwbGFjZW1lbnQKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIi5PSURQTFVTX1RBQkxFTkFN'));
	@fwrite($fp, base64_decode('RV9QUkVGSVguImFzbjFpZCB3aGVyZSBvaWQgPSAnb2lkOiIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCR0aGlzLT5vaWQpLiInIik7CgkJZm9yZWFjaCAoJGRlbWFuZGVkQVNOMXMgYXMgJiRhc24xKSB7CgkJCWlmICghT0lEcGx1czo6ZGIoKS0+'));
	@fwrite($fp, base64_decode('cXVlcnkoImluc2VydCBpbnRvICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgKG9pZCwgbmFtZSkgdmFsdWVzICgnb2lkOiIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCR0aGlzLT5vaWQpLiInLCAnIi5PSURwbHVzOjpkYigpLT5y'));
	@fwrite($fp, base64_decode('ZWFsX2VzY2FwZV9zdHJpbmcoJGFzbjEpLiInKSIpKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnNlcnRpb24gb2YgQVNOLjEgSUQgJGFzbjEgdG8gT0lEICIuJHRoaXMtPm9pZC4iIGZhaWxlZCEiKTsKCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24g'));
	@fwrite($fp, base64_decode('cmVwbGFjZUlyaXMoJGRlbWFuZGVkSXJpcz1hcnJheSgpKSB7CgkJaWYgKCR0aGlzLT5pc1dlbGxLbm93bigpKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIk9JRCAiLiR0aGlzLT5vaWQuIiBpcyBhICd3ZWxsLWtub3duJyBPSUQuIEl0cyBpZGVudGlmaWVycyBj'));
	@fwrite($fp, base64_decode('YW5ub3QgYmUgY2hhbmdlZC4iKTsKCQl9CgoJCS8vIEZpcnN0IGRvIGEgZmV3IGNoZWNrcwoJCWZvcmVhY2ggKCRkZW1hbmRlZElyaXMgYXMgJiRpcmkpIHsKCQkJJGlyaSA9IHRyaW0oJGlyaSk7CgoJCQkvLyBWYWxpZGF0ZSBpZGVudGlmaWVyCgkJCWlmICghaXJp'));
	@fwrite($fp, base64_decode('X2FyY192YWxpZCgkaXJpLCBmYWxzZSkpIHRocm93IG5ldyBFeGNlcHRpb24oIickaXJpJyBpcyBub3QgYSB2YWxpZCBJUkkhIik7CgoJCQkvLyBDaGVjayBpZiB0aGUgKHJlYWwpIHBhcmVudCBoYXMgYW55IGNvbmZsaWN0CgkJCSRyZXMgPSBPSURwbHVzOjpkYigp'));
	@fwrite($fp, base64_decode('LT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpIHdoZXJlIG5hbWUgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJGlyaSkuIiciKTsKCQkJd2hpbGUgKCRyb3cgPSBPSURwbHVzOjpkYigpLT5m'));
	@fwrite($fp, base64_decode('ZXRjaF9hcnJheSgkcmVzKSkgewoJCQkJJGNoZWNrX29pZCA9IE9JRHBsdXNPaWQ6OnBhcnNlKCRyb3dbJ29pZCddKS0+b2lkOwoJCQkJaWYgKChvaWRfdXAoJGNoZWNrX29pZCkgPT09IG9pZF91cCgkdGhpcy0+b2lkKSkgJiYgLy8gc2FtZSBwYXJlbnQKCQkJCSAg'));
	@fwrite($fp, base64_decode('ICgkY2hlY2tfb2lkICE9PSAkdGhpcy0+b2lkKSkgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBPSUQKCQkJCXsKCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJJUkkgJyRpcmknIGlzIGFscmVhZHkgdXNlZCBieSBhbm90aGVyIE9JRCAoJGNoZWNrX29p'));
	@fwrite($fp, base64_decode('ZCkiKTsKCQkJCX0KCQkJfQoJCX0KCgkJLy8gTm93IGRvIHRoZSByZWFsIHJlcGxhY2VtZW50CgkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgd2hlcmUgb2lkID0gJ29pZDoiLk9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkdGhpcy0+b2lkKS4iJyIpOwoJCWZvcmVhY2ggKCRkZW1hbmRlZElyaXMgYXMgJiRpcmkpIHsKCQkJaWYgKCFPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVgu'));
	@fwrite($fp, base64_decode('ImlyaSAob2lkLCBuYW1lKSB2YWx1ZXMgKCdvaWQ6Ii5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHRoaXMtPm9pZCkuIicsICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaXJpKS4iJykiKSkgewoJCQkJdGhyb3cgbmV3IEV4'));
	@fwrite($fp, base64_decode('Y2VwdGlvbigiSW5zZXJ0aW9uIG9mIElSSSAkaXJpIHRvIE9JRCAiLiR0aGlzLT5vaWQuIiBmYWlsZWQhIik7CgkJCX0KCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG9uZV91cCgpIHsKCQlyZXR1cm4gc2VsZjo6cGFyc2Uoc2VsZjo6bnMoKS4nOicub2lkX3VwKCR0'));
	@fwrite($fp, base64_decode('aGlzLT5vaWQpKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZGlzdGFuY2UoJHRvKSB7CgkJaWYgKCFpc19vYmplY3QoJHRvKSkgJHRvID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHRvKTsKCQlpZiAoISgkdG8gaW5zdGFuY2VvZiAkdGhpcykpIHJldHVybiBmYWxzZTsK'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gb2lkX2Rpc3RhbmNlKCR0by0+b2lkLCAkdGhpcy0+b2lkKTsKCX0KfQoKT0lEcGx1czo6cmVnaXN0ZXJPYmplY3RUeXBlKCdPSURwbHVzT2lkJyk7Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/objectTypes/oid/OIDplusOid.class.php')) {
	warn('File has vanished! Will re-create it: plugins/objectTypes/oid/OIDplusOid.class.php');
	writefile_1();
	if (!is_file('plugins/objectTypes/oid/OIDplusOid.class.php')) {
		warn('File cannot be created (not existing): plugins/objectTypes/oid/OIDplusOid.class.php');
	} else if (sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') != '6a3f43128e3c8ae09f9cff54bf8ede85c439e039') {
		warn('File cannot be created (checksum mismatch): plugins/objectTypes/oid/OIDplusOid.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/objectTypes/oid/OIDplusOid.class.php', 0644)) {
		warn('Could not change file permissions of plugins/objectTypes/oid/OIDplusOid.class.php');
	}
} else {
	if (@sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') !== '6a3f43128e3c8ae09f9cff54bf8ede85c439e039') {
		if (@sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') !== '0bb5cb6864c97daf05a341b1cf4daa52498961ad') {
			warn('File was modified. Will overwrite the changes now: plugins/objectTypes/oid/OIDplusOid.class.php');
			$tmp = pathinfo('plugins/objectTypes/oid/OIDplusOid.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/objectTypes/oid/OIDplusOid.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/objectTypes/oid/OIDplusOid.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') !== '6a3f43128e3c8ae09f9cff54bf8ede85c439e039') {
			warn('File cannot be written (checksum mismatch): plugins/objectTypes/oid/OIDplusOid.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 67\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 67') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

