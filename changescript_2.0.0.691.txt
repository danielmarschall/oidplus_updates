<?php /* <ViaThinkSoftSignature>
bzAbj81eFrxr2vbhDsKlk4jAvIwYghQlIfEdpYgVX8ut5DZuGtn/NntyY3pOkiBvW
Eg2ZcBA9o9Zc22Gd1P8b3NF9QzIfKc3Zwp+fk/J4A/mJuQEYALg4q7r5U30zaSS+e
scJjf7c7bmrOuGw7kSOMuY+v3IIF2w3leELjvGkcKpDO18K6cxghhi3GYnK6eU77Y
NqvziR49Vsxdifnp1M9g0x13tREJ/53bWALk8MAuiX///+uKgq0txBFbznA2GENdw
FmZR7CszBgleFo3anJYUJPXoHkPIN7EQjlS0KZXOCTGOfO6H40dxefwuoyb+nAo6q
QT78q+NxRhus3Do0whHe/W3cHlgwdAWjU5nYdKvnUJIg80tmyWzWkZ8buvQzHZOVu
G3GjhlDdfeM4ze3hjxWEgSLYPVF0+7uKTbsUwRD0sA5t+bI/hyV5fS0tQ2gwiOtkc
qllI7bga2nKmDuY2PqY2QhiaS83dtIezBhHmhKz5nG2DOj9CjpapLeYJlqTUwQKLZ
fmtFvvdfBu9zknaey00WSndXkqtqwAoxK2tddPt1owenJb7tzp7wwe4YItrgQ6WSp
66/vMg3ndKeWNNFNgL8yBRFGE6+PNQT/6apggPWZd1BUavr2/MtgYb9kBp6/eli6N
29GnPdlkqoNV8F6n34HUCCydv4mMaCA/acMm0vu+WO8lZR5G/Fv29PxPFXczCwvyp
HIzcTNtXK43TB/0cG+NM3f8pXyEq59hGBLszfZTZkFNICQdrVpU3057fL54hfX2VF
Ppv4S+o1ic0u6Vh0+6RlfzLm2lIPDi6GhFwArCV2YkzbHGZNVdNADOtwcH7iwBRVX
bOXTAdTxnfl+h/Yz1BudKKPR7q8UkDeVRTWyXt5bck80UqQmKAfRR5vB7uR0iVz3a
c+Byybi/v/FQbDeyToBVSV6yPCm7cbBpDb8kw3wtGsOduZixZToGxppNQTuVXGO2X
6PKxMaSFeZEte+iwsw00M4aU9pxcU3dvnmiAV1Z11fWbvnAnMId/DRZqFRn4ye7Fv
DoQz53kgDFTD5j8JH38fdibLcODgoIiG/3w3/U8+Ufvydykn/P5ckNLkRg7x3J8PM
fDn2uy8s5WcAbexgZt+2YvRLh/edp/xuPjU4C+YcZGMNfEjHfgE1Ow9ZsopwqNTVV
5/pBsNCP/RToZTHpfOc68QyD/YRLZhS3OhsikteIre1Wlex9p51dPffRV++YkKt0z
1IDLVLA7xZ3v7F/7+dm7kFcM30cZECnMSEvxqvbbJ/jMQk1nZN0zn8xtBUkKP93tG
VdgHg0n3OJdj2wyUemN/UYkq0nNt4Kw5gAwNM6WzteT2UulPUAIZZqc3Iyqnq++s8
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 690') {
	err('This update can only be applied to OIDplus version 2.0.0.690!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php
function writefile_1() {
	@$fp = fopen('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMSBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppZiAoIWRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykpIGRpZSgpOwoKY2xhc3MgT0lEcGx1c1BhZ2VBZG1pblNvZnR3YXJlVXBkYXRlIGV4dGVuZHMgT0lEcGx1c1BhZ2VQbHVnaW5BZG1p'));
	@fwrite($fp, base64_decode('biB7CgoJcHVibGljIGZ1bmN0aW9uIGluaXQoJGh0bWw9dHJ1ZSkgewoJfQoKCXB1YmxpYyBmdW5jdGlvbiBhY3Rpb24oJGFjdGlvbklELCAkcGFyYW1zKSB7CgkJaWYgKCRhY3Rpb25JRCA9PSAndXBkYXRlX25vdycpIHsKCQkJQHNldF90aW1lX2xpbWl0KDApOwoK'));
	@fwrite($fp, base64_decode('CQkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNBZG1pbkxvZ2dlZEluKCkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdZb3UgbmVlZCB0byA8YSAlMT5sb2cgaW48L2E+IGFzIGFkbWluaXN0cmF0b3IuJyxPSURwbHVzOjpndWkoKS0+'));
	@fwrite($fp, base64_decode('bGluaygnb2lkcGx1czpsb2dpbiRhZG1pbicpKSk7CgkJCX0KCgkJCWlmIChPSURwbHVzOjpnZXRJbnN0YWxsVHlwZSgpID09PSAnZ2l0LXdjJykgewoJCQkJJGNtZCA9ICdnaXQgLS1naXQtZGlyPScuZXNjYXBlc2hlbGxhcmcoZmluZF9naXRfZm9sZGVyKCkuJy8n'));
	@fwrite($fp, base64_decode('KS4nIC0td29yay10cmVlPScuZXNjYXBlc2hlbGxhcmcoT0lEcGx1czo6bG9jYWxwYXRoKCkpLicgLUMgIiIgcHVsbCAtcyByZWN1cnNpdmUgLVggdGhlaXJzIDI+JjEnOwoKCQkJCSRlYyA9IC0xOwoJCQkJJG91dCA9IGFycmF5KCk7CgkJCQlleGVjKCRjbWQsICRv'));
	@fwrite($fp, base64_decode('dXQsICRlYyk7CgoJCQkJJHJlcyA9IF9MKCdFeGVjdXRlIGNvbW1hbmQ6JykuJyAnLiRjbWQuIlxuXG4iLnRyaW0oaW1wbG9kZSgiXG4iLCRvdXQpKTsKCQkJCWlmICgkZWMgPT09IDApIHsKCQkJCQkkcmV2ID0gJ0hFQUQnOyAvLyBkbyBub3QgdHJhbnNsYXRlCgkJ'));
	@fwrite($fp, base64_decode('CQkJcmV0dXJuIGFycmF5KCJzdGF0dXMiID0+IDAsICJjb250ZW50IiA9PiAkcmVzLCAicmV2IiA9PiAkcmV2KTsKCQkJCX0gZWxzZSB7CgkJCQkJcmV0dXJuIGFycmF5KCJzdGF0dXMiID0+IC0xLCAiZXJyb3IiID0+ICRyZXMsICJjb250ZW50IiA9PiAiIik7CgkJ'));
	@fwrite($fp, base64_decode('CQl9CgkJCX0KCQkJZWxzZSBpZiAoT0lEcGx1czo6Z2V0SW5zdGFsbFR5cGUoKSA9PT0gJ3N2bi13YycpIHsKCQkJCSRjbWQgPSAnc3ZuIHVwZGF0ZSAtLWFjY2VwdCB0aGVpcnMtZnVsbCAyPiYxJzsKCgkJCQkkZWMgPSAtMTsKCQkJCSRvdXQgPSBhcnJheSgpOwoJ'));
	@fwrite($fp, base64_decode('CQkJZXhlYygkY21kLCAkb3V0LCAkZWMpOwoKCQkJCSRyZXMgPSBfTCgnRXhlY3V0ZSBjb21tYW5kOicpLicgJy4kY21kLiJcblxuIi50cmltKGltcGxvZGUoIlxuIiwkb3V0KSk7CgkJCQlpZiAoJGVjID09PSAwKSB7CgkJCQkJJHJldiA9ICdIRUFEJzsgLy8gZG8g'));
	@fwrite($fp, base64_decode('bm90IHRyYW5zbGF0ZQoJCQkJCXJldHVybiBhcnJheSgic3RhdHVzIiA9PiAwLCAiY29udGVudCIgPT4gJHJlcywgInJldiIgPT4gJHJldik7CgkJCQl9IGVsc2UgewoJCQkJCXJldHVybiBhcnJheSgic3RhdHVzIiA9PiAtMSwgImVycm9yIiA9PiAkcmVzLCAiY29u'));
	@fwrite($fp, base64_decode('dGVudCIgPT4gIiIpOwoJCQkJfQoJCQl9CgkJCWVsc2UgaWYgKE9JRHBsdXM6OmdldEluc3RhbGxUeXBlKCkgPT09ICdzdm4tc25hcHNob3QnKSB7CgoJCQkJJHJldiA9ICRwYXJhbXNbJ3JldiddOwoKCQkJCS8vIERvd25sb2FkIGFuZCB1bnppcAoKCQkJCWlmIChm'));
	@fwrite($fp, base64_decode('dW5jdGlvbl9leGlzdHMoJ2d6ZGVjb2RlJykpIHsKCQkJCQkkdXJsID0gc3ByaW50ZihwYXJzZV9pbmlfZmlsZShfX0RJUl9fLicvY29uc3RzLmluaScpWyd1cGRhdGVfcGFja2FnZV9neiddLCAkcmV2LTEsICRyZXYpOwoJCQkJCSRjb250ID0gdXJsX2dldF9jb250'));
	@fwrite($fp, base64_decode('ZW50cygkdXJsKTsKCQkJCQlpZiAoJGNvbnQgIT09IGZhbHNlKSAkY29udCA9IEBnemRlY29kZSgkY29udCk7CgkJCQl9IGVsc2UgewoJCQkJCSR1cmwgPSBzcHJpbnRmKHBhcnNlX2luaV9maWxlKF9fRElSX18uJy9jb25zdHMuaW5pJylbJ3VwZGF0ZV9wYWNrYWdl'));
	@fwrite($fp, base64_decode('J10sICRyZXYtMSwgJHJldik7CgkJCQkJJGNvbnQgPSB1cmxfZ2V0X2NvbnRlbnRzKCR1cmwpOwoJCQkJfQoKCQkJCWlmICgkY29udCA9PT0gZmFsc2UpIHRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCJVcGRhdGUgJTEgY291bGQgbm90IGJlIGRvd25sb2Fk'));
	@fwrite($fp, base64_decode('ZWQgZnJvbSBWaWFUaGlua1NvZnQgc2VydmVyLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLiIsJHJldikpOwoKCQkJCS8vIENoZWNrIHNpZ25hdHVyZS4uLgoKCQkJCWlmIChmdW5jdGlvbl9leGlzdHMoJ29wZW5zc2xfdmVyaWZ5JykpIHsKCgkJCQkJJG0gPSBhcnJh'));
	@fwrite($fp, base64_decode('eSgpOwoJCQkJCWlmICghcHJlZ19tYXRjaCgnQDxcP3BocCAvXCogPFZpYVRoaW5rU29mdFNpZ25hdHVyZT4oLispPC9WaWFUaGlua1NvZnRTaWduYXR1cmU+IFwqLyBcPz5cbkBpc21VJywgJGNvbnQsICRtKSkgewoJCQkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2Vw'));
	@fwrite($fp, base64_decode('dGlvbihfTCgiVXBkYXRlIHBhY2thZ2UgZmlsZSBvZiByZXZpc2lvbiAlMSBub3QgZGlnaXRhbGx5IHNpZ25lZCIsJHJldikpOwoJCQkJCX0KCQkJCQkkc2lnbmF0dXJlID0gYmFzZTY0X2RlY29kZSgkbVsxXSk7CgoJCQkJCSRuYWtlZCA9IHByZWdfcmVwbGFjZSgn'));
	@fwrite($fp, base64_decode('QDxcP3BocCAvXCogPFZpYVRoaW5rU29mdFNpZ25hdHVyZT4oLispPC9WaWFUaGlua1NvZnRTaWduYXR1cmU+IFwqLyBcPz5cbkBpc21VJywgJycsICRjb250KTsKCQkJCQkkaGFzaCA9IGhhc2goInNoYTI1NiIsICRuYWtlZC4idXBkYXRlXyIuKCRyZXYtMSkuIl90'));
	@fwrite($fp, base64_decode('b18iLigkcmV2KS4iLnR4dCIpOwoKCQkJCQkkcHVibGljX2tleSA9IGZpbGVfZ2V0X2NvbnRlbnRzKF9fRElSX18uJy9wdWJsaWMucGVtJyk7CgkJCQkJaWYgKCFvcGVuc3NsX3ZlcmlmeSgkaGFzaCwgJHNpZ25hdHVyZSwgJHB1YmxpY19rZXksIE9QRU5TU0xfQUxH'));
	@fwrite($fp, base64_decode('T19TSEEyNTYpKSB7CgkJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCJVcGRhdGUgcGFja2FnZSBmaWxlIG9mIHJldmlzaW9uICUxOiBTaWduYXR1cmUgaW52YWxpZCIsJHJldikpOwoJCQkJCX0KCgkJCQl9CgoJCQkJLy8gQWxsIE9LISBOb3cgd3Jp'));
	@fwrite($fp, base64_decode('dGUgZmlsZQoKCQkJCSR0bXBfZmlsZW5hbWUgPSAndXBkYXRlXycuZ2VuZXJhdGVSYW5kb21TdHJpbmcoMTApLicudG1wLnBocCc7CgkJCQkkbG9jYWxfZmlsZSA9IE9JRHBsdXM6OmxvY2FscGF0aCgpLiR0bXBfZmlsZW5hbWU7CgkJCQkkd2ViX2ZpbGUgPSBPSURw'));
	@fwrite($fp, base64_decode('bHVzOjp3ZWJwYXRoKCkuJHRtcF9maWxlbmFtZTsKCgkJCQlAZmlsZV9wdXRfY29udGVudHMoJGxvY2FsX2ZpbGUsICRjb250KTsKCgkJCQlpZiAoIWZpbGVfZXhpc3RzKCRsb2NhbF9maWxlKSB8fCAoQGZpbGVfZ2V0X2NvbnRlbnRzKCRsb2NhbF9maWxlKSAhPT0g'));
	@fwrite($fp, base64_decode('JGNvbnQpKSB7CgkJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1VwZGF0ZSBmaWxlIGNvdWxkIG5vdCB3cml0dGVuLiBQcm9iYWJseSB0aGVyZSBhcmUgbm8gd3JpdGUtcGVybWlzc2lvbnMgdG8gdGhlIHJvb3QgZm9sZGVyLicpKTsKCQkJCX0KCgkJ'));
	@fwrite($fp, base64_decode('CQkvLyBOb3cgY2FsbCB0aGUgd3JpdHRlbiBmaWxlCgkJCQkvLyBOb3RlOiB3ZSBtYXkgbm90IHVzZSBldmFsKCRjb250KSBiZWNhdXNlIHNjcmlwdCB1c2VzIGRpZSgpCgoJCQkJJHJlcyA9IHVybF9nZXRfY29udGVudHMoJHdlYl9maWxlKTsKCQkJCWlmICgkcmVz'));
	@fwrite($fp, base64_decode('ID09PSBmYWxzZSkgewoJCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdDb21tdW5pY2F0aW9uIHdpdGggVmlhVGhpbmtTb2Z0IHNlcnZlciBmYWlsZWQnKSk7CgkJCQl9CgoJCQkJcmV0dXJuIGFycmF5KCJzdGF0dXMiID0+IDAsICJjb250ZW50IiA9'));
	@fwrite($fp, base64_decode('PiAkcmVzLCAicmV2IiA9PiAkcmV2KTsKCQkJfQoJCQllbHNlIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdNdWx0aXBsZSB2ZXJzaW9uIGZpbGVzL2RpcmVjdG9yaWVzIChvaWRwbHVzX3ZlcnNpb24udHh0LCAudmVyc2lvbi5waHAsIC5naXQg'));
	@fwrite($fp, base64_decode('YW5kIC5zdm4pIGFyZSBleGlzdGluZyEgVGhlcmVmb3JlLCB0aGUgdmVyc2lvbiBpcyBhbWJpZ3VvdXMhJykpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBndWkoJGlkLCAmJG91dCwgJiRoYW5kbGVkKSB7CgkJJHBhcnRzID0gZXhwbG9kZSgnLicsJGlk'));
	@fwrite($fp, base64_decode('LDIpOwoJCWlmICghaXNzZXQoJHBhcnRzWzFdKSkgJHBhcnRzWzFdID0gJyc7CgkJaWYgKCRwYXJ0c1swXSA9PSAnb2lkcGx1czpzb2Z0d2FyZV91cGRhdGUnKSB7CgkJCUBzZXRfdGltZV9saW1pdCgwKTsKCgkJCSRoYW5kbGVkID0gdHJ1ZTsKCQkJJG91dFsndGl0'));
	@fwrite($fp, base64_decode('bGUnXSA9IF9MKCdTb2Z0d2FyZSB1cGRhdGUnKTsKCQkJJG91dFsnaWNvbiddICA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ2ljb25fYmlnLnBuZyc7CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpLT5pc0FkbWluTG9nZ2VkSW4oKSkgewoJCQkJJG91'));
	@fwrite($fp, base64_decode('dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD4nLl9MKCdZb3UgbmVlZCB0byA8YSAlMT5sb2cgaW48L2E+IGFzIGFkbWluaXN0cmF0b3IuJyxPSURwbHVzOjpndWkoKS0+bGluaygnb2lkcGx1czpsb2dpbiRhZG1p'));
	@fwrite($fp, base64_decode('bicpKS4nPC9wPic7CgkJCQlyZXR1cm47CgkJCX0KCgkJCSRvdXRbJ3RleHQnXSAuPSAnPGRpdiBpZD0idXBkYXRlX3ZlcnNpb25pbmZvIj4nOwoKCQkJJG91dFsndGV4dCddIC49ICc8cD48dT4nLl9MKCdUaGVyZSBhcmUgdGhyZWUgcG9zc2liaWxpdGllcyBob3cg'));
	@fwrite($fp, base64_decode('dG8ga2VlcCBPSURwbHVzIHVwLXRvLWRhdGUnKS4nOjwvdT48L3A+JzsKCgkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGI+Jy5fTCgnTWV0aG9kIEEnKS4nPC9iPjogJy5fTCgnSW5zdGFsbCBPSURwbHVzIHVzaW5nIHRoZSBzdWJ2ZXJzaW9uIHRvb2wgaW4geW91ciBT'));
	@fwrite($fp, base64_decode('U0gvTGludXggc2hlbGwgdXNpbmcgdGhlIGNvbW1hbmQgPGNvZGU+c3ZuIGNvICUxPC9jb2RlPiBhbmQgdXBkYXRlIGl0IHJlZ3VsYXJseSB3aXRoIHRoZSBjb21tYW5kIDxjb2RlPnN2biB1cGRhdGU8L2NvZGU+IC4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZG93'));
	@fwrite($fp, base64_decode('bmxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uIGFuZCBjaGVjayBmb3IgY29uZmxpY3RzLiBIaWdobHkgcmVjb21tZW5kZWQgaWYgeW91IGhhdmUgYSBTaGVsbC9TU0ggYWNjZXNzIHRvIHlvdXIgd2Vic3BhY2UhJyxodG1sZW50aXRpZXMocGFyc2VfaW5pX2ZpbGUoX19E'));
	@fwrite($fp, base64_decode('SVJfXy4nL2NvbnN0cy5pbmknKVsnc3ZuJ10pLicvdHJ1bmsnKS4nPC9wPic7CgoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxiPicuX0woJ01ldGhvZCBCJykuJzwvYj46ICcuX0woJ0luc3RhbGwgT0lEcGx1cyB1c2luZyB0aGUgR2l0IGNsaWVudCBpbiB5b3VyIFNT'));
	@fwrite($fp, base64_decode('SC9MaW51eCBzaGVsbCB1c2luZyB0aGUgY29tbWFuZCA8Y29kZT5naXQgY2xvbmUgJTE8L2NvZGU+IGFuZCB1cGRhdGUgaXQgcmVndWxhcmx5IHdpdGggdGhlIGNvbW1hbmQgPGNvZGU+Z2l0IHB1bGw8L2NvZGU+IC4gVGhpcyB3aWxsIGF1dG9tYXRpY2FsbHkgZG93'));
	@fwrite($fp, base64_decode('bmxvYWQgdGhlIGxhdGVzdCB2ZXJzaW9uIGFuZCBjaGVjayBmb3IgY29uZmxpY3RzLiBIaWdobHkgcmVjb21tZW5kZWQgaWYgeW91IGhhdmUgYSBTaGVsbC9TU0ggYWNjZXNzIHRvIHlvdXIgd2Vic3BhY2UhJywnaHR0cHM6Ly9naXRodWIuY29tL2RhbmllbG1hcnNj'));
	@fwrite($fp, base64_decode('aGFsbC9vaWRwbHVzLmdpdCcpLic8L3A+JzsKCgkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGI+Jy5fTCgnTWV0aG9kIEMnKS4nPC9iPjogJy5fTCgnSW5zdGFsbCBPSURwbHVzIGJ5IGRvd25sb2FkaW5nIGEgVEFSLkdaIGZpbGUgZnJvbSB3d3cudmlhdGhpbmtzb2Z0'));
	@fwrite($fp, base64_decode('LmNvbSwgd2hpY2ggY29udGFpbnMgYW4gU1ZOIHNuYXBzaG90LCBhbmQgZXh0cmFjdCBpdCB0byB5b3VyIHdlYnNwYWNlLiBUaGUgVEFSLkdaIGZpbGUgY29udGFpbnMgYSBmaWxlIG5hbWVkICIudmVyc2lvbi5waHAiIHdoaWNoIGNvbnRhaW5zIHRoZSBTVk4gcmV2'));
	@fwrite($fp, base64_decode('aXNpb24gb2YgdGhlIHNuYXBzaG90LiBUaGlzIHVwZGF0ZS10b29sIHdpbGwgdGhlbiB0cnkgdG8gdXBkYXRlIHlvdXIgZmlsZXMgb24tdGhlLWZseSBieSBkb3dubG9hZGluZyB0aGVtIGZyb20gdGhlIFZpYVRoaW5rU29mdCBTVk4gcmVwb3NpdG9yeSBkaXJlY3Rs'));
	@fwrite($fp, base64_decode('eSBpbnRvIHlvdXIgd2Vic3BhY2UgZGlyZWN0b3J5LiBBIGNoYW5nZSBjb25mbGljdCBkZXRlY3Rpb24gaXMgTk9UIGltcGxlbWVudGVkLiBJdCBpcyByZXF1aXJlZCB0aGF0IHRoZSBmaWxlcyBvbiB5b3VyIHdlYnNwYWNlIGhhdmUgY3JlYXRlL3dyaXRlL2RlbGV0'));
	@fwrite($fp, base64_decode('ZSBwZXJtaXNzaW9ucy4gT25seSByZWNvbW1lbmRlZCBpZiB5b3UgaGF2ZSBubyBhY2Nlc3MgdG8gdGhlIFNTSC9MaW51eCBzaGVsbC4nKS4nPC9wPic7CgoJCQkkb3V0Wyd0ZXh0J10gLj0gJzxocj4nOwoKCQkJJGluc3RhbGxUeXBlID0gT0lEcGx1czo6Z2V0SW5z'));
	@fwrite($fp, base64_decode('dGFsbFR5cGUoKTsKCgkJCWlmICgkaW5zdGFsbFR5cGUgPT09ICdhbWJpZ291cycpIHsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnPGZvbnQgY29sb3I9InJlZCI+Jy5zdHJ0b3VwcGVyKF9MKCdFcnJvcicpKS4nOiAnLl9MKCdNdWx0aXBsZSB2ZXJzaW9uIGZpbGVzL2Rp'));
	@fwrite($fp, base64_decode('cmVjdG9yaWVzIChvaWRwbHVzX3ZlcnNpb24udHh0LCAudmVyc2lvbi5waHAsIC5naXQgYW5kIC5zdm4pIGFyZSBleGlzdGluZyEgVGhlcmVmb3JlLCB0aGUgdmVyc2lvbiBpcyBhbWJpZ3VvdXMhJykuJzwvZm9udD4nOwoJCQkJJG91dFsndGV4dCddIC49ICc8L2Rp'));
	@fwrite($fp, base64_decode('dj4nOwoJCQl9IGVsc2UgaWYgKCRpbnN0YWxsVHlwZSA9PT0gJ3Vua25vd24nKSB7CgkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxmb250IGNvbG9yPSJyZWQiPicuc3RydG91cHBlcihfTCgnRXJyb3InKSkuJzogJy5fTCgnVGhlIHZlcnNpb24gY2Fubm90IGJlIGRldGVy'));
	@fwrite($fp, base64_decode('bWluZWQsIGFuZCB0aGUgdXBkYXRlIG5lZWRzIHRvIGJlIGFwcGxpZWQgbWFudWFsbHkhJykuJzwvZm9udD4nOwoJCQkJJG91dFsndGV4dCddIC49ICc8L2Rpdj4nOwoJCQl9IGVsc2UgaWYgKCgkaW5zdGFsbFR5cGUgPT09ICdzdm4td2MnKSB8fCAoJGluc3RhbGxU'));
	@fwrite($fp, base64_decode('eXBlID09PSAnZ2l0LXdjJykgfHwgKCRpbnN0YWxsVHlwZSA9PT0gJ3N2bi1zbmFwc2hvdCcpKSB7CgkJCQlpZiAoJGluc3RhbGxUeXBlID09PSAnc3ZuLXdjJykgewoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+Jy5fTCgnWW91IGFyZSB1c2luZyA8Yj5tZXRob2Qg'));
	@fwrite($fp, base64_decode('QTwvYj4gKFNWTiB3b3JraW5nIGNvcHkpLicpLic8L3A+JzsKCQkJCQkkcmVxdWlyZUluZm8gPSBfTCgnc2hlbGwgYWNjZXNzIHdpdGggc3ZuL3N2bnZlcnNpb24gdG9vbCwgb3IgUERPL1NRTGl0ZTMgUEhQIGV4dGVuc2lvbicpOwoJCQkJCSR1cGRhdGVDb21tYW5k'));
	@fwrite($fp, base64_decode('ID0gJ3N2biB1cGRhdGUnOwoJCQkJfSBlbHNlIGlmICgkaW5zdGFsbFR5cGUgPT09ICdnaXQtd2MnKSB7CgkJCQkJJG91dFsndGV4dCddIC49ICc8cD4nLl9MKCdZb3UgYXJlIHVzaW5nIDxiPm1ldGhvZCBCPC9iPiAoR2l0IHdvcmtpbmcgY29weSkuJykuJzwvcD4n'));
	@fwrite($fp, base64_decode('OwoJCQkJCSRyZXF1aXJlSW5mbyA9IF9MKCdzaGVsbCBhY2Nlc3Mgd2l0aCBHaXQgY2xpZW50Jyk7CgkJCQkJJHVwZGF0ZUNvbW1hbmQgPSAnZ2l0IHB1bGwnOwoJCQkJfSBlbHNlIGlmICgkaW5zdGFsbFR5cGUgPT09ICdzdm4tc25hcHNob3QnKSB7CgkJCQkJJG91'));
	@fwrite($fp, base64_decode('dFsndGV4dCddIC49ICc8cD4nLl9MKCdZb3UgYXJlIHVzaW5nIDxiPm1ldGhvZCBDPC9iPiAoU25hcHNob3QgVEFSLkdaIGZpbGUgd2l0aCAudmVyc2lvbi5waHAgZmlsZSkuJykuJzwvcD4nOwoJCQkJCSRyZXF1aXJlSW5mbyA9ICcnOyAvLyB1bnVzZWQKCQkJCQkk'));
	@fwrite($fp, base64_decode('dXBkYXRlQ29tbWFuZCA9ICcnOyAvLyB1bnVzZWQKCQkJCX0KCgkJCQkkbG9jYWxfaW5zdGFsbGF0aW9uID0gT0lEcGx1czo6Z2V0VmVyc2lvbigpOwoJCQkJJG5ld2VzdF92ZXJzaW9uID0gJHRoaXMtPmdldExhdGVzdFJldmlzaW9uKCk7CgoJCQkJJG91dFsndGV4'));
	@fwrite($fp, base64_decode('dCddIC49IF9MKCdMb2NhbCBpbnN0YWxsYXRpb246ICUxJywoJGxvY2FsX2luc3RhbGxhdGlvbiA/ICRsb2NhbF9pbnN0YWxsYXRpb24gOiBfTCgndW5rbm93bicpKSkuJzxicj4nOwoJCQkJJG91dFsndGV4dCddIC49IF9MKCdMYXRlc3QgcHVibGlzaGVkIHZlcnNp'));
	@fwrite($fp, base64_decode('b246ICUxJywoJG5ld2VzdF92ZXJzaW9uID8gJG5ld2VzdF92ZXJzaW9uIDogX0woJ3Vua25vd24nKSkpLic8YnI+PGJyPic7CgoJCQkJaWYgKCEkbmV3ZXN0X3ZlcnNpb24pIHsKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxmb250IGNvbG9yPSJyZWQiPicuX0wo'));
	@fwrite($fp, base64_decode('J09JRHBsdXMgY291bGQgbm90IGRldGVybWluZSB0aGUgbGF0ZXN0IHZlcnNpb24uIFByb2JhYmx5IHRoZSBWaWFUaGlua1NvZnQgc2VydmVyIGNvdWxkIG5vdCBiZSByZWFjaGVkLicpLic8L2ZvbnQ+PC9wPic7CgkJCQkJJG91dFsndGV4dCddIC49ICc8L2Rpdj4n'));
	@fwrite($fp, base64_decode('OwoJCQkJfSBlbHNlIGlmICghJGxvY2FsX2luc3RhbGxhdGlvbikgewoJCQkJCWlmICgkaW5zdGFsbFR5cGUgPT09ICdzdm4tc25hcHNob3QnKSB7CgkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGZvbnQgY29sb3I9InJlZCI+Jy5fTCgnT0lEcGx1cyBjb3VsZCBu'));
	@fwrite($fp, base64_decode('b3QgZGV0ZXJtaW5lIGl0cyB2ZXJzaW9uLicpLic8L2ZvbnQ+PC9wPic7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJG91dFsndGV4dCddIC49ICc8cD48Zm9udCBjb2xvcj0icmVkIj4nLl9MKCdPSURwbHVzIGNvdWxkIG5vdCBkZXRlcm1pbmUgaXRzIHZlcnNpb24uIChS'));
	@fwrite($fp, base64_decode('ZXF1aXJlZDogJTEpLiBQbGVhc2UgdXBkYXRlIHlvdXIgc3lzdGVtIG1hbnVhbGx5IHZpYSB0aGUgIiUyIiBjb21tYW5kIHJlZ3VsYXJseS4nLCRyZXF1aXJlSW5mbywkdXBkYXRlQ29tbWFuZCkuJzwvZm9udD48L3A+JzsKCQkJCQl9CgkJCQkJJG91dFsndGV4dCdd'));
	@fwrite($fp, base64_decode('IC49ICc8L2Rpdj4nOwoJCQkJfSBlbHNlIGlmIChzdWJzdHIoJGxvY2FsX2luc3RhbGxhdGlvbiw0KSA+PSBzdWJzdHIoJG5ld2VzdF92ZXJzaW9uLDQpKSB7CgkJCQkJJG91dFsndGV4dCddIC49ICc8cD48Zm9udCBjb2xvcj0iZ3JlZW4iPicuX0woJ1lvdSBhcmUg'));
	@fwrite($fp, base64_decode('YWxyZWFkeSB1c2luZyB0aGUgbGF0ZXN0IHZlcnNpb24gb2YgT0lEcGx1cy4nKS4nPC9mb250PjwvcD4nOwoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPC9kaXY+JzsKCQkJCX0gZWxzZSB7CgkJCQkJaWYgKCgkaW5zdGFsbFR5cGUgPT09ICdzdm4td2MnKSB8fCAoJGlu'));
	@fwrite($fp, base64_decode('c3RhbGxUeXBlID09PSAnZ2l0LXdjJykpIHsKCQkJCQkJJG91dFsndGV4dCddIC49ICc8cD48Zm9udCBjb2xvcj0iYmx1ZSI+Jy5fTCgnUGxlYXNlIGVudGVyICUxIGludG8gdGhlIFNTSCBzaGVsbCB0byB1cGRhdGUgT0lEcGx1cyB0byB0aGUgbGF0ZXN0IHZlcnNp'));
	@fwrite($fp, base64_decode('b24uJywnPGNvZGU+Jy4kdXBkYXRlQ29tbWFuZC4nPC9jb2RlPicpLic8L2ZvbnQ+PC9wPic7CgkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+Jy5fTCgnQWx0ZXJuYXRpdmVseSwgY2xpY2sgdGhpcyBidXR0b24gdG8gZXhlY3V0ZSB0aGUgY29tbWFuZCB0aHJvdWdo'));
	@fwrite($fp, base64_decode('IHRoZSB3ZWItaW50ZXJmYWNlIChjb21tYW5kIGV4ZWN1dGlvbiBhbmQgd3JpdGUgcGVybWlzc2lvbnMgcmVxdWlyZWQpLicpLic8L3A+JzsKCQkJCQl9CgoJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGlucHV0IHR5cGU9ImJ1dHRvbiIgb25jbGljaz0iT0lEcGx1'));
	@fwrite($fp, base64_decode('c1BhZ2VBZG1pblNvZnR3YXJlVXBkYXRlLmRvVXBkYXRlT0lEcGx1cygnLigoaW50KXN1YnN0cigkbG9jYWxfaW5zdGFsbGF0aW9uLDQpKzEpLicsICcuc3Vic3RyKCRuZXdlc3RfdmVyc2lvbiw0KS4nKSIgdmFsdWU9IicuX0woJ1VwZGF0ZSBOT1cnKS4nIj48L3A+'));
	@fwrite($fp, base64_decode('JzsKCgkJCQkJLy8gVE9ETzogT3BlbiAic3lzdGVtX2ZpbGVfY2hlY2siIHdpdGhvdXQgcGFnZSByZWxvYWQuCgkJCQkJLy8gVE9ETzogT25seSBzaG93IGxpbmsgaWYgdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxmb250'));
	@fwrite($fp, base64_decode('IGNvbG9yPSJyZWQiPicuc3RydG91cHBlcihfTCgnV2FybmluZycpKS4nOiAnLl9MKCdQbGVhc2UgbWFrZSBhIGJhY2t1cCBvZiB5b3VyIGZpbGVzIGJlZm9yZSB1cGRhdGluZy4gSW4gY2FzZSBvZiBhbiBlcnJvciwgdGhlIE9JRHBsdXMgc3lzdGVtIChpbmNsdWRp'));
	@fwrite($fp, base64_decode('bmcgdGhpcyB1cGRhdGUtYXNzaXN0YW50KSBtaWdodCBiZWNvbWUgdW5hdmFpbGFibGUuIEFsc28sIHNpbmNlIHRoZSB3ZWItdXBkYXRlIGRvZXMgbm90IGNvbnRhaW4gY29sbGlzaW9uLWRldGVjdGlvbiwgY2hhbmdlcyB5b3UgaGF2ZSBhcHBsaWVkIChsaWtlIGFk'));
	@fwrite($fp, base64_decode('ZGluZywgcmVtb3Zpbmcgb3IgbW9kaWZpZWQgZmlsZXMpIG1pZ2h0IGdldCByZXZlcnRlZC9sb3N0ISAoPGEgaHJlZj0iJTEiPkNsaWNrIGhlcmUgdG8gY2hlY2sgd2hpY2ggZmlsZXMgaGF2ZSBiZWVuIG1vZGlmaWVkPC9hPikgSW4gY2FzZSB0aGUgdXBkYXRlIGZh'));
	@fwrite($fp, base64_decode('aWxzLCB5b3UgY2FuIGRvd25sb2FkIGFuZCBleHRyYWN0IHRoZSBjb21wbGV0ZSA8YSBocmVmPSJodHRwczovL3d3dy52aWF0aGlua3NvZnQuY29tL3Byb2plY3RzL29pZHBsdXMiPlNWTi1TbmFwc2hvdCBUQVIuR1ogZmlsZTwvYT4gYWdhaW4uIFNpbmNlIGFsbCB5'));
	@fwrite($fp, base64_decode('b3VyIGRhdGEgc2hvdWxkIGxheSBpbnNpZGUgdGhlIGZvbGRlciAidXNlcmRhdGEiIGFuZCAidXNlcmRhdGFfcHViIiwgdGhpcyBzaG91bGQgYmUgc2FmZS4nLCc/Z290bz0nLnVybGVuY29kZSgnb2lkcGx1czpzeXN0ZW1fZmlsZV9jaGVjaycpKS4nPC9mb250Pjwv'));
	@fwrite($fp, base64_decode('cD4nOwoKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzwvZGl2Pic7CgoJCQkJCSRvdXRbJ3RleHQnXSAuPSAkdGhpcy0+c2hvd1ByZXZpZXcoJGxvY2FsX2luc3RhbGxhdGlvbiwgJG5ld2VzdF92ZXJzaW9uKTsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCSRoYW5kbGVk'));
	@fwrite($fp, base64_decode('ID0gZmFsc2U7CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlKCYkanNvbiwgJHJhX2VtYWlsPW51bGwsICRub25qcz1mYWxzZSwgJHJlcV9nb3RvPScnKSB7CgkJaWYgKCFPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNBZG1pbkxvZ2dlZEluKCkpIHJldHVybiBm'));
	@fwrite($fp, base64_decode('YWxzZTsKCgkJaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbi5wbmcnKSkgewoJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4ndHJlZWljb24ucG5nJzsKCQl9IGVsc2UgewoJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVm'));
	@fwrite($fp, base64_decode('YXVsdCBpY29uIChmb2xkZXIpCgkJfQoKCQkkanNvbltdID0gYXJyYXkoCgkJCSdpZCcgPT4gJ29pZHBsdXM6c29mdHdhcmVfdXBkYXRlJywKCQkJJ2ljb24nID0+ICR0cmVlX2ljb24sCgkJCSd0ZXh0JyA9PiBfTCgnU29mdHdhcmUgdXBkYXRlJykKCQkpOwoKCQly'));
	@fwrite($fp, base64_decode('ZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJlZV9zZWFyY2goJHJlcXVlc3QpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9CgoJcHJpdmF0ZSAkcmVsZWFzZXNfc2VyID0gbnVsbDsKCglwcml2YXRlIGZ1bmN0aW9uIHNob3dDaGFuZ2Vsb2coJGxvY2FsX3Zl'));
	@fwrite($fp, base64_decode('cikgewoKCQl0cnkgewoJCQlpZiAoaXNfbnVsbCgkdGhpcy0+cmVsZWFzZXNfc2VyKSkgewoJCQkJJHVybCA9IHBhcnNlX2luaV9maWxlKF9fRElSX18uJy9jb25zdHMuaW5pJylbJ3JldmlzaW9ubG9nJ107CgkJCQkkY29udCA9IHVybF9nZXRfY29udGVudHMoJHVy'));
	@fwrite($fp, base64_decode('bCk7CgkJCQlpZiAoJGNvbnQgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7CgkJCQkkdGhpcy0+cmVsZWFzZXNfc2VyID0gJGNvbnQ7CgkJCX0gZWxzZSB7CgkJCQkkY29udCA9ICR0aGlzLT5yZWxlYXNlc19zZXI7CgkJCX0KCQkJJGNvbnRlbnQgPSAnJzsKCQkJJGFy'));
	@fwrite($fp, base64_decode('eSA9IEB1bnNlcmlhbGl6ZSgkY29udCk7CgkJCWlmICgkYXJ5ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoJCQlrcnNvcnQoJGFyeSk7CgkJCWZvcmVhY2ggKCRhcnkgYXMgJHJldiA9PiAkZGF0YSkgewoJCQkJaWYgKCRyZXYgPD0gc3Vic3RyKCRsb2NhbF92ZXIs'));
	@fwrite($fp, base64_decode('NCkpIGNvbnRpbnVlOwoJCQkJJGNvbW1lbnQgPSBlbXB0eSgkZGF0YVsnbXNnJ10pID8gX0woJ05vIGNvbW1lbnQnKSA6ICRkYXRhWydtc2cnXTsKCQkJCSR0ZXggPSBfTCgiTmV3IHJldmlzaW9uICUxIGJ5ICUyIiwkcmV2LCRkYXRhWydhdXRob3InXSkuIiAoIi4k'));
	@fwrite($fp, base64_decode('ZGF0YVsnZGF0ZSddLiIpICI7CgkJCQkkY29udGVudCAuPSB0cmltKCR0ZXggLiBzdHJfcmVwbGFjZSgiXG4iLCAiXG4iLnN0cl9yZXBlYXQoJyAnLCBzdHJsZW4oJHRleCkpLCAkY29tbWVudCkpOwoJCQkJJGNvbnRlbnQgLj0gIlxuIjsKCQkJfQoJCQlyZXR1cm4g'));
	@fwrite($fp, base64_decode('JGNvbnRlbnQ7CgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJfQoKCXByaXZhdGUgZnVuY3Rpb24gZ2V0TGF0ZXN0UmV2aXNpb24oKSB7CgkJdHJ5IHsKCQkJaWYgKGlzX251bGwoJHRoaXMtPnJlbGVhc2VzX3NlcikpIHsK'));
	@fwrite($fp, base64_decode('CQkJCSR1cmwgPSBwYXJzZV9pbmlfZmlsZShfX0RJUl9fLicvY29uc3RzLmluaScpWydyZXZpc2lvbmxvZyddOwoJCQkJJGNvbnQgPSB1cmxfZ2V0X2NvbnRlbnRzKCR1cmwpOwoJCQkJaWYgKCRjb250ID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoJCQkJJHRoaXMt'));
	@fwrite($fp, base64_decode('PnJlbGVhc2VzX3NlciA9ICRjb250OwoJCQl9IGVsc2UgewoJCQkJJGNvbnQgPSAkdGhpcy0+cmVsZWFzZXNfc2VyOwoJCQl9CgkJCSRhcnkgPSBAdW5zZXJpYWxpemUoJGNvbnQpOwoJCQlpZiAoJGFyeSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCQkJa3Jzb3J0'));
	@fwrite($fp, base64_decode('KCRhcnkpOwoJCQkkbWF4X3JldiA9IGFycmF5X2tleXMoJGFyeSlbMF07CgkJCSRuZXdlc3RfdmVyc2lvbiA9ICdzdm4tJyAuICRtYXhfcmV2OwoJCQlyZXR1cm4gJG5ld2VzdF92ZXJzaW9uOwoJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQlyZXR1cm4gZmFs'));
	@fwrite($fp, base64_decode('c2U7CgkJfQoJfQoKCXByaXZhdGUgZnVuY3Rpb24gc2hvd1ByZXZpZXcoJGxvY2FsX2luc3RhbGxhdGlvbiwgJG5ld2VzdF92ZXJzaW9uKSB7CgkJJG91dCA9ICc8aDIgaWQ9InVwZGF0ZV9oZWFkZXIiPicuX0woJ1ByZXZpZXcgb2YgdXBkYXRlICUxICZyYXJyOyAl'));
	@fwrite($fp, base64_decode('MicsJGxvY2FsX2luc3RhbGxhdGlvbiwkbmV3ZXN0X3ZlcnNpb24pLic8L2gyPic7CgoJCW9iX3N0YXJ0KCk7CgkJdHJ5IHsKCQkJJGNvbnQgPSAkdGhpcy0+c2hvd0NoYW5nZWxvZygkbG9jYWxfaW5zdGFsbGF0aW9uKTsKCQl9IGNhdGNoIChFeGNlcHRpb24gJGUp'));
	@fwrite($fp, base64_decode('IHsKCQkJJGNvbnQgPSBfTCgnRXJyb3I6ICUxJywkZS0+Z2V0TWVzc2FnZSgpKTsKCQl9CgkJb2JfZW5kX2NsZWFuKCk7CgoJCSRjb250ID0gcHJlZ19yZXBsYWNlKCdAISEhKC4rKVxcbkAnLCAnPGZvbnQgY29sb3I9InJlZCI+ISEhXFwxPC9mb250PicuIlxuIiwg'));
	@fwrite($fp, base64_decode('JGNvbnQpOwoKCQkkb3V0IC49ICc8cHJlIGlkPSJ1cGRhdGVfaW5mb2JveCI+Jy4kY29udC4nPC9wcmU+JzsKCgkJcmV0dXJuICRvdXQ7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php')) {
	warn('File has vanished! Will re-create it: plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php');
	writefile_1();
	if (!is_file('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php')) {
		warn('File cannot be created (not existing): plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php');
	} else if (sha1_file('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php') != '4265e9412b832ef59dea2a74401d0bec7bd4dce7') {
		warn('File cannot be created (checksum mismatch): plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php', 0644)) {
		warn('Could not change file permissions of plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php');
	}
} else {
	if (@sha1_file('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php') !== '4265e9412b832ef59dea2a74401d0bec7bd4dce7') {
		if (@sha1_file('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php') !== 'a8b700025b0a4a7da5a9a878e426effdcafcc47a') {
			warn('File was modified. Will overwrite the changes now: plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php');
			$tmp = pathinfo('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php') !== '4265e9412b832ef59dea2a74401d0bec7bd4dce7') {
			warn('File cannot be written (checksum mismatch): plugins/viathinksoft/adminPages/900_software_update/OIDplusPageAdminSoftwareUpdate.class.php');
		}
	}
}


file_put_contents('.version.php', "<?php // Revision 691\n");
if (trim(@file_get_contents('.version.php')) !== '<?php // Revision 691') err('Could not write to .version.php!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

