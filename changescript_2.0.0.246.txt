<?php /* <ViaThinkSoftSignature>
W6fKSsGSc4txKkmMKZWAXrBIcF9aQFKfzRmfPYsnt+ZvgRQvZQN/MsNBxuK08JoHS
qHgwqUgwfiN5ELw+0wsyNlECO7vvwhbEMJ91fCY9j8PMrJLio648a7uiSSqKTCtYc
7qv8JRZ8j2KMC+d/WhhgneZJOjPmNXz4m/Twlh3ar1vwKvHOCEg9TNiTsc92f22kl
IgVv1HVWDfDnT745e8VcnJapGsJGVPVg2Ky88AYh0+GBJQrTbAHj2WDaLQrTHGLIt
OuU81TOcy7o02DKafBXq/fOk5G8PTXt3O/X3QnFqjnDN8mmNJAJS5lrGRT53i+NkT
mySBduTp2wx9in6t047nzOHUA0qExBIl42oM1q3S50t5x/A4ilYaqbP0vI9eO5DQF
NdCl9aLKYA91hYQx62M/l0gIZMq82N+o97SmebckBzzALrB4M39kRssaUzdt6MHpg
UAOstlRgPffPSnsYk2Nz83+pM/PhOW9TX5Sx4XVzVUjgVy+KHrqhcWgcHz/i0towC
qVnd6sPCV30lXJS047hVt3SqPGhfFgj9Ose1j7cu/vJEhJ8SDqrBxtSHB3FkQpSSb
WshU3eTJveXSaV6OAWayNGvXIH+ofHOFIFG+SBlbNt9EVk0MGYuIzfCmdUDmeeITn
SBxE9ybb+PsOOFTAoXJhZ+EQ0vekS8Vc7NxmjLAc8LJMI4xVi07WBcLzkRSy4r2yQ
L5B7mGk1Y9nVblxdCGi43YtYoWO54TO0SeYdHc7vASWkV7FhHDOOfOn2w7pD/uhMF
ntjmvHxqZXlynjGZd6H4FsNInDCCcRFuoCvyOo9XuXrXFwo1eS3LkK1xOUM5/CWkA
f41xyW4ZtYqkzJBKdG29yz74XlK2a8dGdwfYaDIUOwW9Ote1kSAmmE4fd/kTIIg4y
03fseTeVv4nbAduOqugRK/iYY1w41igXAlHHn7gRpYUNS66VWKq+mZacNW7OsAQai
ZWUSlWyD9P2XkLevW35BC6ENBWtcFWdUnl+EVts2lEeNiD4RZeBL4etuh/LTENOlF
VSoN9NKgs4bdNvHInbL8fiOk7GdBXWMdk/fZYsyau5ISrpru8KpWdTMGn7cqC7Eld
0wZEGhvHYDtKlbNXg52LUHwRra3bxOOUIsbb77Vh2k0qvkxj4jo7XvwPaWU4sek/U
c6zz9U7Aer2SBVT8eKZTFUucYIaF7bhpTsjzUPE2r4kzMyx/1Jy+SgZtdPNiRhUxf
KkfEoNyPatjvqdt4m4M/QMtsmFZ7VIbayX599r3gfN8g47rcWCAm+dKf/rQ05iTzs
KVF/hfvyzqYG4wBBsdGqRI6EKeiNOZVKKNKZqZY4OjuMfKdJmJGUKCpm6fDE/tEEd
w==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 245') {
	err('This update can only be applied to OIDplus version 2.0.0.245!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// File added: includes/classes/OIDplusDatabasePlugin.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusDatabasePlugin.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmFic3RyYWN0IGNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbiBleHRlbmRzIE9JRHBsdXNQbHVnaW4gewoJcHJvdGVjdGVkICRjb25u'));
	@fwrite($fp, base64_decode('ZWN0ZWQgPSBmYWxzZTsKCXByb3RlY3RlZCAkaHRtbCA9IG51bGw7CgoJcHVibGljIGFic3RyYWN0IHN0YXRpYyBmdW5jdGlvbiBuYW1lKCk6IHN0cmluZzsgLy8gdGhpcyBpcyB0aGUgbmFtZSB0aGF0IGlzIHNldCB0byB0aGUgY29uZmlndXJhdGlvbiB2YWx1ZSBP'));
	@fwrite($fp, base64_decode('SURQTFVTX0RBVEFCQVNFX1BMVUdJTiB0byBpZGVudGlmeSB0aGUgZGF0YWJhc2UgcGx1Z2luCglwdWJsaWMgYWJzdHJhY3QgZnVuY3Rpb24gcXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3Vs'));
	@fwrite($fp, base64_decode('dDsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiBpbnNlcnRfaWQoKTogaW50OwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIGVycm9yKCk6IHN0cmluZzsKCXB1YmxpYyBhYnN0cmFjdCBmdW5jdGlvbiB0cmFuc2FjdGlvbl9iZWdpbigpOiB2b2lkOwoJcHVibGlj'));
	@fwrite($fp, base64_decode('IGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpOiB2b2lkOwoJcHVibGljIGFic3RyYWN0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3JvbGxiYWNrKCk6IHZvaWQ7Cglwcm90ZWN0ZWQgYWJzdHJhY3QgZnVuY3Rpb24gZG9Db25uZWN0KCk6IHZvaWQ7'));
	@fwrite($fp, base64_decode('Cglwcm90ZWN0ZWQgYWJzdHJhY3QgZnVuY3Rpb24gZG9EaXNjb25uZWN0KCk6IHZvaWQ7CgkKCXB1YmxpYyBmaW5hbCBmdW5jdGlvbiBjb25uZWN0KCk6IHZvaWQgewoJCWlmICgkdGhpcy0+Y29ubmVjdGVkKSByZXR1cm47CgkJJHRoaXMtPmJlZm9yZUNvbm5lY3Qo'));
	@fwrite($fp, base64_decode('KTsKCQkkdGhpcy0+ZG9Db25uZWN0KCk7CgkJJHRoaXMtPmNvbm5lY3RlZCA9IHRydWU7CgkJcmVnaXN0ZXJfc2h1dGRvd25fZnVuY3Rpb24oYXJyYXkoJHRoaXMsICdkaXNjb25uZWN0JykpOwoJCSR0aGlzLT5hZnRlckNvbm5lY3QoKTsKCX0KCQoJcHVibGljIGZp'));
	@fwrite($fp, base64_decode('bmFsIGZ1bmN0aW9uIGRpc2Nvbm5lY3QoKTogdm9pZCB7CgkJaWYgKCEkdGhpcy0+Y29ubmVjdGVkKSByZXR1cm47CgkJJHRoaXMtPmJlZm9yZURpc2Nvbm5lY3QoKTsKCQkkdGhpcy0+ZG9EaXNjb25uZWN0KCk7CgkJJHRoaXMtPmNvbm5lY3RlZCA9IGZhbHNlOwoJ'));
	@fwrite($fp, base64_decode('CSR0aGlzLT5hZnRlckRpc2Nvbm5lY3QoKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbmF0T3JkZXIoJGZpZWxkbmFtZSwgJG9yZGVyPSdhc2MnKTogc3RyaW5nIHsKCQoJCSRvcmRlciA9IHN0cnRvbG93ZXIoJG9yZGVyKTsKCQlpZiAoKCRvcmRlciAhPSAnYXNjJykg'));
	@fwrite($fp, base64_decode('JiYgKCRvcmRlciAhPSAnZGVzYycpKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgb3JkZXIgJyRvcmRlcicgKG5lZWRzIHRvIGJlICdhc2MnIG9yICdkZXNjJykiKTsKCQl9CgoJCSRtYXhkZXB0aCA9IDEwMDsgLy8gYWRqdXN0IHRoaXMgaWYgeW91'));
	@fwrite($fp, base64_decode('IGhhdmUgcGVyZm9ybWFuY2UgaXNzdWVzCgkJJG1heF9hcmNfbGVuID0gNTA7CgkJCgkJJG91dCA9IGFycmF5KCk7CgkJCgkJaWYgKCR0aGlzLT5zbGFuZygpID09ICdwZ3NxbCcpIHsKCQkJaWYgKCRtYXhfYXJjX2xlbiA+IDEzMTA3MikgJG1heF9hcmNfbGVuID0g'));
	@fwrite($fp, base64_decode('MTMxMDcyOyAvLyBMaW1pdCBvZiB0aGUgIm51bWVyaWMoKSIgdHlwZQoJCQkKCQkJLy8gMS4gU29ydCBieSBuYW1lc3BhY2UgKG9pZCwgZ3VpZCwgLi4uKQoJCQkkb3V0W10gPSAiU1BMSVRfUEFSVCgkZmllbGRuYW1lLCAnOicsIDEpICRvcmRlciI7CgkJCQoJCQkv'));
	@fwrite($fp, base64_decode('LyAyLiBPbmx5IGlmIG5hbWVzcGFjZSBpcyAnb2lkOic6IFNvcnQgT0lEIGFzIGludGVnZXIgYXJyYXkKCQkJJG91dFtdID0gIlNUUklOR19UT19BUlJBWShTUExJVF9QQVJUKCRmaWVsZG5hbWUsICdvaWQ6JywgMiksICcuJyk6Om51bWVyaWMoJG1heF9hcmNfbGVu'));
	@fwrite($fp, base64_decode('KVtdICRvcmRlciI7CgkJCQoJCQkvLyAzLiBPdGhlcndpc2Ugb3JkZXIgYnkgSUQKCQkJJG91dFtdID0gIiRmaWVsZG5hbWUgJG9yZGVyIjsKCQkJCgkJfSBlbHNlIGlmICgkdGhpcy0+c2xhbmcoKSA9PSAnbXlzcWwnKSB7CgkJCWlmICgkbWF4X2FyY19sZW4gPiA2'));
	@fwrite($fp, base64_decode('NSkgJG1heF9hcmNfbGVuID0gNjU7IC8vIExpbWl0IG9mICJkZWNpbWFsKCkiIHR5cGUKCQkJCgkJCS8vIDEuIHNvcnQgYnkgbmFtZXNwYWNlIChvaWQsIGd1aWQsIC4uLikKCQkJJG91dFtdID0gIlNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCc6JywxKSAkb3Jk'));
	@fwrite($fp, base64_decode('ZXIiOwoJCQkKCQkJLy8gMi4gc29ydCBieSBmaXJzdCBhcmMgKDAsMSwyKQoJCQkkb3V0W10gPSAiU1VCU1RSSU5HKFNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCcuJywxKSwgTEVOR1RIKFNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCc6JywxKSkrMiwgJG1h'));
	@fwrite($fp, base64_decode('eF9hcmNfbGVuKSAkb3JkZXIiOwoJCQkKCQkJZm9yICgkaT0yOyAkaTw9JG1heGRlcHRoOyAkaSsrKSB7CgkJCQkvLyAzLiBTb3J0IGJ5IHRoZSByZXN0IGFyY3Mgb25lIGJ5IG9uZSwgbm90IHRoYXQgTXlTUUwgY2FuIG9ubHkgaGFuZGxlIGRlY2ltYWwoNjUpLCBu'));
	@fwrite($fp, base64_decode('b3QgZGVjaW1hbCgkbWF4X2FyY19sZW4pCgkJCQkkb3V0W10gPSAiY2FzdChTVUJTVFJJTkcoU1VCU1RSSU5HX0lOREVYKCRmaWVsZG5hbWUsJy4nLCRpKSwgTEVOR1RIKFNVQlNUUklOR19JTkRFWCgkZmllbGRuYW1lLCcuJywiLigkaS0xKS4iKSkrMiwgJG1heF9h'));
	@fwrite($fp, base64_decode('cmNfbGVuKSBhcyBkZWNpbWFsKCRtYXhfYXJjX2xlbikpICRvcmRlciI7CgkJCX0KCgkJCS8vIDQuIGFzIGxhc3QgcmVzb3J0LCBzb3J0IGJ5IHRoZSBpZGVudGlmaWVyIGl0c2VsZiwgZS5nLiBpZiB0aGUgY2FzdHMgYWJvdmUgZGlkIGZhaWwgKGhhcHBlbnMgaWYg'));
	@fwrite($fp, base64_decode('aXQgaXMgbm90IGFuIE9JRCkJCQkKCQkJJG91dFtdID0gIiRmaWVsZG5hbWUgJG9yZGVyIjsKCQkJCgkJfSBlbHNlIGlmICgkdGhpcy0+c2xhbmcoKSA9PSAnbXNzcWwnKSB7CgkJCgkJCS8vIDEuIHNvcnQgYnkgbmFtZXNwYWNlIChvaWQsIGd1aWQsIC4uLikKCQkJ'));
	@fwrite($fp, base64_decode('JG91dFtdID0gIlNVQlNUUklORygkZmllbGRuYW1lLDEsQ0hBUklOREVYKCc6JywkZmllbGRuYW1lKS0xKSAkb3JkZXIiOwoJCQkKCQkJZm9yICgkaT0xOyAkaTw9JG1heGRlcHRoOyAkaSsrKSB7CgkJCQkvLyAyLiBTb3J0IGJ5IHRoZSByZXN0IGFyY3Mgb25lIGJ5'));
	@fwrite($fp, base64_decode('IG9uZSwgbm90IHRoYXQgTXlTUUwgY2FuIG9ubHkgaGFuZGxlIGRlY2ltYWwoNjUpLCBub3QgZGVjaW1hbCgkbWF4X2FyY19sZW4pCgkJCQkkb3V0W10gPSAiZGJvLmdldE9pZEFyYygkZmllbGRuYW1lLCAkbWF4X2FyY19sZW4sICRpKSAkb3JkZXIiOwoJCQl9CgoJ'));
	@fwrite($fp, base64_decode('CQkvLyAzLiBhcyBsYXN0IHJlc29ydCwgc29ydCBieSB0aGUgaWRlbnRpZmllciBpdHNlbGYsIGUuZy4gaWYgdGhlIGZ1bmN0aW9uIGdldE9pZEFyYyBhbHdheXMgcmV0dXJuIDAgKGhhcHBlbnMgaWYgaXQgaXMgbm90IGFuIE9JRCkJCQkKCQkJJG91dFtdID0gIiRm'));
	@fwrite($fp, base64_decode('aWVsZG5hbWUgJG9yZGVyIjsKCQl9IGVsc2UgewoJCQoJCQkvLyBGb3IgKHlldCkgdW5zdXBwb3J0ZWQgREJNUywgd2UgZG8gbm90IG9mZmVyIG5hdHVyYWwgc29ydAoJCQkkb3V0W10gPSAiJGZpZWxkbmFtZSAkb3JkZXIiOwoKCQl9CgoJCXJldHVybiBpbXBsb2Rl'));
	@fwrite($fp, base64_decode('KCcsICcsICRvdXQpOyAKCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gYmVmb3JlRGlzY29ubmVjdCgpOiB2b2lkIHt9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGFmdGVyRGlzY29ubmVjdCgpOiB2b2lkIHt9CgoJcHJvdGVjdGVkIGZ1bmN0aW9uIGJlZm9yZUNvbm5lY3Qo'));
	@fwrite($fp, base64_decode('KTogdm9pZCB7fQoKCXByb3RlY3RlZCBmdW5jdGlvbiBhZnRlckNvbm5lY3QoKTogdm9pZCB7CgkJLy8gQ2hlY2sgaWYgdGhlIGNvbmZpZyB0YWJsZSBleGlzdHMuIFRoaXMgaXMgaW1wb3J0YW50IGJlY2F1c2UgdGhlIGRhdGFiYXNlIHZlcnNpb24gaXMgc3RvcmVk'));
	@fwrite($fp, base64_decode('IGluIGl0CgkJJHRoaXMtPmluaXRSZXF1aXJlVGFibGVzKGFycmF5KCdjb25maWcnKSk7CgoJCS8vIERvIHRoZSBkYXRhYmFzZSB0YWJsZXMgbmVlZCBhbiB1cGRhdGU/CgkJLy8gSXQgaXMgaW1wb3J0YW50IHRoYXQgd2UgZG8gaXQgaW1tZWRpYXRlbHkgYWZ0ZXIg'));
	@fwrite($fp, base64_decode('Y29ubmVjdGluZywKCQkvLyBiZWNhdXNlIHRoZSBkYXRhYmFzZSBzdHJ1Y3R1cmUgbWlnaHQgY2hhbmdlIGFuZCB0aGVyZWZvcmUgdmFyaW91cyB0aGluZ3MgbWlnaHQgZmFpbC4KCQkvLyBOb3RlOiBUaGUgY29uZmlnIHNldHRpbmcgImRhdGFiYXNlX3ZlcnNpb24i'));
	@fwrite($fp, base64_decode('IGlzIGluc2VydGVkIGluIHNldHVwL3NxbC8uLi5zcWwsIG5vdCBpbiB0aGUgT0lEcGx1cyBjb3JlIGluaXQKCgkJJHJlcyA9ICR0aGlzLT5xdWVyeSgiU0VMRUNUIHZhbHVlIEZST00gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyBXSEVSRSBuYW1l'));
	@fwrite($fp, base64_decode('ID0gJ2RhdGFiYXNlX3ZlcnNpb24nIik7CgkJJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCk7CQkKCQlpZiAoJHJvdyA9PSBudWxsKSB7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Nhbm5vdCBkZXRlcm1pbmUgZGF0'));
	@fwrite($fp, base64_decode('YWJhc2UgdmVyc2lvbiAodGhlIGVudHJ5ICJkYXRhYmFzZV92ZXJzaW9uIiBpbnNpZGUgdGhlIHRhYmxlICInLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4nY29uZmlnIiBpcyBwcm9iYWJseSBtaXNzaW5nKScpOwoJCX0JCQoJCSR2ZXJzaW9uID0gJHJvd1sndmFs'));
	@fwrite($fp, base64_decode('dWUnXTsKCQlpZiAoIWlzX251bWVyaWMoJHZlcnNpb24pIHx8ICgkdmVyc2lvbiA8IDIwMCkgfHwgKCR2ZXJzaW9uID4gOTk5KSkgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKCdFbnRyeSAiZGF0YWJhc2VfdmVyc2lv'));
	@fwrite($fp, base64_decode('biIgaW5zaWRlIHRoZSB0YWJsZSAiJy5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguJ2NvbmZpZyIgc2VlbXMgdG8gYmUgd3JvbmcgKGV4cGVjdCBudW1iZXIgYmV0d2VlbiAyMDAgYW5kIDk5OSknKTsKCQl9CQkKCQl3aGlsZSAoZmlsZV9leGlzdHMoJGZpbGUgPSBf'));
	@fwrite($fp, base64_decode('X0RJUl9fLiIvLi4vZGJfdXBkYXRlcy91cGRhdGUkdmVyc2lvbi5pbmMucGhwIikpIHsKCQkJJHByZXZfdmVyc2lvbiA9ICR2ZXJzaW9uOwoJCQlpbmNsdWRlICRmaWxlOyAvLyBydW4gdXBkYXRlLXNjcmlwdAoJCQlpZiAoJHZlcnNpb24gIT0gJHByZXZfdmVyc2lv'));
	@fwrite($fp, base64_decode('bisxKSB7CgkJCQkvLyBUaGlzIHNob3VsZCB1c3VhbGx5IG5vdCBoYXBwZW4sIHNpbmNlIHRoZSB1cGRhdGUtZmlsZSBzaG91bGQgaW5jcmVhc2UgdGhlIHZlcnNpb24KCQkJCS8vIG9yIHRocm93IGFuIEV4Y2VwdGlvbiBieSBpdHNlbGYKCQkJCXRocm93IG5ldyBF'));
	@fwrite($fp, base64_decode('eGNlcHRpb24oIkRhdGFiYXNlIHVwZGF0ZSAkcHJldl92ZXJzaW9uIC0+ICIuKCRwcmV2X3ZlcnNpb24rMSkuIiBmYWlsZWQgKHNjcmlwdCByZXBvcnRzIG5ldyB2ZXJzaW9uIHRvIGJlICR2ZXJzaW9uKSIpOwoJCQl9CgkJfQoKCQkvLyBOb3cgdGhhdCBvdXIgZGF0'));
	@fwrite($fp, base64_decode('YWJhc2UgaXMgdXAtdG8tZGF0ZSwgd2UgY2hlY2sgaWYgZGF0YWJhc2UgdGFibGVzIGFyZSBleGlzdGluZwoJCS8vIHdpdGhvdXQgY29uZmlnIHRhYmxlLCBiZWNhdXNlIGl0IHdhcyBjaGVja2VkIGFib3ZlCgkJJHRoaXMtPmluaXRSZXF1aXJlVGFibGVzKGFycmF5'));
	@fwrite($fp, base64_decode('KCdvYmplY3RzJywgJ2FzbjFpZCcsICdpcmknLCAncmEnLyosICdjb25maWcnKi8pKTsKCX0KCQoJcHJpdmF0ZSBmdW5jdGlvbiBpbml0UmVxdWlyZVRhYmxlcygkdGFibGVOYW1lcykgewoJCSRtc2dzID0gYXJyYXkoKTsKCQlmb3JlYWNoICgkdGFibGVOYW1lcyBh'));
	@fwrite($fp, base64_decode('cyAkdGFibGVOYW1lKSB7CgkJCWlmICghJHRoaXMtPnRhYmxlRXhpc3RzKE9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4kdGFibGVOYW1lKSkgewoJCQkJJG1zZ3NbXSA9ICdUYWJsZSAnLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4kdGFibGVOYW1lLicgaXMgbWlz'));
	@fwrite($fp, base64_decode('c2luZyEnOwoJCQl9CgkJfQoJCWlmIChjb3VudCgkbXNncykgPiAwKSB7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oaW1wbG9kZSgiXG5cbiIsJG1zZ3MpKTsKCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiB0YWJsZUV4'));
	@fwrite($fp, base64_decode('aXN0cygkdGFibGVOYW1lKSB7CgkJdHJ5IHsKCQkJJHRoaXMtPnF1ZXJ5KCJzZWxlY3QgMCBmcm9tICIuJHRhYmxlTmFtZS4iIHdoZXJlIDE9MCIpOwoJCQlyZXR1cm4gdHJ1ZTsKCQl9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0K'));
	@fwrite($fp, base64_decode('CX0KCglwdWJsaWMgZnVuY3Rpb24gaXNDb25uZWN0ZWQoKTogYm9vbCB7CgkJcmV0dXJuICR0aGlzLT5jb25uZWN0ZWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGluaXQoJGh0bWwgPSB0cnVlKTogdm9pZCB7CgkJJHRoaXMtPmh0bWwgPSAkaHRtbDsKCX0KCglwdWJs'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24gc2xhbmcoKTogc3RyaW5nIHsKCQkvLyBUaGUgY29uc3RhbnQgT0lEUExVU19EQk1TX1NMQU5HIGlzIHVzZWQgYXMgY2FjaGUuCgkJLy8gWW91IGNhbiBhbHNvIHB1dCBpdCBpbiB5b3VyIGNvbmZpZy5pbmMucGhwIGlmIHlvdSB3YW50IHRvIGVu'));
	@fwrite($fp, base64_decode('Zm9yY2UgYSBzbGFuZyB0byBiZSB1c2VkCgoJCWlmIChkZWZpbmVkKCdPSURQTFVTX0RCTVNfU0xBTkcnKSkgewoJCQlyZXR1cm4gT0lEUExVU19EQk1TX1NMQU5HOwoJCX0gZWxzZSB7CgkJCXRyeSB7CgkJCQkvLyBNeVNRTCwgTWFyaWFEQiBhbmQgUG9zdGdyZVNR'));
	@fwrite($fp, base64_decode('TAoJCQkJJHZlcnMgPSAkdGhpcy0+cXVlcnkoInNlbGVjdCB2ZXJzaW9uKCkgYXMgZGJtc192ZXJzaW9uIiktPmZldGNoX29iamVjdCgpLT5kYm1zX3ZlcnNpb247CgkJCQkkdmVycyA9IHN0cnRvbG93ZXIoJHZlcnMpOwoJCQl9IGNhdGNoIChFeGNlcHRpb24gJGUp'));
	@fwrite($fp, base64_decode('IHsKCQkJCXRyeSB7CgkJCQkJLy8gTWljcm9zb2Z0IFNRTCBTZXJ2ZXIKCQkJCQkkdmVycyA9ICR0aGlzLT5xdWVyeSgic2VsZWN0IEBAdmVyc2lvbiBhcyBkYm1zX3ZlcnNpb24iKS0+ZmV0Y2hfb2JqZWN0KCktPmRibXNfdmVyc2lvbjsKCQkJCQkkdmVycyA9IHN0'));
	@fwrite($fp, base64_decode('cnRvbG93ZXIoJHZlcnMpOwoJCQkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiQ2Fubm90IGRldGVybWluZSB0aGUgc2xhbmcgb2YgeW91ciBEQk1TIChmdW5jdGlvbiAndmVyc2lvbigpJyBjb3VsZCBub3QgYmUgY2Fs'));
	@fwrite($fp, base64_decode('bGVkKS4gWW91ciBEQk1TIGlzIHByb2JhYmx5IG5vdCBzdXBwb3J0ZWQuIik7CgkJCQl9CgkJCX0KCgkJCSRzbGFuZyA9IG51bGw7CgkJCWlmIChzdHJwb3MoJHZlcnMsICdwb3N0Z3Jlc3FsJykgICAgICAgICAgICE9PSBmYWxzZSkgJHNsYW5nID0gJ3Bnc3FsJzsK'));
	@fwrite($fp, base64_decode('CQkJaWYgKHN0cnBvcygkdmVycywgJ215c3FsJykgICAgICAgICAgICAgICAgIT09IGZhbHNlKSAkc2xhbmcgPSAnbXlzcWwnOwoJCQlpZiAoc3RycG9zKCR2ZXJzLCAnbWFyaWFkYicpICAgICAgICAgICAgICAhPT0gZmFsc2UpICRzbGFuZyA9ICdteXNxbCc7CgkJ'));
	@fwrite($fp, base64_decode('CWlmIChzdHJwb3MoJHZlcnMsICdtaWNyb3NvZnQgc3FsIHNlcnZlcicpICE9PSBmYWxzZSkgJHNsYW5nID0gJ21zc3FsJzsKCQkJaWYgKCFpc19udWxsKCRzbGFuZykpIHsKCQkJCWRlZmluZSgnT0lEUExVU19EQk1TX1NMQU5HJywgJHNsYW5nKTsKCQkJCXJldHVy'));
	@fwrite($fp, base64_decode('biAkc2xhbmc7CgkJCX0gZWxzZSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJDYW5ub3QgZGV0ZXJtaW5lIHRoZSBzbGFuZyBvZiB5b3VyIERCTVMgKHdlIGRvbid0IGtub3cgd2hhdCB0byBkbyB3aXRoIHRoZSBEQk1TICckdmVycycpLiBZb3VyIERCTVMgaXMg'));
	@fwrite($fp, base64_decode('cHJvYmFibHkgbm90IHN1cHBvcnRlZC4iKTsKCQkJfQoJCX0KCX0KfQoK'));
	@fclose($fp);
}
if (is_file('includes/classes/OIDplusDatabasePlugin.class.php') && (sha1_file('includes/classes/OIDplusDatabasePlugin.class.php') != '66670c503a0f1d30a5a3f599e51f9ae558560b8a')) {
	warn('File was created by someone else. Will overwrite the changes now: includes/classes/OIDplusDatabasePlugin.class.php');
	$tmp = pathinfo('includes/classes/OIDplusDatabasePlugin.class.php');
	$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusDatabasePlugin.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
	warn('Creating a backup as '.$backup_name);
	if (!@copy('includes/classes/OIDplusDatabasePlugin.class.php', $backup_name)) {
		warn('Creation of backup failed');
	}
}
writefile_1();
if (!is_file('includes/classes/OIDplusDatabasePlugin.class.php')) {
	warn('File cannot be created (not existing): includes/classes/OIDplusDatabasePlugin.class.php');
} else if (sha1_file('includes/classes/OIDplusDatabasePlugin.class.php') != '66670c503a0f1d30a5a3f599e51f9ae558560b8a') {
	warn('File cannot be created (checksum mismatch): includes/classes/OIDplusDatabasePlugin.class.php');
} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusDatabasePlugin.class.php', 0644)) {
	warn('Could not change file permissions of includes/classes/OIDplusDatabasePlugin.class.php');
}

// Files different: includes/classes/OIDplus.class.php
function writefile_2() {
	@$fp = fopen('includes/classes/OIDplus.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXMgewoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzUGFnZVBsdWdpbltdW10qLyAkcGFnZVBsdWdpbnMgPSBhcnJh'));
	@fwrite($fp, base64_decode('eSgpOwoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzQXV0aFBsdWdpbltdW10qLyAkYXV0aFBsdWdpbnMgPSBhcnJheSgpOwoJcHJpdmF0ZSBzdGF0aWMgLypPSURwbHVzT2JqZWN0VHlwZVBsdWdpbltdKi8gJG9iamVjdFR5cGVQbHVnaW5zID0gYXJyYXkoKTsKCXBy'));
	@fwrite($fp, base64_decode('aXZhdGUgc3RhdGljIC8qc3RyaW5nW10qLyAkZW5hYmxlZE9iamVjdFR5cGVzID0gYXJyYXkoKTsKCXByaXZhdGUgc3RhdGljIC8qc3RyaW5nW10qLyAkZGlzYWJsZWRPYmplY3RUeXBlcyA9IGFycmF5KCk7Cglwcml2YXRlIHN0YXRpYyAvKk9JRHBsdXNEYXRhYmFz'));
	@fwrite($fp, base64_decode('ZVBsdWdpbltdKi8gJGRiUGx1Z2lucyA9IGFycmF5KCk7CgoJcHJvdGVjdGVkIHN0YXRpYyAkaHRtbCA9IG51bGw7CgoJcHJpdmF0ZSBmdW5jdGlvbiBfX2NvbnN0cnVjdCgpIHsKCX0KCQoJIyAtLS0gU2luZ2xldG9uIGNsYXNzZXMKCglwdWJsaWMgc3RhdGljIGZ1'));
	@fwrite($fp, base64_decode('bmN0aW9uIGNvbmZpZygpIHsKCQlzdGF0aWMgJGNvbmZpZyA9IG51bGw7CgkJaWYgKGlzX251bGwoJGNvbmZpZykpIHsKCQkJJGNvbmZpZyA9IG5ldyBPSURwbHVzQ29uZmlnKCk7CgkJfQoJCXJldHVybiAkY29uZmlnOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rp'));
	@fwrite($fp, base64_decode('b24gZ3VpKCkgewoJCXN0YXRpYyAkZ3VpID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkZ3VpKSkgewoJCQkkZ3VpID0gbmV3IE9JRHBsdXNHdWkoKTsKCQl9CgkJcmV0dXJuICRndWk7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBhdXRoVXRpbHMoKSB7CgkJc3Rh'));
	@fwrite($fp, base64_decode('dGljICRhdXRoVXRpbHMgPSBudWxsOwoJCWlmIChpc19udWxsKCRhdXRoVXRpbHMpKSB7CgkJCSRhdXRoVXRpbHMgPSBuZXcgT0lEcGx1c0F1dGhVdGlscygpOwoJCX0KCQlyZXR1cm4gJGF1dGhVdGlsczsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGxvZ2dl'));
	@fwrite($fp, base64_decode('cigpIHsKCQlzdGF0aWMgJGxvZ2dlciA9IG51bGw7CgkJaWYgKGlzX251bGwoJGxvZ2dlcikpIHsKCQkJJGxvZ2dlciA9IG5ldyBPSURwbHVzTG9nZ2VyKCk7CgkJfQoJCXJldHVybiAkbG9nZ2VyOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gc2VzSGFuZGxl'));
	@fwrite($fp, base64_decode('cigpIHsKCQlzdGF0aWMgJHNlc0hhbmRsZXIgPSBudWxsOwoJCWlmIChpc19udWxsKCRzZXNIYW5kbGVyKSkgewoJCQkkc2VzSGFuZGxlciA9IG5ldyBPSURwbHVzU2Vzc2lvbkhhbmRsZXIoT0lEUExVU19TRVNTSU9OX1NFQ1JFVCk7CgkJfQoJCXJldHVybiAkc2Vz'));
	@fwrite($fp, base64_decode('SGFuZGxlcjsKCX0KCgkjIC0tLSBEYXRhYmFzZSBwbHVnaW4KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWdpc3RlckRhdGFiYXNlUGx1Z2luKE9JRHBsdXNEYXRhYmFzZVBsdWdpbiAkcGx1Z2luKSB7CgkJJG5hbWUgPSAkcGx1Z2luLT5uYW1lKCk7CgkJaWYg'));
	@fwrite($fp, base64_decode('KCRuYW1lID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlOwoKCQlzZWxmOjokZGJQbHVnaW5zWyRuYW1lXSA9ICRwbHVnaW47CgoJCXJldHVybiB0cnVlOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0RGF0YWJhc2VQbHVnaW5zKCkgewoJCXJldHVybiBzZWxm'));
	@fwrite($fp, base64_decode('OjokZGJQbHVnaW5zOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZGIoKSB7CgkJaWYgKCFpc3NldChzZWxmOjokZGJQbHVnaW5zW09JRFBMVVNfREFUQUJBU0VfUExVR0lOXSkpIHsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4'));
	@fwrite($fp, base64_decode('Y2VwdGlvbigiRGF0YWJhc2UgcGx1Z2luICciLk9JRFBMVVNfREFUQUJBU0VfUExVR0lOLiInIG5vdCBmb3VuZCIpOwoJCX0KCQkkb2JqID0gc2VsZjo6JGRiUGx1Z2luc1tPSURQTFVTX0RBVEFCQVNFX1BMVUdJTl07CgkJaWYgKCEkb2JqLT5pc0Nvbm5lY3RlZCgp'));
	@fwrite($fp, base64_decode('KSAkb2JqLT5jb25uZWN0KCk7CgkJcmV0dXJuICRvYmo7Cgl9CgoJIyAtLS0gUGFnZSBwbHVnaW4KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWdpc3RlclBhZ2VQbHVnaW4oT0lEcGx1c1BhZ2VQbHVnaW4gJHBsdWdpbikgewoJCSR0eXBlID0gJHBsdWdpbi0+'));
	@fwrite($fp, base64_decode('dHlwZSgpOwoJCWlmICgkdHlwZSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCgkJJHByaW8gPSAkcGx1Z2luLT5wcmlvcml0eSgpOwoJCWlmICgkcHJpbyA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTsKCgkJaWYgKCFpc3NldChzZWxmOjokcGFnZVBsdWdpbnNbJHR5'));
	@fwrite($fp, base64_decode('cGVdKSkgc2VsZjo6JHBhZ2VQbHVnaW5zWyR0eXBlXSA9IGFycmF5KCk7CgkJc2VsZjo6JHBhZ2VQbHVnaW5zWyR0eXBlXVskcHJpb10gPSAkcGx1Z2luOwoKCQlyZXR1cm4gdHJ1ZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFBhZ2VQbHVnaW5zKCR0'));
	@fwrite($fp, base64_decode('eXBlPScqJykgewoJCWlmICgkdHlwZSA9PT0gJyonKSB7CgkJCSRyZXMgPSBhcnJheSgpOwoJCQlmb3JlYWNoIChzZWxmOjokcGFnZVBsdWdpbnMgYXMgJGRhdGEpIHsKCQkJCSRyZXMgPSBhcnJheV9tZXJnZSgkcmVzLCAkZGF0YSk7CgkJCX0KCQl9IGVsc2UgewoJ'));
	@fwrite($fp, base64_decode('CQkkdHlwZXMgPSBleHBsb2RlKCcsJywgJHR5cGUpOwoJCQlmb3JlYWNoICgkdHlwZXMgYXMgJHR5cGUpIHsKCQkJCSRyZXMgPSBpc3NldChzZWxmOjokcGFnZVBsdWdpbnNbJHR5cGVdKSA/IHNlbGY6OiRwYWdlUGx1Z2luc1skdHlwZV0gOiBhcnJheSgpOwoJCQl9'));
	@fwrite($fp, base64_decode('CgkJfQoJCWtzb3J0KCRyZXMpOwoJCXJldHVybiAkcmVzOwoJfQoKCSMgLS0tIEF1dGggcGx1Z2luCgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gcmVnaXN0ZXJBdXRoUGx1Z2luKE9JRHBsdXNBdXRoUGx1Z2luICRwbHVnaW4pIHsKCQlzZWxmOjokYXV0aFBsdWdp'));
	@fwrite($fp, base64_decode('bnNbXSA9ICRwbHVnaW47CgkJcmV0dXJuIHRydWU7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRBdXRoUGx1Z2lucygpIHsKCQlyZXR1cm4gc2VsZjo6JGF1dGhQbHVnaW5zOwoJfQoKCSMgLS0tIE9iamVjdCB0eXBlIHBsdWdpbgoKCXByaXZhdGUgc3Rh'));
	@fwrite($fp, base64_decode('dGljIGZ1bmN0aW9uIHJlZ2lzdGVyT2JqZWN0VHlwZVBsdWdpbihPSURwbHVzT2JqZWN0VHlwZVBsdWdpbiAkcGx1Z2luKSB7CgkJc2VsZjo6JG9iamVjdFR5cGVQbHVnaW5zW10gPSAkcGx1Z2luOwoKCQkkb3QgPSAkcGx1Z2luOjpnZXRPYmplY3RUeXBlQ2xhc3NO'));
	@fwrite($fp, base64_decode('YW1lKCk7CgkJc2VsZjo6cmVnaXN0ZXJPYmplY3RUeXBlKCRvdCk7CgoJCXJldHVybiB0cnVlOwoJfQoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIHJlZ2lzdGVyT2JqZWN0VHlwZSgkb3QpIHsKCQkkbnMgPSAkb3Q6Om5zKCk7CgoJCWlmIChlbXB0eSgkbnMpKSB0'));
	@fwrite($fp, base64_decode('aHJvdyBuZXcgRXhjZXB0aW9uKCJBdHRlbnRpb246IEVtcHR5IE5TIGF0ICRvdFxuIik7CgoJCSRuc19mb3VuZCA9IGZhbHNlOwoJCWZvcmVhY2ggKGFycmF5X21lcmdlKE9JRHBsdXM6OmdldEVuYWJsZWRPYmplY3RUeXBlcygpLCBPSURwbHVzOjpnZXREaXNhYmxl'));
	@fwrite($fp, base64_decode('ZE9iamVjdFR5cGVzKCkpIGFzICR0ZXN0X290KSB7CgkJCWlmICgkdGVzdF9vdDo6bnMoKSA9PSAkbnMpIHsKCQkJCSRuc19mb3VuZCA9IHRydWU7CgkJCQlicmVhazsKCQkJfQoJCX0KCQlpZiAoJG5zX2ZvdW5kKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkF0'));
	@fwrite($fp, base64_decode('dGVudGlvbjogVHdvIG9iamVjdFR5cGUgcGx1Z2lucyB1c2UgdGhlIHNhbWUgbmFtZXNwYWNlIFwiJG5zXCIhIik7CgkJfQoKCQkkaW5pdCA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgib2JqZWN0dHlwZXNfaW5pdGlhbGl6ZWQiKTsKCQkkaW5pdF9hcnkg'));
	@fwrite($fp, base64_decode('PSBlbXB0eSgkaW5pdCkgPyBhcnJheSgpIDogZXhwbG9kZSgnOycsICRpbml0KTsKCQkkaW5pdF9hcnkgPSBhcnJheV9tYXAoJ3RyaW0nLCAkaW5pdF9hcnkpOwoKCQkkZW5hYmxlZCA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgib2JqZWN0dHlwZXNfZW5h'));
	@fwrite($fp, base64_decode('YmxlZCIpOwoJCSRlbmFibGVkX2FyeSA9IGVtcHR5KCRlbmFibGVkKSA/IGFycmF5KCkgOiBleHBsb2RlKCc7JywgJGVuYWJsZWQpOwoJCSRlbmFibGVkX2FyeSA9IGFycmF5X21hcCgndHJpbScsICRlbmFibGVkX2FyeSk7CgoJCSRkb19lbmFibGUgPSBmYWxzZTsK'));
	@fwrite($fp, base64_decode('CQlpZiAoaW5fYXJyYXkoJG5zLCAkZW5hYmxlZF9hcnkpKSB7CgkJCSRkb19lbmFibGUgPSB0cnVlOwoJCX0gZWxzZSB7CgkJCWlmICghT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdyZWdpc3RyYXRpb25fZG9uZScpKSB7CgkJCQkkZG9fZW5hYmxlID0gJG5z'));
	@fwrite($fp, base64_decode('ID09ICdvaWQnOwoJCQl9IGVsc2UgewoJCQkJJGRvX2VuYWJsZSA9ICFpbl9hcnJheSgkbnMsICRpbml0X2FyeSk7CgkJCX0KCQl9CgoJCWlmICgkZG9fZW5hYmxlKSB7CgkJCXNlbGY6OiRlbmFibGVkT2JqZWN0VHlwZXNbXSA9ICRvdDsKCQkJdXNvcnQoc2VsZjo6'));
	@fwrite($fp, base64_decode('JGVuYWJsZWRPYmplY3RUeXBlcywgZnVuY3Rpb24oJGEsICRiKSB7CgkJCQkkZW5hYmxlZCA9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgib2JqZWN0dHlwZXNfZW5hYmxlZCIpOwoJCQkJJGVuYWJsZWRfYXJ5ID0gZXhwbG9kZSgnOycsICRlbmFibGVkKTsK'));
	@fwrite($fp, base64_decode('CgkJCQkkaWR4X2EgPSBhcnJheV9zZWFyY2goJGE6Om5zKCksICRlbmFibGVkX2FyeSk7CgkJCQkkaWR4X2IgPSBhcnJheV9zZWFyY2goJGI6Om5zKCksICRlbmFibGVkX2FyeSk7CgoJCQkgICAgICAgIGlmICgkaWR4X2EgPT0gJGlkeF9iKSB7CgkJCSAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgIHJldHVybiAwOwoJCQkgICAgICAgIH0KCQkJICAgICAgICByZXR1cm4gKCRpZHhfYSA+ICRpZHhfYikgPyArMSA6IC0xOwoJCQl9KTsKCQl9IGVsc2UgewoJCQlzZWxmOjokZGlzYWJsZWRPYmplY3RUeXBlc1tdID0gJG90OwoJCX0KCgkJaWYgKCFpbl9hcnJh'));
	@fwrite($fp, base64_decode('eSgkbnMsICRpbml0X2FyeSkpIHsKCQkJLy8gV2FzIG5ldmVyIGluaXRpYWxpemVkIGJlZm9yZSwgc28gd2UgYWRkIGl0IHRvIHRoZSBsaXN0IG9mIGVuYWJsZWQgb2JqZWN0IHR5cGVzIG9uY2UKCgkJCWlmICgkZG9fZW5hYmxlKSB7CgkJCQkkZW5hYmxlZF9hcnlb'));
	@fwrite($fp, base64_decode('XSA9ICRuczsKCQkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgib2JqZWN0dHlwZXNfZW5hYmxlZCIsIGltcGxvZGUoJzsnLCAkZW5hYmxlZF9hcnkpKTsKCQkJfQoKCQkJJGluaXRfYXJ5W10gPSAkbnM7CgkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1'));
	@fwrite($fp, base64_decode('ZSgib2JqZWN0dHlwZXNfaW5pdGlhbGl6ZWQiLCBpbXBsb2RlKCc7JywgJGluaXRfYXJ5KSk7CgkJfQoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0T2JqZWN0VHlwZVBsdWdpbnMoKSB7CgkJcmV0dXJuIHNlbGY6OiRvYmplY3RUeXBlUGx1Z2luczsKCX0K'));
	@fwrite($fp, base64_decode('CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldE9iamVjdFR5cGVQbHVnaW5zRW5hYmxlZCgpIHsKCQkkcmVzID0gYXJyYXkoKTsKCQlmb3JlYWNoIChzZWxmOjokb2JqZWN0VHlwZVBsdWdpbnMgYXMgJHBsdWdpbikgewoJCQkkb3QgPSAkcGx1Z2luOjpnZXRPYmpl'));
	@fwrite($fp, base64_decode('Y3RUeXBlQ2xhc3NOYW1lKCk7CgkJCWlmIChpbl9hcnJheSgkb3QsIHNlbGY6OiRlbmFibGVkT2JqZWN0VHlwZXMpKSAkcmVzW10gPSAkcGx1Z2luOwoJCX0KCQlyZXR1cm4gJHJlczsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldE9iamVjdFR5cGVQbHVn'));
	@fwrite($fp, base64_decode('aW5zRGlzYWJsZWQoKSB7CgkJJHJlcyA9IGFycmF5KCk7CgkJZm9yZWFjaCAoc2VsZjo6JG9iamVjdFR5cGVQbHVnaW5zIGFzICRwbHVnaW4pIHsKCQkJJG90ID0gJHBsdWdpbjo6Z2V0T2JqZWN0VHlwZUNsYXNzTmFtZSgpOwoJCQlpZiAoaW5fYXJyYXkoJG90LCBz'));
	@fwrite($fp, base64_decode('ZWxmOjokZGlzYWJsZWRPYmplY3RUeXBlcykpICRyZXNbXSA9ICRwbHVnaW47CgkJfQoJCXJldHVybiAkcmVzOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0RW5hYmxlZE9iamVjdFR5cGVzKCkgewoJCXJldHVybiBzZWxmOjokZW5hYmxlZE9iamVjdFR5'));
	@fwrite($fp, base64_decode('cGVzOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0RGlzYWJsZWRPYmplY3RUeXBlcygpIHsKCQlyZXR1cm4gc2VsZjo6JGRpc2FibGVkT2JqZWN0VHlwZXM7Cgl9CgoJIyAtLS0gSW5pdGlhbGl6YXRpb24gb2YgT0lEcGx1cwoKCXB1YmxpYyBzdGF0aWMg'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gaW5pdCgkaHRtbD10cnVlKSB7CgkJc2VsZjo6JGh0bWwgPSAkaHRtbDsKCgkJLy8gSW5jbHVkZSBjb25maWcgZmlsZQoKCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXyAuICcvLi4vY29uZmlnLmluYy5waHAnKSkgewoJCQlpbmNsdWRlX29uY2UgX19E'));
	@fwrite($fp, base64_decode('SVJfXyAuICcvLi4vY29uZmlnLmluYy5waHAnOwoJCX0gZWxzZSB7CgkJCWlmICghaXNfZGlyKF9fRElSX18uJy8uLi8uLi9zZXR1cCcpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKCdGaWxlIGluY2x1ZGVzL2Nv'));
	@fwrite($fp, base64_decode('bmZpZy5pbmMucGhwIGlzIG1pc3NpbmcsIGJ1dCBzZXR1cCBjYW5cJ3QgYmUgc3RhcnRlZCBiZWNhdXNlIGl0cyBkaXJlY3RvcnkgbWlzc2luZy4nKTsKCQkJfSBlbHNlIHsKCQkJCWlmICgkaHRtbCkgewoJCQkJCWhlYWRlcignTG9jYXRpb246Jy5PSURwbHVzOjpn'));
	@fwrite($fp, base64_decode('ZXRTeXN0ZW1VcmwoKS4nc2V0dXAvJyk7CgkJCQkJZGllKCdSZWRpcmVjdGluZyB0byBzZXR1cC4uLicpOwoJCQkJfSBlbHNlIHsKCQkJCQkvLyBUaGlzIGNhbiBiZSBkaXNwbGF5ZWQgaW4gZS5nLiBhamF4LnBocAoJCQkJCXRocm93IG5ldyBPSURwbHVzQ29uZmln'));
	@fwrite($fp, base64_decode('SW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0ZpbGUgaW5jbHVkZXMvY29uZmlnLmluYy5waHAgaXMgbWlzc2luZy4gUGxlYXNlIHJ1biBzZXR1cCBhZ2Fpbi4nKTsKCQkJCX0KCQkJfQoJCX0KCgkJLy8gQXV0by1maWxsIG5vbi1leGlzdGluZyBjb25maWcgdmFsdWVz'));
	@fwrite($fp, base64_decode('LCBzbyB0aGF0IHRoZXJlIHdvbid0IGJlIGFueSBQSFAgZXJyb3JzCgkJLy8gaWYgc29tZXRoaW5nIHdvdWxkIGJlIG1pc3NpbmcgaW4gY29uZmlnLmluYy5waHAgKHdoaWNoIHNob3VsZCBub3QgaGFwcGVuISkKCgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX0NPTkZJ'));
	@fwrite($fp, base64_decode('R19WRVJTSU9OJykpICAgZGVmaW5lKCdPSURQTFVTX0NPTkZJR19WRVJTSU9OJywgICAwLjApOwoJCWlmICghZGVmaW5lZCgnT0lEUExVU19BRE1JTl9QQVNTV09SRCcpKSAgIGRlZmluZSgnT0lEUExVU19BRE1JTl9QQVNTV09SRCcsICAgJycpOwoJCWlmICghZGVm'));
	@fwrite($fp, base64_decode('aW5lZCgnT0lEUExVU19EQVRBQkFTRV9QTFVHSU4nKSkgIGRlZmluZSgnT0lEUExVU19EQVRBQkFTRV9QTFVHSU4nLCAgJ015U1FMJyk7CgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX01ZU1FMX0hPU1QnKSkgICAgICAgZGVmaW5lKCdPSURQTFVTX01ZU1FMX0hPU1Qn'));
	@fwrite($fp, base64_decode('LCAgICAgICAnbG9jYWxob3N0Jyk7CgkJaWYgKCFkZWZpbmVkKCdPSURQTFVTX01ZU1FMX1VTRVJOQU1FJykpICAgZGVmaW5lKCdPSURQTFVTX01ZU1FMX1VTRVJOQU1FJywgICAncm9vdCcpOwoJCWlmICghZGVmaW5lZCgnT0lEUExVU19NWVNRTF9QQVNTV09SRCcp'));
	@fwrite($fp, base64_decode('KSAgIGRlZmluZSgnT0lEUExVU19NWVNRTF9QQVNTV09SRCcsICAgJycpOyAvLyBiYXNlNjQgZW5jb2RlZAoJCWlmICghZGVmaW5lZCgnT0lEUExVU19NWVNRTF9EQVRBQkFTRScpKSAgIGRlZmluZSgnT0lEUExVU19NWVNRTF9EQVRBQkFTRScsICAgJ29pZHBsdXMn'));
	@fwrite($fp, base64_decode('KTsKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWCcpKSBkZWZpbmUoJ09JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWCcsICcnKTsKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNfU0VTU0lPTl9TRUNSRVQnKSkgICBkZWZpbmUoJ09JRFBMVVNfU0VT'));
	@fwrite($fp, base64_decode('U0lPTl9TRUNSRVQnLCAgICcnKTsKCQlpZiAoIWRlZmluZWQoJ1JFQ0FQVENIQV9FTkFCTEVEJykpICAgICAgICBkZWZpbmUoJ1JFQ0FQVENIQV9FTkFCTEVEJywgICAgICAgIGZhbHNlKTsKCQlpZiAoIWRlZmluZWQoJ1JFQ0FQVENIQV9QVUJMSUMnKSkgICAgICAg'));
	@fwrite($fp, base64_decode('ICBkZWZpbmUoJ1JFQ0FQVENIQV9QVUJMSUMnLCAgICAgICAgICcnKTsKCQlpZiAoIWRlZmluZWQoJ1JFQ0FQVENIQV9QUklWQVRFJykpICAgICAgICBkZWZpbmUoJ1JFQ0FQVENIQV9QUklWQVRFJywgICAgICAgICcnKTsKCQlpZiAoIWRlZmluZWQoJ09JRFBMVVNf'));
	@fwrite($fp, base64_decode('RU5GT1JDRV9TU0wnKSkgICAgICBkZWZpbmUoJ09JRFBMVVNfRU5GT1JDRV9TU0wnLCAgICAgIDIgLyogQXV0byAqLyk7CgoJCS8vIENoZWNrIHZlcnNpb24gb2YgdGhlIGNvbmZpZyBmaWxlCgoJCWlmIChPSURQTFVTX0NPTkZJR19WRVJTSU9OICE9IDIuMCkgewoJ'));
	@fwrite($fp, base64_decode('CQl0aHJvdyBuZXcgT0lEcGx1c0NvbmZpZ0luaXRpYWxpemF0aW9uRXhjZXB0aW9uKCJUaGUgaW5mb3JtYXRpb24gbG9jYXRlZCBpbiBpbmNsdWRlcy9jb25maWcuaW5jLnBocCBpcyBvdXRkYXRlZC4iKTsKCQl9CgoJCS8vIFJlZ2lzdGVyIGRhdGFiYXNlIHR5cGVz'));
	@fwrite($fp, base64_decode('IChoaWdoZXN0IHByaW9yaXR5KQoKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL2RhdGFiYXNlLycuJyonLicvcGx1Z2luLmluYy5waHAnKTsKCQlmb3JlYWNoICgkYXJ5IGFzICRhKSBpbmNsdWRlICRhOwoKCQlmb3JlYWNoIChnZXRfZGVj'));
	@fwrite($fp, base64_decode('bGFyZWRfY2xhc3NlcygpIGFzICRjKSB7CgkJCWlmIChpc19zdWJjbGFzc19vZigkYywgJ09JRHBsdXNEYXRhYmFzZVBsdWdpbicpKSB7CgkJCQlzZWxmOjpyZWdpc3RlckRhdGFiYXNlUGx1Z2luKG5ldyAkYygpKTsKCQkJfQoJCX0KCgkJZm9yZWFjaCAoT0lEcGx1'));
	@fwrite($fp, base64_decode('czo6Z2V0RGF0YWJhc2VQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkkcGx1Z2luLT5pbml0KCRodG1sKTsKCQl9CgoJCS8vIERvIHJlZGlyZWN0IHN0dWZmIGV0Yy4KCgkJc2VsZjo6aXNTc2xBdmFpbGFibGUoKTsgLy8gVGhpcyBmdW5jdGlvbiBkb2VzIGF1dG9t'));
	@fwrite($fp, base64_decode('YXRpYyByZWRpcmVjdHMKCgkJLy8gU3lzdGVtIGNvbmZpZyBzZXR0aW5ncwoKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgnb2JqZWN0dHlwZXNfaW5pdGlhbGl6ZWQnLCAnTGlzdCBvZiBvYmplY3QgdHlwZSBwbHVnaW5zIHRoYXQgd2VyZSBp'));
	@fwrite($fp, base64_decode('bml0aWFsaXplZCBvbmNlJywgJycsIDEsIDEpOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5wcmVwYXJlQ29uZmlnS2V5KCdvYmplY3R0eXBlc19lbmFibGVkJywgJ0VuYWJsZWQgb2JqZWN0IHR5cGVzIGFuZCB0aGVpciBvcmRlciwgc2VwYXJhdGVkIHdpdGggYSBzZW1p'));
	@fwrite($fp, base64_decode('Y29sb24gKHBsZWFzZSByZWxvYWQgdGhlIHBhZ2Ugc28gdGhhdCB0aGUgY2hhbmdlIGlzIGFwcGxpZWQpJywgJycsIDAsIDEpOwoKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZpZ0tleSgnb2lkcGx1c19wcml2YXRlX2tleScsICdQcml2YXRlIGtleSBm'));
	@fwrite($fp, base64_decode('b3IgdGhpcyBzeXN0ZW0nLCAnJywgMSwgMCk7CgkJT0lEcGx1czo6Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ29pZHBsdXNfcHVibGljX2tleScsICdQdWJsaWMga2V5IGZvciB0aGlzIHN5c3RlbS4gSWYgeW91ICJjbG9uZSIgeW91ciBzeXN0ZW0sIHlvdSBt'));
	@fwrite($fp, base64_decode('dXN0IGRlbGV0ZSB0aGlzIGtleSAoZS5nLiB1c2luZyBwaHBNeUFkbWluKSwgc28gdGhhdCBhIG5ldyBvbmUgaXMgY3JlYXRlZC4nLCAnJywgMSwgMSk7CgoJCS8vIEluaXRpYWxpemUgcHVibGljIC8gcHJpdmF0ZSBrZXlzCgoJCU9JRHBsdXM6OmdldFBraVN0YXR1'));
	@fwrite($fp, base64_decode('cyh0cnVlKTsKCgkJLy8gUmVnaXN0ZXIgbm9uLURCIHBsdWdpbnMKCgkJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvLi4vLi4vcGx1Z2lucy9vYmplY3RUeXBlcy8nLicqJy4nL3BsdWdpbi5pbmMucGhwJyk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkYSkgaW5jbHVkZSAk'));
	@fwrite($fp, base64_decode('YTsKCgkJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvLi4vLi4vcGx1Z2lucy9wdWJsaWNQYWdlcy8nLicqJy4nL3BsdWdpbi5pbmMucGhwJyk7CgkJZm9yZWFjaCAoJGFyeSBhcyAkYSkgaW5jbHVkZSAkYTsKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9w'));
	@fwrite($fp, base64_decode('bHVnaW5zL3JhUGFnZXMvJy4nKicuJy9wbHVnaW4uaW5jLnBocCcpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7CgkJJGFyeSA9IGdsb2IoX19ESVJfXyAuICcvLi4vLi4vcGx1Z2lucy9hZG1pblBhZ2VzLycuJyonLicvcGx1Z2luLmluYy5waHAn'));
	@fwrite($fp, base64_decode('KTsKCQlmb3JlYWNoICgkYXJ5IGFzICRhKSBpbmNsdWRlICRhOwoKCQkkYXJ5ID0gZ2xvYihfX0RJUl9fIC4gJy8uLi8uLi9wbHVnaW5zL2F1dGgvJy4nKicuJy9wbHVnaW4uaW5jLnBocCcpOwoJCWZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7CgoJCWZv'));
	@fwrite($fp, base64_decode('cmVhY2ggKGdldF9kZWNsYXJlZF9jbGFzc2VzKCkgYXMgJGMpIHsKCQkJaWYgKGlzX3N1YmNsYXNzX29mKCRjLCAnT0lEcGx1c1BhZ2VQbHVnaW4nKSkgewoJCQkJc2VsZjo6cmVnaXN0ZXJQYWdlUGx1Z2luKG5ldyAkYygpKTsKCQkJfQoJCQlpZiAoaXNfc3ViY2xh'));
	@fwrite($fp, base64_decode('c3Nfb2YoJGMsICdPSURwbHVzQXV0aFBsdWdpbicpKSB7CgkJCQlzZWxmOjpyZWdpc3RlckF1dGhQbHVnaW4obmV3ICRjKCkpOwoJCQl9CgkJCWlmIChpc19zdWJjbGFzc19vZigkYywgJ09JRHBsdXNPYmplY3RUeXBlUGx1Z2luJykpIHsKCQkJCXNlbGY6OnJlZ2lz'));
	@fwrite($fp, base64_decode('dGVyT2JqZWN0VHlwZVBsdWdpbihuZXcgJGMoKSk7CgkJCX0KCQl9CgoJCS8vIEluaXRpYWxpemUgbm9uLURCIHBsdWdpbnMKCgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoJyonKSBhcyAkcGx1Z2luKSB7CgkJCSRwbHVnaW4tPmluaXQoJGh0bWwp'));
	@fwrite($fp, base64_decode('OwoJCX0KCQlmb3JlYWNoIChPSURwbHVzOjpnZXRBdXRoUGx1Z2lucygpIGFzICRwbHVnaW4pIHsKCQkJJHBsdWdpbi0+aW5pdCgkaHRtbCk7CgkJfQoJCWZvcmVhY2ggKE9JRHBsdXM6OmdldE9iamVjdFR5cGVQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkkcGx1'));
	@fwrite($fp, base64_decode('Z2luLT5pbml0KCRodG1sKTsKCQl9Cgl9CgoJIyAtLS0gU3lzdGVtIFVSTCwgU3lzdGVtIElELCBQS0ksIGFuZCBvdGhlciBmdW5jdGlvbnMKCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldFN5c3RlbVVybCgkcmVsYXRpdmU9ZmFsc2UpIHsKCQlpZiAoIWlzc2V0'));
	@fwrite($fp, base64_decode('KCRfU0VSVkVSWyJTQ1JJUFRfTkFNRSJdKSkgcmV0dXJuIGZhbHNlOwoKCQkkdGVzdF9kaXIgPSBkaXJuYW1lKCRfU0VSVkVSWydTQ1JJUFRfRklMRU5BTUUnXSk7CgkJJGMgPSAwOwoJCXdoaWxlICghZmlsZV9leGlzdHMoJHRlc3RfZGlyLicvb2lkcGx1c19iYXNl'));
	@fwrite($fp, base64_decode('LmpzJykpIHsKCQkJJHRlc3RfZGlyID0gZGlybmFtZSgkdGVzdF9kaXIpOwoJCQkkYysrOwoJCQlpZiAoJGMgPT0gMTAwMCkgcmV0dXJuIGZhbHNlOwoJCX0KCgkJJHJlcyA9IGRpcm5hbWUoJF9TRVJWRVJbJ1NDUklQVF9OQU1FJ10uJ3h4eCcpOwoKCQlmb3IgKCRp'));
	@fwrite($fp, base64_decode('PTE7ICRpPD0kYzsgJGkrKykgewoJCQkkcmVzID0gZGlybmFtZSgkcmVzKTsKCQl9CgoJCWlmICgkcmVzID09ICcvJykgJHJlcyA9ICcnOwoJCSRyZXMgLj0gJy8nOwoKCQlpZiAoISRyZWxhdGl2ZSkgewoJCQkkaXNfc3NsID0gaXNzZXQoJF9TRVJWRVJbJ0hUVFBT'));
	@fwrite($fp, base64_decode('J10pICYmICgkX1NFUlZFUlsnSFRUUFMnXSA9PT0gJ29uJyk7CgkJCSRwcm90b2NvbCA9ICRpc19zc2wgPyAnaHR0cHMnIDogJ2h0dHAnOwoJCQkkaG9zdCA9ICRfU0VSVkVSWydIVFRQX0hPU1QnXTsKCQkJJHBvcnQgPSAkX1NFUlZFUlsnU0VSVkVSX1BPUlQnXTsK'));
	@fwrite($fp, base64_decode('CQkJaWYgKCRpc19zc2wgJiYgKCRwb3J0ICE9IDQ0MykpIHsKCQkJCSRwb3J0X2FkZCA9ICI6JHBvcnQiOwoJCQl9IGVsc2UgaWYgKCEkaXNfc3NsICYmICgkcG9ydCAhPSA4MCkpIHsKCQkJCSRwb3J0X2FkZCA9ICI6JHBvcnQiOwoJCQl9IGVsc2UgewoJCQkJJHBv'));
	@fwrite($fp, base64_decode('cnRfYWRkID0gIiI7CgkJCX0KCQkJJHJlcyA9ICRwcm90b2NvbC4nOi8vJy4kaG9zdC4kcG9ydF9hZGQuJHJlczsKCQl9CgoJCXJldHVybiAkcmVzOwoJfQoKCXByaXZhdGUgc3RhdGljICRzeXN0ZW1faWRfY2FjaGUgPSBudWxsOwoJcHVibGljIHN0YXRpYyBmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiBnZXRTeXN0ZW1JZCgkb2lkPWZhbHNlKSB7CgkJaWYgKCFpc19udWxsKHNlbGY6OiRzeXN0ZW1faWRfY2FjaGUpKSB7CgkJCSRvdXQgPSBzZWxmOjokc3lzdGVtX2lkX2NhY2hlOwoJCX0gZWxzZSB7CgkJCSRvdXQgPSBmYWxzZTsKCgkJCWlmIChzZWxmOjpn'));
	@fwrite($fp, base64_decode('ZXRQa2lTdGF0dXModHJ1ZSkpIHsKCQkJCSRwdWJLZXkgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHVibGljX2tleScpOwoJCQkJaWYgKHByZWdfbWF0Y2goJ0BCRUdJTiBQVUJMSUMgS0VZXC0rKC4rKVwtK0VORCBQVUJMSUMgS0VZQGlz'));
	@fwrite($fp, base64_decode('bVUnLCAkcHViS2V5LCAkbSkpIHsKCQkJCQkkb3V0ID0gc21hbGxoYXNoKGJhc2U2NF9kZWNvZGUoJG1bMV0pKTsKCQkJCX0KCQkJfQoJCQlzZWxmOjokc3lzdGVtX2lkX2NhY2hlID0gJG91dDsKCQl9CgkJcmV0dXJuICgkb3V0ID8gJzEuMy42LjEuNC4xLjM3NDc2'));
	@fwrite($fp, base64_decode('LjMwLjkuJyA6ICcnKS4kb3V0OwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGtpU3RhdHVzKCR0cnlfZ2VuZXJhdGU9dHJ1ZSkgewoJCWlmICghZnVuY3Rpb25fZXhpc3RzKCdvcGVuc3NsX3BrZXlfbmV3JykpIHJldHVybiBmYWxzZTsKCgkJJHByaXZL'));
	@fwrite($fp, base64_decode('ZXkgPSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ29pZHBsdXNfcHJpdmF0ZV9rZXknKTsKCQkkcHViS2V5ID0gT0lEcGx1czo6Y29uZmlnKCktPmdldFZhbHVlKCdvaWRwbHVzX3B1YmxpY19rZXknKTsKCgkJaWYgKCR0cnlfZ2VuZXJhdGUgJiYgIXZlcmlm'));
	@fwrite($fp, base64_decode('eV9wcml2YXRlX3B1YmxpY19rZXkoJHByaXZLZXksICRwdWJLZXkpKSB7CgkJCSRjb25maWcgPSBhcnJheSgKCQkJICAgICJkaWdlc3RfYWxnIiA9PiAic2hhNTEyIiwKCQkJICAgICJwcml2YXRlX2tleV9iaXRzIiA9PiAyMDQ4LAoJCQkgICAgInByaXZhdGVfa2V5'));
	@fwrite($fp, base64_decode('X3R5cGUiID0+IE9QRU5TU0xfS0VZVFlQRV9SU0EsCgkJCSk7CgoJCQkvLyBDcmVhdGUgdGhlIHByaXZhdGUgYW5kIHB1YmxpYyBrZXkKCQkJJHJlcyA9IG9wZW5zc2xfcGtleV9uZXcoJGNvbmZpZyk7CgkJCQoJCQlpZiAoISRyZXMpIHJldHVybiBmYWxzZTsKCgkJ'));
	@fwrite($fp, base64_decode('CS8vIEV4dHJhY3QgdGhlIHByaXZhdGUga2V5IGZyb20gJHJlcyB0byAkcHJpdktleQoJCQlvcGVuc3NsX3BrZXlfZXhwb3J0KCRyZXMsICRwcml2S2V5KTsKCgkJCS8vIEV4dHJhY3QgdGhlIHB1YmxpYyBrZXkgZnJvbSAkcmVzIHRvICRwdWJLZXkKCQkJJHB1Yktl'));
	@fwrite($fp, base64_decode('eSA9IG9wZW5zc2xfcGtleV9nZXRfZGV0YWlscygkcmVzKVsia2V5Il07CgoJCQkvLyBMb2cKCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiQSEiLCAiR2VuZXJhdGluZyBuZXcgU3lzdGVtSUQgdXNpbmcgYSBuZXcga2V5IHBhaXIiKTsKCgkJCS8vIFNhdmUgdGhl'));
	@fwrite($fp, base64_decode('IGtleSBwYWlyIHRvIGRhdGFiYXNlCgkJCU9JRHBsdXM6OmNvbmZpZygpLT5zZXRWYWx1ZSgnb2lkcGx1c19wcml2YXRlX2tleScsICRwcml2S2V5KTsKCQkJT0lEcGx1czo6Y29uZmlnKCktPnNldFZhbHVlKCdvaWRwbHVzX3B1YmxpY19rZXknLCAkcHViS2V5KTsK'));
	@fwrite($fp, base64_decode('CgkJCS8vIExvZyB0aGUgbmV3IHN5c3RlbSBJRAoJCQlpZiAocHJlZ19tYXRjaCgnQEJFR0lOIFBVQkxJQyBLRVlcLSsoLispXC0rRU5EIFBVQkxJQyBLRVlAaXNtVScsICRwdWJLZXksICRtKSkgewoJCQkJJHN5c3RlbV9pZCA9IHNtYWxsaGFzaChiYXNlNjRfZGVj'));
	@fwrite($fp, base64_decode('b2RlKCRtWzFdKSk7CgkJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJBISIsICJZb3VyIFN5c3RlbUlEIGlzIG5vdyAkc3lzdGVtX2lkIik7CgkJCX0KCQl9CgoJCXJldHVybiB2ZXJpZnlfcHJpdmF0ZV9wdWJsaWNfa2V5KCRwcml2S2V5LCAkcHViS2V5KTsKCX0K'));
	@fwrite($fp, base64_decode('CglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIGdldEluc3RhbGxUeXBlKCkgewoJCWlmICghZmlsZV9leGlzdHMoX19ESVJfXyAuICcvLi4vLi4vb2lkcGx1c192ZXJzaW9uLnR4dCcpICYmICFpc19kaXIoX19ESVJfXyAuICcvLi4vLi4vLnN2bicpKSB7CgkJCXJldHVy'));
	@fwrite($fp, base64_decode('biAndW5rbm93bic7CgkJfQoJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy8uLi8uLi9vaWRwbHVzX3ZlcnNpb24udHh0JykgJiYgaXNfZGlyKF9fRElSX18gLiAnLy4uLy4uLy5zdm4nKSkgewoJCQlyZXR1cm4gJ2FtYmlnb3VzJzsKCQl9CgkJaWYgKGlzX2Rp'));
	@fwrite($fp, base64_decode('cihfX0RJUl9fIC4gJy8uLi8uLi8uc3ZuJykpIHsKCQkJcmV0dXJuICdzdm4td2MnOwoJCX0KCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXyAuICcvLi4vLi4vb2lkcGx1c192ZXJzaW9uLnR4dCcpKSB7CgkJCXJldHVybiAnc3ZuLXNuYXBzaG90JzsKCQl9Cgl9CgoJ'));
	@fwrite($fp, base64_decode('cHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRWZXJzaW9uKCkgewoJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fIC4gJy8uLi8uLi9vaWRwbHVzX3ZlcnNpb24udHh0JykgJiYgaXNfZGlyKF9fRElSX18gLiAnLy4uLy4uLy5zdm4nKSkgewoJCQlyZXR1cm4gZmFsc2U7'));
	@fwrite($fp, base64_decode('IC8vIHZlcnNpb24gaXMgYW1iaWdvdXMKCQl9CgoJCWlmIChpc19kaXIoX19ESVJfXyAuICcvLi4vLi4vLnN2bicpKSB7CgkJCS8vIFRyeSB0byBmaW5kIG91dCB0aGUgU1ZOIHZlcnNpb24gdXNpbmcgdGhlIHNoZWxsCgkJCS8vIFRPRE86IGRhcyBt/GxsdCBkaWUg'));
	@fwrite($fp, base64_decode('bG9nIGZpbGVzIHZvbGwhCgkJCSRzdGF0dXMgPSBAc2hlbGxfZXhlYygnc3ZudmVyc2lvbiAnLnJlYWxwYXRoKF9fRklMRV9fKSk7CgkJCWlmIChwcmVnX21hdGNoKCcvXGQrLycsICRzdGF0dXMsICRtYXRjaCkpIHsKCQkJCXJldHVybiAnc3ZuLScuJG1hdGNoWzBd'));
	@fwrite($fp, base64_decode('OwoJCQl9CgoJCQkvLyBJZiB0aGF0IGZhaWxlZCwgdHJ5IHRvIGdldCB0aGUgdmVyc2lvbiB2aWEgU1FMaXRlMwoJCQlpZiAoY2xhc3NfZXhpc3RzKCdTUUxpdGUzJykpIHsKCQkJCSRkYiA9IG5ldyBTUUxpdGUzKF9fRElSX18gLiAnLy4uLy4uLy5zdm4vd2MuZGIn'));
	@fwrite($fp, base64_decode('KTsKCQkJCSRyZXN1bHRzID0gJGRiLT5xdWVyeSgnU0VMRUNUIE1JTihyZXZpc2lvbikgQVMgcmV2IEZST00gTk9ERVNfQkFTRScpOwoJCQkJd2hpbGUgKCRyb3cgPSAkcmVzdWx0cy0+ZmV0Y2hBcnJheSgpKSB7CgkJCQkJcmV0dXJuICdzdm4tJy4kcm93WydyZXYn'));
	@fwrite($fp, base64_decode('XTsKCQkJCX0KCQkJfQoJCX0KCgkJaWYgKGZpbGVfZXhpc3RzKF9fRElSX18gLiAnLy4uLy4uL29pZHBsdXNfdmVyc2lvbi50eHQnKSkgewoJCQkkY29udCA9IGZpbGVfZ2V0X2NvbnRlbnRzKF9fRElSX18gLiAnLy4uLy4uL29pZHBsdXNfdmVyc2lvbi50eHQnKTsK'));
	@fwrite($fp, base64_decode('CQkJaWYgKHByZWdfbWF0Y2goJ0BSZXZpc2lvbiAoXGQrKUAnLCAkY29udCwgJG0pKQoJCQkJcmV0dXJuICdzdm4tJy4kbVsxXTsKCQl9CgoJCXJldHVybiBmYWxzZTsKCX0KCglwcml2YXRlIHN0YXRpYyAkc3NsQXZhaWxhYmxlQ2FjaGUgPSBudWxsOwoJcHVibGlj'));
	@fwrite($fp, base64_decode('IHN0YXRpYyBmdW5jdGlvbiBpc1NzbEF2YWlsYWJsZSgpIHsKCQlpZiAoIWlzX251bGwoc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlKSkgcmV0dXJuIHNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZTsKCQoJCWlmIChwaHBfc2FwaV9uYW1lKCkgPT0gJ2NsaScpIHsKCQkJ'));
	@fwrite($fp, base64_decode('c2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gZmFsc2U7CgkJCXJldHVybiBmYWxzZTsKCQl9CgoJCSR0aW1lb3V0ID0gMjsKCQkkYWxyZWFkeV9zc2wgPSBpc3NldCgkX1NFUlZFUlsnSFRUUFMnXSkgJiYgKCRfU0VSVkVSWydIVFRQUyddID09ICJvbiIpOwoJCSRz'));
	@fwrite($fp, base64_decode('c2xfcG9ydCA9IDQ0MzsKCQkkY29va2llX3BhdGggPSBPSURwbHVzOjpnZXRTeXN0ZW1VcmwodHJ1ZSk7CgkJaWYgKGVtcHR5KCRjb29raWVfcGF0aCkpICRjb29raWVfcGF0aCA9ICcvJzsKCgkJaWYgKE9JRFBMVVNfRU5GT1JDRV9TU0wgPT0gMCkgewoJCQkvLyBO'));
	@fwrite($fp, base64_decode('byBTU0wgYXZhaWxhYmxlCgkJCXNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZSA9ICRhbHJlYWR5X3NzbDsKCQkJcmV0dXJuICRhbHJlYWR5X3NzbDsKCQl9CgoJCWlmIChPSURQTFVTX0VORk9SQ0VfU1NMID09IDEpIHsKCQkJLy8gRm9yY2UgU1NMCgkJCWlmICgkYWxy'));
	@fwrite($fp, base64_decode('ZWFkeV9zc2wpIHsKCQkJCXNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZSA9IHRydWU7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfSBlbHNlIHsKCQkJCSRsb2NhdGlvbiA9ICdodHRwczovLycgLiAkX1NFUlZFUlsnSFRUUF9IT1NUJ10gLiAkX1NFUlZFUlsnUkVRVUVTVF9V'));
	@fwrite($fp, base64_decode('UkknXTsKCQkJCWhlYWRlcignTG9jYXRpb246Jy4kbG9jYXRpb24pOwoJCQkJZGllKCdSZWRpcmVjdGluZyB0byBIVFRQUy4uLicpOwoJCQkJc2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gdHJ1ZTsKCQkJCXJldHVybiB0cnVlOwoJCQl9CgkJfQoKCQlpZiAoT0lE'));
	@fwrite($fp, base64_decode('UExVU19FTkZPUkNFX1NTTCA9PSAyKSB7CgkJCS8vIEF1dG9tYXRpYyBTU0wgZGV0ZWN0aW9uCgoJCQlpZiAoJGFscmVhZHlfc3NsKSB7CgkJCQkvLyB3ZSBhcmUgYWxyZWFkeSBvbiBIVFRQUwoJCQkJc2V0Y29va2llKCdTU0xfQ0hFQ0snLCAnMScsIDAsICRjb29r'));
	@fwrite($fp, base64_decode('aWVfcGF0aCwgJycsIGZhbHNlLCB0cnVlKTsKCQkJCXNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZSA9IHRydWU7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfSBlbHNlIHsKCQkJCWlmIChpc3NldCgkX0NPT0tJRVsnU1NMX0NIRUNLJ10pKSB7CgkJCQkJLy8gV2UgYWxyZWFk'));
	@fwrite($fp, base64_decode('eSBoYWQgdGhlIEhUVFBTIGRldGVjdGlvbiBkb25lIGJlZm9yZS4KCQkJCQlpZiAoJF9DT09LSUVbJ1NTTF9DSEVDSyddKSB7CgkJCQkJCS8vIEhUVFBTIHdhcyBkZXRlY3RlZCBiZWZvcmUsIGJ1dCB3ZSBhcmUgSFRUUC4gUmVkaXJlY3Qgbm93CgkJCQkJCSRsb2Nh'));
	@fwrite($fp, base64_decode('dGlvbiA9ICdodHRwczovLycgLiAkX1NFUlZFUlsnSFRUUF9IT1NUJ10gLiAkX1NFUlZFUlsnUkVRVUVTVF9VUkknXTsKCQkJCQkJaGVhZGVyKCdMb2NhdGlvbjonLiRsb2NhdGlvbik7CgkJCQkJCWRpZSgnUmVkaXJlY3RpbmcgdG8gSFRUUFMuLi4nKTsKCQkJCQkJ'));
	@fwrite($fp, base64_decode('c2VsZjo6JHNzbEF2YWlsYWJsZUNhY2hlID0gdHJ1ZTsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gTm8gSFRUUFMgYXZhaWxhYmxlLiBEbyBub3RoaW5nLgoJCQkJCQlzZWxmOjokc3NsQXZhaWxhYmxlQ2FjaGUgPSBmYWxzZTsKCQkJ'));
	@fwrite($fp, base64_decode('CQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJLy8gVGhpcyBpcyBvdXIgZmlyc3QgY2hlY2sgKG9yIHRoZSBicm93c2VyIGRpZG4ndCBhY2NlcHQgdGhlIFNTTF9DSEVDSyBjb29raWUpCgkJCQkJaWYgKEBmc29ja29wZW4oJF9TRVJWRVJb'));
	@fwrite($fp, base64_decode('J0hUVFBfSE9TVCddLCAkc3NsX3BvcnQsICRlcnJubywgJGVycnN0ciwgJHRpbWVvdXQpKSB7CgkJCQkJCS8vIEhUVFBTIGRldGVjdGVkLiBSZWRpcmVjdCBub3csIGFuZCByZW1lbWJlciB0aGF0IHdlIGhhZCBkZXRlY3RlZCBIVFRQUwoJCQkJCQlzZXRjb29raWUo'));
	@fwrite($fp, base64_decode('J1NTTF9DSEVDSycsICcxJywgMCwgJGNvb2tpZV9wYXRoLCAnJywgZmFsc2UsIHRydWUpOwoJCQkJCQkkbG9jYXRpb24gPSAnaHR0cHM6Ly8nIC4gJF9TRVJWRVJbJ0hUVFBfSE9TVCddIC4gJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ107CgkJCQkJCWhlYWRlcignTG9j'));
	@fwrite($fp, base64_decode('YXRpb246Jy4kbG9jYXRpb24pOwoJCQkJCQlkaWUoJ1JlZGlyZWN0aW5nIHRvIEhUVFBTLi4uJyk7CgkJCQkJCXNlbGY6OiRzc2xBdmFpbGFibGVDYWNoZSA9IHRydWU7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0gZWxzZSB7CgkJCQkJCS8vIE5vIEhUVFBTIGRl'));
	@fwrite($fp, base64_decode('dGVjdGVkLiBEbyBub3RoaW5nLCBhbmQgbmV4dCB0aW1lLCBkb24ndCB0cnkgdG8gZGV0ZWN0IEhUVFBTIGFnYWluLgoJCQkJCQlzZXRjb29raWUoJ1NTTF9DSEVDSycsICcwJywgMCwgJGNvb2tpZV9wYXRoLCAnJywgZmFsc2UsIHRydWUpOwoJCQkJCQlzZWxmOjok'));
	@fwrite($fp, base64_decode('c3NsQXZhaWxhYmxlQ2FjaGUgPSBmYWxzZTsKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHdlYnBhdGgoJHRhcmdldCkgewoJCSRkaXIgPSBfX0RJUl9fOwoJCSRkaXIgPSBkaXJuYW1l'));
	@fwrite($fp, base64_decode('KCRkaXIpOwoJCSRkaXIgPSBkaXJuYW1lKCRkaXIpOwoJCSR0YXJnZXQgPSBzdWJzdHIoJHRhcmdldCwgc3RybGVuKCRkaXIpKzEsIHN0cmxlbigkdGFyZ2V0KS1zdHJsZW4oJGRpciktMSk7CgkJaWYgKCR0YXJnZXQgIT0gJycpIHsKCQkJJHRhcmdldCA9IHN0cl9y'));
	@fwrite($fp, base64_decode('ZXBsYWNlKCdcXCcsJy8nLCR0YXJnZXQpLicvJzsKCQl9CgkJcmV0dXJuICR0YXJnZXQ7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplus.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplus.class.php');
	writefile_2();
	if (!is_file('includes/classes/OIDplus.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplus.class.php');
	} else if (sha1_file('includes/classes/OIDplus.class.php') != '14ecb15cf4bf4b12e9a0be33d3b01a7330c04024') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplus.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplus.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplus.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplus.class.php') !== '14ecb15cf4bf4b12e9a0be33d3b01a7330c04024') {
		if (@sha1_file('includes/classes/OIDplus.class.php') !== 'a999b51a067471d2c52bbccb8ee31177fdf618ad') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplus.class.php');
			$tmp = pathinfo('includes/classes/OIDplus.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplus.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplus.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('includes/classes/OIDplus.class.php') !== '14ecb15cf4bf4b12e9a0be33d3b01a7330c04024') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplus.class.php');
		}
	}
}

// Files different: includes/db_updates/update200.inc.php
function writefile_3() {
	@$fp = fopen('includes/db_updates/update200.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHANCg0KLyoNCiAqIE9JRHBsdXMgMi4wDQogKiBDb3B5cmlnaHQgMjAyMCBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQNCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsN'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGlj'));
	@fwrite($fp, base64_decode('ZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAi'));
	@fwrite($fp, base64_decode('QVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVy'));
	@fwrite($fp, base64_decode('bWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqLw0KDQovLyBEQVRBQkFTRSBVUERBVEUgMjAwIC0+IDIwMQ0KLy8gVGhpcyBzY3JpcHQgd2lsbCBiZSBpbmNsdWRlZCBieSBPSURwbHVzRGF0YWJhc2VQbHVnaW4uY2xhc3Mu'));
	@fwrite($fp, base64_decode('cGhwIGluc2lkZSBmdW5jdGlvbiBhZnRlckNvbm5lY3QoKS4NCi8vIFBhcmFtZXRlcnM6ICR0aGlzIGlzIHRoZSBPSURwbHVzRGF0YWJhc2VQbHVnaW4gY2xhc3MNCi8vICAgICAgICAgICAgICR2ZXJzaW9uIGlzIHRoZSBjdXJyZW50IHZlcnNpb24gKHRoaXMgc2Ny'));
	@fwrite($fp, base64_decode('aXB0IE1VU1QgaW5jcmVhc2UgdGhlIG51bWJlciBieSAxIHdoZW4gaXQgaXMgZG9uZSkNCg0KaWYgKCFkZWZpbmVkKCdJTl9PSURQTFVTJykpIGRpZSgpOw0KDQppZiAoIWlzc2V0KCR2ZXJzaW9uKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiQXJndW1lbnQgJ3ZlcnNp'));
	@fwrite($fp, base64_decode('b24nIGlzIG1pc3Npbmc7IHdhcyB0aGUgZmlsZSBpbmNsdWRlZCBpbiBhIHdyb25nIHdheT8iKTsNCmlmICghaXNzZXQoJHRoaXMpKSAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCJBcmd1bWVudCAndGhpcycgaXMgbWlzc2luZzsgd2FzIHRoZSBmaWxlIGluY2x1ZGVk'));
	@fwrite($fp, base64_decode('IGluIGEgd3Jvbmcgd2F5PyIpOw0KDQokdGhpcy0+dHJhbnNhY3Rpb25fYmVnaW4oKTsNCg0KJHRoaXMtPnF1ZXJ5KCJBTFRFUiBUQUJMRSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyBBREQgY29tbWVudCB2YXJjaGFyKDI1NSkgTlVMTCIpOw0K'));
	@fwrite($fp, base64_decode('DQokdmVyc2lvbiA9IDIwMTsNCiR0aGlzLT5xdWVyeSgiVVBEQVRFICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgU0VUIHZhbHVlID0gPyBXSEVSRSBuYW1lID0gJ2RhdGFiYXNlX3ZlcnNpb24nIiwgYXJyYXkoJHZlcnNpb24pKTsNCg0KJHRoaXMt'));
	@fwrite($fp, base64_decode('PnRyYW5zYWN0aW9uX2NvbW1pdCgpOw0K'));
	@fclose($fp);
}
if (!is_file('includes/db_updates/update200.inc.php')) {
	warn('File has vanished! Will re-create it: includes/db_updates/update200.inc.php');
	writefile_3();
	if (!is_file('includes/db_updates/update200.inc.php')) {
		warn('File cannot be created (not existing): includes/db_updates/update200.inc.php');
	} else if (sha1_file('includes/db_updates/update200.inc.php') != '5d815ced72572b6b35ab03b6b789dacae7e6179d') {
		warn('File cannot be created (checksum mismatch): includes/db_updates/update200.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/db_updates/update200.inc.php', 0644)) {
		warn('Could not change file permissions of includes/db_updates/update200.inc.php');
	}
} else {
	if (@sha1_file('includes/db_updates/update200.inc.php') !== '5d815ced72572b6b35ab03b6b789dacae7e6179d') {
		if (@sha1_file('includes/db_updates/update200.inc.php') !== 'bde1e1d66bbd7e9141e8ca08798a547f343ceefe') {
			warn('File was modified. Will overwrite the changes now: includes/db_updates/update200.inc.php');
			$tmp = pathinfo('includes/db_updates/update200.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/db_updates/update200.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/db_updates/update200.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('includes/db_updates/update200.inc.php') !== '5d815ced72572b6b35ab03b6b789dacae7e6179d') {
			warn('File cannot be written (checksum mismatch): includes/db_updates/update200.inc.php');
		}
	}
}

// Files different: includes/db_updates/update201.inc.php
function writefile_4() {
	@$fp = fopen('includes/db_updates/update201.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHANCg0KLyoNCiAqIE9JRHBsdXMgMi4wDQogKiBDb3B5cmlnaHQgMjAyMCBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQNCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsN'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGlj'));
	@fwrite($fp, base64_decode('ZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAi'));
	@fwrite($fp, base64_decode('QVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVy'));
	@fwrite($fp, base64_decode('bWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqLw0KDQovLyBEQVRBQkFTRSBVUERBVEUgMjAxIC0+IDIwMg0KLy8gVGhpcyBzY3JpcHQgd2lsbCBiZSBpbmNsdWRlZCBieSBPSURwbHVzRGF0YWJhc2VQbHVnaW4uY2xhc3Mu'));
	@fwrite($fp, base64_decode('cGhwIGluc2lkZSBmdW5jdGlvbiBhZnRlckNvbm5lY3QoKS4NCi8vIFBhcmFtZXRlcnM6ICR0aGlzIGlzIHRoZSBPSURwbHVzRGF0YWJhc2VQbHVnaW4gY2xhc3MNCi8vICAgICAgICAgICAgICR2ZXJzaW9uIGlzIHRoZSBjdXJyZW50IHZlcnNpb24gKHRoaXMgc2Ny'));
	@fwrite($fp, base64_decode('aXB0IE1VU1QgaW5jcmVhc2UgdGhlIG51bWJlciBieSAxIHdoZW4gaXQgaXMgZG9uZSkNCg0KJHRoaXMtPnRyYW5zYWN0aW9uX2JlZ2luKCk7DQoNCmlmICghaXNzZXQoJHZlcnNpb24pKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJBcmd1bWVudCAndmVyc2lvbicgaXMg'));
	@fwrite($fp, base64_decode('bWlzc2luZzsgd2FzIHRoZSBmaWxlIGluY2x1ZGVkIGluIGEgd3Jvbmcgd2F5PyIpOw0KaWYgKCFpc3NldCgkdGhpcykpICAgIHRocm93IG5ldyBFeGNlcHRpb24oIkFyZ3VtZW50ICd0aGlzJyBpcyBtaXNzaW5nOyB3YXMgdGhlIGZpbGUgaW5jbHVkZWQgaW4gYSB3'));
	@fwrite($fp, base64_decode('cm9uZyB3YXk/Iik7DQoNCi8vIENoYW5nZSBiaXQoMSkgdHlwZXMgdG8gYm9vbGVhbi90aW55aW50KDEpDQppZiAoJHRoaXMtPnNsYW5nKCkgPT0gJ3Bnc3FsJykgew0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVgu'));
	@fwrite($fp, base64_decode('ImNvbmZpZyAgYWx0ZXIgcHJvdGVjdGVkICAgIGRyb3AgZGVmYXVsdCIpOw0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgYWx0ZXIgcHJvdGVjdGVkICAgIHR5cGUgYm9vbGVhbiB1c2luZyBnZXRf'));
	@fwrite($fp, base64_decode('Yml0KHByb3RlY3RlZCAgICwwKTo6Ym9vbGVhbiIpOw0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgYWx0ZXIgcHJvdGVjdGVkICAgIHNldCBkZWZhdWx0IGZhbHNlIik7DQoNCgkkdGhpcy0+cXVl'));
	@fwrite($fp, base64_decode('cnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgIGFsdGVyIHZpc2libGUgICAgICBkcm9wIGRlZmF1bHQiKTsNCgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcg'));
	@fwrite($fp, base64_decode('IGFsdGVyIHZpc2libGUgICAgICB0eXBlIGJvb2xlYW4gdXNpbmcgZ2V0X2JpdCh2aXNpYmxlICAgICAsMCk6OmJvb2xlYW4iKTsNCgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJjb25maWcgIGFsdGVyIHZpc2li'));
	@fwrite($fp, base64_decode('bGUgICAgICBzZXQgZGVmYXVsdCBmYWxzZSIpOw0KDQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkICBhbHRlciBzdGFuZGFyZGl6ZWQgZHJvcCBkZWZhdWx0Iik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRl'));
	@fwrite($fp, base64_decode('ciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkICBhbHRlciBzdGFuZGFyZGl6ZWQgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQoc3RhbmRhcmRpemVkLDApOjpib29sZWFuIik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9J'));
	@fwrite($fp, base64_decode('RFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkICBhbHRlciBzdGFuZGFyZGl6ZWQgc2V0IGRlZmF1bHQgZmFsc2UiKTsNCg0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAgYWx0ZXIgd2VsbF9r'));
	@fwrite($fp, base64_decode('bm93biAgIGRyb3AgZGVmYXVsdCIpOw0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAgYWx0ZXIgd2VsbF9rbm93biAgIHR5cGUgYm9vbGVhbiB1c2luZyBnZXRfYml0KHdlbGxfa25vd24gICwwKTo6'));
	@fwrite($fp, base64_decode('Ym9vbGVhbiIpOw0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAgYWx0ZXIgd2VsbF9rbm93biAgIHNldCBkZWZhdWx0IGZhbHNlIik7DQoNCgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lE'));
	@fwrite($fp, base64_decode('UExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgICAgIGFsdGVyIGxvbmdhcmMgICAgICBkcm9wIGRlZmF1bHQiKTsNCgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgICAgIGFsdGVyIGxvbmdhcmMgICAgICB0'));
	@fwrite($fp, base64_decode('eXBlIGJvb2xlYW4gdXNpbmcgZ2V0X2JpdChsb25nYXJjICAgICAsMCk6OmJvb2xlYW4iKTsNCgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgICAgIGFsdGVyIGxvbmdhcmMgICAgICBzZXQgZGVmYXVsdCBm'));
	@fwrite($fp, base64_decode('YWxzZSIpOw0KDQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBhbHRlciB3ZWxsX2tub3duICAgZHJvcCBkZWZhdWx0Iik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFC'));
	@fwrite($fp, base64_decode('TEVOQU1FX1BSRUZJWC4iaXJpICAgICBhbHRlciB3ZWxsX2tub3duICAgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQod2VsbF9rbm93biAgLDApOjpib29sZWFuIik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJ'));
	@fwrite($fp, base64_decode('WC4iaXJpICAgICBhbHRlciB3ZWxsX2tub3duICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsNCg0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgYWx0ZXIgY29uZmlkZW50aWFsIHR5cGUgYm9vbGVhbiB1'));
	@fwrite($fp, base64_decode('c2luZyBnZXRfYml0KGNvbmZpZGVudGlhbCwwKTo6Ym9vbGVhbiIpOw0KDQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgICAgICBhbHRlciBwcml2YWN5ICAgICAgZHJvcCBkZWZhdWx0Iik7DQoJJHRoaXMt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgICAgICBhbHRlciBwcml2YWN5ICAgICAgdHlwZSBib29sZWFuIHVzaW5nIGdldF9iaXQocHJpdmFjeSAgICAgLDApOjpib29sZWFuIik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRl'));
	@fwrite($fp, base64_decode('ciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgICAgICBhbHRlciBwcml2YWN5ICAgICAgc2V0IGRlZmF1bHQgZmFsc2UiKTsNCn0gZWxzZSBpZiAoJHRoaXMtPnNsYW5nKCkgPT0gJ215c3FsJykgew0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFi'));
	@fwrite($fp, base64_decode('bGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImNvbmZpZyAgbW9kaWZ5IHByb3RlY3RlZCAgICBib29sZWFuIik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnICBtb2RpZnkgdmlzaWJsZSAg'));
	@fwrite($fp, base64_decode('ICAgIGJvb2xlYW4iKTsNCgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgIG1vZGlmeSBzdGFuZGFyZGl6ZWQgYm9vbGVhbiIpOw0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RB'));
	@fwrite($fp, base64_decode('QkxFTkFNRV9QUkVGSVguImFzbjFpZCAgbW9kaWZ5IHdlbGxfa25vd24gICBib29sZWFuIik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgICBtb2RpZnkgbG9uZ2FyYyAgICAgIGJvb2xlYW4iKTsN'));
	@fwrite($fp, base64_decode('CgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgICAgIG1vZGlmeSB3ZWxsX2tub3duICAgYm9vbGVhbiIpOw0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVgu'));
	@fwrite($fp, base64_decode('Im9iamVjdHMgbW9kaWZ5IGNvbmZpZGVudGlhbCBib29sZWFuIik7DQoJJHRoaXMtPnF1ZXJ5KCJhbHRlciB0YWJsZSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4icmEgICAgICBtb2RpZnkgcHJpdmFjeSAgICAgIGJvb2xlYW4iKTsNCn0NCg0KLy8gUmVuYW1l'));
	@fwrite($fp, base64_decode('IGxvZ191c2VyLnVzZXIgdG8gbG9nX3VzZXIudXNlcm5hbWUsIHNpbmNlIHVzZXIgaXMgYSBrZXl3b3JkIGluIFBvc3RncmVTUUwgYW5kIE1TU1FMDQppZiAoJHRoaXMtPnNsYW5nKCkgPT0gJ3Bnc3FsJykgew0KCSR0aGlzLT5xdWVyeSgiYWx0ZXIgdGFibGUgIi5P'));
	@fwrite($fp, base64_decode('SURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImxvZ191c2VyIHJlbmFtZSBjb2x1bW4gXCJ1c2VyXCIgdG8gXCJ1c2VybmFtZVwiIik7DQp9IGVsc2UgaWYgKCR0aGlzLT5zbGFuZygpID09ICdteXNxbCcpIHsNCgkkdGhpcy0+cXVlcnkoImFsdGVyIHRhYmxlICIuT0lE'));
	@fwrite($fp, base64_decode('UExVU19UQUJMRU5BTUVfUFJFRklYLiJsb2dfdXNlciBjaGFuZ2UgYHVzZXJgIGB1c2VybmFtZWAgdmFyY2hhcigyNTUpIE5PVCBOVUxMIik7DQp9DQoNCiR2ZXJzaW9uID0gMjAyOw0KJHRoaXMtPnF1ZXJ5KCJVUERBVEUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVG'));
	@fwrite($fp, base64_decode('SVguImNvbmZpZyBTRVQgdmFsdWUgPSA/IFdIRVJFIG5hbWUgPSAnZGF0YWJhc2VfdmVyc2lvbiciLCBhcnJheSgkdmVyc2lvbikpOw0KDQokdGhpcy0+dHJhbnNhY3Rpb25fY29tbWl0KCk7DQo='));
	@fclose($fp);
}
if (!is_file('includes/db_updates/update201.inc.php')) {
	warn('File has vanished! Will re-create it: includes/db_updates/update201.inc.php');
	writefile_4();
	if (!is_file('includes/db_updates/update201.inc.php')) {
		warn('File cannot be created (not existing): includes/db_updates/update201.inc.php');
	} else if (sha1_file('includes/db_updates/update201.inc.php') != '65d7b48ff81f3609e795e1f168eb7e9cf1371e9d') {
		warn('File cannot be created (checksum mismatch): includes/db_updates/update201.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/db_updates/update201.inc.php', 0644)) {
		warn('Could not change file permissions of includes/db_updates/update201.inc.php');
	}
} else {
	if (@sha1_file('includes/db_updates/update201.inc.php') !== '65d7b48ff81f3609e795e1f168eb7e9cf1371e9d') {
		if (@sha1_file('includes/db_updates/update201.inc.php') !== 'dcce07764560a07e5cf7d5357d6ba3212175c5f6') {
			warn('File was modified. Will overwrite the changes now: includes/db_updates/update201.inc.php');
			$tmp = pathinfo('includes/db_updates/update201.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/db_updates/update201.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/db_updates/update201.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('includes/db_updates/update201.inc.php') !== '65d7b48ff81f3609e795e1f168eb7e9cf1371e9d') {
			warn('File cannot be written (checksum mismatch): includes/db_updates/update201.inc.php');
		}
	}
}

// Files different: includes/db_updates/update202.inc.php
function writefile_5() {
	@$fp = fopen('includes/db_updates/update202.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHANCg0KLyoNCiAqIE9JRHBsdXMgMi4wDQogKiBDb3B5cmlnaHQgMjAyMCBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQNCiAqDQogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsN'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4NCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdA0KICoNCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGlj'));
	@fwrite($fp, base64_decode('ZW5zZXMvTElDRU5TRS0yLjANCiAqDQogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlDQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAi'));
	@fwrite($fp, base64_decode('QVMgSVMiIEJBU0lTLA0KICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuDQogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVy'));
	@fwrite($fp, base64_decode('bWlzc2lvbnMgYW5kDQogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4NCiAqLw0KDQovLyBEQVRBQkFTRSBVUERBVEUgMjAyIC0+IDIwMw0KLy8gVGhpcyBzY3JpcHQgd2lsbCBiZSBpbmNsdWRlZCBieSBPSURwbHVzRGF0YWJhc2VQbHVnaW4uY2xhc3Mu'));
	@fwrite($fp, base64_decode('cGhwIGluc2lkZSBmdW5jdGlvbiBhZnRlckNvbm5lY3QoKS4NCi8vIFBhcmFtZXRlcnM6ICR0aGlzIGlzIHRoZSBPSURwbHVzRGF0YWJhc2VQbHVnaW4gY2xhc3MNCi8vICAgICAgICAgICAgICR2ZXJzaW9uIGlzIHRoZSBjdXJyZW50IHZlcnNpb24gKHRoaXMgc2Ny'));
	@fwrite($fp, base64_decode('aXB0IE1VU1QgaW5jcmVhc2UgdGhlIG51bWJlciBieSAxIHdoZW4gaXQgaXMgZG9uZSkNCg0KaWYgKCFpc3NldCgkdmVyc2lvbikpIHRocm93IG5ldyBFeGNlcHRpb24oIkFyZ3VtZW50ICd2ZXJzaW9uJyBpcyBtaXNzaW5nOyB3YXMgdGhlIGZpbGUgaW5jbHVkZWQg'));
	@fwrite($fp, base64_decode('aW4gYSB3cm9uZyB3YXk/Iik7DQppZiAoIWlzc2V0KCR0aGlzKSkgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbigiQXJndW1lbnQgJ3RoaXMnIGlzIG1pc3Npbmc7IHdhcyB0aGUgZmlsZSBpbmNsdWRlZCBpbiBhIHdyb25nIHdheT8iKTsNCg0KJHRoaXMtPnRyYW5zYWN0'));
	@fwrite($fp, base64_decode('aW9uX2JlZ2luKCk7DQoNCmlmICgkdGhpcy0+c2xhbmcoKSA9PSAnbXNzcWwnKSB7DQoJJHNxbCA9ICJDUkVBVEUgRlVOQ1RJT04gW2Rib10uW2dldE9pZEFyY10gKEBzdHJMaXN0IHZhcmNoYXIoNTEyKSwgQG1heEFyY0xlbiBpbnQsIEBvY2N1cmVuY2UgaW50KQ0K'));
	@fwrite($fp, base64_decode('CVJFVFVSTlMgdmFyY2hhcig1MTIpIEFTDQoJQkVHSU4gDQoJCURFQ0xBUkUgQGludFBvcyBpbnQNCg0KCQlERUNMQVJFIEBjbnQgaW50DQoJCVNFVCBAY250ID0gMA0KDQoJCWlmIFNVQlNUUklORyhAc3RyTGlzdCwgMSwgNCkgPD4gJ29pZDonDQoJCWJlZ2luDQoJ'));
	@fwrite($fp, base64_decode('CQlSRVRVUk4gJycNCgkJZW5kDQoNCgkJU0VUIEBzdHJMaXN0ID0gUklHSFQoQHN0ckxpc3QsIExFTihAc3RyTGlzdCktNCkNCg0KCQlXSElMRSBDSEFSSU5ERVgoJy4nLEBzdHJMaXN0KSA+IDANCgkJQkVHSU4NCgkJCVNFVCBAaW50UG9zPUNIQVJJTkRFWCgnLics'));
	@fwrite($fp, base64_decode('QHN0ckxpc3QpIA0KCQkJU0VUIEBjbnQgPSBAY250ICsgMQ0KCQkJSUYgQGNudCA9IEBvY2N1cmVuY2UNCgkJCUJFR0lODQoJCQkJU0VUIEBzdHJMaXN0ID0gTEVGVChAc3RyTGlzdCxAaW50UG9zLTEpDQoJCQkJUkVUVVJOIFJFUExJQ0FURSgnMCcsIEBtYXhBcmNM'));
	@fwrite($fp, base64_decode('ZW4tbGVuKEBzdHJMaXN0KSkgKyBAc3RyTGlzdA0KCQkJRU5EDQoJCQlTRVQgQHN0ckxpc3QgPSBSSUdIVChAc3RyTGlzdCwgTEVOKEBzdHJMaXN0KS1AaW50UG9zKQ0KCQlFTkQNCgkJSUYgTEVOKEBzdHJMaXN0KSA+IDANCgkJQkVHSU4NCgkJCVNFVCBAY250ID0g'));
	@fwrite($fp, base64_decode('QGNudCArIDENCgkJCUlGIEBjbnQgPSBAb2NjdXJlbmNlDQoJCQlCRUdJTg0KCQkJCVJFVFVSTiBSRVBMSUNBVEUoJzAnLCBAbWF4QXJjTGVuLWxlbihAc3RyTGlzdCkpICsgQHN0ckxpc3QNCgkJCUVORA0KCQlFTkQNCg0KCQlSRVRVUk4gUkVQTElDQVRFKCcwJywg'));
	@fwrite($fp, base64_decode('QG1heEFyY0xlbikNCglFTkQiOw0KCSR0aGlzLT5xdWVyeSgkc3FsKTsNCn0NCg0KJHZlcnNpb24gPSAyMDM7DQokdGhpcy0+cXVlcnkoIlVQREFURSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iY29uZmlnIFNFVCB2YWx1ZSA9ID8gV0hFUkUgbmFtZSA9ICdk'));
	@fwrite($fp, base64_decode('YXRhYmFzZV92ZXJzaW9uJyIsIGFycmF5KCR2ZXJzaW9uKSk7DQoNCiR0aGlzLT50cmFuc2FjdGlvbl9jb21taXQoKTsNCg=='));
	@fclose($fp);
}
if (!is_file('includes/db_updates/update202.inc.php')) {
	warn('File has vanished! Will re-create it: includes/db_updates/update202.inc.php');
	writefile_5();
	if (!is_file('includes/db_updates/update202.inc.php')) {
		warn('File cannot be created (not existing): includes/db_updates/update202.inc.php');
	} else if (sha1_file('includes/db_updates/update202.inc.php') != '775c82c6f07d9774b7cf5a6b6de467aad2dd9ea3') {
		warn('File cannot be created (checksum mismatch): includes/db_updates/update202.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/db_updates/update202.inc.php', 0644)) {
		warn('Could not change file permissions of includes/db_updates/update202.inc.php');
	}
} else {
	if (@sha1_file('includes/db_updates/update202.inc.php') !== '775c82c6f07d9774b7cf5a6b6de467aad2dd9ea3') {
		if (@sha1_file('includes/db_updates/update202.inc.php') !== 'bbb2d5b74c483cff421d43a597013e0731323579') {
			warn('File was modified. Will overwrite the changes now: includes/db_updates/update202.inc.php');
			$tmp = pathinfo('includes/db_updates/update202.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/db_updates/update202.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/db_updates/update202.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_5();
		if (@sha1_file('includes/db_updates/update202.inc.php') !== '775c82c6f07d9774b7cf5a6b6de467aad2dd9ea3') {
			warn('File cannot be written (checksum mismatch): includes/db_updates/update202.inc.php');
		}
	}
}

// Files different: plugins/database/mysqli/plugin.inc.php
function writefile_6() {
	@$fp = fopen('plugins/database/mysqli/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmRlZmluZSgnT0lEUExVU19NWVNRTF9RVUVSWUxPRycsIGZhbHNlKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbk15U1FMaSBl'));
	@fwrite($fp, base64_decode('eHRlbmRzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbiB7Cglwcml2YXRlICRteXNxbGk7Cglwcml2YXRlICRsYXN0X3F1ZXJ5OwoJcHJpdmF0ZSAkcHJlcGFyZV9jYWNoZSA9IGFycmF5KCk7CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRQbHVnaW5JbmZvcm1hdGlv'));
	@fwrite($fp, base64_decode('bigpOiBhcnJheSB7CgkJJG91dCA9IGFycmF5KCk7CgkJJG91dFsnbmFtZSddID0gJ015U1FMaSc7CgkJJG91dFsnYXV0aG9yJ10gPSAnVmlhVGhpbmtTb2Z0JzsKCQkkb3V0Wyd2ZXJzaW9uJ10gPSBudWxsOwoJCSRvdXRbJ2Rlc2NyaXB0aW9uSFRNTCddID0gbnVs'));
	@fwrite($fp, base64_decode('bDsKCQlyZXR1cm4gJG91dDsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG5hbWUoKTogc3RyaW5nIHsKCQlyZXR1cm4gIk15U1FMIjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gcXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVs'));
	@fwrite($fp, base64_decode('bCk6IE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkJJHRoaXMtPmxhc3RfcXVlcnkgPSAkc3FsOwoJCWlmIChPSURQTFVTX01ZU1FMX1FVRVJZTE9HKSBmaWxlX3B1dF9jb250ZW50cyhfX0RJUl9fLiIvcXVlcnkubG9nIiwgIiRzcWwgPD09ICIuZ2V0X2NhbGxpbmdfZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24oKS4iXG4iLCBGSUxFX0FQUEVORCk7CgkJaWYgKGlzX251bGwoJHByZXBhcmVkX2FyZ3MpKSB7CgkJCSRyZXMgPSAkdGhpcy0+bXlzcWxpLT5xdWVyeSgkc3FsLCBNWVNRTElfU1RPUkVfUkVTVUxUKTsKCgkJCWlmICgkcmVzID09PSBmYWxzZSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('dGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRNeVNRTCgkcmVzKTsKCQkJfQoJCX0gZWxzZSB7CgkJCWlmICghaXNfYXJyYXkoJHByZXBh'));
	@fwrite($fp, base64_decode('cmVkX2FyZ3MpKSB7CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCIncHJlcGFyZWRfYXJncycgbXVzdCBiZSBlaXRoZXIgTlVMTCBvciBhbiBBUlJBWS4iKTsKCQkJfQoJCQkKCQkJZm9yZWFjaCAoJHByZXBhcmVkX2FyZ3MgYXMgJiR2YWx1ZSkgewoJCQkJLy8gTXlT'));
	@fwrite($fp, base64_decode('UUxpIGhhcyBwcm9ibGVtcyBjb252ZXJ0aW5nICJ0cnVlL2ZhbHNlIiB0byB0aGUgZGF0YSB0eXBlICJ0aW55aW50KDEpIgoJCQkJLy8gSXQgc2VlbXMgdG8gYmUgdGhlIHNhbWUgaXNzdWUgbGlrZSBpbiBQRE8gcmVwb3J0ZWQgMTQgeWVhcnMgYWdvIGF0IGh0dHBz'));
	@fwrite($fp, base64_decode('Oi8vYnVncy5waHAubmV0L2J1Zy5waHA/aWQ9NTcxNTcKCQkJCWlmIChpc19ib29sKCR2YWx1ZSkpICR2YWx1ZSA9ICR2YWx1ZSA/ICcxJyA6ICcwJzsKCQkJfQoJCQkKCQkJaWYgKGlzc2V0KCR0aGlzLT5wcmVwYXJlX2NhY2hlWyRzcWxdKSkgewoJCQkJJHBzID0g'));
	@fwrite($fp, base64_decode('JHRoaXMtPnByZXBhcmVfY2FjaGVbJHNxbF07CgkJCX0gZWxzZSB7CgkJCQkkcHMgPSAkdGhpcy0+bXlzcWxpLT5wcmVwYXJlKCRzcWwpOwoJCQkJaWYgKCEkcHMpIHsKCQkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAnQ2Fubm90IHByZXBh'));
	@fwrite($fp, base64_decode('cmUgc3RhdGVtZW50Jyk7CgkJCQl9CgkJCQkKCQkJCS8vIENhY2hpbmcgdGhlIHByZXBhcmVkIGlzIHZlcnkgcmlza3kKCQkJCS8vIEluIFBETyBhbmQgT0RCQyB3ZSBtYXkgbm90IGRvIGl0LCBiZWNhdXNlIGV4ZWN1dGUoKSB3aWxsCgkJCQkvLyBkZXN0cm95IHRo'));
	@fwrite($fp, base64_decode('ZSBleGlzdGluZyBjdXJzb3JzLgoJCQkJLy8gKHRlc3QgdGhpcyB3aXRoIC4vP2dvdG89b2lkJTNBMS4zLjYuMS40LjEuMzc1NTMuOC4zMjQ4ODE5MjI3NAoJCQkJLy8geW91IHdpbGwgc2VlIHRoYXQgMi45OTkgaXMgbWlzc2luZyBpbiB0aGUgdHJlZSkKCQkJCS8v'));
	@fwrite($fp, base64_decode('IEJ1dCAkcHMtPmdldF9yZXN1bHQoKSBzZWVtcyB0byAiY2xvbmUiIHRoZSBjdXJzb3IsCgkJCQkvLyBzbyB0aGF0ICRwcy0+ZXhlY3V0ZSBtYXkgYmUgY2FsbGVkIGEgc2Vjb25kIHRpbWU/IQoJCQkJLy8gSG93ZXZlciwgaXQgb25seSB3b3JrcyB3aXRoIG15c3Fs'));
	@fwrite($fp, base64_decode('bmQncyBnZXRfcmVzdWx0LAoJCQkJLy8gbm90IHdpdGggT0lEcGx1c1F1ZXJ5UmVzdWx0TXlTUUxOb05hdGl2ZURyaXZlcgoJCQkJaWYgKHNlbGY6Om5hdGl2ZURyaXZlckF2YWlsYWJsZSgpKSB7CgkJCQkJJHRoaXMtPnByZXBhcmVfY2FjaGVbJHNxbF0gPSAkcHM7'));
	@fwrite($fp, base64_decode('CgkJCQl9CgkJCX0KCgkJCXNlbGY6OmJpbmRfcGxhY2Vob2xkZXJfdmFycygkcHMsJHByZXBhcmVkX2FyZ3MpOwoJCQlpZiAoISRwcy0+ZXhlY3V0ZSgpKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkdGhpcy0+ZXJyb3IoKSk7CgkJ'));
	@fwrite($fp, base64_decode('CX0KCgkJCWlmIChzZWxmOjpuYXRpdmVEcml2ZXJBdmFpbGFibGUoKSkgewoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRNeVNRTCgkcHMtPmdldF9yZXN1bHQoKSk7CgkJCX0gZWxzZSB7CgkJCQlyZXR1cm4gbmV3IE9JRHBsdXNRdWVyeVJlc3VsdE15'));
	@fwrite($fp, base64_decode('U1FMTm9OYXRpdmVEcml2ZXIoJHBzKTsKCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5zZXJ0X2lkKCk6IGludCB7CgkJcmV0dXJuICR0aGlzLT5teXNxbGktPmluc2VydF9pZDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZXJyb3IoKTogc3RyaW5nIHsKCQly'));
	@fwrite($fp, base64_decode('ZXR1cm4gIWVtcHR5KCR0aGlzLT5teXNxbGktPmNvbm5lY3RfZXJyb3IpID8gJHRoaXMtPm15c3FsaS0+Y29ubmVjdF9lcnJvciA6ICR0aGlzLT5teXNxbGktPmVycm9yOwoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Nvbm5lY3QoKTogdm9pZCB7CgkJaWYgKE9J'));
	@fwrite($fp, base64_decode('RFBMVVNfTVlTUUxfUVVFUllMT0cpIGZpbGVfcHV0X2NvbnRlbnRzKCJxdWVyeS5sb2ciLCAnJyk7CgoJCS8vIFRyeSBjb25uZWN0aW5nIHRvIHRoZSBkYXRhYmFzZQoJCWxpc3QoJGhvc3RuYW1lLCRwb3J0KSA9IGV4cGxvZGUoJzonLCBPSURQTFVTX01ZU1FMX0hP'));
	@fwrite($fp, base64_decode('U1QuJzonLmluaV9nZXQoIm15c3FsaS5kZWZhdWx0X3BvcnQiKSk7CgkJJHRoaXMtPm15c3FsaSA9IEBuZXcgbXlzcWxpKCRob3N0bmFtZSwgT0lEUExVU19NWVNRTF9VU0VSTkFNRSwgYmFzZTY0X2RlY29kZShPSURQTFVTX01ZU1FMX1BBU1NXT1JEKSwgT0lEUExV'));
	@fwrite($fp, base64_decode('U19NWVNRTF9EQVRBQkFTRSwgJHBvcnQpOwoJCWlmICghZW1wdHkoJHRoaXMtPm15c3FsaS0+Y29ubmVjdF9lcnJvcikgfHwgKCR0aGlzLT5teXNxbGktPmNvbm5lY3RfZXJybm8gIT0gMCkpIHsKCQkJJG1lc3NhZ2UgPSAkdGhpcy0+ZXJyb3IoKTsKCQkJdGhyb3cg'));
	@fwrite($fp, base64_decode('bmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignQ29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2UgZmFpbGVkISAnLiRtZXNzYWdlKTsKCQl9CgoJCSR0aGlzLT5xdWVyeSgiU0VUIE5BTUVTICd1dGY4JyIpOwoJfQoKCXByb3RlY3RlZCBmdW5j'));
	@fwrite($fp, base64_decode('dGlvbiBkb0Rpc2Nvbm5lY3QoKTogdm9pZCB7CgkJJHRoaXMtPm15c3FsaS0+Y2xvc2UoKTsKCQkkdGhpcy0+bXlzcWxpID0gbnVsbDsKCX0KCglwcml2YXRlICRpbnRyYW5zYWN0aW9uID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2JlZ2lu'));
	@fwrite($fp, base64_decode('KCk6IHZvaWQgewoJCWlmICgkdGhpcy0+aW50cmFuc2FjdGlvbikgdGhyb3cgbmV3IEV4Y2VwdGlvbigiTmVzdGVkIHRyYW5zYWN0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGlzIGRhdGFiYXNlIHBsdWdpbi4iKTsKCQkkdGhpcy0+bXlzcWxpLT5hdXRvY29t'));
	@fwrite($fp, base64_decode('bWl0KHRydWUpOwoJCSR0aGlzLT5pbnRyYW5zYWN0aW9uID0gdHJ1ZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fY29tbWl0KCk6IHZvaWQgewoJCSR0aGlzLT5teXNxbGktPmNvbW1pdCgpOwoJCSR0aGlzLT5teXNxbGktPmF1dG9jb21taXQoZmFs'));
	@fwrite($fp, base64_decode('c2UpOwoJCSR0aGlzLT5pbnRyYW5zYWN0aW9uID0gZmFsc2U7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX3JvbGxiYWNrKCk6IHZvaWQgewoJCSR0aGlzLT5teXNxbGktPnJvbGxiYWNrKCk7CgkJJHRoaXMtPm15c3FsaS0+YXV0b2NvbW1pdChmYWxz'));
	@fwrite($fp, base64_decode('ZSk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIG5hdGl2ZURyaXZlckF2YWlsYWJsZSgpOiBib29sIHsKCQlyZXR1cm4gZnVuY3Rpb25fZXhpc3RzKCdteXNxbGlfZmV0Y2hfYWxsJyk7Cgl9CgoJcHJp'));
	@fwrite($fp, base64_decode('dmF0ZSBzdGF0aWMgZnVuY3Rpb24gYmluZF9wbGFjZWhvbGRlcl92YXJzKCYkc3RtdCwkcGFyYW1zKTogYm9vbCB7CgkJLy8gQ3JlZGl0IHRvOiBEYXZlIE1vcmdhbgoJCS8vIENvZGUgdGFrZW4gZnJvbTogaHR0cDovL3d3dy5kZXZtb3JnYW4uY29tL2Jsb2cvMjAw'));
	@fwrite($fp, base64_decode('OS8wMy8yNy9keWRsLXBhcnQtMy1keW5hbWljLWJpbmRpbmctd2l0aC1teXNxbGktcGhwLwoJCS8vICAgICAgICAgICAgICAgICAgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTcyMTkyMTQvaG93LXRvLWJpbmQtaW4tbXlzcWxpLWR5bmFtaWNh'));
	@fwrite($fp, base64_decode('bGx5CgkJaWYgKCRwYXJhbXMgIT0gbnVsbCkgewoJCQkkdHlwZXMgPSAnJzsgICAgICAgICAgICAgICAgICAgICAgICAvL2luaXRpYWwgc3Rpbmcgd2l0aCB0eXBlcwoJCQlmb3JlYWNoICgkcGFyYW1zIGFzICRwYXJhbSkgeyAgICAgICAgLy9mb3IgZWFjaCBlbGVt'));
	@fwrite($fp, base64_decode('ZW50LCBkZXRlcm1pbmUgdHlwZSBhbmQgYWRkCgkJCQlpZiAoaXNfaW50KCRwYXJhbSkpIHsKCQkJCQkkdHlwZXMgLj0gJ2knOyAgICAgICAgICAgICAgLy9pbnRlZ2VyCgkJCQl9IGVsc2VpZiAoaXNfZmxvYXQoJHBhcmFtKSkgewoJCQkJCSR0eXBlcyAuPSAnZCc7'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgICAvL2RvdWJsZQoJCQkJfSBlbHNlaWYgKGlzX3N0cmluZygkcGFyYW0pKSB7CgkJCQkJJHR5cGVzIC49ICdzJzsgICAgICAgICAgICAgIC8vc3RyaW5nCgkJCQl9IGVsc2UgewoJCQkJCSR0eXBlcyAuPSAnYic7ICAgICAgICAgICAgICAvL2Js'));
	@fwrite($fp, base64_decode('b2IgYW5kIHVua25vd24KCQkJCX0KCQkJfQoKCQkJJGJpbmRfbmFtZXMgPSBhcnJheSgpOwoJCQkkYmluZF9uYW1lc1tdID0gJHR5cGVzOyAgICAgICAgICAgICAvL2ZpcnN0IHBhcmFtIG5lZWRlZCBpcyB0aGUgdHlwZSBzdHJpbmcsIGUuZy46ICdpc3NzcycKCgkJ'));
	@fwrite($fp, base64_decode('CWZvciAoJGk9MDsgJGk8Y291bnQoJHBhcmFtcyk7JGkrKykgeyAgICAvL2dvIHRocm91Z2ggaW5jb21pbmcgcGFyYW1zIGFuZCBhZGRlZCBlbSB0byBhcnJheQoJCQkJJGJpbmRfbmFtZSA9ICdiaW5kJyAuICRpOyAgICAgICAvL2dpdmUgdGhlbSBhbiBhcmJpdHJh'));
	@fwrite($fp, base64_decode('cnkgbmFtZQoJCQkJJCRiaW5kX25hbWUgPSAkcGFyYW1zWyRpXTsgICAgICAvL2FkZCB0aGUgcGFyYW1ldGVyIHRvIHRoZSB2YXJpYWJsZSB2YXJpYWJsZQoJCQkJJGJpbmRfbmFtZXNbXSA9ICYkJGJpbmRfbmFtZTsgICAvL25vdyBhc3NvY2lhdGUgdGhlIHZhcmlh'));
	@fwrite($fp, base64_decode('YmxlIGFzIGFuIGVsZW1lbnQgaW4gYW4gYXJyYXkKCQkJfQoKCQkJLy9lcnJvcl9sb2coImJldHRlcl9teXNxbGkgaGFzIHBhcmFtcyAiLnByaW50X3IoJGJpbmRfbmFtZXMsIDEpKTsKCQkJLy9jYWxsIHRoZSBmdW5jdGlvbiBiaW5kX3BhcmFtIHdpdGggZHluYW1p'));
	@fwrite($fp, base64_decode('YyBwYXJhbXMKCQkJY2FsbF91c2VyX2Z1bmNfYXJyYXkoYXJyYXkoJHN0bXQsJ2JpbmRfcGFyYW0nKSwkYmluZF9uYW1lcyk7CgkJCXJldHVybiB0cnVlOwoJCX0gZWxzZSB7CgkJCXJldHVybiBmYWxzZTsKCQl9Cgl9Cn0KCmNsYXNzIE9JRHBsdXNRdWVyeVJlc3Vs'));
	@fwrite($fp, base64_decode('dE15U1FMIGV4dGVuZHMgT0lEcGx1c1F1ZXJ5UmVzdWx0IHsKCXByb3RlY3RlZCAkbm9fcmVzdWx0c2V0OwoJcHJvdGVjdGVkICRyZXM7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRyZXMpIHsKCQkkdGhpcy0+bm9fcmVzdWx0c2V0ID0gaXNfYm9vbCgk'));
	@fwrite($fp, base64_decode('cmVzKTsKCQkKCQlpZiAoISR0aGlzLT5ub19yZXN1bHRzZXQpIHsKCQkJJHRoaXMtPnJlcyA9ICRyZXM7CgkJfQoJfQoJCglwdWJsaWMgZnVuY3Rpb24gX19kZXN0cnVjdCgpIHsKCQlpZiAoJHRoaXMtPnJlcykgJHRoaXMtPnJlcy0+Y2xvc2UoKTsKCX0KCglwdWJs'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24gY29udGFpbnNSZXN1bHRTZXQoKTogYm9vbCB7CgkJcmV0dXJuICEkdGhpcy0+bm9fcmVzdWx0c2V0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBudW1fcm93cygpOiBpbnQgewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgRXhj'));
	@fwrite($fp, base64_decode('ZXB0aW9uKCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQlyZXR1cm4gJHRoaXMtPnJlcy0+bnVtX3Jvd3M7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNoX2FycmF5KCkvKjog'));
	@fwrite($fp, base64_decode('P2FycmF5Ki8gewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQlyZXR1cm4gJHRoaXMtPnJl'));
	@fwrite($fp, base64_decode('cy0+ZmV0Y2hfYXJyYXkoTVlTUUxJX0FTU09DKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZmV0Y2hfb2JqZWN0KCkvKjogP29iamVjdCovIHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5l'));
	@fwrite($fp, base64_decode('ZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgkJcmV0dXJuICR0aGlzLT5yZXMtPmZldGNoX29iamVjdCgic3RkQ2xhc3MiKTsKCX0KfQoKY2xhc3MgT0lEcGx1c1F1ZXJ5UmVzdWx0TXlTUUxOb05hdGl2ZURyaXZlciBl'));
	@fwrite($fp, base64_decode('eHRlbmRzIE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkvLyBCYXNlZCBvbiBodHRwczovL3d3dy5waHAubmV0L21hbnVhbC9kZS9teXNxbGktc3RtdC5nZXQtcmVzdWx0LnBocCMxMTMzOTgKCglwcm90ZWN0ZWQgJHN0bXQ7Cglwcm90ZWN0ZWQgJG5Db2xzOwoJcHJvdGVj'));
	@fwrite($fp, base64_decode('dGVkICRub19yZXN1bHRzZXQ7CgoJcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRzdG10KSB7CgkJJG1ldGFkYXRhID0gbXlzcWxpX3N0bXRfcmVzdWx0X21ldGFkYXRhKCRzdG10KTsKCgkJJHRoaXMtPm5vX3Jlc3VsdHNldCA9IGlzX2Jvb2woJG1ldGFkYXRh'));
	@fwrite($fp, base64_decode('KTsKCgkJaWYgKCEkdGhpcy0+bm9fcmVzdWx0c2V0KSB7CgkJCSR0aGlzLT5uQ29scyA9IG15c3FsaV9udW1fZmllbGRzKCRtZXRhZGF0YSk7CgkJCSR0aGlzLT5zdG10ID0gJHN0bXQ7CgoJCQlteXNxbGlfZnJlZV9yZXN1bHQoJG1ldGFkYXRhKTsKCQl9Cgl9CgoJ'));
	@fwrite($fp, base64_decode('cHVibGljIGZ1bmN0aW9uIGNvbnRhaW5zUmVzdWx0U2V0KCk6IGJvb2wgewoJCXJldHVybiAhJHRoaXMtPm5vX3Jlc3VsdHNldDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbnVtX3Jvd3MoKTogaW50IHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3'));
	@fwrite($fp, base64_decode('IEV4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgoJCSR0aGlzLT5zdG10LT5zdG9yZV9yZXN1bHQoKTsKCQlyZXR1cm4gJHRoaXMtPnN0bXQtPm51bV9yb3dzOwoJ'));
	@fwrite($fp, base64_decode('fQoKCXB1YmxpYyBmdW5jdGlvbiBmZXRjaF9hcnJheSgpLyo6ID9hcnJheSovIHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3Qg'));
	@fwrite($fp, base64_decode('YSBTRUxFQ1QgcXVlcnkpIik7CgoJCS8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNzUyODE1L215c3FsaS1nZXQtcmVzdWx0LWFsdGVybmF0aXZlICwgbW9kaWZpZWQKCQkkc3RtdCA9ICR0aGlzLT5zdG10OwoJCSRzdG10LT5zdG9yZV9y'));
	@fwrite($fp, base64_decode('ZXN1bHQoKTsKCQkkcmVzdWx0a2V5cyA9IGFycmF5KCk7CgkJJHRoaXNOYW1lID0gIiI7CgoJCWlmICgkc3RtdC0+bnVtX3Jvd3M9PTApIHJldHVybiBudWxsOwoKCQlmb3IgKCRpID0gMDsgJGkgPCAkc3RtdC0+bnVtX3Jvd3M7ICRpKyspIHsKCQkJJG1ldGFkYXRh'));
	@fwrite($fp, base64_decode('ID0gJHN0bXQtPnJlc3VsdF9tZXRhZGF0YSgpOwoJCQl3aGlsZSAoJGZpZWxkID0gJG1ldGFkYXRhLT5mZXRjaF9maWVsZCgpKSB7CgkJCQkkdGhpc05hbWUgPSAkZmllbGQtPm5hbWU7CgkJCQkkcmVzdWx0a2V5c1tdID0gJHRoaXNOYW1lOwoJCQl9CgkJfQoKCQkk'));
	@fwrite($fp, base64_decode('cmV0ID0gYXJyYXkoKTsKCQkkYXJncyA9IGFycmF5KCk7CgkJZm9yICgkaT0wOyAkaTwkdGhpcy0+bkNvbHM7ICRpKyspIHsKCQkJJHJldFskaV0gPSBOVUxMOwoJCQkkdGhlVmFsdWUgPSAkcmVzdWx0a2V5c1skaV07CgkJCSRyZXRbJHRoZVZhbHVlXSA9IE5VTEw7'));
	@fwrite($fp, base64_decode('IC8vIHdpbGwgYmUgb3ZlcndyaXR0ZW4gYnkgbXlzcWxpX3N0bXRfYmluZF9yZXN1bHQKCQkJJGFyZ3NbXSA9ICYkcmV0WyR0aGVWYWx1ZV07CgkJfQoJCWlmICghbXlzcWxpX3N0bXRfYmluZF9yZXN1bHQoJHRoaXMtPnN0bXQsIC4uLiRhcmdzKSkgewoJCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gbnVsbDsKCQl9CgoJCS8vIFRoaXMgc2hvdWxkIGFkdmFuY2UgdGhlICIkc3RtdCIgY3Vyc29yLgoJCWlmICghbXlzcWxpX3N0bXRfZmV0Y2goJHRoaXMtPnN0bXQpKSB7CgkJCXJldHVybiBudWxsOwoJCX0KCgkJLy8gUmV0dXJuIHRoZSBhcnJheSB3ZSBidWls'));
	@fwrite($fp, base64_decode('dC4KCQlyZXR1cm4gJHJldDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZmV0Y2hfb2JqZWN0KCkvKjogP29iamVjdCovIHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQg'));
	@fwrite($fp, base64_decode('c2V0IChpLmUuIGl0IHdhcyBub3QgYSBTRUxFQ1QgcXVlcnkpIik7CgoJCSRhcnkgPSAkdGhpcy0+ZmV0Y2hfYXJyYXkoKTsKCQlpZiAoISRhcnkpIHJldHVybiBudWxsOwoKCQkkb2JqID0gbmV3IHN0ZENsYXNzOwoJCWZvcmVhY2ggKCRhcnkgYXMgJG5hbWUgPT4g'));
	@fwrite($fp, base64_decode('JHZhbCkgewoJCQkkb2JqLT4kbmFtZSA9ICR2YWw7CgkJfQoJCXJldHVybiAkb2JqOwoJfQp9Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/database/mysqli/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/mysqli/plugin.inc.php');
	writefile_6();
	if (!is_file('plugins/database/mysqli/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/mysqli/plugin.inc.php');
	} else if (sha1_file('plugins/database/mysqli/plugin.inc.php') != 'b90d1ba50e700970243f84b2a8cde5fa86f1423b') {
		warn('File cannot be created (checksum mismatch): plugins/database/mysqli/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/mysqli/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/mysqli/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== 'b90d1ba50e700970243f84b2a8cde5fa86f1423b') {
		if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== '4ce597ec35bc89919f455fcb23fd3b7155470afc') {
			warn('File was modified. Will overwrite the changes now: plugins/database/mysqli/plugin.inc.php');
			$tmp = pathinfo('plugins/database/mysqli/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/mysqli/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/mysqli/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_6();
		if (@sha1_file('plugins/database/mysqli/plugin.inc.php') !== 'b90d1ba50e700970243f84b2a8cde5fa86f1423b') {
			warn('File cannot be written (checksum mismatch): plugins/database/mysqli/plugin.inc.php');
		}
	}
}

// Files different: plugins/database/odbc/plugin.inc.php
function writefile_7() {
	@$fp = fopen('plugins/database/odbc/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbk9EQkMgZXh0ZW5kcyBPSURwbHVzRGF0YWJhc2VQbHVnaW4gewoJcHJpdmF0ZSAkb2Ri'));
	@fwrite($fp, base64_decode('YzsKCXByaXZhdGUgJGxhc3RfcXVlcnk7CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBnZXRQbHVnaW5JbmZvcm1hdGlvbigpOiBhcnJheSB7CgkJJG91dCA9IGFycmF5KCk7CgkJJG91dFsnbmFtZSddID0gJ09EQkMnOwoJCSRvdXRbJ2F1dGhvciddID0gJ1ZpYVRo'));
	@fwrite($fp, base64_decode('aW5rU29mdCc7CgkJJG91dFsndmVyc2lvbiddID0gbnVsbDsKCQkkb3V0WydkZXNjcmlwdGlvbkhUTUwnXSA9IG51bGw7CgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBuYW1lKCk6IHN0cmluZyB7CgkJcmV0dXJuICJPREJDIjsKCX0K'));
	@fwrite($fp, base64_decode('CglwdWJsaWMgZnVuY3Rpb24gcXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkJJHRoaXMtPmxhc3RfcXVlcnkgPSAkc3FsOwoJCWlmIChpc19udWxsKCRwcmVwYXJlZF9hcmdzKSkg'));
	@fwrite($fp, base64_decode('ewoJCQkkcmVzID0gQG9kYmNfZXhlYygkdGhpcy0+b2RiYywgJHNxbCk7CgoJCQlpZiAoJHJlcyA9PT0gZmFsc2UpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzU1FMRXhjZXB0aW9uKCRzcWwsICR0aGlzLT5lcnJvcigpKTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBu'));
	@fwrite($fp, base64_decode('ZXcgT0lEcGx1c1F1ZXJ5UmVzdWx0T0RCQygkcmVzKTsKCQkJfQoJCX0gZWxzZSB7CgkJCS8vIFRFU1Q6IEVtdWxhdGUgdGhlIHByZXBhcmVkIHN0YXRlbWVudAoJCQkvKgoJCQlmb3JlYWNoICgkcHJlcGFyZWRfYXJncyBhcyAkYXJnKSB7CgkJCQkkbmVlZGxlID0g'));
	@fwrite($fp, base64_decode('Jz8nOwoJCQkJJHJlcGxhY2UgPSAiJyRhcmcnIjsgLy8gVE9ETzogdHlwZXMKCQkJCSRwb3MgPSBzdHJwb3MoJHNxbCwgJG5lZWRsZSk7CgkJCQlpZiAoJHBvcyAhPT0gZmFsc2UpIHsKCQkJCQkkc3FsID0gc3Vic3RyX3JlcGxhY2UoJHNxbCwgJHJlcGxhY2UsICRw'));
	@fwrite($fp, base64_decode('b3MsIHN0cmxlbigkbmVlZGxlKSk7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIE9JRHBsdXNRdWVyeVJlc3VsdE9EQkMoQG9kYmNfZXhlYygkdGhpcy0+b2RiYywgJHNxbCkpOwoJCQkqLwoJCQlpZiAoIWlzX2FycmF5KCRwcmVwYXJlZF9hcmdzKSkgewoJCQkJdGhyb3cg'));
	@fwrite($fp, base64_decode('bmV3IEV4Y2VwdGlvbigiJ3ByZXBhcmVkX2FyZ3MnIG11c3QgYmUgZWl0aGVyIE5VTEwgb3IgYW4gQVJSQVkuIik7CgkJCX0KCQkJCgkJCWZvcmVhY2ggKCRwcmVwYXJlZF9hcmdzIGFzICYkdmFsdWUpIHsKCQkJCS8vIE9EQkMvU1FMU2VydmVyIGhhcyBwcm9ibGVt'));
	@fwrite($fp, base64_decode('cyBjb252ZXJ0aW5nICJ0cnVlIiB0byB0aGUgZGF0YSB0eXBlICJiaXQiCgkJCQkvLyBFcnJvciAiSW52YWxpZCBjaGFyYWN0ZXIgdmFsdWUgZm9yIGNhc3Qgc3BlY2lmaWNhdGlvbiIKCQkJCWlmIChpc19ib29sKCR2YWx1ZSkpICR2YWx1ZSA9ICR2YWx1ZSA/ICcx'));
	@fwrite($fp, base64_decode('JyA6ICcwJzsKCQkJfQoJCQkKCQkJJHBzID0gQG9kYmNfcHJlcGFyZSgkdGhpcy0+b2RiYywgJHNxbCk7CgkJCWlmICghJHBzKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAnQ2Fubm90IHByZXBhcmUgc3RhdGVtZW50Jyk7CgkJCX0K'));
	@fwrite($fp, base64_decode('CgkJCWlmICghQG9kYmNfZXhlY3V0ZSgkcHMsICRwcmVwYXJlZF9hcmdzKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJCQl9CgkJCXJldHVybiBuZXcgT0lEcGx1c1F1ZXJ5UmVzdWx0T0RCQygkcHMp'));
	@fwrite($fp, base64_decode('OwoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5zZXJ0X2lkKCk6IGludCB7CgkJc3dpdGNoICgkdGhpcy0+c2xhbmcoKSkgewoJCQljYXNlICdteXNxbCc6CgkJCQkkcmVzID0gJHRoaXMtPnF1ZXJ5KCJTRUxFQ1QgTEFTVF9JTlNFUlRfSUQoKSBBUyBJRCIpOwoJ'));
	@fwrite($fp, base64_decode('CQkJJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCk7CgkJCQlyZXR1cm4gKGludCkkcm93WydJRCddOwoJCQljYXNlICdwZ3NxbCc6CgkJCQkkcmVzID0gJHRoaXMtPnF1ZXJ5KCJTRUxFQ1QgTEFTVFZBTCgpIEFTIElEIik7CgkJCQkkcm93ID0gJHJlcy0+ZmV0Y2hf'));
	@fwrite($fp, base64_decode('YXJyYXkoKTsKCQkJCXJldHVybiAoaW50KSRyb3dbJ0lEJ107CgkJCWNhc2UgJ21zc3FsJzoKCQkJCSRyZXMgPSAkdGhpcy0+cXVlcnkoIlNFTEVDVCBTQ09QRV9JREVOVElUWSgpIEFTIElEIik7CgkJCQkkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKTsKCQkJCXJl'));
	@fwrite($fp, base64_decode('dHVybiAoaW50KSRyb3dbJ0lEJ107CgkJCWRlZmF1bHQ6CgkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJDYW5ub3QgZGV0ZXJtaW5lIHRoZSBsYXN0IGluc2VydGVkIElEIGZvciB5b3VyIERCTVMuIFRoZSBEQk1TIGlzIHByb2JhYmx5IG5vdCBzdXBwb3J0ZWQuIik7'));
	@fwrite($fp, base64_decode('CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBlcnJvcigpOiBzdHJpbmcgewoJCXJldHVybiBvZGJjX2Vycm9ybXNnKCR0aGlzLT5vZGJjKTsKCX0KCglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9Db25uZWN0KCk6IHZvaWQgewoJCS8vIFRyeSBjb25uZWN0aW5nIHRvIHRo'));
	@fwrite($fp, base64_decode('ZSBkYXRhYmFzZQoJCSR0aGlzLT5vZGJjID0gQG9kYmNfY29ubmVjdChPSURQTFVTX09EQkNfRFNOLCBPSURQTFVTX09EQkNfVVNFUk5BTUUsIGJhc2U2NF9kZWNvZGUoT0lEUExVU19PREJDX1BBU1NXT1JEKSk7CgoJCWlmICghJHRoaXMtPm9kYmMpIHsKCQkJJG1l'));
	@fwrite($fp, base64_decode('c3NhZ2UgPSBvZGJjX2Vycm9ybXNnKCk7CgkJCXRocm93IG5ldyBPSURwbHVzQ29uZmlnSW5pdGlhbGl6YXRpb25FeGNlcHRpb24oJ0Nvbm5lY3Rpb24gdG8gdGhlIGRhdGFiYXNlIGZhaWxlZCEgJy4kbWVzc2FnZSk7CgkJfQoKCQl0cnkgewoJCQkkdGhpcy0+cXVl'));
	@fwrite($fp, base64_decode('cnkoIlNFVCBOQU1FUyAndXRmOCciKTsgLy8gRG9lcyBtb3N0IGxpa2VseSBOT1Qgd29yayB3aXRoIE9EQkMuIFRyeSBhZGRpbmcgIjtDSEFSU0VUPVVURjgiIChvciBzaW1pbGFyKSB0byB0aGUgRFNOCgkJfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CgkJfQoJfQoJ'));
	@fwrite($fp, base64_decode('Cglwcm90ZWN0ZWQgZnVuY3Rpb24gZG9EaXNjb25uZWN0KCk6IHZvaWQgewoJCUBvZGJjX2Nsb3NlKCR0aGlzLT5vZGJjKTsKCQkkdGhpcy0+b2RiYyA9IG51bGw7Cgl9CgoJcHJpdmF0ZSAkaW50cmFuc2FjdGlvbiA9IGZhbHNlOwoKCXB1YmxpYyBmdW5jdGlvbiB0'));
	@fwrite($fp, base64_decode('cmFuc2FjdGlvbl9iZWdpbigpOiB2b2lkIHsKCQlpZiAoJHRoaXMtPmludHJhbnNhY3Rpb24pIHRocm93IG5ldyBFeGNlcHRpb24oIk5lc3RlZCB0cmFuc2FjdGlvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBkYXRhYmFzZSBwbHVnaW4uIik7CgkJb2RiY19h'));
	@fwrite($fp, base64_decode('dXRvY29tbWl0KCR0aGlzLT5vZGJjLCB0cnVlKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IHRydWU7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2NvbW1pdCgpOiB2b2lkIHsKCQlvZGJjX2NvbW1pdCgkdGhpcy0+b2RiYyk7CgkJb2RiY19hdXRv'));
	@fwrite($fp, base64_decode('Y29tbWl0KCR0aGlzLT5vZGJjLCBmYWxzZSk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25fcm9sbGJhY2soKTogdm9pZCB7CgkJb2RiY19yb2xsYmFjaygkdGhpcy0+b2RiYyk7CgkJb2RiY19h'));
	@fwrite($fp, base64_decode('dXRvY29tbWl0KCR0aGlzLT5vZGJjLCBmYWxzZSk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KfQoKY2xhc3MgT0lEcGx1c1F1ZXJ5UmVzdWx0T0RCQyBleHRlbmRzIE9JRHBsdXNRdWVyeVJlc3VsdCB7Cglwcm90ZWN0ZWQgJG5vX3Jlc3VsdHNl'));
	@fwrite($fp, base64_decode('dDsKCXByb3RlY3RlZCAkcmVzOwoKCXB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkcmVzKSB7CgkJJHRoaXMtPm5vX3Jlc3VsdHNldCA9IGlzX2Jvb2woJHJlcyk7CgkJCgkJaWYgKCEkdGhpcy0+bm9fcmVzdWx0c2V0KSB7CgkJCSR0aGlzLT5yZXMgPSAkcmVz'));
	@fwrite($fp, base64_decode('OwoJCX0KCX0KCQoJcHVibGljIGZ1bmN0aW9uIF9fZGVzdHJ1Y3QoKSB7CgkJLy8gb2RiY19jbG9zZV9jdXJzb3IoJHRoaXMtPnJlcyk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNvbnRhaW5zUmVzdWx0U2V0KCk6IGJvb2wgewoJCXJldHVybiAhJHRoaXMtPm5vX3Jl'));
	@fwrite($fp, base64_decode('c3VsdHNldDsKCX0KCglwdWJsaWMgZnVuY3Rpb24gbnVtX3Jvd3MoKTogaW50IHsKCQlpZiAoJHRoaXMtPm5vX3Jlc3VsdHNldCkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiVGhlIHF1ZXJ5IGhhcyByZXR1cm5lZCBubyByZXN1bHQgc2V0IChpLmUuIGl0IHdhcyBub3Qg'));
	@fwrite($fp, base64_decode('YSBTRUxFQ1QgcXVlcnkpIik7CgkJcmV0dXJuIG9kYmNfbnVtX3Jvd3MoJHRoaXMtPnJlcyk7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNoX2FycmF5KCkvKjogP2FycmF5Ki8gewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgRXhjZXB0aW9u'));
	@fwrite($fp, base64_decode('KCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQkkcmV0ID0gb2RiY19mZXRjaF9hcnJheSgkdGhpcy0+cmVzKTsKCQlpZiAoJHJldCA9PT0gZmFsc2UpICRyZXQgPSBudWxsOwoJ'));
	@fwrite($fp, base64_decode('CWlmICghaXNfbnVsbCgkcmV0KSkgewoJCQkvLyBPREJDIGdpdmVzIGJpdCgxKSBhcyBiaW5hcnksIE15U1FMIGFzIGludGVnZXIgYW5kIFBETyBhcyBzdHJpbmcuCgkJCS8vIFdlJ2xsIGRvIGl0IGxpa2UgTXlTUUwgZG9lcywgZXZlbiBpZiBPREJDIGlzIGFjdHVh'));
	@fwrite($fp, base64_decode('bGx5IG1vcmUgY29ycmVjdC4KCQkJZm9yZWFjaCAoJHJldCBhcyAmJHZhbHVlKSB7CgkJCQlpZiAoJHZhbHVlID09PSBjaHIoMCkpICR2YWx1ZSA9IDA7CgkJCQlpZiAoJHZhbHVlID09PSBjaHIoMSkpICR2YWx1ZSA9IDE7CgkJCX0KCQl9CgkJcmV0dXJuICRyZXQ7'));
	@fwrite($fp, base64_decode('Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGZldGNoX29iamVjdCgpLyo6ID9vYmplY3QqLyB7CgkJaWYgKCR0aGlzLT5ub19yZXN1bHRzZXQpIHRocm93IG5ldyBFeGNlcHRpb24oIlRoZSBxdWVyeSBoYXMgcmV0dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMg'));
	@fwrite($fp, base64_decode('bm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoJCSRyZXQgPSBvZGJjX2ZldGNoX29iamVjdCgkdGhpcy0+cmVzKTsKCQlpZiAoJHJldCA9PT0gZmFsc2UpICRyZXQgPSBudWxsOwoJCWlmICghaXNfbnVsbCgkcmV0KSkgewoJCQkvLyBPREJDIGdpdmVzIGJpdCgxKSBhcyBi'));
	@fwrite($fp, base64_decode('aW5hcnksIE15U1FMIGFzIGludGVnZXIgYW5kIFBETyBhcyBzdHJpbmcuCgkJCS8vIFdlJ2xsIGRvIGl0IGxpa2UgTXlTUUwgZG9lcywgZXZlbiBpZiBPREJDIGlzIGFjdHVhbGx5IG1vcmUgY29ycmVjdC4KCQkJZm9yZWFjaCAoJHJldCBhcyAmJHZhbHVlKSB7CgkJ'));
	@fwrite($fp, base64_decode('CQlpZiAoJHZhbHVlID09PSBjaHIoMCkpICR2YWx1ZSA9IDA7CgkJCQlpZiAoJHZhbHVlID09PSBjaHIoMSkpICR2YWx1ZSA9IDE7CgkJCX0KCQl9CgkJcmV0dXJuICRyZXQ7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/database/odbc/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/odbc/plugin.inc.php');
	writefile_7();
	if (!is_file('plugins/database/odbc/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/odbc/plugin.inc.php');
	} else if (sha1_file('plugins/database/odbc/plugin.inc.php') != 'ba2e66314103dbf90d1e22fae7de873df29d46b7') {
		warn('File cannot be created (checksum mismatch): plugins/database/odbc/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/odbc/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/odbc/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/odbc/plugin.inc.php') !== 'ba2e66314103dbf90d1e22fae7de873df29d46b7') {
		if (@sha1_file('plugins/database/odbc/plugin.inc.php') !== '7a7733c4ef9698099f2223b9c93bb5d24dbf0b5a') {
			warn('File was modified. Will overwrite the changes now: plugins/database/odbc/plugin.inc.php');
			$tmp = pathinfo('plugins/database/odbc/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/odbc/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/odbc/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_7();
		if (@sha1_file('plugins/database/odbc/plugin.inc.php') !== 'ba2e66314103dbf90d1e22fae7de873df29d46b7') {
			warn('File cannot be written (checksum mismatch): plugins/database/odbc/plugin.inc.php');
		}
	}
}

// Files different: plugins/database/odbc/setup.part.html
function writefile_8() {
	@$fp = fopen('plugins/database/odbc/setup.part.html', 'w');
	@fwrite($fp, base64_decode('PGRpdiBpZD0iREJQTFVHSU5fUEFSQU1TX09EQkMiPgoJPHA+T0RCQyBEU04gKDxhIGhyZWY9Imh0dHBzOi8vd3d3LmNvbm5lY3Rpb25zdHJpbmdzLmNvbS8iIHRhcmdldD0iX2JsYW5rIj5leGFtcGxlczwvYT4pOjxicj48aW5wdXQgaWQ9Im9kYmNfZHNuIiB0eXBl'));
	@fwrite($fp, base64_decode('PSJ0ZXh0IiB2YWx1ZT0iRFJJVkVSPXtTUUwgU2VydmVyfTtTRVJWRVI9bG9jYWxob3N0O0RBVEFCQVNFPW9pZHBsdXM7Q0hBUlNFVD1VVEY4IiBvbmtleXByZXNzPSJyZWJ1aWxkKCkiIG9ua2V5dXA9InJlYnVpbGQoKSIgc3R5bGU9IndpZHRoOjYwMHB4Ij4gIDxz'));
	@fwrite($fp, base64_decode('cGFuIGlkPSJvZGJjX2Rzbl93YXJuIj48L3NwYW4+Cgk8YnI+PGZvbnQgc2l6ZT0iLTEiPkV4YW1wbGUgZm9yIFNRTCBTZXJ2ZXI6IDxpPkRSSVZFUj17U1FMIFNlcnZlcn07U0VSVkVSPWxvY2FsaG9zdDtEQVRBQkFTRT1vaWRwbHVzO0NIQVJTRVQ9VVRGODwvaT48'));
	@fwrite($fp, base64_decode('L2ZvbnQ+PC9wPgoJPCEtLSBOb3RlOiBZb3Ugc2hvdWxkIHVzZSB0aGUgZHJpdmVyICJPREJDIERyaXZlciBYWCBmb3IgU1FMIFNlcnZlciIgaW5zdGVhZCwgc2luY2UgaXQgaXMgdGhlIGxhdGVzdCBnZW5lcmF0aW9uIC0tPgoJPHA+T0RCQyBVc2VybmFtZTo8YnI+'));
	@fwrite($fp, base64_decode('PGlucHV0IGlkPSJvZGJjX3VzZXJuYW1lIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0icm9vdCIgb25rZXlwcmVzcz0icmVidWlsZCgpIiBvbmtleXVwPSJyZWJ1aWxkKCkiPiAgPHNwYW4gaWQ9Im9kYmNfdXNlcm5hbWVfd2FybiI+PC9zcGFuPjwvcD4KCTxwPk9EQkMgUGFz'));
	@fwrite($fp, base64_decode('c3dvcmQ6PGJyPjxpbnB1dCBpZD0ib2RiY19wYXNzd29yZCIgdHlwZT0icGFzc3dvcmQiIHZhbHVlPSIiIG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj4gIDxzcGFuIGlkPSJvZGJjX3Bhc3N3b3JkX3dhcm4iPjwvc3Bhbj48L3A+Cgk8'));
	@fwrite($fp, base64_decode('cD5XaGljaCBEQk1TIGlzIHVzZWQ/PGJyPgoJPGk+QXR0ZW50aW9uOiBPSURwbHVzIGN1cnJlbnRseSBvbmx5IGltcGxlbWVudHMgdGhlIFNRTCBkaWFsZWN0IG9mIE15U1FML01hcmlhREIgYW5kIFBvc3RncmVTUUwgYW5kIE1pY3Jvc29mdCBTUUwgU2VydmVyLiBP'));
	@fwrite($fp, base64_decode('dGhlciBEQk1TIHdpbGwgbW9zdCBsaWtlbHkgbm90IHdvcmsuPC9pPjxicj4KCTxzZWxlY3QgbmFtZT0ib2RiY19zbGFuZyIgaWQ9Im9kYmNfc2xhbmciIG9uQ2hhbmdlPSJkYnBsdWdpbl9jaGFuZ2VkKCkiPgoJCTxvcHRpb24gdmFsdWU9Im15c3FsIj5NeVNRTCAv'));
	@fwrite($fp, base64_decode('IE1hcmlhREI8L29wdGlvbj4KCQk8b3B0aW9uIHZhbHVlPSJwZ3NxbCI+UG9zdGdyZVNRTDwvb3B0aW9uPgoJCTxvcHRpb24gdmFsdWU9Im1zc3FsIj5NaWNyb3NvZnQgU1FMIFNlcnZlcjwvb3B0aW9uPgoJPC9zZWxlY3Q+PC9wPgo8L2Rpdj4KPHNjcmlwdD4KcGx1'));
	@fwrite($fp, base64_decode('Z2luX2NvbWJvYm94X2NoYW5nZV9jYWxsYmFja3MucHVzaChmdW5jdGlvbihzdHJQbHVnaW4pIHsKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdEQlBMVUdJTl9QQVJBTVNfT0RCQycpLnN0eWxlLmRpc3BsYXkgPSAoc3RyUGx1Z2luID09ICdPREJDJykgPyAiQmxv'));
	@fwrite($fp, base64_decode('Y2siIDogIk5vbmUiOwp9KTsKcmVidWlsZF9jYWxsYmFja3MucHVzaChmdW5jdGlvbigpIHsKCXZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRiX3BsdWdpbiIpOwoJdmFyIHN0clBsdWdpbiA9IGUub3B0aW9uc1tlLnNlbGVjdGVkSW5kZXhdLnZhbHVl'));
	@fwrite($fp, base64_decode('OwoJaWYgKHN0clBsdWdpbiAhPSAnT0RCQycpIHJldHVybiB0cnVlOwoKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJ1Y3RfY2xpXzEnKS5pbm5lckhUTUwgPSAnJzsKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJ1Y3RfY2xpXzInKS5pbm5lckhUTUwg'));
	@fwrite($fp, base64_decode('PSAnJzsKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJ1Y3RfMScpLmhyZWYgPSAnc3RydWN0X2VtcHR5LnNxbC5waHAnOwoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cnVjdF8yJykuaHJlZiA9ICdzdHJ1Y3Rfd2l0aF9leGFtcGxlcy5zcWwucGhwJzsK'));
	@fwrite($fp, base64_decode('CgllcnJvciA9IGZhbHNlOwoKCS8vIENoZWNrIDE6IGRzbiBtdXN0IG5vdCBiZSBlbXB0eQoJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX2RzbicpLnZhbHVlLmxlbmd0aCA9PSAwKQoJewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX2Rz'));
	@fwrite($fp, base64_decode('bl93YXJuJykuaW5uZXJIVE1MID0gJzxmb250IGNvbG9yPSJyZWQiPlBsZWFzZSBzcGVjaWZ5IGEgRFNOITwvZm9udD4nOwoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maWcnKS5pbm5lckhUTUwgPSAnPGI+Jmx0P3BocDwvYj48YnI+PGJyPjxpPi8vIEVS'));
	@fwrite($fp, base64_decode('Uk9SOiBQbGVhc2Ugc3BlY2lmeSBhIERTTiE8L2k+JzsKCQllcnJvciA9IHRydWU7Cgl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX2Rzbl93YXJuJykuaW5uZXJIVE1MID0gJyc7Cgl9CgoJLy8gQ2hlY2sgMjogVXNlcm5hbWUgbXVzdCBu'));
	@fwrite($fp, base64_decode('b3QgYmUgZW1wdHkKCWlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2RiY191c2VybmFtZScpLnZhbHVlLmxlbmd0aCA9PSAwKQoJewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX3VzZXJuYW1lX3dhcm4nKS5pbm5lckhUTUwgPSAnPGZvbnQgY29s'));
	@fwrite($fp, base64_decode('b3I9InJlZCI+UGxlYXNlIHNwZWNpZnkgYSB1c2VybmFtZSE8L2ZvbnQ+JzsKCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlnJykuaW5uZXJIVE1MID0gJzxiPiZsdD9waHA8L2I+PGJyPjxicj48aT4vLyBFUlJPUjogUGxlYXNlIHNwZWNpZnkgYSB1c2Vy'));
	@fwrite($fp, base64_decode('bmFtZSE8L2k+JzsKCQllcnJvciA9IHRydWU7Cgl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX3VzZXJuYW1lX3dhcm4nKS5pbm5lckhUTUwgPSAnJzsKCX0KCglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RydWN0XzEnKS5ocmVmID0g'));
	@fwrite($fp, base64_decode('c2V0dXBkaXIrJ3N0cnVjdF9lbXB0eS5zcWwucGhwP3BsdWdpbj1vZGJjJnByZWZpeD0nK2VuY29kZVVSSShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFibGVuYW1lX3ByZWZpeCcpLnZhbHVlKSsnJnNsYW5nPScrZW5jb2RlVVJJKGRvY3VtZW50LmdldEVsZW1l'));
	@fwrite($fp, base64_decode('bnRCeUlkKCdvZGJjX3NsYW5nJykudmFsdWUpOwoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cnVjdF8yJykuaHJlZiA9IHNldHVwZGlyKydzdHJ1Y3Rfd2l0aF9leGFtcGxlcy5zcWwucGhwP3BsdWdpbj1vZGJjJnByZWZpeD0nK2VuY29kZVVSSShkb2N1bWVu'));
	@fwrite($fp, base64_decode('dC5nZXRFbGVtZW50QnlJZCgndGFibGVuYW1lX3ByZWZpeCcpLnZhbHVlKSsnJnNsYW5nPScrZW5jb2RlVVJJKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX3NsYW5nJykudmFsdWUpOwoJaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX3NsYW5n'));
	@fwrite($fp, base64_decode('JykudmFsdWUgPT0gJ215c3FsJykgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJ1Y3RfY2xpXzEnKS5pbm5lckhUTUwgPSAnPGJyPm9yIHZpYSBjb21tYW5kIGxpbmU6PGJyPjxjb2RlPmN1cmwgLXMgIicrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0'));
	@fwrite($fp, base64_decode('cnVjdF8xJykuaHJlZisnIiB8IG15c3FsIC11ICcrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29kYmNfdXNlcm5hbWUnKS52YWx1ZSsnIC1wPC9jb2RlPic7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cnVjdF9jbGlfMicpLmlubmVySFRNTCA9ICc8YnI+'));
	@fwrite($fp, base64_decode('b3IgdmlhIGNvbW1hbmQgbGluZTo8YnI+PGNvZGU+Y3VybCAtcyAiJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RydWN0XzInKS5ocmVmKyciIHwgbXlzcWwgLXUgJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2RiY191c2VybmFtZScpLnZhbHVlKycgLXA8'));
	@fwrite($fp, base64_decode('L2NvZGU+JzsKCX0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29kYmNfc2xhbmcnKS52YWx1ZSA9PSAncGdzcWwnKSB7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cnVjdF9jbGlfMScpLmlubmVySFRNTCA9ICc8YnI+b3IgdmlhIGNvbW1h'));
	@fwrite($fp, base64_decode('bmQgbGluZTo8YnI+PGNvZGU+Y3VybCAtcyAiJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RydWN0XzEnKS5ocmVmKyciIHwgcHNxbCAtaCA8Zm9udCBjb2xvcj0icmVkIj5sb2NhbGhvc3Q8L2ZvbnQ+IC1VICcrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29k'));
	@fwrite($fp, base64_decode('YmNfdXNlcm5hbWUnKS52YWx1ZSsnIC1kIDxmb250IGNvbG9yPSJyZWQiPm9pZHBsdXM8L2ZvbnQ+IC1hPC9jb2RlPic7CgkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0cnVjdF9jbGlfMicpLmlubmVySFRNTCA9ICc8YnI+b3IgdmlhIGNvbW1hbmQgbGluZTo8'));
	@fwrite($fp, base64_decode('YnI+PGNvZGU+Y3VybCAtcyAiJytkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RydWN0XzInKS5ocmVmKyciIHwgcHNxbCAtaCA8Zm9udCBjb2xvcj0icmVkIj5sb2NhbGhvc3Q8L2ZvbnQ+IC1VICcrZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29kYmNfdXNlcm5h'));
	@fwrite($fp, base64_decode('bWUnKS52YWx1ZSsnIC1kIDxmb250IGNvbG9yPSJyZWQiPm9pZHBsdXM8L2ZvbnQ+IC1hPC9jb2RlPic7Cgl9IGVsc2UgewoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJ1Y3RfY2xpXzEnKS5pbm5lckhUTUwgPSAnJzsKCQlkb2N1bWVudC5nZXRFbGVtZW50'));
	@fwrite($fp, base64_decode('QnlJZCgnc3RydWN0X2NsaV8yJykuaW5uZXJIVE1MID0gJyc7Cgl9CgoJcmV0dXJuICFlcnJvcjsKfSk7CnJlYnVpbGRfY29uZmlnX2NhbGxiYWNrcy5wdXNoKGZ1bmN0aW9uKCkgewoJdmFyIGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGJfcGx1Z2luIik7'));
	@fwrite($fp, base64_decode('Cgl2YXIgc3RyUGx1Z2luID0gZS5vcHRpb25zW2Uuc2VsZWN0ZWRJbmRleF0udmFsdWU7CglpZiAoc3RyUGx1Z2luICE9ICdPREJDJykgcmV0dXJuICcnOwoKCXJldHVybiAnPGI+ZGVmaW5lPC9iPihcJ09JRFBMVVNfT0RCQ19EU05cJywgICAgICAgICBcJycrZG9j'));
	@fwrite($fp, base64_decode('dW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29kYmNfZHNuJykudmFsdWUrJ1wnKTs8YnI+JyArCgkgICAgICAgJzxiPmRlZmluZTwvYj4oXCdPSURQTFVTX09EQkNfVVNFUk5BTUVcJywgICAgXCcnK2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvZGJjX3VzZXJuYW1lJyku'));
	@fwrite($fp, base64_decode('dmFsdWUrJ1wnKTs8YnI+JyArCgkgICAgICAgJzxiPmRlZmluZTwvYj4oXCdPSURQTFVTX09EQkNfUEFTU1dPUkRcJywgICAgXCcnK2I2NEVuY29kZVVuaWNvZGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29kYmNfcGFzc3dvcmQnKS52YWx1ZSkrJ1wnKTsgLy8g'));
	@fwrite($fp, base64_decode('YmFzZTY0IGVuY29kZWQ8YnI+JzsKfSk7Cjwvc2NyaXB0Pgo='));
	@fclose($fp);
}
if (!is_file('plugins/database/odbc/setup.part.html')) {
	warn('File has vanished! Will re-create it: plugins/database/odbc/setup.part.html');
	writefile_8();
	if (!is_file('plugins/database/odbc/setup.part.html')) {
		warn('File cannot be created (not existing): plugins/database/odbc/setup.part.html');
	} else if (sha1_file('plugins/database/odbc/setup.part.html') != 'f81688f1310ddd274becfb79fa96c33bbb02e32b') {
		warn('File cannot be created (checksum mismatch): plugins/database/odbc/setup.part.html');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/odbc/setup.part.html', 0644)) {
		warn('Could not change file permissions of plugins/database/odbc/setup.part.html');
	}
} else {
	if (@sha1_file('plugins/database/odbc/setup.part.html') !== 'f81688f1310ddd274becfb79fa96c33bbb02e32b') {
		if (@sha1_file('plugins/database/odbc/setup.part.html') !== 'bbc48775d7ad39c87a35f73d0c517cec0f50c0f1') {
			warn('File was modified. Will overwrite the changes now: plugins/database/odbc/setup.part.html');
			$tmp = pathinfo('plugins/database/odbc/setup.part.html');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/odbc/setup.part.html')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/odbc/setup.part.html', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_8();
		if (@sha1_file('plugins/database/odbc/setup.part.html') !== 'f81688f1310ddd274becfb79fa96c33bbb02e32b') {
			warn('File cannot be written (checksum mismatch): plugins/database/odbc/setup.part.html');
		}
	}
}

// Files different: plugins/database/pdo/plugin.inc.php
function writefile_9() {
	@$fp = fopen('plugins/database/pdo/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNEYXRhYmFzZVBsdWdpblBETyBleHRlbmRzIE9JRHBsdXNEYXRhYmFzZVBsdWdpbiB7Cglwcml2YXRlICRwZG87'));
	@fwrite($fp, base64_decode('Cglwcml2YXRlICRsYXN0X3F1ZXJ5OwoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gZ2V0UGx1Z2luSW5mb3JtYXRpb24oKTogYXJyYXkgewoJCSRvdXQgPSBhcnJheSgpOwoJCSRvdXRbJ25hbWUnXSA9ICdQRE8nOwoJCSRvdXRbJ2F1dGhvciddID0gJ1ZpYVRoaW5r'));
	@fwrite($fp, base64_decode('U29mdCc7CgkJJG91dFsndmVyc2lvbiddID0gbnVsbDsKCQkkb3V0WydkZXNjcmlwdGlvbkhUTUwnXSA9IG51bGw7CgkJcmV0dXJuICRvdXQ7Cgl9CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBuYW1lKCk6IHN0cmluZyB7CgkJcmV0dXJuICJQRE8iOwoJfQoJCglw'));
	@fwrite($fp, base64_decode('cml2YXRlICRsYXN0X2Vycm9yID0gbnVsbDsKCglwdWJsaWMgZnVuY3Rpb24gcXVlcnkoc3RyaW5nICRzcWwsIC8qP2FycmF5Ki8gJHByZXBhcmVkX2FyZ3M9bnVsbCk6IE9JRHBsdXNRdWVyeVJlc3VsdCB7CgkJJHRoaXMtPmxhc3RfcXVlcnkgPSAkc3FsOwoJCSR0'));
	@fwrite($fp, base64_decode('aGlzLT5sYXN0X2Vycm9yID0gbnVsbDsKCQlpZiAoaXNfbnVsbCgkcHJlcGFyZWRfYXJncykpIHsKCQkJJHJlcyA9ICR0aGlzLT5wZG8tPnF1ZXJ5KCRzcWwpOwoKCQkJaWYgKCRyZXMgPT09IGZhbHNlKSB7CgkJCQkkdGhpcy0+bGFzdF9lcnJvciA9ICR0aGlzLT5w'));
	@fwrite($fp, base64_decode('ZG8tPmVycm9ySW5mbygpWzJdOwoJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJHRoaXMtPmVycm9yKCkpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRQRE8oJHJlcyk7CgkJCX0KCQl9IGVsc2UgewoJ'));
	@fwrite($fp, base64_decode('CQkvLyBURVNUOiBFbXVsYXRlIHRoZSBwcmVwYXJlZCBzdGF0ZW1lbnQKCQkJLyoKCQkJZm9yZWFjaCAoJHByZXBhcmVkX2FyZ3MgYXMgJGFyZykgewoJCQkJJG5lZWRsZSA9ICc/JzsKCQkJCSRyZXBsYWNlID0gIickYXJnJyI7IC8vIFRPRE86IHR5cGVzCgkJCQkk'));
	@fwrite($fp, base64_decode('cG9zID0gc3RycG9zKCRzcWwsICRuZWVkbGUpOwoJCQkJaWYgKCRwb3MgIT09IGZhbHNlKSB7CgkJCQkJJHNxbCA9IHN1YnN0cl9yZXBsYWNlKCRzcWwsICRyZXBsYWNlLCAkcG9zLCBzdHJsZW4oJG5lZWRsZSkpOwoJCQkJfQoJCQl9CgkJCXJldHVybiBPSURwbHVz'));
	@fwrite($fp, base64_decode('UXVlcnlSZXN1bHRQRE8oJHRoaXMtPnBkby0+cXVlcnkoJHNxbCkpOwoJCQkqLwoKCQkJaWYgKCFpc19hcnJheSgkcHJlcGFyZWRfYXJncykpIHsKCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIidwcmVwYXJlZF9hcmdzJyBtdXN0IGJlIGVpdGhlciBOVUxMIG9yIGFu'));
	@fwrite($fp, base64_decode('IEFSUkFZLiIpOwoJCQl9CgkJCQoJCQlmb3JlYWNoICgkcHJlcGFyZWRfYXJncyBhcyAmJHZhbHVlKSB7CgkJCQkvLyBXZSBuZWVkIHRvIG1hbnVhbGx5IGNvbnZlcnQgYm9vbGVhbnMgaW50byBzdHJpbmdzLCBiZWNhdXNlIHRoZXJlIGlzIGEgCgkJCQkvLyAxNCB5'));
	@fwrite($fp, base64_decode('ZWFyIG9sZCBidWcgdGhhdCBoYXNuJ3QgYmVlbiBhZHJlc3NlZCBieSB0aGUgUERPIGRldmVsb3BlcnM6CgkJCQkvLyBodHRwczovL2J1Z3MucGhwLm5ldC9idWcucGhwP2lkPTU3MTU3IAoJCQkJLy8gTm90ZTogV2UgYXJlIHVzaW5nICcxJyBhbmQgJzAnIGluc3Rl'));
	@fwrite($fp, base64_decode('YWQgb2YgJ3RydWUnIGFuZCAnZmFsc2UnIGJlY2F1c2UgTXlTUUwgY29udmVydHMgYm9vbGVhbiB0byB0aW55aW50KDEpCgkJCQlpZiAoaXNfYm9vbCgkdmFsdWUpKSAkdmFsdWUgPSAkdmFsdWUgPyAnMScgOiAnMCc7CgkJCX0gCgkJCQoJCQkkcHMgPSAkdGhpcy0+'));
	@fwrite($fp, base64_decode('cGRvLT5wcmVwYXJlKCRzcWwpOwoJCQlpZiAoISRwcykgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNTUUxFeGNlcHRpb24oJHNxbCwgJ0Nhbm5vdCBwcmVwYXJlIHN0YXRlbWVudCcpOwoJCQl9CgkJCSR0aGlzLT5wcmVwYXJlX2NhY2hlWyRzcWxdID0gJHBzOwoKCQkJ'));
	@fwrite($fp, base64_decode('aWYgKCEkcHMtPmV4ZWN1dGUoJHByZXBhcmVkX2FyZ3MpKSB7CgkJCQkkdGhpcy0+bGFzdF9lcnJvciA9ICRwcy0+ZXJyb3JJbmZvKClbMl07CgkJCQl0aHJvdyBuZXcgT0lEcGx1c1NRTEV4Y2VwdGlvbigkc3FsLCAkdGhpcy0+ZXJyb3IoKSk7CgkJCX0KCQkJcmV0'));
	@fwrite($fp, base64_decode('dXJuIG5ldyBPSURwbHVzUXVlcnlSZXN1bHRQRE8oJHBzKTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGluc2VydF9pZCgpOiBpbnQgewoJCXJldHVybiAkdGhpcy0+cGRvLT5sYXN0SW5zZXJ0SWQoKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZXJyb3IoKTogc3Ry'));
	@fwrite($fp, base64_decode('aW5nIHsKCQkkZXJyID0gJHRoaXMtPmxhc3RfZXJyb3I7CgkJaWYgKCRlcnIgPT0gbnVsbCkgJGVyciA9ICcnOwoJCXJldHVybiAkZXJyOwoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Nvbm5lY3QoKTogdm9pZCB7CgkJdHJ5IHsKCQkJJG9wdGlvbnMgPSBbCgkJ'));
	@fwrite($fp, base64_decode('CSMgICAgUERPOjpBVFRSX0VSUk1PREUgICAgICAgICAgICA9PiBQRE86OkVSUk1PREVfRVhDRVBUSU9OLAoJCQkgICAgUERPOjpBVFRSX0RFRkFVTFRfRkVUQ0hfTU9ERSA9PiBQRE86OkZFVENIX0FTU09DLAoJCQkgICAgUERPOjpBVFRSX0VNVUxBVEVfUFJFUEFS'));
	@fwrite($fp, base64_decode('RVMgICA9PiB0cnVlLAoJCQldOwoKCQkJLy8gVHJ5IGNvbm5lY3RpbmcgdG8gdGhlIGRhdGFiYXNlCgkJCSR0aGlzLT5wZG8gPSBuZXcgUERPKE9JRFBMVVNfUERPX0RTTiwgT0lEUExVU19QRE9fVVNFUk5BTUUsIGJhc2U2NF9kZWNvZGUoT0lEUExVU19QRE9fUEFT'));
	@fwrite($fp, base64_decode('U1dPUkQpLCAkb3B0aW9ucyk7CgkJfSBjYXRjaCAoUERPRXhjZXB0aW9uICRlKSB7CgkJCSRtZXNzYWdlID0gJGUtPmdldE1lc3NhZ2UoKTsKCQkJdGhyb3cgbmV3IE9JRHBsdXNDb25maWdJbml0aWFsaXphdGlvbkV4Y2VwdGlvbignQ29ubmVjdGlvbiB0byB0aGUg'));
	@fwrite($fp, base64_decode('ZGF0YWJhc2UgZmFpbGVkISAnLiRtZXNzYWdlKTsKCQl9CgoJCSR0aGlzLT5xdWVyeSgiU0VUIE5BTUVTICd1dGY4JyIpOwoJfQoKCXByb3RlY3RlZCBmdW5jdGlvbiBkb0Rpc2Nvbm5lY3QoKTogdm9pZCB7CgkJJHRoaXMtPnBkbyA9IG51bGw7IC8vIHRoZSBjb25u'));
	@fwrite($fp, base64_decode('ZWN0aW9uIHdpbGwgYmUgY2xvc2VkIGJ5IHJlbW92aW5nIHRoZSByZWZlcmVuY2UKCX0KCglwcml2YXRlICRpbnRyYW5zYWN0aW9uID0gZmFsc2U7CgoJcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uX2JlZ2luKCk6IHZvaWQgewoJCWlmICgkdGhpcy0+aW50cmFu'));
	@fwrite($fp, base64_decode('c2FjdGlvbikgdGhyb3cgbmV3IEV4Y2VwdGlvbigiTmVzdGVkIHRyYW5zYWN0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGlzIGRhdGFiYXNlIHBsdWdpbi4iKTsKCQkkdGhpcy0+cGRvLT5iZWdpblRyYW5zYWN0aW9uKCk7CgkJJHRoaXMtPmludHJhbnNhY3Rp'));
	@fwrite($fp, base64_decode('b24gPSB0cnVlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmFuc2FjdGlvbl9jb21taXQoKTogdm9pZCB7CgkJJHRoaXMtPnBkby0+Y29tbWl0KCk7CgkJJHRoaXMtPmludHJhbnNhY3Rpb24gPSBmYWxzZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gdHJhbnNhY3Rpb25f'));
	@fwrite($fp, base64_decode('cm9sbGJhY2soKTogdm9pZCB7CgkJJHRoaXMtPnBkby0+cm9sbEJhY2soKTsKCQkkdGhpcy0+aW50cmFuc2FjdGlvbiA9IGZhbHNlOwoJfQp9CgpjbGFzcyBPSURwbHVzUXVlcnlSZXN1bHRQRE8gZXh0ZW5kcyBPSURwbHVzUXVlcnlSZXN1bHQgewoJcHJvdGVjdGVk'));
	@fwrite($fp, base64_decode('ICRub19yZXN1bHRzZXQ7Cglwcm90ZWN0ZWQgJHJlczsKCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJHJlcykgewoJCSR0aGlzLT5ub19yZXN1bHRzZXQgPSBpc19ib29sKCRyZXMpOwoJCQoJCWlmICghJHRoaXMtPm5vX3Jlc3VsdHNldCkgewoJCQkkdGhp'));
	@fwrite($fp, base64_decode('cy0+cmVzID0gJHJlczsKCQl9Cgl9CgkKCXB1YmxpYyBmdW5jdGlvbiBfX2Rlc3RydWN0KCkgewoJCWlmICgkdGhpcy0+cmVzKSAkdGhpcy0+cmVzLT5jbG9zZUN1cnNvcigpOwoJfQoJCglwdWJsaWMgZnVuY3Rpb24gY29udGFpbnNSZXN1bHRTZXQoKTogYm9vbCB7'));
	@fwrite($fp, base64_decode('CgkJcmV0dXJuICEkdGhpcy0+bm9fcmVzdWx0c2V0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBudW1fcm93cygpOiBpbnQgewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJUaGUgcXVlcnkgaGFzIHJldHVybmVkIG5vIHJlc3Vs'));
	@fwrite($fp, base64_decode('dCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQlyZXR1cm4gJHRoaXMtPnJlcy0+cm93Q291bnQoKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZmV0Y2hfYXJyYXkoKS8qOiA/YXJyYXkqLyB7CgkJaWYgKCR0aGlzLT5ub19yZXN1bHRzZXQp'));
	@fwrite($fp, base64_decode('IHRocm93IG5ldyBFeGNlcHRpb24oIlRoZSBxdWVyeSBoYXMgcmV0dXJuZWQgbm8gcmVzdWx0IHNldCAoaS5lLiBpdCB3YXMgbm90IGEgU0VMRUNUIHF1ZXJ5KSIpOwoJCSRyZXQgPSAkdGhpcy0+cmVzLT5mZXRjaChQRE86OkZFVENIX0FTU09DKTsKCQlpZiAoJHJl'));
	@fwrite($fp, base64_decode('dCA9PT0gZmFsc2UpICRyZXQgPSBudWxsOwoJCXJldHVybiAkcmV0OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBmZXRjaF9vYmplY3QoKS8qOiA/b2JqZWN0Ki8gewoJCWlmICgkdGhpcy0+bm9fcmVzdWx0c2V0KSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJUaGUgcXVlcnkg'));
	@fwrite($fp, base64_decode('aGFzIHJldHVybmVkIG5vIHJlc3VsdCBzZXQgKGkuZS4gaXQgd2FzIG5vdCBhIFNFTEVDVCBxdWVyeSkiKTsKCQkkcmV0ID0gJHRoaXMtPnJlcy0+ZmV0Y2goUERPOjpGRVRDSF9PQkopOwoJCWlmICgkcmV0ID09PSBmYWxzZSkgJHJldCA9IG51bGw7CgkJcmV0dXJu'));
	@fwrite($fp, base64_decode('ICRyZXQ7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/database/pdo/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/database/pdo/plugin.inc.php');
	writefile_9();
	if (!is_file('plugins/database/pdo/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/database/pdo/plugin.inc.php');
	} else if (sha1_file('plugins/database/pdo/plugin.inc.php') != '8c253315a549abc392c78522a85c63d5634e27ad') {
		warn('File cannot be created (checksum mismatch): plugins/database/pdo/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/database/pdo/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/database/pdo/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/database/pdo/plugin.inc.php') !== '8c253315a549abc392c78522a85c63d5634e27ad') {
		if (@sha1_file('plugins/database/pdo/plugin.inc.php') !== 'd48dc872c44ebb9852f3911c1fb2a99d62e4b3aa') {
			warn('File was modified. Will overwrite the changes now: plugins/database/pdo/plugin.inc.php');
			$tmp = pathinfo('plugins/database/pdo/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/database/pdo/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/database/pdo/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_9();
		if (@sha1_file('plugins/database/pdo/plugin.inc.php') !== '8c253315a549abc392c78522a85c63d5634e27ad') {
			warn('File cannot be written (checksum mismatch): plugins/database/pdo/plugin.inc.php');
		}
	}
}

// Files different: setup/index.php
function writefile_10() {
	@$fp = fopen('setup/index.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy8uLi9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKPz48IURPQ1RZUEUgaHRtbD4KPGh0bWwgbGFuZz0iZW4iPgoKPGhlYWQ+Cgk8dGl0bGU+T0lEcGx1cyBTZXR1cDwvdGl0bGU+Cgk8bWV0YSBuYW1lPSJy'));
	@fwrite($fp, base64_decode('b2JvdHMiIGNvbnRlbnQ9Im5vaW5kZXgiPgoJPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAiPgoJPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJzZXR1cC5jc3MiPgoJPHNjcmlwdCBz'));
	@fwrite($fp, base64_decode('cmM9Ii4uLzNwL3NoYTNfanMvc2hhMy5qcyI+PC9zY3JpcHQ+PCEtLSBodHRwczovL2dpdGh1Yi5jb20vZW1uMTc4L2pzLXNoYTMgLS0+Cgk8c2NyaXB0IHNyYz0ic2V0dXAuanMiPjwvc2NyaXB0Pgo8L2hlYWQ+Cgo8Ym9keSBvbmxvYWQ9InJlYnVpbGQoKSI+Cgo8'));
	@fwrite($fp, base64_decode('aDE+T0lEcGx1cyBTZXR1cCAtIENvbmZpZ3VyYXRpb24gRmlsZSBHZW5lcmF0b3I8L2gxPgoKPHA+VGhhbmsgeW91IHZlcnkgbXVjaCBmb3IgY2hvb3NpbmcgT0lEcGx1cyEgVGhpcyBzZXR1cCBhc3Npc3RhbnQgd2lsbCBoZWxwIHlvdSBjcmVhdGluZyBvciB1cGRh'));
	@fwrite($fp, base64_decode('dGluZyB0aGUgZmlsZSA8Yj5pbmNsdWRlcy9jb25maWcuaW5jLnBocDwvYj4uClNldHVwIGRvZXMgbm90IGF1dG9tYXRpY2FsbHkgd3JpdGUgdG8gdGhpcyBmaWxlLiBJbnN0ZWFkLCB5b3UgbmVlZCB0byBjb3B5LXBhc3RlIHRoZSBjb250ZW50cyBpbnRvIHRoZSBm'));
	@fwrite($fp, base64_decode('aWxlLgpPbmNlIE9JRHBsdXMgc2V0dXAgaXMgZmluaXNoZWQsIHlvdSBjYW4gY2hhbmdlIHRoZSBjb25maWcgZmlsZSBieSBoYW5kLCBvciBydW4gdGhpcyBzZXR1cCBhc3Npc3RhbnQgYWdhaW4uPC9wPgoKPGRpdiBpZD0ic3RlcDEiPgo8aDI+U3RlcCAxOiBFbnRl'));
	@fwrite($fp, base64_decode('ciBzZXR1cCBpbmZvcm1hdGlvbjwvaDI+Cgo8aDM+QWRtaW5pc3RyYXRvciBwYXNzd29yZDwvaDM+Cgo8Zm9ybSBpZD0ic3RlcDFfZm9ybSI+CjxwPldoaWNoIGFkbWluIHBhc3N3b3JkIGRvIHlvdSB3YW50Pzxicj48aW5wdXQgaWQ9ImFkbWluX3Bhc3N3b3JkIiB0'));
	@fwrite($fp, base64_decode('eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJuZXctcGFzc3dvcmQiIG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj4gPHNwYW4gaWQ9InBhc3N3b3JkX3dhcm4iPjwvc3Bhbj48L3A+CjxwPlBsZWFzZSByZXBlYXQgdGhlIHBhc3N3'));
	@fwrite($fp, base64_decode('b3JkIGlucHV0Ojxicj48aW5wdXQgaWQ9ImFkbWluX3Bhc3N3b3JkMiIgdHlwZT0icGFzc3dvcmQiIGF1dG9jb21wbGV0ZT0ibmV3LXBhc3N3b3JkIiBvbmtleXByZXNzPSJyZWJ1aWxkKCkiIG9ua2V5dXA9InJlYnVpbGQoKSI+IDxzcGFuIGlkPSJwYXNzd29yZF93'));
	@fwrite($fp, base64_decode('YXJuMiI+PC9zcGFuPjwvcD4KCjxoMz5EYXRhYmFzZSBjb25uZWN0aXZpdHk8L2gzPgoKRGF0YWJhc2UgcGx1Z2luOiA8c2VsZWN0IG5hbWU9ImRiX3BsdWdpbiIgb25DaGFuZ2U9ImRicGx1Z2luX2NoYW5nZWQoKSIgaWQ9ImRiX3BsdWdpbiI+Cgo8P3BocAoKJGFy'));
	@fwrite($fp, base64_decode('eSA9IGdsb2IoX19ESVJfXyAuICcvLi4vcGx1Z2lucy9kYXRhYmFzZS8nLicqJy4nL3BsdWdpbi5pbmMucGhwJyk7CmZvcmVhY2ggKCRhcnkgYXMgJGEpIGluY2x1ZGUgJGE7Cgpmb3JlYWNoIChnZXRfZGVjbGFyZWRfY2xhc3NlcygpIGFzICRjKSB7CglpZiAoaXNf'));
	@fwrite($fp, base64_decode('c3ViY2xhc3Nfb2YoJGMsICdPSURwbHVzRGF0YWJhc2VQbHVnaW4nKSkgewoJCSRzZWxlY3RlZCA9ICRjOjpuYW1lKCkgPT0gJ015U1FMJyA/ICcgc2VsZWN0ZWQ9InRydWUiJyA6ICcnOwoJCWVjaG8gJzxvcHRpb24gdmFsdWU9IicuaHRtbGVudGl0aWVzKCRjOjpu'));
	@fwrite($fp, base64_decode('YW1lKCkpLiciJy4kc2VsZWN0ZWQuJz4nLmh0bWxlbnRpdGllcygkYzo6bmFtZSgpKS4nPC9vcHRpb24+JzsKCX0KfQoKPz4KPC9zZWxlY3Q+Cgo8c2NyaXB0PgoKc2V0dXBkaXIgPSAnPD9waHAgZWNobyAoaXNzZXQoJF9TRVJWRVJbJ0hUVFBTJ10pICYmICRfU0VS'));
	@fwrite($fp, base64_decode('VkVSWydIVFRQUyddID09PSAnb24nID8gImh0dHBzIiA6ICJodHRwIikgLiAiOi8vIiAuICRfU0VSVkVSWyJIVFRQX0hPU1QiXSAuICRfU0VSVkVSWydSRVFVRVNUX1VSSSddOyA/Pic7CnJlYnVpbGRfY2FsbGJhY2tzID0gW107CnJlYnVpbGRfY29uZmlnX2NhbGxi'));
	@fwrite($fp, base64_decode('YWNrcyA9IFtdOwpwbHVnaW5fY29tYm9ib3hfY2hhbmdlX2NhbGxiYWNrcyA9IFtdOwoKZnVuY3Rpb24gZGJwbHVnaW5fY2hhbmdlZCgpIHsKCXZhciBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRiX3BsdWdpbiIpOwoJdmFyIHN0clBsdWdpbiA9IGUub3B0'));
	@fwrite($fp, base64_decode('aW9uc1tlLnNlbGVjdGVkSW5kZXhdLnZhbHVlOwoKCWZvciAodmFyIGkgPSAwOyBpIDwgcGx1Z2luX2NvbWJvYm94X2NoYW5nZV9jYWxsYmFja3MubGVuZ3RoOyBpKyspIHsKCQl2YXIgZiA9IHBsdWdpbl9jb21ib2JveF9jaGFuZ2VfY2FsbGJhY2tzW2ldOwoJCWYo'));
	@fwrite($fp, base64_decode('c3RyUGx1Z2luKTsKCX0KCglyZWJ1aWxkKCk7Cn0KCjwvc2NyaXB0PgoKPGRpdiBzdHlsZT0ibWFyZ2luLWxlZnQ6NTBweCI+Cgo8P3BocAoKJGZpbGVzID0gZ2xvYihfX0RJUl9fLicvLi4vcGx1Z2lucy9kYXRhYmFzZS8qL3NldHVwLnBhcnQuaHRtbCcpOwpmb3Jl'));
	@fwrite($fp, base64_decode('YWNoICgkZmlsZXMgYXMgJGZpbGUpIHsKCWVjaG8gZmlsZV9nZXRfY29udGVudHMoJGZpbGUpOwp9CmlmIChjb3VudCgkZmlsZXMpID09IDApIHsKCWVjaG8gJzxwPjxmb250IGNvbG9yPSJyZWQiPkVSUk9SOiBObyBkYXRhYmFzZSBwbHVnaW5zIHdlcmUgZm91bmQh'));
	@fwrite($fp, base64_decode('IFlvdSBDQU5OT1QgdXNlIE9JRHBsdXMgd2l0aG91dCBkYXRhYmFzZSBjb25uZWN0aW9uLjwvZm9udD48L3A+JzsKfQoKPz4KCjwvZGl2PgoKPHNjcmlwdD4KZGJwbHVnaW5fY2hhbmdlZCgpOwo8L3NjcmlwdD4KCjxwPlRhYmxlbmFtZSBwcmVmaXggKGUuZy4gPGI+'));
	@fwrite($fp, base64_decode('b2lkcGx1c188L2I+KTo8YnI+PGlucHV0IGlkPSJ0YWJsZW5hbWVfcHJlZml4IiB0eXBlPSJ0ZXh0IiB2YWx1ZT0ib2lkcGx1c18iIG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj48L3A+Cgo8aDM+UmVDQVBUQ0hBPC9oMz4KCjxwPjxp'));
	@fwrite($fp, base64_decode('bnB1dCBpZD0icmVjYXB0Y2hhX2VuYWJsZWQiIHR5cGU9ImNoZWNrYm94IiBvbmNsaWNrPSJyZWJ1aWxkKCkiPiA8bGFiZWwgZm9yPSJyZWNhcHRjaGFfZW5hYmxlZCI+cmVDQVBUQ0hBIGVuYWJsZWQ8L2xhYmVsPiAoPGEgaHJlZj0iaHR0cHM6Ly9kZXZlbG9wZXJz'));
	@fwrite($fp, base64_decode('Lmdvb2dsZS5jb20vcmVjYXB0Y2hhL2ludHJvIiB0YXJnZXQ9Il9ibGFuayI+bW9yZSBpbmZvcm1hdGlvbiBhbmQgb2J0YWluIGtleTwvYT4pPC9wPgo8cD5yZUNBUFRDSEEgUHVibGljIGtleTxicj48aW5wdXQgaWQ9InJlY2FwdGNoYV9wdWJsaWMiIHR5cGU9InRl'));
	@fwrite($fp, base64_decode('eHQiIG9ua2V5cHJlc3M9InJlYnVpbGQoKSIgb25rZXl1cD0icmVidWlsZCgpIj48L3A+CjxwPnJlQ0FQVENIQSBQcml2YXRlIGtleTxicj48aW5wdXQgaWQ9InJlY2FwdGNoYV9wcml2YXRlIiB0eXBlPSJ0ZXh0IiBvbmtleXByZXNzPSJyZWJ1aWxkKCkiIG9ua2V5'));
	@fwrite($fp, base64_decode('dXA9InJlYnVpbGQoKSI+PC9wPgoKPGgzPlRMUzwvaDM+Cgo8cD5TU0wgZW5mb3JjZW1lbnQ8YnI+PHNlbGVjdCBuYW1lPSJlbmZvcmNlX3NzbCIgaWQ9ImVuZm9yY2Vfc3NsIiBvbmNsaWNrPSJyZWJ1aWxkKCkiPgo8b3B0aW9uIHZhbHVlPSIwIj5ObyBTU0wgYXZh'));
	@fwrite($fp, base64_decode('aWxhYmxlIChkb24ndCByZWRpcmVjdCk8L29wdGlvbj4KPG9wdGlvbiB2YWx1ZT0iMSI+RW5mb3JjZSBTU0wgKGFsd2F5cyByZWRpcmVjdCk8L29wdGlvbj4KPG9wdGlvbiB2YWx1ZT0iMiIgc2VsZWN0ZWQ+SW50ZWxsaWdlbnQgU1NMIGRldGVjdGlvbiAocmVkaXJl'));
	@fwrite($fp, base64_decode('Y3QgaWYgcG9ydCA0NDMgaXMgb3Blbik8L29wdGlvbj4KPC9zZWxlY3Q+PC9wPgo8L2Zvcm0+CjwvZGl2PgoKPGRpdiBpZD0ic3RlcDIiPgo8aDI+U3RlcCAyOiBJbml0aWFsaXplIGRhdGFiYXNlPC9oMj4KPHA+PGZvbnQgY29sb3I9InJlZCI+PGI+SWYgeW91IGFs'));
	@fwrite($fp, base64_decode('cmVhZHkgaGF2ZSBhbiBPSURwbHVzIGRhdGFiYXNlIGFuZCBqdXN0IHdhbnQgdG8gcmVidWlsZCB0aGUgY29uZmlnIGZpbGUsIHBsZWFzZSBza2lwIHRoaXMgc3RlcC48L2I+PC9mb250PjwvcD4KPHA+T3RoZXJ3aXNlLCBpbXBvcnQgb25lIG9mIHRoZSBmb2xsb3dp'));
	@fwrite($fp, base64_decode('bmcgTXlTUUwgZHVtcHMgaW4geW91ciBkYXRhYmFzZTo8L3A+CjxwPjx1bD4KCTxsaT48YSBocmVmPSJzdHJ1Y3RfZW1wdHkuc3FsLnBocCIgaWQ9InN0cnVjdF8xIiB0YXJnZXQ9Il9ibGFuayI+RW1wdHkgT0lEcGx1cyBkYXRhYmFzZSB3aXRob3V0IGV4YW1wbGUg'));
	@fwrite($fp, base64_decode('ZGF0YTwvYT48c3BhbiBpZD0ic3RydWN0X2NsaV8xIj48L3NwYW4+PGJyPjxicj48L2xpPgoJPGxpPjxhIGhyZWY9InN0cnVjdF93aXRoX2V4YW1wbGVzLnNxbC5waHAiIGlkPSJzdHJ1Y3RfMiIgdGFyZ2V0PSJfYmxhbmsiPk9JRHBsdXMgZGF0YWJhc2Ugd2l0aCBl'));
	@fwrite($fp, base64_decode('eGFtcGxlIGRhdGE8L2E+PHNwYW4gaWQ9InN0cnVjdF9jbGlfMiI+PC9zcGFuPjxicj48YnI+PC9saT4KCjwvdWw+PC9wPgo8cD48Zm9udCBjb2xvcj0icmVkIj5XYXJuaW5nOiBBbGwgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyBPSURwbHVzIGluc3RhbmNlIHdpbGwg'));
	@fwrite($fp, base64_decode('YmUgZGVsZXRlZCBkdXJpbmcgdGhlIGltcG9ydC48YnI+SWYgeW91IGFscmVhZHkgaGF2ZSBhbiBPSURwbHVzIGRhdGFiYXNlLCBza2lwIHRvIFN0ZXAgMy48L2ZvbnQ+PC9wPgoKPC9kaXY+Cgo8ZGl2IGlkPSJzdGVwMyI+CjxoMj5TdGVwIDM6IFNhdmUgY29uZmln'));
	@fwrite($fp, base64_decode('LmluYy5waHAgZmlsZTwvaDI+CjxwPlNhdmUgZm9sbG93aW5nIGNvbnRlbnRzIGludG8gdGhlIGZpbGUgPGI+aW5jbHVkZXMvY29uZmlnLmluYy5waHA8L2I+OjwvcD4KPGNvZGU+PGZvbnQgY29sb3I9ImRhcmtibHVlIj48ZGl2IGlkPSJjb25maWciPjwvZGl2Pjwv'));
	@fwrite($fp, base64_decode('Zm9udD48L2NvZGU+CjwvZGl2PgoKPGRpdiBpZD0ic3RlcDQiPgo8aDI+U3RlcCA0OiBDb250aW51ZSB0byBuZXh0IHN0ZXA8L2gyPgo8cD48aW5wdXQgdHlwZT0iYnV0dG9uIiBvbmNsaWNrPSJ3aW5kb3cubG9jYXRpb24uaHJlZj0nLi4vJyIgdmFsdWU9IkNvbnRp'));
	@fwrite($fp, base64_decode('bnVlIj48L3A+CjwhLS0gPHA+PGEgaHJlZj0iLi4vIj5SdW4gdGhlIE9JRHBsdXMgc3lzdGVtPC9hPjwvcD4gLS0+CjwvZGl2PgoKPC9ib2R5Pgo8L2h0bWw+Cg=='));
	@fclose($fp);
}
if (!is_file('setup/index.php')) {
	warn('File has vanished! Will re-create it: setup/index.php');
	writefile_10();
	if (!is_file('setup/index.php')) {
		warn('File cannot be created (not existing): setup/index.php');
	} else if (sha1_file('setup/index.php') != '20a1f40eb8620e110757252eb91f434b22787729') {
		warn('File cannot be created (checksum mismatch): setup/index.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('setup/index.php', 0644)) {
		warn('Could not change file permissions of setup/index.php');
	}
} else {
	if (@sha1_file('setup/index.php') !== '20a1f40eb8620e110757252eb91f434b22787729') {
		if (@sha1_file('setup/index.php') !== 'f6677cccfb00aa5936b358ccf2aa6d23b4114605') {
			warn('File was modified. Will overwrite the changes now: setup/index.php');
			$tmp = pathinfo('setup/index.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('setup/index.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('setup/index.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_10();
		if (@sha1_file('setup/index.php') !== '20a1f40eb8620e110757252eb91f434b22787729') {
			warn('File cannot be written (checksum mismatch): setup/index.php');
		}
	}
}

// File deleted: includes/classes/OIDplusDataBasePlugin.class.php
@unlink('includes/classes/OIDplusDataBasePlugin.class.php');
if (is_file('includes/classes/OIDplusDataBasePlugin.class.php')) {
	warn('File could not be deleted: includes/classes/OIDplusDataBasePlugin.class.php');
}


file_put_contents('oidplus_version.txt', "Revision 246\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 246') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

