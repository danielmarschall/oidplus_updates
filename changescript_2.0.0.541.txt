<?php /* <ViaThinkSoftSignature>
rt4haHxYq9uDAv35MzsMP5BKf6xPfOPWgxXh7ZSkl9hJfCwMY9RrqSaVdT+71CSvs
JA+yG2Fom9R55rJkXGlwsKKdy8OLtGLSErC0x1eIAEF3xEVbGcXgmnh5HOg3VCkGB
DeOzrrK6fXWYtV1Pvi5xU7DYNCuT9hKEX4Eb2RL7b/mB1yRnJYMEJBiJ6jjtVRgnz
9l0cRrI8Gye8F/lplSrjdtFoqrW1YZaQtUq8GfCe0vvMvZ57c//SJg6nNMcqBObbB
RUaP3LOBJcw+QXh5NPcQxggJO5r7mhUaqoD0D1o2ixnSC3D7uGsn/reaS75KFKY5L
Mdps1/W6ttLLqxM6P7nRuq7F93Px+9z/wi/lv6blltm/0P9rS62e618SjGyda3VAF
qdpk+GubPhOsCBq7931To2+8QW8YHFV4lPuV252jkbdqj3NfihEeoxkmMMdboRFc6
jUMh13umwsrbFlgdaKc35AxdVFJG9U9jM1HkW2sK1I/OkscV3g6G/8RL8dbWZBO0z
ZLaK2NF6YUxBm4l5GCd0F6iREdI2UfqHgxHAoqHXiYGZGy1UyqxQC+e2l1QNVCHK4
/j9oPvczmqBy6QxulS1DLLpthFpnf/kEVunjLN4A379J3RZejF/q5AwGg4zXTzApW
cA75HVsvubUZ1Kaq5eWsp74PRWUaPb8Kgnz54h8ovWICYfUfxdJfofltMED2atmYB
kZx5nOnHJeKFKGRHO+8JMUhUmwdfVfT/tmJ5mmrMeIof5fRRXwyw96Zi8tMmIMVSV
Nvm0EFFwVDXTAkT0NZKHL1OAbe2iKH9PD7w2gz7ElcO62Cw0DtXDQAus9oe4HbXM3
xcLb9+u+qwIlGe9uRTpjf7Fs2pMRxwVHSRKsDvLd4sxBwamQjf/uqj5mrS+H2QGUK
b0UEFnblRFHyZz37qJz9t3D7HXDkwIgUi/NZnALMvKQ0u2DdWh7BFRHXhdK7a2y0d
0tuZV5IRdPRzdXyZHvyDtcD2sP7BGZSq91RNvxvu10zDlsC3Md/AKmxkhaPTyD70J
sOQsqNNzOQu8jgBAeXSS6LBIPu5RSkcBDICl7MclxXPL9zdyYPRpvMl6l7dq5/AqX
1xRn6tOg8C96rzwOmZvxaj148nvIcbHYE+w7Mz77IZKSn3tcpia62wmezha3XAcX1
zgGzyCQDk/ap849mkRe6vahymVIkMxb+zzWYQfgdcH0FNhEr/8aidxAO4WDIL3FOy
drkbLyRGh+RyN0bYSCSfdoFhaAKPHVjsyAwPLlit3Cce0tv3zUVrscekTvZm5OBzH
9scmYn7mIgWvTxHJ9RZtIHb/36DmFJzkEoR3VQae0tkliqYXCNU5zGXmbxW/xqKM5
g==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 540') {
	err('This update can only be applied to OIDplus version 2.0.0.540!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/classes/OIDplusMenuUtils.class.php
function writefile_1() {
	@$fp = fopen('includes/classes/OIDplusMenuUtils.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMSBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppZiAoIWRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykpIGRpZSgpOwoKY2xhc3MgT0lEcGx1c01lbnVVdGlscyB7CgoJcHVibGljIHN0YXRpYyBmdW5jdGlvbiBub25qc19tZW51KCkgewoJ'));
	@fwrite($fp, base64_decode('CSRqc29uID0gYXJyYXkoKTsKCgkJJHN0YXRpY19ub2RlX2lkID0gaXNzZXQoJF9SRVFVRVNUWydnb3RvJ10pID8gJF9SRVFVRVNUWydnb3RvJ10gOiAnb2lkcGx1czpzeXN0ZW0nOwoKCQlmb3JlYWNoIChPSURwbHVzOjpnZXRQYWdlUGx1Z2lucygpIGFzICRwbHVn'));
	@fwrite($fp, base64_decode('aW4pIHsKCQkJLy8gTm90ZTogVGhlIHN5c3RlbSAoT0lEcGx1c01lbnVVdGlscykgZG9lcyBvbmx5IHNob3cgdGhlIG1lbnUgb2YKCQkJLy8gICAgICAgcHVibGljUGFnZSBwbHVnaW5zLiBNZW51IGVudHJpZXMgZm9yIFJBcyBhbmQgQWRtaW5zIGFyZQoJCQkvLyAg'));
	@fwrite($fp, base64_decode('ICAgICBoYW5kbGVkIGJ5IHRoZSB0cmVlKCkgZnVuY3Rpb24gb2YgdGhlIHBsdWdpbiBwdWJsaWNQYWdlcy8wOTBfbG9naW4KCQkJaWYgKGlzX3N1YmNsYXNzX29mKCRwbHVnaW4sIE9JRHBsdXNQYWdlUGx1Z2luUHVibGljOjpjbGFzcykpIHsKCQkJCSRwbHVnaW4t'));
	@fwrite($fp, base64_decode('PnRyZWUoJGpzb24sIG51bGwsIHRydWUsICRzdGF0aWNfbm9kZV9pZCk7CgkJCX0KCQl9CgoJCWZvcmVhY2ggKCRqc29uIGFzICR4KSB7CgkJCWlmICgkc3RhdGljX25vZGVfaWQgPT0gJHhbJ2lkJ10pIGVjaG8gJzxiPic7CgkJCWlmIChpc3NldCgkeFsnaW5kZW50'));
	@fwrite($fp, base64_decode('J10pKSBlY2hvIHN0cl9yZXBlYXQoJyZuYnNwOycsICR4WydpbmRlbnQnXSo1KTsKCQkJJGN1cl9sYW5nID0gT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKTsKCQkJaWYgKCRjdXJfbGFuZyAhPSBPSURwbHVzOjpERUZBVUxUX0xBTkdVQUdFKSB7CgkJCQllY2hvICc8'));
	@fwrite($fp, base64_decode('YSBocmVmPSI/bGFuZz0nLiRjdXJfbGFuZy4nJmFtcDtnb3RvPScudXJsZW5jb2RlKCR4WydpZCddKS4nIj4nOwoJCQl9IGVsc2UgewoJCQkJZWNobyAnPGEgaHJlZj0iP2dvdG89Jy51cmxlbmNvZGUoJHhbJ2lkJ10pLiciPic7CgkJCX0KCQkJaWYgKCFlbXB0eSgk'));
	@fwrite($fp, base64_decode('eFsnaWNvbiddKSkgZWNobyAnPGltZyBzcmM9IicuJHhbJ2ljb24nXS4nIiBhbHQ9IiI+ICc7CgkJCWVjaG8gaHRtbGVudGl0aWVzKCR4WydpZCddKS4nIHwgJy5odG1sZW50aXRpZXMoJHhbJ3RleHQnXSkuJzwvYT48YnI+JzsKCQkJaWYgKCRzdGF0aWNfbm9kZV9p'));
	@fwrite($fp, base64_decode('ZCA9PSAkeFsnaWQnXSkgZWNobyAnPC9iPic7CgkJfQoKCX0KCgkvLyByZXFfaWQgY29tZXMgZnJvbSBqc1RyZWUgdmlhIEFKQVgKCS8vIHJlcV9nb3RvIGNvbWVzIGZyb20gdGhlIHVzZXIgKEdFVCBhcmd1bWVudCkKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24ganNv'));
	@fwrite($fp, base64_decode('bl90cmVlKCRyZXFfaWQsICRyZXFfZ290bykgewoJCSRqc29uID0gYXJyYXkoKTsKCgkJaWYgKCFpc3NldCgkcmVxX2lkKSB8fCAoJHJlcV9pZCA9PSAnIycpKSB7CgkJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCkgYXMgJHBsdWdpbikgewoJCQkJ'));
	@fwrite($fp, base64_decode('Ly8gTm90ZTogVGhlIHN5c3RlbSAoT0lEcGx1c01lbnVVdGlscykgZG9lcyBvbmx5IHNob3cgdGhlIG1lbnUgb2YKCQkJCS8vICAgICAgIHB1YmxpY1BhZ2UgcGx1Z2lucy4gTWVudSBlbnRyaWVzIGZvciBSQXMgYW5kIEFkbWlucyBhcmUKCQkJCS8vICAgICAgIGhh'));
	@fwrite($fp, base64_decode('bmRsZWQgYnkgdGhlIHRyZWUoKSBmdW5jdGlvbiBvZiB0aGUgcGx1Z2luIHB1YmxpY1BhZ2VzLzA5MF9sb2dpbgoJCQkJaWYgKGlzX3N1YmNsYXNzX29mKCRwbHVnaW4sIE9JRHBsdXNQYWdlUGx1Z2luUHVibGljOjpjbGFzcykpIHsKCQkJCQkkcGx1Z2luLT50cmVl'));
	@fwrite($fp, base64_decode('KCRqc29uLCBudWxsLCBmYWxzZSwgJHJlcV9nb3RvKTsKCQkJCX0KCQkJfQoJCX0gZWxzZSB7CgkJCSRqc29uID0gc2VsZjo6dHJlZV9wb3B1bGF0ZSgkcmVxX2lkKTsKCQl9CgoJCXNlbGY6OmFkZEhyZWZJZlJlcXVpcmVkKCRqc29uKTsKCgkJcmV0dXJuICRqc29u'));
	@fwrite($fp, base64_decode('OwoJfQoKCXByb3RlY3RlZCBzdGF0aWMgZnVuY3Rpb24gYWRkSHJlZklmUmVxdWlyZWQoJiRqc29uKSB7CgkJaWYgKCFpc19hcnJheSgkanNvbikpIHJldHVybjsKCQlmb3JlYWNoICgkanNvbiBhcyAmJGl0ZW0pIHsKCQkJaWYgKCFpc3NldCgkaXRlbVsnYV9hdHRy'));
	@fwrite($fp, base64_decode('J10pICYmIGlzc2V0KCRpdGVtWydpZCddKSkgewoJCQkJJGl0ZW1bJ2FfYXR0ciddID0gYXJyYXkoImhyZWYiID0+ICI/Z290bz0iLnVybGVuY29kZSgkaXRlbVsnaWQnXSkpOwoJCQl9CgkJCWlmIChpc3NldCgkaXRlbVsnY2hpbGRyZW4nXSkpIHsKCQkJCXNlbGY6'));
	@fwrite($fp, base64_decode('OmFkZEhyZWZJZlJlcXVpcmVkKCRpdGVtWydjaGlsZHJlbiddKTsKCQkJfQoJCX0KCX0KCglwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIHRyZWVfcG9wdWxhdGUoJHBhcmVudCwgJGdvdG9fcGF0aD1udWxsKSB7CgkJJGNoaWxkcmVuID0gYXJyYXkoKTsKCgkJJHBhcmVu'));
	@fwrite($fp, base64_decode('dE9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRwYXJlbnQpOwoKCQlAbGlzdCgkbmFtZXNwYWNlLCAkb2lkKSA9IGV4cGxvZGUoJzonLCAkcGFyZW50LCAyKTsKCQlpZiAoJG5hbWVzcGFjZSA9PSAnb2lkJykgJG9pZCA9IHN1YnN0cigkb2lkLCAxKTsgLy8gUmVt'));
	@fwrite($fp, base64_decode('b3ZlIGxlYWRpbmcgZG90CgoJCWlmIChpc19hcnJheSgkZ290b19wYXRoKSkgYXJyYXlfc2hpZnQoJGdvdG9fcGF0aCk7CgoJCSRjb25maWRlbnRpYWxfb2lkcyA9IGFycmF5KCk7CgoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IGlkIGZyb20g'));
	@fwrite($fp, base64_decode('IyMjb2JqZWN0cyB3aGVyZSBjb25maWRlbnRpYWwgPSA/IiwgYXJyYXkodHJ1ZSkpOwoJCXdoaWxlICgkcm93ID0gJHJlcy0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkkY29uZmlkZW50aWFsX29pZHNbXSA9ICRyb3dbJ2lkJ107CgkJfQoKCQkkcmVzID0gT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('ZGIoKS0+cXVlcnkoInNlbGVjdCAqIGZyb20gIyMjb2JqZWN0cyB3aGVyZSBwYXJlbnQgPSA/IG9yZGVyIGJ5ICIuT0lEcGx1czo6ZGIoKS0+bmF0T3JkZXIoJ2lkJyksIGFycmF5KCRwYXJlbnQpKTsKCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkp'));
	@fwrite($fp, base64_decode('IHsKCQkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRyb3dbJ2lkJ10pOwoKCQkJaWYgKCEkb2JqLT51c2VySGFzUmVhZFJpZ2h0cygpKSBjb250aW51ZTsKCgkJCSRjaGlsZCA9IGFycmF5KCk7CgkJCSRjaGlsZFsnaWQnXSA9ICRyb3dbJ2lkJ107CgoJCQkv'));
	@fwrite($fp, base64_decode('LyBEZXRlcm1pbmUgZGlzcGxheSBuYW1lIChyZWxhdGl2ZSBPSUQpCgkJCSRjaGlsZFsndGV4dCddID0gJG9iai0+anNUcmVlTm9kZU5hbWUoJHBhcmVudE9iaik7CgkJCSRjaGlsZFsndGV4dCddIC49IGVtcHR5KCRyb3dbJ3RpdGxlJ10pID8gLyonIC0tIDxpPicu'));
	@fwrite($fp, base64_decode('aHRtbGVudGl0aWVzKCdUaXRsZSBtaXNzaW5nJykuJzwvaT4nKi8gJycgOiAnIC0tIDxiPicgLiBodG1sZW50aXRpZXMoJHJvd1sndGl0bGUnXSkgLiAnPC9iPic7CgoJCQkkaXNfY29uZmlkZW50aWFsID0gZmFsc2U7CgkJCWZvcmVhY2ggKCRjb25maWRlbnRpYWxf'));
	@fwrite($fp, base64_decode('b2lkcyBhcyAkdGVzdCkgewoJCQkJJGlzX2NvbmZpZGVudGlhbCB8PSAoJHJvd1snaWQnXSA9PT0gJHRlc3QpIHx8IChzdHJwb3MoJHJvd1snaWQnXSwkdGVzdC4nLicpID09PSAwKTsKCQkJfQoJCQlpZiAoJGlzX2NvbmZpZGVudGlhbCkgewoJCQkJJGNoaWxkWyd0'));
	@fwrite($fp, base64_decode('ZXh0J10gPSAnPGZvbnQgY29sb3I9ImdyYXkiPjxpPicuJGNoaWxkWyd0ZXh0J10uJzwvaT48L2ZvbnQ+JzsKCQkJfQoKCQkJLy8gRGV0ZXJtaW5lIGljb24KCQkJJGNoaWxkWydpY29uJ10gPSAkb2JqLT5nZXRJY29uKCRyb3cpOwoKCQkJLy8gQ2hlY2sgaWYgdGhl'));
	@fwrite($fp, base64_decode('cmUgYXJlIG1vcmUgc3ViIE9JRHMKCQkJaWYgKCRnb3RvX3BhdGggPT09IHRydWUpIHsKCQkJCSRjaGlsZFsnY2hpbGRyZW4nXSA9IHNlbGY6OnRyZWVfcG9wdWxhdGUoJHJvd1snaWQnXSwgJGdvdG9fcGF0aCk7CgkJCQkkY2hpbGRbJ3N0YXRlJ10gPSBhcnJheSgi'));
	@fwrite($fp, base64_decode('b3BlbmVkIiA9PiB0cnVlKTsKCQkJfSBlbHNlIGlmICghaXNfbnVsbCgkZ290b19wYXRoKSAmJiAoY291bnQoJGdvdG9fcGF0aCkgPiAwKSAmJiAoJGdvdG9fcGF0aFswXSA9PT0gJHJvd1snaWQnXSkpIHsKCQkJCSRjaGlsZFsnY2hpbGRyZW4nXSA9IHNlbGY6OnRy'));
	@fwrite($fp, base64_decode('ZWVfcG9wdWxhdGUoJHJvd1snaWQnXSwgJGdvdG9fcGF0aCk7CgkJCQkkY2hpbGRbJ3N0YXRlJ10gPSBhcnJheSgib3BlbmVkIiA9PiB0cnVlKTsKCQkJfSBlbHNlIHsKCQkJCSRvYmpfY2hpbGRyZW4gPSAkb2JqLT5nZXRDaGlsZHJlbigpOwoKCQkJCS8vIFZhcmlh'));
	@fwrite($fp, base64_decode('bnQgMTogRmFzdCwgYnV0IGRvZXMgbm90IGNoZWNrIGZvciBoaWRkZW4gT0lEcwoJCQkJLy8kY2hpbGRfY291bnQgPSBjb3VudCgkb2JqX2NoaWxkcmVuKTsKCgkJCQkvLyB2YXJpYW50IDIKCQkJCSRjaGlsZF9jb3VudCA9IDA7CgkJCQlmb3JlYWNoICgkb2JqX2No'));
	@fwrite($fp, base64_decode('aWxkcmVuIGFzICRvYmpfdGVzdCkgewoJCQkJCWlmICghJG9ial90ZXN0LT51c2VySGFzUmVhZFJpZ2h0cygpKSBjb250aW51ZTsKCQkJCQkkY2hpbGRfY291bnQrKzsKCQkJCX0KCgkJCQkkY2hpbGRbJ2NoaWxkcmVuJ10gPSAkY2hpbGRfY291bnQgPiAwOwoJCQl9'));
	@fwrite($fp, base64_decode('CgoJCQkkY2hpbGRyZW5bXSA9ICRjaGlsZDsKCQl9CgoJCXJldHVybiAkY2hpbGRyZW47Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('includes/classes/OIDplusMenuUtils.class.php')) {
	warn('File has vanished! Will re-create it: includes/classes/OIDplusMenuUtils.class.php');
	writefile_1();
	if (!is_file('includes/classes/OIDplusMenuUtils.class.php')) {
		warn('File cannot be created (not existing): includes/classes/OIDplusMenuUtils.class.php');
	} else if (sha1_file('includes/classes/OIDplusMenuUtils.class.php') != 'f80fe20134ed77a020552f0706c0d77b3e4800e2') {
		warn('File cannot be created (checksum mismatch): includes/classes/OIDplusMenuUtils.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/classes/OIDplusMenuUtils.class.php', 0644)) {
		warn('Could not change file permissions of includes/classes/OIDplusMenuUtils.class.php');
	}
} else {
	if (@sha1_file('includes/classes/OIDplusMenuUtils.class.php') !== 'f80fe20134ed77a020552f0706c0d77b3e4800e2') {
		if (@sha1_file('includes/classes/OIDplusMenuUtils.class.php') !== 'b502f6cebb98a4161a7316175f59d85c055af31f') {
			warn('File was modified. Will overwrite the changes now: includes/classes/OIDplusMenuUtils.class.php');
			$tmp = pathinfo('includes/classes/OIDplusMenuUtils.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/classes/OIDplusMenuUtils.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/classes/OIDplusMenuUtils.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/classes/OIDplusMenuUtils.class.php') !== 'f80fe20134ed77a020552f0706c0d77b3e4800e2') {
			warn('File cannot be written (checksum mismatch): includes/classes/OIDplusMenuUtils.class.php');
		}
	}
}

// Files different: plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php
function writefile_2() {
	@$fp = fopen('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IC0gMjAyMSBEYW5pZWwgTWFyc2NoYWxsLCBWaWFUaGlua1NvZnQKICoKICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7'));
	@fwrite($fp, base64_decode('CiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiAqCiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5z'));
	@fwrite($fp, base64_decode('ZXMvTElDRU5TRS0yLjAKICoKICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMi'));
	@fwrite($fp, base64_decode('IEJBU0lTLAogKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25z'));
	@fwrite($fp, base64_decode('IGFuZAogKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KICovCgppZiAoIWRlZmluZWQoJ0lOU0lERV9PSURQTFVTJykpIGRpZSgpOwoKY2xhc3MgT0lEcGx1c1BhZ2VQdWJsaWNSZXNvdXJjZXMgZXh0ZW5kcyBPSURwbHVzUGFnZVBsdWdpblB1YmxpYyB7'));
	@fwrite($fp, base64_decode('CgoJcHJpdmF0ZSBmdW5jdGlvbiBnZXRNYWluVGl0bGUoKSB7CgkJcmV0dXJuIF9MKCdEb2N1bWVudHMgYW5kIFJlc291cmNlcycpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpbml0KCRodG1sPXRydWUpIHsKCQlPSURwbHVzOjpjb25maWcoKS0+cHJlcGFyZUNvbmZp'));
	@fwrite($fp, base64_decode('Z0tleSgncmVzb3VyY2VfcGx1Z2luX2F1dG9vcGVuX2xldmVsJywgJ1Jlc291cmNlIHBsdWdpbjogSG93IG1hbnkgbGV2ZWxzIHNob3VsZCBiZSBvcGVuIGluIHRoZSB0cmVldmlldyB3aGVuIE9JRHBsdXMgaXMgbG9hZGVkPycsICcxJywgT0lEcGx1c0NvbmZpZzo6'));
	@fwrite($fp, base64_decode('UFJPVEVDVElPTl9FRElUQUJMRSwgZnVuY3Rpb24oJHZhbHVlKSB7CgkJCWlmICghaXNfbnVtZXJpYygkdmFsdWUpIHx8ICgkdmFsdWUgPCAwKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHZhbHVlLicp'));
	@fwrite($fp, base64_decode('KTsKCQkJfQoJCX0pOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5kZWxldGVDb25maWdLZXkoJ3Jlc291cmNlX3BsdWdpbl90aXRsZScpOwoJCU9JRHBsdXM6OmNvbmZpZygpLT5kZWxldGVDb25maWdLZXkoJ3Jlc291cmNlX3BsdWdpbl9wYXRoJyk7CgkJT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('Y29uZmlnKCktPnByZXBhcmVDb25maWdLZXkoJ3Jlc291cmNlX3BsdWdpbl9oaWRlX2VtcHR5X3BhdGgnLCdSZXNvdXJjZSBwbHVnaW46IEhpZGUgZW1wdHkgcGF0aHM/ICgwPW5vLCAxPXllcyknLCAnMScsIE9JRHBsdXNDb25maWc6OlBST1RFQ1RJT05fRURJVEFC'));
	@fwrite($fp, base64_decode('TEUsIGZ1bmN0aW9uKCR2YWx1ZSkgewoJCQlpZiAoIWlzX251bWVyaWMoJHZhbHVlKSB8fCAoKCR2YWx1ZSAhPSAwKSAmJiAoJHZhbHVlICE9IDEpKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHZhbHVl'));
	@fwrite($fp, base64_decode('ICgwPW5vLCAxPXllcykuJykpOwoJCQl9CgkJfSk7Cgl9CgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gZ2V0RG9jdW1lbnRDb250ZW50KCRmaWxlKSB7CgkJJGZpbGUgPSBPSURwbHVzOjpsb2NhbHBhdGgoKS5zZWxmOjpyZWFsbmFtZSgkZmlsZSk7CgkJJGZpbGUy'));
	@fwrite($fp, base64_decode('ID0gcHJlZ19yZXBsYWNlKCcvXC4oW14uXSspJC8nLCAnJCcuT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKS4nLlwxJywgJGZpbGUpOwoJCWlmIChmaWxlX2V4aXN0cygkZmlsZTIpKSAkZmlsZSA9ICRmaWxlMjsKCgkJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygk'));
	@fwrite($fp, base64_decode('ZmlsZSk7CgoJCWxpc3QoJGh0bWwsICRqcywgJGNzcykgPSBleHRyYWN0SHRtbENvbnRlbnRzKCRjb250KTsKCQkkY29udCA9ICcnOwoJCWlmICghZW1wdHkoJGpzKSkgICRjb250IC49ICI8c2NyaXB0PlxuJGpzXG48L3NjcmlwdD4iOwoJCWlmICghZW1wdHkoJGNz'));
	@fwrite($fp, base64_decode('cykpICRjb250IC49ICI8c3R5bGU+XG4kY3NzXG48L3N0eWxlPiI7CgkJJGNvbnQgLj0gJGh0bWw7CgoJCXJldHVybiAkY29udDsKCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXREb2N1bWVudFRpdGxlKCRmaWxlKSB7CgkJJGZpbGUgPSBPSURwbHVzOjps'));
	@fwrite($fp, base64_decode('b2NhbHBhdGgoKS5zZWxmOjpyZWFsbmFtZSgkZmlsZSk7CgkJJGZpbGUyID0gcHJlZ19yZXBsYWNlKCcvXC4oW14uXSspJC8nLCAnJCcuT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKS4nLlwxJywgJGZpbGUpOwoJCWlmIChmaWxlX2V4aXN0cygkZmlsZTIpKSAkZmls'));
	@fwrite($fp, base64_decode('ZSA9ICRmaWxlMjsKCgkJJGNvbnQgPSBmaWxlX2dldF9jb250ZW50cygkZmlsZSk7CgoJCS8vIG1ha2Ugc3VyZSB0aGUgcHJvZ3JhbSB3b3JrcyBldmVuIGlmIHRoZSB1c2VyIHByb3ZpZGVkIEhUTUwgaXMgbm90IFVURi04CgkJJGNvbnQgPSBpY29udihtYl9kZXRl'));
	@fwrite($fp, base64_decode('Y3RfZW5jb2RpbmcoJGNvbnQsIG1iX2RldGVjdF9vcmRlcigpLCB0cnVlKSwgJ1VURi04Ly9JR05PUkUnLCAkY29udCk7CgkJJGJvbSA9IHBhY2soJ0gqJywnRUZCQkJGJyk7CgkJJGNvbnQgPSBwcmVnX3JlcGxhY2UoIi9eJGJvbS8iLCAnJywgJGNvbnQpOwoKCQkk'));
	@fwrite($fp, base64_decode('bSA9IGFycmF5KCk7CgkJaWYgKHByZWdfbWF0Y2goJ0A8dGl0bGU+KC4rKTwvdGl0bGU+QGlzbVUnLCAkY29udCwgJG0pKSByZXR1cm4gJG1bMV07CgkJaWYgKHByZWdfbWF0Y2goJ0A8aDE+KC4rKTwvaDE+QGlzbVUnLCAkY29udCwgJG0pKSByZXR1cm4gJG1bMV07'));
	@fwrite($fp, base64_decode('CgkJaWYgKHByZWdfbWF0Y2goJ0A8aDI+KC4rKTwvaDI+QGlzbVUnLCAkY29udCwgJG0pKSByZXR1cm4gJG1bMV07CgkJaWYgKHByZWdfbWF0Y2goJ0A8aDM+KC4rKTwvaDM+QGlzbVUnLCAkY29udCwgJG0pKSByZXR1cm4gJG1bMV07CgkJaWYgKHByZWdfbWF0Y2go'));
	@fwrite($fp, base64_decode('J0A8aDQ+KC4rKTwvaDQ+QGlzbVUnLCAkY29udCwgJG0pKSByZXR1cm4gJG1bMV07CgkJaWYgKHByZWdfbWF0Y2goJ0A8aDU+KC4rKTwvaDU+QGlzbVUnLCAkY29udCwgJG0pKSByZXR1cm4gJG1bMV07CgkJaWYgKHByZWdfbWF0Y2goJ0A8aDY+KC4rKTwvaDY+QGlz'));
	@fwrite($fp, base64_decode('bVUnLCAkY29udCwgJG0pKSByZXR1cm4gJG1bMV07CgkJcmV0dXJuIHBhdGhpbmZvKCRmaWxlLCBQQVRISU5GT19GSUxFTkFNRSk7IC8vIGZpbGVuYW1lIHdpdGhvdXQgZXh0ZW5zaW9uCgl9CgoJcHJvdGVjdGVkIHN0YXRpYyBmdW5jdGlvbiBtYXlBY2Nlc3NSZXNv'));
	@fwrite($fp, base64_decode('dXJjZSgkc291cmNlKSB7CgkJaWYgKE9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgcmV0dXJuIHRydWU7CgoJCSRjYW5kaWRhdGVzID0gYXJyYXkoCgkJCU9JRHBsdXM6OmxvY2FscGF0aCgpLid1c2VyZGF0YS9yZXNvdXJjZXMvc2VjdXJp'));
	@fwrite($fp, base64_decode('dHkuaW5pJywKCQkJT0lEcGx1czo6bG9jYWxwYXRoKCkuJ3Jlcy9zZWN1cml0eS5pbmknCgkJKTsKCQlmb3JlYWNoICgkY2FuZGlkYXRlcyBhcyAkaW5pX2ZpbGUpIHsKCQkJaWYgKGZpbGVfZXhpc3RzKCRpbmlfZmlsZSkpIHsKCQkJCSRkYXRhID0gQHBhcnNlX2lu'));
	@fwrite($fp, base64_decode('aV9maWxlKCRpbmlfZmlsZSwgdHJ1ZSk7CgkJCQlpZiAoaXNzZXQoJGRhdGFbJ1NlY3VyaXR5J10pICYmIGlzc2V0KCRkYXRhWydTZWN1cml0eSddWyRzb3VyY2VdKSkgewoJCQkJCSRsZXZlbCA9ICRkYXRhWydTZWN1cml0eSddWyRzb3VyY2VdOwoJCQkJCWlmICgk'));
	@fwrite($fp, base64_decode('bGV2ZWwgPT0gJ1BVQkxJQycpIHsKCQkJCQkJcmV0dXJuIHRydWU7CgkJCQkJfSBlbHNlIGlmICgkbGV2ZWwgPT0gJ1JBJykgewoJCQkJCQlyZXR1cm4KCQkJCQkJCSgoT0lEcGx1czo6YXV0aFV0aWxzKCk6OnJhTnVtTG9nZ2VkSW4oKSA+IDApIHx8CgkJCQkJCQko'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSk7CgkJCQkJfSBlbHNlIGlmICgkbGV2ZWwgPT0gJ0FETUlOJykgewoJCQkJCQlyZXR1cm4gT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpOwoJCQkJCX0gZWxzZSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdVbmV4cGVjdGVkIHNlY3VyaXR5IGxldmVsIGluICUxIChleHBlY3QgUFVCTElDLCBSQSBvciBBRE1JTiknLCAkaW5pX2ZpbGUpKTsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIHRydWU7Cgl9'));
	@fwrite($fp, base64_decode('CgoJcHJpdmF0ZSBzdGF0aWMgZnVuY3Rpb24gbXlnbG9iKCRyZWxkaXIsICRvbmx5ZGlyPWZhbHNlKSB7CgkJJG91dCA9IGFycmF5KCk7CgoJCSRyb290ID0gT0lEcGx1czo6bG9jYWxwYXRoKCkuJ3VzZXJkYXRhL3Jlc291cmNlcy8nOwoJCSRyZXMgPSAkb25seWRp'));
	@fwrite($fp, base64_decode('ciA/IGdsb2IoJHJvb3QubHRyaW0oJHJlbGRpciwnLycpLCBHTE9CX09OTFlESVIpIDogZ2xvYigkcm9vdC5sdHJpbSgkcmVsZGlyLCcvJykpOwoJCWZvcmVhY2ggKCRyZXMgYXMgJiR4KSB7CgkJCSR4ID0gc3Vic3RyKCR4LCBzdHJsZW4oJHJvb3QpKTsKCQkJaWYg'));
	@fwrite($fp, base64_decode('KHN0cnBvcygkeCwnJCcpICE9PSBmYWxzZSkgY29udGludWU7CgkJCSRvdXRbXSA9ICR4OwoJCX0KCgkJJHJvb3QgPSBPSURwbHVzOjpsb2NhbHBhdGgoKS4ncmVzLyc7CgkJJHJlcyA9ICRvbmx5ZGlyID8gZ2xvYigkcm9vdC5sdHJpbSgkcmVsZGlyLCcvJyksIEdM'));
	@fwrite($fp, base64_decode('T0JfT05MWURJUikgOiBnbG9iKCRyb290Lmx0cmltKCRyZWxkaXIsJy8nKSk7CgkJZm9yZWFjaCAoJHJlcyBhcyAkeCkgewoJCQkkeCA9IHN1YnN0cigkeCwgc3RybGVuKCRyb290KSk7CgkJCWlmIChzdHJwb3MoJHgsJyQnKSAhPT0gZmFsc2UpIGNvbnRpbnVlOwoJ'));
	@fwrite($fp, base64_decode('CQkkb3V0W10gPSAkeDsKCQl9CgoJCSRvdXQgPSBhcnJheV91bmlxdWUoJG91dCk7CgoJCXJldHVybiBhcnJheV9maWx0ZXIoJG91dCwgZnVuY3Rpb24oJHYsICRrKSB7CgkJCXJldHVybiBzZWxmOjptYXlBY2Nlc3NSZXNvdXJjZSgkdik7CgkJfSwgQVJSQVlfRklM'));
	@fwrite($fp, base64_decode('VEVSX1VTRV9CT1RIKTsKCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiByZWFsbmFtZSgkcmVsKSB7CgkJJGNhbmRpZGF0ZTEgPSBPSURwbHVzOjpsb2NhbHBhdGgoKS4ndXNlcmRhdGEvcmVzb3VyY2VzLycuJHJlbDsKCQkkY2FuZGlkYXRlMiA9IE9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmxvY2FscGF0aCgpLidyZXMvJy4kcmVsOwoJCWlmIChmaWxlX2V4aXN0cygkY2FuZGlkYXRlMSkgfHwgaXNfZGlyKCRjYW5kaWRhdGUxKSkgcmV0dXJuICJ1c2VyZGF0YS9yZXNvdXJjZXMvJHJlbCI7CgkJaWYgKGZpbGVfZXhpc3RzKCRjYW5kaWRhdGUyKSB8fCBp'));
	@fwrite($fp, base64_decode('c19kaXIoJGNhbmRpZGF0ZTIpKSByZXR1cm4gInJlcy8kcmVsIjsKCX0KCglwcm90ZWN0ZWQgc3RhdGljIGZ1bmN0aW9uIGNoZWNrUmVkaXJlY3QoJHNvdXJjZSwgJiR0YXJnZXQpOiBib29sIHsKCQkkY2FuZGlkYXRlcyA9IGFycmF5KAoJCQlPSURwbHVzOjpsb2Nh'));
	@fwrite($fp, base64_decode('bHBhdGgoKS4ndXNlcmRhdGEvcmVzb3VyY2VzL3JlZGlyZWN0LmluaScsCgkJCU9JRHBsdXM6OmxvY2FscGF0aCgpLidyZXMvcmVkaXJlY3QuaW5pJwoJCSk7CgkJZm9yZWFjaCAoJGNhbmRpZGF0ZXMgYXMgJGluaV9maWxlKSB7CgkJCWlmIChmaWxlX2V4aXN0cygk'));
	@fwrite($fp, base64_decode('aW5pX2ZpbGUpKSB7CgkJCQkkZGF0YSA9IEBwYXJzZV9pbmlfZmlsZSgkaW5pX2ZpbGUsIHRydWUpOwoJCQkJaWYgKGlzc2V0KCRkYXRhWydSZWRpcmVjdHMnXSkgJiYgaXNzZXQoJGRhdGFbJ1JlZGlyZWN0cyddWyRzb3VyY2VdKSkgewoJCQkJCSR0YXJnZXQgPSAk'));
	@fwrite($fp, base64_decode('ZGF0YVsnUmVkaXJlY3RzJ11bJHNvdXJjZV07CgkJCQkJcmV0dXJuIHRydWU7CgkJCQl9CgkJCX0KCQl9CgkJcmV0dXJuIGZhbHNlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBndWkoJGlkLCAmJG91dCwgJiRoYW5kbGVkKSB7CgkJaWYgKGV4cGxvZGUoJyQnLCRpZCwy'));
	@fwrite($fp, base64_decode('KVswXSA9PT0gJ29pZHBsdXM6cmVzb3VyY2VzJykgewoJCQkkaGFuZGxlZCA9IHRydWU7CgoJCQkkZmlsZSA9IEBleHBsb2RlKCckJywkaWQpWzFdOwoKCQkJLy8gU2VjdXJpdHkgY2hlY2tzCgoJCQlpZiAoCgkJCQkoJGZpbGUgIT0gJycpICYmICgKCQkJCShzdHJw'));
	@fwrite($fp, base64_decode('b3MoJGZpbGUsIGNocigwKSkgIT09IGZhbHNlKSB8fCAvLyBEaXJlY3RvcnkgdHJhdmVyc2FsIChMRkksUkZJKSBoZWxwZXIKCQkJCShzdHJwb3MoJGZpbGUsICcuLi8nKSAhPT0gZmFsc2UpIHx8ICgkZmlsZVswXSA9PSAnLycpIHx8ICgkZmlsZVswXSA9PSAnficp'));
	@fwrite($fp, base64_decode('IHx8IC8vIDwtLSBMb2NhbCBGaWxlIEluamVjdGlvbiAoTEZJKQoJCQkJKCRmaWxlWzBdID09ICcuJykgfHwgKHN0cnBvcygkZmlsZSwgJy8uJykgIT09IGZhbHNlKSB8fCAgICAgICAgICAgICAgICAgICAgICAgLy8gPC0tIENhbGxpbmcgaGlkZGVuIGZpbGVzIGUu'));
	@fwrite($fp, base64_decode('Zy4gIi5odHBhc3N3ZCIKCQkJCShzdHJwb3MoJGZpbGUsICc6Ly8nKSAhPT0gZmFsc2UpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDwtLSBSZW1vdGUgRmlsZSBJbmplY3Rpb24gKFJGSSkKCQkJICAgKSkgewoJCQkJaWYg'));
	@fwrite($fp, base64_decode('KHN0cnBvcygkZmlsZSwgY2hyKDApKSAhPT0gZmFsc2UpIHsKCQkJCQkkZmlsZSA9IHN0cl9yZXBsYWNlKGNocigwKSwgJ1tOVUxdJywgJGZpbGUpOwoJCQkJfQoJCQkJLy8gVGhpcyB3aWxsIG5vdCBiZSBsb2dnZWQgYW55bW9yZSwgYmVjYXVzZSBwZW9wbGUgY291'));
	@fwrite($fp, base64_decode('bGQgc3BhbSB0aGUgbG9nIGZpbGVzIG90aGVyd2lzZQoJCQkJLy9PSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJbV0FSTl1BISIsICJMRkkvUkZJIGF0dGFjayBibG9ja2VkIChyZXF1ZXN0ZWQgZmlsZSAnJGZpbGUnKSIpOwoJCQkJJG91dFsndGl0bGUnXSA9IF9MKCdB'));
	@fwrite($fp, base64_decode('Y2Nlc3MgZGVuaWVkJyk7CgkJCQkkb3V0WydpY29uJ10gPSAnaW1nL2Vycm9yX2JpZy5wbmcnOwoJCQkJJG91dFsndGV4dCddID0gJzxwPicuX0woJ1RoaXMgcmVxdWVzdCBpcyBpbnZhbGlkJykuJzwvcD4nOwoJCQkJcmV0dXJuOwoJCQl9CgoJCQkkb3V0Wyd0ZXh0'));
	@fwrite($fp, base64_decode('J10gPSAnJzsKCgkJCS8vIENoZWNrIGZvciBwZXJtaXNzaW9uCgoJCQlpZiAoJGZpbGUgIT0gJycpIHsKCQkJCWlmICghc2VsZjo6bWF5QWNjZXNzUmVzb3VyY2UoJGZpbGUpKSB7CgkJCQkJJG91dFsndGl0bGUnXSA9IF9MKCdBY2Nlc3MgZGVuaWVkJyk7CgkJCQkJ'));
	@fwrite($fp, base64_decode('JG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCQkkb3V0Wyd0ZXh0J10gPSAnPHA+Jy5fTCgnQXV0aGVudGljYXRpb24gZXJyb3IuIFBsZWFzZSBsb2cgaW4uJykuJzwvcD4nOwoJCQkJCXJldHVybjsKCQkJCX0KCQkJfQoKCQkJLy8gUmVkaXJl'));
	@fwrite($fp, base64_decode('Y3Rpb25zCgoJCQlpZiAoJGZpbGUgIT0gJycpIHsKCQkJCSR0YXJnZXQgPSBudWxsOwoJCQkJaWYgKHNlbGY6OmNoZWNrUmVkaXJlY3QoJGZpbGUsICR0YXJnZXQpKSB7CgkJCQkJJG91dFsndGl0bGUnXSA9IF9MKCdQbGVhc2Ugd2FpdC4uLicpOwoJCQkJCSRvdXRb'));
	@fwrite($fp, base64_decode('J3RleHQnXSA9ICc8cD4nLl9MKCdZb3UgYXJlIGJlaW5nIHJlZGlyZWN0ZWQuLi4nKS4nPC9wPjxzY3JpcHQ+d2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLmpzX2VzY2FwZSgkdGFyZ2V0KS4nOzwvc2NyaXB0Pic7CgkJCQkJcmV0dXJuOwoJCQkJfQoJCQl9CgoJCQkv'));
	@fwrite($fp, base64_decode('LyBGaXJzdCwgIkdvIGJhY2sgdG8iIGxpbmUKCgkJCWlmICgkZmlsZSAhPSAnJykgewoJCQkJJGRpciA9IGRpcm5hbWUoJGZpbGUpOwoKCQkJCWlmICgkZGlyID09ICcuJykgewoJCQkJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsK'));
	@fwrite($fp, base64_decode('CQkJCQkJJHRyZWVfaWNvbiA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3RyZWVpY29uLnBuZyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCQkJCX0KCgkJCQkJJGljID0gZW1wdHko'));
	@fwrite($fp, base64_decode('JHRyZWVfaWNvbikgPyAnJyA6ICc8aW1nIHNyYz0iJy4kdHJlZV9pY29uLiciIGFsdD0iIj4nOwoKCQkJCQkkbG5nX2dvYmFja3RvID0gX0woJ0dvIGJhY2sgdG8nKS4nOic7CgkJCQkJJG91dFsndGV4dCddIC49ICc8cD48YSAnLk9JRHBsdXM6Omd1aSgpLT5saW5r'));
	@fwrite($fp, base64_decode('KCdvaWRwbHVzOnJlc291cmNlcycpLic+PGltZyBzcmM9ImltZy9hcnJvd19iYWNrLnBuZyIgd2lkdGg9IjE2IiBhbHQ9IicuX0woJ0dvIGJhY2snKS4nIj4gJy4kbG5nX2dvYmFja3RvLicgJy4kaWMuJyAnLmh0bWxlbnRpdGllcygkdGhpcy0+Z2V0TWFpblRpdGxl'));
	@fwrite($fp, base64_decode('KCkpLic8L2E+PC9wPic7CgkJCQl9IGVsc2UgewoJCQkJCSRyZWFsZGlyID0gc2VsZjo6cmVhbG5hbWUoJGRpcik7CgoJCQkJCSR0cmVlX2ljb24gPSBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18pLidzaG93X2ljb24ucGhwP21vZGU9dHJlZWljb25fZm9sZGVyJmxh'));
	@fwrite($fp, base64_decode('bmc9Jy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicmZmlsZT0nLnVybGVuY29kZSgkZGlyKTsKCQkJCQkvKgoJCQkJCSRpY29uX2NhbmRpZGF0ZSA9IHBhdGhpbmZvKCRyZWFsZGlyKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkcmVhbGRpcilbJ2ZpbGVuYW1l'));
	@fwrite($fp, base64_decode('J10uJ190cmVlLnBuZyc7CgkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkJJHRyZWVfaWNvbiA9ICRpY29uX2NhbmRpZGF0ZTsKCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbl9mb2xkZXIucG5n'));
	@fwrite($fp, base64_decode('JykpIHsKCQkJCQkJJHRyZWVfaWNvbiA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3RyZWVpY29uX2ZvbGRlci5wbmcnOwoJCQkJCX0gZWxzZSB7CgkJCQkJCSR0cmVlX2ljb24gPSBudWxsOyAvLyBubyBpY29uCgkJCQkJfQoJCQkJCSovCgoJCQkJCSRpYyA9'));
	@fwrite($fp, base64_decode('IGVtcHR5KCR0cmVlX2ljb24pID8gJycgOiAnPGltZyBzcmM9IicuJHRyZWVfaWNvbi4nIiBhbHQ9IiI+JzsKCgkJCQkJJG91dFsndGV4dCddIC49ICc8cD48YSAnLk9JRHBsdXM6Omd1aSgpLT5saW5rKCdvaWRwbHVzOnJlc291cmNlcyQnLnJ0cmltKCRkaXIsJy8n'));
	@fwrite($fp, base64_decode('KS4nLycpLic+PGltZyBzcmM9ImltZy9hcnJvd19iYWNrLnBuZyIgd2lkdGg9IjE2IiBhbHQ9IicuX0woJ0dvIGJhY2snKS4nIj4gJy5fTCgnR28gYmFjayB0bycpLic6ICcuJGljLicgJy5odG1sZW50aXRpZXMoc2VsZjo6Z2V0Rm9sZGVyVGl0bGUoJHJlYWxkaXIp'));
	@fwrite($fp, base64_decode('KS4nPC9hPjwvcD48YnI+JzsKCQkJCX0KCQkJfQoKCQkJLy8gVGhlbiB0aGUgY29udGVudAoKCQkJJHJlYWxmaWxlID0gc2VsZjo6cmVhbG5hbWUoJGZpbGUpOwoJCQkvLyAkcmVhbGZpbGUyID0gcHJlZ19yZXBsYWNlKCcvXC4oW14uXSspJC8nLCAnJCcuT0lEcGx1'));
	@fwrite($fp, base64_decode('czo6Z2V0Q3VycmVudExhbmcoKS4nLlwxJywgJHJlYWxmaWxlKTsKCQkJLy8gaWYgKGZpbGVfZXhpc3RzKCRyZWFsZmlsZTIpKSAkcmVhbGZpbGUgPSAkcmVhbGZpbGUyOwoKCQkJaWYgKGZpbGVfZXhpc3RzKCRyZWFsZmlsZSkgJiYgKCFpc19kaXIoJHJlYWxmaWxl'));
	@fwrite($fp, base64_decode('KSkpIHsKCQkJCWlmICgoc3Vic3RyKCRmaWxlLC00LDQpID09ICcudXJsJykgfHwgKHN1YnN0cigkZmlsZSwtNSw1KSA9PSAnLmxpbmsnKSkgewoJCQkJCSRvdXRbJ3RpdGxlJ10gPSAkdGhpcy0+Z2V0SHlwZXJsaW5rVGl0bGUoJHJlYWxmaWxlKTsKCgkJCQkJJG91'));
	@fwrite($fp, base64_decode('dFsnaWNvbiddID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4nc2hvd19pY29uLnBocD9tb2RlPWljb25fbGVhZl91cmxfYmlnJmxhbmc9Jy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicmZmlsZT0nLnVybGVuY29kZSgkZmlsZSk7CgkJCQkJLyoKCQkJCQkk'));
	@fwrite($fp, base64_decode('aWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkcmVhbGZpbGUpWydkaXJuYW1lJ10uJy8nLnBhdGhpbmZvKCRyZWFsZmlsZSlbJ2ZpbGVuYW1lJ10uJ19iaWcucG5nJzsKCQkJCQlpZiAoZmlsZV9leGlzdHMoJGljb25fY2FuZGlkYXRlKSkgewoJCQkJCQkkb3V0Wydp'));
	@fwrite($fp, base64_decode('Y29uJ10gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9sZWFmX3VybF9iaWcucG5nJykpIHsKCQkJCQkJJG91dFsnaWNvbiddID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4naWNvbl9sZWFmX3Vy'));
	@fwrite($fp, base64_decode('bF9iaWcucG5nJzsKCQkJCQl9IGVsc2UgewoJCQkJCQkkb3V0WydpY29uJ10gPSAnJzsKCQkJCQl9CgkJCQkJKi8KCgkJCQkJLy8gU2hvdWxkIG5vdCBoYXBwZW4gdGhvdWdoLCBkdWUgdG8gY29uZGl0aW9uYWxzZWxlY3QKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxh'));
	@fwrite($fp, base64_decode('IGhyZWY9IicuaHRtbGVudGl0aWVzKHNlbGY6OmdldEh5cGVybGlua1VSTCgkcmVhbGZpbGUpKS4nIiB0YXJnZXQ9Il9ibGFuayI+Jy5fTCgnT3BlbiBpbiBuZXcgd2luZG93JykuJzwvYT4nOwoJCQkJfSBlbHNlIGlmICgoc3Vic3RyKCRmaWxlLC00LDQpID09ICcu'));
	@fwrite($fp, base64_decode('aHRtJykgfHwgKHN1YnN0cigkZmlsZSwtNSw1KSA9PSAnLmh0bWwnKSkgewoJCQkJCSRvdXRbJ3RpdGxlJ10gPSAkdGhpcy0+Z2V0RG9jdW1lbnRUaXRsZSgkZmlsZSk7CgoJCQkJCSRvdXRbJ2ljb24nXSA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3Nob3df'));
	@fwrite($fp, base64_decode('aWNvbi5waHA/bW9kZT1pY29uX2xlYWZfZG9jX2JpZyZsYW5nPScuT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKS4nJmZpbGU9Jy51cmxlbmNvZGUoJGZpbGUpOwoJCQkJCS8qCgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJHJlYWxmaWxlKVsnZGlybmFt'));
	@fwrite($fp, base64_decode('ZSddLicvJy5wYXRoaW5mbygkcmVhbGZpbGUpWydmaWxlbmFtZSddLidfYmlnLnBuZyc7CgkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkJJG91dFsnaWNvbiddID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCX0gZWxzZSBpZiAoZmls'));
	@fwrite($fp, base64_decode('ZV9leGlzdHMoX19ESVJfXy4nL2ljb25fbGVhZl9kb2NfYmlnLnBuZycpKSB7CgkJCQkJCSRvdXRbJ2ljb24nXSA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ2ljb25fbGVhZl9kb2NfYmlnLnBuZyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJG91dFsnaWNvbidd'));
	@fwrite($fp, base64_decode('ID0gJyc7CgkJCQkJfQoJCQkJCSovCgoJCQkJCSRvdXRbJ3RleHQnXSAuPSBzZWxmOjpnZXREb2N1bWVudENvbnRlbnQoJGZpbGUpOwoJCQkJfSBlbHNlIHsKCQkJCQkkb3V0Wyd0aXRsZSddID0gX0woJ1Vua25vd24gZmlsZSB0eXBlJyk7CgkJCQkJJG91dFsnaWNv'));
	@fwrite($fp, base64_decode('biddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCQkkb3V0Wyd0ZXh0J10gPSAnPHA+Jy5fTCgnVGhlIHN5c3RlbSBkb2VzIG5vdCBrbm93IGhvdyB0byBoYW5kbGUgdGhpcyBmaWxlIHR5cGUuJykuJzwvcD4nOwoJCQkJCXJldHVybjsKCQkJCX0KCQkJfSBlbHNl'));
	@fwrite($fp, base64_decode('IGlmIChpc19kaXIoJHJlYWxmaWxlKSkgewoJCQkJJG91dFsndGl0bGUnXSA9ICgkZmlsZSA9PSAnJykgPyAkdGhpcy0+Z2V0TWFpblRpdGxlKCkgOiBzZWxmOjpnZXRGb2xkZXJUaXRsZSgkcmVhbGZpbGUpOwoKCQkJCWlmICgkZmlsZSA9PSAnJykgewoJCQkJCSRv'));
	@fwrite($fp, base64_decode('dXRbJ2ljb24nXSA9IGZpbGVfZXhpc3RzKF9fRElSX18uJy9pY29uX2JpZy5wbmcnKSA/IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ2ljb25fYmlnLnBuZycgOiAnJzsKCQkJCX0gZWxzZSB7CgkJCQkJJG91dFsnaWNvbiddID0gT0lEcGx1czo6d2VicGF0aChf'));
	@fwrite($fp, base64_decode('X0RJUl9fKS4nc2hvd19pY29uLnBocD9tb2RlPWljb25fZm9sZGVyX2JpZyZsYW5nPScuT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKS4nJmZpbGU9Jy51cmxlbmNvZGUoJGZpbGUpOwoJCQkJCS8qCgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJHJlYWxm'));
	@fwrite($fp, base64_decode('aWxlKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkcmVhbGZpbGUpWydmaWxlbmFtZSddLidfYmlnLnBuZyc7CgkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkJJG91dFsnaWNvbiddID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCX0g'));
	@fwrite($fp, base64_decode('ZWxzZSBpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL2ljb25fZm9sZGVyX2JpZy5wbmcnKSkgewoJCQkJCQkkb3V0WydpY29uJ10gPSBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18pLidpY29uX2ZvbGRlcl9iaWcucG5nJzsKCQkJCQl9IGVsc2UgewoJCQkJCQkkb3V0'));
	@fwrite($fp, base64_decode('WydpY29uJ10gPSBudWxsOyAvLyBubyBpY29uCgkJCQkJfQoJCQkJCSovCgkJCQl9CgoJCQkJaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbi5wbmcnKSkgewoJCQkJCSR0cmVlX2ljb24gPSBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18pLid0cmVlaWNv'));
	@fwrite($fp, base64_decode('bi5wbmcnOwoJCQkJfSBlbHNlIHsKCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJCQl9CgoJCQkJJGNvdW50ID0gMDsKCgkJCQkkZGlycyA9IHNlbGY6Om15Z2xvYihydHJpbSgkZmlsZSwnLycpLicvJy4nKicsIHRydWUp'));
	@fwrite($fp, base64_decode('OwoJCQkJbmF0Y2FzZXNvcnQoJGRpcnMpOwoJCQkJZm9yZWFjaCAoJGRpcnMgYXMgJGRpcikgewoJCQkJCSRyZWFsZGlyID0gc2VsZjo6cmVhbG5hbWUoJGRpcik7CgkJCQkJJHRyZWVfaWNvbiA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3Nob3dfaWNvbi5w'));
	@fwrite($fp, base64_decode('aHA/bW9kZT10cmVlaWNvbl9mb2xkZXImbGFuZz0nLk9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCkuJyZmaWxlPScudXJsZW5jb2RlKCRkaXIpOwoJCQkJCS8qCgkJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJHJlYWxkaXIpWydkaXJuYW1lJ10uJy8nLnBh'));
	@fwrite($fp, base64_decode('dGhpbmZvKCRyZWFsZGlyKVsnZmlsZW5hbWUnXS4nX3RyZWUucG5nJzsKCQkJCQlpZiAoZmlsZV9leGlzdHMoJGljb25fY2FuZGlkYXRlKSkgewoJCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCX0gZWxzZSBpZiAoZmlsZV9leGlzdHMoX19E'));
	@fwrite($fp, base64_decode('SVJfXy4nL3RyZWVpY29uX2ZvbGRlci5wbmcnKSkgewoJCQkJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4ndHJlZWljb25fZm9sZGVyLnBuZyc7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIG5vIGljb24K'));
	@fwrite($fp, base64_decode('CQkJCQl9CgkJCQkJKi8KCgkJCQkJJGljID0gZW1wdHkoJHRyZWVfaWNvbikgPyAnJyA6ICc8aW1nIHNyYz0iJy4kdHJlZV9pY29uLiciIGFsdD0iIj4nOwoKCQkJCQkkb3V0Wyd0ZXh0J10gLj0gJzxwPjxhICcuT0lEcGx1czo6Z3VpKCktPmxpbmsoJ29pZHBsdXM6'));
	@fwrite($fp, base64_decode('cmVzb3VyY2VzJCcucnRyaW0oJGRpciwnLycpLicvJykuJz4nLiRpYy4nICcuaHRtbGVudGl0aWVzKHNlbGY6OmdldEZvbGRlclRpdGxlKCRyZWFsZGlyKSkuJzwvYT48L3A+JzsKCQkJCQkkY291bnQrKzsKCQkJCX0KCgkJCQkkZmlsZXMgPSBhcnJheV9tZXJnZSgK'));
	@fwrite($fp, base64_decode('CQkJCQlzZWxmOjpteWdsb2IocnRyaW0oJGZpbGUsJy8nKS4nLycuJyouaHRtJyksIC8vIFRPRE86IGFsc28gUEhQPwoJCQkJCXNlbGY6Om15Z2xvYihydHJpbSgkZmlsZSwnLycpLicvJy4nKi5odG1sJyksCgkJCQkJc2VsZjo6bXlnbG9iKHJ0cmltKCRmaWxlLCcv'));
	@fwrite($fp, base64_decode('JykuJy8nLicqLnVybCcpLAoJCQkJCXNlbGY6Om15Z2xvYihydHJpbSgkZmlsZSwnLycpLicvJy4nKi5saW5rJykKCQkJCSk7CgkJCQluYXRjYXNlc29ydCgkZmlsZXMpOwoJCQkJZm9yZWFjaCAoJGZpbGVzIGFzICRmaWxlKSB7CgkJCQkJJHJlYWxmaWxlID0gc2Vs'));
	@fwrite($fp, base64_decode('Zjo6cmVhbG5hbWUoJGZpbGUpOwoJCQkJCWlmICgoc3Vic3RyKCRmaWxlLC00LDQpID09ICcudXJsJykgfHwgKHN1YnN0cigkZmlsZSwtNSw1KSA9PSAnLmxpbmsnKSkgewoJCQkJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4nc2hvd19p'));
	@fwrite($fp, base64_decode('Y29uLnBocD9tb2RlPXRyZWVpY29uX2xlYWZfdXJsJmxhbmc9Jy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicmZmlsZT0nLnVybGVuY29kZSgkZmlsZSk7CgkJCQkJCS8qCgkJCQkJCSRpY29uX2NhbmRpZGF0ZSA9IHBhdGhpbmZvKCRyZWFsZmlsZSlbJ2Rpcm5h'));
	@fwrite($fp, base64_decode('bWUnXS4nLycucGF0aGluZm8oJHJlYWxmaWxlKVsnZmlsZW5hbWUnXS4nX3RyZWUucG5nJzsKCQkJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkJCSR0cmVlX2ljb24gPSAkaWNvbl9jYW5kaWRhdGU7CgkJCQkJCX0gZWxzZSBpZiAo'));
	@fwrite($fp, base64_decode('ZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uX2xlYWZfdXJsLnBuZycpKSB7CgkJCQkJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4ndHJlZWljb25fbGVhZl91cmwucG5nJzsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCSR0cmVlX2lj'));
	@fwrite($fp, base64_decode('b24gPSBudWxsOyAvLyBkZWZhdWx0IGljb24gKGZvbGRlcikKCQkJCQkJfQoJCQkJCQkqLwoKCQkJCQkJJGljID0gZW1wdHkoJHRyZWVfaWNvbikgPyAnJyA6ICc8aW1nIHNyYz0iJy4kdHJlZV9pY29uLiciIGFsdD0iIj4nOwoKCQkJCQkJJGh5cGVybGlua19waWMg'));
	@fwrite($fp, base64_decode('PSAnIDxpbWcgc3JjPSInLk9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ2h5cGVybGluay5wbmciIHdpZGh0PSIxMyIgaGVpZ2h0PSIxMyIgYWx0PSJIeXBlcmxpbmsiIHN0eWxlPSJ0b3A6LTNweDtwb3NpdGlvbjpyZWxhdGl2ZSI+JzsKCgkJCQkJCSRvdXRbJ3Rl'));
	@fwrite($fp, base64_decode('eHQnXSAuPSAnPHA+PGEgaHJlZj0iJy5odG1sZW50aXRpZXMoc2VsZjo6Z2V0SHlwZXJsaW5rVVJMKCRyZWFsZmlsZSkpLiciIHRhcmdldD0iX2JsYW5rIj4nLiRpYy4nICcuaHRtbGVudGl0aWVzKCR0aGlzLT5nZXRIeXBlcmxpbmtUaXRsZSgkcmVhbGZpbGUpKS4n'));
	@fwrite($fp, base64_decode('ICcuJGh5cGVybGlua19waWMuJzwvYT48L3A+JzsKCQkJCQkJJGNvdW50Kys7CgkJCQkJfSBlbHNlIHsKCQkJCQkJJHRyZWVfaWNvbiA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3Nob3dfaWNvbi5waHA/bW9kZT10cmVlaWNvbl9sZWFmX2RvYyZsYW5nPScu'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKS4nJmZpbGU9Jy51cmxlbmNvZGUoJGZpbGUpOwoJCQkJCQkvKgoJCQkJCQkkaWNvbl9jYW5kaWRhdGUgPSBwYXRoaW5mbygkcmVhbGZpbGUpWydkaXJuYW1lJ10uJy8nLnBhdGhpbmZvKCRyZWFsZmlsZSlbJ2ZpbGVuYW1l'));
	@fwrite($fp, base64_decode('J10uJ190cmVlLnBuZyc7CgkJCQkJCWlmIChmaWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUpKSB7CgkJCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbl9sZWFmX2Rv'));
	@fwrite($fp, base64_decode('Yy5wbmcnKSkgewoJCQkJCQkJJHRyZWVfaWNvbiA9IE9JRHBsdXM6OndlYnBhdGgoX19ESVJfXykuJ3RyZWVpY29uX2xlYWZfZG9jLnBuZyc7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkkdHJlZV9pY29uID0gbnVsbDsgLy8gZGVmYXVsdCBpY29uIChmb2xkZXIpCgkJ'));
	@fwrite($fp, base64_decode('CQkJCX0KCQkJCQkJKi8KCgkJCQkJCSRpYyA9IGVtcHR5KCR0cmVlX2ljb24pID8gJycgOiAnPGltZyBzcmM9IicuJHRyZWVfaWNvbi4nIiBhbHQ9IiI+JzsKCgkJCQkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGEgJy5PSURwbHVzOjpndWkoKS0+bGluaygnb2lkcGx1'));
	@fwrite($fp, base64_decode('czpyZXNvdXJjZXMkJy4kZmlsZSkuJz4nLiRpYy4nICcuaHRtbGVudGl0aWVzKCR0aGlzLT5nZXREb2N1bWVudFRpdGxlKCRmaWxlKSkuJzwvYT48L3A+JzsKCQkJCQkJJGNvdW50Kys7CgkJCQkJfQoJCQkJfQoKCQkJCWlmICgkY291bnQgPT0gMCkgewoJCQkJCSRv'));
	@fwrite($fp, base64_decode('dXRbJ3RleHQnXSAuPSAnPHA+Jy5fTCgnVGhpcyBmb2xkZXIgZG9lcyBub3QgY29udGFpbiBhbnkgZWxlbWVudHMnKS4nPC9wPic7CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQkkb3V0Wyd0aXRsZSddID0gX0woJ05vdCBmb3VuZCcpOwoJCQkJJG91dFsnaWNvbiddID0g'));
	@fwrite($fp, base64_decode('J2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD4nLl9MKCdUaGlzIHJlc291cmNlIGRvZXNuXCd0IGV4aXN0IGFueW1vcmUuJykuJzwvcD4nOwoJCQl9CgkJfQoJfQoKCXByaXZhdGUgZnVuY3Rpb24gdHJlZV9yZWMoJiRjaGlsZHJlbiwg'));
	@fwrite($fp, base64_decode('JHJvb3RkaXI9bnVsbCwgJGRlcHRoPTApIHsKCQlpZiAoaXNfbnVsbCgkcm9vdGRpcikpICRyb290ZGlyID0gJyc7CgkJaWYgKCRkZXB0aCA+IDEwMCkgcmV0dXJuIGZhbHNlOyAvLyBzb21ldGhpbmcgaXMgd3JvbmchCgoJCSRkaXJzID0gc2VsZjo6bXlnbG9iKCRy'));
	@fwrite($fp, base64_decode('b290ZGlyLicqJy4nLycsIHRydWUpOwoJCW5hdGNhc2Vzb3J0KCRkaXJzKTsKCQlmb3JlYWNoICgkZGlycyBhcyAkZGlyKSB7CgkJCSR0bXAgPSBhcnJheSgpOwoKCQkJJHRoaXMtPnRyZWVfcmVjKCR0bXAsICRkaXIsICRkZXB0aCsxKTsKCgkJCSRyZWFsZGlyID0g'));
	@fwrite($fp, base64_decode('c2VsZjo6cmVhbG5hbWUoJGRpcik7CgoJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4nc2hvd19pY29uLnBocD9tb2RlPXRyZWVpY29uX2ZvbGRlciZsYW5nPScuT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKS4nJmZpbGU9Jy51cmxlbmNv'));
	@fwrite($fp, base64_decode('ZGUoJGRpcik7CgkJCS8qCgkJCSRpY29uX2NhbmRpZGF0ZSA9IHBhdGhpbmZvKCRyZWFsZGlyKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkcmVhbGRpcilbJ2ZpbGVuYW1lJ10uJ190cmVlLnBuZyc7CgkJCWlmIChmaWxlX2V4aXN0cygkaWNvbl9jYW5kaWRhdGUp'));
	@fwrite($fp, base64_decode('KSB7CgkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQl9IGVsc2UgaWYgKGZpbGVfZXhpc3RzKF9fRElSX18uJy90cmVlaWNvbl9mb2xkZXIucG5nJykpIHsKCQkJCSR0cmVlX2ljb24gPSBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18pLid0cmVlaWNv'));
	@fwrite($fp, base64_decode('bl9mb2xkZXIucG5nJzsKCQkJfSBlbHNlIHsKCQkJCSR0cmVlX2ljb24gPSBudWxsOyAvLyBkZWZhdWx0IGljb24gKGZvbGRlcikKCQkJfQoJCQkqLwoKCQkJJGNoaWxkcmVuW10gPSBhcnJheSgKCQkJCSdpZCcgPT4gJ29pZHBsdXM6cmVzb3VyY2VzJCcuJGRpciwK'));
	@fwrite($fp, base64_decode('CQkJCSdpY29uJyA9PiAkdHJlZV9pY29uLAoJCQkJJ3RleHQnID0+IHNlbGY6OmdldEZvbGRlclRpdGxlKCRyZWFsZGlyKSwKCQkJCSdjaGlsZHJlbicgPT4gJHRtcCwKCQkJCSdzdGF0ZScgPT4gYXJyYXkoIm9wZW5lZCIgPT4gJGRlcHRoIDw9IE9JRHBsdXM6OmNv'));
	@fwrite($fp, base64_decode('bmZpZygpLT5nZXRWYWx1ZSgncmVzb3VyY2VfcGx1Z2luX2F1dG9vcGVuX2xldmVsJywgMSktMSkKCQkJKTsKCQl9CgoJCSRmaWxlcyA9IGFycmF5X21lcmdlKAoJCQlzZWxmOjpteWdsb2IoJHJvb3RkaXIuJyouaHRtJyksIC8vIFRPRE86IEFsc28gUEhQPwoJCQlz'));
	@fwrite($fp, base64_decode('ZWxmOjpteWdsb2IoJHJvb3RkaXIuJyouaHRtbCcpLAoJCQlzZWxmOjpteWdsb2IoJHJvb3RkaXIuJyoudXJsJyksCgkJCXNlbGY6Om15Z2xvYigkcm9vdGRpci4nKi5saW5rJykKCQkpOwoJCW5hdGNhc2Vzb3J0KCRmaWxlcyk7CgkJZm9yZWFjaCAoJGZpbGVzIGFz'));
	@fwrite($fp, base64_decode('ICRmaWxlKSB7CgkJCSRyZWFsZmlsZSA9IHNlbGY6OnJlYWxuYW1lKCRmaWxlKTsKCQkJaWYgKChzdWJzdHIoJGZpbGUsLTQsNCkgPT0gJy51cmwnKSB8fCAoc3Vic3RyKCRmaWxlLC01LDUpID09ICcubGluaycpKSB7CgkJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6'));
	@fwrite($fp, base64_decode('d2VicGF0aChfX0RJUl9fKS4nc2hvd19pY29uLnBocD9tb2RlPXRyZWVpY29uX2xlYWZfdXJsJmxhbmc9Jy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicmZmlsZT0nLnVybGVuY29kZSgkZmlsZSk7CgkJCQkvKgoJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGlu'));
	@fwrite($fp, base64_decode('Zm8oJHJlYWxmaWxlKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkcmVhbGZpbGUpWydmaWxlbmFtZSddLidfdHJlZS5wbmcnOwoJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJ'));
	@fwrite($fp, base64_decode('CQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb25fbGVhZl91cmwucG5nJykpIHsKCQkJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4ndHJlZWljb25fbGVhZl91cmwucG5nJzsKCQkJCX0gZWxzZSB7CgkJCQkJ'));
	@fwrite($fp, base64_decode('JHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCQkJfQoJCQkJKi8KCgkJCQkkaHlwZXJsaW5rX3BpYyA9ICcgPGltZyBzcmM9IicuT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4naHlwZXJsaW5rLnBuZyIgd2lkaHQ9IjEzIiBoZWln'));
	@fwrite($fp, base64_decode('aHQ9IjEzIiBhbHQ9Ikh5cGVybGluayIgc3R5bGU9InRvcDotM3B4O3Bvc2l0aW9uOnJlbGF0aXZlIj4nOwoKCQkJCSRjaGlsZHJlbltdID0gYXJyYXkoCgkJCQkJJ2lkJyA9PiAnb2lkcGx1czpyZXNvdXJjZXMkJy4kZmlsZSwKCQkJCQknY29uZGl0aW9uYWxzZWxl'));
	@fwrite($fp, base64_decode('Y3QnID0+ICd3aW5kb3cub3BlbignLmpzX2VzY2FwZShzZWxmOjpnZXRIeXBlcmxpbmtVUkwoJHJlYWxmaWxlKSkuJyk7IGZhbHNlOycsCgkJCQkJJ2ljb24nID0+ICR0cmVlX2ljb24sCgkJCQkJJ3RleHQnID0+ICR0aGlzLT5nZXRIeXBlcmxpbmtUaXRsZSgkcmVh'));
	@fwrite($fp, base64_decode('bGZpbGUpLicgJy4kaHlwZXJsaW5rX3BpYywKCQkJCQknc3RhdGUnID0+IGFycmF5KCJvcGVuZWQiID0+ICRkZXB0aCA8PSBPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3Jlc291cmNlX3BsdWdpbl9hdXRvb3Blbl9sZXZlbCcsIDEpLTEpLAoJCQkJCSdhX2F0'));
	@fwrite($fp, base64_decode('dHInID0+IGFycmF5KCJocmVmIiA9PiBzZWxmOjpnZXRIeXBlcmxpbmtVUkwoJHJlYWxmaWxlKSkKCQkJCSk7CgkJCX0gZWxzZSB7CgkJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4nc2hvd19pY29uLnBocD9tb2RlPXRyZWVpY29uX2xl'));
	@fwrite($fp, base64_decode('YWZfZG9jJmxhbmc9Jy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicmZmlsZT0nLnVybGVuY29kZSgkZmlsZSk7CgkJCQkvKgoJCQkJJGljb25fY2FuZGlkYXRlID0gcGF0aGluZm8oJHJlYWxmaWxlKVsnZGlybmFtZSddLicvJy5wYXRoaW5mbygkcmVhbGZpbGUp'));
	@fwrite($fp, base64_decode('WydmaWxlbmFtZSddLidfdHJlZS5wbmcnOwoJCQkJaWYgKGZpbGVfZXhpc3RzKCRpY29uX2NhbmRpZGF0ZSkpIHsKCQkJCQkkdHJlZV9pY29uID0gJGljb25fY2FuZGlkYXRlOwoJCQkJfSBlbHNlIGlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb25fbGVh'));
	@fwrite($fp, base64_decode('Zl9kb2MucG5nJykpIHsKCQkJCQkkdHJlZV9pY29uID0gT0lEcGx1czo6d2VicGF0aChfX0RJUl9fKS4ndHJlZWljb25fbGVhZl9kb2MucG5nJzsKCQkJCX0gZWxzZSB7CgkJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCQkJ'));
	@fwrite($fp, base64_decode('fQoJCQkJKi8KCQkJCSRjaGlsZHJlbltdID0gYXJyYXkoCgkJCQkJJ2lkJyA9PiAnb2lkcGx1czpyZXNvdXJjZXMkJy4kZmlsZSwKCQkJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJCQkndGV4dCcgPT4gJHRoaXMtPmdldERvY3VtZW50VGl0bGUoJGZpbGUpLAoJ'));
	@fwrite($fp, base64_decode('CQkJCSdzdGF0ZScgPT4gYXJyYXkoIm9wZW5lZCIgPT4gJGRlcHRoIDw9IE9JRHBsdXM6OmNvbmZpZygpLT5nZXRWYWx1ZSgncmVzb3VyY2VfcGx1Z2luX2F1dG9vcGVuX2xldmVsJywgMSktMSkKCQkJCSk7CgkJCX0KCQl9Cgl9CgoJcHJpdmF0ZSBmdW5jdGlvbiBw'));
	@fwrite($fp, base64_decode('dWJsaWNTaXRlbWFwX3JlYygkanNvbiwgJiRvdXQpIHsKCQlmb3JlYWNoICgkanNvbiBhcyAkeCkgewoJCQlpZiAoaXNzZXQoJHhbJ2lkJ10pICYmICR4WydpZCddKSB7CgkJCQkkb3V0W10gPSAkeFsnaWQnXTsKCQkJfQoJCQlpZiAoaXNzZXQoJHhbJ2NoaWxkcmVu'));
	@fwrite($fp, base64_decode('J10pKSB7CgkJCQkkdGhpcy0+cHVibGljU2l0ZW1hcF9yZWMoJHhbJ2NoaWxkcmVuJ10sICRvdXQpOwoJCQl9CgkJfQoJfQoKCXB1YmxpYyBmdW5jdGlvbiBwdWJsaWNTaXRlbWFwKCYkb3V0KSB7CgkJJGpzb24gPSBhcnJheSgpOwoJCSR0aGlzLT50cmVlKCRqc29u'));
	@fwrite($fp, base64_decode('LCBudWxsLypSQSBFTWFpbCovLCBmYWxzZS8qSFRNTCB0cmVlIGFsZ29yaXRobSovLCB0cnVlLypkaXNwbGF5IGFsbCovKTsKCQkkdGhpcy0+cHVibGljU2l0ZW1hcF9yZWMoJGpzb24sICRvdXQpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlKCYkanNvbiwgJHJh'));
	@fwrite($fp, base64_decode('X2VtYWlsPW51bGwsICRub25qcz1mYWxzZSwgJHJlcV9nb3RvPScnKSB7CgkJJGNoaWxkcmVuID0gYXJyYXkoKTsKCgkJJHRoaXMtPnRyZWVfcmVjKCRjaGlsZHJlbiwgJy8nKTsKCgkJaWYgKCFPSURwbHVzOjpjb25maWcoKS0+Z2V0VmFsdWUoJ3Jlc291cmNlX3Bs'));
	@fwrite($fp, base64_decode('dWdpbl9oaWRlX2VtcHR5X3BhdGgnLCB0cnVlKSB8fCAoY291bnQoJGNoaWxkcmVuKSA+IDApKSB7CgkJCWlmIChmaWxlX2V4aXN0cyhfX0RJUl9fLicvdHJlZWljb24ucG5nJykpIHsKCQkJCSR0cmVlX2ljb24gPSBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18pLid0'));
	@fwrite($fp, base64_decode('cmVlaWNvbi5wbmcnOwoJCQl9IGVsc2UgewoJCQkJJHRyZWVfaWNvbiA9IG51bGw7IC8vIGRlZmF1bHQgaWNvbiAoZm9sZGVyKQoJCQl9CgoJCQkkanNvbltdID0gYXJyYXkoCgkJCQknaWQnID0+ICdvaWRwbHVzOnJlc291cmNlcycsCgkJCQknaWNvbicgPT4gJHRy'));
	@fwrite($fp, base64_decode('ZWVfaWNvbiwKCQkJCSdzdGF0ZScgPT4gYXJyYXkoIm9wZW5lZCIgPT4gdHJ1ZSksCgkJCQkndGV4dCcgPT4gJHRoaXMtPmdldE1haW5UaXRsZSgpLAoJCQkJJ2NoaWxkcmVuJyA9PiAkY2hpbGRyZW4KCQkJKTsKCQl9CgoJCXJldHVybiB0cnVlOwoJfQoKCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBmdW5jdGlvbiB0cmVlX3NlYXJjaCgkcmVxdWVzdCkgewoJCXJldHVybiBmYWxzZTsKCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRIeXBlcmxpbmtUaXRsZSgkZmlsZSkgewoJCSRmaWxlMiA9IHByZWdfcmVwbGFjZSgnL1wuKFteLl0rKSQvJywgJyQn'));
	@fwrite($fp, base64_decode('Lk9JRHBsdXM6OmdldEN1cnJlbnRMYW5nKCkuJy5cMScsICRmaWxlKTsKCQlpZiAoZmlsZV9leGlzdHMoJGZpbGUyKSkgJGZpbGUgPSAkZmlsZTI7CgoJCWlmIChzdWJzdHIoJGZpbGUsLTQsNCkgPT0gJy51cmwnKSB7CgkJCXJldHVybiBwcmVnX3JlcGxhY2UoJy9c'));
	@fwrite($fp, base64_decode('XC5bXi5cXHNdezMsNH0kLycsICcnLCBiYXNlbmFtZSgkZmlsZSkpOwoJCX0gZWxzZSBpZiAoc3Vic3RyKCRmaWxlLC01LDUpID09ICcubGluaycpIHsKCQkJLyoKCQkJW0xpbmtdCgkJCVRpdGxlPVJlcG9ydCBhIGJ1ZwoJCQlVUkw9aHR0cHM6Ly93d3cudmlhdGhp'));
	@fwrite($fp, base64_decode('bmtzb2Z0LmNvbS90aGlua2J1Zy90aGlua2J1Zy5waHA/aWQ9OTcKCQkJKi8KCgkJCSRkYXRhID0gQHBhcnNlX2luaV9maWxlKCRmaWxlLCB0cnVlKTsKCQkJaWYgKCEkZGF0YSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0ZpbGUgJTEgaGFz'));
	@fwrite($fp, base64_decode('IGFuIGludmFsaWQgSU5JIGZvcm1hdCEnLCRmaWxlKSk7CgkJCX0KCQkJaWYgKCFpc3NldCgkZGF0YVsnTGluayddKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJ0NvdWxkIG5vdCBmaW5kICIlMSIgc2VjdGlvbiBhdCAlMicsJ0xpbmsnLCRm'));
	@fwrite($fp, base64_decode('aWxlKSk7CgkJCX0KCQkJaWYgKCFpc3NldCgkZGF0YVsnTGluayddWydUaXRsZSddKSkgewoJCQkJdGhyb3cgbmV3IE9JRHBsdXNFeGNlcHRpb24oX0woJyIlMSIgaXMgbWlzc2luZyBpbiAlMicsJ1RpdGxlJywkZmlsZSkpOwoJCQl9CgkJCXJldHVybiAkZGF0YVsn'));
	@fwrite($fp, base64_decode('TGluayddWydUaXRsZSddOwoJCX0gZWxzZSB7CgkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdVbmV4cGVjdGVkIGZpbGUgZXh0ZW5zaW9uIGZvciBmaWxlICUxJywkZmlsZSkpOwoJCX0KCX0KCglwcml2YXRlIHN0YXRpYyBmdW5jdGlvbiBnZXRIeXBl'));
	@fwrite($fp, base64_decode('cmxpbmtVUkwoJGZpbGUpIHsKCQkkZmlsZTIgPSBwcmVnX3JlcGxhY2UoJy9cLihbXi5dKykkLycsICckJy5PSURwbHVzOjpnZXRDdXJyZW50TGFuZygpLicuXDEnLCAkZmlsZSk7CgkJaWYgKGZpbGVfZXhpc3RzKCRmaWxlMikpICRmaWxlID0gJGZpbGUyOwoKCQlp'));
	@fwrite($fp, base64_decode('ZiAoc3Vic3RyKCRmaWxlLC00LDQpID09ICcudXJsJykgewoJCQkvKgoJCQlbezAwMDIxNEEwLTAwMDAtMDAwMC1DMDAwLTAwMDAwMDAwMDA0Nn1dCgkJCVByb3AzPTE5LDIKCQkJW0ludGVybmV0U2hvcnRjdXRdCgkJCVVSTD1odHRwOi8vd3d3LmV4YW1wbGUuY29t'));
	@fwrite($fp, base64_decode('LwoJCQlJRExpc3Q9CgkJCSovCgoJCQkkZGF0YSA9IEBwYXJzZV9pbmlfZmlsZSgkZmlsZSwgdHJ1ZSk7CgkJCWlmICghJGRhdGEpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdGaWxlICUxIGhhcyBhbiBpbnZhbGlkIElOSSBmb3JtYXQhJywk'));
	@fwrite($fp, base64_decode('ZmlsZSkpOwoJCQl9CgkJCWlmICghaXNzZXQoJGRhdGFbJ0ludGVybmV0U2hvcnRjdXQnXSkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdDb3VsZCBub3QgZmluZCAiJTEiIHNlY3Rpb24gYXQgJTInLCdJbnRlcm5ldFNob3J0Y3V0JywkZmls'));
	@fwrite($fp, base64_decode('ZSkpOwoJCQl9CgkJCWlmICghaXNzZXQoJGRhdGFbJ0ludGVybmV0U2hvcnRjdXQnXVsnVVJMJ10pKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnIiUxIiBpcyBtaXNzaW5nIGluICUyJywnVVJMJywkZmlsZSkpOwoJCQl9CgkJCXJldHVybiAk'));
	@fwrite($fp, base64_decode('ZGF0YVsnSW50ZXJuZXRTaG9ydGN1dCddWydVUkwnXTsKCQl9IGVsc2UgaWYgKHN1YnN0cigkZmlsZSwtNSw1KSA9PSAnLmxpbmsnKSB7CgkJCS8qCgkJCVtMaW5rXQoJCQlUaXRsZT1SZXBvcnQgYSBidWcKCQkJVVJMPWh0dHBzOi8vd3d3LnZpYXRoaW5rc29mdC5j'));
	@fwrite($fp, base64_decode('b20vdGhpbmtidWcvdGhpbmtidWcucGhwP2lkPTk3CgkJCSovCgoJCQkkZGF0YSA9IEBwYXJzZV9pbmlfZmlsZSgkZmlsZSwgdHJ1ZSk7CgkJCWlmICghJGRhdGEpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdGaWxlICUxIGhhcyBhbiBpbnZh'));
	@fwrite($fp, base64_decode('bGlkIElOSSBmb3JtYXQhJywkZmlsZSkpOwoJCQl9CgkJCWlmICghaXNzZXQoJGRhdGFbJ0xpbmsnXSkpIHsKCQkJCXRocm93IG5ldyBPSURwbHVzRXhjZXB0aW9uKF9MKCdDb3VsZCBub3QgZmluZCAiJTEiIHNlY3Rpb24gYXQgJTInLCdMaW5rJywkZmlsZSkpOwoJ'));
	@fwrite($fp, base64_decode('CQl9CgkJCWlmICghaXNzZXQoJGRhdGFbJ0xpbmsnXVsnVVJMJ10pKSB7CgkJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnIiUxIiBpcyBtaXNzaW5nIGluICUyJywnVVJMJywkZmlsZSkpOwoJCQl9CgkJCXJldHVybiAkZGF0YVsnTGluayddWydVUkwn'));
	@fwrite($fp, base64_decode('XTsKCQl9IGVsc2UgewoJCQl0aHJvdyBuZXcgT0lEcGx1c0V4Y2VwdGlvbihfTCgnVW5leHBlY3RlZCBmaWxlIGV4dGVuc2lvbiBmb3IgZmlsZSAlMScsJGZpbGUpKTsKCQl9CgoJfQoKCXByaXZhdGUgc3RhdGljIGZ1bmN0aW9uIGdldEZvbGRlclRpdGxlKCRkaXIp'));
	@fwrite($fp, base64_decode('IHsKCQkkZGF0YSA9IEBwYXJzZV9pbmlfZmlsZSgiJGRpci9mb2xkZXJcJCIuT0lEcGx1czo6Z2V0Q3VycmVudExhbmcoKS4iLmluaSIsIHRydWUpOwoJCWlmICgkZGF0YSAmJiBpc3NldCgkZGF0YVsnRm9sZGVyJ10pICYmIGlzc2V0KCRkYXRhWydGb2xkZXInXVsn'));
	@fwrite($fp, base64_decode('VGl0bGUnXSkpIHsKCQkJcmV0dXJuICRkYXRhWydGb2xkZXInXVsnVGl0bGUnXTsKCQl9CgoJCSRkYXRhID0gQHBhcnNlX2luaV9maWxlKCIkZGlyL2ZvbGRlci5pbmkiLCB0cnVlKTsKCQlpZiAoJGRhdGEgJiYgaXNzZXQoJGRhdGFbJ0ZvbGRlciddKSAmJiBpc3Nl'));
	@fwrite($fp, base64_decode('dCgkZGF0YVsnRm9sZGVyJ11bJ1RpdGxlJ10pKSB7CgkJCXJldHVybiAkZGF0YVsnRm9sZGVyJ11bJ1RpdGxlJ107CgkJfQoKCQlyZXR1cm4gYmFzZW5hbWUoJGRpcik7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php');
	writefile_2();
	if (!is_file('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php');
	} else if (sha1_file('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php') != '251f759138f7988975dc7fd32a8feae093279479') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php') !== '251f759138f7988975dc7fd32a8feae093279479') {
		if (@sha1_file('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php') !== '6bd0a95dc2eef1dece3e66e6f23f0ea6bbe24025') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php');
			$tmp = pathinfo('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php') !== '251f759138f7988975dc7fd32a8feae093279479') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/500_resources/OIDplusPagePublicResources.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 541\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 541') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

