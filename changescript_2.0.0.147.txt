<?php /* <ViaThinkSoftSignature>
np2ap4sEh+nmU+U/3GuKp0+B4e86+nF6cumNU7z1yWpnAS1RL1IZr0TjPtqbk259l
qmPiiQph/1UalRYoVuzMXUCMdGRNg6zo233r+QW3CRMCZ21OZTPA6buRX8lcyw+8J
DnKjGxyzQZMLyghsvH/LuSuly3c4jZqVUQhaRdTfLaS6mCDqHRYmL0Kf1VPGoa0fp
0dfrilfW3ni8UHr7eJhKDz2uGvnU/0peXIa4/D+3rp4kX3vEC8i0Gyg9eAe0TE7+r
V41pg8B6yXwKn/4BaAN8z3hZwRbpIN/MnpU5qSujWo6THcWTlviw1xnU5VtVPY3Uj
n5RFyAEifugtjDNDjZ45GKgHvoimpxWpaJgjRULV4u6kiOaXq4qIc+ZMvvM2ybYjl
eaHZ/EeVAd7wu5/ahUPbIlLCIdMuW7ngJePM7ergqGCb+oOq6n01UFlNJprvuQ7XA
htrEXrW3jDW9NO8COTk5Kzu8wYttycg6+JG+JMql+Gr8MtdcWbGBKQjWOPYKyU1ME
ivDgWhqNJXx7Q17rmw/exr3gwe4iMe0hA4Rt6y+GAOoRmLfu9IFooLOopsWayfoDi
G269L5FOee5mRSM57sfB88LkyAzorztB4dbmjU6HmXxupl7ujc0PSwJ2UhYDEUXtD
Z1cyo9xGbfOQuwBml62WNjBxV7XpKzV3tAcnTSp6TfvP/tMGkXOO9dZpyMCVDJU60
8UgFHkCU/kA//XLA3Hi06yCPiALpLtUNKa76Wv4u5O3KbjA2zBdtRFT460g05u3bX
PJ1qK6nYeSQJJMNkZ2ndpgExpuwYwge6G//PApQViMLtfVhC9J/Pzn9XSLiLuqgY0
Zu3Di4Tj6/DhY7Ww25maxVJErEVlIYn5TVJoZgJfsplmsZ6ZsymFLj0QldpfcqhR/
6jL/VAaGKuGijRVGQg67ii9f7P5bfCpBqQrk5Gd5n+N2X36w3FuwSL4wtnqYiaJRV
jf1ciqmKii+ODGpMlaHQQouywdGviQ3tle++zS1f258Q49vsEu3vBk4FAMgp2xkr4
TxTQ7HrH0UbIG1L3gQeRJuHJOt3txmBm+Fcx0oSi1OamGtQONy3CTB0zoGjeBZYVB
sffJ1FnkFWJ+naWcqHtKz3R6JQ1tiQJf78/B3j0i6g09ns0lZFThtUxtwEzHVaDKN
lMwVeFzbL9iv0r3A6SzoRG09RIdSVwm97QD/5Q1bTjsIwNHedinqKkM7kojsr/ctx
1RNaqaFYv695xXmq+pcqYkLSDQYTC8G5frRCsZf7yeddXlzet36B67283VygD83SH
cWeeeTur5bD7mRHbY5iJkD9WKIDTAsdqX12XxgPX4hJidUjwEcLVybha030B+SxVP
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 146') {
	err('This update can only be applied to OIDplus version 2.0.0.146!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: TODO
function writefile_1() {
	@$fp = fopen('TODO', 'w');
	@fwrite($fp, base64_decode('CklNUE9SVEFOVAotIFZlcmlmeTogZXNjYXBlIGV2ZXJ5dGhpbmcKLSBDb29raWUgbGF3OgoJRG93bmxvYWQgQ29va2llQ29uc2VudCBjb2RlIGludG8gXzNwIGZvbGRlciwgZG8gbm90IGhvdGxpbmsgaXQKCXdlIG5lZWQgdG8gbG9nIGFsbCBjb25zZW50cwoJZG8g'));
	@fwrite($fp, base64_decode('d2UgbmVlZCBhbiBleHBsaWNpdCBjb25zZW50IGF0IHRoZSBsb2dpbiBmb3JtPwoJZG8gd2UgbmVlZCBhIGNvbnNlbnQgZm9yIHRoZSBjb29raWUgU1NMX0NIRUNLPwotIGRzZ3ZvIGRhdGVuc2NodXR6ZXJrbORydW5nLCBhZ2JzIGV0Yy4KLSBWZXJpZnkgdGhhdCBs'));
	@fwrite($fp, base64_decode('b2dnZXIgd29ya3MgY29ycmVjdGx5LCBjaGVjayBpZiBhbGwgbG9nbWFza3MgYXJlIGNvcnJlY3QKCkFETUlOIEFSRUEKLSBBbGxvdyB0aGF0IHRoZSBhZG1pbiBjYW4gY2hhbmdlIHVzZXIncyBwYXNzd29ydC9jb250YWN0IGRhdGEKLSBBZG1pbiBzaG91bGQgc2Vl'));
	@fwrite($fp, base64_decode('IGxvZyBldmVudHMgZm9yIGVhY2ggUkEgYW5kIE9JRAoKU0VUVVAKLSBBZGQgd2FybmluZyB0aGF0IHdpdGggdGhlIGluc2VydGlvbiBvZiB0aGUgZGF0YWJhc2UsIGFsbCB0YWJsZXMgd2lsbCBiZSBkcm9wcHBlZAoKUkZDCi0gcHJvb2YgcmVhZAotIHNob3VsZCB0'));
	@fwrite($fp, base64_decode('aGUgd2hvbGUgV0hPSVMgb3V0cHV0IGJlIGNhc2UgaW5zZW5zaXRpdmU/Ci0gc2hvdWxkICJkaXN0YW5jZSIgYmUgbWFuZGF0b3J5PwotIHRyeSB0byB1c2UgTVVTVCwgTVVTVCBOT1QsIFNIQUxMIGV0Yy4gYWNjb3JkaW5nIHRvIFJGQyAyMTE5Ci0gZmVsZGVyIGRp'));
	@fwrite($fp, base64_decode('ZSBuaWNodCBvcHRpb25hbCBzaW5kID0+IG1hbmRhdG9yeSBrZW5uemVpY2huZW4KClNNQUxMIFRISU5HUwotIGZyZWVvaWQ6IGdtYWlsIGFwcCBkb2VzIG5vdCBoeXBlcmxpbmsgdGhlIGFjdGl2YXRpb24gVVJMLiB3aHk/Ci0gaG93IHRvIGF2b2lkIGludml0ZSBz'));
	@fwrite($fp, base64_decode('cGFtbWluZz8KLSB3aGVuIGEgUEhQIGVycm9yIGhhcHBlbnMsIHRoZSBBSkFYIHNjcmlwdCBvdXRwdXRzICJFcnJvcjogU3ludGF4RXJyb3I6IFVuZXhwZWN0ZWQgdG9rZW4gPCBpbiBKU09OIGF0IHBvc2l0aW9uIDAiIC4uLiBiZXR0ZXIgc2hvdyB0aGUgdXNlciB0'));
	@fwrite($fp, base64_decode('aGUgYWN0dWFsIG1lc3NhZ2UKLSAicGx1Z2luLmluYy5waHAiID0+IHJlbmFtZSB0byAqLmNsYXNzLnBocCA/IE9yIHZpY2UgdmVyc2EgZm9yIG9iamVjdCB0eXBlcz8KLSB3aGVuIGxvZ2luIGV4cGlyZWQsIHJlbW92ZSBlbnRyaWVzIGluIHRoZSB0cmVldmlldwot'));
	@fwrite($fp, base64_decode('IGNhbiB3ZSBwdXQgZXZlbiBtb3JlIGNvZGUgKGUuZy4gb2JqZWN0IENSVUQpIGludG8gdGhlIHBsdWdpbiBkaXJlY3Rvcnk/Ci0gZGlzYWJsZSBzcGVjaWZpYyBmdW5jdGlvbnMgKGUuZy4gaW52aXRlLCBsb2dpbiwgcmFpbmZvLCBmb3Jnb3QgcGFzc3dvcmQpIGlm'));
	@fwrite($fp, base64_decode('IHRoZSBwbHVnaW5zIGFyZSBub3QgaW5zdGFsbGVkIChjaGVjayBpZiBjbGFzcyB0eXBlIGlzIHJlZ2lzdGVyZWQpCi0gbWFrZSB1c2FnZSBvZiBGb3JlaWduIEtleXMKLSA8YWJicj4gaW4gPGNvZGU+IHdpcmQgZG9wcGVsdCB1bnRlcnN0cmljaGVuCi0gd2VubiBt'));
	@fwrite($fp, base64_decode('YW4gZWluZSB3ZWxsLWtub3duIE9JRCBhbmxlZ2VuIG32Y2h0ZSwgZGFubiBrb21tdCBmZWhsZXIgd2VnZW4gcmVwbGFjZUFzbjEvcmVwbGFjZUlyaSwgYWJlciBkaWUgT0lEIGlzdCBlcnN0ZWxsdC4gRGllIEFQSSBpc3QgYWJlciBuaWNodCByZWxvYWRlZC4gTWFu'));
	@fwrite($fp, base64_decode('IHNpZWh0IGFsc28gbmljaHQsIGRhc3MgZGllIE9JRCBlcnN0ZWxsdCB3dXJkZSwgdW5kIGVpbiBlcm5ldXRlciBrbGljayBhdWYgSW5zZXJ0IGb8aHJ0IHp1bSBQcmltYXJ5LUtleSBmZWhsZXIKLSBwcm9ibGVtOiB3ZW5uIGVpbmUgUkEgZWluZ2VsYWRlbiB3ZXJk'));
	@fwrite($fp, base64_decode('ZW4gbfZjaHRlLCBtdXNzIG1hbiAidXBkYXRlIiBkcvxja2VuIHVuZCBkaWUgT0lEIHdpcmQgYWxzIHVwZGF0ZWQgbWFya2llcnQKLSBiZWkgbWVocmVyZW4gaWRlbnRpZmllcm4ga2FubiBtYW4gbmljaHQgYmVzdGltbWVuLCB3ZWxjaGVyIGlkZW50aWZpZXIgZGVy'));
	@fwrite($fp, base64_decode('IGJldm9yenVndGUgc2VpbiBzb2xsISEKLSBzaG93IHdob2lzIGxpbmtzIG9ubHkgaWYgZm9sZGVyICJ3aG9pcy8iIGV4aXN0cwotIGRpc2FibGUgYXV0b2NvbXBsZXRlIG9uIHNvbWUgZm9ybXMKLSBncmFwaGljYWwgaW1wb3J2ZW1lbnRzIG9mIGZvcm1zIChpbnB1'));
	@fwrite($fp, base64_decode('dCBlZGl0cyBhbGlnbmVkKQotICJEb2N1bWVudHMiIHNlY3Rpb246IE1ha2UgZG9jdW1lbnRhdGlvbiBmb3IgdXNhZ2Ugb2YgT0lEcGx1cyAoZm9yIG1lbWJlcnMgb25seSkKLSBhZG1pbiBjb25maWcgbWVociB1c2VyIGZyaWVuZGx5LCBlLmcuIGhhdmluZyB0aGUg'));
	@fwrite($fp, base64_decode('ZW5hYmxlL2Rpc2FibGUgb2JqZWN0IHR5cGUgc3R1ZmYgKGxpa2UgaW4gcmVnaXN0cmF0aW9uIHdpemFyZCkgYWxzbyBpbiB0aGUgYWRtaW4gY29udHJvbCBwYW5lbAotIGl0IHdvdWxkIGJlIGNvb2wgaWYgYWZ0ZXIgdGhlIGxvZ2luLCB0aGUgb3BlbmVkIG5vZGVz'));
	@fwrite($fp, base64_decode('IGluIHRoZSB0cmVlIHdvdWxkIHN0YXkgb3BlbgotIHNob3VsZCB3ZSBsb2cgc29tZXdoZXJlLCB3aGVuIHRoZSBhZG1pbiBhY2NvdW50IHdhcyBsb2dnZWQgaW4/Ci0gbXVsdGlsYW5nCi0gaHRtbCBjaGVja2JveDogImxhYmVsIGZvciIgdmVyd2VuZGVuCi0gd2hl'));
	@fwrite($fp, base64_decode('biBqYXZhc2NyaXB0IGZhaWxzLCB0aGUgZm9ybSB3aWxsIGJlIHN1Ym1pdHRlZCB0byAnLi8nICwgdGhhdCBpcyBub3QgZ29vZCEgZmFpbGVkIGphdmFzY3JpcHQgbXVzdCByZXR1cm4gZmFsc2UsIHNvIHRoYXQgdGhlIGZvcm0gZG9lcyBub3QgZ2V0IHN1Ym1pdHRl'));
	@fwrite($fp, base64_decode('ZAotIGFkbWluOiBzaG93IHByaXZhY3kgZW50cmllcyBmcm9tIFJBcyAoYnV0IGdyZXksIHNvIHlvdSBrbm93IHRoYXQgaXQgaXMgcHJpdmF0ZSkKLSBhZG1pbiBzb2xsIGNvbnRhY3QgZGF0YSBlaW5lciBmcmVtZGVuIFJBIORuZGVybiBk/HJmZW4KLSBmcmVlb2lk'));
	@fwrite($fp, base64_decode('OiBhc24uMSB1bmQgaXJpIHNwYWx0ZW4gYXVzYmxlbmRlbiwgZGEgZGllc2VyIGFyYyBrZWluZSBJRHMgdmVyZ2lidD8KLSBQcml2YWN5OiBNZWhyIHN0dWZlbiwgei5iLiBkYXNzIG1hbiBkZW4gcGVyc29uYWwgbmFtZSBldnRsIGdhciBuaWNodCB6ZWlnZW4gbfZj'));
	@fwrite($fp, base64_decode('aHRlCi0gTWFuIHNvbGx0ZSAiY3JlYXRlZCIgYWLkbmRlcm4gZPxyZmVuISBvZGVyIGV2dGwgZ2FueiB2ZXJzdGVja2VuLCB3ZW5uIG1hbiBlcyBuaWNodCB3ZWnfCi0gaW4gZGVyIGNydWQgbGlzdGUgZGVuIHRpdGVsIGRlcyBvYmpla3RzIHplaWdlbgotIG5hdE9y'));
	@fwrite($fp, base64_decode('ZGVyKCkgaXN0IG51ciBm/HIgT0lEIGf8bHRpZyEhISBhbmRlcmUgc29ydC1tZWNoYW5pc21lbiBm/HIgYW5kZXJlIG9iamVrdHR5cGVuIGVyZm9yZGVybGljaAotIHRpbnltY2UKCW1jZSBkaXJ0eSBmbGFnOgoJCS0gd2VubiBtYW4gd2VjaHNlbCAoanMgdHJlZSBz'));
	@fwrite($fp, base64_decode('ZWxlY3QpLCBkYW5uIHNvbGwgYWJnZWZyYWd0IHdlcmRlbiwgb2IgdGlueW1jZSBkaXJ0eSBpc3QsIHVuZCBlaW5lIHdhcm51bmcgYnJpbmdlbiwgYWxzbyBzbywgd2llIHdlbm4gbWFuIGRpZSBzZWl0ZSBuZXUgbGFkZW4gd/xyZGUKCQktIGtyaXRpc2NoZXIgYnVn'));
	@fwrite($fp, base64_decode('OiBzZWl0ZSD2ZmZuZW4sIHRpbnkgbWNlIGVkaXRpZXJlbiwgc3BlaWNoZXJuIGtsaWNrZW4uIGRhbm4gZjUgbmV1IGxhZGVuIChuaWNodCBzdHJnK2Y1KTogZGFubiBpc3QgZGVyIGFsdGUgY29udGVudCB3aWVkZXIgZGEuIGF132VyIG1hbiBkcvxja3Qgc3RyZytm'));
	@fwrite($fp, base64_decode('NQotIGpzdHJlZSBzZWxlY3Q6IGF1dG9tYXRpY2FsbHkgc2Nyb2xsIGRvd24KLSBvcHRpc2NoIGF1Zmj8YnNjaGVuLiBkaW5nZSB3aWUgUkE6IG1laHIgZGluZ2UgemVpZ2VuLCBhZHJlc3NlLCBlbWFpbCBldGMKCkZVVFVSRQotIG1ha2UgdXNlIG9mIENvbXBvc2Vy'));
	@fwrite($fp, base64_decode('LiBQcm9ibGVtczoKICAqIFdoYXQgaWYgY29tcG9zZXIgaW5zdGFsbHMgYSB2ZXJzaW9uIG9mIGEgY29tcG9uZW50LCB3aGljaCBpcyBpbmNvbXBhdGlibGU/CiAgKiBXZSBuZWVkIGEgbmV3IHB1Ymxpc2hpbmcgc2NyaXB0LCBiZWNhdXNlIHNpbXBseSBjaGVja2lu'));
	@fwrite($fp, base64_decode('ZyBvdXQgU1ZOIGlzIG5vdCBlbm91Z2ggYW55bW9yZS4gVGhlIHVzZXIgbmVlZHMgdG8gZXhlY3V0ZSBjb21wb3Nlci4gQnV0IHdoYXQgaXMgaWYgdGhlIHVzZXIgZG9uJ3QgaGF2ZSBjb21wb3NlciAob3IgZG9udCBoYXZlIHNoZWxsIGFjY2VzcyBhdCBhbGw/KQot'));
	@fwrite($fp, base64_decode('IGltcGxlbWVudCBzaXRlbWFwcyB4bWwKLSBhZG1pbiBzaG91bGQgYmUgYWJsZSB0byBjaGFuZ2Ugd2VsbGtub3duIG9pZHM/Ci0gbW92ZSBvaWQgdG8gZGlmZmVyZW50IGFyYwotIGJlaSBzZWhyIGdyb99lbiBhcmNzICh6LkIuIFBFTikgc29sbGVuIG5pY2h0IGFs'));
	@fwrite($fp, base64_decode('bGUgYW5nZXplaWd0IHdlcmRlbgotIHVudGVyc3T8dHp1bmcgZvxyIE9SUz8KLSBNZWhyICJDdXR0aW5nIEVkZ2UgVGVjaG5vbG9naWUiIHNvbGwgaW4gZGllc2VtIFByb2pla3QgenVtIFRyYWdlbiBrb21tZW46IEFKQVgsIEpTT04sIHZvbGxzdORuZGlnIFVURjgs'));
	@fwrite($fp, base64_decode('IENSVUQgZnJhbWV3b3JrcywgUERPLCBIVE1MNSwgTW9iaWxlcyBEZXNpZ24sIFB1cmUgQ1NTLCBBdXRvbG9hZGluZywgT2JqZWt0b3JpZW50aWVydW5nIChhYmVyIG5pY2h0IHVuYmVkaW5ndCBNVkMpLCAuLi48YnI+Ci0gIlNlYXJjaCIgcGx1Z2luOiBGZWF0dXJl'));
	@fwrite($fp, base64_decode('IHRvIHNlYXJjaCBpbnNpZGUgZG9jdW1lbnRhdGlvbiAoZG9jLyBkaXJlY3RvcnkpCi0gIlNlYXJjaCIgcGx1Z2luOiBJIHdhbnQgdG8gc2VhcmNoIGluIGFsbCBvYmplY3QgdHlwZXMgYW5kIFJBcy4gTm90IGZpcnN0IHNlbGVjdCB0aGUgdHlwZS4KLSBIb3cgY2Fu'));
	@fwrite($fp, base64_decode('IHdlIG1ha2Ugc3VyZSB0aGF0IGV4YW1wbGUgb2JqZWN0cyBhcmUgbm90IGV4cG9ydGVkIHVzaW5nIG9pZC1pbmZvLmNvbSBleHBvcnQ/Ci0gQWRtaW5pc3RyYXRvci1JbnRlcmZhY2U6IGVuYWJsZSBhbmQgZGlzYWJsZSBvYmplY3QgdHlwZXMKCkJVR1M/Ci0gT0lE'));
	@fwrite($fp, base64_decode('cGx1cyBkb2VzIG5vdCB3b3JrIGluIFNhZmFyaSBNb2JpbGUhCgkxLiBZb3UgY2Fubm90IHNjcm9sbCB0aGUgT0lEIGdyaWQsIGFzIHRoZSBzY3JvbGxpbmcgYWZmZWN0cyB0aGUgd2hvbGUgcGFnZSwgbm90IHRoZSBncmlkLgoJMi4gSlF1ZXJ5VUkgc2xpZGVycyBj'));
	@fwrite($fp, base64_decode('YW5ub3QgYmUgZHJhZ2dlZAoKUkVKRUNURUQgSURFQVMKLSBzb2xsdGUgZXMgbWVoZXJlIGFkbWlucyBnZWJlbj8KLSBjaGFuZ2UgaGlzdG9yeSBvZiBlYWNoIG9pZAotIHJlY29yZCBmaXJzdCBSQSBhbmQgY3VycmVudCBSQSA9PiBYLjY2MCBkb2VzIG5vdCBoYXZl'));
	@fwrite($fp, base64_decode('IHRoaXMgcmVxdWlyZW1lbnQKLSBtYXJrZXJzIERSQUZULCBMRUFGIGFuZCBGUk9aRU4gZXRjLiA9PiB1c2UgIlByb3RlY3RlZCIgaWYgeW91IHdhbnQgdG8gbWFrZSBpdCBpbnZpc2libGUKCklERUFTCi0gYWRtaW4gYXJlYTogbWFrZSBhIHBsdWdpbiB0aGF0IHNo'));
	@fwrite($fp, base64_decode('b3dzIGFsbCBwbHVnaW5zIChBbHNvIGJ5IHR5cGUsIGUuZy4gcGFnZSBwbHVnaW4gYW5kIG9iamVjdHR5cGUgcGx1Z2luKQotIG1ha2UgY29sb3IgcGx1Z2luIGF2YWlsYWJsZSBmb3IgZXZlcnlvbmUuIEFkbWluIG1heSBwZXJtYW5lbnRseSBzYXZlIHRoZSBjb2xv'));
	@fwrite($fp, base64_decode('cnMsIGJ1dCB1c2VycyBzaG91bGQgYmUgYWJsZSB0byBzZXQgdGhlaXIgb3duIHRoZW1lLCBzYXZlZCB2aWEgY29va2llcwotIHRoZXJlIHNob3VsZCBiZSBhIGZvcm0gd2hlcmUgYW4gUkEgY2FuIHJlcXVlc3QgYW4gaW52aXRhdGlvbiwgZXZlbiBpZiB0aGUgc3Vw'));
	@fwrite($fp, base64_decode('ZXJpb3IgUkEgZGlkIG5vdCBpbnZpdGUgdGhlbS4KICB0aGUgZmFjdCB0aGF0IGEgUkEgZXhpc3RzIGluIHRoZSBPYmplY3QgVGFibGUgc2hvdWxkIHBlcm1pdCB0aGUgUkEgdG8gaW52aXRlIHRoZWlyc2VsZi4KLSBiZWltIHZlcmxhc3NlbiBkZXIgc2VpdGUsIHou'));
	@fwrite($fp, base64_decode('Yi4gd2VubiBtYW4gbGlua3MgYXVmIGVpbmVuIG5ldWVuIG1lbvxwdW5rdCBrbGlja3QsIHNvbGwgZWluZSBhYmZyYWdlIGtvbW1lbiwgb2IgbWFuIHNwZWljaGVybiBt9mNodGUKLSBtYWtlIGEgbGlzdCBvZiBPSURzIHRoYXQgZG8gbm90IGFzc2lnbiBBU04xL0lS'));
	@fwrite($fp, base64_decode('SSBpZGVudGlmaWVycyAoZS5nLiBJQU5BIFBFTiBvciBWaWFUaGlua1NvZnQgRnJlZU9JRCksIHRoZW4gcmVqZWN0IGFueSBpZGVudGlmaWVyIHRoZSB1c2VyIHByb3ZpZGVzCi0gc2FuaXRpemUgSVB2NCwgSVB2NiwgR1VJRCBkdXJpbmcgY3JlYXRpb24KCWJlaSBJ'));
	@fwrite($fp, base64_decode('UHY0IHVuZCBJUHY2OiAtIGlmIGl0IGlzIGEgc2luZ2xlIGhvc3QgYWRkcmVzcywgZG9uJ3QgcHV0IC8zMiBvciAvMTI4IHN1ZmZpeAoJICAgICAgICAgICAgICAgICAgIC0gc3RyaWtlIHVubmVjZXNzYXJ5IGJpdHMgdGhhdCBhcmUgbm90IGRlZmluZWQgaW4gdGhl'));
	@fwrite($fp, base64_decode('IG5ldG1hc2sgKGFsc28gYXQgdGhlIHdob2lzIG91dHB1dCkKLSBsZXQgdGhlIHN5c2FkbWluIGRlY2lkZSBpZiB0aGV5IHdhbnQgdGhlIHRpdGxlIGJlICJzeXN0ZW10aXRsZSAtIG9iamVjdCB0aXRsZSIgb3IgIm9iamVjdCB0aXRsZSAtIHN5c3RlbXRpdGxlIgot'));
	@fwrite($fp, base64_decode('IHNob3VsZCBhIFJBIGJlIGFibGUgdG8gbWFyayB0aGVpciBvd24gb2lkIGFzIGNvbmZpZGVudGlhbCwgaW5zdGVhZCBvZiBhc2tpbmcgdGhlIHN1cGVyaW9yIFJBPwotIHNvbGx0ZSBlcyBlaW5lIG9pZHBsdXMgcHJvamVrdHNlaXRlIGdlYmVuIGFuc3RlbGxlIG51'));
	@fwrite($fp, base64_decode('ciBkYXMgbmFja3RlIHN5c3RlbT8KClFVRVNUSU9OUwotIHNob3VsZCB0aGUgY29sbGF0aW9uIGJlIGNhc2Ugc2Vuc2l0aXZlIG9yIGNhc2UgaW5zZW5zaXRpdmU/IEZvciBKYXZhIHBhY2thZ2UgbmFtZXMsIGl0IHNob3VsZCBiZSBjYXNlIHNlbnN0aXZpZQotIHdv'));
	@fwrite($fp, base64_decode('cnQgImd1aWQiIG9kZXIgInV1aWQiIHZlcndlbmRlbj8KLSBiaXQgb3IgdGlueWludCgxKSA/Ci0gc2hvdWxkICJPSUQgdXBkYXRlZCIgYmUgc3BsaXQgaW50byB0d28gY2F0ZWdvcmllcyAidXBkYXRlZCBieSBzdXBlcmlvciIgKGUuZy4gaWRlbnRpZmllcnMpIGFu'));
	@fwrite($fp, base64_decode('ZCAidXBkYXRlZCBieSBvd25lciIgKGRlc2NyaXB0aW9uIGV0Yyk/Ci0gInVwZGF0ZWQiIG5pY2h0IGFrdHVhbGlzaWVyZW4sIHdlbm4gbWFuIG51ciBhdWYgInVwZGF0ZSIga2xpY2t0IGFiZXIgbml4IGdl5G5kZXJ0IGhhdAotICJEb2N1bWVudHMiIHNlY3Rpb246'));
	@fwrite($fp, base64_decode('IENhbiBiYXNlIG9mIFVSTHMvaW1hZ2VzIGluc2lkZSB0aGUgSFRNTCBiZSBjaGFuZ2VkIGF1dG9tYXRpY2FsbHk/CgpHVUlEIE1hbmFnZW1lbnQKLSBMZWFmIG5vZGVzIChHVUlEcykgc2hvdWxkIHNob3cvZWRpdCB0aGUgVGl0bGUgaW4gdGhlIENSVUQsIHNvIHlv'));
	@fwrite($fp, base64_decode('dSBkb250IGhhdmUgdG8gY2xpY2sgdGhlIEdVSUQgdG8gc2VlIHRoZSB0aXRsZQotIHNlbHRzYW1lciBidWc6IHdlbm4gaWNoIGd1aWQ6b2lkcGx1cyBlZGl0aWVyZSwgZGFubiD2ZmZuZXQgc2ljaCBsaW5rcyBndWlkOmFjdGl2ZWRpcmVjdG9yeSBiZWltIG5ldWxh'));
	@fwrite($fp, base64_decode('ZGVuIGRlcyBiYXVtcyBuYWNoIGRlbSB1cGRhdGUuIGlyZ2VuZHdpZSD2ZmZuZXQgZXIgZGVuIHp1bGV0enQgZ2X2ZmZuZXRlbiBub2RlIGJlaW0gcmVsb2FkIG5vY2htYWwK'));
	@fclose($fp);
}
if (!is_file('TODO')) {
	warn('File has vanished! Will re-create it: TODO');
	writefile_1();
	if (!is_file('TODO')) {
		warn('File cannot be created (not existing): TODO');
	} else if (sha1_file('TODO') != 'd7552907d640b29b5d186628ce205448c693f79b') {
		warn('File cannot be created (checksum mismatch): TODO');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('TODO', 0644)) {
		warn('Could not change file permissions of TODO');
	}
} else {
	if (@sha1_file('TODO') !== 'd7552907d640b29b5d186628ce205448c693f79b') {
		if (@sha1_file('TODO') !== 'fab25477968e84d36e020c7f3afacc175a1d3ea5') {
			warn('File was modified. Will overwrite the changes now: TODO');
			$tmp = pathinfo('TODO');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('TODO')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('TODO', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('TODO') !== 'd7552907d640b29b5d186628ce205448c693f79b') {
			warn('File cannot be written (checksum mismatch): TODO');
		}
	}
}

// Files different: ajax.php
function writefile_2() {
	@$fp = fopen('ajax.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCnJlcXVpcmVfb25jZSBfX0RJUl9fIC4gJy9pbmNsdWRlcy9vaWRwbHVzLmluYy5waHAnOwoKT0lEcGx1czo6aW5pdChmYWxzZSk7CgpPSURwbHVzOjpkYigpLT5zZXRfY2hhcnNldCgiVVRGOCIpOwpP'));
	@fwrite($fp, base64_decode('SURwbHVzOjpkYigpLT5xdWVyeSgiU0VUIE5BTUVTICd1dGY4JyIpOwoKaGVhZGVyKCdDb250ZW50LVR5cGU6YXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcpOwoKdHJ5IHsKCSRoYW5kbGVkID0gZmFsc2U7CgoJLy8gQWN0aW9uOiAgICAgKGFjdGlvbnMg'));
	@fwrite($fp, base64_decode('ZGVmaW5lZCBieSBwbHVnaW5zKQoJLy8gTWV0aG9kOiAgICAgR0VUIC8gUE9TVAoJLy8gUGFyYW1ldGVyczogLi4uCgkvLyBPdXRwdXRzOiAgICAuLi4KCWZvcmVhY2ggKE9JRHBsdXM6OmdldFBhZ2VQbHVnaW5zKCcqJykgYXMgJHBsdWdpbikgewoJCSRwbHVnaW4t'));
	@fwrite($fp, base64_decode('PmFjdGlvbigkaGFuZGxlZCk7Cgl9CgoJLy8gQWN0aW9uOiAgICAgZ2V0X2Rlc2NyaXB0aW9uCgkvLyBNZXRob2Q6ICAgICBHRVQgLyBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBpZAoJLy8gT3V0cHV0czogICAgSlNPTgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsiYWN0aW9u'));
	@fwrite($fp, base64_decode('Il0pICYmICgkX1JFUVVFU1RbJ2FjdGlvbiddID09ICdnZXRfZGVzY3JpcHRpb24nKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnaWQnXSkpIHRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgYXJncyIpOwoJCXRyeSB7CgkJ'));
	@fwrite($fp, base64_decode('CSRvdXQgPSBPSURwbHVzOjpndWkoKTo6Z2VuZXJhdGVDb250ZW50UGFnZSgkX1JFUVVFU1RbJ2lkJ10pOwoJCX0gY2F0Y2goRXhjZXB0aW9uICRlKSB7CgkJCSRvdXQgPSBhcnJheSgpOwoJCQkkb3V0Wyd0aXRsZSddID0gJ0Vycm9yJzsKCQkJJG91dFsnaWNvbidd'));
	@fwrite($fp, base64_decode('ID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJJG91dFsndGV4dCddID0gJGUtPmdldE1lc3NhZ2UoKTsKCQl9CgkJZWNobyBqc29uX2VuY29kZSgkb3V0KTsKCX0KCgkvLyA9PT0ganNUcmVlID09PQoKCS8vIEFjdGlvbjogICAgIHRyZWVfc2VhcmNoCgkvLyBNZXRo'));
	@fwrite($fp, base64_decode('b2Q6ICAgICBHRVQgLyBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBzZWFyY2gKCS8vIE91dHB1dHM6ICAgIEpTT04KCWlmIChpc3NldCgkX1JFUVVFU1RbImFjdGlvbiJdKSAmJiAoJF9SRVFVRVNUWydhY3Rpb24nXSA9PSAndHJlZV9zZWFyY2gnKSkgewoJCSRoYW5kbGVk'));
	@fwrite($fp, base64_decode('ID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnc2VhcmNoJ10pKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnZhbGlkIGFyZ3MiKTsKCgkJJGZvdW5kID0gZmFsc2U7CgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UGFnZVBsdWdpbnMoJyonKSBhcyAkcGx1Z2lu'));
	@fwrite($fp, base64_decode('KSB7CgkJCSRyZXMgPSAkcGx1Z2luLT50cmVlX3NlYXJjaCgkX1JFUVVFU1RbJ3NlYXJjaCddKTsKCQkJaWYgKCRyZXMpIHsKCQkJCWVjaG8ganNvbl9lbmNvZGUoJHJlcyk7CgkJCQkkZm91bmQgPSB0cnVlOwoJCQkJYnJlYWs7CgkJCX0KCQl9CgoJCWlmICghJGZv'));
	@fwrite($fp, base64_decode('dW5kKSB7CgkJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoKSk7CgkJfQoJfQoKCS8vIEFjdGlvbjogICAgIHRyZWVfbG9hZAoJLy8gTWV0aG9kOiAgICAgR0VUIC8gUE9TVAoJLy8gUGFyYW1ldGVyczogaWQ7IGdvdG8gKG9wdGlvbmFsKQoJLy8gT3V0cHV0czogICAg'));
	@fwrite($fp, base64_decode('SlNPTgoJaWYgKGlzc2V0KCRfUkVRVUVTVFsiYWN0aW9uIl0pICYmICgkX1JFUVVFU1RbJ2FjdGlvbiddID09ICd0cmVlX2xvYWQnKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCQlpZiAoIWlzc2V0KCRfUkVRVUVTVFsnaWQnXSkpIHRocm93IG5ldyBFeGNlcHRpb24o'));
	@fwrite($fp, base64_decode('IkludmFsaWQgYXJncyIpOwoJCSRqc29uID0gT0lEcGx1c1RyZWU6Ompzb25fdHJlZSgkX1JFUVVFU1RbJ2lkJ10sIGlzc2V0KCRfUkVRVUVTVFsnZ290byddKSA/ICRfUkVRVUVTVFsnZ290byddIDogJycpOwoJCWVjaG8gJGpzb247Cgl9CgoJLy8gPT09IEFkbWlu'));
	@fwrite($fp, base64_decode('IC8gUkEgYWN0aW9ucyA9PT0KCgkvLyBBY3Rpb246ICAgICBkZWxldGVfcmEKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRlcnM6IGVtYWlsCgkvLyBPdXRwdXRzOiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsi'));
	@fwrite($fp, base64_decode('YWN0aW9uIl0gPT0gImRlbGV0ZV9yYSIpKSB7CgkJJGhhbmRsZWQgPSB0cnVlOwoKCQkkZW1haWwgPSAkX1BPU1RbJ2VtYWlsJ107CgoJCSRyYV9sb2dnZWRfaW4gPSBPSURwbHVzOjphdXRoVXRpbHMoKS0+aXNSYUxvZ2dlZEluKCRlbWFpbCk7CgoJCWlmICghT0lE'));
	@fwrite($fp, base64_decode('cGx1czo6YXV0aFV0aWxzKCktPmlzQWRtaW5Mb2dnZWRJbigpICYmICEkcmFfbG9nZ2VkX2luKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oJ0F1dGhlbnRpZmljYXRpb24gZXJyb3IuIFBsZWFzZSBsb2cgaW4uJyk7CgkJfQoKCQlpZiAoJHJhX2xvZ2dlZF9pbikg'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6YXV0aFV0aWxzKCktPnJhTG9nb3V0KCRlbWFpbCk7CgoJCSRyYSA9IG5ldyBPSURwbHVzUkEoJGVtYWlsKTsKCQkkcmEtPmRlbGV0ZSgpOwoKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJSQSgkZW1haWwpPy9BPyIsICJSQSAnJGVtYWlsJyBkZWxl'));
	@fwrite($fp, base64_decode('dGVkIik7CgoJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gMCkpOwoJfQoKCS8vID09PSBPSUQgQ1JVRCA9PT0KCgkvLyBBY3Rpb246ICAgICBEZWxldGUKCS8vIE1ldGhvZDogICAgIFBPU1QKCS8vIFBhcmFtZXRlcnM6IGlkCgkvLyBPdXRwdXRz'));
	@fwrite($fp, base64_decode('OiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gIkRlbGV0ZSIpKSB7CgkJJGhhbmRsZWQgPSB0cnVlOwoKCQkkaWQgPSAkX1BPU1RbJ2lkJ107CgkJJG9iaiA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRp'));
	@fwrite($fp, base64_decode('ZCk7CgoJCS8vIFBy/GZlbiBvYiB6dWdlbGFzc2VuCgkJaWYgKCEkb2JqLT51c2VySGFzUGFyZW50YWxXcml0ZVJpZ2h0cygpKSB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBdXRoZW50aWZpY2F0aW9uIGVycm9yLiBQbGVhc2UgbG9nIGluIGFzIHRoZSBzdXBlcmlvciBS'));
	@fwrite($fp, base64_decode('QSB0byBkZWxldGUgdGhpcyBPSUQuJyk7CgkJCgkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCRpZCkrU1VQT0lEUkEoJGlkKT8vQT8iLCAiT2JqZWN0ICckaWQnIChyZWN1cnNpdmVseSkgZGVsZXRlZCIpOwoJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIk9J'));
	@fwrite($fp, base64_decode('RFJBKCRpZCkhIiwgIkxvc3Qgb3duZXJzaGlwIG9mIG9iamVjdCAnJGlkJyBiZWNhdXNlIGl0IHdhcyBkZWxldGVkIik7CgoJCS8vIERlbGV0ZSBvYmplY3QKCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVG'));
	@fwrite($fp, base64_decode('SVguIm9iamVjdHMgd2hlcmUgaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJGlkKS4iJyIpOwoKCQkvLyBEZWxldGUgb3JwaGFuIHN0dWZmCgkJZm9yZWFjaCAoT0lEcGx1czo6Z2V0UmVnaXN0ZXJlZE9iamVjdFR5cGVzKCkgYXMgJG90'));
	@fwrite($fp, base64_decode('KSB7CgkJCSR3aGVyZSA9ICJ3aGVyZSBwYXJlbnQgPD4gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRvdDo6cm9vdCgpKS4iJyBhbmQgIiAuCgkJCSAgICAgICAgICIgICAgICBwYXJlbnQgbGlrZSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2Vz'));
	@fwrite($fp, base64_decode('Y2FwZV9zdHJpbmcoJG90Ojpyb290KCkuJyUnKS4iJyBhbmQgIiAuCgkJCSAgICAgICAgICIgICAgICBwYXJlbnQgbm90IGluIChzZWxlY3QgaWQgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCBsaWtlICciLk9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkb3Q6OnJvb3QoKS4nJScpLiInKSI7CgkJCWRvIHsKCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyAkd2hlcmUiKTsK'));
	@fwrite($fp, base64_decode('CQkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfYXJyYXkoJHJlcykpIHsKCQkJCQkkaWRfdG9fZGVsZXRlID0gJHJvd1snaWQnXTsKCQkJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSURSQSgkaWRfdG9fZGVsZXRlKSEiLCAiTG9zdCBvd25l'));
	@fwrite($fp, base64_decode('cnNoaXAgb2Ygb2JqZWN0ICckaWRfdG9fZGVsZXRlJyBiZWNhdXNlIG9uZSBvZiB0aGUgc3VwZXJpb3Igb2JqZWN0cyAoJyRpZCcpIHdhcyByZWN1cnNpdmVseSBkZWxldGVkIik7CgkJCQkJaWYgKCFPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIi5P'));
	@fwrite($fp, base64_decode('SURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJGlkX3RvX2RlbGV0ZSkuIiciKSkgewoJCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKE9JRHBsdXM6OmRiKCktPmVycm9y'));
	@fwrite($fp, base64_decode('KCkpOwoJCQkJCX0KCQkJCX0KCQkJfSB3aGlsZSAoT0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPiAwKTsKCQl9CgkJT0lEcGx1czo6ZGIoKS0+cXVlcnkoImRlbGV0ZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgd2hlcmUgd2Vs'));
	@fwrite($fp, base64_decode('bF9rbm93biA8PiAxIGFuZCBvaWQgbm90IGluIChzZWxlY3QgaWQgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCBsaWtlICdvaWQ6JScpOyIpOwoJCU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJkZWxldGUgZnJvbSAiLk9JRFBM'));
	@fwrite($fp, base64_decode('VVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpICAgIHdoZXJlIHdlbGxfa25vd24gPD4gMSBhbmQgb2lkIG5vdCBpbiAoc2VsZWN0IGlkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgd2hlcmUgaWQgbGlrZSAnb2lkOiUnKTsiKTsKCgkJZWNo'));
	@fwrite($fp, base64_decode('byBqc29uX2VuY29kZShhcnJheSgic3RhdHVzIiA9PiAwKSk7Cgl9CgoJLy8gQWN0aW9uOiAgICAgVXBkYXRlCgkvLyBNZXRob2Q6ICAgICBQT1NUCgkvLyBQYXJhbWV0ZXJzOiBpZCwgcmFfZW1haWwsIGlyaXMsIGFzbjFpZHMsIGNvbmZpZGVudGlhbAoJLy8gT3V0'));
	@fwrite($fp, base64_decode('cHV0czogICAgVGV4dAoJaWYgKGlzc2V0KCRfUE9TVFsiYWN0aW9uIl0pICYmICgkX1BPU1RbImFjdGlvbiJdID09ICJVcGRhdGUiKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCgkJJGlkID0gJF9QT1NUWydpZCddOwoJCSRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJz'));
	@fwrite($fp, base64_decode('ZSgkaWQpOwoKCQkvLyBQcvxmZW4gb2IgenVnZWxhc3NlbgoJCWlmICghJG9iai0+dXNlckhhc1BhcmVudGFsV3JpdGVSaWdodHMoKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbignQXV0aGVudGlmaWNhdGlvbiBlcnJvci4gUGxlYXNlIGxvZyBpbiBhcyB0aGUgc3VwZXJp'));
	@fwrite($fp, base64_decode('b3IgUkEgdG8gdXBkYXRlIHRoaXMgT0lELicpOwoKCQkvLyBWYWxpZGF0ZSBSQSBlbWFpbCBhZGRyZXNzCgkJJG5ld19yYSA9ICRfUE9TVFsncmFfZW1haWwnXTsKCQlpZiAoIWVtcHR5KCRuZXdfcmEpICYmICFvaWRwbHVzX3ZhbGlkX2VtYWlsKCRuZXdfcmEpKSB7'));
	@fwrite($fp, base64_decode('CgkJCXRocm93IG5ldyBFeGNlcHRpb24oJ0ludmFsaWQgUkEgZW1haWwgYWRkcmVzcycpOwoJCX0KCgkJLy8gRmlyc3QsIGRvIGEgc2ltdWxhdGlvbiBmb3IgQVNOLjEgSURzIGFuZCBJUklzIHRvIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgcHJvYmxlbXMgKHRoZW4g'));
	@fwrite($fp, base64_decode('YW4gRXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duKQoJCWlmICgkb2JqOjpucygpID09ICdvaWQnKSB7CgkJCSRvaWQgPSAkb2JqOwoKCQkJJGlkcyA9ICgkX1BPU1RbJ2lyaXMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydpcmlzJ10pOwoJ'));
	@fwrite($fp, base64_decode('CQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJJG9pZC0+cmVwbGFjZUlyaXMoJGlkcywgdHJ1ZSk7CgoJCQkkaWRzID0gKCRfUE9TVFsnYXNuMWlkcyddID09ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2FzbjFpZHMnXSk7CgkJ'));
	@fwrite($fp, base64_decode('CSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkkb2lkLT5yZXBsYWNlQXNuMUlkcygkaWRzLCB0cnVlKTsKCQl9CgkJCgkJLy8gQ2hhbmdlIFJBIHJlY3Vyc2l2ZWx5CgkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcmFfZW1haWwg'));
	@fwrite($fp, base64_decode('ZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQpLiInIik7CgkJJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpOwoJCSRjdXJy'));
	@fwrite($fp, base64_decode('ZW50X3JhID0gJHJvd1sncmFfZW1haWwnXTsKCQlpZiAoJG5ld19yYSAhPSAkY3VycmVudF9yYSkgewoJCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJGlkKStTVVBPSURSQSgkaWQpPy9BPyIsICJSQSBvZiBvYmplY3QgJyRpZCcgY2hhbmdlZCBmcm9tICck'));
	@fwrite($fp, base64_decode('Y3VycmVudF9yYScgdG8gJyRuZXdfcmEnIik7CgkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIlJBKCRjdXJyZW50X3JhKSEiLCAgICAgICAgICAgIkxvc3Qgb3duZXJzaGlwIG9mIG9iamVjdCAnJGlkJyBkdWUgdG8gUkEgdHJhbnNmZXIgb2Ygc3VwZXJpb3IgUkEg'));
	@fwrite($fp, base64_decode('LyBhZG1pbi4iKTsKCQkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiUkEoJG5ld19yYSkhIiwgICAgICAgICAgICAgICAiR2FpbmVkIG93bmVyc2hpcCBvZiBvYmplY3QgJyRpZCcgZHVlIHRvIFJBIHRyYW5zZmVyIG9mIHN1cGVyaW9yIFJBIC8gYWRtaW4uIik7CgkJ'));
	@fwrite($fp, base64_decode('CV9yYV9jaGFuZ2VfcmVjKCRpZCwgJGN1cnJlbnRfcmEsICRuZXdfcmEpOyAvLyBJbmhlcml0ZWQgUkFzIHJla3Vyc2l2IG1pdORuZGVybgoJCX0KCgkJT0lEcGx1czo6bG9nZ2VyKCktPmxvZygiT0lEKCRpZCkrU1VQT0lEUkEoJGlkKT8vQT8iLCAiSWRlbnRpZmll'));
	@fwrite($fp, base64_decode('cnMvQ29uZmlkZW50aWFsIGZsYWcgb2Ygb2JqZWN0ICckaWQnIHVwZGF0ZWQiKTsgLy8gVE9ETzogQ2hlY2sgaWYgdGhleSB3ZXJlIEFDVFVBTExZIHVwZGF0ZWQhCgoJCS8vIFJlcGxhY2UgQVNOLjEgSURzIHVuZCBJUklzCgkJaWYgKCRvYmo6Om5zKCkgPT0gJ29p'));
	@fwrite($fp, base64_decode('ZCcpIHsKCQkJJG9pZCA9ICRvYmo7CgoJCQkkaWRzID0gKCRfUE9TVFsnaXJpcyddID09ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2lyaXMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkkb2lkLT5yZXBsYWNlSXJp'));
	@fwrite($fp, base64_decode('cygkaWRzLCBmYWxzZSk7CgoJCQkkaWRzID0gKCRfUE9TVFsnYXNuMWlkcyddID09ICcnKSA/IGFycmF5KCkgOiBleHBsb2RlKCcsJywkX1BPU1RbJ2FzbjFpZHMnXSk7CgkJCSRpZHMgPSBhcnJheV9tYXAoJ3RyaW0nLCRpZHMpOwoJCQkkb2lkLT5yZXBsYWNlQXNu'));
	@fwrite($fp, base64_decode('MUlkcygkaWRzLCBmYWxzZSk7CgkJfQoKCQkkY29uZmlkZW50aWFsID0gJF9QT1NUWydjb25maWRlbnRpYWwnXSA9PSAndHJ1ZScgPyAnMScgOiAnMCc7CgkJaWYgKCFPSURwbHVzOjpkYigpLT5xdWVyeSgiVVBEQVRFICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklY'));
	@fwrite($fp, base64_decode('LiJvYmplY3RzIFNFVCBjb25maWRlbnRpYWwgPSAiLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkY29uZmlkZW50aWFsKS4iLCB1cGRhdGVkID0gbm93KCkgV0hFUkUgaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJGlk'));
	@fwrite($fp, base64_decode('KS4iJyIpKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oJ0Vycm9yIGF0IHNldHRpbmcgY29uZmlkZW50aWFsIGZsYWc6JyAuIE9JRHBsdXM6OmRiKCktPmVycm9yKCkpOwoJCX0KCgkJJHN0YXR1cyA9IDA7CgoJCWlmICghZW1wdHkoJG5ld19yYSkpIHsKCQkJJHJl'));
	@fwrite($fp, base64_decode('cyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcmFfbmFtZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSBlbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkbmV3X3JhKS4iJyIpOwoJCQlpZiAo'));
	@fwrite($fp, base64_decode('T0lEcGx1czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPT0gMCkgJHN0YXR1cyA9IDE7CgkJfQoKCQllY2hvIGpzb25fZW5jb2RlKGFycmF5KCJzdGF0dXMiID0+ICRzdGF0dXMpKTsKCX0KCgkvLyBBY3Rpb246ICAgICBVcGRhdGUyCgkvLyBNZXRob2Q6ICAgICBQT1NU'));
	@fwrite($fp, base64_decode('CgkvLyBQYXJhbWV0ZXJzOiBpZCwgdGl0bGUsIGRlc2NyaXB0aW9uCgkvLyBPdXRwdXRzOiAgICBUZXh0CglpZiAoaXNzZXQoJF9QT1NUWyJhY3Rpb24iXSkgJiYgKCRfUE9TVFsiYWN0aW9uIl0gPT0gIlVwZGF0ZTIiKSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCgkJ'));
	@fwrite($fp, base64_decode('JGlkID0gJF9QT1NUWydpZCddOwoJCSRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkaWQpOwoKCQkvLyBQcvxmZW4gb2IgenVnZWxhc3NlbgoJCWlmICghJG9iai0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHRocm93IG5ldyBFeGNlcHRpb24oJ0F1dGhlbnRpZmlj'));
	@fwrite($fp, base64_decode('YXRpb24gZXJyb3IuIFBsZWFzZSBsb2cgaW4gYXMgdGhlIFJBIHRvIHVwZGF0ZSB0aGlzIE9JRC4nKTsKCQkKCQlPSURwbHVzOjpsb2dnZXIoKS0+bG9nKCJPSUQoJGlkKStPSURSQSgkaWQpPy9BPyIsICJUaXRsZS9EZXNjcmlwdGlvbiBvZiBvYmplY3QgJyRpZCcg'));
	@fwrite($fp, base64_decode('dXBkYXRlZCIpOwoKCQlpZiAoIU9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJVUERBVEUgIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguIm9iamVjdHMgU0VUIHRpdGxlID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRfUE9TVFsndGl0bGUnXSku'));
	@fwrite($fp, base64_decode('IicsIGRlc2NyaXB0aW9uID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRfUE9TVFsnZGVzY3JpcHRpb24nXSkuIicsIHVwZGF0ZWQgPSBub3coKSBXSEVSRSBpZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQp'));
	@fwrite($fp, base64_decode('LiInIikpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbihPSURwbHVzOjpkYigpLT5lcnJvcigpKTsKCQl9CgoJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gMCkpOwoJfQoKCS8vIEFjdGlvbjogICAgIEluc2VydAoJLy8gTWV0aG9kOiAgICAgUE9T'));
	@fwrite($fp, base64_decode('VAoJLy8gUGFyYW1ldGVyczogcGFyZW50LCBpZCwgcmFfZW1haWwsIGNvbmZpZGVudGlhbCwgaXJpcywgYXNuMWlkcwoJLy8gT3V0cHV0czogICAgVGV4dAoJaWYgKGlzc2V0KCRfUE9TVFsiYWN0aW9uIl0pICYmICgkX1BPU1RbImFjdGlvbiJdID09ICJJbnNlcnQi'));
	@fwrite($fp, base64_decode('KSkgewoJCSRoYW5kbGVkID0gdHJ1ZTsKCgkJLy8gRXMgd2lyZCB2YWxpZGllcnQ6IElELCByYSBlbWFpbCwgYXNuMSBpZHMsIGlyaSBpZHMKCgkJLy8gQ2hlY2sgaWYgeW91IGhhdmUgd3JpdGUgcmlnaHRzIG9uIHRoZSBwYXJlbnQgKHRvIGNyZWF0ZSBhIG5ldyBv'));
	@fwrite($fp, base64_decode('YmplY3QpCgkJJG9ialBhcmVudCA9IE9JRHBsdXNPYmplY3Q6OnBhcnNlKCRfUE9TVFsncGFyZW50J10pOwoJCWlmICghJG9ialBhcmVudC0+dXNlckhhc1dyaXRlUmlnaHRzKCkpIHRocm93IG5ldyBFeGNlcHRpb24oJ0F1dGhlbnRpZmljYXRpb24gZXJyb3IuIFBs'));
	@fwrite($fp, base64_decode('ZWFzZSBsb2cgaW4gYXMgdGhlIGNvcnJlY3QgUkEgdG8gaW5zZXJ0IGFuIE9JRCBhdCB0aGlzIGFyYy4nKTsKCgkJLy8gQ2hlY2sgaWYgdGhlIElEIGlzIHZhbGlkCgkJaWYgKCRfUE9TVFsnaWQnXSA9PSAnJykgdGhyb3cgbmV3IEV4Y2VwdGlvbignSUQgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCBiZSBlbXB0eScpOwoJCQoJCS8vIEFic29sdXRlbiBPSUQgbmFtZW4gYmVzdGltbWVuCgkJLy8gTm90ZTogQXQgYWRkU3RyaW5nKCkgYW5kIHBhcnNlKCksIHRoZSBzeW50YXggb2YgdGhlIElEIHdpbGwgYmUgY2hlY2tlZAoJCSRpZCA9ICRvYmpQYXJlbnQtPmFk'));
	@fwrite($fp, base64_decode('ZFN0cmluZygkX1BPU1RbJ2lkJ10pOwoKCQkvLyBDaGVjaywgaWYgdGhlIE9JRCBleGlzdHMKCQkkdGVzdCA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgaWQgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCA9ICci'));
	@fwrite($fp, base64_decode('Lk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQpLiInIik7CgkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCR0ZXN0KSA+PSAxKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIk9iamVjdCAkaWQgYWxyZWFkeSBleGlzdHMhIik7CgkJfQoK'));
	@fwrite($fp, base64_decode('CQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJGlkKTsKCgkJLy8gRmlyc3Qgc2ltdWxhdGUgaWYgdGhlcmUgYXJlIGFueSBwcm9ibGVtcyBvZiBBU04uMSBJRHMgdW5kIElSSXMKCQlpZiAoJG9iajo6bnMoKSA9PSAnb2lkJykgewoJCQkkb2lkID0gJG9iajsK'));
	@fwrite($fp, base64_decode('CgkJCSRpZHMgPSAoJF9QT1NUWydpcmlzJ10gPT0gJycpID8gYXJyYXkoKSA6IGV4cGxvZGUoJywnLCRfUE9TVFsnaXJpcyddKTsKCQkJJGlkcyA9IGFycmF5X21hcCgndHJpbScsJGlkcyk7CgkJCSRvaWQtPnJlcGxhY2VJcmlzKCRpZHMsIHRydWUpOwoKCQkJJGlk'));
	@fwrite($fp, base64_decode('cyA9ICgkX1BPU1RbJ2FzbjFpZHMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydhc24xaWRzJ10pOwoJCQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJJG9pZC0+cmVwbGFjZUFzbjFJZHMoJGlkcywgdHJ1ZSk7CgkJfQoK'));
	@fwrite($fp, base64_decode('CQkvLyBTdXBlcmlvciBSQSDEbmRlcnVuZyBkdXJjaGb8aHJlbgoJCSRwYXJlbnQgPSAkX1BPU1RbJ3BhcmVudCddOwoJCSRyYV9lbWFpbCA9ICRfUE9TVFsncmFfZW1haWwnXTsKCQlpZiAoIWVtcHR5KCRyYV9lbWFpbCkgJiYgIW9pZHBsdXNfdmFsaWRfZW1haWwo'));
	@fwrite($fp, base64_decode('JHJhX2VtYWlsKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCdJbnZhbGlkIFJBIGVtYWlsIGFkZHJlc3MnKTsKCQl9CgkJJGNvbmZpZGVudGlhbCA9ICRfUE9TVFsnY29uZmlkZW50aWFsJ10gPT0gJ3RydWUnID8gJzEnIDogJzAnOwoKCQlPSURwbHVzOjpsb2dn'));
	@fwrite($fp, base64_decode('ZXIoKS0+bG9nKCJPSUQoJHBhcmVudCkrT0lEKCRpZCkrT0lEUkEoJHBhcmVudCk/L0E/IiwgIk9iamVjdCAnJGlkJyBjcmVhdGVkLCAiLihlbXB0eSgkcmFfZW1haWwpID8gIndpdGhvdXQgZGVmaW5lZCBSQSIgOiAiZ2l2ZW4gdG8gUkEgJyRyYV9lbWFpbCciKSku'));
	@fwrite($fp, base64_decode('Iiwgc3VwZXJpb3Igb2JqZWN0IGlzICckcGFyZW50JyI7CgkJaWYgKCFlbXB0eSgkcmFfZW1haWwpKSB7CgkJCU9JRHBsdXM6OmxvZ2dlcigpLT5sb2coIlJBKCRyYV9lbWFpbCkhIiwgIkdhaW5lZCBvd25lcnNoaXAgb2YgbmV3bHkgY3JlYXRlZCBvYmplY3QgJyRp'));
	@fwrite($fp, base64_decode('ZCciKTsKCQl9CgoJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoIklOU0VSVCBJTlRPICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIChpZCwgcGFyZW50LCByYV9lbWFpbCwgY29uZmlkZW50aWFsLCBjcmVhdGVkKSBWQUxVRVMgKCciLk9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQpLiInLCAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJHBhcmVudCkuIicsICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcmFfZW1haWwpLiInLCAiLk9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkY29uZmlkZW50aWFsKS4iLCBub3coKSkiKSkgewoJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKE9JRHBsdXM6OmRiKCktPmVycm9yKCkpOwoJCX0KCgkJLy8gU2V0IEFTTi4xIElEcyB1bmQgSVJJcwoJCWlmICgkb2JqOjpu'));
	@fwrite($fp, base64_decode('cygpID09ICdvaWQnKSB7CgkJCSRvaWQgPSAkb2JqOwoKCQkJJGlkcyA9ICgkX1BPU1RbJ2lyaXMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydpcmlzJ10pOwoJCQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJJG9pZC0+'));
	@fwrite($fp, base64_decode('cmVwbGFjZUlyaXMoJGlkcywgZmFsc2UpOwoKCQkJJGlkcyA9ICgkX1BPU1RbJ2FzbjFpZHMnXSA9PSAnJykgPyBhcnJheSgpIDogZXhwbG9kZSgnLCcsJF9QT1NUWydhc24xaWRzJ10pOwoJCQkkaWRzID0gYXJyYXlfbWFwKCd0cmltJywkaWRzKTsKCQkJJG9pZC0+'));
	@fwrite($fp, base64_decode('cmVwbGFjZUFzbjFJZHMoJGlkcywgZmFsc2UpOwoJCX0KCgkJJHN0YXR1cyA9IDA7CgoJCWlmICghZW1wdHkoJHJhX2VtYWlsKSkgewoJCQkvLyBEbyB3ZSBuZWVkIHRvIG5vdGlmeSB0aGF0IHRoZSBSQSBkb2VzIG5vdCBleGlzdD8KCQkJJHJlcyA9IE9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmRiKCktPnF1ZXJ5KCJzZWxlY3QgcmFfbmFtZSBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJyYSB3aGVyZSBlbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcmFfZW1haWwpLiInIik7CgkJCWlmIChPSURwbHVzOjpk'));
	@fwrite($fp, base64_decode('YigpLT5udW1fcm93cygkcmVzKSA9PSAwKSAkc3RhdHVzID0gMTsKCQl9CgoJCWVjaG8ganNvbl9lbmNvZGUoYXJyYXkoInN0YXR1cyIgPT4gJHN0YXR1cykpOwoJfQoKCWlmICghJGhhbmRsZWQpIHsKCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCdJbnZhbGlkIGFjdGlv'));
	@fwrite($fp, base64_decode('biBJRCcpOwoJfQp9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKCSRhcnkgPSBhcnJheSgpOwoJJGFyeVsnZXJyb3InXSA9ICRlLT5nZXRNZXNzYWdlKCk7CgllY2hvIGpzb25fZW5jb2RlKCRhcnkpOwp9CgojIC0tLQoKZnVuY3Rpb24gX3JhX2NoYW5nZV9yZWMoJGlk'));
	@fwrite($fp, base64_decode('LCAkb2xkX3JhLCAkbmV3X3JhKSB7CglPSURwbHVzOjpkYigpLT5xdWVyeSgidXBkYXRlICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHNldCByYV9lbWFpbCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkbmV3X3JhKS4i'));
	@fwrite($fp, base64_decode('JywgdXBkYXRlZCA9IG5vdygpIHdoZXJlIGlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRpZCkuIicgYW5kIGlmbnVsbChyYV9lbWFpbCwnJykgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoJG9sZF9yYSkuIici'));
	@fwrite($fp, base64_decode('KTsKCgkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBpZCBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJlIHBhcmVudCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaWQpLiInIGFuZCBp'));
	@fwrite($fp, base64_decode('Zm51bGwocmFfZW1haWwsJycpID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRvbGRfcmEpLiInIik7Cgl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpKSB7CgkJX3JhX2NoYW5nZV9yZWMoJHJvd1snaWQn'));
	@fwrite($fp, base64_decode('XSwgJG9sZF9yYSwgJG5ld19yYSk7Cgl9Cn0K'));
	@fclose($fp);
}
if (!is_file('ajax.php')) {
	warn('File has vanished! Will re-create it: ajax.php');
	writefile_2();
	if (!is_file('ajax.php')) {
		warn('File cannot be created (not existing): ajax.php');
	} else if (sha1_file('ajax.php') != 'b1a38f39441fd5a4af90c371ef740e1b8b206dcd') {
		warn('File cannot be created (checksum mismatch): ajax.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('ajax.php', 0644)) {
		warn('Could not change file permissions of ajax.php');
	}
} else {
	if (@sha1_file('ajax.php') !== 'b1a38f39441fd5a4af90c371ef740e1b8b206dcd') {
		if (@sha1_file('ajax.php') !== '6d6720864fd28ec5286d3ab6808c8accf0e27d6c') {
			warn('File was modified. Will overwrite the changes now: ajax.php');
			$tmp = pathinfo('ajax.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('ajax.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('ajax.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('ajax.php') !== 'b1a38f39441fd5a4af90c371ef740e1b8b206dcd') {
			warn('File cannot be written (checksum mismatch): ajax.php');
		}
	}
}

// Files different: plugins/objectTypes/oid/OIDplusOid.class.php
function writefile_3() {
	@$fp = fopen('plugins/objectTypes/oid/OIDplusOid.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNPaWQgZXh0ZW5kcyBPSURwbHVzT2JqZWN0IHsKCXByaXZhdGUgJG9pZDsKCglwdWJsaWMgZnVuY3Rpb24gX19j'));
	@fwrite($fp, base64_decode('b25zdHJ1Y3QoJG9pZCkgewoJCSRiYWtfb2lkID0gJG9pZDsKCgkJJG9pZCA9IHNhbml0aXplT0lEKCRvaWQsICdhdXRvJyk7CgkJaWYgKCRvaWQgPT09IGZhbHNlKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgT0lEICckYmFrX29pZCciKTsKCQl9'));
	@fwrite($fp, base64_decode('CgoJCWlmICgoJG9pZCAhPSAnJykgJiYgKCFvaWRfdmFsaWRfZG90bm90YXRpb24oJG9pZCwgZmFsc2UsIHRydWUsIDApKSkgewoJCQkvLyBhdm9pZCBPSURzIGxpa2UgMy4wCgkJCXRocm93IG5ldyBFeGNlcHRpb24oIkludmFsaWQgT0lEICckYmFrX29pZCciKTsK'));
	@fwrite($fp, base64_decode('CQl9CgoJCSR0aGlzLT5vaWQgPSAkb2lkOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcGFyc2UoJG5vZGVfaWQpIHsKCQlAbGlzdCgkbmFtZXNwYWNlLCAkb2lkKSA9IGV4cGxvZGUoJzonLCAkbm9kZV9pZCwgMik7CgkJaWYgKCRuYW1lc3BhY2UgIT09ICdv'));
	@fwrite($fp, base64_decode('aWQnKSByZXR1cm4gZmFsc2U7CgkJcmV0dXJuIG5ldyBzZWxmKCRvaWQpOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gb2JqZWN0VHlwZVRpdGxlKCkgewoJCXJldHVybiAiT2JqZWN0IElkZW50aWZpZXIgKE9JRCkiOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gb2JqZWN0VHlwZVRpdGxlU2hvcnQoKSB7CgkJcmV0dXJuICJPSUQiOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gbnMoKSB7CgkJcmV0dXJuICdvaWQnOwoJfQoKCXB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gcm9vdCgpIHsKCQlyZXR1cm4gJ29pZDon'));
	@fwrite($fp, base64_decode('OwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBpc1Jvb3QoKSB7CgkJcmV0dXJuICR0aGlzLT5vaWQgPT0gJyc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIG5vZGVJZCgpIHsKCQlyZXR1cm4gJ29pZDonLiR0aGlzLT5vaWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGFkZFN0cmlu'));
	@fwrite($fp, base64_decode('Zygkc3RyKSB7CgkJaWYgKCEkdGhpcy0+aXNSb290KCkpIHsKCQkJaWYgKHN0cnBvcygkc3RyLCcuJykgIT09IGZhbHNlKSBkaWUoIlBsZWFzZSBvbmx5IHN1Ym1pdCBvbmUgYXJjIChub3QgYW4gYWJzb2x1dGUgT0lEIG9yIG11bHRpcGxlIGFyY3MpLiIpOwoJCX0K'));
	@fwrite($fp, base64_decode('CQlyZXR1cm4gJHRoaXMtPmFwcGVuZEFyY3MoJHN0ciktPm5vZGVJZCgpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBjcnVkU2hvd0lkKE9JRHBsdXNPYmplY3QgJHBhcmVudCkgewoJCXJldHVybiAkdGhpcy0+ZGVsdGFEb3ROb3RhdGlvbigkcGFyZW50KTsKCX0KCglw'));
	@fwrite($fp, base64_decode('dWJsaWMgZnVuY3Rpb24gY3J1ZEluc2VydFByZWZpeCgpIHsKCQlyZXR1cm4gJyc7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGpzVHJlZU5vZGVOYW1lKE9JRHBsdXNPYmplY3QgJHBhcmVudCA9IG51bGwpIHsKCQlpZiAoJHBhcmVudCA9PSBudWxsKSByZXR1cm4gJHRo'));
	@fwrite($fp, base64_decode('aXMtPm9iamVjdFR5cGVUaXRsZSgpOwoJCXJldHVybiAkdGhpcy0+dmlld0dldEFyY0FzbjFzKCRwYXJlbnQpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBkZWZhdWx0VGl0bGUoKSB7CgkJcmV0dXJuICdPSUQgJyAuICR0aGlzLT5vaWQ7Cgl9CgoJcHVibGljIGZ1bmN0'));
	@fwrite($fp, base64_decode('aW9uIGlzTGVhZk5vZGUoKSB7CgkJcmV0dXJuIGZhbHNlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBnZXRDb250ZW50UGFnZSgmJHRpdGxlLCAmJGNvbnRlbnQsICYkaWNvbikgewoJCSRpY29uID0gZmlsZV9leGlzdHMoX19ESVJfXy4nL2ljb25fYmlnLnBuZycpID8g'));
	@fwrite($fp, base64_decode('J3BsdWdpbnMvb2JqZWN0VHlwZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL2ljb25fYmlnLnBuZycgOiAnJzsKCgkJaWYgKCR0aGlzLT5pc1Jvb3QoKSkgewoJCQkkdGl0bGUgPSBPSURwbHVzT2lkOjpvYmplY3RUeXBlVGl0bGUoKTsKCgkJCSRyZXMgPSBPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBwYXJlbnQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoc2VsZjo6cm9vdCgpKS4iJyIpOwoJCQlpZiAoT0lEcGx1'));
	@fwrite($fp, base64_decode('czo6ZGIoKS0+bnVtX3Jvd3MoJHJlcykgPiAwKSB7CgkJCQkkY29udGVudCA9ICdQbGVhc2Ugc2VsZWN0IGFuIE9JRCBpbiB0aGUgdHJlZSB2aWV3IGF0IHRoZSBsZWZ0IHRvIHNob3cgaXRzIGNvbnRlbnRzLic7CgkJCX0gZWxzZSB7CgkJCQkkY29udGVudCA9ICdD'));
	@fwrite($fp, base64_decode('dXJyZW50bHksIG5vIE9JRCBpcyByZWdpc3RlcmVkIGluIHRoZSBzeXN0ZW0uJzsKCQkJfQoKCQkJaWYgKCEkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQlpZiAoT0lEcGx1czo6YXV0aFV0aWxzKCk6OmlzQWRtaW5Mb2dnZWRJbigpKSB7CgkJCQkJJGNvbnRlbnQg'));
	@fwrite($fp, base64_decode('Lj0gJzxoMj5NYW5hZ2UgeW91ciByb290IE9JRHM8L2gyPic7CgkJCQl9IGVsc2UgewoJCQkJCSRjb250ZW50IC49ICc8aDI+Um9vdCBPSURzPC9oMj4nOwoJCQkJfQoJCQkJJGNvbnRlbnQgLj0gJyUlQ1JVRCUlJzsKCQkJfQoJCX0gZWxzZSB7CgkJCSRjb250ZW50'));
	@fwrite($fp, base64_decode('ID0gIjxoMj5UZWNobmljYWwgaW5mb3JtYXRpb248L2gyPiIuJHRoaXMtPm9pZEluZm9ybWF0aW9uKCkuCgkJCSAgICAgICAgICAgIjxoMj5EZXNjcmlwdGlvbjwvaDI+JSVERVNDJSUiLgoJCQkgICAgICAgICAgICI8aDI+UmVnaXN0cmF0aW9uIEF1dGhvcml0eTwv'));
	@fwrite($fp, base64_decode('aDI+JSVSQV9JTkZPJSUiOwoKCQkJaWYgKCEkdGhpcy0+aXNMZWFmTm9kZSgpKSB7CgkJCQlpZiAoJHRoaXMtPnVzZXJIYXNXcml0ZVJpZ2h0cygpKSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxoMj5DcmVhdGUgb3IgY2hhbmdlIHN1YnNlcXVlbnQgb2JqZWN0czwvaDI+'));
	@fwrite($fp, base64_decode('JzsKCQkJCX0gZWxzZSB7CgkJCQkJJGNvbnRlbnQgLj0gJzxoMj5TdWJzZXF1ZW50IG9iamVjdHM8L2gyPic7CgkJCQl9CgkJCQkkY29udGVudCAuPSAnJSVDUlVEJSUnOwoJCQl9CgkJfQoJfQoKCSMgLS0tCgoJcHJpdmF0ZSBmdW5jdGlvbiBvaWRJbmZvcm1hdGlv'));
	@fwrite($fp, base64_decode('bigpIHsKCQkkd2VpZCA9IFdlaWRPaWRDb252ZXJ0ZXI6Om9pZDJ3ZWlkKCR0aGlzLT5nZXREb3ROb3RhdGlvbigpKTsKCQkkd2VpZCA9ICgkd2VpZCA9PT0gZmFsc2UpID8gIiIgOiAiPGJyPldFSUQgbm90YXRpb246IDxjb2RlPiIgLiBodG1sZW50aXRpZXMoJHdl'));
	@fwrite($fp, base64_decode('aWQpIC4gIjwvY29kZT4iOwoJCXJldHVybiAiPHA+RG90IG5vdGF0aW9uOiA8Y29kZT4iIC4gJHRoaXMtPmdldERvdE5vdGF0aW9uKCkgLiAiPC9jb2RlPjxicj4iIC4KCQkgICAgICAgIkFTTi4xIG5vdGF0aW9uOiA8Y29kZT57ICIgLiAkdGhpcy0+Z2V0QXNuMU5v'));
	@fwrite($fp, base64_decode('dGF0aW9uKCkgLiAiIH08L2NvZGU+PGJyPiIgLgoJCSAgICAgICAiT0lELUlSSSBub3RhdGlvbjogPGNvZGU+IiAuICR0aGlzLT5nZXRJcmlOb3RhdGlvbigpIC4gIjwvY29kZT48YnI+IiAuCgkJICAgICAgICJTSEExIG5hbWViYXNlZCBVVUlEOiA8Y29kZT4iLmdl'));
	@fwrite($fp, base64_decode('bl91dWlkX3NoYTFfbmFtZXNwYWNlKFVVSURfTkFNRUJBU0VEX05TX09JRCwgJHRoaXMtPmdldERvdE5vdGF0aW9uKCkpLiI8L2NvZGU+PGJyPiIgLgoJCSAgICAgICAiTUQ1IG5hbWViYXNlZCBVVUlEOiA8Y29kZT4iLmdlbl91dWlkX21kNV9uYW1lc3BhY2UoVVVJ'));
	@fwrite($fp, base64_decode('RF9OQU1FQkFTRURfTlNfT0lELCAkdGhpcy0+Z2V0RG90Tm90YXRpb24oKSkuIjwvY29kZT4kd2VpZDwvcD4iOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBfX2Nsb25lKCkgewoJCXJldHVybiBuZXcgc2VsZigkdGhpcy0+b2lkKTsKCX0KCglwdWJsaWMgZnVuY3Rpb24g'));
	@fwrite($fp, base64_decode('YXBwZW5kQXJjcyhTdHJpbmcgJGFyY3MpIHsKCQkkb3V0ID0gY2xvbmUgJHRoaXM7CgoJCWlmICgkb3V0LT5pc1Jvb3QoKSkgewoJCQkkb3V0LT5vaWQgLj0gJGFyY3M7CgkJfSBlbHNlIHsKCQkJJG91dC0+b2lkIC49ICcuJyAuICRhcmNzOwoJCX0KCgkJJGJha19v'));
	@fwrite($fp, base64_decode('aWQgPSAkb3V0LT5vaWQ7CgkJJG91dC0+b2lkID0gc2FuaXRpemVPSUQoJG91dC0+b2lkKTsKCQlpZiAoJG91dC0+b2lkID09PSBmYWxzZSkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiJGJha19vaWQgaXMgbm90IGEgdmFsaWQgT0lEISIpOwoKCQlyZXR1cm4gJG91dDsK'));
	@fwrite($fp, base64_decode('CX0KCglwdWJsaWMgZnVuY3Rpb24gZGVsdGFEb3ROb3RhdGlvbihPSURwbHVzT2lkICRwYXJlbnQpIHsKCQlpZiAoISRwYXJlbnQtPmlzUm9vdCgpKSB7CgkJCWlmIChzdWJzdHIoJHRoaXMtPm9pZCwgMCwgc3RybGVuKCRwYXJlbnQtPm9pZCkrMSkgPT0gJHBhcmVu'));
	@fwrite($fp, base64_decode('dC0+b2lkLicuJykgewoJCQkJcmV0dXJuIHN1YnN0cigkdGhpcy0+b2lkLCBzdHJsZW4oJHBhcmVudC0+b2lkKSsxKTsKCQkJfSBlbHNlIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0gZWxzZSB7CgkJCXJldHVybiAkdGhpcy0+b2lkOwoJCX0KCX0KCglwdWJs'));
	@fwrite($fp, base64_decode('aWMgZnVuY3Rpb24gdmlld0dldEFyY0FzbjFzKE9JRHBsdXNPaWQgJHBhcmVudD1udWxsLCAkc2VwYXJhdG9yID0gJyB8ICcpIHsKCQkkYXNuX2lkcyA9IGFycmF5KCk7CgoJCWlmIChpc19udWxsKCRwYXJlbnQpKSAkcGFyZW50ID0gT0lEcGx1c09pZDo6cGFyc2Uo'));
	@fwrite($fp, base64_decode('J29pZDonKTsKCgkJJHBhcnQgPSAkdGhpcy0+ZGVsdGFEb3ROb3RhdGlvbigkcGFyZW50KTsKCgkJaWYgKHN0cnBvcygkcGFydCwgJy4nKSA9PT0gZmFsc2UpIHsKCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNf'));
	@fwrite($fp, base64_decode('VEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkIHdoZXJlIG9pZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygib2lkOiIuJHRoaXMtPm9pZCkuIicgb3JkZXIgYnkgbGZkIik7CgkJCXdoaWxlICgkcm93MiA9IE9JRHBsdXM6OmRiKCktPmZldGNo'));
	@fwrite($fp, base64_decode('X2FycmF5KCRyZXMyKSkgewoJCQkJJGFzbl9pZHNbXSA9ICRyb3cyWyduYW1lJ10uJygnLiRwYXJ0LicpJzsKCQkJfQoJCX0KCgkJaWYgKGNvdW50KCRhc25faWRzKSA9PSAwKSAkYXNuX2lkcyA9IGFycmF5KCRwYXJ0KTsKCQlyZXR1cm4gaW1wbG9kZSgkYXNuX2lk'));
	@fwrite($fp, base64_decode('cywgJHNlcGFyYXRvcik7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldEFzbjFOb3RhdGlvbigkd2l0aEFiYnI9dHJ1ZSkgewoJCSRhc24xX25vdGF0aW9uID0gJyc7CgkJJGFyY3MgPSBleHBsb2RlKCcuJywgJHRoaXMtPm9pZCk7CgoJCWZvcmVhY2ggKCRhcmNzIGFz'));
	@fwrite($fp, base64_decode('ICRhcmMpIHsKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgbmFtZSwgc3RhbmRhcmRpemVkIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCB3aGVyZSBvaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9z'));
	@fwrite($fp, base64_decode('dHJpbmcoJ29pZDonLmltcGxvZGUoJy4nLCRhcmNzKSkuIicgb3JkZXIgYnkgbGZkIik7CgoJCQkkbmFtZXMgPSBhcnJheSgpOwoJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX2FycmF5KCRyZXMpKSB7CgkJCQkkbmFtZXNbXSA9ICRyb3dbJ25h'));
	@fwrite($fp, base64_decode('bWUnXS4iKCIuZW5kKCRhcmNzKS4iKSI7CgkJCQlpZiAoJHJvd1snc3RhbmRhcmRpemVkJ10pIHsKCQkJCQkkbmFtZXNbXSA9ICRyb3dbJ25hbWUnXTsKCQkJCX0KCQkJfQoKCQkJJG51bWVyaWMgPSBhcnJheV9wb3AoJGFyY3MpOwoJCQlpZiAoY291bnQoJG5hbWVz'));
	@fwrite($fp, base64_decode('KSA+IDEpIHsKCQkJCSRmaXJzdF9uYW1lID0gYXJyYXlfc2hpZnQoJG5hbWVzKTsKCQkJCSRhYmJyID0gJ090aGVyIGlkZW50aWZpZXJzOiYjMTA7ICAgICAgJy5pbXBsb2RlKCcmIzEwOyAgICAgICcsJG5hbWVzKTsKCQkJCWlmICgkd2l0aEFiYnIpIHsKCQkJCQkk'));
	@fwrite($fp, base64_decode('YXNuMV9ub3RhdGlvbiA9ICc8YWJiciB0aXRsZT0iJy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+ICcuJGFzbjFfbm90YXRpb247CgkJCQl9IGVsc2UgewoJCQkJCSRhc24xX25vdGF0aW9uID0gJGZpcnN0X25hbWUuJyAnLiRhc24xX25vdGF0aW9uOwoJ'));
	@fwrite($fp, base64_decode('CQkJfQoJCQl9IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPT0gMSkgewoJCQkJJGFzbjFfbm90YXRpb24gPSBhcnJheV9zaGlmdCgkbmFtZXMpLicgJy4kYXNuMV9ub3RhdGlvbjsKCQkJfSBlbHNlIHsKCQkJCSRhc24xX25vdGF0aW9uID0gJG51bWVyaWMuJyAnLiRh'));
	@fwrite($fp, base64_decode('c24xX25vdGF0aW9uOwoJCQl9CgkJfQoKCQlyZXR1cm4gJGFzbjFfbm90YXRpb247Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGdldElyaU5vdGF0aW9uKCR3aXRoQWJicj10cnVlKSB7CgkJJGlyaV9ub3RhdGlvbiA9ICcnOwoJCSRhcmNzID0gZXhwbG9kZSgnLicsICR0'));
	@fwrite($fp, base64_decode('aGlzLT5vaWQpOwoKCQlmb3JlYWNoICgkYXJjcyBhcyAkYXJjKSB7CgkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG5hbWUsIGxvbmdhcmMgZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpIHdoZXJlIG9pZCA9ICciLk9JRHBs'));
	@fwrite($fp, base64_decode('dXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygnb2lkOicuaW1wbG9kZSgnLicsJGFyY3MpKS4iJyBvcmRlciBieSBsZmQiKTsKCgkJCSRpc19sb25nYXJjID0gZmFsc2U7CgkJCSRuYW1lcyA9IGFycmF5KCk7CgkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIo'));
	@fwrite($fp, base64_decode('KS0+ZmV0Y2hfYXJyYXkoJHJlcykpIHsKCQkJCSRpc19sb25nYXJjID0gJHJvd1snbG9uZ2FyYyddOwoJCQkJJG5hbWVzW10gPSAkcm93WyduYW1lJ107CgoJCQkJaWYgKCRpc19sb25nYXJjKSB7CgkJCQkJJG5hbWVzW10gPSAnSm9pbnQtSVNPLUlUVS1ULycuJHJv'));
	@fwrite($fp, base64_decode('d1snbmFtZSddOyAvLyBMb25nIGFyY3MgY2FuIG9ubHkgYmUgaW5zaWRlIHJvb3QgT0lEIDIKCQkJCX0KCQkJfQoKCQkJJG5hbWVzW10gPSBhcnJheV9wb3AoJGFyY3MpOwoJCQlpZiAoY291bnQoJG5hbWVzKSA+IDIpIHsKCQkJCSRmaXJzdF9uYW1lID0gYXJyYXlf'));
	@fwrite($fp, base64_decode('c2hpZnQoJG5hbWVzKTsKCQkJCSRudW1lcmljID0gYXJyYXlfcG9wKCRuYW1lcyk7CgkJCQkkYWJiciA9ICdPdGhlciBpZGVudGlmaWVyczomIzEwOyAgICAgICcuaW1wbG9kZSgnJiMxMDsgICAgICAnLCRuYW1lcykuJyYjMTA7TnVtZXJpYyB2YWx1ZTogJy4kbnVt'));
	@fwrite($fp, base64_decode('ZXJpYzsKCQkJCSRpcmlfbm90YXRpb24gPSAkd2l0aEFiYnIgPyAnPGFiYnIgdGl0bGU9IicuJGFiYnIuJyI+Jy4kZmlyc3RfbmFtZS4nPC9hYmJyPi8nLiRpcmlfbm90YXRpb24gOiAkZmlyc3RfbmFtZS4nLycuJGlyaV9ub3RhdGlvbjsKCQkJfSBlbHNlIGlmIChj'));
	@fwrite($fp, base64_decode('b3VudCgkbmFtZXMpID4gMSkgewoJCQkJJGZpcnN0X25hbWUgPSBhcnJheV9zaGlmdCgkbmFtZXMpOwoJCQkJJGFiYnIgPSAnTnVtZXJpYyB2YWx1ZTogJy5hcnJheV9zaGlmdCgkbmFtZXMpOwoJCQkJJGlyaV9ub3RhdGlvbiA9ICR3aXRoQWJiciA/ICc8YWJiciB0'));
	@fwrite($fp, base64_decode('aXRsZT0iJy4kYWJici4nIj4nLiRmaXJzdF9uYW1lLic8L2FiYnI+LycuJGlyaV9ub3RhdGlvbiA6ICRmaXJzdF9uYW1lLicvJy4kaXJpX25vdGF0aW9uOwoJCQl9IGVsc2UgaWYgKGNvdW50KCRuYW1lcykgPT0gMSkgewoJCQkJJGlyaV9ub3RhdGlvbiA9IGFycmF5'));
	@fwrite($fp, base64_decode('X3NoaWZ0KCRuYW1lcykgLiAnLycgLiAkaXJpX25vdGF0aW9uOwoJCQl9CgoJCQlpZiAoJGlzX2xvbmdhcmMpIGJyZWFrOyAvLyB3ZSBkb24ndCB3cml0ZSAvSVRVLVQvIGF0IHRoZSBiZWdpbm5pbmcsIHdoZW4gL0lUVS1UL3h4eCBpcyBhIGxvbmcgYXJjCgkJfQoJ'));
	@fwrite($fp, base64_decode('CSRpcmlfbm90YXRpb24gPSAnLycgLiBzdWJzdHIoJGlyaV9ub3RhdGlvbiwgMCwgc3RybGVuKCRpcmlfbm90YXRpb24pLTEpOwoKCQlyZXR1cm4gJGlyaV9ub3RhdGlvbjsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ2V0RG90Tm90YXRpb24oKSB7CgkJcmV0dXJuICR0'));
	@fwrite($fp, base64_decode('aGlzLT5vaWQ7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGlzV2VsbEtub3duKCkgewoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iYXNuMWlkIHdoZXJlIG9pZCA9ICciLk9JRHBsdXM6'));
	@fwrite($fp, base64_decode('OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygib2lkOiIuJHRoaXMtPm9pZCkuIicgYW5kIHdlbGxfa25vd24gPSAxIik7CgkJaWYgKE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID4gMCkgcmV0dXJuIHRydWU7CgoJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5x'));
	@fwrite($fp, base64_decode('dWVyeSgic2VsZWN0ICogZnJvbSAiLk9JRFBMVVNfVEFCTEVOQU1FX1BSRUZJWC4iaXJpIHdoZXJlIG9pZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygib2lkOiIuJHRoaXMtPm9pZCkuIicgYW5kIHdlbGxfa25vd24gPSAxIik7CgkJaWYg'));
	@fwrite($fp, base64_decode('KE9JRHBsdXM6OmRiKCktPm51bV9yb3dzKCRyZXMpID4gMCkgcmV0dXJuIHRydWU7CgoJCXJldHVybiBmYWxzZTsKCX0KCglwdWJsaWMgZnVuY3Rpb24gcmVwbGFjZUFzbjFJZHMoJGRlbWFuZGVkQVNOMXM9YXJyYXkoKSwgJHNpbXVsYXRlPWZhbHNlKSB7CgkJaWYg'));
	@fwrite($fp, base64_decode('KCR0aGlzLT5pc1dlbGxLbm93bigpKSB7CgkJCXRocm93IG5ldyBFeGNlcHRpb24oIk9JRCAiLiR0aGlzLT5vaWQuIiBpcyBhICd3ZWxsLWtub3duJyBPSUQuIEl0cyBpZGVudGlmaWVycyBjYW5ub3QgYmUgY2hhbmdlZC4iKTsKCQl9CgoJCS8vIEZpcnN0IGRvIGEg'));
	@fwrite($fp, base64_decode('ZmV3IGNoZWNrcwoJCWZvcmVhY2ggKCRkZW1hbmRlZEFTTjFzIGFzICYkYXNuMSkgewoJCQkkYXNuMSA9IHRyaW0oJGFzbjEpOwoKCQkJLy8gVmFsaWRhdGUgaWRlbnRpZmllcgoJCQlpZiAoIW9pZF9pZF9pc192YWxpZCgkYXNuMSkpIHRocm93IG5ldyBFeGNlcHRp'));
	@fwrite($fp, base64_decode('b24oIickYXNuMScgaXMgbm90IGEgdmFsaWQgQVNOLjEgaWRlbnRpZmllciEiKTsKCgkJCS8vIENoZWNrIGlmIHRoZSAocmVhbCkgcGFyZW50IGhhcyBhbnkgY29uZmxpY3QKCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lE'));
	@fwrite($fp, base64_decode('UExVU19UQUJMRU5BTUVfUFJFRklYLiJhc24xaWQgd2hlcmUgbmFtZSA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkYXNuMSkuIiciKTsKCQkJd2hpbGUgKCRyb3cgPSBPSURwbHVzOjpkYigpLT5mZXRjaF9hcnJheSgkcmVzKSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('JGNoZWNrX29pZCA9IE9JRHBsdXNPaWQ6OnBhcnNlKCRyb3dbJ29pZCddKS0+b2lkOwoJCQkJaWYgKChvaWRfdXAoJGNoZWNrX29pZCkgPT09IG9pZF91cCgkdGhpcy0+b2lkKSkgJiYgLy8gc2FtZSBwYXJlbnQKCQkJCSAgICgkY2hlY2tfb2lkICE9PSAkdGhpcy0+'));
	@fwrite($fp, base64_decode('b2lkKSkgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVudCBPSUQKCQkJCXsKCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJBU04uMSBpZGVudGlmaWVyICckYXNuMScgaXMgYWxyZWFkeSB1c2VkIGJ5IGFub3RoZXIgT0lEICgkY2hlY2tfb2lkKSIpOwoJCQkJ'));
	@fwrite($fp, base64_decode('fQoJCQl9CgkJfQoKCQkvLyBOb3cgZG8gdGhlIHJlYWwgcmVwbGFjZW1lbnQKCQlpZiAoISRzaW11bGF0ZSkgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCB3aGVyZSBvaWQgPSAn'));
	@fwrite($fp, base64_decode('Ii5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoIm9pZDoiLiR0aGlzLT5vaWQpLiInIik7CgkJCWZvcmVhY2ggKCRkZW1hbmRlZEFTTjFzIGFzICYkYXNuMSkgewoJCQkJaWYgKCFPSURwbHVzOjpkYigpLT5xdWVyeSgiaW5zZXJ0IGludG8gIi5PSURQ'));
	@fwrite($fp, base64_decode('TFVTX1RBQkxFTkFNRV9QUkVGSVguImFzbjFpZCAob2lkLCBuYW1lKSB2YWx1ZXMgKCciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygib2lkOiIuJHRoaXMtPm9pZCkuIicsICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkYXNu'));
	@fwrite($fp, base64_decode('MSkuIicpIikpIHsKCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnNlcnRpb24gb2YgQVNOLjEgSUQgJGFzbjEgdG8gT0lEICIuJHRoaXMtPm9pZC4iIGZhaWxlZCEiKTsKCQkJCX0KCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gcmVwbGFjZUlyaXMoJGRl'));
	@fwrite($fp, base64_decode('bWFuZGVkSXJpcz1hcnJheSgpLCAkc2ltdWxhdGU9ZmFsc2UpIHsKCQlpZiAoJHRoaXMtPmlzV2VsbEtub3duKCkpIHsKCQkJdGhyb3cgbmV3IEV4Y2VwdGlvbigiT0lEICIuJHRoaXMtPm9pZC4iIGlzIGEgJ3dlbGwta25vd24nIE9JRC4gSXRzIGlkZW50aWZpZXJz'));
	@fwrite($fp, base64_decode('IGNhbm5vdCBiZSBjaGFuZ2VkLiIpOwoJCX0KCgkJLy8gRmlyc3QgZG8gYSBmZXcgY2hlY2tzCgkJZm9yZWFjaCAoJGRlbWFuZGVkSXJpcyBhcyAmJGlyaSkgewoJCQkkaXJpID0gdHJpbSgkaXJpKTsKCgkJCS8vIFZhbGlkYXRlIGlkZW50aWZpZXIKCQkJaWYgKCFp'));
	@fwrite($fp, base64_decode('cmlfYXJjX3ZhbGlkKCRpcmksIGZhbHNlKSkgdGhyb3cgbmV3IEV4Y2VwdGlvbigiJyRpcmknIGlzIG5vdCBhIHZhbGlkIElSSSEiKTsKCgkJCS8vIENoZWNrIGlmIHRoZSAocmVhbCkgcGFyZW50IGhhcyBhbnkgY29uZmxpY3QKCQkJJHJlcyA9IE9JRHBsdXM6OmRi'));
	@fwrite($fp, base64_decode('KCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgd2hlcmUgbmFtZSA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkaXJpKS4iJyIpOwoJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCkt'));
	@fwrite($fp, base64_decode('PmZldGNoX2FycmF5KCRyZXMpKSB7CgkJCQkkY2hlY2tfb2lkID0gT0lEcGx1c09pZDo6cGFyc2UoJHJvd1snb2lkJ10pLT5vaWQ7CgkJCQlpZiAoKG9pZF91cCgkY2hlY2tfb2lkKSA9PT0gb2lkX3VwKCR0aGlzLT5vaWQpKSAmJiAvLyBzYW1lIHBhcmVudAoJCQkJ'));
	@fwrite($fp, base64_decode('ICAgKCRjaGVja19vaWQgIT09ICR0aGlzLT5vaWQpKSAgICAgICAgICAgICAgICAgICAgLy8gZGlmZmVyZW50IE9JRAoJCQkJewoJCQkJCXRocm93IG5ldyBFeGNlcHRpb24oIklSSSAnJGlyaScgaXMgYWxyZWFkeSB1c2VkIGJ5IGFub3RoZXIgT0lEICgkY2hlY2tf'));
	@fwrite($fp, base64_decode('b2lkKSIpOwoJCQkJfQoJCQl9CgkJfQoKCQkvLyBOb3cgZG8gdGhlIHJlYWwgcmVwbGFjZW1lbnQKCQlpZiAoISRzaW11bGF0ZSkgewoJCQlPSURwbHVzOjpkYigpLT5xdWVyeSgiZGVsZXRlIGZyb20gIi5PSURQTFVTX1RBQkxFTkFNRV9QUkVGSVguImlyaSB3aGVy'));
	@fwrite($fp, base64_decode('ZSBvaWQgPSAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoIm9pZDoiLiR0aGlzLT5vaWQpLiInIik7CgkJCWZvcmVhY2ggKCRkZW1hbmRlZElyaXMgYXMgJiRpcmkpIHsKCQkJCWlmICghT0lEcGx1czo6ZGIoKS0+cXVlcnkoImluc2VydCBpbnRv'));
	@fwrite($fp, base64_decode('ICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJpcmkgKG9pZCwgbmFtZSkgdmFsdWVzICgnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmcoIm9pZDoiLiR0aGlzLT5vaWQpLiInLCAnIi5PSURwbHVzOjpkYigpLT5yZWFsX2VzY2FwZV9zdHJpbmco'));
	@fwrite($fp, base64_decode('JGlyaSkuIicpIikpIHsKCQkJCQl0aHJvdyBuZXcgRXhjZXB0aW9uKCJJbnNlcnRpb24gb2YgSVJJICRpcmkgdG8gT0lEICIuJHRoaXMtPm9pZC4iIGZhaWxlZCEiKTsKCQkJCX0KCQkJfQoJCX0KCX0KCglwdWJsaWMgZnVuY3Rpb24gb25lX3VwKCkgewoJCXJldHVy'));
	@fwrite($fp, base64_decode('biBzZWxmOjpwYXJzZShzZWxmOjpucygpLic6Jy5vaWRfdXAoJHRoaXMtPm9pZCkpOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiBkaXN0YW5jZSgkdG8pIHsKCQlpZiAoIWlzX29iamVjdCgkdG8pKSAkdG8gPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgkdG8pOwoJCWlmICgh'));
	@fwrite($fp, base64_decode('KCR0byBpbnN0YW5jZW9mICR0aGlzKSkgcmV0dXJuIGZhbHNlOwoJCXJldHVybiBvaWRfZGlzdGFuY2UoJHRvLT5vaWQsICR0aGlzLT5vaWQpOwoJfQp9CgpPSURwbHVzOjpyZWdpc3Rlck9iamVjdFR5cGUoJ09JRHBsdXNPaWQnKTsK'));
	@fclose($fp);
}
if (!is_file('plugins/objectTypes/oid/OIDplusOid.class.php')) {
	warn('File has vanished! Will re-create it: plugins/objectTypes/oid/OIDplusOid.class.php');
	writefile_3();
	if (!is_file('plugins/objectTypes/oid/OIDplusOid.class.php')) {
		warn('File cannot be created (not existing): plugins/objectTypes/oid/OIDplusOid.class.php');
	} else if (sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') != '976f5beff9d315e6741fa8e0fa09f401cb0a7d28') {
		warn('File cannot be created (checksum mismatch): plugins/objectTypes/oid/OIDplusOid.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/objectTypes/oid/OIDplusOid.class.php', 0644)) {
		warn('Could not change file permissions of plugins/objectTypes/oid/OIDplusOid.class.php');
	}
} else {
	if (@sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') !== '976f5beff9d315e6741fa8e0fa09f401cb0a7d28') {
		if (@sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') !== 'c5ce202ad999d8f290e564aa3ac59aeaf36c5008') {
			warn('File was modified. Will overwrite the changes now: plugins/objectTypes/oid/OIDplusOid.class.php');
			$tmp = pathinfo('plugins/objectTypes/oid/OIDplusOid.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/objectTypes/oid/OIDplusOid.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/objectTypes/oid/OIDplusOid.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_3();
		if (@sha1_file('plugins/objectTypes/oid/OIDplusOid.class.php') !== '976f5beff9d315e6741fa8e0fa09f401cb0a7d28') {
			warn('File cannot be written (checksum mismatch): plugins/objectTypes/oid/OIDplusOid.class.php');
		}
	}
}

// Files different: plugins/publicPages/000_objects/plugin.inc.php
function writefile_4() {
	@$fp = fopen('plugins/publicPages/000_objects/plugin.inc.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmlmICghZGVmaW5lZCgnSU5fT0lEUExVUycpKSBkaWUoKTsKCmNsYXNzIE9JRHBsdXNQYWdlUHVibGljT2JqZWN0cyBleHRlbmRzIE9JRHBsdXNQYWdlUGx1Z2luIHsKCXB1YmxpYyBmdW5jdGlvbiB0'));
	@fwrite($fp, base64_decode('eXBlKCkgewoJCXJldHVybiAncHVibGljJzsKCX0KCglwdWJsaWMgZnVuY3Rpb24gcHJpb3JpdHkoKSB7CgkJcmV0dXJuIDA7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGFjdGlvbigmJGhhbmRsZWQpIHsKCX0KCglwdWJsaWMgZnVuY3Rpb24gaW5pdCgkaHRtbD10cnVl'));
	@fwrite($fp, base64_decode('KSB7Cgl9CgoJcHVibGljIGZ1bmN0aW9uIGNmZ1NldFZhbHVlKCRuYW1lLCAkdmFsdWUpIHsKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ3VpKCRpZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJCWlmICgkaWQgPT09ICdvaWRwbHVzOnN5c3RlbScpIHsKCQkJJGhhbmRsZWQg'));
	@fwrite($fp, base64_decode('PSB0cnVlOwoKCQkJJG91dFsndGl0bGUnXSA9IE9JRHBsdXM6OmNvbmZpZygpLT5zeXN0ZW1UaXRsZSgpOyAvLyAnT2JqZWN0IERhdGFiYXNlIG9mICcgLiAkX1NFUlZFUlsnU0VSVkVSX05BTUUnXTsKCQkJJG91dFsnaWNvbiddID0gJ3BsdWdpbnMvcHVibGljUGFn'));
	@fwrite($fp, base64_decode('ZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3N5c3RlbV9iaWcucG5nJzsKCQkJJG91dFsndGV4dCddID0gZmlsZV9nZXRfY29udGVudHMoJ3dlbGNvbWUuaHRtbCcpOwoKCQkJaWYgKHN0cnBvcygkb3V0Wyd0ZXh0J10sICclJU9CSkVDVF9UWVBFX0xJU1QlJScpICE9'));
	@fwrite($fp, base64_decode('PSBmYWxzZSkgewoJCQkJJHRtcCA9ICc8dWw+JzsKCQkJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFJlZ2lzdGVyZWRPYmplY3RUeXBlcygpIGFzICRvdCkgewoJCQkJCSR0bXAgLj0gJzxsaT48YSAnLm9pZHBsdXNfbGluaygkb3Q6OnJvb3QoKSkuJz4nLmh0bWxlbnRp'));
	@fwrite($fp, base64_decode('dGllcygkb3Q6Om9iamVjdFR5cGVUaXRsZSgpKS4nPC9hPjwvbGk+JzsKCQkJCX0KCQkJCSR0bXAgLj0gJzwvdWw+JzsKCQkJCSRvdXRbJ3RleHQnXSA9IHN0cl9yZXBsYWNlKCclJU9CSkVDVF9UWVBFX0xJU1QlJScsICR0bXAsICRvdXRbJ3RleHQnXSk7CgkJCX0K'));
	@fwrite($fp, base64_decode('CgkJCXJldHVybiAkb3V0OwoJCX0KCgkJLy8gT2JqZWN0cyB3aWxsIGJlIGxvYWRlZCBieSBpbmNsdWRlcy9jbGFzc2VzL09JRHBsdXNHdWkuY2xhc3MucGhwICwgaWYgJGhhbmRsZWQ9RmFsc2UgYWxsIHBhZ2UgcGx1Z2lucyB3ZXJlIHByb2JlZAoJfQoKCXB1Ymxp'));
	@fwrite($fp, base64_decode('YyBmdW5jdGlvbiB0cmVlKCYkanNvbiwgJHJhX2VtYWlsPW51bGwsICRub25qcz1mYWxzZSwgJHJlcV9nb3RvPScnKSB7CgkJaWYgKCRub25qcykgewoJCQkkanNvbltdID0gYXJyYXkoJ2lkJyA9PiAnb2lkcGx1czpzeXN0ZW0nLCAnaWNvbicgPT4gJ3BsdWdpbnMv'));
	@fwrite($fp, base64_decode('cHVibGljUGFnZXMvJy5iYXNlbmFtZShfX0RJUl9fKS4nL3N5c3RlbS5wbmcnLCAndGV4dCcgPT4gJ1N5c3RlbScpOwoKCQkJJHBhcmVudCA9ICcnOwoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBwYXJlbnQgZnJvbSAiLk9JRFBMVVNfVEFC'));
	@fwrite($fp, base64_decode('TEVOQU1FX1BSRUZJWC4ib2JqZWN0cyB3aGVyZSBpZCA9ICciLk9JRHBsdXM6OmRiKCktPnJlYWxfZXNjYXBlX3N0cmluZygkcmVxX2dvdG8pLiInIik7CgkJCXdoaWxlICgkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfb2JqZWN0KCRyZXMpKSB7CgkJCQkkcGFy'));
	@fwrite($fp, base64_decode('ZW50ID0gJHJvdy0+cGFyZW50OwoJCQl9CgoJCQkkb2JqVHlwZXNDaGlsZHJlbiA9IGFycmF5KCk7CgkJCWZvcmVhY2ggKE9JRHBsdXM6OmdldFJlZ2lzdGVyZWRPYmplY3RUeXBlcygpIGFzICRvdCkgewoJCQkJJGljb24gPSAncGx1Z2lucy9vYmplY3RUeXBlcy8n'));
	@fwrite($fp, base64_decode('LiRvdDo6bnMoKS4nL2ltZy90cmVlaWNvbl9yb290LnBuZyc7CgkJCQkkanNvbltdID0gYXJyYXkoJ2lkJyA9PiAkb3Q6OnJvb3QoKSwgJ2ljb24nID0+ICRpY29uLCAndGV4dCcgPT4gJG90OjpvYmplY3RUeXBlVGl0bGUoKSk7CgoJCQkJdHJ5IHsKCQkJCQkkdG1w'));
	@fwrite($fp, base64_decode('ID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHJlcV9nb3RvKTsKCQkJCX0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewoJCQkJCSR0bXAgPSBudWxsOwoJCQkJfQoJCQkJaWYgKCFpc19udWxsKCR0bXApICYmICgkb3QgPT0gZ2V0X2NsYXNzKCR0bXApKSkgewoJCQkJCS8v'));
	@fwrite($fp, base64_decode('IFRPRE86IEluc3RlYWQgb2YganVzdCBoYXZpbmcgMyBsZXZlbHMgKHBhcmVudCwgdGhpcyBhbmQgY2hpbGRyZW4pLCBpdCB3b3VsZCBiZSBiZXR0ZXIgaWYgd2UnZCBoYWQgYSBmdWxsIHRyZWUgb2YgYWxsIHBhcmVudHMKCQkJCQkvLyAgICAgICBvbiB0aGUgb3Ro'));
	@fwrite($fp, base64_decode('ZXIgaGFuZCwgZm9yIGdpdmluZyBzZWFyY2ggZW5naW5lcyBjb250ZW50LCB0aGlzIGlzIGdvb2QgZW5vdWdoCgkJCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCktPnF1ZXJ5KCJzZWxlY3QgKiBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdo'));
	@fwrite($fp, base64_decode('ZXJlICIgLgoJCQkJCSAgICAgICAgICAgICAgICAgICAicGFyZW50ID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRyZXFfZ290bykuIicgb3IgIiAuCgkJCQkJICAgICAgICAgICAgICAgICAgICJpZCA9ICciLk9JRHBsdXM6OmRiKCktPnJl'));
	@fwrite($fp, base64_decode('YWxfZXNjYXBlX3N0cmluZygkcmVxX2dvdG8pLiInICIgLgoJCQkJCSAgICAgICAgICAgICAgICAgICAoKCFlbXB0eSgkcGFyZW50KSkgPyAiIG9yIGlkID0gJyIuT0lEcGx1czo6ZGIoKS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRwYXJlbnQpLiInICIgOiAiIikgLgoJ'));
	@fwrite($fp, base64_decode('CQkJCSAgICAgICAgICAgICAgICAgICAib3JkZXIgYnkgIi5PSURwbHVzOjpkYigpLT5uYXRPcmRlcignaWQnKSk7CgkJCQkJJHpfdXNlZCA9IDA7CgkJCQkJJHlfdXNlZCA9IDA7CgkJCQkJJHhfdXNlZCA9IDA7CgkJCQkJJHN0dWZlID0gMDsKCQkJCQkkbWVudV9l'));
	@fwrite($fp, base64_decode('bnRyaWVzID0gYXJyYXkoKTsKCQkJCQkkc3R1ZmVuID0gYXJyYXkoKTsKCQkJCQl3aGlsZSAoJHJvdyA9IE9JRHBsdXM6OmRiKCktPmZldGNoX29iamVjdCgkcmVzKSkgewoJCQkJCQkkb2JqID0gT0lEcGx1c09iamVjdDo6cGFyc2UoJHJvdy0+aWQpOwoJCQkJCQlp'));
	@fwrite($fp, base64_decode('ZiAoaXNfbnVsbCgkb2JqKSkgY29udGludWU7IC8vIG1pZ2h0IGhhcHBlbiBpZiB0aGUgb2JqZWN0VHlwZSBpcyBub3QgYXZhaWxhYmxlL2xvYWRlZAoJCQkJCQlpZiAoISRvYmotPnVzZXJIYXNSZWFkUmlnaHRzKCkpIGNvbnRpbnVlOwoJCQkJCQkkdHh0ID0gJHJv'));
	@fwrite($fp, base64_decode('dy0+dGl0bGUgPT0gJycgPyAnJyA6ICcgLS0gJy5odG1sZW50aXRpZXMoJHJvdy0+dGl0bGUpOwoKCQkJCQkJaWYgKCRyb3ctPmlkID09ICRwYXJlbnQpIHsgJHN0dWZlPTA7ICR6X3VzZWQrKzsgfQoJCQkJCQlpZiAoJHJvdy0+aWQgPT0gJHJlcV9nb3RvKSB7ICRz'));
	@fwrite($fp, base64_decode('dHVmZT0xOyAkeV91c2VkKys7IH0KCQkJCQkJaWYgKCRyb3ctPnBhcmVudCA9PSAkcmVxX2dvdG8pIHsgJHN0dWZlPTI7ICR4X3VzZWQrKzsgfQoKCQkJCQkJJG1lbnVfZW50cnkgPSBhcnJheSgnaWQnID0+ICRyb3ctPmlkLCAnaWNvbicgPT4gJycsICd0ZXh0JyA9'));
	@fwrite($fp, base64_decode('PiAkdHh0LCAnaW5kZW50JyA9PiAwKTsKCQkJCQkJJG1lbnVfZW50cmllc1tdID0gJG1lbnVfZW50cnk7CgkJCQkJCSRzdHVmZW5bXSA9ICRzdHVmZTsKCQkJCQl9CgkJCQkJaWYgKCR4X3VzZWQpIGZvcmVhY2ggKCRtZW51X2VudHJpZXMgYXMgJGkgPT4gJiRtZW51'));
	@fwrite($fp, base64_decode('X2VudHJ5KSBpZiAoJHN0dWZlblskaV0gPj0gMikgJG1lbnVfZW50cnlbJ2luZGVudCddICs9IDE7CgkJCQkJaWYgKCR5X3VzZWQpIGZvcmVhY2ggKCRtZW51X2VudHJpZXMgYXMgJGkgPT4gJiRtZW51X2VudHJ5KSBpZiAoJHN0dWZlblskaV0gPj0gMSkgJG1lbnVf'));
	@fwrite($fp, base64_decode('ZW50cnlbJ2luZGVudCddICs9IDE7CgkJCQkJaWYgKCR6X3VzZWQpIGZvcmVhY2ggKCRtZW51X2VudHJpZXMgYXMgJGkgPT4gJiRtZW51X2VudHJ5KSBpZiAoJHN0dWZlblskaV0gPj0gMCkgJG1lbnVfZW50cnlbJ2luZGVudCddICs9IDE7CgkJCQkJJGpzb24gPSBh'));
	@fwrite($fp, base64_decode('cnJheV9tZXJnZSgkanNvbiwgJG1lbnVfZW50cmllcyk7CgkJCQl9CgkJCX0KCgkJCXJldHVybiB0cnVlOwoJCX0gZWxzZSB7CgkJCWlmIChpc3NldCgkcmVxX2dvdG8pKSB7CgkJCQkkZ290byA9ICRyZXFfZ290bzsKCQkJCSRwYXRoID0gYXJyYXkoKTsKCQkJCXdo'));
	@fwrite($fp, base64_decode('aWxlICh0cnVlKSB7CgkJCQkJJHBhdGhbXSA9ICRnb3RvOwoJCQkJCSRyZXMgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IHBhcmVudCBmcm9tICIuT0lEUExVU19UQUJMRU5BTUVfUFJFRklYLiJvYmplY3RzIHdoZXJlIGlkID0gJyIuT0lEcGx1czo6ZGIo'));
	@fwrite($fp, base64_decode('KS0+cmVhbF9lc2NhcGVfc3RyaW5nKCRnb3RvKS4iJyIpOwoJCQkJCWlmIChPSURwbHVzOjpkYigpLT5udW1fcm93cygkcmVzKSA9PSAwKSBicmVhazsKCQkJCQkkcm93ID0gT0lEcGx1czo6ZGIoKS0+ZmV0Y2hfYXJyYXkoJHJlcyk7CgkJCQkJJGdvdG8gPSAkcm93'));
	@fwrite($fp, base64_decode('WydwYXJlbnQnXTsKCQkJCX0KCgkJCQkkZ290b19wYXRoID0gYXJyYXlfcmV2ZXJzZSgkcGF0aCk7CgkJCX0gZWxzZSB7CgkJCQkkZ290b19wYXRoID0gbnVsbDsKCQkJfQoKCQkJJG9ialR5cGVzQ2hpbGRyZW4gPSBhcnJheSgpOwoJCQlmb3JlYWNoIChPSURwbHVz'));
	@fwrite($fp, base64_decode('OjpnZXRSZWdpc3RlcmVkT2JqZWN0VHlwZXMoKSBhcyAkb3QpIHsKCQkJCSRjaGlsZCA9IGFycmF5KCdpZCcgPT4gJG90Ojpyb290KCksCgkJCQkgICAgICAgICAgICAgICAndGV4dCcgPT4gJG90OjpvYmplY3RUeXBlVGl0bGUoKSwKCQkJCSAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICdzdGF0ZScgPT4gYXJyYXkoIm9wZW5lZCIgPT4gdHJ1ZSksCgkJCQkgICAgICAgICAgICAgICAnaWNvbicgPT4gJ3BsdWdpbnMvb2JqZWN0VHlwZXMvJy4kb3Q6Om5zKCkuJy9pbWcvdHJlZWljb25fcm9vdC5wbmcnLAoJCQkJICAgICAgICAgICAgICAgJ2NoaWxk'));
	@fwrite($fp, base64_decode('cmVuJyA9PiBPSURwbHVzVHJlZTo6dHJlZV9wb3B1bGF0ZSgkb3Q6OnJvb3QoKSwgJGdvdG9fcGF0aCkKCQkJCSAgICAgICAgICAgICAgICk7CgkJCQlpZiAoIWZpbGVfZXhpc3RzKCRjaGlsZFsnaWNvbiddKSkgJGNoaWxkWydpY29uJ10gPSBudWxsOyAvLyBkZWZh'));
	@fwrite($fp, base64_decode('dWx0IGljb24gKGZvbGRlcikKCQkJCSRvYmpUeXBlc0NoaWxkcmVuW10gPSAkY2hpbGQ7CgkJCX0KCgkJCSRqc29uW10gPSBhcnJheSgKCQkJCSdpZCcgPT4gIm9pZHBsdXM6c3lzdGVtIiwKCQkJCSd0ZXh0JyA9PiAiT2JqZWN0cyIsCgkJCQknc3RhdGUnID0+IGFy'));
	@fwrite($fp, base64_decode('cmF5KAoJCQkJCSJvcGVuZWQiID0+IHRydWUsCgkJCQkJLy8gInNlbGVjdGVkIiA9PiB0cnVlKSAgLy8gInNlbGVjdGVkIiBpc3QgYnVnZ3k6IDEpIERhcyBzZWxlY3QtRXZlbnQgd2lyZCBiZWltIExhZGVuIG5pY2h0IGdlZmV1ZXJ0IDIpIERpZSBkaXJla3QgdW50'));
	@fwrite($fp, base64_decode('ZXJnZW9yZG5ldGVuIEtub3RlbiBsYXNzZW4gc2ljaCBuaWNodCD2ZmZuZW4gKGxhZGVuIGb8ciBld2lnKQoJCQkJKSwKCQkJCSdpY29uJyA9PiAncGx1Z2lucy9wdWJsaWNQYWdlcy8nLmJhc2VuYW1lKF9fRElSX18pLicvc3lzdGVtLnBuZycsCgkJCQknY2hpbGRy'));
	@fwrite($fp, base64_decode('ZW4nID0+ICRvYmpUeXBlc0NoaWxkcmVuCgkJCSk7CgoJCQlyZXR1cm4gdHJ1ZTsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyZWVfc2VhcmNoKCRyZXF1ZXN0KSB7CgkJJGFyeSA9IGFycmF5KCk7CgkJaWYgKCRvYmogPSBPSURwbHVzT2JqZWN0OjpwYXJzZSgk'));
	@fwrite($fp, base64_decode('cmVxdWVzdCkpIHsKCQkJaWYgKCRvYmotPnVzZXJIYXNSZWFkUmlnaHRzKCkpIHsKCQkJCWRvIHsKCQkJCQkkYXJ5W10gPSAkb2JqLT5ub2RlSWQoKTsKCQkJCX0gd2hpbGUgKCRvYmogPSAkb2JqLT5nZXRQYXJlbnQoKSk7CgkJCQkkYXJ5ID0gYXJyYXlfcmV2ZXJz'));
	@fwrite($fp, base64_decode('ZSgkYXJ5KTsKCQkJfQoJCX0KCQlyZXR1cm4gJGFyeTsKCX0KfQoKT0lEcGx1czo6cmVnaXN0ZXJQYWdlUGx1Z2luKG5ldyBPSURwbHVzUGFnZVB1YmxpY09iamVjdHMoKSk7Cg=='));
	@fclose($fp);
}
if (!is_file('plugins/publicPages/000_objects/plugin.inc.php')) {
	warn('File has vanished! Will re-create it: plugins/publicPages/000_objects/plugin.inc.php');
	writefile_4();
	if (!is_file('plugins/publicPages/000_objects/plugin.inc.php')) {
		warn('File cannot be created (not existing): plugins/publicPages/000_objects/plugin.inc.php');
	} else if (sha1_file('plugins/publicPages/000_objects/plugin.inc.php') != 'cb458b3413fd92cb709d3474e86352e2a378a384') {
		warn('File cannot be created (checksum mismatch): plugins/publicPages/000_objects/plugin.inc.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/publicPages/000_objects/plugin.inc.php', 0644)) {
		warn('Could not change file permissions of plugins/publicPages/000_objects/plugin.inc.php');
	}
} else {
	if (@sha1_file('plugins/publicPages/000_objects/plugin.inc.php') !== 'cb458b3413fd92cb709d3474e86352e2a378a384') {
		if (@sha1_file('plugins/publicPages/000_objects/plugin.inc.php') !== '7eebd838ffe6b992fdcbad15f3d38eefe806e61a') {
			warn('File was modified. Will overwrite the changes now: plugins/publicPages/000_objects/plugin.inc.php');
			$tmp = pathinfo('plugins/publicPages/000_objects/plugin.inc.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/publicPages/000_objects/plugin.inc.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/publicPages/000_objects/plugin.inc.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_4();
		if (@sha1_file('plugins/publicPages/000_objects/plugin.inc.php') !== 'cb458b3413fd92cb709d3474e86352e2a378a384') {
			warn('File cannot be written (checksum mismatch): plugins/publicPages/000_objects/plugin.inc.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 147\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 147') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

