<?php /* <ViaThinkSoftSignature>
LvPKhgoOeb36FZ4ZQhsqyJXgKyS8JiMILBolK9dS0nkYhYFurYus5DEsXdny868Z5
+W1Juk3BdRFmwHoG2HI0913z9HksSKr77Nww3XfCYTC2sSSlMtONAIbTFHz+O4lzd
Pj6XlCFWDgWhvFoHy8L8e/Brmqdtez8WzfCnlcbp8eF3J2pIfkXjSoywqBZGiyP0V
sZ5GFKpinmZQKca+AF1lmhNorXhgn0IgY2TKhz7e1GVu8kird9flH/OGMnMoU/OQV
E9ovAIad3NEoZHhg+uqNglOFtad1STkJbwoXtt5Cm5zYPfLD4dJFQVCJ6aZQZ7RE5
IqQmarrIAN/q9c4iYesispBTbBUW5MLBMT4vZDOaaf3Mv/aFWmEaY/xXVHbxEuH4Y
ZDmC9exzEEZkCNXwLnuvhAMtXeOJX/MBX7S1gcDhWfbF0pMuqTocW0h1V4auW7/EA
m127EBQO8Sbdfu5f3kYfmq4kM22hNbUjGT+7d9VXzKYC6koEnuateGkVz4FuXNFC+
y/CdpXiqBcOkDM0ddDo4glia1hvyQSrCgToqKHsVFXWgEZ+DBimvR+daIAfFJ2EGO
CSYvReF+xJlENAKOksQGYOONLnX2wzjdeLWJls/inlQ0Yx7L/0qggDZJ7VXPLp9h0
M3Lld1Jz2P01+TYgFs1LVwLRfeqko9cF/EL3NMVhY9BiU0PS7+PBtn8f3C5qNJ4Tk
uHge6KP7SA4RPrciS3p/YRpu7Ba+wyPUaDE2kOv1ICWtQbLnTUdIYTtpti5TFI9/6
CtRDGk/qemTjtur4QoKl6BobcgKjwu+dLeZv6cDfjEOVvLe9rmA9dcvQ+efXplA5f
XBFg8bXhxqvEuBPlocvIXV1itLRRQjdXmkEJ9Rvg+5eWkRS4t/qzYdL/dJLrylbY1
r0m3NNnp2rbaivVDwW47YB6YTVYwlHWLfC8wUqtvVfviYkFglO7wq0gSxLHPC1rYE
Ozn8g6gncgvsHEmnLhSufyyyzgqm9ycV6JY3vLT7GiBgMKxR9/xnc7vYBaBwotq+O
0/i9HvQTJx6ANmUkIgm88/ygTnt2yKSeNXdUAN5+0wx4pDcOubEE3VurAZ1JEqEWB
vZgRBzRzLRAoZk6alplmpYmwGy4KvUe9svC2mDSmKS8j/P64meDSEsC2An3X7hZfG
ngKjNLMsI+VQf1mKFK1c9qXy+i6Ca/9Bn5EcS4gl4gsbOgB9VInLS4vY8YeO2oOVI
qjZgTvPFRk+j0LzqnreN9OR10ksMLIVmUDuX6qMug+hCKWFK9yEVkzMv38uy7SxCT
N4LpJJLM54sYUdBd7QyrlavfO0QewscZzJMvESeWvlv2ExCBEPBiM1peZYN6cWpKq
Q==
</ViaThinkSoftSignature> */ ?>
<?php

/*
 * OIDplus 2.0
 * Copyright 2019 - 2023 Daniel Marschall, ViaThinkSoft
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

function info($str) { echo "INFO: $str\n"; }
function warn($str) { echo "WARNING: $str\n"; }
function err($str) { die("FATAL ERROR: $str\n"); }

@set_time_limit(0);

@header('Content-Type: text/plain');

chdir(__DIR__);
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 449') {
	err('This update can only be applied to OIDplus version 2.0.0.449!');
}

if (version_compare(PHP_VERSION, '7.0.0') < 0) {
	err('You need PHP Version 7.0 to update to this version');
}

// Files different: includes/oidplus_base.js
function writefile_1() {
	@$fp = fopen('includes/oidplus_base.js', 'w');
	@fwrite($fp, base64_decode('LyoKICogT0lEcGx1cyAyLjAKICogQ29weXJpZ2h0IDIwMTkgRGFuaWVsIE1hcnNjaGFsbCwgVmlhVGhpbmtTb2Z0CiAqCiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogKiB5b3UgbWF5IG5v'));
	@fwrite($fp, base64_decode('dCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAogKgogKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4w'));
	@fwrite($fp, base64_decode('CiAqCiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKICogV0lU'));
	@fwrite($fp, base64_decode('SE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKICogbGltaXRh'));
	@fwrite($fp, base64_decode('dGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiAqLwoKLypqc2hpbnQgZXN2ZXJzaW9uOiA2ICovCgovLyAkKCcjaHRtbCcpLmpzdHJlZSgpOwoKdmFyIGN1cnJlbnRfbm9kZSA9ICIiOwp2YXIgcG9wc3RhdGVfcnVubmluZyA9IGZhbHNlOwovLyBERUZBVUxUX0xBTkdV'));
	@fwrite($fp, base64_decode('QUdFIHdpbGwgYmUgc2V0IGJ5IG9pZHBsdXMubWluLmpzLnBocAovLyBsYW5ndWFnZV9tZXNzYWdlcyB3aWxsIGJlIHNldCBieSBvaWRwbHVzLm1pbi5qcy5waHAKLy8gbGFuZ3VhZ2VfdGJscHJlZml4IHdpbGwgYmUgc2V0IGJ5IG9pZHBsdXMubWluLmpzLnBocAov'));
	@fwrite($fp, base64_decode('LyBjc3JmX3Rva2VuIHdpbGwgYmUgc2V0IGJ5IG9pZHBsdXMubWluLmpzLnBocAoKdmFyIHBhZ2VDaGFuZ2VDYWxsYmFja3MgPSBbXTsKdmFyIHBhZ2VDaGFuZ2VSZXF1ZXN0Q2FsbGJhY2tzID0gW107CgpmdW5jdGlvbiBpc0ludGVybmV0RXhwbG9yZXIoKSB7Cgl2'));
	@fwrite($fp, base64_decode('YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsKCXJldHVybiAoKHVhLmluZGV4T2YoIk1TSUUgIikgPiAwKSB8fCAodWEuaW5kZXhPZigiVHJpZGVudC8iKSA+IDApKTsKfQoKU3RyaW5nLnByb3RvdHlwZS5leHBsb2RlID0gZnVuY3Rpb24gKHNlcGFy'));
	@fwrite($fp, base64_decode('YXRvciwgbGltaXQpIHsKCS8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ1MTQzMjMvamF2YXNjcmlwdC1lcXVpdmFsZW50LXRvLXBocC1leHBsb2RlCgljb25zdCBhcnJheSA9IHRoaXMuc3BsaXQoc2VwYXJhdG9yKTsKCWlmIChsaW1pdCAh'));
	@fwrite($fp, base64_decode('PT0gdW5kZWZpbmVkICYmIGFycmF5Lmxlbmd0aCA+PSBsaW1pdCkgewoJCWFycmF5LnB1c2goYXJyYXkuc3BsaWNlKGxpbWl0IC0gMSkuam9pbihzZXBhcmF0b3IpKTsKCX0KCXJldHVybiBhcnJheTsKfTsKClN0cmluZy5wcm90b3R5cGUuaHRtbGVudGl0aWVzID0g'));
	@fwrite($fp, base64_decode('ZnVuY3Rpb24gKCkgewoJcmV0dXJuIHRoaXMucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoLyIvZywgJyZxdW90OycpOy8vIgp9OwoKU3RyaW5nLnByb3RvdHlwZS5odG1sX2Vu'));
	@fwrite($fp, base64_decode('dGl0eV9kZWNvZGUgPSBmdW5jdGlvbiAoKSB7CglyZXR1cm4gJCgnPHRleHRhcmVhIC8+JykuaHRtbCh0aGlzKS50ZXh0KCk7Cn07CgpmdW5jdGlvbiBnZXRNZXRhKG1ldGFOYW1lKSB7Cgljb25zdCBtZXRhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1l'));
	@fwrite($fp, base64_decode('KCdtZXRhJyk7CgoJZm9yIChsZXQgaSA9IDA7IGkgPCBtZXRhcy5sZW5ndGg7IGkrKykgewoJCWlmIChtZXRhc1tpXS5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA9PT0gbWV0YU5hbWUpIHsKCQkJcmV0dXJuIG1ldGFzW2ldLmdldEF0dHJpYnV0ZSgnY29udGVudCcpOwoJ'));
	@fwrite($fp, base64_decode('CX0KCX0KCglyZXR1cm4gJyc7Cn0KCmZ1bmN0aW9uIGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpIHsKCXJldHVybiBnZXRNZXRhKCdPSURwbHVzLVN5c3RlbVRpdGxlJyk7IC8vIGRvIG5vdCB0cmFuc2xhdGUKfQoKZnVuY3Rpb24gY29tYmluZV9zeXN0ZW10aXRsZV9h'));
	@fwrite($fp, base64_decode('bmRfcGFnZXRpdGxlKHN5c3RlbXRpdGxlLCBwYWdldGl0bGUpIHsKCS8vIFBsZWFzZSBhbHNvIGNoYW5nZSB0aGUgZnVuY3Rpb24gaW4gaW5kZXgucGhwCglpZiAoc3lzdGVtdGl0bGUgPT0gcGFnZXRpdGxlKSB7CgkJcmV0dXJuIHN5c3RlbXRpdGxlOwoJfSBlbHNl'));
	@fwrite($fp, base64_decode('IHsKCQlyZXR1cm4gcGFnZXRpdGxlICsgJyAtICcgKyBzeXN0ZW10aXRsZTsKCX0KfQoKZnVuY3Rpb24gZ2V0U3lzdGVtVXJsKHJlbGF0aXZlKSB7Cgl2YXIgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7CglpZiAocmVsYXRpdmUpIHsKCQlyZXR1'));
	@fwrite($fp, base64_decode('cm4gdXJsLnBhdGhuYW1lOwoJfSBlbHNlIHsKCQlyZXR1cm4gdXJsLmhyZWYuc3Vic3RyKDAsIHVybC5ocmVmLmxlbmd0aC11cmwuc2VhcmNoLmxlbmd0aCk7Cgl9Cn0KCmZ1bmN0aW9uIGdldFRyZWVMb2FkVVJMKCkgewoJdmFyIHVybCA9IG5ldyBVUkwod2luZG93'));
	@fwrite($fp, base64_decode('LmxvY2F0aW9uLmhyZWYpOwoJdmFyIGdvdG8gPSB1cmwuc2VhcmNoUGFyYW1zLmdldCgiZ290byIpOwoJcmV0dXJuIChnb3RvICE9IG51bGwpID8gImFqYXgucGhwP2NzcmZfdG9rZW49Iitjc3JmX3Rva2VuKyImYWN0aW9uPXRyZWVfbG9hZCZnb3RvPSIrZW5jb2Rl'));
	@fwrite($fp, base64_decode('VVJJQ29tcG9uZW50KGdvdG8pCgkgICAgICAgICAgICAgICAgICAgICAgOiAiYWpheC5waHA/Y3NyZl90b2tlbj0iK2NzcmZfdG9rZW4rIiZhY3Rpb249dHJlZV9sb2FkIjsKfQoKZnVuY3Rpb24gcmVsb2FkQ29udGVudCgpIHsKCS8vIHdpbmRvdy5sb2NhdGlvbi5o'));
	@fwrite($fp, base64_decode('cmVmID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGN1cnJlbnRfbm9kZSk7CglpZiAob3Blbk9pZEluUGFuZWwoY3VycmVudF9ub2RlLCBmYWxzZSkpIHsKCQlpZighJCgnI29pZHRyZWUnKS5qc3RyZWUodHJ1ZSkuZ2V0X25vZGUoY3VycmVudF9ub2RlKSkg'));
	@fwrite($fp, base64_decode('ewoJCQkvLyBBdm9pZCB0aGF0IGEgbGFuZ3VhZ2UgY2hhbmdlIGF0ICJvaWRwbHVzOnNydnJlZ19zdGF0dXMiIHdvbid0IHJlZGlyZWN0IHRoZSB1c2VyIHRvICJvaWRwbHVzOnNydl9yZWdpc3RyYXRpb24iIGJlY2F1c2Ugb2YgdGhlIHJlc2VsZWN0aW9uIGR1cmlu'));
	@fwrite($fp, base64_decode('ZyByZWZyZXNoCgkJCSQoJyNvaWR0cmVlJykuanN0cmVlKCJkZXNlbGVjdF9hbGwiKTsKCQl9CgoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCJyZWZyZXNoIik7Cgl9Cn0KCmZ1bmN0aW9uIHhfcmVjKHhfZGF0YSwgaSkgewoJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ29w'));
	@fwrite($fp, base64_decode('ZW5fbm9kZScsIHhfZGF0YVtpXSwgZnVuY3Rpb24oZSwgZGF0YSkgewoJCWlmIChpKzEgPCB4X2RhdGEubGVuZ3RoKSB7CgkJCXhfcmVjKHhfZGF0YSwgaSsxKTsKCQl9IGVsc2UgewoJCQlwb3BzdGF0ZV9ydW5uaW5nID0gdHJ1ZTsgLy8gZG9uJ3QgY2FsbCBvcGVu'));
	@fwrite($fp, base64_decode('T2lkSW5QYW5lbCBhZ2FpbgoJCQl0cnkgewoJCQkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ3NlbGVjdF9ub2RlJywgeF9kYXRhW2ldKTsKCQkJfSBjYXRjaCAoZXJyKSB7CgkJCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7CgkJCX0gZmluYWxseSB7CgkJCQlwb3Bz'));
	@fwrite($fp, base64_decode('dGF0ZV9ydW5uaW5nID0gZmFsc2U7CgkJCX0KCQl9Cgl9KTsKfQoKZnVuY3Rpb24gcGVyZm9ybUNsb3NlUXVlcnlDQigpIHsKCWZvciAodmFyIGk9MDsgaTxwYWdlQ2hhbmdlUmVxdWVzdENhbGxiYWNrcy5sZW5ndGg7IGkrKykgewoJCWlmICghcGFnZUNoYW5nZVJl'));
	@fwrite($fp, base64_decode('cXVlc3RDYWxsYmFja3NbaV1bMF0ocGFnZUNoYW5nZVJlcXVlc3RDYWxsYmFja3NbaV1bMV0pKSByZXR1cm4gZmFsc2U7Cgl9CglwYWdlQ2hhbmdlUmVxdWVzdENhbGxiYWNrcyA9IFtdOwoJcmV0dXJuIHRydWU7IC8vIG1heSBjbG9zZQp9CgpmdW5jdGlvbiBwZXJm'));
	@fwrite($fp, base64_decode('b3JtQ2xvc2VDQigpIHsKCWZvciAodmFyIGk9MDsgaTxwYWdlQ2hhbmdlQ2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7CgkJcGFnZUNoYW5nZUNhbGxiYWNrc1tpXVswXShwYWdlQ2hhbmdlQ2FsbGJhY2tzW2ldWzFdKTsKCX0KCXBhZ2VDaGFuZ2VDYWxsYmFja3MgPSBb'));
	@fwrite($fp, base64_decode('XTsKfQoKZnVuY3Rpb24gb3Blbk9pZEluUGFuZWwoaWQsIHJlc2VsZWN0Lyo9ZmFsc2UqLywgYW5jaG9yLyo9JycqLywgZm9yY2UvKj1mYWxzZSovKSB7CglyZXNlbGVjdCA9ICh0eXBlb2YgcmVzZWxlY3QgPT09ICd1bmRlZmluZWQnKSA/IGZhbHNlIDogcmVzZWxl'));
	@fwrite($fp, base64_decode('Y3Q7CglhbmNob3IgPSAodHlwZW9mIGFuY2hvciA9PT0gJ3VuZGVmaW5lZCcpID8gJycgOiBhbmNob3I7Cglmb3JjZSA9ICh0eXBlb2YgZm9yY2UgPT09ICd1bmRlZmluZWQnKSA/IGZhbHNlIDogZm9yY2U7CgoJdmFyIG1heUNsb3NlID0gcGVyZm9ybUNsb3NlUXVl'));
	@fwrite($fp, base64_decode('cnlDQigpOwoJaWYgKCFmb3JjZSAmJiAhbWF5Q2xvc2UpIHJldHVybiBmYWxzZTsKCglwZXJmb3JtQ2xvc2VDQigpOwoKCWlmIChyZXNlbGVjdCkgewoJCSQoJyNvaWR0cmVlJykuanN0cmVlKCdkZXNlbGVjdF9hbGwnKTsKCgkJcG9wc3RhdGVfcnVubmluZyA9IHRy'));
	@fwrite($fp, base64_decode('dWU7IC8vIGRvbid0IGNhbGwgb3Blbk9pZEluUGFuZWwgZHVyaW5nIHRyZWUgc2VsZWN0aW9uCgkJdHJ5IHsKCQkJLy8gSWYgdGhlIG5vZGUgaXMgYWxyZWFkeSBsb2FkZWQgaW4gdGhlIHRyZWUsIHNlbGVjdCBpdAoJCQlpZiAoISQoJyNvaWR0cmVlJykuanN0cmVl'));
	@fwrite($fp, base64_decode('KCdzZWxlY3Rfbm9kZScsIGlkKSkgewoJCQkJLy8gSWYgdGhlIG5vZGUgaXMgbm90IGxvYWRlZCwgdGhlbiB3ZSB0cnkgdG8gc2VhcmNoIGl0LgoJCQkJLy8gSWYgaXQgY2FuIGJlIGZvdW5kLCB0aGVuIG9wZW4gYWxsIHBhcmVudCBub2RlcyBhbmQgc2VsZWN0IHRo'));
	@fwrite($fp, base64_decode('ZSBub2RlCgkJCQkkLmFqYXgoewoJCQkJCXVybDoiYWpheC5waHAiLAoJCQkJCW1ldGhvZDoiUE9TVCIsCgkJCQkJZGF0YTp7CgkJCQkJCWNzcmZfdG9rZW46Y3NyZl90b2tlbiwKCQkJCQkJYWN0aW9uOiJ0cmVlX3NlYXJjaCIsCgkJCQkJCXNlYXJjaDppZAoJCQkJ'));
	@fwrite($fp, base64_decode('CX0sCgkJCQkJZXJyb3I6ZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMsIGVycm9yVGhyb3duKSB7CgkJCQkJCWNvbnNvbGUuZXJyb3IoX0woIkVycm9yOiAlMSIsZXJyb3JUaHJvd24pKTsKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6ZnVuY3Rpb24oZGF0YSkgewoJCQkJ'));
	@fwrite($fp, base64_decode('CQlpZiAoImVycm9yIiBpbiBkYXRhKSB7CgkJCQkJCQljb25zb2xlLmVycm9yKGRhdGEpOwoJCQkJCQl9IGVsc2UgaWYgKChkYXRhIGluc3RhbmNlb2YgQXJyYXkpICYmIChkYXRhLmxlbmd0aCA+IDApKSB7CgkJCQkJCQl4X3JlYyhkYXRhLCAwKTsKCQkJCQkJfSBl'));
	@fwrite($fp, base64_decode('bHNlIHsKCQkJCQkJCWNvbnNvbGUuZXJyb3IoZGF0YSk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9KTsKCQkJfQoJCX0gY2F0Y2ggKGVycikgewoJCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7CgkJfSBmaW5hbGx5IHsKCQkJcG9wc3RhdGVfcnVubmluZyA9IGZhbHNl'));
	@fwrite($fp, base64_decode('OwoJCX0KCX0KCgkvLyBUaGlzIGxvYWRzIHRoZSBhY3R1YWwgY29udGVudAoKCS8vIGRvY3VtZW50LnRpdGxlID0gIiI7IC8vIDwtLSB3ZSBtYXkgbm90IGRvIHRoaXMsIG90aGVyd2lzZSBGaXJlZm94IHdvbid0CgkvLyAgICAgICAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICBzaG93IHRpdGxlcyBpbiB0aGUgYnJvd3NlciBoaXN0b3J5IChyaWdodC1jbGljawoJLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gYmFjay1idXR0b24pLCBhbHRob3VnaCBkb2N1bWVudC50aXRsZSgpIGlzCgkvLyAgICAgICAgICAgICAgICAgICAg'));
	@fwrite($fp, base64_decode('ICAgICAgICBzZXQgaW5zaWRlIHRoZSBBSkFYLWNhbGxiYWNrIFtGaXJlZm94QnVnPyFdCgoJJCgnI3JlYWxfdGl0bGUnKS5odG1sKCImbmJzcDsiKTsKCSQoJyNyZWFsX2NvbnRlbnQnKS5odG1sKF9MKCJMb2FkaW5nLi4uIikpOwoJJCgnI3N0YXRpY19saW5rJyku'));
	@fwrite($fp, base64_decode('YXR0cigiaHJlZiIsICJpbmRleC5waHA/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCkpOwoJJCgiI2dvdG9lZGl0IikudmFsKGlkKTsKCgkvLyBOb3JtYWwgb3BlbmluZyBvZiBhIGRlc2NyaXB0aW9uCglmZXRjaCgiYWpheC5waHA/Y3NyZl90b2tlbj0iK2Nz'));
	@fwrite($fp, base64_decode('cmZfdG9rZW4rIiZhY3Rpb249Z2V0X2Rlc2NyaXB0aW9uJmlkPSIrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSkKCS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJcmVzcG9uc2UuanNvbigpCgkJLnRoZW4oZnVuY3Rpb24oZGF0YSkgewoJCQlpZiAoImVycm9yIiBp'));
	@fwrite($fp, base64_decode('biBkYXRhKSB7CgkJCQlhbGVydChfTCgiRmFpbGVkIHRvIGxvYWQgY29udGVudDogJTEiLGRhdGEuZXJyb3IpKTsKCQkJCWNvbnNvbGUuZXJyb3IoZGF0YS5lcnJvcik7CgkJCQlyZXR1cm47CgkJCX0KCgkJCWRhdGEuaWQgPSBpZDsKCgkJCXZhciBzdGF0ZSA9IHsK'));
	@fwrite($fp, base64_decode('CQkJCSJub2RlX2lkIjppZCwKCQkJCSJ0aXRsZUhUTUwiOihkYXRhLmljb24gPyAnPGltZyBzcmM9IicrZGF0YS5pY29uKyciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgYWx0PSInK2RhdGEudGl0bGUuaHRtbGVudGl0aWVzKCkrJyI+ICcgOiAnJykgKyBkYXRhLnRp'));
	@fwrite($fp, base64_decode('dGxlLmh0bWxlbnRpdGllcygpLAoJCQkJInRleHRIVE1MIjpkYXRhLnRleHQsCgkJCQkic3RhdGljbGlua0hSRUYiOiJpbmRleC5waHA/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChpZCksCgkJCX07CgkJCWlmIChjdXJyZW50X25vZGUgIT0gaWQpIHsKCQkJCXdp'));
	@fwrite($fp, base64_decode('bmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShzdGF0ZSwgZGF0YS50aXRsZSwgIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGlkKSk7CgkJCX0gZWxzZSB7CgkJCQl3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoc3RhdGUsIGRhdGEudGl0bGUsICI/Z290bz0iK2Vu'));
	@fwrite($fp, base64_decode('Y29kZVVSSUNvbXBvbmVudChpZCkpOwoJCQl9CgoJCQlkb2N1bWVudC50aXRsZSA9IGNvbWJpbmVfc3lzdGVtdGl0bGVfYW5kX3BhZ2V0aXRsZShnZXRPaWRQbHVzU3lzdGVtVGl0bGUoKSwgZGF0YS50aXRsZSk7CgoJCQlpZiAoZGF0YS5pY29uKSB7CgkJCQkkKCcj'));
	@fwrite($fp, base64_decode('cmVhbF90aXRsZScpLmh0bWwoJzxpbWcgc3JjPSInK2RhdGEuaWNvbisnIiB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIGFsdD0iJytkYXRhLnRpdGxlLmh0bWxlbnRpdGllcygpKyciPiAnICsgZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSk7CgkJCX0gZWxzZSB7CgkJ'));
	@fwrite($fp, base64_decode('CQkkKCcjcmVhbF90aXRsZScpLmh0bWwoZGF0YS50aXRsZS5odG1sZW50aXRpZXMoKSk7CgkJCX0KCQkJJCgnI3JlYWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0KTsKCQkJZG9jdW1lbnQudGl0bGUgPSBjb21iaW5lX3N5c3RlbXRpdGxlX2FuZF9wYWdldGl0bGUo'));
	@fwrite($fp, base64_decode('Z2V0T2lkUGx1c1N5c3RlbVRpdGxlKCksIGRhdGEudGl0bGUpOwoJCQljdXJyZW50X25vZGUgPSBpZDsKCgkJCWlmIChhbmNob3IgIT0gJycpIHsKCQkJCWp1bXBUb0FuY2hvcihhbmNob3IpOwoJCQl9CgkJfSkKCQkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQkJ'));
	@fwrite($fp, base64_decode('YWxlcnQoX0woIkZhaWxlZCB0byBsb2FkIGNvbnRlbnQ6ICUxIixlcnJvcikpOwoJCQljb25zb2xlLmVycm9yKGVycm9yKTsKCQl9KTsKCX0pCgkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKCQlhbGVydChfTCgiRmFpbGVkIHRvIGxvYWQgY29udGVudDogJTEiLGVy'));
	@fwrite($fp, base64_decode('cm9yKSk7CgkJY29uc29sZS5lcnJvcihlcnJvcik7Cgl9KTsKCglyZXR1cm4gdHJ1ZTsKfQoKLy8gVGhpcyBmdW5jdGlvbiBvcGVucyB0aGUgInBhcmVudElEIiBub2RlLCBhbmQgdGhlbiBzZWxlY3RzIHRoZSAiY2hpbGRJRCIgbm9kZSAod2hpY2ggc2hvdWxkIGJl'));
	@fwrite($fp, base64_decode('IGJlbmVhdGggdGhlIHBhcmVudCBub2RlKQpmdW5jdGlvbiBvcGVuQW5kU2VsZWN0Tm9kZShjaGlsZElELCBwYXJlbnRJRCkgewoJaWYgKCQoJyNvaWR0cmVlJykuanN0cmVlKHRydWUpLmdldF9ub2RlKHBhcmVudElEKSkgewoJCSQoJyNvaWR0cmVlJykuanN0cmVl'));
	@fwrite($fp, base64_decode('KCdvcGVuX25vZGUnLCBwYXJlbnRJRCwgZnVuY3Rpb24oZSwgZGF0YSkgeyAvLyBvcGVuIHBhcmVudCBub2RlCgkJCWlmICgkKCcjb2lkdHJlZScpLmpzdHJlZSh0cnVlKS5nZXRfbm9kZShjaGlsZElEKSkgeyAvLyBpcyB0aGUgY2hpbGQgdGhlcmU/CgkJCQkkKCcj'));
	@fwrite($fp, base64_decode('b2lkdHJlZScpLmpzdHJlZSgnZGVzZWxlY3RfYWxsJykuanN0cmVlKCdzZWxlY3Rfbm9kZScsIGNoaWxkSUQpOyAvLyBzZWxlY3QgaXQKCQkJfSBlbHNlIHsKCQkJCS8vIFRoaXMgY2FuIGhhcHBlbiBpZiB0aGUgY29udGVudCBwYWdlIGNvbnRhaW5zIGJyYW5kIG5l'));
	@fwrite($fp, base64_decode('dyBpdGVtcyB3aGljaCBhcmUgbm90IGluIHRoZSB0cmVldmlldyB5ZXQKCQkJCSQoIiNnb3RvZWRpdCIpLnZhbChjaGlsZElEKTsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gIj9nb3RvPSIrZW5jb2RlVVJJQ29tcG9uZW50KGNoaWxkSUQpOwoJCQl9CgkJfSwg'));
	@fwrite($fp, base64_decode('dHJ1ZSk7Cgl9IGVsc2UgewoJCS8vIFRoaXMgc2hvdWxkIHVzdWFsbHkgbm90IGhhcHBlbgoJCSQoIiNnb3RvZWRpdCIpLnZhbChjaGlsZElEKTsKCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICI/Z290bz0iK2VuY29kZVVSSUNvbXBvbmVudChjaGlsZElEKTsKCX0K'));
	@fwrite($fp, base64_decode('fQoKJCh3aW5kb3cpLm9uKCJwb3BzdGF0ZSIsIGZ1bmN0aW9uKGUpIHsKCWlmICghcGVyZm9ybUNsb3NlUXVlcnlDQigpKSB7CgkJLy8gVE9ETzogZG9lcyBub3Qgd29yayEhISBUaGUgImJhY2svZm9yd2FyZCIgYWN0aW9uIHdpbGwgYmUgY2FuY2VsbGVkLCBidXQg'));
	@fwrite($fp, base64_decode('dGhlIGJyb3dzZXIgc3RpbGwgdGhpbmtzIGl0IHdhcyBzdWNjZXNzZnVsLAoJCS8vIHNvIGlmIHlvdSBkbyBpdCBhZ2FpbiwgeW91IHdpbGwgdGhlbiBqdW1wIDIgcGFnZXMgYmFjaywgZXRjIQoJCS8vIFRoaXMgZG9lcyBhbHNvIG5vdCBoZWxwOgoJCS8vd2luZG93'));
	@fwrite($fp, base64_decode('Lmhpc3RvcnkucHVzaFN0YXRlKGUub3JpZ2luYWxFdmVudC5zdGF0ZSwgZS5vcmlnaW5hbEV2ZW50LnRpdGxlLCBlLm9yaWdpbmFsRXZlbnQudXJsKTsKCQkvL3dpbmRvdy5oaXN0b3J5LmZvcndhcmQoKTsKCQlyZXR1cm47Cgl9CgoJcG9wc3RhdGVfcnVubmluZyA9'));
	@fwrite($fp, base64_decode('IHRydWU7Cgl0cnkgewoJCXZhciBkYXRhID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlOwoKCQljdXJyZW50X25vZGUgPSBkYXRhLm5vZGVfaWQ7CgkJJCgiI2dvdG9lZGl0IikudmFsKGN1cnJlbnRfbm9kZSk7CgkJJCgnI29pZHRyZWUnKS5qc3RyZWUoJ2Rlc2VsZWN0'));
	@fwrite($fp, base64_decode('X2FsbCcpLmpzdHJlZSgnc2VsZWN0X25vZGUnLCBkYXRhLm5vZGVfaWQpOwoJCSQoJyNyZWFsX3RpdGxlJykuaHRtbChkYXRhLnRpdGxlSFRNTCk7CgkJJCgnI3JlYWxfY29udGVudCcpLmh0bWwoZGF0YS50ZXh0SFRNTCk7CgkJJCgnI3N0YXRpY19saW5rJykuYXR0'));
	@fwrite($fp, base64_decode('cigiaHJlZiIsIGRhdGEuc3RhdGljbGlua0hSRUYpOwoJCWRvY3VtZW50LnRpdGxlID0gY29tYmluZV9zeXN0ZW10aXRsZV9hbmRfcGFnZXRpdGxlKGdldE9pZFBsdXNTeXN0ZW1UaXRsZSgpLCBkYXRhLnRpdGxlSFRNTC5odG1sX2VudGl0eV9kZWNvZGUoKSk7Cgl9'));
	@fwrite($fp, base64_decode('IGNhdGNoIChlcnIpIHsKCQlwb3BzdGF0ZV9ydW5uaW5nID0gZmFsc2U7Cgl9IGZpbmFsbHkgewoJCXBvcHN0YXRlX3J1bm5pbmcgPSBmYWxzZTsKCX0KfSk7CgokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7CgkvKgoJd2luZG93Lm9uYmVmb3JldW5sb2Fk'));
	@fwrite($fp, base64_decode('ID0gZnVuY3Rpb24oZSkgewoJCS8vIFRPRE86IFRoaXMgd29uJ3QgYmUgY2FsbGVkIGJlY2F1c2UgVGlueU1DRSBvdmVycmlkZXMgaXQ/PwoJCS8vIFRPRE86IHdoZW4gdGhlIHVzZXIgYWNjZXB0ZWQgdGhlIHF1ZXJ5IGluIHBlcmZvcm1DbG9zZVF1ZXJ5Q0IoKSwg'));
	@fwrite($fp, base64_decode('dGhlbiB0aGUgbWVzc2FnZSB3aWxsIGJlIHNob3duIGFnYWluIGJ5IHRoZSBicm93c2VyIQoJCWlmICghcGVyZm9ybUNsb3NlUXVlcnlDQigpKSB7CgkJCS8vIENhbmNlbCB0aGUgZXZlbnQKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBJZiB5b3UgcHJldmVudCBk'));
	@fwrite($fp, base64_decode('ZWZhdWx0IGJlaGF2aW9yIGluIE1vemlsbGEgRmlyZWZveCBwcm9tcHQgd2lsbCBhbHdheXMgYmUgc2hvd24KCQkJLy8gQ2hyb21lIHJlcXVpcmVzIHJldHVyblZhbHVlIHRvIGJlIHNldAoJCQllLnJldHVyblZhbHVlID0gJyc7CgkJfSBlbHNlIHsKCQkJLy8gdGhl'));
	@fwrite($fp, base64_decode('IGFic2VuY2Ugb2YgYSByZXR1cm5WYWx1ZSBwcm9wZXJ0eSBvbiB0aGUgZXZlbnQgd2lsbCBndWFyYW50ZWUgdGhlIGJyb3dzZXIgdW5sb2FkIGhhcHBlbnMKCQkJZGVsZXRlIGVbJ3JldHVyblZhbHVlJ107CgkJfQoJfTsKCSovCgoJLy8gLS0tIEpzVHJlZQoKCSQo'));
	@fwrite($fp, base64_decode('JyNvaWR0cmVlJykKCS5qc3RyZWUoewoJCXBsdWdpbnM6IFsnbWFzc2xvYWQnLCdzZWFyY2gnLCdjb25kaXRpb25hbHNlbGVjdCddLAoJCSdjb3JlJyA6IHsKCQkJJ2RhdGEnIDogewoJCQkJInVybCIgOiBnZXRUcmVlTG9hZFVSTCgpLAoJCQkJImRhdGEiIDogZnVu'));
	@fwrite($fp, base64_decode('Y3Rpb24gKG5vZGUpIHsKCQkJCQlyZXR1cm4geyAiaWQiIDogbm9kZS5pZCB9OwoJCQkJfQoJCQl9LAoJCQkibXVsdGlwbGUiOiBmYWxzZQoJCX0sCgkJJ2NvbmRpdGlvbmFsc2VsZWN0JyA6IGZ1bmN0aW9uIChub2RlKSB7CgkJCWlmIChub2RlLm9yaWdpbmFsLmNv'));
	@fwrite($fp, base64_decode('bmRpdGlvbmFsc2VsZWN0ICE9PSB1bmRlZmluZWQpIHsKCQkJCXJldHVybiBldmFsKG5vZGUub3JpZ2luYWwuY29uZGl0aW9uYWxzZWxlY3QpOwoJCQl9IGVsc2UgewoJCQkJcmV0dXJuIHBlcmZvcm1DbG9zZVF1ZXJ5Q0IoKTsKCQkJfQoJCX0sCgl9KQoJLm9uKCdy'));
	@fwrite($fp, base64_decode('ZWFkeS5qc3RyZWUnLCBmdW5jdGlvbiAoZSwgZGF0YSkgewoJCXZhciB1cmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsKCQl2YXIgZ290byA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KCJnb3RvIik7CgkJaWYgKGdvdG8gPT0gbnVsbCkgZ290byA9ICJv'));
	@fwrite($fp, base64_decode('aWRwbHVzOnN5c3RlbSI7IC8vIHRoZSBwYWdlIHdhcyBub3QgY2FsbGVkIHdpdGggP2dvdG89Li4uCgkJJCgiI2dvdG9lZGl0IikudmFsKGdvdG8pOwoKCQkvLyBCeSBzZXR0aW5nIGN1cnJlbnRfbm9kZSwgc2VsZWN0X25vZGUoKSB3aWxsIG5vdCBjYXVzZSBhamF4'));
	@fwrite($fp, base64_decode('LnBocD9hY3Rpb249Z2V0X2Rlc2NyaXB0aW9uIHRvIGxvYWQgKHNpbmNlIHdlIGFscmVhZHkgbG9hZGVkIHRoZSBmaXJzdCBzdGF0aWMgY29udGVudCB2aWEgUEhQLCBmb3Igc2VhcmNoIGVuZ2luZXMgbWFpbmx5KQoJCS8vIEJ1dCB0aGVuIHdlIG5lZWQgdG8gc2V0'));
	@fwrite($fp, base64_decode('IHRoZSBoaXN0b3J5IHN0YXRlIG1hbnVhbGx5CgkJY3VycmVudF9ub2RlID0gZ290bzsKCQl3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoewoJCQkibm9kZV9pZCI6Z290bywKCQkJInRpdGxlSFRNTCI6JCgnI3JlYWxfdGl0bGUnKS5odG1sKCksCgkJCSJ0ZXh0'));
	@fwrite($fp, base64_decode('SFRNTCI6JCgnI3JlYWxfY29udGVudCcpLmh0bWwoKSwKCQkJInN0YXRpY2xpbmtIUkVGIjoiaW5kZXgucGhwP2dvdG89IitlbmNvZGVVUklDb21wb25lbnQoZ290byksCgkJfSwgJCgnI3JlYWxfdGl0bGUnKS5odG1sKCksICI/Z290bz0iK2VuY29kZVVSSUNvbXBv'));
	@fwrite($fp, base64_decode('bmVudChnb3RvKSk7CgoJCWlmIChnb3RvICE9IG51bGwpIGRhdGEuaW5zdGFuY2Uuc2VsZWN0X25vZGUoW2dvdG9dKTsKCgkJc2V0VGltZW91dChnbGF5b3V0V29ya2Fyb3VuZEEsIDEwMCk7CgkJc2V0VGltZW91dChnbGF5b3V0V29ya2Fyb3VuZEIsIDEwMCk7Cgl9'));
	@fwrite($fp, base64_decode('KQoJLm9uKCdzZWxlY3Rfbm9kZS5qc3RyZWUnLCBmdW5jdGlvbiAobm9kZSwgc2VsZWN0ZWQsIGV2ZW50KSB7CgkJbW9iaWxlTmF2Q2xvc2UoKTsKCgkJdmFyIGlkID0gc2VsZWN0ZWQubm9kZS5pZDsKCQlpZiAoKCFwb3BzdGF0ZV9ydW5uaW5nKSAmJiAoY3VycmVu'));
	@fwrite($fp, base64_decode('dF9ub2RlICE9IGlkKSkgewoJCQkvLyA0dGggYXJndW1lbnQ6IHdlIGZvcmNlIHRoZSByZWxvYWQgKGJlY2F1c2UgaW4gdGhlCgkJCS8vIGNvbmRpdGlvbmFsIHNlbGVjdCBhYm92ZSwgd2UgYWxyZWFkeSBhc2tlZCBpZgoJCQkvLyB0aW55TUNFIG5lZWRzIHRvIGJl'));
	@fwrite($fp, base64_decode('IHNhdmVkKQoJCQlvcGVuT2lkSW5QYW5lbChpZCwgZmFsc2UsICcnLCB0cnVlKTsKCQl9Cgl9KTsKCgkvLyAtLS0gTGF5b3V0CgoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5c3RlbV90aXRsZV9tZW51Jykuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgoJdmFy'));
	@fwrite($fp, base64_decode('IHRtcE9iamVjdFRyZWUgPSBfTCgiT0JKRUNUIFRSRUUiKS5yZXBsYWNlKC8oLnsxfSkvZywiJDE8YnI+Iik7Cgl0bXBPYmplY3RUcmVlID0gdG1wT2JqZWN0VHJlZS5zdWJzdHJpbmcoMCwgdG1wT2JqZWN0VHJlZS5sZW5ndGgtIjxicj4iLmxlbmd0aCk7CgoJJCgn'));
	@fwrite($fp, base64_decode('I29pZHRyZWUnKS5hZGRDbGFzcygndWktbGF5b3V0LXdlc3QnKTsKCSQoJyNjb250ZW50X3dpbmRvdycpLmFkZENsYXNzKCd1aS1sYXlvdXQtY2VudGVyJyk7CgkkKCcjc3lzdGVtX3RpdGxlX2JhcicpLmFkZENsYXNzKCd1aS1sYXlvdXQtbm9ydGgnKTsKCWdsYXlv'));
	@fwrite($fp, base64_decode('dXQgPSAkKCcjZnJhbWVzJykubGF5b3V0KHsKCQlub3J0aF9fc2l6ZTogICAgICAgICAgICAgICAgICA0MCwKCQlub3J0aF9fc2xpZGFibGU6ICAgICAgICAgICAgICBmYWxzZSwKCQlub3J0aF9fY2xvc2FibGU6ICAgICAgICAgICAgICBmYWxzZSwKCQlub3J0aF9f'));
	@fwrite($fp, base64_decode('cmVzaXphYmxlOiAgICAgICAgICAgICBmYWxzZSwKCQl3ZXN0X19zaXplOiAgICAgICAgICAgICAgICAgICA0NTAsCgkJd2VzdF9fc3BhY2luZ19jbG9zZWQ6ICAgICAgICAgMjAsCgkJd2VzdF9fdG9nZ2xlckxlbmd0aF9jbG9zZWQ6ICAgMjMwLAoJCXdlc3RfX3Rv'));
	@fwrite($fp, base64_decode('Z2dsZXJBbGlnbl9jbG9zZWQ6ICAgICJ0b3AiLAoJCXdlc3RfX3RvZ2dsZXJDb250ZW50X2Nsb3NlZDogIHRtcE9iamVjdFRyZWUsCgkJd2VzdF9fdG9nZ2xlclRpcF9jbG9zZWQ6ICAgICAgX0woIk9wZW4gJiBQaW4gTWVudSIpLAoJCXdlc3RfX3NsaWRlclRpcDog'));
	@fwrite($fp, base64_decode('ICAgICAgICAgICAgIF9MKCJTbGlkZSBPcGVuIE1lbnUiKSwKCQl3ZXN0X19zbGlkZVRyaWdnZXJfb3BlbjogICAgICAibW91c2VvdmVyIiwKCQljZW50ZXJfX21hc2tDb250ZW50czogICAgICAgICB0cnVlIC8vIElNUE9SVEFOVCAtIGVuYWJsZSBpZnJhbWUgbWFz'));
	@fwrite($fp, base64_decode('a2luZwoJfSk7CgoJJCgiI2dvdG9ib3giKS5hZGRDbGFzcygibW9iaWxlaGlkZGVuIik7CgkkKCIjbGFuZ3VhZ2VCb3giKS5hZGRDbGFzcygibW9iaWxlaGlkZGVuIik7Cglkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ290b2JveCcpLnN0eWxlLmRpc3BsYXkgPSAi'));
	@fwrite($fp, base64_decode('YmxvY2siOwoJJCgnI2dvdG9lZGl0Jykua2V5cHJlc3MoZnVuY3Rpb24oZXZlbnQpIHsKCQl2YXIga2V5Y29kZSA9IChldmVudC5rZXlDb2RlID8gZXZlbnQua2V5Q29kZSA6IGV2ZW50LndoaWNoKTsKCQlpZiAoa2V5Y29kZSA9PSAnMTMnKSB7CgkJCWdvdG9CdXR0'));
	@fwrite($fp, base64_decode('b25DbGlja2VkKCk7CgkJfQoJfSk7Cn0pOwoKZnVuY3Rpb24gZ2xheW91dFdvcmthcm91bmRBKCkgewoJLy8gIkJ1ZyBBIjogU29tZXRpbWVzLCB0aGUgZGVzaWduIGlzIGNvbXBsZXRlbHkgZGVzdHJveWVkIGFmdGVyIHJlbG9hZGluZyB0aGUgcGFnZS4gSXQgZG9l'));
	@fwrite($fp, base64_decode('cyBub3QgaGVscCB3aGVuIGdsYXlvdXQucmVzaXplQWxsKCkKCS8vICAgICAgICAgIGlzIGNhbGxlZCBhdCB0aGUgYmVnaW5uaW5nIChlLmcuIGR1cmluZyB0aGUgcmVhZHkgZnVuY3Rpb24pLCBhbmQgaXQgZG9lcyBub3QgaGVscCBpZiB3ZSB3YWl0IDUwMG1zLgoJ'));
	@fwrite($fp, base64_decode('Ly8gICAgICAgICAgU28gd2UgZG8gaXQgYWxsIHRoZSB0aW1lLiBJdCBoYXMgcHJvYmFibHkgc29tZXRoaW5nIHRvIGRvIHdpdGggc2xvdyBsb2FkaW5nIHRpbWVzLCBzaW5jZSB0aGUgZXJyb3IKCS8vICAgICAgICAgIGRvZXMgb25seSBhcHBlYXIgd2hlbiB0aGUg'));
	@fwrite($fp, base64_decode('cGFnZSBpcyAiYmxhbmsiIGZvciBhIHNob3J0IHdoaWxlIHdoaWxlIGl0IGlzIGxvYWRpbmcuCglnbGF5b3V0LnJlc2l6ZUFsbCgpOwoJc2V0VGltZW91dChnbGF5b3V0V29ya2Fyb3VuZEEsIDEwMCk7CgoJLy8gIkJ1ZyBDIjogV2l0aCBGaXJlZm94IChBbmQgc29t'));
	@fwrite($fp, base64_decode('ZXRpbWVzIHdpdGggQ2hyb21lKSwgdGhlcmUgaXMgYSBnYXAgYmV0d2VlbiB0aGUgY29udGVudC13aW5kb3cgKGluY2x1ZGluZyBzY3JvbGwgYmFycykKCS8vICAgICAgICAgIGFuZCB0aGUgcmlnaHQgY29ybmVyIG9mIHRoZSBzY3JlZW4uIFJlbW92aW5nIHRoZSBl'));
	@fwrite($fp, base64_decode('eHBsaWNpdCB3aWR0aCBzb2x2ZXMgdGhpcyBwcm9ibGVtLgoJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImNvbnRlbnRfd2luZG93Iikuc3R5bGUucmVtb3ZlUHJvcGVydHkoIndpZHRoIik7Cn0KCmZ1bmN0aW9uIGdsYXlvdXRXb3JrYXJvdW5kQigpIHsKCS8vICJC'));
	@fwrite($fp, base64_decode('dWcgQiI6IFNvbWV0aW1lcywgYWZ0ZXIgcmVsb2FkLCB3ZWlyZCBzcGFjZSBiZXR3ZWVuIG9pZHRyZWUgYW5kIGNvbnRlbnQgd2luZG93LCBiZWNhdXNlIG9pZHRyZWUgaGFzIHNpemUgb2YgNDM4cHgKCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJvaWR0cmVlIiku'));
	@fwrite($fp, base64_decode('c3R5bGUud2lkdGggPSAiNDUwcHgiOwp9CgpmdW5jdGlvbiBtb2JpbGVOYXZDbG9zZSgpIHsKCWlmICgkKCIjc3lzdGVtX3RpdGxlX21lbnUiKS5pcygiOmhpZGRlbiIpKSB7CgkJcmV0dXJuOwoJfQoKCSQoIiNvaWR0cmVlIikuc2xpZGVVcCgibWVkaXVtIikucHJv'));
	@fwrite($fp, base64_decode('bWlzZSgpLmRvbmUoZnVuY3Rpb24oKSB7CgkJJCgiI29pZHRyZWUiKS5hZGRDbGFzcygidWktbGF5b3V0LXdlc3QiKTsKCQkkKCIjb2lkdHJlZSIpLnNob3coKTsKLy8JCSQoIiNnb3RvYm94IikuaGlkZSgpOwovLwkJJCgiI2xhbmd1YWdlQm94IikuaGlkZSgpOwoJ'));
	@fwrite($fp, base64_decode('CSQoIiNnb3RvYm94IikuYWRkQ2xhc3MoIm1vYmlsZWhpZGRlbiIpOwoJCSQoIiNsYW5ndWFnZUJveCIpLmFkZENsYXNzKCJtb2JpbGVoaWRkZW4iKTsKCX0pOwoJJCgiI3N5c3RlbV90aXRsZV9tZW51IikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOwp9CgpmdW5jdGlv'));
	@fwrite($fp, base64_decode('biBtb2JpbGVOYXZPcGVuKCkgewoJJCgiI29pZHRyZWUiKS5oaWRlKCk7CgkkKCIjb2lkdHJlZSIpLnJlbW92ZUNsYXNzKCJ1aS1sYXlvdXQtd2VzdCIpOwoJJCgiI29pZHRyZWUiKS5zbGlkZURvd24oIm1lZGl1bSIpOwovLwkkKCIjZ290b2JveCIpLnNob3coKTsK'));
	@fwrite($fp, base64_decode('Ly8JJCgiI2xhbmd1YWdlQm94Iikuc2hvdygpOwoJJCgiI2dvdG9ib3giKS5yZW1vdmVDbGFzcygibW9iaWxlaGlkZGVuIik7CgkkKCIjbGFuZ3VhZ2VCb3giKS5yZW1vdmVDbGFzcygibW9iaWxlaGlkZGVuIik7CgkkKCIjc3lzdGVtX3RpdGxlX21lbnUiKS5hZGRD'));
	@fwrite($fp, base64_decode('bGFzcygiYWN0aXZlIik7Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdkJ1dHRvbkNsaWNrKHNlbmRlcikgewoJaWYgKCQoIiNvaWR0cmVlIikuaGFzQ2xhc3MoInVpLWxheW91dC13ZXN0IikpIHsKCQltb2JpbGVOYXZPcGVuKCk7Cgl9IGVsc2UgewoJCW1vYmlsZU5hdkNs'));
	@fwrite($fp, base64_decode('b3NlKCk7Cgl9Cn0KCmZ1bmN0aW9uIG1vYmlsZU5hdkJ1dHRvbkhvdmVyKHNlbmRlcikgewoJc2VuZGVyLmNsYXNzTGlzdC50b2dnbGUoImhvdmVyIik7Cn0KCmZ1bmN0aW9uIGdvdG9CdXR0b25DbGlja2VkKCkgewoJb3Blbk9pZEluUGFuZWwoJCgiI2dvdG9lZGl0'));
	@fwrite($fp, base64_decode('IikudmFsKCksIDEpOwp9CgpmdW5jdGlvbiBqdW1wVG9BbmNob3IoYW5jaG9yKSB7Cgl3aW5kb3cubG9jYXRpb24uaHJlZiA9ICIjIiArIGFuY2hvcjsKfQoKZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKSB7CgkvLyBTb3VyY2U6IGh0dHBzOi8vd3d3Lnczc2Nob29s'));
	@fwrite($fp, base64_decode('cy5jb20vanMvanNfY29va2llcy5hc3AKCXZhciBuYW1lID0gY25hbWUgKyAiPSI7Cgl2YXIgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpOwoJdmFyIGNhID0gZGVjb2RlZENvb2tpZS5zcGxpdCgnOycpOwoJZm9yKHZh'));
	@fwrite($fp, base64_decode('ciBpID0gMDsgaSA8Y2EubGVuZ3RoOyBpKyspIHsKCQl2YXIgYyA9IGNhW2ldOwoJCXdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHsKCQkJYyA9IGMuc3Vic3RyaW5nKDEpOwoJCX0KCQlpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHsKCQkJcmV0dXJuIGMuc3Vi'));
	@fwrite($fp, base64_decode('c3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7CgkJfQoJfQoJcmV0dXJuIHVuZGVmaW5lZDsKfQoKZnVuY3Rpb24gc2V0Q29va2llKGNuYW1lLCBjdmFsdWUsIGV4ZGF5cywgcGF0aCkgewoJdmFyIGQgPSBuZXcgRGF0ZSgpOwoJZC5zZXRUaW1lKGQuZ2V0VGlt'));
	@fwrite($fp, base64_decode('ZSgpICsgKGV4ZGF5cyoyNCo2MCo2MCoxMDAwKSk7Cgl2YXIgZXhwaXJlcyA9IGV4ZGF5cyA9PSAwID8gIiIgOiAiOyBleHBpcmVzPSIrZC50b1VUQ1N0cmluZygpOwoJZG9jdW1lbnQuY29va2llID0gY25hbWUgKyAiPSIgKyBjdmFsdWUgKyBleHBpcmVzICsgIjtw'));
	@fwrite($fp, base64_decode('YXRoPSIgKyBwYXRoOwp9CgpmdW5jdGlvbiBzZXRMYW5ndWFnZShsbmdpZCkgewoJc2V0Q29va2llKCdMQU5HVUFHRScsIGxuZ2lkLCAwLypVbnRpbCBicm93c2VyIGNsb3NlcyovLCBsb2NhdGlvbi5wYXRobmFtZSk7CgoJJCgiLmxuZ19mbGFnIikuZWFjaChmdW5j'));
	@fwrite($fp, base64_decode('dGlvbigpewoJCSQodGhpcykuYWRkQ2xhc3MoInBpY3R1cmVfZ2hvc3QiKTsKCX0pOwoJJCgiI2xuZ19mbGFnXyIrbG5naWQpLnJlbW92ZUNsYXNzKCJwaWN0dXJlX2dob3N0Iik7CgoJaWYgKGlzSW50ZXJuZXRFeHBsb3JlcigpKSB7CgkJLy8gSW50ZXJuZXQgRXhw'));
	@fwrite($fp, base64_decode('bG9yZXIgaGFzIHByb2JsZW1zIHdpdGggc2VuZGluZyBuZXcgY29va2llcyB0byBuZXcgQUpBWCByZXF1ZXN0cywgc28gd2UgcmVsb2FkIHRoZSBwYWdlIGNvbXBsZXRlbHkKCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7Cgl9IGVsc2UgewoJCXJlbG9hZENvbnRl'));
	@fwrite($fp, base64_decode('bnQoKTsKCQltb2JpbGVOYXZDbG9zZSgpOwoJfQp9CgpmdW5jdGlvbiBnZXRDdXJyZW50TGFuZygpIHsKCS8vIE5vdGU6IElmIHRoZSBhcmd1bWVudCAiP2xhbmc9IiBpcyB1c2VkLCBQSFAgd2lsbCBhdXRvbWF0aWNhbGx5IHNldCBhIENvb2tpZSwgc28gaXQgaXMg'));
	@fwrite($fp, base64_decode('T0sgd2hlbiB3ZSBvbmx5IGNoZWNrIGZvciB0aGUgY29va2llCgl2YXIgbGFuZyA9IGdldENvb2tpZSgnTEFOR1VBR0UnKTsKCXJldHVybiAodHlwZW9mIGxhbmcgIT0gInVuZGVmaW5lZCIpID8gbGFuZyA6IERFRkFVTFRfTEFOR1VBR0U7Cn0KCmZ1bmN0aW9uIF9M'));
	@fwrite($fp, base64_decode('KCkgewoJdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwoJdmFyIHN0ciA9IGFyZ3Muc2hpZnQoKTsKCgl2YXIgdG1wID0gIiI7CglpZiAodHlwZW9mIGxhbmd1YWdlX21lc3NhZ2VzW2dldEN1cnJlbnRMYW5nKCldID09ICJ1'));
	@fwrite($fp, base64_decode('bmRlZmluZWQiKSB7CgkJdG1wID0gc3RyOwoJfSBlbHNlIHsKCQl2YXIgbXNnID0gbGFuZ3VhZ2VfbWVzc2FnZXNbZ2V0Q3VycmVudExhbmcoKV1bc3RyXTsKCQlpZiAodHlwZW9mIG1zZyAhPSAidW5kZWZpbmVkIikgewoJCQl0bXAgPSBtc2c7CgkJfSBlbHNlIHsK'));
	@fwrite($fp, base64_decode('CQkJdG1wID0gc3RyOwoJCX0KCX0KCgl0bXAgPSB0bXAucmVwbGFjZSgnIyMjJywgbGFuZ3VhZ2VfdGJscHJlZml4KTsKCgl2YXIgbiA9IDE7Cgl3aGlsZSAoYXJncy5sZW5ndGggPiAwKSB7CgkJdmFyIHZhbCA9IGFyZ3Muc2hpZnQoKTsKCQl0bXAgPSB0bXAucmVw'));
	@fwrite($fp, base64_decode('bGFjZSgiJSIrbiwgdmFsKTsKCQluKys7Cgl9CgoJdG1wID0gdG1wLnJlcGxhY2UoIiUlIiwgIiUiKTsKCglyZXR1cm4gdG1wOwp9Cg=='));
	@fclose($fp);
}
if (!is_file('includes/oidplus_base.js')) {
	warn('File has vanished! Will re-create it: includes/oidplus_base.js');
	writefile_1();
	if (!is_file('includes/oidplus_base.js')) {
		warn('File cannot be created (not existing): includes/oidplus_base.js');
	} else if (sha1_file('includes/oidplus_base.js') != 'be039560f844c7bee8c15381f230d1abae55c6da') {
		warn('File cannot be created (checksum mismatch): includes/oidplus_base.js');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('includes/oidplus_base.js', 0644)) {
		warn('Could not change file permissions of includes/oidplus_base.js');
	}
} else {
	if (@sha1_file('includes/oidplus_base.js') !== 'be039560f844c7bee8c15381f230d1abae55c6da') {
		if (@sha1_file('includes/oidplus_base.js') !== '7fc4dd5e732e87fdafcfcf809cc6794c0ecc4e37') {
			warn('File was modified. Will overwrite the changes now: includes/oidplus_base.js');
			$tmp = pathinfo('includes/oidplus_base.js');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('includes/oidplus_base.js')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('includes/oidplus_base.js', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_1();
		if (@sha1_file('includes/oidplus_base.js') !== 'be039560f844c7bee8c15381f230d1abae55c6da') {
			warn('File cannot be written (checksum mismatch): includes/oidplus_base.js');
		}
	}
}

// Files different: plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php
function writefile_2() {
	@$fp = fopen('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php', 'w');
	@fwrite($fp, base64_decode('PD9waHAKCi8qCiAqIE9JRHBsdXMgMi4wCiAqIENvcHlyaWdodCAyMDE5IERhbmllbCBNYXJzY2hhbGwsIFZpYVRoaW5rU29mdAogKgogKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKICogeW91'));
	@fwrite($fp, base64_decode('IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKICoKICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNF'));
	@fwrite($fp, base64_decode('TlNFLTIuMAogKgogKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMs'));
	@fwrite($fp, base64_decode('CiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCiAq'));
	@fwrite($fp, base64_decode('IGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgogKi8KCmNsYXNzIE9JRHBsdXNQYWdlQWRtaW5XZWxsS25vd25PSURzIGV4dGVuZHMgT0lEcGx1c1BhZ2VQbHVnaW5BZG1pbiB7CgoJcHVibGljIGZ1bmN0aW9uIGluaXQoJGh0bWw9dHJ1ZSkgewoJCS8vIE5v'));
	@fwrite($fp, base64_decode('dGhpbmcKCX0KCglwdWJsaWMgZnVuY3Rpb24gZ3VpKCRpZCwgJiRvdXQsICYkaGFuZGxlZCkgewoJCWlmICgkaWQgPT09ICdvaWRwbHVzOndlbGxfa25vd25fb2lkcycpIHsKCQkJJGhhbmRsZWQgPSB0cnVlOwoJCQkkb3V0Wyd0aXRsZSddID0gX0woJ1dlbGwga25v'));
	@fwrite($fp, base64_decode('d24gT0lEcycpOwoJCQkkb3V0WydpY29uJ10gPSBmaWxlX2V4aXN0cyhfX0RJUl9fLicvaWNvbl9iaWcucG5nJykgPyBPSURwbHVzOjp3ZWJwYXRoKF9fRElSX18pLidpY29uX2JpZy5wbmcnIDogJyc7CgoJCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0Fk'));
	@fwrite($fp, base64_decode('bWluTG9nZ2VkSW4oKSkgewoJCQkJJG91dFsnaWNvbiddID0gJ2ltZy9lcnJvcl9iaWcucG5nJzsKCQkJCSRvdXRbJ3RleHQnXSA9ICc8cD4nLl9MKCdZb3UgbmVlZCB0byA8YSAlMT5sb2cgaW48L2E+IGFzIGFkbWluaXN0cmF0b3IuJyxPSURwbHVzOjpndWkoKS0+'));
	@fwrite($fp, base64_decode('bGluaygnb2lkcGx1czpsb2dpbicpKS4nPC9wPic7CgkJCQlyZXR1cm47CgkJCX0KCgkJCSRvdXRbJ3RleHQnXSA9ICcnOwoKCQkJJG91dFsndGV4dCddIC49ICc8cD4nLl9MKCdXZWxsLWtub3duIE9JRHMgYXJlIE9JRHMgb2YgUmVnaXN0cmF0aW9uIEF1dGhvcml0'));
	@fwrite($fp, base64_decode('aWVzIHdoaWNoIGFyZSBhc3NpZ25pbmcgT0lEcyB0byBjdXN0b21lcnMsIGkuZS4gdGhleSBhcmUgbW9zdCBsaWtlbHkgdG8gYmUgdXNlZCBieSBPSURwbHVzIHVzZXJzIGFzIHRoZWlyIHJvb3QgT0lELiBXZWxsLWtub3duIE9JRHMgaGF2ZSB0aGUgZm9sbG93aW5n'));
	@fwrite($fp, base64_decode('IHB1cnBvc2VzOicpLic8b2w+JzsKCQkJJG91dFsndGV4dCddIC49ICc8bGk+Jy5fTCgnV2hlbiBhIG5ldyBPSURwbHVzIHVzZXIgY3JlYXRlcyBoaXMgcm9vdCBPSUQgaW50byBPSURwbHVzLCB0aGVuIHRoZSBBU04uMSBpZGVudGlmaWVycyBhbmQgVW5pY29kZSBs'));
	@fwrite($fp, base64_decode('YWJlbHMgb2YgdGhlIHN1cGVyaW9yIE9JRHMgYXJlIGF1dG9tYXRpY2FsbHkgYWRkZWQuJykuJzwvbGk+JzsKCQkJJG91dFsndGV4dCddIC49ICc8bGk+Jy5fTCgnSW4gdGhlIGF1dG9tYXRpYyBvaWQtaW5mby5jb20gcHVibGlzaGluZywgd2VsbC1rbm93biBPSURz'));
	@fwrite($fp, base64_decode('IHdpbGwgbm90IGJlIHRyYW5zbWl0dGVkIChiZWNhdXNlIGl0IGlzIHVubGlrZWx5IHRoYXQgUkFzIG9mIHdlbGwta25vd24gT0lEcyB3aWxsIGJlIHVzaW5nIE9JRHBsdXMgaW4gY29tYmluYXRpb24gd2l0aCBhdXRvbWF0aWMgcHVibGlzaGluZyB0byBvaWQtaW5m'));
	@fwrite($fp, base64_decode('by5jb20pLiBJbnN0ZWFkLCBhbGwgY2hpbGRyZW4gaW5zaWRlIHRoZXNlIHdlbGwta25vd24gT0lEcyBhcmUgbW9zdCBsaWtlbHkgdG8gYmUgeW91cnMsIHNvIHRoZXNlIHdpbGwgYmUgcmVwb3J0ZWQgdG8gb2lkLWluZm8uY29tIGluc3RlYWQuJykuJzwvbGk+JzsK'));
	@fwrite($fp, base64_decode('CQkJLy8gJG91dFsndGV4dCddIC49ICc8bGk+Jy5fTCgnSW4gT0lELVdIT0lTLCBpZiBhIHVzZXIgcmVxdWVzdHMgaW5mb3JtYXRpb24gYWJvdXQgYW4gdW5rbm93biBPSUQgd2hpY2ggaXMgaW5zaWRlIGEgd2VsbC1rbm93biBPSUQsIHRoZW4gT0lELVdIT0lTIHdp'));
	@fwrite($fp, base64_decode('bGwgb3V0cHV0IGluZm9ybWF0aW9uIGF0IHdoaWNoIHBsYWNlIG1vcmUgaW5mb3JtYXRpb24gY2FuIGJlIHJldHJpZXZlZCBmcm9tLicpLic8L2xpPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPC9vbD48L3A+JzsKCgkJCSRvdXRbJ3RleHQnXSAuPSAnPHA+PGFiYnIg'));
	@fwrite($fp, base64_decode('dGl0bGU9IicuX0woJ1RoZXNlIElEIG5hbWVzIGNhbiBvbmx5IGJlIGVkaXRlZCBpbiB0aGUgZGF0YWJhc2UgZGlyZWN0bHkgKFRhYmxlcyAjIyNhc24xaWQgYW5kICMjI2lyaSkuIFVzdWFsbHksIHRoZXJlIGlzIG5vIG5lZWQgdG8gZG8gdGhpcywgdGhvdWdoLicp'));
	@fwrite($fp, base64_decode('LiciPicuX0woJ0hvdyB0byBlZGl0IHRoZXNlIElEcz8nKS4nPC9hYmJyPjwvcD4nOwoKCQkJJG91dFsndGV4dCddIC49ICc8ZGl2IGNsYXNzPSJjb250YWluZXIgYm94Ij48ZGl2IGlkPSJzdWJvaWRfdGFibGUiIGNsYXNzPSJ0YWJsZS1yZXNwb25zaXZlIj4nOwoJ'));
	@fwrite($fp, base64_decode('CQkkb3V0Wyd0ZXh0J10gLj0gJzx0YWJsZSBjbGFzcz0idGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtc3RyaXBlZCI+JzsKCQkJJG91dFsndGV4dCddIC49ICcJPHRyPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCSAgICAgPHRoPicuX0woJ09JRCcpLic8L3RoPic7'));
	@fwrite($fp, base64_decode('CgkJCSRvdXRbJ3RleHQnXSAuPSAnCSAgICAgPHRoPicuX0woJ0FTTi4xIGlkZW50aWZpZXJzIChjb21tYSBzZXAuKScpLic8L3RoPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnCSAgICAgPHRoPicuX0woJ0lSSSBpZGVudGlmaWVycyAoY29tbWEgc2VwLiknKS4nPC90'));
	@fwrite($fp, base64_decode('aD4nOwoJCQkkb3V0Wyd0ZXh0J10gLj0gJwk8L3RyPic7CgoJCQkvKgoJCQkkcmVzID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVjdCBhLm9pZCBmcm9tICgiLgoJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNlbGVjdCBvaWQgZnJvbSAjIyNhc24x'));
	@fwrite($fp, base64_decode('aWQgd2hlcmUgd2VsbF9rbm93biA9ID8gdW5pb24gIi4KCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZWxlY3Qgb2lkIGZyb20gIyMjaXJpIHdoZXJlIHdlbGxfa25vd24gPSA/KSBhICIuCgkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAib3Jk'));
	@fwrite($fp, base64_decode('ZXIgYnkgIi5PSURwbHVzOjpkYigpLT5uYXRPcmRlcignb2lkJyksIGFycmF5KHRydWUsIHRydWUpKTsgLy8gPC0tIFRoaXMgcHJlcGFyZWQgc3RhdGVtZW50IGRvZXMgbm90IHdvcmsgaW4gU1FMLVNlcnZlciEKCQkJKi8KCQkJJHJlcyA9IE9JRHBsdXM6OmRiKCkt'));
	@fwrite($fp, base64_decode('PnF1ZXJ5KCJzZWxlY3QgYS5vaWQgZnJvbSAoIi4KCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzZWxlY3Qgb2lkLCB3ZWxsX2tub3duIGZyb20gIyMjYXNuMWlkIHVuaW9uICIuCgkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2VsZWN0IG9p'));
	@fwrite($fp, base64_decode('ZCwgd2VsbF9rbm93biBmcm9tICMjI2lyaSkgYSAiLgoJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIndoZXJlIGEud2VsbF9rbm93biA9ID8gIi4KCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICJvcmRlciBieSAiLk9JRHBsdXM6OmRiKCktPm5h'));
	@fwrite($fp, base64_decode('dE9yZGVyKCdvaWQnKSwgYXJyYXkodHJ1ZSkpOyAvLyA8LS0gVGhpcyB3b3JrcwoJCQl3aGlsZSAoJHJvdyA9ICRyZXMtPmZldGNoX2FycmF5KCkpIHsKCQkJCSRhc24xaWRzID0gYXJyYXkoKTsKCQkJCSRyZXMyID0gT0lEcGx1czo6ZGIoKS0+cXVlcnkoInNlbGVj'));
	@fwrite($fp, base64_decode('dCBuYW1lLCBzdGFuZGFyZGl6ZWQgZnJvbSAjIyNhc24xaWQgd2hlcmUgb2lkID0gPyIsIGFycmF5KCRyb3dbJ29pZCddKSk7CgkJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJCSRhc24xaWRzW10gPSAkcm93MlsnbmFtZSddLigk'));
	@fwrite($fp, base64_decode('cm93Mlsnc3RhbmRhcmRpemVkJ10gPyAnICgnLl9MKCdzdGFuZGFyZGl6ZWQnKS4nKScgOiAnJyk7CgkJCQl9CgoJCQkJJGlyaXMgPSBhcnJheSgpOwoJCQkJJHJlczIgPSBPSURwbHVzOjpkYigpLT5xdWVyeSgic2VsZWN0IG5hbWUsIGxvbmdhcmMgZnJvbSAjIyNp'));
	@fwrite($fp, base64_decode('cmkgd2hlcmUgb2lkID0gPyIsIGFycmF5KCRyb3dbJ29pZCddKSk7CgkJCQl3aGlsZSAoJHJvdzIgPSAkcmVzMi0+ZmV0Y2hfYXJyYXkoKSkgewoJCQkJCSRpcmlzW10gPSAkcm93MlsnbmFtZSddLigkcm93MlsnbG9uZ2FyYyddID8gJyAoJy5fTCgnbG9uZyBhcmMn'));
	@fwrite($fp, base64_decode('KS4nKScgOiAnJyk7CgkJCQl9CgoJCQkJJG91dFsndGV4dCddIC49ICc8dHI+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnICAgICA8dGQ+Jy5odG1sZW50aXRpZXMoZXhwbG9kZSgnOicsJHJvd1snb2lkJ10pWzFdKS4nPC90ZD4nOwoJCQkJJG91dFsndGV4dCddIC49'));
	@fwrite($fp, base64_decode('ICcgICAgIDx0ZD4nLmh0bWxlbnRpdGllcyhpbXBsb2RlKCcsICcsICRhc24xaWRzKSkuJzwvdGQ+JzsKCQkJCSRvdXRbJ3RleHQnXSAuPSAnICAgICA8dGQ+Jy5odG1sZW50aXRpZXMoaW1wbG9kZSgnLCAnLCAkaXJpcykpLic8L3RkPic7CgkJCQkkb3V0Wyd0ZXh0'));
	@fwrite($fp, base64_decode('J10gLj0gJzwvdHI+JzsKCQkJfQoKCQkJJG91dFsndGV4dCddIC49ICc8L3RhYmxlPic7CgkJCSRvdXRbJ3RleHQnXSAuPSAnPC9kaXY+PC9kaXY+JzsKCQl9Cgl9CgoJcHVibGljIGZ1bmN0aW9uIHRyZWUoJiRqc29uLCAkcmFfZW1haWw9bnVsbCwgJG5vbmpzPWZh'));
	@fwrite($fp, base64_decode('bHNlLCAkcmVxX2dvdG89JycpIHsKCQlpZiAoIU9JRHBsdXM6OmF1dGhVdGlscygpOjppc0FkbWluTG9nZ2VkSW4oKSkgcmV0dXJuIGZhbHNlOwoKCQlpZiAoZmlsZV9leGlzdHMoX19ESVJfXy4nL3RyZWVpY29uLnBuZycpKSB7CgkJCSR0cmVlX2ljb24gPSBPSURw'));
	@fwrite($fp, base64_decode('bHVzOjp3ZWJwYXRoKF9fRElSX18pLid0cmVlaWNvbi5wbmcnOwoJCX0gZWxzZSB7CgkJCSR0cmVlX2ljb24gPSBudWxsOyAvLyBkZWZhdWx0IGljb24gKGZvbGRlcikKCQl9CgoJCSRqc29uW10gPSBhcnJheSgKCQkJJ2lkJyA9PiAnb2lkcGx1czp3ZWxsX2tub3du'));
	@fwrite($fp, base64_decode('X29pZHMnLAoJCQknaWNvbicgPT4gJHRyZWVfaWNvbiwKCQkJJ3RleHQnID0+IF9MKCdXZWxsIGtub3duIE9JRHMnKQoJCSk7CgoJCXJldHVybiB0cnVlOwoJfQoKCXB1YmxpYyBmdW5jdGlvbiB0cmVlX3NlYXJjaCgkcmVxdWVzdCkgewoJCXJldHVybiBmYWxzZTsK'));
	@fwrite($fp, base64_decode('CX0KfQo='));
	@fclose($fp);
}
if (!is_file('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php')) {
	warn('File has vanished! Will re-create it: plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php');
	writefile_2();
	if (!is_file('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php')) {
		warn('File cannot be created (not existing): plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php');
	} else if (sha1_file('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php') != '86fb4de16401f222dd47681960a6089e31682c42') {
		warn('File cannot be created (checksum mismatch): plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php');
	} else if ((DIRECTORY_SEPARATOR === '/') && !@chmod('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php', 0644)) {
		warn('Could not change file permissions of plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php');
	}
} else {
	if (@sha1_file('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php') !== '86fb4de16401f222dd47681960a6089e31682c42') {
		if (@sha1_file('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php') !== '3fe3f26d0113494354a2aa0b0b1555f9aea8f5f6') {
			warn('File was modified. Will overwrite the changes now: plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php');
			$tmp = pathinfo('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php');
			$backup_name = $tmp['dirname'].DIRECTORY_SEPARATOR.$tmp['filename'].'.'.date('Ymdhis',@filemtime('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php')).(isset($tmp['extension']) ? '.'.$tmp['extension'] : '');
			warn('Creating a backup as '.$backup_name);
			if (!@copy('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php', $backup_name)) {
				warn('Creation of backup failed');
			}
		}
		writefile_2();
		if (@sha1_file('plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php') !== '86fb4de16401f222dd47681960a6089e31682c42') {
			warn('File cannot be written (checksum mismatch): plugins/adminPages/100_wellknown_oids/OIDplusPageAdminWellKnownOIDs.class.php');
		}
	}
}


file_put_contents('oidplus_version.txt', "Revision 450\n");
if (trim(@file_get_contents('oidplus_version.txt')) !== 'Revision 450') err('Could not write to oidplus_version.txt!');


echo 'DONE'; // This exact string will be compared in Update v3

@unlink(__FILE__);
if (is_file(__FILE__)) warn('Could not delete '.basename(__FILE__).'! Please delete it manually');

